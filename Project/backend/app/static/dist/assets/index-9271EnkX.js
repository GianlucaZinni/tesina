function eD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Yx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hy={exports:{}},nu={},fy={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function tD(){if(dS)return ut;dS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(N){return N===null||typeof N!="object"?null:(N=f&&N[f]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function S(N,L,re){this.props=N,this.context=L,this.refs=w,this.updater=re||y}S.prototype.isReactComponent={},S.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},S.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function b(){}b.prototype=S.prototype;function R(N,L,re){this.props=N,this.context=L,this.refs=w,this.updater=re||y}var T=R.prototype=new b;T.constructor=R,v(T,S.prototype),T.isPureReactComponent=!0;var P=Array.isArray,k=Object.prototype.hasOwnProperty,M={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function I(N,L,re){var ie,ce={},ge=null,ae=null;if(L!=null)for(ie in L.ref!==void 0&&(ae=L.ref),L.key!==void 0&&(ge=""+L.key),L)k.call(L,ie)&&!F.hasOwnProperty(ie)&&(ce[ie]=L[ie]);var pe=arguments.length-2;if(pe===1)ce.children=re;else if(1<pe){for(var we=Array(pe),be=0;be<pe;be++)we[be]=arguments[be+2];ce.children=we}if(N&&N.defaultProps)for(ie in pe=N.defaultProps,pe)ce[ie]===void 0&&(ce[ie]=pe[ie]);return{$$typeof:t,type:N,key:ge,ref:ae,props:ce,_owner:M.current}}function z(N,L){return{$$typeof:t,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function G(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function V(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(re){return L[re]})}var H=/\/+/g;function B(N,L){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):L.toString(36)}function X(N,L,re,ie,ce){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var ae=!1;if(N===null)ae=!0;else switch(ge){case"string":case"number":ae=!0;break;case"object":switch(N.$$typeof){case t:case e:ae=!0}}if(ae)return ae=N,ce=ce(ae),N=ie===""?"."+B(ae,0):ie,P(ce)?(re="",N!=null&&(re=N.replace(H,"$&/")+"/"),X(ce,L,re,"",function(be){return be})):ce!=null&&(G(ce)&&(ce=z(ce,re+(!ce.key||ae&&ae.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+N)),L.push(ce)),1;if(ae=0,ie=ie===""?".":ie+":",P(N))for(var pe=0;pe<N.length;pe++){ge=N[pe];var we=ie+B(ge,pe);ae+=X(ge,L,re,we,ce)}else if(we=p(N),typeof we=="function")for(N=we.call(N),pe=0;!(ge=N.next()).done;)ge=ge.value,we=ie+B(ge,pe++),ae+=X(ge,L,re,we,ce);else if(ge==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ae}function Z(N,L,re){if(N==null)return N;var ie=[],ce=0;return X(N,ie,"","",function(ge){return L.call(re,ge,ce++)}),ie}function Y(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(re){(N._status===0||N._status===-1)&&(N._status=1,N._result=re)},function(re){(N._status===0||N._status===-1)&&(N._status=2,N._result=re)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var D={current:null},j={transition:null},U={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:M};function q(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:Z,forEach:function(N,L,re){Z(N,function(){L.apply(this,arguments)},re)},count:function(N){var L=0;return Z(N,function(){L++}),L},toArray:function(N){return Z(N,function(L){return L})||[]},only:function(N){if(!G(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ut.Component=S,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=R,ut.StrictMode=r,ut.Suspense=c,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,ut.act=q,ut.cloneElement=function(N,L,re){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ie=v({},N.props),ce=N.key,ge=N.ref,ae=N._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,ae=M.current),L.key!==void 0&&(ce=""+L.key),N.type&&N.type.defaultProps)var pe=N.type.defaultProps;for(we in L)k.call(L,we)&&!F.hasOwnProperty(we)&&(ie[we]=L[we]===void 0&&pe!==void 0?pe[we]:L[we])}var we=arguments.length-2;if(we===1)ie.children=re;else if(1<we){pe=Array(we);for(var be=0;be<we;be++)pe[be]=arguments[be+2];ie.children=pe}return{$$typeof:t,type:N.type,key:ce,ref:ge,props:ie,_owner:ae}},ut.createContext=function(N){return N={$$typeof:o,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},ut.createElement=I,ut.createFactory=function(N){var L=I.bind(null,N);return L.type=N,L},ut.createRef=function(){return{current:null}},ut.forwardRef=function(N){return{$$typeof:l,render:N}},ut.isValidElement=G,ut.lazy=function(N){return{$$typeof:h,_payload:{_status:-1,_result:N},_init:Y}},ut.memo=function(N,L){return{$$typeof:d,type:N,compare:L===void 0?null:L}},ut.startTransition=function(N){var L=j.transition;j.transition={};try{N()}finally{j.transition=L}},ut.unstable_act=q,ut.useCallback=function(N,L){return D.current.useCallback(N,L)},ut.useContext=function(N){return D.current.useContext(N)},ut.useDebugValue=function(){},ut.useDeferredValue=function(N){return D.current.useDeferredValue(N)},ut.useEffect=function(N,L){return D.current.useEffect(N,L)},ut.useId=function(){return D.current.useId()},ut.useImperativeHandle=function(N,L,re){return D.current.useImperativeHandle(N,L,re)},ut.useInsertionEffect=function(N,L){return D.current.useInsertionEffect(N,L)},ut.useLayoutEffect=function(N,L){return D.current.useLayoutEffect(N,L)},ut.useMemo=function(N,L){return D.current.useMemo(N,L)},ut.useReducer=function(N,L,re){return D.current.useReducer(N,L,re)},ut.useRef=function(N){return D.current.useRef(N)},ut.useState=function(N){return D.current.useState(N)},ut.useSyncExternalStore=function(N,L,re){return D.current.useSyncExternalStore(N,L,re)},ut.useTransition=function(){return D.current.useTransition()},ut.version="18.3.1",ut}var hS;function Zx(){return hS||(hS=1,fy.exports=tD()),fy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function nD(){if(fS)return nu;fS=1;var t=Zx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,f={},p=null,y=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:p,ref:y,props:f,_owner:i.current}}return nu.Fragment=n,nu.jsx=o,nu.jsxs=o,nu}var mS;function rD(){return mS||(mS=1,hy.exports=nD()),hy.exports}var g=rD(),_=Zx();const le=Yx(_),mT=eD({__proto__:null,default:le},[_]);var Bh={},my={exports:{}},wr={},gy={exports:{}},py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function iD(){return gS||(gS=1,function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var N=q-1>>>1,L=j[N];if(0<i(L,U))j[N]=U,j[q]=L,q=N;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var N=0,L=j.length,re=L>>>1;N<re;){var ie=2*(N+1)-1,ce=j[ie],ge=ie+1,ae=j[ge];if(0>i(ce,q))ge<L&&0>i(ae,ce)?(j[N]=ae,j[ge]=q,N=ge):(j[N]=ce,j[ie]=q,N=ie);else if(ge<L&&0>i(ae,q))j[N]=ae,j[ge]=q,N=ge;else break e}}return U}function i(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,y=!1,v=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=j)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function P(j){if(w=!1,T(j),!v)if(n(c)!==null)v=!0,Y(k);else{var U=n(d);U!==null&&D(P,U.startTime-j)}}function k(j,U){v=!1,w&&(w=!1,b(I),I=-1),y=!0;var q=p;try{for(T(U),f=n(c);f!==null&&(!(f.expirationTime>U)||j&&!V());){var N=f.callback;if(typeof N=="function"){f.callback=null,p=f.priorityLevel;var L=N(f.expirationTime<=U);U=t.unstable_now(),typeof L=="function"?f.callback=L:f===n(c)&&r(c),T(U)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var ie=n(d);ie!==null&&D(P,ie.startTime-U),re=!1}return re}finally{f=null,p=q,y=!1}}var M=!1,F=null,I=-1,z=5,G=-1;function V(){return!(t.unstable_now()-G<z)}function H(){if(F!==null){var j=t.unstable_now();G=j;var U=!0;try{U=F(!0,j)}finally{U?B():(M=!1,F=null)}}else M=!1}var B;if(typeof R=="function")B=function(){R(H)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=H,B=function(){Z.postMessage(null)}}else B=function(){S(H,0)};function Y(j){F=j,M||(M=!0,B())}function D(j,U){I=S(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Y(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var q=p;p=U;try{return j()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return U()}finally{p=q}},t.unstable_scheduleCallback=function(j,U,q){var N=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?N+q:N):q=N,j){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,j={id:h++,callback:U,priorityLevel:j,startTime:q,expirationTime:L,sortIndex:-1},q>N?(j.sortIndex=q,e(d,j),n(c)===null&&j===n(d)&&(w?(b(I),I=-1):w=!0,D(P,q-N))):(j.sortIndex=L,e(c,j),v||y||(v=!0,Y(k))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var U=p;return function(){var q=p;p=U;try{return j.apply(this,arguments)}finally{p=q}}}}(py)),py}var pS;function sD(){return pS||(pS=1,gy.exports=iD()),gy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function oD(){if(yS)return wr;yS=1;var t=Zx(),e=sD();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(a){return c.call(f,a)?!0:c.call(h,a)?!1:d.test(a)?f[a]=!0:(h[a]=!0,!1)}function y(a,u,m,x){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function v(a,u,m,x){if(u===null||typeof u>"u"||y(a,u,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(a,u,m,x,C,E,A){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=m,this.propertyName=a,this.type=u,this.sanitizeURL=E,this.removeEmptyString=A}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){S[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];S[u]=new w(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){S[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){S[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){S[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){S[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){S[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){S[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){S[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(b,R);S[u]=new w(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(b,R);S[u]=new w(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(b,R);S[u]=new w(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){S[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){S[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,u,m,x){var C=S.hasOwnProperty(u)?S[u]:null;(C!==null?C.type!==0:x||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(v(u,m,C,x)&&(m=null),x||C===null?p(u)&&(m===null?a.removeAttribute(u):a.setAttribute(u,""+m)):C.mustUseProperty?a[C.propertyName]=m===null?C.type===3?!1:"":m:(u=C.attributeName,x=C.attributeNamespace,m===null?a.removeAttribute(u):(C=C.type,m=C===3||C===4&&m===!0?"":""+m,x?a.setAttributeNS(x,u,m):a.setAttribute(u,m))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),M=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),V=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),j=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var q=Object.assign,N;function L(a){if(N===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);N=u&&u[1]||""}return`
`+N+a}var re=!1;function ie(a,u){if(!a||re)return"";re=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ne){var x=ne}Reflect.construct(a,[],u)}else{try{u.call()}catch(ne){x=ne}a.call(u.prototype)}else{try{throw Error()}catch(ne){x=ne}a()}}catch(ne){if(ne&&x&&typeof ne.stack=="string"){for(var C=ne.stack.split(`
`),E=x.stack.split(`
`),A=C.length-1,O=E.length-1;1<=A&&0<=O&&C[A]!==E[O];)O--;for(;1<=A&&0<=O;A--,O--)if(C[A]!==E[O]){if(A!==1||O!==1)do if(A--,O--,0>O||C[A]!==E[O]){var W=`
`+C[A].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=A&&0<=O);break}}}finally{re=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?L(a):""}function ce(a){switch(a.tag){case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return a=ie(a.type,!1),a;case 11:return a=ie(a.type.render,!1),a;case 1:return a=ie(a.type,!0),a;default:return""}}function ge(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case M:return"Portal";case z:return"Profiler";case I:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case G:return(a._context.displayName||"Context")+".Provider";case H:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Z:return u=a.displayName||null,u!==null?u:ge(a.type)||"Memo";case Y:u=a._payload,a=a._init;try{return ge(a(u))}catch{}}return null}function ae(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function pe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function we(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function be(a){var u=we(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),x=""+a[u];if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,E=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return C.call(this)},set:function(A){x=""+A,E.call(this,A)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function $e(a){a._valueTracker||(a._valueTracker=be(a))}function Ve(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var m=u.getValue(),x="";return a&&(x=we(a)?a.checked?"true":"false":a.value),a=x,a!==m?(u.setValue(a),!0):!1}function yt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function mt(a,u){var m=u.checked;return q({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Ut(a,u){var m=u.defaultValue==null?"":u.defaultValue,x=u.checked!=null?u.checked:u.defaultChecked;m=pe(u.value!=null?u.value:m),a._wrapperState={initialChecked:x,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Lt(a,u){u=u.checked,u!=null&&T(a,"checked",u,!1)}function Dt(a,u){Lt(a,u);var m=pe(u.value),x=u.type;if(m!=null)x==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(x==="submit"||x==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?lt(a,u.type,m):u.hasOwnProperty("defaultValue")&&lt(a,u.type,pe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Vn(a,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var x=u.type;if(!(x!=="submit"&&x!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,m||u===a.value||(a.value=u),a.defaultValue=u}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function lt(a,u,m){(u!=="number"||yt(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var $=Array.isArray;function J(a,u,m,x){if(a=a.options,u){u={};for(var C=0;C<m.length;C++)u["$"+m[C]]=!0;for(m=0;m<a.length;m++)C=u.hasOwnProperty("$"+a[m].value),a[m].selected!==C&&(a[m].selected=C),C&&x&&(a[m].defaultSelected=!0)}else{for(m=""+pe(m),u=null,C=0;C<a.length;C++){if(a[C].value===m){a[C].selected=!0,x&&(a[C].defaultSelected=!0);return}u!==null||a[C].disabled||(u=a[C])}u!==null&&(u.selected=!0)}}function te(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function fe(a,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if($(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}a._wrapperState={initialValue:pe(m)}}function he(a,u){var m=pe(u.value),x=pe(u.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),u.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),x!=null&&(a.defaultValue=""+x)}function se(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function ye(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?ye(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ze,xt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,x,C){MSApp.execUnsafeLocalFunction(function(){return a(u,m,x,C)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ze.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Ot(a,u){if(u){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=u;return}}a.textContent=u}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zn=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(a){zn.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),ft[u]=ft[a]})});function kr(a,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||ft.hasOwnProperty(a)&&ft[a]?(""+u).trim():u+"px"}function Ar(a,u){a=a.style;for(var m in u)if(u.hasOwnProperty(m)){var x=m.indexOf("--")===0,C=kr(m,u[m],x);m==="float"&&(m="cssFloat"),x?a.setProperty(m,C):a[m]=C}}var Ie=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(a,u){if(u){if(Ie[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function vt(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function Vt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Wt=null,Jt=null,Qt=null;function St(a){if(a=$c(a)){if(typeof Wt!="function")throw Error(n(280));var u=a.stateNode;u&&(u=rh(u),Wt(a.stateNode,a.type,u))}}function Ye(a){Jt?Qt?Qt.push(a):Qt=[a]:Jt=a}function ct(){if(Jt){var a=Jt,u=Qt;if(Qt=Jt=null,St(a),u)for(a=0;a<u.length;a++)St(u[a])}}function Be(a,u){return a(u)}function Tt(){}var Mn=!1;function gt(a,u,m){if(Mn)return a(u,m);Mn=!0;try{return Be(a,u,m)}finally{Mn=!1,(Jt!==null||Qt!==null)&&(Tt(),ct())}}function en(a,u){var m=a.stateNode;if(m===null)return null;var x=rh(m);if(x===null)return null;m=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var Mr=!1;if(l)try{var bt={};Object.defineProperty(bt,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch{Mr=!1}function zt(a,u,m,x,C,E,A,O,W){var ne=Array.prototype.slice.call(arguments,3);try{u.apply(m,ne)}catch(de){this.onError(de)}}var In=!1,gr=null,Cc=!1,Mg=null,aj={onError:function(a){In=!0,gr=a}};function lj(a,u,m,x,C,E,A,O,W){In=!1,gr=null,zt.apply(aj,arguments)}function cj(a,u,m,x,C,E,A,O,W){if(lj.apply(this,arguments),In){if(In){var ne=gr;In=!1,gr=null}else throw Error(n(198));Cc||(Cc=!0,Mg=ne)}}function $o(a){var u=a,m=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(m=u.return),a=u.return;while(a)}return u.tag===3?m:null}function Fw(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function jw(a){if($o(a)!==a)throw Error(n(188))}function uj(a){var u=a.alternate;if(!u){if(u=$o(a),u===null)throw Error(n(188));return u!==a?null:a}for(var m=a,x=u;;){var C=m.return;if(C===null)break;var E=C.alternate;if(E===null){if(x=C.return,x!==null){m=x;continue}break}if(C.child===E.child){for(E=C.child;E;){if(E===m)return jw(C),a;if(E===x)return jw(C),u;E=E.sibling}throw Error(n(188))}if(m.return!==x.return)m=C,x=E;else{for(var A=!1,O=C.child;O;){if(O===m){A=!0,m=C,x=E;break}if(O===x){A=!0,x=C,m=E;break}O=O.sibling}if(!A){for(O=E.child;O;){if(O===m){A=!0,m=E,x=C;break}if(O===x){A=!0,x=E,m=C;break}O=O.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:u}function Lw(a){return a=uj(a),a!==null?Dw(a):null}function Dw(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Dw(a);if(u!==null)return u;a=a.sibling}return null}var Ow=e.unstable_scheduleCallback,Vw=e.unstable_cancelCallback,dj=e.unstable_shouldYield,hj=e.unstable_requestPaint,cn=e.unstable_now,fj=e.unstable_getCurrentPriorityLevel,Ig=e.unstable_ImmediatePriority,zw=e.unstable_UserBlockingPriority,Dd=e.unstable_NormalPriority,mj=e.unstable_LowPriority,$w=e.unstable_IdlePriority,Od=null,zi=null;function gj(a){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Od,a,void 0,(a.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:xj,pj=Math.log,yj=Math.LN2;function xj(a){return a>>>=0,a===0?32:31-(pj(a)/yj|0)|0}var Vd=64,zd=4194304;function Sc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function $d(a,u){var m=a.pendingLanes;if(m===0)return 0;var x=0,C=a.suspendedLanes,E=a.pingedLanes,A=m&268435455;if(A!==0){var O=A&~C;O!==0?x=Sc(O):(E&=A,E!==0&&(x=Sc(E)))}else A=m&~C,A!==0?x=Sc(A):E!==0&&(x=Sc(E));if(x===0)return 0;if(u!==0&&u!==x&&(u&C)===0&&(C=x&-x,E=u&-u,C>=E||C===16&&(E&4194240)!==0))return u;if((x&4)!==0&&(x|=m&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=x;0<u;)m=31-ai(u),C=1<<m,x|=a[m],u&=~C;return x}function vj(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _j(a,u){for(var m=a.suspendedLanes,x=a.pingedLanes,C=a.expirationTimes,E=a.pendingLanes;0<E;){var A=31-ai(E),O=1<<A,W=C[A];W===-1?((O&m)===0||(O&x)!==0)&&(C[A]=vj(O,u)):W<=u&&(a.expiredLanes|=O),E&=~O}}function Ng(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Bw(){var a=Vd;return Vd<<=1,(Vd&4194240)===0&&(Vd=64),a}function Fg(a){for(var u=[],m=0;31>m;m++)u.push(a);return u}function bc(a,u,m){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-ai(u),a[u]=m}function wj(a,u){var m=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var x=a.eventTimes;for(a=a.expirationTimes;0<m;){var C=31-ai(m),E=1<<C;u[C]=0,x[C]=-1,a[C]=-1,m&=~E}}function jg(a,u){var m=a.entangledLanes|=u;for(a=a.entanglements;m;){var x=31-ai(m),C=1<<x;C&u|a[x]&u&&(a[x]|=u),m&=~C}}var At=0;function Gw(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Uw,Lg,Ww,Hw,Xw,Dg=!1,Bd=[],Bs=null,Gs=null,Us=null,Ec=new Map,Rc=new Map,Ws=[],Cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kw(a,u){switch(a){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Ec.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(u.pointerId)}}function Tc(a,u,m,x,C,E){return a===null||a.nativeEvent!==E?(a={blockedOn:u,domEventName:m,eventSystemFlags:x,nativeEvent:E,targetContainers:[C]},u!==null&&(u=$c(u),u!==null&&Lg(u)),a):(a.eventSystemFlags|=x,u=a.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),a)}function Sj(a,u,m,x,C){switch(u){case"focusin":return Bs=Tc(Bs,a,u,m,x,C),!0;case"dragenter":return Gs=Tc(Gs,a,u,m,x,C),!0;case"mouseover":return Us=Tc(Us,a,u,m,x,C),!0;case"pointerover":var E=C.pointerId;return Ec.set(E,Tc(Ec.get(E)||null,a,u,m,x,C)),!0;case"gotpointercapture":return E=C.pointerId,Rc.set(E,Tc(Rc.get(E)||null,a,u,m,x,C)),!0}return!1}function Yw(a){var u=Bo(a.target);if(u!==null){var m=$o(u);if(m!==null){if(u=m.tag,u===13){if(u=Fw(m),u!==null){a.blockedOn=u,Xw(a.priority,function(){Ww(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Gd(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var m=Vg(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var x=new m.constructor(m.type,m);Ct=x,m.target.dispatchEvent(x),Ct=null}else return u=$c(m),u!==null&&Lg(u),a.blockedOn=m,!1;u.shift()}return!0}function Zw(a,u,m){Gd(a)&&m.delete(u)}function bj(){Dg=!1,Bs!==null&&Gd(Bs)&&(Bs=null),Gs!==null&&Gd(Gs)&&(Gs=null),Us!==null&&Gd(Us)&&(Us=null),Ec.forEach(Zw),Rc.forEach(Zw)}function Pc(a,u){a.blockedOn===u&&(a.blockedOn=null,Dg||(Dg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bj)))}function kc(a){function u(C){return Pc(C,a)}if(0<Bd.length){Pc(Bd[0],a);for(var m=1;m<Bd.length;m++){var x=Bd[m];x.blockedOn===a&&(x.blockedOn=null)}}for(Bs!==null&&Pc(Bs,a),Gs!==null&&Pc(Gs,a),Us!==null&&Pc(Us,a),Ec.forEach(u),Rc.forEach(u),m=0;m<Ws.length;m++)x=Ws[m],x.blockedOn===a&&(x.blockedOn=null);for(;0<Ws.length&&(m=Ws[0],m.blockedOn===null);)Yw(m),m.blockedOn===null&&Ws.shift()}var Ha=P.ReactCurrentBatchConfig,Ud=!0;function Ej(a,u,m,x){var C=At,E=Ha.transition;Ha.transition=null;try{At=1,Og(a,u,m,x)}finally{At=C,Ha.transition=E}}function Rj(a,u,m,x){var C=At,E=Ha.transition;Ha.transition=null;try{At=4,Og(a,u,m,x)}finally{At=C,Ha.transition=E}}function Og(a,u,m,x){if(Ud){var C=Vg(a,u,m,x);if(C===null)np(a,u,x,Wd,m),Kw(a,x);else if(Sj(C,a,u,m,x))x.stopPropagation();else if(Kw(a,x),u&4&&-1<Cj.indexOf(a)){for(;C!==null;){var E=$c(C);if(E!==null&&Uw(E),E=Vg(a,u,m,x),E===null&&np(a,u,x,Wd,m),E===C)break;C=E}C!==null&&x.stopPropagation()}else np(a,u,x,null,m)}}var Wd=null;function Vg(a,u,m,x){if(Wd=null,a=Vt(x),a=Bo(a),a!==null)if(u=$o(a),u===null)a=null;else if(m=u.tag,m===13){if(a=Fw(u),a!==null)return a;a=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Wd=a,null}function qw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fj()){case Ig:return 1;case zw:return 4;case Dd:case mj:return 16;case $w:return 536870912;default:return 16}default:return 16}}var Hs=null,zg=null,Hd=null;function Jw(){if(Hd)return Hd;var a,u=zg,m=u.length,x,C="value"in Hs?Hs.value:Hs.textContent,E=C.length;for(a=0;a<m&&u[a]===C[a];a++);var A=m-a;for(x=1;x<=A&&u[m-x]===C[E-x];x++);return Hd=C.slice(a,1<x?1-x:void 0)}function Xd(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Kd(){return!0}function Qw(){return!1}function Ir(a){function u(m,x,C,E,A){this._reactName=m,this._targetInst=C,this.type=x,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(m=a[O],this[O]=m?m(E):E[O]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Kd:Qw,this.isPropagationStopped=Qw,this}return q(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Kd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Kd)},persist:function(){},isPersistent:Kd}),u}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=Ir(Xa),Ac=q({},Xa,{view:0,detail:0}),Tj=Ir(Ac),Bg,Gg,Mc,Yd=q({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Mc&&(Mc&&a.type==="mousemove"?(Bg=a.screenX-Mc.screenX,Gg=a.screenY-Mc.screenY):Gg=Bg=0,Mc=a),Bg)},movementY:function(a){return"movementY"in a?a.movementY:Gg}}),e1=Ir(Yd),Pj=q({},Yd,{dataTransfer:0}),kj=Ir(Pj),Aj=q({},Ac,{relatedTarget:0}),Ug=Ir(Aj),Mj=q({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ij=Ir(Mj),Nj=q({},Xa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fj=Ir(Nj),jj=q({},Xa,{data:0}),t1=Ir(jj),Lj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vj(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Oj[a])?!!u[a]:!1}function Wg(){return Vj}var zj=q({},Ac,{key:function(a){if(a.key){var u=Lj[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Xd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Dj[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wg,charCode:function(a){return a.type==="keypress"?Xd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Xd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$j=Ir(zj),Bj=q({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n1=Ir(Bj),Gj=q({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wg}),Uj=Ir(Gj),Wj=q({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hj=Ir(Wj),Xj=q({},Yd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Kj=Ir(Xj),Yj=[9,13,27,32],Hg=l&&"CompositionEvent"in window,Ic=null;l&&"documentMode"in document&&(Ic=document.documentMode);var Zj=l&&"TextEvent"in window&&!Ic,r1=l&&(!Hg||Ic&&8<Ic&&11>=Ic),i1=" ",s1=!1;function o1(a,u){switch(a){case"keyup":return Yj.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ka=!1;function qj(a,u){switch(a){case"compositionend":return a1(u);case"keypress":return u.which!==32?null:(s1=!0,i1);case"textInput":return a=u.data,a===i1&&s1?null:a;default:return null}}function Jj(a,u){if(Ka)return a==="compositionend"||!Hg&&o1(a,u)?(a=Jw(),Hd=zg=Hs=null,Ka=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return r1&&u.locale!=="ko"?null:u.data;default:return null}}var Qj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l1(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Qj[a.type]:u==="textarea"}function c1(a,u,m,x){Ye(x),u=eh(u,"onChange"),0<u.length&&(m=new $g("onChange","change",null,m,x),a.push({event:m,listeners:u}))}var Nc=null,Fc=null;function eL(a){T1(a,0)}function Zd(a){var u=Qa(a);if(Ve(u))return a}function tL(a,u){if(a==="change")return u}var u1=!1;if(l){var Xg;if(l){var Kg="oninput"in document;if(!Kg){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),Kg=typeof d1.oninput=="function"}Xg=Kg}else Xg=!1;u1=Xg&&(!document.documentMode||9<document.documentMode)}function h1(){Nc&&(Nc.detachEvent("onpropertychange",f1),Fc=Nc=null)}function f1(a){if(a.propertyName==="value"&&Zd(Fc)){var u=[];c1(u,Fc,a,Vt(a)),gt(eL,u)}}function nL(a,u,m){a==="focusin"?(h1(),Nc=u,Fc=m,Nc.attachEvent("onpropertychange",f1)):a==="focusout"&&h1()}function rL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Zd(Fc)}function iL(a,u){if(a==="click")return Zd(u)}function sL(a,u){if(a==="input"||a==="change")return Zd(u)}function oL(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var li=typeof Object.is=="function"?Object.is:oL;function jc(a,u){if(li(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var m=Object.keys(a),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var C=m[x];if(!c.call(u,C)||!li(a[C],u[C]))return!1}return!0}function m1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function g1(a,u){var m=m1(a);a=0;for(var x;m;){if(m.nodeType===3){if(x=a+m.textContent.length,a<=u&&x>=u)return{node:m,offset:u-a};a=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=m1(m)}}function p1(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?p1(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function y1(){for(var a=window,u=yt();u instanceof a.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)a=u.contentWindow;else break;u=yt(a.document)}return u}function Yg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function aL(a){var u=y1(),m=a.focusedElem,x=a.selectionRange;if(u!==m&&m&&m.ownerDocument&&p1(m.ownerDocument.documentElement,m)){if(x!==null&&Yg(m)){if(u=x.start,a=x.end,a===void 0&&(a=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(a,m.value.length);else if(a=(u=m.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var C=m.textContent.length,E=Math.min(x.start,C);x=x.end===void 0?E:Math.min(x.end,C),!a.extend&&E>x&&(C=x,x=E,E=C),C=g1(m,E);var A=g1(m,x);C&&A&&(a.rangeCount!==1||a.anchorNode!==C.node||a.anchorOffset!==C.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(u=u.createRange(),u.setStart(C.node,C.offset),a.removeAllRanges(),E>x?(a.addRange(u),a.extend(A.node,A.offset)):(u.setEnd(A.node,A.offset),a.addRange(u)))}}for(u=[],a=m;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)a=u[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var lL=l&&"documentMode"in document&&11>=document.documentMode,Ya=null,Zg=null,Lc=null,qg=!1;function x1(a,u,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;qg||Ya==null||Ya!==yt(x)||(x=Ya,"selectionStart"in x&&Yg(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Lc&&jc(Lc,x)||(Lc=x,x=eh(Zg,"onSelect"),0<x.length&&(u=new $g("onSelect","select",null,u,m),a.push({event:u,listeners:x}),u.target=Ya)))}function qd(a,u){var m={};return m[a.toLowerCase()]=u.toLowerCase(),m["Webkit"+a]="webkit"+u,m["Moz"+a]="moz"+u,m}var Za={animationend:qd("Animation","AnimationEnd"),animationiteration:qd("Animation","AnimationIteration"),animationstart:qd("Animation","AnimationStart"),transitionend:qd("Transition","TransitionEnd")},Jg={},v1={};l&&(v1=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Jd(a){if(Jg[a])return Jg[a];if(!Za[a])return a;var u=Za[a],m;for(m in u)if(u.hasOwnProperty(m)&&m in v1)return Jg[a]=u[m];return a}var _1=Jd("animationend"),w1=Jd("animationiteration"),C1=Jd("animationstart"),S1=Jd("transitionend"),b1=new Map,E1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(a,u){b1.set(a,u),s(u,[a])}for(var Qg=0;Qg<E1.length;Qg++){var ep=E1[Qg],cL=ep.toLowerCase(),uL=ep[0].toUpperCase()+ep.slice(1);Xs(cL,"on"+uL)}Xs(_1,"onAnimationEnd"),Xs(w1,"onAnimationIteration"),Xs(C1,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(S1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dc));function R1(a,u,m){var x=a.type||"unknown-event";a.currentTarget=m,cj(x,u,void 0,a),a.currentTarget=null}function T1(a,u){u=(u&4)!==0;for(var m=0;m<a.length;m++){var x=a[m],C=x.event;x=x.listeners;e:{var E=void 0;if(u)for(var A=x.length-1;0<=A;A--){var O=x[A],W=O.instance,ne=O.currentTarget;if(O=O.listener,W!==E&&C.isPropagationStopped())break e;R1(C,O,ne),E=W}else for(A=0;A<x.length;A++){if(O=x[A],W=O.instance,ne=O.currentTarget,O=O.listener,W!==E&&C.isPropagationStopped())break e;R1(C,O,ne),E=W}}}if(Cc)throw a=Mg,Cc=!1,Mg=null,a}function Ht(a,u){var m=u[lp];m===void 0&&(m=u[lp]=new Set);var x=a+"__bubble";m.has(x)||(P1(u,a,2,!1),m.add(x))}function tp(a,u,m){var x=0;u&&(x|=4),P1(m,a,x,u)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function Oc(a){if(!a[Qd]){a[Qd]=!0,r.forEach(function(m){m!=="selectionchange"&&(dL.has(m)||tp(m,!1,a),tp(m,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Qd]||(u[Qd]=!0,tp("selectionchange",!1,u))}}function P1(a,u,m,x){switch(qw(u)){case 1:var C=Ej;break;case 4:C=Rj;break;default:C=Og}m=C.bind(null,u,m,a),C=void 0,!Mr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),x?C!==void 0?a.addEventListener(u,m,{capture:!0,passive:C}):a.addEventListener(u,m,!0):C!==void 0?a.addEventListener(u,m,{passive:C}):a.addEventListener(u,m,!1)}function np(a,u,m,x,C){var E=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var O=x.stateNode.containerInfo;if(O===C||O.nodeType===8&&O.parentNode===C)break;if(A===4)for(A=x.return;A!==null;){var W=A.tag;if((W===3||W===4)&&(W=A.stateNode.containerInfo,W===C||W.nodeType===8&&W.parentNode===C))return;A=A.return}for(;O!==null;){if(A=Bo(O),A===null)return;if(W=A.tag,W===5||W===6){x=E=A;continue e}O=O.parentNode}}x=x.return}gt(function(){var ne=E,de=Vt(m),me=[];e:{var ue=b1.get(a);if(ue!==void 0){var Ee=$g,ke=a;switch(a){case"keypress":if(Xd(m)===0)break e;case"keydown":case"keyup":Ee=$j;break;case"focusin":ke="focus",Ee=Ug;break;case"focusout":ke="blur",Ee=Ug;break;case"beforeblur":case"afterblur":Ee=Ug;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=e1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=kj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Uj;break;case _1:case w1:case C1:Ee=Ij;break;case S1:Ee=Hj;break;case"scroll":Ee=Tj;break;case"wheel":Ee=Kj;break;case"copy":case"cut":case"paste":Ee=Fj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=n1}var Ne=(u&4)!==0,un=!Ne&&a==="scroll",Q=Ne?ue!==null?ue+"Capture":null:ue;Ne=[];for(var K=ne,ee;K!==null;){ee=K;var xe=ee.stateNode;if(ee.tag===5&&xe!==null&&(ee=xe,Q!==null&&(xe=en(K,Q),xe!=null&&Ne.push(Vc(K,xe,ee)))),un)break;K=K.return}0<Ne.length&&(ue=new Ee(ue,ke,null,m,de),me.push({event:ue,listeners:Ne}))}}if((u&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",ue&&m!==Ct&&(ke=m.relatedTarget||m.fromElement)&&(Bo(ke)||ke[hs]))break e;if((Ee||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,Ee?(ke=m.relatedTarget||m.toElement,Ee=ne,ke=ke?Bo(ke):null,ke!==null&&(un=$o(ke),ke!==un||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Ee=null,ke=ne),Ee!==ke)){if(Ne=e1,xe="onMouseLeave",Q="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=n1,xe="onPointerLeave",Q="onPointerEnter",K="pointer"),un=Ee==null?ue:Qa(Ee),ee=ke==null?ue:Qa(ke),ue=new Ne(xe,K+"leave",Ee,m,de),ue.target=un,ue.relatedTarget=ee,xe=null,Bo(de)===ne&&(Ne=new Ne(Q,K+"enter",ke,m,de),Ne.target=ee,Ne.relatedTarget=un,xe=Ne),un=xe,Ee&&ke)t:{for(Ne=Ee,Q=ke,K=0,ee=Ne;ee;ee=qa(ee))K++;for(ee=0,xe=Q;xe;xe=qa(xe))ee++;for(;0<K-ee;)Ne=qa(Ne),K--;for(;0<ee-K;)Q=qa(Q),ee--;for(;K--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=qa(Ne),Q=qa(Q)}Ne=null}else Ne=null;Ee!==null&&k1(me,ue,Ee,Ne,!1),ke!==null&&un!==null&&k1(me,un,ke,Ne,!0)}}e:{if(ue=ne?Qa(ne):window,Ee=ue.nodeName&&ue.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&ue.type==="file")var Le=tL;else if(l1(ue))if(u1)Le=sL;else{Le=rL;var Ue=nL}else(Ee=ue.nodeName)&&Ee.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Le=iL);if(Le&&(Le=Le(a,ne))){c1(me,Le,m,de);break e}Ue&&Ue(a,ue,ne),a==="focusout"&&(Ue=ue._wrapperState)&&Ue.controlled&&ue.type==="number"&&lt(ue,"number",ue.value)}switch(Ue=ne?Qa(ne):window,a){case"focusin":(l1(Ue)||Ue.contentEditable==="true")&&(Ya=Ue,Zg=ne,Lc=null);break;case"focusout":Lc=Zg=Ya=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,x1(me,m,de);break;case"selectionchange":if(lL)break;case"keydown":case"keyup":x1(me,m,de)}var We;if(Hg)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ka?o1(a,m)&&(Je="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(Je="onCompositionStart");Je&&(r1&&m.locale!=="ko"&&(Ka||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ka&&(We=Jw()):(Hs=de,zg="value"in Hs?Hs.value:Hs.textContent,Ka=!0)),Ue=eh(ne,Je),0<Ue.length&&(Je=new t1(Je,a,null,m,de),me.push({event:Je,listeners:Ue}),We?Je.data=We:(We=a1(m),We!==null&&(Je.data=We)))),(We=Zj?qj(a,m):Jj(a,m))&&(ne=eh(ne,"onBeforeInput"),0<ne.length&&(de=new t1("onBeforeInput","beforeinput",null,m,de),me.push({event:de,listeners:ne}),de.data=We))}T1(me,u)})}function Vc(a,u,m){return{instance:a,listener:u,currentTarget:m}}function eh(a,u){for(var m=u+"Capture",x=[];a!==null;){var C=a,E=C.stateNode;C.tag===5&&E!==null&&(C=E,E=en(a,m),E!=null&&x.unshift(Vc(a,E,C)),E=en(a,u),E!=null&&x.push(Vc(a,E,C))),a=a.return}return x}function qa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function k1(a,u,m,x,C){for(var E=u._reactName,A=[];m!==null&&m!==x;){var O=m,W=O.alternate,ne=O.stateNode;if(W!==null&&W===x)break;O.tag===5&&ne!==null&&(O=ne,C?(W=en(m,E),W!=null&&A.unshift(Vc(m,W,O))):C||(W=en(m,E),W!=null&&A.push(Vc(m,W,O)))),m=m.return}A.length!==0&&a.push({event:u,listeners:A})}var hL=/\r\n?/g,fL=/\u0000|\uFFFD/g;function A1(a){return(typeof a=="string"?a:""+a).replace(hL,`
`).replace(fL,"")}function th(a,u,m){if(u=A1(u),A1(a)!==u&&m)throw Error(n(425))}function nh(){}var rp=null,ip=null;function sp(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,mL=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,gL=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(a){return M1.resolve(null).then(a).catch(pL)}:op;function pL(a){setTimeout(function(){throw a})}function ap(a,u){var m=u,x=0;do{var C=m.nextSibling;if(a.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(x===0){a.removeChild(C),kc(u);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=C}while(m);kc(u)}function Ks(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function I1(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return a;u--}else m==="/$"&&u++}a=a.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),$i="__reactFiber$"+Ja,zc="__reactProps$"+Ja,hs="__reactContainer$"+Ja,lp="__reactEvents$"+Ja,yL="__reactListeners$"+Ja,xL="__reactHandles$"+Ja;function Bo(a){var u=a[$i];if(u)return u;for(var m=a.parentNode;m;){if(u=m[hs]||m[$i]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(a=I1(a);a!==null;){if(m=a[$i])return m;a=I1(a)}return u}a=m,m=a.parentNode}return null}function $c(a){return a=a[$i]||a[hs],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Qa(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function rh(a){return a[zc]||null}var cp=[],el=-1;function Ys(a){return{current:a}}function Xt(a){0>el||(a.current=cp[el],cp[el]=null,el--)}function $t(a,u){el++,cp[el]=a.current,a.current=u}var Zs={},Xn=Ys(Zs),pr=Ys(!1),Go=Zs;function tl(a,u){var m=a.type.contextTypes;if(!m)return Zs;var x=a.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var C={},E;for(E in m)C[E]=u[E];return x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=C),C}function yr(a){return a=a.childContextTypes,a!=null}function ih(){Xt(pr),Xt(Xn)}function N1(a,u,m){if(Xn.current!==Zs)throw Error(n(168));$t(Xn,u),$t(pr,m)}function F1(a,u,m){var x=a.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var C in x)if(!(C in u))throw Error(n(108,ae(a)||"Unknown",C));return q({},m,x)}function sh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Zs,Go=Xn.current,$t(Xn,a),$t(pr,pr.current),!0}function j1(a,u,m){var x=a.stateNode;if(!x)throw Error(n(169));m?(a=F1(a,u,Go),x.__reactInternalMemoizedMergedChildContext=a,Xt(pr),Xt(Xn),$t(Xn,a)):Xt(pr),$t(pr,m)}var fs=null,oh=!1,up=!1;function L1(a){fs===null?fs=[a]:fs.push(a)}function vL(a){oh=!0,L1(a)}function qs(){if(!up&&fs!==null){up=!0;var a=0,u=At;try{var m=fs;for(At=1;a<m.length;a++){var x=m[a];do x=x(!0);while(x!==null)}fs=null,oh=!1}catch(C){throw fs!==null&&(fs=fs.slice(a+1)),Ow(Ig,qs),C}finally{At=u,up=!1}}return null}var nl=[],rl=0,ah=null,lh=0,Xr=[],Kr=0,Uo=null,ms=1,gs="";function Wo(a,u){nl[rl++]=lh,nl[rl++]=ah,ah=a,lh=u}function D1(a,u,m){Xr[Kr++]=ms,Xr[Kr++]=gs,Xr[Kr++]=Uo,Uo=a;var x=ms;a=gs;var C=32-ai(x)-1;x&=~(1<<C),m+=1;var E=32-ai(u)+C;if(30<E){var A=C-C%5;E=(x&(1<<A)-1).toString(32),x>>=A,C-=A,ms=1<<32-ai(u)+C|m<<C|x,gs=E+a}else ms=1<<E|m<<C|x,gs=a}function dp(a){a.return!==null&&(Wo(a,1),D1(a,1,0))}function hp(a){for(;a===ah;)ah=nl[--rl],nl[rl]=null,lh=nl[--rl],nl[rl]=null;for(;a===Uo;)Uo=Xr[--Kr],Xr[Kr]=null,gs=Xr[--Kr],Xr[Kr]=null,ms=Xr[--Kr],Xr[Kr]=null}var Nr=null,Fr=null,Zt=!1,ci=null;function O1(a,u){var m=Jr(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=a,u=a.deletions,u===null?(a.deletions=[m],a.flags|=16):u.push(m)}function V1(a,u){switch(a.tag){case 5:var m=a.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Nr=a,Fr=Ks(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Nr=a,Fr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Uo!==null?{id:ms,overflow:gs}:null,a.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Jr(18,null,null,0),m.stateNode=u,m.return=a,a.child=m,Nr=a,Fr=null,!0):!1;default:return!1}}function fp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function mp(a){if(Zt){var u=Fr;if(u){var m=u;if(!V1(a,u)){if(fp(a))throw Error(n(418));u=Ks(m.nextSibling);var x=Nr;u&&V1(a,u)?O1(x,m):(a.flags=a.flags&-4097|2,Zt=!1,Nr=a)}}else{if(fp(a))throw Error(n(418));a.flags=a.flags&-4097|2,Zt=!1,Nr=a}}}function z1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Nr=a}function ch(a){if(a!==Nr)return!1;if(!Zt)return z1(a),Zt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!sp(a.type,a.memoizedProps)),u&&(u=Fr)){if(fp(a))throw $1(),Error(n(418));for(;u;)O1(a,u),u=Ks(u.nextSibling)}if(z1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(u===0){Fr=Ks(a.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}a=a.nextSibling}Fr=null}}else Fr=Nr?Ks(a.stateNode.nextSibling):null;return!0}function $1(){for(var a=Fr;a;)a=Ks(a.nextSibling)}function il(){Fr=Nr=null,Zt=!1}function gp(a){ci===null?ci=[a]:ci.push(a)}var _L=P.ReactCurrentBatchConfig;function Bc(a,u,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,a));var C=x,E=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(A){var O=C.refs;A===null?delete O[E]:O[E]=A},u._stringRef=E,u)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function uh(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function B1(a){var u=a._init;return u(a._payload)}function G1(a){function u(Q,K){if(a){var ee=Q.deletions;ee===null?(Q.deletions=[K],Q.flags|=16):ee.push(K)}}function m(Q,K){if(!a)return null;for(;K!==null;)u(Q,K),K=K.sibling;return null}function x(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function C(Q,K){return Q=so(Q,K),Q.index=0,Q.sibling=null,Q}function E(Q,K,ee){return Q.index=ee,a?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<K?(Q.flags|=2,K):ee):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function A(Q){return a&&Q.alternate===null&&(Q.flags|=2),Q}function O(Q,K,ee,xe){return K===null||K.tag!==6?(K=oy(ee,Q.mode,xe),K.return=Q,K):(K=C(K,ee),K.return=Q,K)}function W(Q,K,ee,xe){var Le=ee.type;return Le===F?de(Q,K,ee.props.children,xe,ee.key):K!==null&&(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Y&&B1(Le)===K.type)?(xe=C(K,ee.props),xe.ref=Bc(Q,K,ee),xe.return=Q,xe):(xe=Fh(ee.type,ee.key,ee.props,null,Q.mode,xe),xe.ref=Bc(Q,K,ee),xe.return=Q,xe)}function ne(Q,K,ee,xe){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=ay(ee,Q.mode,xe),K.return=Q,K):(K=C(K,ee.children||[]),K.return=Q,K)}function de(Q,K,ee,xe,Le){return K===null||K.tag!==7?(K=Qo(ee,Q.mode,xe,Le),K.return=Q,K):(K=C(K,ee),K.return=Q,K)}function me(Q,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=oy(""+K,Q.mode,ee),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return ee=Fh(K.type,K.key,K.props,null,Q.mode,ee),ee.ref=Bc(Q,null,K),ee.return=Q,ee;case M:return K=ay(K,Q.mode,ee),K.return=Q,K;case Y:var xe=K._init;return me(Q,xe(K._payload),ee)}if($(K)||U(K))return K=Qo(K,Q.mode,ee,null),K.return=Q,K;uh(Q,K)}return null}function ue(Q,K,ee,xe){var Le=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Le!==null?null:O(Q,K,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return ee.key===Le?W(Q,K,ee,xe):null;case M:return ee.key===Le?ne(Q,K,ee,xe):null;case Y:return Le=ee._init,ue(Q,K,Le(ee._payload),xe)}if($(ee)||U(ee))return Le!==null?null:de(Q,K,ee,xe,null);uh(Q,ee)}return null}function Ee(Q,K,ee,xe,Le){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Q=Q.get(ee)||null,O(K,Q,""+xe,Le);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case k:return Q=Q.get(xe.key===null?ee:xe.key)||null,W(K,Q,xe,Le);case M:return Q=Q.get(xe.key===null?ee:xe.key)||null,ne(K,Q,xe,Le);case Y:var Ue=xe._init;return Ee(Q,K,ee,Ue(xe._payload),Le)}if($(xe)||U(xe))return Q=Q.get(ee)||null,de(K,Q,xe,Le,null);uh(K,xe)}return null}function ke(Q,K,ee,xe){for(var Le=null,Ue=null,We=K,Je=K=0,jn=null;We!==null&&Je<ee.length;Je++){We.index>Je?(jn=We,We=null):jn=We.sibling;var Et=ue(Q,We,ee[Je],xe);if(Et===null){We===null&&(We=jn);break}a&&We&&Et.alternate===null&&u(Q,We),K=E(Et,K,Je),Ue===null?Le=Et:Ue.sibling=Et,Ue=Et,We=jn}if(Je===ee.length)return m(Q,We),Zt&&Wo(Q,Je),Le;if(We===null){for(;Je<ee.length;Je++)We=me(Q,ee[Je],xe),We!==null&&(K=E(We,K,Je),Ue===null?Le=We:Ue.sibling=We,Ue=We);return Zt&&Wo(Q,Je),Le}for(We=x(Q,We);Je<ee.length;Je++)jn=Ee(We,Q,Je,ee[Je],xe),jn!==null&&(a&&jn.alternate!==null&&We.delete(jn.key===null?Je:jn.key),K=E(jn,K,Je),Ue===null?Le=jn:Ue.sibling=jn,Ue=jn);return a&&We.forEach(function(oo){return u(Q,oo)}),Zt&&Wo(Q,Je),Le}function Ne(Q,K,ee,xe){var Le=U(ee);if(typeof Le!="function")throw Error(n(150));if(ee=Le.call(ee),ee==null)throw Error(n(151));for(var Ue=Le=null,We=K,Je=K=0,jn=null,Et=ee.next();We!==null&&!Et.done;Je++,Et=ee.next()){We.index>Je?(jn=We,We=null):jn=We.sibling;var oo=ue(Q,We,Et.value,xe);if(oo===null){We===null&&(We=jn);break}a&&We&&oo.alternate===null&&u(Q,We),K=E(oo,K,Je),Ue===null?Le=oo:Ue.sibling=oo,Ue=oo,We=jn}if(Et.done)return m(Q,We),Zt&&Wo(Q,Je),Le;if(We===null){for(;!Et.done;Je++,Et=ee.next())Et=me(Q,Et.value,xe),Et!==null&&(K=E(Et,K,Je),Ue===null?Le=Et:Ue.sibling=Et,Ue=Et);return Zt&&Wo(Q,Je),Le}for(We=x(Q,We);!Et.done;Je++,Et=ee.next())Et=Ee(We,Q,Je,Et.value,xe),Et!==null&&(a&&Et.alternate!==null&&We.delete(Et.key===null?Je:Et.key),K=E(Et,K,Je),Ue===null?Le=Et:Ue.sibling=Et,Ue=Et);return a&&We.forEach(function(QL){return u(Q,QL)}),Zt&&Wo(Q,Je),Le}function un(Q,K,ee,xe){if(typeof ee=="object"&&ee!==null&&ee.type===F&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:e:{for(var Le=ee.key,Ue=K;Ue!==null;){if(Ue.key===Le){if(Le=ee.type,Le===F){if(Ue.tag===7){m(Q,Ue.sibling),K=C(Ue,ee.props.children),K.return=Q,Q=K;break e}}else if(Ue.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Y&&B1(Le)===Ue.type){m(Q,Ue.sibling),K=C(Ue,ee.props),K.ref=Bc(Q,Ue,ee),K.return=Q,Q=K;break e}m(Q,Ue);break}else u(Q,Ue);Ue=Ue.sibling}ee.type===F?(K=Qo(ee.props.children,Q.mode,xe,ee.key),K.return=Q,Q=K):(xe=Fh(ee.type,ee.key,ee.props,null,Q.mode,xe),xe.ref=Bc(Q,K,ee),xe.return=Q,Q=xe)}return A(Q);case M:e:{for(Ue=ee.key;K!==null;){if(K.key===Ue)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){m(Q,K.sibling),K=C(K,ee.children||[]),K.return=Q,Q=K;break e}else{m(Q,K);break}else u(Q,K);K=K.sibling}K=ay(ee,Q.mode,xe),K.return=Q,Q=K}return A(Q);case Y:return Ue=ee._init,un(Q,K,Ue(ee._payload),xe)}if($(ee))return ke(Q,K,ee,xe);if(U(ee))return Ne(Q,K,ee,xe);uh(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(m(Q,K.sibling),K=C(K,ee),K.return=Q,Q=K):(m(Q,K),K=oy(ee,Q.mode,xe),K.return=Q,Q=K),A(Q)):m(Q,K)}return un}var sl=G1(!0),U1=G1(!1),dh=Ys(null),hh=null,ol=null,pp=null;function yp(){pp=ol=hh=null}function xp(a){var u=dh.current;Xt(dh),a._currentValue=u}function vp(a,u,m){for(;a!==null;){var x=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),a===m)break;a=a.return}}function al(a,u){hh=a,pp=ol=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(xr=!0),a.firstContext=null)}function Yr(a){var u=a._currentValue;if(pp!==a)if(a={context:a,memoizedValue:u,next:null},ol===null){if(hh===null)throw Error(n(308));ol=a,hh.dependencies={lanes:0,firstContext:a}}else ol=ol.next=a;return u}var Ho=null;function _p(a){Ho===null?Ho=[a]:Ho.push(a)}function W1(a,u,m,x){var C=u.interleaved;return C===null?(m.next=m,_p(u)):(m.next=C.next,C.next=m),u.interleaved=m,ps(a,x)}function ps(a,u){a.lanes|=u;var m=a.alternate;for(m!==null&&(m.lanes|=u),m=a,a=a.return;a!==null;)a.childLanes|=u,m=a.alternate,m!==null&&(m.childLanes|=u),m=a,a=a.return;return m.tag===3?m.stateNode:null}var Js=!1;function wp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H1(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ys(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Qs(a,u,m){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(_t&2)!==0){var C=x.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),x.pending=u,ps(a,m)}return C=x.interleaved,C===null?(u.next=u,_p(x)):(u.next=C.next,C.next=u),x.interleaved=u,ps(a,m)}function fh(a,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var x=u.lanes;x&=a.pendingLanes,m|=x,u.lanes=m,jg(a,m)}}function X1(a,u){var m=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var C=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?C=E=A:E=E.next=A,m=m.next}while(m!==null);E===null?C=E=u:E=E.next=u}else C=E=u;m={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:E,shared:x.shared,effects:x.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=u}function mh(a,u,m,x){var C=a.updateQueue;Js=!1;var E=C.firstBaseUpdate,A=C.lastBaseUpdate,O=C.shared.pending;if(O!==null){C.shared.pending=null;var W=O,ne=W.next;W.next=null,A===null?E=ne:A.next=ne,A=W;var de=a.alternate;de!==null&&(de=de.updateQueue,O=de.lastBaseUpdate,O!==A&&(O===null?de.firstBaseUpdate=ne:O.next=ne,de.lastBaseUpdate=W))}if(E!==null){var me=C.baseState;A=0,de=ne=W=null,O=E;do{var ue=O.lane,Ee=O.eventTime;if((x&ue)===ue){de!==null&&(de=de.next={eventTime:Ee,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ke=a,Ne=O;switch(ue=u,Ee=m,Ne.tag){case 1:if(ke=Ne.payload,typeof ke=="function"){me=ke.call(Ee,me,ue);break e}me=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ne.payload,ue=typeof ke=="function"?ke.call(Ee,me,ue):ke,ue==null)break e;me=q({},me,ue);break e;case 2:Js=!0}}O.callback!==null&&O.lane!==0&&(a.flags|=64,ue=C.effects,ue===null?C.effects=[O]:ue.push(O))}else Ee={eventTime:Ee,lane:ue,tag:O.tag,payload:O.payload,callback:O.callback,next:null},de===null?(ne=de=Ee,W=me):de=de.next=Ee,A|=ue;if(O=O.next,O===null){if(O=C.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,C.lastBaseUpdate=ue,C.shared.pending=null}}while(!0);if(de===null&&(W=me),C.baseState=W,C.firstBaseUpdate=ne,C.lastBaseUpdate=de,u=C.shared.interleaved,u!==null){C=u;do A|=C.lane,C=C.next;while(C!==u)}else E===null&&(C.shared.lanes=0);Yo|=A,a.lanes=A,a.memoizedState=me}}function K1(a,u,m){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var x=a[u],C=x.callback;if(C!==null){if(x.callback=null,x=m,typeof C!="function")throw Error(n(191,C));C.call(x)}}}var Gc={},Bi=Ys(Gc),Uc=Ys(Gc),Wc=Ys(Gc);function Xo(a){if(a===Gc)throw Error(n(174));return a}function Cp(a,u){switch($t(Wc,u),$t(Uc,a),$t(Bi,Gc),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:je(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=je(u,a)}Xt(Bi),$t(Bi,u)}function ll(){Xt(Bi),Xt(Uc),Xt(Wc)}function Y1(a){Xo(Wc.current);var u=Xo(Bi.current),m=je(u,a.type);u!==m&&($t(Uc,a),$t(Bi,m))}function Sp(a){Uc.current===a&&(Xt(Bi),Xt(Uc))}var tn=Ys(0);function gh(a){for(var u=a;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var bp=[];function Ep(){for(var a=0;a<bp.length;a++)bp[a]._workInProgressVersionPrimary=null;bp.length=0}var ph=P.ReactCurrentDispatcher,Rp=P.ReactCurrentBatchConfig,Ko=0,nn=null,Sn=null,Nn=null,yh=!1,Hc=!1,Xc=0,wL=0;function Kn(){throw Error(n(321))}function Tp(a,u){if(u===null)return!1;for(var m=0;m<u.length&&m<a.length;m++)if(!li(a[m],u[m]))return!1;return!0}function Pp(a,u,m,x,C,E){if(Ko=E,nn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ph.current=a===null||a.memoizedState===null?EL:RL,a=m(x,C),Hc){E=0;do{if(Hc=!1,Xc=0,25<=E)throw Error(n(301));E+=1,Nn=Sn=null,u.updateQueue=null,ph.current=TL,a=m(x,C)}while(Hc)}if(ph.current=_h,u=Sn!==null&&Sn.next!==null,Ko=0,Nn=Sn=nn=null,yh=!1,u)throw Error(n(300));return a}function kp(){var a=Xc!==0;return Xc=0,a}function Gi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?nn.memoizedState=Nn=a:Nn=Nn.next=a,Nn}function Zr(){if(Sn===null){var a=nn.alternate;a=a!==null?a.memoizedState:null}else a=Sn.next;var u=Nn===null?nn.memoizedState:Nn.next;if(u!==null)Nn=u,Sn=a;else{if(a===null)throw Error(n(310));Sn=a,a={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Nn===null?nn.memoizedState=Nn=a:Nn=Nn.next=a}return Nn}function Kc(a,u){return typeof u=="function"?u(a):u}function Ap(a){var u=Zr(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var x=Sn,C=x.baseQueue,E=m.pending;if(E!==null){if(C!==null){var A=C.next;C.next=E.next,E.next=A}x.baseQueue=C=E,m.pending=null}if(C!==null){E=C.next,x=x.baseState;var O=A=null,W=null,ne=E;do{var de=ne.lane;if((Ko&de)===de)W!==null&&(W=W.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),x=ne.hasEagerState?ne.eagerState:a(x,ne.action);else{var me={lane:de,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};W===null?(O=W=me,A=x):W=W.next=me,nn.lanes|=de,Yo|=de}ne=ne.next}while(ne!==null&&ne!==E);W===null?A=x:W.next=O,li(x,u.memoizedState)||(xr=!0),u.memoizedState=x,u.baseState=A,u.baseQueue=W,m.lastRenderedState=x}if(a=m.interleaved,a!==null){C=a;do E=C.lane,nn.lanes|=E,Yo|=E,C=C.next;while(C!==a)}else C===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Mp(a){var u=Zr(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var x=m.dispatch,C=m.pending,E=u.memoizedState;if(C!==null){m.pending=null;var A=C=C.next;do E=a(E,A.action),A=A.next;while(A!==C);li(E,u.memoizedState)||(xr=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),m.lastRenderedState=E}return[E,x]}function Z1(){}function q1(a,u){var m=nn,x=Zr(),C=u(),E=!li(x.memoizedState,C);if(E&&(x.memoizedState=C,xr=!0),x=x.queue,Ip(eC.bind(null,m,x,a),[a]),x.getSnapshot!==u||E||Nn!==null&&Nn.memoizedState.tag&1){if(m.flags|=2048,Yc(9,Q1.bind(null,m,x,C,u),void 0,null),Fn===null)throw Error(n(349));(Ko&30)!==0||J1(m,u,C)}return C}function J1(a,u,m){a.flags|=16384,a={getSnapshot:u,value:m},u=nn.updateQueue,u===null?(u={lastEffect:null,stores:null},nn.updateQueue=u,u.stores=[a]):(m=u.stores,m===null?u.stores=[a]:m.push(a))}function Q1(a,u,m,x){u.value=m,u.getSnapshot=x,tC(u)&&nC(a)}function eC(a,u,m){return m(function(){tC(u)&&nC(a)})}function tC(a){var u=a.getSnapshot;a=a.value;try{var m=u();return!li(a,m)}catch{return!0}}function nC(a){var u=ps(a,1);u!==null&&fi(u,a,1,-1)}function rC(a){var u=Gi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:a},u.queue=a,a=a.dispatch=bL.bind(null,nn,a),[u.memoizedState,a]}function Yc(a,u,m,x){return a={tag:a,create:u,destroy:m,deps:x,next:null},u=nn.updateQueue,u===null?(u={lastEffect:null,stores:null},nn.updateQueue=u,u.lastEffect=a.next=a):(m=u.lastEffect,m===null?u.lastEffect=a.next=a:(x=m.next,m.next=a,a.next=x,u.lastEffect=a)),a}function iC(){return Zr().memoizedState}function xh(a,u,m,x){var C=Gi();nn.flags|=a,C.memoizedState=Yc(1|u,m,void 0,x===void 0?null:x)}function vh(a,u,m,x){var C=Zr();x=x===void 0?null:x;var E=void 0;if(Sn!==null){var A=Sn.memoizedState;if(E=A.destroy,x!==null&&Tp(x,A.deps)){C.memoizedState=Yc(u,m,E,x);return}}nn.flags|=a,C.memoizedState=Yc(1|u,m,E,x)}function sC(a,u){return xh(8390656,8,a,u)}function Ip(a,u){return vh(2048,8,a,u)}function oC(a,u){return vh(4,2,a,u)}function aC(a,u){return vh(4,4,a,u)}function lC(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function cC(a,u,m){return m=m!=null?m.concat([a]):null,vh(4,4,lC.bind(null,u,a),m)}function Np(){}function uC(a,u){var m=Zr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&Tp(u,x[1])?x[0]:(m.memoizedState=[a,u],a)}function dC(a,u){var m=Zr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&Tp(u,x[1])?x[0]:(a=a(),m.memoizedState=[a,u],a)}function hC(a,u,m){return(Ko&21)===0?(a.baseState&&(a.baseState=!1,xr=!0),a.memoizedState=m):(li(m,u)||(m=Bw(),nn.lanes|=m,Yo|=m,a.baseState=!0),u)}function CL(a,u){var m=At;At=m!==0&&4>m?m:4,a(!0);var x=Rp.transition;Rp.transition={};try{a(!1),u()}finally{At=m,Rp.transition=x}}function fC(){return Zr().memoizedState}function SL(a,u,m){var x=ro(a);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},mC(a))gC(u,m);else if(m=W1(a,u,m,x),m!==null){var C=lr();fi(m,a,x,C),pC(m,u,x)}}function bL(a,u,m){var x=ro(a),C={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(mC(a))gC(u,C);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var A=u.lastRenderedState,O=E(A,m);if(C.hasEagerState=!0,C.eagerState=O,li(O,A)){var W=u.interleaved;W===null?(C.next=C,_p(u)):(C.next=W.next,W.next=C),u.interleaved=C;return}}catch{}finally{}m=W1(a,u,C,x),m!==null&&(C=lr(),fi(m,a,x,C),pC(m,u,x))}}function mC(a){var u=a.alternate;return a===nn||u!==null&&u===nn}function gC(a,u){Hc=yh=!0;var m=a.pending;m===null?u.next=u:(u.next=m.next,m.next=u),a.pending=u}function pC(a,u,m){if((m&4194240)!==0){var x=u.lanes;x&=a.pendingLanes,m|=x,u.lanes=m,jg(a,m)}}var _h={readContext:Yr,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},EL={readContext:Yr,useCallback:function(a,u){return Gi().memoizedState=[a,u===void 0?null:u],a},useContext:Yr,useEffect:sC,useImperativeHandle:function(a,u,m){return m=m!=null?m.concat([a]):null,xh(4194308,4,lC.bind(null,u,a),m)},useLayoutEffect:function(a,u){return xh(4194308,4,a,u)},useInsertionEffect:function(a,u){return xh(4,2,a,u)},useMemo:function(a,u){var m=Gi();return u=u===void 0?null:u,a=a(),m.memoizedState=[a,u],a},useReducer:function(a,u,m){var x=Gi();return u=m!==void 0?m(u):u,x.memoizedState=x.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},x.queue=a,a=a.dispatch=SL.bind(null,nn,a),[x.memoizedState,a]},useRef:function(a){var u=Gi();return a={current:a},u.memoizedState=a},useState:rC,useDebugValue:Np,useDeferredValue:function(a){return Gi().memoizedState=a},useTransition:function(){var a=rC(!1),u=a[0];return a=CL.bind(null,a[1]),Gi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,m){var x=nn,C=Gi();if(Zt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),Fn===null)throw Error(n(349));(Ko&30)!==0||J1(x,u,m)}C.memoizedState=m;var E={value:m,getSnapshot:u};return C.queue=E,sC(eC.bind(null,x,E,a),[a]),x.flags|=2048,Yc(9,Q1.bind(null,x,E,m,u),void 0,null),m},useId:function(){var a=Gi(),u=Fn.identifierPrefix;if(Zt){var m=gs,x=ms;m=(x&~(1<<32-ai(x)-1)).toString(32)+m,u=":"+u+"R"+m,m=Xc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=wL++,u=":"+u+"r"+m.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},RL={readContext:Yr,useCallback:uC,useContext:Yr,useEffect:Ip,useImperativeHandle:cC,useInsertionEffect:oC,useLayoutEffect:aC,useMemo:dC,useReducer:Ap,useRef:iC,useState:function(){return Ap(Kc)},useDebugValue:Np,useDeferredValue:function(a){var u=Zr();return hC(u,Sn.memoizedState,a)},useTransition:function(){var a=Ap(Kc)[0],u=Zr().memoizedState;return[a,u]},useMutableSource:Z1,useSyncExternalStore:q1,useId:fC,unstable_isNewReconciler:!1},TL={readContext:Yr,useCallback:uC,useContext:Yr,useEffect:Ip,useImperativeHandle:cC,useInsertionEffect:oC,useLayoutEffect:aC,useMemo:dC,useReducer:Mp,useRef:iC,useState:function(){return Mp(Kc)},useDebugValue:Np,useDeferredValue:function(a){var u=Zr();return Sn===null?u.memoizedState=a:hC(u,Sn.memoizedState,a)},useTransition:function(){var a=Mp(Kc)[0],u=Zr().memoizedState;return[a,u]},useMutableSource:Z1,useSyncExternalStore:q1,useId:fC,unstable_isNewReconciler:!1};function ui(a,u){if(a&&a.defaultProps){u=q({},u),a=a.defaultProps;for(var m in a)u[m]===void 0&&(u[m]=a[m]);return u}return u}function Fp(a,u,m,x){u=a.memoizedState,m=m(x,u),m=m==null?u:q({},u,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var wh={isMounted:function(a){return(a=a._reactInternals)?$o(a)===a:!1},enqueueSetState:function(a,u,m){a=a._reactInternals;var x=lr(),C=ro(a),E=ys(x,C);E.payload=u,m!=null&&(E.callback=m),u=Qs(a,E,C),u!==null&&(fi(u,a,C,x),fh(u,a,C))},enqueueReplaceState:function(a,u,m){a=a._reactInternals;var x=lr(),C=ro(a),E=ys(x,C);E.tag=1,E.payload=u,m!=null&&(E.callback=m),u=Qs(a,E,C),u!==null&&(fi(u,a,C,x),fh(u,a,C))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var m=lr(),x=ro(a),C=ys(m,x);C.tag=2,u!=null&&(C.callback=u),u=Qs(a,C,x),u!==null&&(fi(u,a,x,m),fh(u,a,x))}};function yC(a,u,m,x,C,E,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,E,A):u.prototype&&u.prototype.isPureReactComponent?!jc(m,x)||!jc(C,E):!0}function xC(a,u,m){var x=!1,C=Zs,E=u.contextType;return typeof E=="object"&&E!==null?E=Yr(E):(C=yr(u)?Go:Xn.current,x=u.contextTypes,E=(x=x!=null)?tl(a,C):Zs),u=new u(m,E),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=wh,a.stateNode=u,u._reactInternals=a,x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=C,a.__reactInternalMemoizedMaskedChildContext=E),u}function vC(a,u,m,x){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==a&&wh.enqueueReplaceState(u,u.state,null)}function jp(a,u,m,x){var C=a.stateNode;C.props=m,C.state=a.memoizedState,C.refs={},wp(a);var E=u.contextType;typeof E=="object"&&E!==null?C.context=Yr(E):(E=yr(u)?Go:Xn.current,C.context=tl(a,E)),C.state=a.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Fp(a,u,E,m),C.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(u=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),u!==C.state&&wh.enqueueReplaceState(C,C.state,null),mh(a,m,C,x),C.state=a.memoizedState),typeof C.componentDidMount=="function"&&(a.flags|=4194308)}function cl(a,u){try{var m="",x=u;do m+=ce(x),x=x.return;while(x);var C=m}catch(E){C=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:u,stack:C,digest:null}}function Lp(a,u,m){return{value:a,source:null,stack:m??null,digest:u??null}}function Dp(a,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var PL=typeof WeakMap=="function"?WeakMap:Map;function _C(a,u,m){m=ys(-1,m),m.tag=3,m.payload={element:null};var x=u.value;return m.callback=function(){Ph||(Ph=!0,Jp=x),Dp(a,u)},m}function wC(a,u,m){m=ys(-1,m),m.tag=3;var x=a.type.getDerivedStateFromError;if(typeof x=="function"){var C=u.value;m.payload=function(){return x(C)},m.callback=function(){Dp(a,u)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){Dp(a,u),typeof x!="function"&&(to===null?to=new Set([this]):to.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})}),m}function CC(a,u,m){var x=a.pingCache;if(x===null){x=a.pingCache=new PL;var C=new Set;x.set(u,C)}else C=x.get(u),C===void 0&&(C=new Set,x.set(u,C));C.has(m)||(C.add(m),a=BL.bind(null,a,u,m),u.then(a,a))}function SC(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function bC(a,u,m,x,C){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=ys(-1,1),u.tag=2,Qs(m,u,1))),m.lanes|=1),a):(a.flags|=65536,a.lanes=C,a)}var kL=P.ReactCurrentOwner,xr=!1;function ar(a,u,m,x){u.child=a===null?U1(u,null,m,x):sl(u,a.child,m,x)}function EC(a,u,m,x,C){m=m.render;var E=u.ref;return al(u,C),x=Pp(a,u,m,x,E,C),m=kp(),a!==null&&!xr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~C,xs(a,u,C)):(Zt&&m&&dp(u),u.flags|=1,ar(a,u,x,C),u.child)}function RC(a,u,m,x,C){if(a===null){var E=m.type;return typeof E=="function"&&!sy(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=E,TC(a,u,E,x,C)):(a=Fh(m.type,null,x,u,u.mode,C),a.ref=u.ref,a.return=u,u.child=a)}if(E=a.child,(a.lanes&C)===0){var A=E.memoizedProps;if(m=m.compare,m=m!==null?m:jc,m(A,x)&&a.ref===u.ref)return xs(a,u,C)}return u.flags|=1,a=so(E,x),a.ref=u.ref,a.return=u,u.child=a}function TC(a,u,m,x,C){if(a!==null){var E=a.memoizedProps;if(jc(E,x)&&a.ref===u.ref)if(xr=!1,u.pendingProps=x=E,(a.lanes&C)!==0)(a.flags&131072)!==0&&(xr=!0);else return u.lanes=a.lanes,xs(a,u,C)}return Op(a,u,m,x,C)}function PC(a,u,m){var x=u.pendingProps,C=x.children,E=a!==null?a.memoizedState:null;if(x.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(dl,jr),jr|=m;else{if((m&1073741824)===0)return a=E!==null?E.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,$t(dl,jr),jr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=E!==null?E.baseLanes:m,$t(dl,jr),jr|=x}else E!==null?(x=E.baseLanes|m,u.memoizedState=null):x=m,$t(dl,jr),jr|=x;return ar(a,u,C,m),u.child}function kC(a,u){var m=u.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Op(a,u,m,x,C){var E=yr(m)?Go:Xn.current;return E=tl(u,E),al(u,C),m=Pp(a,u,m,x,E,C),x=kp(),a!==null&&!xr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~C,xs(a,u,C)):(Zt&&x&&dp(u),u.flags|=1,ar(a,u,m,C),u.child)}function AC(a,u,m,x,C){if(yr(m)){var E=!0;sh(u)}else E=!1;if(al(u,C),u.stateNode===null)Sh(a,u),xC(u,m,x),jp(u,m,x,C),x=!0;else if(a===null){var A=u.stateNode,O=u.memoizedProps;A.props=O;var W=A.context,ne=m.contextType;typeof ne=="object"&&ne!==null?ne=Yr(ne):(ne=yr(m)?Go:Xn.current,ne=tl(u,ne));var de=m.getDerivedStateFromProps,me=typeof de=="function"||typeof A.getSnapshotBeforeUpdate=="function";me||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==x||W!==ne)&&vC(u,A,x,ne),Js=!1;var ue=u.memoizedState;A.state=ue,mh(u,x,A,C),W=u.memoizedState,O!==x||ue!==W||pr.current||Js?(typeof de=="function"&&(Fp(u,m,de,x),W=u.memoizedState),(O=Js||yC(u,m,O,x,ue,W,ne))?(me||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=W),A.props=x,A.state=W,A.context=ne,x=O):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{A=u.stateNode,H1(a,u),O=u.memoizedProps,ne=u.type===u.elementType?O:ui(u.type,O),A.props=ne,me=u.pendingProps,ue=A.context,W=m.contextType,typeof W=="object"&&W!==null?W=Yr(W):(W=yr(m)?Go:Xn.current,W=tl(u,W));var Ee=m.getDerivedStateFromProps;(de=typeof Ee=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==me||ue!==W)&&vC(u,A,x,W),Js=!1,ue=u.memoizedState,A.state=ue,mh(u,x,A,C);var ke=u.memoizedState;O!==me||ue!==ke||pr.current||Js?(typeof Ee=="function"&&(Fp(u,m,Ee,x),ke=u.memoizedState),(ne=Js||yC(u,m,ne,x,ue,ke,W)||!1)?(de||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,ke,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,ke,W)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=ke),A.props=x,A.state=ke,A.context=W,x=ne):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),x=!1)}return Vp(a,u,m,x,E,C)}function Vp(a,u,m,x,C,E){kC(a,u);var A=(u.flags&128)!==0;if(!x&&!A)return C&&j1(u,m,!1),xs(a,u,E);x=u.stateNode,kL.current=u;var O=A&&typeof m.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,a!==null&&A?(u.child=sl(u,a.child,null,E),u.child=sl(u,null,O,E)):ar(a,u,O,E),u.memoizedState=x.state,C&&j1(u,m,!0),u.child}function MC(a){var u=a.stateNode;u.pendingContext?N1(a,u.pendingContext,u.pendingContext!==u.context):u.context&&N1(a,u.context,!1),Cp(a,u.containerInfo)}function IC(a,u,m,x,C){return il(),gp(C),u.flags|=256,ar(a,u,m,x),u.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function $p(a){return{baseLanes:a,cachePool:null,transitions:null}}function NC(a,u,m){var x=u.pendingProps,C=tn.current,E=!1,A=(u.flags&128)!==0,O;if((O=A)||(O=a!==null&&a.memoizedState===null?!1:(C&2)!==0),O?(E=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(C|=1),$t(tn,C&1),a===null)return mp(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(A=x.children,a=x.fallback,E?(x=u.mode,E=u.child,A={mode:"hidden",children:A},(x&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=A):E=jh(A,x,0,null),a=Qo(a,x,m,null),E.return=u,a.return=u,E.sibling=a,u.child=E,u.child.memoizedState=$p(m),u.memoizedState=zp,a):Bp(u,A));if(C=a.memoizedState,C!==null&&(O=C.dehydrated,O!==null))return AL(a,u,A,x,O,C,m);if(E){E=x.fallback,A=u.mode,C=a.child,O=C.sibling;var W={mode:"hidden",children:x.children};return(A&1)===0&&u.child!==C?(x=u.child,x.childLanes=0,x.pendingProps=W,u.deletions=null):(x=so(C,W),x.subtreeFlags=C.subtreeFlags&14680064),O!==null?E=so(O,E):(E=Qo(E,A,m,null),E.flags|=2),E.return=u,x.return=u,x.sibling=E,u.child=x,x=E,E=u.child,A=a.child.memoizedState,A=A===null?$p(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=a.childLanes&~m,u.memoizedState=zp,x}return E=a.child,a=E.sibling,x=so(E,{mode:"visible",children:x.children}),(u.mode&1)===0&&(x.lanes=m),x.return=u,x.sibling=null,a!==null&&(m=u.deletions,m===null?(u.deletions=[a],u.flags|=16):m.push(a)),u.child=x,u.memoizedState=null,x}function Bp(a,u){return u=jh({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Ch(a,u,m,x){return x!==null&&gp(x),sl(u,a.child,null,m),a=Bp(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function AL(a,u,m,x,C,E,A){if(m)return u.flags&256?(u.flags&=-257,x=Lp(Error(n(422))),Ch(a,u,A,x)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(E=x.fallback,C=u.mode,x=jh({mode:"visible",children:x.children},C,0,null),E=Qo(E,C,A,null),E.flags|=2,x.return=u,E.return=u,x.sibling=E,u.child=x,(u.mode&1)!==0&&sl(u,a.child,null,A),u.child.memoizedState=$p(A),u.memoizedState=zp,E);if((u.mode&1)===0)return Ch(a,u,A,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var O=x.dgst;return x=O,E=Error(n(419)),x=Lp(E,x,void 0),Ch(a,u,A,x)}if(O=(A&a.childLanes)!==0,xr||O){if(x=Fn,x!==null){switch(A&-A){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(x.suspendedLanes|A))!==0?0:C,C!==0&&C!==E.retryLane&&(E.retryLane=C,ps(a,C),fi(x,a,C,-1))}return iy(),x=Lp(Error(n(421))),Ch(a,u,A,x)}return C.data==="$?"?(u.flags|=128,u.child=a.child,u=GL.bind(null,a),C._reactRetry=u,null):(a=E.treeContext,Fr=Ks(C.nextSibling),Nr=u,Zt=!0,ci=null,a!==null&&(Xr[Kr++]=ms,Xr[Kr++]=gs,Xr[Kr++]=Uo,ms=a.id,gs=a.overflow,Uo=u),u=Bp(u,x.children),u.flags|=4096,u)}function FC(a,u,m){a.lanes|=u;var x=a.alternate;x!==null&&(x.lanes|=u),vp(a.return,u,m)}function Gp(a,u,m,x,C){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:C}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=x,E.tail=m,E.tailMode=C)}function jC(a,u,m){var x=u.pendingProps,C=x.revealOrder,E=x.tail;if(ar(a,u,x.children,m),x=tn.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FC(a,m,u);else if(a.tag===19)FC(a,m,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}x&=1}if($t(tn,x),(u.mode&1)===0)u.memoizedState=null;else switch(C){case"forwards":for(m=u.child,C=null;m!==null;)a=m.alternate,a!==null&&gh(a)===null&&(C=m),m=m.sibling;m=C,m===null?(C=u.child,u.child=null):(C=m.sibling,m.sibling=null),Gp(u,!1,C,m,E);break;case"backwards":for(m=null,C=u.child,u.child=null;C!==null;){if(a=C.alternate,a!==null&&gh(a)===null){u.child=C;break}a=C.sibling,C.sibling=m,m=C,C=a}Gp(u,!0,m,null,E);break;case"together":Gp(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Sh(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function xs(a,u,m){if(a!==null&&(u.dependencies=a.dependencies),Yo|=u.lanes,(m&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,m=so(a,a.pendingProps),u.child=m,m.return=u;a.sibling!==null;)a=a.sibling,m=m.sibling=so(a,a.pendingProps),m.return=u;m.sibling=null}return u.child}function ML(a,u,m){switch(u.tag){case 3:MC(u),il();break;case 5:Y1(u);break;case 1:yr(u.type)&&sh(u);break;case 4:Cp(u,u.stateNode.containerInfo);break;case 10:var x=u.type._context,C=u.memoizedProps.value;$t(dh,x._currentValue),x._currentValue=C;break;case 13:if(x=u.memoizedState,x!==null)return x.dehydrated!==null?($t(tn,tn.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?NC(a,u,m):($t(tn,tn.current&1),a=xs(a,u,m),a!==null?a.sibling:null);$t(tn,tn.current&1);break;case 19:if(x=(m&u.childLanes)!==0,(a.flags&128)!==0){if(x)return jC(a,u,m);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),$t(tn,tn.current),x)break;return null;case 22:case 23:return u.lanes=0,PC(a,u,m)}return xs(a,u,m)}var LC,Up,DC,OC;LC=function(a,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Up=function(){},DC=function(a,u,m,x){var C=a.memoizedProps;if(C!==x){a=u.stateNode,Xo(Bi.current);var E=null;switch(m){case"input":C=mt(a,C),x=mt(a,x),E=[];break;case"select":C=q({},C,{value:void 0}),x=q({},x,{value:void 0}),E=[];break;case"textarea":C=te(a,C),x=te(a,x),E=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(a.onclick=nh)}ve(m,x);var A;m=null;for(ne in C)if(!x.hasOwnProperty(ne)&&C.hasOwnProperty(ne)&&C[ne]!=null)if(ne==="style"){var O=C[ne];for(A in O)O.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?E||(E=[]):(E=E||[]).push(ne,null));for(ne in x){var W=x[ne];if(O=C!=null?C[ne]:void 0,x.hasOwnProperty(ne)&&W!==O&&(W!=null||O!=null))if(ne==="style")if(O){for(A in O)!O.hasOwnProperty(A)||W&&W.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in W)W.hasOwnProperty(A)&&O[A]!==W[A]&&(m||(m={}),m[A]=W[A])}else m||(E||(E=[]),E.push(ne,m)),m=W;else ne==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,O=O?O.__html:void 0,W!=null&&O!==W&&(E=E||[]).push(ne,W)):ne==="children"?typeof W!="string"&&typeof W!="number"||(E=E||[]).push(ne,""+W):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(W!=null&&ne==="onScroll"&&Ht("scroll",a),E||O===W||(E=[])):(E=E||[]).push(ne,W))}m&&(E=E||[]).push("style",m);var ne=E;(u.updateQueue=ne)&&(u.flags|=4)}},OC=function(a,u,m,x){m!==x&&(u.flags|=4)};function Zc(a,u){if(!Zt)switch(a.tailMode){case"hidden":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function Yn(a){var u=a.alternate!==null&&a.alternate.child===a.child,m=0,x=0;if(u)for(var C=a.child;C!==null;)m|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=a,C=C.sibling;else for(C=a.child;C!==null;)m|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=a,C=C.sibling;return a.subtreeFlags|=x,a.childLanes=m,u}function IL(a,u,m){var x=u.pendingProps;switch(hp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(u),null;case 1:return yr(u.type)&&ih(),Yn(u),null;case 3:return x=u.stateNode,ll(),Xt(pr),Xt(Xn),Ep(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(a===null||a.child===null)&&(ch(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ci!==null&&(ty(ci),ci=null))),Up(a,u),Yn(u),null;case 5:Sp(u);var C=Xo(Wc.current);if(m=u.type,a!==null&&u.stateNode!=null)DC(a,u,m,x,C),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Yn(u),null}if(a=Xo(Bi.current),ch(u)){x=u.stateNode,m=u.type;var E=u.memoizedProps;switch(x[$i]=u,x[zc]=E,a=(u.mode&1)!==0,m){case"dialog":Ht("cancel",x),Ht("close",x);break;case"iframe":case"object":case"embed":Ht("load",x);break;case"video":case"audio":for(C=0;C<Dc.length;C++)Ht(Dc[C],x);break;case"source":Ht("error",x);break;case"img":case"image":case"link":Ht("error",x),Ht("load",x);break;case"details":Ht("toggle",x);break;case"input":Ut(x,E),Ht("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!E.multiple},Ht("invalid",x);break;case"textarea":fe(x,E),Ht("invalid",x)}ve(m,E),C=null;for(var A in E)if(E.hasOwnProperty(A)){var O=E[A];A==="children"?typeof O=="string"?x.textContent!==O&&(E.suppressHydrationWarning!==!0&&th(x.textContent,O,a),C=["children",O]):typeof O=="number"&&x.textContent!==""+O&&(E.suppressHydrationWarning!==!0&&th(x.textContent,O,a),C=["children",""+O]):i.hasOwnProperty(A)&&O!=null&&A==="onScroll"&&Ht("scroll",x)}switch(m){case"input":$e(x),Vn(x,E,!0);break;case"textarea":$e(x),se(x);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(x.onclick=nh)}x=C,u.updateQueue=x,x!==null&&(u.flags|=4)}else{A=C.nodeType===9?C:C.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ye(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof x.is=="string"?a=A.createElement(m,{is:x.is}):(a=A.createElement(m),m==="select"&&(A=a,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):a=A.createElementNS(a,m),a[$i]=u,a[zc]=x,LC(a,u,!1,!1),u.stateNode=a;e:{switch(A=vt(m,x),m){case"dialog":Ht("cancel",a),Ht("close",a),C=x;break;case"iframe":case"object":case"embed":Ht("load",a),C=x;break;case"video":case"audio":for(C=0;C<Dc.length;C++)Ht(Dc[C],a);C=x;break;case"source":Ht("error",a),C=x;break;case"img":case"image":case"link":Ht("error",a),Ht("load",a),C=x;break;case"details":Ht("toggle",a),C=x;break;case"input":Ut(a,x),C=mt(a,x),Ht("invalid",a);break;case"option":C=x;break;case"select":a._wrapperState={wasMultiple:!!x.multiple},C=q({},x,{value:void 0}),Ht("invalid",a);break;case"textarea":fe(a,x),C=te(a,x),Ht("invalid",a);break;default:C=x}ve(m,C),O=C;for(E in O)if(O.hasOwnProperty(E)){var W=O[E];E==="style"?Ar(a,W):E==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&xt(a,W)):E==="children"?typeof W=="string"?(m!=="textarea"||W!=="")&&Ot(a,W):typeof W=="number"&&Ot(a,""+W):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?W!=null&&E==="onScroll"&&Ht("scroll",a):W!=null&&T(a,E,W,A))}switch(m){case"input":$e(a),Vn(a,x,!1);break;case"textarea":$e(a),se(a);break;case"option":x.value!=null&&a.setAttribute("value",""+pe(x.value));break;case"select":a.multiple=!!x.multiple,E=x.value,E!=null?J(a,!!x.multiple,E,!1):x.defaultValue!=null&&J(a,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(a.onclick=nh)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Yn(u),null;case 6:if(a&&u.stateNode!=null)OC(a,u,a.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(m=Xo(Wc.current),Xo(Bi.current),ch(u)){if(x=u.stateNode,m=u.memoizedProps,x[$i]=u,(E=x.nodeValue!==m)&&(a=Nr,a!==null))switch(a.tag){case 3:th(x.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&th(x.nodeValue,m,(a.mode&1)!==0)}E&&(u.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[$i]=u,u.stateNode=x}return Yn(u),null;case 13:if(Xt(tn),x=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Zt&&Fr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)$1(),il(),u.flags|=98560,E=!1;else if(E=ch(u),x!==null&&x.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[$i]=u}else il(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Yn(u),E=!1}else ci!==null&&(ty(ci),ci=null),E=!0;if(!E)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(x=x!==null,x!==(a!==null&&a.memoizedState!==null)&&x&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(tn.current&1)!==0?bn===0&&(bn=3):iy())),u.updateQueue!==null&&(u.flags|=4),Yn(u),null);case 4:return ll(),Up(a,u),a===null&&Oc(u.stateNode.containerInfo),Yn(u),null;case 10:return xp(u.type._context),Yn(u),null;case 17:return yr(u.type)&&ih(),Yn(u),null;case 19:if(Xt(tn),E=u.memoizedState,E===null)return Yn(u),null;if(x=(u.flags&128)!==0,A=E.rendering,A===null)if(x)Zc(E,!1);else{if(bn!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(A=gh(a),A!==null){for(u.flags|=128,Zc(E,!1),x=A.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),u.subtreeFlags=0,x=m,m=u.child;m!==null;)E=m,a=x,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,a=A.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return $t(tn,tn.current&1|2),u.child}a=a.sibling}E.tail!==null&&cn()>hl&&(u.flags|=128,x=!0,Zc(E,!1),u.lanes=4194304)}else{if(!x)if(a=gh(A),a!==null){if(u.flags|=128,x=!0,m=a.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Zc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!Zt)return Yn(u),null}else 2*cn()-E.renderingStartTime>hl&&m!==1073741824&&(u.flags|=128,x=!0,Zc(E,!1),u.lanes=4194304);E.isBackwards?(A.sibling=u.child,u.child=A):(m=E.last,m!==null?m.sibling=A:u.child=A,E.last=A)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=cn(),u.sibling=null,m=tn.current,$t(tn,x?m&1|2:m&1),u):(Yn(u),null);case 22:case 23:return ry(),x=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==x&&(u.flags|=8192),x&&(u.mode&1)!==0?(jr&1073741824)!==0&&(Yn(u),u.subtreeFlags&6&&(u.flags|=8192)):Yn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function NL(a,u){switch(hp(u),u.tag){case 1:return yr(u.type)&&ih(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return ll(),Xt(pr),Xt(Xn),Ep(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Sp(u),null;case 13:if(Xt(tn),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));il()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Xt(tn),null;case 4:return ll(),null;case 10:return xp(u.type._context),null;case 22:case 23:return ry(),null;case 24:return null;default:return null}}var bh=!1,Zn=!1,FL=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function ul(a,u){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){on(a,u,x)}else m.current=null}function Wp(a,u,m){try{m()}catch(x){on(a,u,x)}}var VC=!1;function jL(a,u){if(rp=Ud,a=y1(),Yg(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var C=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var A=0,O=-1,W=-1,ne=0,de=0,me=a,ue=null;t:for(;;){for(var Ee;me!==m||C!==0&&me.nodeType!==3||(O=A+C),me!==E||x!==0&&me.nodeType!==3||(W=A+x),me.nodeType===3&&(A+=me.nodeValue.length),(Ee=me.firstChild)!==null;)ue=me,me=Ee;for(;;){if(me===a)break t;if(ue===m&&++ne===C&&(O=A),ue===E&&++de===x&&(W=A),(Ee=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=Ee}m=O===-1||W===-1?null:{start:O,end:W}}else m=null}m=m||{start:0,end:0}}else m=null;for(ip={focusedElem:a,selectionRange:m},Ud=!1,Pe=u;Pe!==null;)if(u=Pe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Pe=a;else for(;Pe!==null;){u=Pe;try{var ke=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Ne=ke.memoizedProps,un=ke.memoizedState,Q=u.stateNode,K=Q.getSnapshotBeforeUpdate(u.elementType===u.type?Ne:ui(u.type,Ne),un);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=u.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){on(u,u.return,xe)}if(a=u.sibling,a!==null){a.return=u.return,Pe=a;break}Pe=u.return}return ke=VC,VC=!1,ke}function qc(a,u,m){var x=u.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&a)===a){var E=C.destroy;C.destroy=void 0,E!==void 0&&Wp(u,m,E)}C=C.next}while(C!==x)}}function Eh(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&a)===a){var x=m.create;m.destroy=x()}m=m.next}while(m!==u)}}function Hp(a){var u=a.ref;if(u!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof u=="function"?u(a):u.current=a}}function zC(a){var u=a.alternate;u!==null&&(a.alternate=null,zC(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[$i],delete u[zc],delete u[lp],delete u[yL],delete u[xL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function $C(a){return a.tag===5||a.tag===3||a.tag===4}function BC(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$C(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xp(a,u,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(a,u):m.insertBefore(a,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(a,m)):(u=m,u.appendChild(a)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=nh));else if(x!==4&&(a=a.child,a!==null))for(Xp(a,u,m),a=a.sibling;a!==null;)Xp(a,u,m),a=a.sibling}function Kp(a,u,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,u?m.insertBefore(a,u):m.appendChild(a);else if(x!==4&&(a=a.child,a!==null))for(Kp(a,u,m),a=a.sibling;a!==null;)Kp(a,u,m),a=a.sibling}var $n=null,di=!1;function eo(a,u,m){for(m=m.child;m!==null;)GC(a,u,m),m=m.sibling}function GC(a,u,m){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Od,m)}catch{}switch(m.tag){case 5:Zn||ul(m,u);case 6:var x=$n,C=di;$n=null,eo(a,u,m),$n=x,di=C,$n!==null&&(di?(a=$n,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):$n.removeChild(m.stateNode));break;case 18:$n!==null&&(di?(a=$n,m=m.stateNode,a.nodeType===8?ap(a.parentNode,m):a.nodeType===1&&ap(a,m),kc(a)):ap($n,m.stateNode));break;case 4:x=$n,C=di,$n=m.stateNode.containerInfo,di=!0,eo(a,u,m),$n=x,di=C;break;case 0:case 11:case 14:case 15:if(!Zn&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var E=C,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&Wp(m,u,A),C=C.next}while(C!==x)}eo(a,u,m);break;case 1:if(!Zn&&(ul(m,u),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(O){on(m,u,O)}eo(a,u,m);break;case 21:eo(a,u,m);break;case 22:m.mode&1?(Zn=(x=Zn)||m.memoizedState!==null,eo(a,u,m),Zn=x):eo(a,u,m);break;default:eo(a,u,m)}}function UC(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new FL),u.forEach(function(x){var C=UL.bind(null,a,x);m.has(x)||(m.add(x),x.then(C,C))})}}function hi(a,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var C=m[x];try{var E=a,A=u,O=A;e:for(;O!==null;){switch(O.tag){case 5:$n=O.stateNode,di=!1;break e;case 3:$n=O.stateNode.containerInfo,di=!0;break e;case 4:$n=O.stateNode.containerInfo,di=!0;break e}O=O.return}if($n===null)throw Error(n(160));GC(E,A,C),$n=null,di=!1;var W=C.alternate;W!==null&&(W.return=null),C.return=null}catch(ne){on(C,u,ne)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)WC(u,a),u=u.sibling}function WC(a,u){var m=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(hi(u,a),Ui(a),x&4){try{qc(3,a,a.return),Eh(3,a)}catch(Ne){on(a,a.return,Ne)}try{qc(5,a,a.return)}catch(Ne){on(a,a.return,Ne)}}break;case 1:hi(u,a),Ui(a),x&512&&m!==null&&ul(m,m.return);break;case 5:if(hi(u,a),Ui(a),x&512&&m!==null&&ul(m,m.return),a.flags&32){var C=a.stateNode;try{Ot(C,"")}catch(Ne){on(a,a.return,Ne)}}if(x&4&&(C=a.stateNode,C!=null)){var E=a.memoizedProps,A=m!==null?m.memoizedProps:E,O=a.type,W=a.updateQueue;if(a.updateQueue=null,W!==null)try{O==="input"&&E.type==="radio"&&E.name!=null&&Lt(C,E),vt(O,A);var ne=vt(O,E);for(A=0;A<W.length;A+=2){var de=W[A],me=W[A+1];de==="style"?Ar(C,me):de==="dangerouslySetInnerHTML"?xt(C,me):de==="children"?Ot(C,me):T(C,de,me,ne)}switch(O){case"input":Dt(C,E);break;case"textarea":he(C,E);break;case"select":var ue=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!E.multiple;var Ee=E.value;Ee!=null?J(C,!!E.multiple,Ee,!1):ue!==!!E.multiple&&(E.defaultValue!=null?J(C,!!E.multiple,E.defaultValue,!0):J(C,!!E.multiple,E.multiple?[]:"",!1))}C[zc]=E}catch(Ne){on(a,a.return,Ne)}}break;case 6:if(hi(u,a),Ui(a),x&4){if(a.stateNode===null)throw Error(n(162));C=a.stateNode,E=a.memoizedProps;try{C.nodeValue=E}catch(Ne){on(a,a.return,Ne)}}break;case 3:if(hi(u,a),Ui(a),x&4&&m!==null&&m.memoizedState.isDehydrated)try{kc(u.containerInfo)}catch(Ne){on(a,a.return,Ne)}break;case 4:hi(u,a),Ui(a);break;case 13:hi(u,a),Ui(a),C=a.child,C.flags&8192&&(E=C.memoizedState!==null,C.stateNode.isHidden=E,!E||C.alternate!==null&&C.alternate.memoizedState!==null||(qp=cn())),x&4&&UC(a);break;case 22:if(de=m!==null&&m.memoizedState!==null,a.mode&1?(Zn=(ne=Zn)||de,hi(u,a),Zn=ne):hi(u,a),Ui(a),x&8192){if(ne=a.memoizedState!==null,(a.stateNode.isHidden=ne)&&!de&&(a.mode&1)!==0)for(Pe=a,de=a.child;de!==null;){for(me=Pe=de;Pe!==null;){switch(ue=Pe,Ee=ue.child,ue.tag){case 0:case 11:case 14:case 15:qc(4,ue,ue.return);break;case 1:ul(ue,ue.return);var ke=ue.stateNode;if(typeof ke.componentWillUnmount=="function"){x=ue,m=ue.return;try{u=x,ke.props=u.memoizedProps,ke.state=u.memoizedState,ke.componentWillUnmount()}catch(Ne){on(x,m,Ne)}}break;case 5:ul(ue,ue.return);break;case 22:if(ue.memoizedState!==null){KC(me);continue}}Ee!==null?(Ee.return=ue,Pe=Ee):KC(me)}de=de.sibling}e:for(de=null,me=a;;){if(me.tag===5){if(de===null){de=me;try{C=me.stateNode,ne?(E=C.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(O=me.stateNode,W=me.memoizedProps.style,A=W!=null&&W.hasOwnProperty("display")?W.display:null,O.style.display=kr("display",A))}catch(Ne){on(a,a.return,Ne)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Ne){on(a,a.return,Ne)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:hi(u,a),Ui(a),x&4&&UC(a);break;case 21:break;default:hi(u,a),Ui(a)}}function Ui(a){var u=a.flags;if(u&2){try{e:{for(var m=a.return;m!==null;){if($C(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&(Ot(C,""),x.flags&=-33);var E=BC(a);Kp(a,E,C);break;case 3:case 4:var A=x.stateNode.containerInfo,O=BC(a);Xp(a,O,A);break;default:throw Error(n(161))}}catch(W){on(a,a.return,W)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function LL(a,u,m){Pe=a,HC(a)}function HC(a,u,m){for(var x=(a.mode&1)!==0;Pe!==null;){var C=Pe,E=C.child;if(C.tag===22&&x){var A=C.memoizedState!==null||bh;if(!A){var O=C.alternate,W=O!==null&&O.memoizedState!==null||Zn;O=bh;var ne=Zn;if(bh=A,(Zn=W)&&!ne)for(Pe=C;Pe!==null;)A=Pe,W=A.child,A.tag===22&&A.memoizedState!==null?YC(C):W!==null?(W.return=A,Pe=W):YC(C);for(;E!==null;)Pe=E,HC(E),E=E.sibling;Pe=C,bh=O,Zn=ne}XC(a)}else(C.subtreeFlags&8772)!==0&&E!==null?(E.return=C,Pe=E):XC(a)}}function XC(a){for(;Pe!==null;){var u=Pe;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Zn||Eh(5,u);break;case 1:var x=u.stateNode;if(u.flags&4&&!Zn)if(m===null)x.componentDidMount();else{var C=u.elementType===u.type?m.memoizedProps:ui(u.type,m.memoizedProps);x.componentDidUpdate(C,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&K1(u,E,x);break;case 3:var A=u.updateQueue;if(A!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}K1(u,A,m)}break;case 5:var O=u.stateNode;if(m===null&&u.flags&4){m=O;var W=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&m.focus();break;case"img":W.src&&(m.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ne=u.alternate;if(ne!==null){var de=ne.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&kc(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zn||u.flags&512&&Hp(u)}catch(ue){on(u,u.return,ue)}}if(u===a){Pe=null;break}if(m=u.sibling,m!==null){m.return=u.return,Pe=m;break}Pe=u.return}}function KC(a){for(;Pe!==null;){var u=Pe;if(u===a){Pe=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Pe=m;break}Pe=u.return}}function YC(a){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Eh(4,u)}catch(W){on(u,m,W)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var C=u.return;try{x.componentDidMount()}catch(W){on(u,C,W)}}var E=u.return;try{Hp(u)}catch(W){on(u,E,W)}break;case 5:var A=u.return;try{Hp(u)}catch(W){on(u,A,W)}}}catch(W){on(u,u.return,W)}if(u===a){Pe=null;break}var O=u.sibling;if(O!==null){O.return=u.return,Pe=O;break}Pe=u.return}}var DL=Math.ceil,Rh=P.ReactCurrentDispatcher,Yp=P.ReactCurrentOwner,qr=P.ReactCurrentBatchConfig,_t=0,Fn=null,gn=null,Bn=0,jr=0,dl=Ys(0),bn=0,Jc=null,Yo=0,Th=0,Zp=0,Qc=null,vr=null,qp=0,hl=1/0,vs=null,Ph=!1,Jp=null,to=null,kh=!1,no=null,Ah=0,eu=0,Qp=null,Mh=-1,Ih=0;function lr(){return(_t&6)!==0?cn():Mh!==-1?Mh:Mh=cn()}function ro(a){return(a.mode&1)===0?1:(_t&2)!==0&&Bn!==0?Bn&-Bn:_L.transition!==null?(Ih===0&&(Ih=Bw()),Ih):(a=At,a!==0||(a=window.event,a=a===void 0?16:qw(a.type)),a)}function fi(a,u,m,x){if(50<eu)throw eu=0,Qp=null,Error(n(185));bc(a,m,x),((_t&2)===0||a!==Fn)&&(a===Fn&&((_t&2)===0&&(Th|=m),bn===4&&io(a,Bn)),_r(a,x),m===1&&_t===0&&(u.mode&1)===0&&(hl=cn()+500,oh&&qs()))}function _r(a,u){var m=a.callbackNode;_j(a,u);var x=$d(a,a===Fn?Bn:0);if(x===0)m!==null&&Vw(m),a.callbackNode=null,a.callbackPriority=0;else if(u=x&-x,a.callbackPriority!==u){if(m!=null&&Vw(m),u===1)a.tag===0?vL(qC.bind(null,a)):L1(qC.bind(null,a)),gL(function(){(_t&6)===0&&qs()}),m=null;else{switch(Gw(x)){case 1:m=Ig;break;case 4:m=zw;break;case 16:m=Dd;break;case 536870912:m=$w;break;default:m=Dd}m=sS(m,ZC.bind(null,a))}a.callbackPriority=u,a.callbackNode=m}}function ZC(a,u){if(Mh=-1,Ih=0,(_t&6)!==0)throw Error(n(327));var m=a.callbackNode;if(fl()&&a.callbackNode!==m)return null;var x=$d(a,a===Fn?Bn:0);if(x===0)return null;if((x&30)!==0||(x&a.expiredLanes)!==0||u)u=Nh(a,x);else{u=x;var C=_t;_t|=2;var E=QC();(Fn!==a||Bn!==u)&&(vs=null,hl=cn()+500,qo(a,u));do try{zL();break}catch(O){JC(a,O)}while(!0);yp(),Rh.current=E,_t=C,gn!==null?u=0:(Fn=null,Bn=0,u=bn)}if(u!==0){if(u===2&&(C=Ng(a),C!==0&&(x=C,u=ey(a,C))),u===1)throw m=Jc,qo(a,0),io(a,x),_r(a,cn()),m;if(u===6)io(a,x);else{if(C=a.current.alternate,(x&30)===0&&!OL(C)&&(u=Nh(a,x),u===2&&(E=Ng(a),E!==0&&(x=E,u=ey(a,E))),u===1))throw m=Jc,qo(a,0),io(a,x),_r(a,cn()),m;switch(a.finishedWork=C,a.finishedLanes=x,u){case 0:case 1:throw Error(n(345));case 2:Jo(a,vr,vs);break;case 3:if(io(a,x),(x&130023424)===x&&(u=qp+500-cn(),10<u)){if($d(a,0)!==0)break;if(C=a.suspendedLanes,(C&x)!==x){lr(),a.pingedLanes|=a.suspendedLanes&C;break}a.timeoutHandle=op(Jo.bind(null,a,vr,vs),u);break}Jo(a,vr,vs);break;case 4:if(io(a,x),(x&4194240)===x)break;for(u=a.eventTimes,C=-1;0<x;){var A=31-ai(x);E=1<<A,A=u[A],A>C&&(C=A),x&=~E}if(x=C,x=cn()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*DL(x/1960))-x,10<x){a.timeoutHandle=op(Jo.bind(null,a,vr,vs),x);break}Jo(a,vr,vs);break;case 5:Jo(a,vr,vs);break;default:throw Error(n(329))}}}return _r(a,cn()),a.callbackNode===m?ZC.bind(null,a):null}function ey(a,u){var m=Qc;return a.current.memoizedState.isDehydrated&&(qo(a,u).flags|=256),a=Nh(a,u),a!==2&&(u=vr,vr=m,u!==null&&ty(u)),a}function ty(a){vr===null?vr=a:vr.push.apply(vr,a)}function OL(a){for(var u=a;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var C=m[x],E=C.getSnapshot;C=C.value;try{if(!li(E(),C))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function io(a,u){for(u&=~Zp,u&=~Th,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var m=31-ai(u),x=1<<m;a[m]=-1,u&=~x}}function qC(a){if((_t&6)!==0)throw Error(n(327));fl();var u=$d(a,0);if((u&1)===0)return _r(a,cn()),null;var m=Nh(a,u);if(a.tag!==0&&m===2){var x=Ng(a);x!==0&&(u=x,m=ey(a,x))}if(m===1)throw m=Jc,qo(a,0),io(a,u),_r(a,cn()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Jo(a,vr,vs),_r(a,cn()),null}function ny(a,u){var m=_t;_t|=1;try{return a(u)}finally{_t=m,_t===0&&(hl=cn()+500,oh&&qs())}}function Zo(a){no!==null&&no.tag===0&&(_t&6)===0&&fl();var u=_t;_t|=1;var m=qr.transition,x=At;try{if(qr.transition=null,At=1,a)return a()}finally{At=x,qr.transition=m,_t=u,(_t&6)===0&&qs()}}function ry(){jr=dl.current,Xt(dl)}function qo(a,u){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,mL(m)),gn!==null)for(m=gn.return;m!==null;){var x=m;switch(hp(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&ih();break;case 3:ll(),Xt(pr),Xt(Xn),Ep();break;case 5:Sp(x);break;case 4:ll();break;case 13:Xt(tn);break;case 19:Xt(tn);break;case 10:xp(x.type._context);break;case 22:case 23:ry()}m=m.return}if(Fn=a,gn=a=so(a.current,null),Bn=jr=u,bn=0,Jc=null,Zp=Th=Yo=0,vr=Qc=null,Ho!==null){for(u=0;u<Ho.length;u++)if(m=Ho[u],x=m.interleaved,x!==null){m.interleaved=null;var C=x.next,E=m.pending;if(E!==null){var A=E.next;E.next=C,x.next=A}m.pending=x}Ho=null}return a}function JC(a,u){do{var m=gn;try{if(yp(),ph.current=_h,yh){for(var x=nn.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}yh=!1}if(Ko=0,Nn=Sn=nn=null,Hc=!1,Xc=0,Yp.current=null,m===null||m.return===null){bn=1,Jc=u,gn=null;break}e:{var E=a,A=m.return,O=m,W=u;if(u=Bn,O.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ne=W,de=O,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ee=SC(A);if(Ee!==null){Ee.flags&=-257,bC(Ee,A,O,E,u),Ee.mode&1&&CC(E,ne,u),u=Ee,W=ne;var ke=u.updateQueue;if(ke===null){var Ne=new Set;Ne.add(W),u.updateQueue=Ne}else ke.add(W);break e}else{if((u&1)===0){CC(E,ne,u),iy();break e}W=Error(n(426))}}else if(Zt&&O.mode&1){var un=SC(A);if(un!==null){(un.flags&65536)===0&&(un.flags|=256),bC(un,A,O,E,u),gp(cl(W,O));break e}}E=W=cl(W,O),bn!==4&&(bn=2),Qc===null?Qc=[E]:Qc.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var Q=_C(E,W,u);X1(E,Q);break e;case 1:O=W;var K=E.type,ee=E.stateNode;if((E.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(to===null||!to.has(ee)))){E.flags|=65536,u&=-u,E.lanes|=u;var xe=wC(E,O,u);X1(E,xe);break e}}E=E.return}while(E!==null)}tS(m)}catch(Le){u=Le,gn===m&&m!==null&&(gn=m=m.return);continue}break}while(!0)}function QC(){var a=Rh.current;return Rh.current=_h,a===null?_h:a}function iy(){(bn===0||bn===3||bn===2)&&(bn=4),Fn===null||(Yo&268435455)===0&&(Th&268435455)===0||io(Fn,Bn)}function Nh(a,u){var m=_t;_t|=2;var x=QC();(Fn!==a||Bn!==u)&&(vs=null,qo(a,u));do try{VL();break}catch(C){JC(a,C)}while(!0);if(yp(),_t=m,Rh.current=x,gn!==null)throw Error(n(261));return Fn=null,Bn=0,bn}function VL(){for(;gn!==null;)eS(gn)}function zL(){for(;gn!==null&&!dj();)eS(gn)}function eS(a){var u=iS(a.alternate,a,jr);a.memoizedProps=a.pendingProps,u===null?tS(a):gn=u,Yp.current=null}function tS(a){var u=a;do{var m=u.alternate;if(a=u.return,(u.flags&32768)===0){if(m=IL(m,u,jr),m!==null){gn=m;return}}else{if(m=NL(m,u),m!==null){m.flags&=32767,gn=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{bn=6,gn=null;return}}if(u=u.sibling,u!==null){gn=u;return}gn=u=a}while(u!==null);bn===0&&(bn=5)}function Jo(a,u,m){var x=At,C=qr.transition;try{qr.transition=null,At=1,$L(a,u,m,x)}finally{qr.transition=C,At=x}return null}function $L(a,u,m,x){do fl();while(no!==null);if((_t&6)!==0)throw Error(n(327));m=a.finishedWork;var C=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var E=m.lanes|m.childLanes;if(wj(a,E),a===Fn&&(gn=Fn=null,Bn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||kh||(kh=!0,sS(Dd,function(){return fl(),null})),E=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||E){E=qr.transition,qr.transition=null;var A=At;At=1;var O=_t;_t|=4,Yp.current=null,jL(a,m),WC(m,a),aL(ip),Ud=!!rp,ip=rp=null,a.current=m,LL(m),hj(),_t=O,At=A,qr.transition=E}else a.current=m;if(kh&&(kh=!1,no=a,Ah=C),E=a.pendingLanes,E===0&&(to=null),gj(m.stateNode),_r(a,cn()),u!==null)for(x=a.onRecoverableError,m=0;m<u.length;m++)C=u[m],x(C.value,{componentStack:C.stack,digest:C.digest});if(Ph)throw Ph=!1,a=Jp,Jp=null,a;return(Ah&1)!==0&&a.tag!==0&&fl(),E=a.pendingLanes,(E&1)!==0?a===Qp?eu++:(eu=0,Qp=a):eu=0,qs(),null}function fl(){if(no!==null){var a=Gw(Ah),u=qr.transition,m=At;try{if(qr.transition=null,At=16>a?16:a,no===null)var x=!1;else{if(a=no,no=null,Ah=0,(_t&6)!==0)throw Error(n(331));var C=_t;for(_t|=4,Pe=a.current;Pe!==null;){var E=Pe,A=E.child;if((Pe.flags&16)!==0){var O=E.deletions;if(O!==null){for(var W=0;W<O.length;W++){var ne=O[W];for(Pe=ne;Pe!==null;){var de=Pe;switch(de.tag){case 0:case 11:case 15:qc(8,de,E)}var me=de.child;if(me!==null)me.return=de,Pe=me;else for(;Pe!==null;){de=Pe;var ue=de.sibling,Ee=de.return;if(zC(de),de===ne){Pe=null;break}if(ue!==null){ue.return=Ee,Pe=ue;break}Pe=Ee}}}var ke=E.alternate;if(ke!==null){var Ne=ke.child;if(Ne!==null){ke.child=null;do{var un=Ne.sibling;Ne.sibling=null,Ne=un}while(Ne!==null)}}Pe=E}}if((E.subtreeFlags&2064)!==0&&A!==null)A.return=E,Pe=A;else e:for(;Pe!==null;){if(E=Pe,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:qc(9,E,E.return)}var Q=E.sibling;if(Q!==null){Q.return=E.return,Pe=Q;break e}Pe=E.return}}var K=a.current;for(Pe=K;Pe!==null;){A=Pe;var ee=A.child;if((A.subtreeFlags&2064)!==0&&ee!==null)ee.return=A,Pe=ee;else e:for(A=K;Pe!==null;){if(O=Pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Eh(9,O)}}catch(Le){on(O,O.return,Le)}if(O===A){Pe=null;break e}var xe=O.sibling;if(xe!==null){xe.return=O.return,Pe=xe;break e}Pe=O.return}}if(_t=C,qs(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(Od,a)}catch{}x=!0}return x}finally{At=m,qr.transition=u}}return!1}function nS(a,u,m){u=cl(m,u),u=_C(a,u,1),a=Qs(a,u,1),u=lr(),a!==null&&(bc(a,1,u),_r(a,u))}function on(a,u,m){if(a.tag===3)nS(a,a,m);else for(;u!==null;){if(u.tag===3){nS(u,a,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(to===null||!to.has(x))){a=cl(m,a),a=wC(u,a,1),u=Qs(u,a,1),a=lr(),u!==null&&(bc(u,1,a),_r(u,a));break}}u=u.return}}function BL(a,u,m){var x=a.pingCache;x!==null&&x.delete(u),u=lr(),a.pingedLanes|=a.suspendedLanes&m,Fn===a&&(Bn&m)===m&&(bn===4||bn===3&&(Bn&130023424)===Bn&&500>cn()-qp?qo(a,0):Zp|=m),_r(a,u)}function rS(a,u){u===0&&((a.mode&1)===0?u=1:(u=zd,zd<<=1,(zd&130023424)===0&&(zd=4194304)));var m=lr();a=ps(a,u),a!==null&&(bc(a,u,m),_r(a,m))}function GL(a){var u=a.memoizedState,m=0;u!==null&&(m=u.retryLane),rS(a,m)}function UL(a,u){var m=0;switch(a.tag){case 13:var x=a.stateNode,C=a.memoizedState;C!==null&&(m=C.retryLane);break;case 19:x=a.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(u),rS(a,m)}var iS;iS=function(a,u,m){if(a!==null)if(a.memoizedProps!==u.pendingProps||pr.current)xr=!0;else{if((a.lanes&m)===0&&(u.flags&128)===0)return xr=!1,ML(a,u,m);xr=(a.flags&131072)!==0}else xr=!1,Zt&&(u.flags&1048576)!==0&&D1(u,lh,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;Sh(a,u),a=u.pendingProps;var C=tl(u,Xn.current);al(u,m),C=Pp(null,u,x,a,C,m);var E=kp();return u.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,yr(x)?(E=!0,sh(u)):E=!1,u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,wp(u),C.updater=wh,u.stateNode=C,C._reactInternals=u,jp(u,x,a,m),u=Vp(null,u,x,!0,E,m)):(u.tag=0,Zt&&E&&dp(u),ar(null,u,C,m),u=u.child),u;case 16:x=u.elementType;e:{switch(Sh(a,u),a=u.pendingProps,C=x._init,x=C(x._payload),u.type=x,C=u.tag=HL(x),a=ui(x,a),C){case 0:u=Op(null,u,x,a,m);break e;case 1:u=AC(null,u,x,a,m);break e;case 11:u=EC(null,u,x,a,m);break e;case 14:u=RC(null,u,x,ui(x.type,a),m);break e}throw Error(n(306,x,""))}return u;case 0:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:ui(x,C),Op(a,u,x,C,m);case 1:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:ui(x,C),AC(a,u,x,C,m);case 3:e:{if(MC(u),a===null)throw Error(n(387));x=u.pendingProps,E=u.memoizedState,C=E.element,H1(a,u),mh(u,x,null,m);var A=u.memoizedState;if(x=A.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){C=cl(Error(n(423)),u),u=IC(a,u,x,m,C);break e}else if(x!==C){C=cl(Error(n(424)),u),u=IC(a,u,x,m,C);break e}else for(Fr=Ks(u.stateNode.containerInfo.firstChild),Nr=u,Zt=!0,ci=null,m=U1(u,null,x,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(il(),x===C){u=xs(a,u,m);break e}ar(a,u,x,m)}u=u.child}return u;case 5:return Y1(u),a===null&&mp(u),x=u.type,C=u.pendingProps,E=a!==null?a.memoizedProps:null,A=C.children,sp(x,C)?A=null:E!==null&&sp(x,E)&&(u.flags|=32),kC(a,u),ar(a,u,A,m),u.child;case 6:return a===null&&mp(u),null;case 13:return NC(a,u,m);case 4:return Cp(u,u.stateNode.containerInfo),x=u.pendingProps,a===null?u.child=sl(u,null,x,m):ar(a,u,x,m),u.child;case 11:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:ui(x,C),EC(a,u,x,C,m);case 7:return ar(a,u,u.pendingProps,m),u.child;case 8:return ar(a,u,u.pendingProps.children,m),u.child;case 12:return ar(a,u,u.pendingProps.children,m),u.child;case 10:e:{if(x=u.type._context,C=u.pendingProps,E=u.memoizedProps,A=C.value,$t(dh,x._currentValue),x._currentValue=A,E!==null)if(li(E.value,A)){if(E.children===C.children&&!pr.current){u=xs(a,u,m);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var O=E.dependencies;if(O!==null){A=E.child;for(var W=O.firstContext;W!==null;){if(W.context===x){if(E.tag===1){W=ys(-1,m&-m),W.tag=2;var ne=E.updateQueue;if(ne!==null){ne=ne.shared;var de=ne.pending;de===null?W.next=W:(W.next=de.next,de.next=W),ne.pending=W}}E.lanes|=m,W=E.alternate,W!==null&&(W.lanes|=m),vp(E.return,m,u),O.lanes|=m;break}W=W.next}}else if(E.tag===10)A=E.type===u.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(n(341));A.lanes|=m,O=A.alternate,O!==null&&(O.lanes|=m),vp(A,m,u),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===u){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}ar(a,u,C.children,m),u=u.child}return u;case 9:return C=u.type,x=u.pendingProps.children,al(u,m),C=Yr(C),x=x(C),u.flags|=1,ar(a,u,x,m),u.child;case 14:return x=u.type,C=ui(x,u.pendingProps),C=ui(x.type,C),RC(a,u,x,C,m);case 15:return TC(a,u,u.type,u.pendingProps,m);case 17:return x=u.type,C=u.pendingProps,C=u.elementType===x?C:ui(x,C),Sh(a,u),u.tag=1,yr(x)?(a=!0,sh(u)):a=!1,al(u,m),xC(u,x,C),jp(u,x,C,m),Vp(null,u,x,!0,a,m);case 19:return jC(a,u,m);case 22:return PC(a,u,m)}throw Error(n(156,u.tag))};function sS(a,u){return Ow(a,u)}function WL(a,u,m,x){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(a,u,m,x){return new WL(a,u,m,x)}function sy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function HL(a){if(typeof a=="function")return sy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===Z)return 14}return 2}function so(a,u){var m=a.alternate;return m===null?(m=Jr(a.tag,u,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=u,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,u=a.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function Fh(a,u,m,x,C,E){var A=2;if(x=a,typeof a=="function")sy(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case F:return Qo(m.children,C,E,u);case I:A=8,C|=8;break;case z:return a=Jr(12,m,u,C|2),a.elementType=z,a.lanes=E,a;case B:return a=Jr(13,m,u,C),a.elementType=B,a.lanes=E,a;case X:return a=Jr(19,m,u,C),a.elementType=X,a.lanes=E,a;case D:return jh(m,C,E,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case G:A=10;break e;case V:A=9;break e;case H:A=11;break e;case Z:A=14;break e;case Y:A=16,x=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Jr(A,m,u,C),u.elementType=a,u.type=x,u.lanes=E,u}function Qo(a,u,m,x){return a=Jr(7,a,x,u),a.lanes=m,a}function jh(a,u,m,x){return a=Jr(22,a,x,u),a.elementType=D,a.lanes=m,a.stateNode={isHidden:!1},a}function oy(a,u,m){return a=Jr(6,a,null,u),a.lanes=m,a}function ay(a,u,m){return u=Jr(4,a.children!==null?a.children:[],a.key,u),u.lanes=m,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function XL(a,u,m,x,C){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fg(0),this.expirationTimes=Fg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fg(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function ly(a,u,m,x,C,E,A,O,W){return a=new XL(a,u,m,O,W),u===1?(u=1,E===!0&&(u|=8)):u=0,E=Jr(3,null,null,u),a.current=E,E.stateNode=a,E.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(E),a}function KL(a,u,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:x==null?null:""+x,children:a,containerInfo:u,implementation:m}}function oS(a){if(!a)return Zs;a=a._reactInternals;e:{if($o(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(yr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(yr(m))return F1(a,m,u)}return u}function aS(a,u,m,x,C,E,A,O,W){return a=ly(m,x,!0,a,C,E,A,O,W),a.context=oS(null),m=a.current,x=lr(),C=ro(m),E=ys(x,C),E.callback=u??null,Qs(m,E,C),a.current.lanes=C,bc(a,C,x),_r(a,x),a}function Lh(a,u,m,x){var C=u.current,E=lr(),A=ro(C);return m=oS(m),u.context===null?u.context=m:u.pendingContext=m,u=ys(E,A),u.payload={element:a},x=x===void 0?null:x,x!==null&&(u.callback=x),a=Qs(C,u,A),a!==null&&(fi(a,C,A,E),fh(a,C,A)),A}function Dh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function lS(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<u?m:u}}function cy(a,u){lS(a,u),(a=a.alternate)&&lS(a,u)}function YL(){return null}var cS=typeof reportError=="function"?reportError:function(a){console.error(a)};function uy(a){this._internalRoot=a}Oh.prototype.render=uy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));Lh(a,u,null,null)},Oh.prototype.unmount=uy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Zo(function(){Lh(null,a,null,null)}),u[hs]=null}};function Oh(a){this._internalRoot=a}Oh.prototype.unstable_scheduleHydration=function(a){if(a){var u=Hw();a={blockedOn:null,target:a,priority:u};for(var m=0;m<Ws.length&&u!==0&&u<Ws[m].priority;m++);Ws.splice(m,0,a),m===0&&Yw(a)}};function dy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Vh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function uS(){}function ZL(a,u,m,x,C){if(C){if(typeof x=="function"){var E=x;x=function(){var ne=Dh(A);E.call(ne)}}var A=aS(u,x,a,0,null,!1,!1,"",uS);return a._reactRootContainer=A,a[hs]=A.current,Oc(a.nodeType===8?a.parentNode:a),Zo(),A}for(;C=a.lastChild;)a.removeChild(C);if(typeof x=="function"){var O=x;x=function(){var ne=Dh(W);O.call(ne)}}var W=ly(a,0,!1,null,null,!1,!1,"",uS);return a._reactRootContainer=W,a[hs]=W.current,Oc(a.nodeType===8?a.parentNode:a),Zo(function(){Lh(u,W,m,x)}),W}function zh(a,u,m,x,C){var E=m._reactRootContainer;if(E){var A=E;if(typeof C=="function"){var O=C;C=function(){var W=Dh(A);O.call(W)}}Lh(u,A,a,C)}else A=ZL(m,u,a,C,x);return Dh(A)}Uw=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var m=Sc(u.pendingLanes);m!==0&&(jg(u,m|1),_r(u,cn()),(_t&6)===0&&(hl=cn()+500,qs()))}break;case 13:Zo(function(){var x=ps(a,1);if(x!==null){var C=lr();fi(x,a,1,C)}}),cy(a,1)}},Lg=function(a){if(a.tag===13){var u=ps(a,134217728);if(u!==null){var m=lr();fi(u,a,134217728,m)}cy(a,134217728)}},Ww=function(a){if(a.tag===13){var u=ro(a),m=ps(a,u);if(m!==null){var x=lr();fi(m,a,u,x)}cy(a,u)}},Hw=function(){return At},Xw=function(a,u){var m=At;try{return At=a,u()}finally{At=m}},Wt=function(a,u,m){switch(u){case"input":if(Dt(a,m),u=m.name,m.type==="radio"&&u!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var x=m[u];if(x!==a&&x.form===a.form){var C=rh(x);if(!C)throw Error(n(90));Ve(x),Dt(x,C)}}}break;case"textarea":he(a,m);break;case"select":u=m.value,u!=null&&J(a,!!m.multiple,u,!1)}},Be=ny,Tt=Zo;var qL={usingClientEntryPoint:!1,Events:[$c,Qa,rh,Ye,ct,ny]},tu={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JL={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Lw(a),a===null?null:a.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||YL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Od=$h.inject(JL),zi=$h}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qL,wr.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dy(u))throw Error(n(200));return KL(a,u,null,m)},wr.createRoot=function(a,u){if(!dy(a))throw Error(n(299));var m=!1,x="",C=cS;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),u=ly(a,1,!1,null,null,m,!1,x,C),a[hs]=u.current,Oc(a.nodeType===8?a.parentNode:a),new uy(u)},wr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Lw(u),a=a===null?null:a.stateNode,a},wr.flushSync=function(a){return Zo(a)},wr.hydrate=function(a,u,m){if(!Vh(u))throw Error(n(200));return zh(null,a,u,!0,m)},wr.hydrateRoot=function(a,u,m){if(!dy(a))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,C=!1,E="",A=cS;if(m!=null&&(m.unstable_strictMode===!0&&(C=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),u=aS(u,null,a,1,m??null,C,!1,E,A),a[hs]=u.current,Oc(a),x)for(a=0;a<x.length;a++)m=x[a],C=m._getVersion,C=C(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,C]:u.mutableSourceEagerHydrationData.push(m,C);return new Oh(u)},wr.render=function(a,u,m){if(!Vh(u))throw Error(n(200));return zh(null,a,u,!1,m)},wr.unmountComponentAtNode=function(a){if(!Vh(a))throw Error(n(40));return a._reactRootContainer?(Zo(function(){zh(null,null,a,!1,function(){a._reactRootContainer=null,a[hs]=null})}),!0):!1},wr.unstable_batchedUpdates=ny,wr.unstable_renderSubtreeIntoContainer=function(a,u,m,x){if(!Vh(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return zh(a,u,m,!1,x)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var xS;function gT(){if(xS)return my.exports;xS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),my.exports=oD(),my.exports}var vS;function aD(){if(vS)return Bh;vS=1;var t=gT();return Bh.createRoot=t.createRoot,Bh.hydrateRoot=t.hydrateRoot,Bh}var lD=aD();const pT=Yx(lD);var ru={},_S;function cD(){if(_S)return ru;_S=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.parse=o,ru.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const v=new s,w=p.length;if(w<2)return v;const S=(y==null?void 0:y.decode)||h;let b=0;do{const R=p.indexOf("=",b);if(R===-1)break;const T=p.indexOf(";",b),P=T===-1?w:T;if(R>P){b=p.lastIndexOf(";",R-1)+1;continue}const k=l(p,b,R),M=c(p,R,k),F=p.slice(k,M);if(v[F]===void 0){let I=l(p,R+1,P),z=c(p,P,I);const G=S(p.slice(I,z));v[F]=G}b=P+1}while(b<w);return v}function l(p,y,v){do{const w=p.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function c(p,y,v){for(;y>v;){const w=p.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function d(p,y,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=w(y);if(!e.test(S))throw new TypeError(`argument val is invalid: ${y}`);let b=p+"="+S;if(!v)return b;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);b+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);b+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);b+="; Path="+v.path}if(v.expires){if(!f(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);b+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(b+="; HttpOnly"),v.secure&&(b+="; Secure"),v.partitioned&&(b+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return b}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return i.call(p)==="[object Date]"}return ru}cD();var wS="popstate";function uD(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return _0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fu(i)}return hD(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ki(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dD(){return Math.random().toString(36).substring(2,10)}function CS(t,e){return{usr:t.state,key:t.key,idx:e}}function _0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ic(e):e,state:n,key:e&&e.key||r||dD()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ic(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function hD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let S=h(),b=S==null?null:S-d;d=S,c&&c({action:l,location:w.location,delta:b})}function p(S,b){l="PUSH";let R=_0(w.location,S,b);d=h()+1;let T=CS(R,d),P=w.createHref(R);try{o.pushState(T,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(P)}s&&c&&c({action:l,location:w.location,delta:1})}function y(S,b){l="REPLACE";let R=_0(w.location,S,b);d=h();let T=CS(R,d),P=w.createHref(R);o.replaceState(T,"",P),s&&c&&c({action:l,location:w.location,delta:0})}function v(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof S=="string"?S:Fu(S);return R=R.replace(/ $/,"%20"),qt(b,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,b)}let w={get action(){return l},get location(){return t(i,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,f),c=S,()=>{i.removeEventListener(wS,f),c=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let b=v(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:y,go(S){return o.go(S)}};return w}function yT(t,e,n="/"){return fD(t,e,n,!1)}function fD(t,e,n,r){let i=typeof e=="string"?ic(e):e,s=Is(i.pathname||"/",n);if(s==null)return null;let o=xT(t);mD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ED(s);l=SD(o[c],d,r)}return l}function xT(t,e=[],n=[],r=""){let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(qt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=As([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(qt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),xT(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:wD(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of vT(s.path))i(s,o,c)}),e}function vT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vT(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function mD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gD=/^:[\w-]+$/,pD=3,yD=2,xD=1,vD=10,_D=-2,SS=t=>t==="*";function wD(t,e){let n=t.split("/"),r=n.length;return n.some(SS)&&(r+=_D),e&&(r+=yD),n.filter(i=>!SS(i)).reduce((i,s)=>i+(gD.test(s)?pD:s===""?xD:vD),r)}function CD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function SD(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Vf({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Vf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:As([s,f.pathname]),pathnameBase:kD(As([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=As([s,f.pathnameBase]))}return o}function Vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let v=l[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[p];return f&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function bD(t,e=!1,n=!0){ki(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ED(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ic(t):t;return{pathname:n?n.startsWith("/")?n:TD(n,e):e,search:AD(r),hash:MD(i)}}function TD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qx(t){let e=PD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Jx(t,e,n,r=!1){let i;typeof t=="string"?i=ic(t):(i={...t},qt(!i.pathname||!i.pathname.includes("?"),yy("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),yy("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),yy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=RD(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var As=t=>t.join("/").replace(/\/\/+/g,"/"),kD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ID(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _T=["POST","PUT","PATCH","DELETE"];new Set(_T);var ND=["GET",..._T];new Set(ND);var sc=_.createContext(null);sc.displayName="DataRouter";var Rm=_.createContext(null);Rm.displayName="DataRouterState";var wT=_.createContext({isTransitioning:!1});wT.displayName="ViewTransition";var FD=_.createContext(new Map);FD.displayName="Fetchers";var jD=_.createContext(null);jD.displayName="Await";var Ii=_.createContext(null);Ii.displayName="Navigation";var cd=_.createContext(null);cd.displayName="Location";var Ni=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var Qx=_.createContext(null);Qx.displayName="RouteError";function LD(t,{relative:e}={}){qt(oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Ii),{hash:i,pathname:s,search:o}=dd(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:As([n,s])),r.createHref({pathname:l,search:o,hash:i})}function oc(){return _.useContext(cd)!=null}function Fi(){return qt(oc(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(cd).location}var CT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ST(t){_.useContext(Ii).static||_.useLayoutEffect(t)}function ud(){let{isDataRoute:t}=_.useContext(Ni);return t?ZD():DD()}function DD(){qt(oc(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(sc),{basename:e,navigator:n}=_.useContext(Ii),{matches:r}=_.useContext(Ni),{pathname:i}=Fi(),s=JSON.stringify(qx(r)),o=_.useRef(!1);return ST(()=>{o.current=!0}),_.useCallback((c,d={})=>{if(ki(o.current,CT),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=Jx(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:As([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}var bT=_.createContext(null);function ev(){return _.useContext(bT)}function OD(t){let e=_.useContext(Ni).outlet;return e&&_.createElement(bT.Provider,{value:t},e)}function dd(t,{relative:e}={}){let{matches:n}=_.useContext(Ni),{pathname:r}=Fi(),i=JSON.stringify(qx(n));return _.useMemo(()=>Jx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function VD(t,e){return ET(t,e)}function ET(t,e,n,r){var R;qt(oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=_.useContext(Ii),{matches:o}=_.useContext(Ni),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let T=f&&f.path||"";RT(d,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=Fi(),y;if(e){let T=typeof e=="string"?ic(e):e;qt(h==="/"||((R=T.pathname)==null?void 0:R.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=p;let v=y.pathname||"/",w=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=!s&&n&&n.matches&&n.matches.length>0?n.matches:yT(t,{pathname:w});ki(f||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ki(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=UD(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:As([h,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:As([h,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&b?_.createElement(cd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function zD(){let t=YD(),e=ID(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,o)}var $D=_.createElement(zD,null),BD=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(Ni.Provider,{value:this.props.routeContext},_.createElement(Qx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GD({routeContext:t,match:e,children:n}){let r=_.useContext(sc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Ni.Provider,{value:t},n)}function UD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);qt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let f,p=!1,y=null,v=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||$D,o&&(l<0&&h===0?(RT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),S=()=>{let b;return f?b=y:p?b=v:d.route.Component?b=_.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,_.createElement(GD,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(BD,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function tv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WD(t){let e=_.useContext(sc);return qt(e,tv(t)),e}function HD(t){let e=_.useContext(Rm);return qt(e,tv(t)),e}function XD(t){let e=_.useContext(Ni);return qt(e,tv(t)),e}function nv(t){let e=XD(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KD(){return nv("useRouteId")}function YD(){var r;let t=_.useContext(Qx),e=HD("useRouteError"),n=nv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ZD(){let{router:t}=WD("useNavigate"),e=nv("useNavigate"),n=_.useRef(!1);return ST(()=>{n.current=!0}),_.useCallback(async(i,s={})=>{ki(n.current,CT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var bS={};function RT(t,e,n){!e&&!bS[t]&&(bS[t]=!0,ki(!1,n))}_.memo(qD);function qD({routes:t,future:e,state:n}){return ET(t,void 0,n,e)}function TT({to:t,replace:e,state:n,relative:r}){qt(oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Ii);ki(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Ni),{pathname:o}=Fi(),l=ud(),c=Jx(t,qx(s),o,r==="path"),d=JSON.stringify(c);return _.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function JD(t){return OD(t.context)}function Es(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){qt(!oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=ic(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,y=_.useMemo(()=>{let v=Is(c,o);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return ki(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(Ii.Provider,{value:l},_.createElement(cd.Provider,{children:e,value:y}))}function eO({children:t,location:e}){return VD(w0(t),e)}function w0(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,w0(r.props.children,s));return}qt(r.type===Es,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=w0(r.props.children,s)),n.push(o)}),n}var Sf="get",bf="application/x-www-form-urlencoded";function Tm(t){return t!=null&&typeof t.tagName=="string"}function tO(t){return Tm(t)&&t.tagName.toLowerCase()==="button"}function nO(t){return Tm(t)&&t.tagName.toLowerCase()==="form"}function rO(t){return Tm(t)&&t.tagName.toLowerCase()==="input"}function iO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sO(t,e){return t.button===0&&(!e||e==="_self")&&!iO(t)}var Gh=null;function oO(){if(Gh===null)try{new FormData(document.createElement("form"),0),Gh=!1}catch{Gh=!0}return Gh}var aO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xy(t){return t!=null&&!aO.has(t)?(ki(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):t}function lO(t,e){let n,r,i,s,o;if(nO(t)){let l=t.getAttribute("action");r=l?Is(l,e):null,n=t.getAttribute("method")||Sf,i=xy(t.getAttribute("enctype"))||bf,s=new FormData(t)}else if(tO(t)||rO(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Is(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Sf,i=xy(t.getAttribute("formenctype"))||xy(l.getAttribute("enctype"))||bf,s=new FormData(l,t),!oO()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,f)}}else{if(Tm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sf,r=null,i=bf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function rv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function cO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dO(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await cO(s,n);return o.links?o.links():[]}return[]}));return gO(r.flat(1).filter(uO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ES(t,e,n,r,i,s){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function hO(t,e,{includeHydrateFallback:n}={}){return fO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function fO(t){return[...new Set(t)]}function mO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(mO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var pO=new Set([100,101,204,205]);function yO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Is(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function PT(){let t=_.useContext(sc);return rv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xO(){let t=_.useContext(Rm);return rv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iv=_.createContext(void 0);iv.displayName="FrameworkContext";function kT(){let t=_.useContext(iv);return rv(t,"You must render this element inside a <HydratedRouter> element"),t}function vO(t,e){let n=_.useContext(iv),[r,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=b=>{b.forEach(R=>{o(R.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:iu(l,y),onBlur:iu(c,v),onMouseEnter:iu(d,y),onMouseLeave:iu(h,v),onTouchStart:iu(f,y)}]:[!1,p,{}]}function iu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _O({page:t,...e}){let{router:n}=PT(),r=_.useMemo(()=>yT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(CO,{page:t,matches:r,...e}):null}function wO(t){let{manifest:e,routeModules:n}=kT(),[r,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return dO(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function CO({page:t,matches:e,...n}){let r=Fi(),{manifest:i,routeModules:s}=kT(),{basename:o}=PT(),{loaderData:l,matches:c}=xO(),d=_.useMemo(()=>ES(t,e,c,i,r,"data"),[t,e,c,i,r]),h=_.useMemo(()=>ES(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(b=>{var T;let R=i.routes[b.route.id];!R||!R.hasLoader||(!d.some(P=>P.route.id===b.route.id)&&b.route.id in l&&((T=s[b.route.id])!=null&&T.shouldRevalidate)||R.hasClientLoader?w=!0:v.add(b.route.id))}),v.size===0)return[];let S=yO(t,o);return w&&v.size>0&&S.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[o,l,r,i,d,e,t,s]),p=_.useMemo(()=>hO(h,i),[h,i]),y=wO(h);return _.createElement(_.Fragment,null,f.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:w})=>_.createElement("link",{key:v,...w})))}function SO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AT&&(window.__reactRouterVersion="7.5.2")}catch{}function bO({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=uD({window:n,v5Compat:!0}));let i=r.current,[s,o]=_.useState({action:i.action,location:i.location}),l=_.useCallback(c=>{_.startTransition(()=>o(c))},[o]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(QD,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IT=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},y){let{basename:v}=_.useContext(Ii),w=typeof d=="string"&&MT.test(d),S,b=!1;if(typeof d=="string"&&w&&(S=d,AT))try{let z=new URL(window.location.href),G=d.startsWith("//")?new URL(z.protocol+d):new URL(d),V=Is(G.pathname,v);G.origin===z.origin&&V!=null?d=V+G.search+G.hash:b=!0}catch{ki(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=LD(d,{relative:i}),[T,P,k]=vO(r,p),M=PO(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function F(z){e&&e(z),z.defaultPrevented||M(z)}let I=_.createElement("a",{...p,...k,href:S||R,onClick:b||s?e:F,ref:SO(y,P),target:c,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?_.createElement(_.Fragment,null,I,_.createElement(_O,{page:R})):I});IT.displayName="Link";var EO=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},h){let f=dd(o,{relative:d.relative}),p=Fi(),y=_.useContext(Rm),{navigator:v,basename:w}=_.useContext(Ii),S=y!=null&&NO(f)&&l===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,R=p.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(R=R.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&w&&(T=Is(T,w)||T);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=R===b||!i&&R.startsWith(b)&&R.charAt(P)==="/",M=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),F={isActive:k,isPending:M,isTransitioning:S},I=k?e:void 0,z;typeof r=="function"?z=r(F):z=[r,k?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(F):s;return _.createElement(IT,{...d,"aria-current":I,className:z,ref:h,style:G,to:o,viewTransition:l},typeof c=="function"?c(F):c)});EO.displayName="NavLink";var RO=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Sf,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},y)=>{let v=MO(),w=IO(l,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&MT.test(l),R=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||o;v(P||T.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:f})};return _.createElement("form",{ref:y,method:S,action:w,onSubmit:r?c:R,...p,"data-discover":!b&&t==="render"?"true":void 0})});RO.displayName="Form";function TO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(t){let e=_.useContext(sc);return qt(e,TO(t)),e}function PO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=ud(),c=Fi(),d=dd(t,{relative:s});return _.useCallback(h=>{if(sO(h,e)){h.preventDefault();let f=n!==void 0?n:Fu(c)===Fu(d);l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,r,e,t,i,s,o])}var kO=0,AO=()=>`__${String(++kO)}__`;function MO(){let{router:t}=NT("useSubmit"),{basename:e}=_.useContext(Ii),n=KD();return _.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=lO(r,e);if(i.navigate===!1){let h=i.fetcherKey||AO();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function IO(t,{relative:e}={}){let{basename:n}=_.useContext(Ii),r=_.useContext(Ni);qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...dd(t||".",{relative:e})},o=Fi();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:As([n,s.pathname])),Fu(s)}function NO(t,e={}){let n=_.useContext(wT);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NT("useViewTransitionState"),i=dd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Is(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Is(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vf(i.pathname,o)!=null||Vf(i.pathname,s)!=null}new TextEncoder;[...pO];var za=gT();const FT=Yx(za);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),RS=t=>{const e=jO(t);return e.charAt(0).toUpperCase()+e.slice(1)},jT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),LO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...DO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jT("lucide",i),...!s&&!LO(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(OO,{ref:s,iconNode:e,className:jT(`lucide-${FO(RS(t))}`,`lucide-${t}`,r),...i}));return n.displayName=RS(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zO=Te("activity",VO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],BO=Te("arrow-down-wide-narrow",$O);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],UO=Te("arrow-up-narrow-wide",GO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],C0=Te("ban",WO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]],sv=Te("battery-full",HO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]],ju=Te("battery-low",XO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}]],ov=Te("battery-medium",KO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ZO=Te("bell",YO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]],LT=Te("bone",qO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],QO=Te("calendar",JO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hd=Te("check",eV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fd=Te("chevron-down",tV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rV=Te("chevron-left",nV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],DT=Te("chevron-right",iV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],av=Te("chevron-up",sV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],aV=Te("chevrons-left",oV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],cV=Te("chevrons-right",lV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],la=Te("circle-alert",uV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ia=Te("circle-check-big",dV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],OT=Te("circle-dashed",hV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M10.1 2.18a9.93 9.93 0 0 1 3.8 0",key:"1qdqn0"}],["path",{d:"M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7",key:"1bq7p6"}],["path",{d:"M21.82 10.1a9.93 9.93 0 0 1 0 3.8",key:"1rlaqf"}],["path",{d:"M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69",key:"1xk03u"}],["path",{d:"M13.9 21.82a9.94 9.94 0 0 1-3.8 0",key:"l7re25"}],["path",{d:"M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7",key:"1v18p6"}],["path",{d:"M2.18 13.9a9.93 9.93 0 0 1 0-3.8",key:"xdo6bj"}],["path",{d:"M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69",key:"1jjmaz"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],lv=Te("circle-dot-dashed",fV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],gV=Te("circle-plus",mV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yV=Te("circle-user-round",pV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],On=Te("circle-x",xV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_V=Te("circle",vV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],CV=Te("download",wV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],bV=Te("dumbbell",SV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"1n2rgs"}],["path",{d:"M6 8h4",key:"utf9t1"}],["path",{d:"M6 18h4",key:"12yh4b"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"3ha7mj"}],["path",{d:"M14 8h4",key:"1r8wg2"}],["path",{d:"M14 18h4",key:"1t3kbu"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"dfd4e2"}]],VT=Te("fence",EV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zT=Te("file-text",RV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],PV=Te("hash",TV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M13.5 19.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5A5.5 5.5 0 0 1 7.5 3c1.76 0 3 .5 4.5 2 1.5-1.5 2.74-2 4.5-2a5.5 5.5 0 0 1 5.402 6.5",key:"vd0vy5"}],["path",{d:"M15 15h6",key:"1u4692"}],["path",{d:"M18 12v6",key:"1houu1"}]],AV=Te("heart-plus",kV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],TS=Te("heart",MV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_i=Te("info",IV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],FV=Te("layers",NV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],LV=Te("link",jV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],$T=Te("list-filter",DV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],VV=Te("list",OV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$V=Te("loader-circle",zV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GV=Te("locate-fixed",BV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],WV=Te("lock-keyhole",UV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],XV=Te("log-out",HV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],YV=Te("map-pin-minus-inside",KV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],qV=Te("map-pin-plus-inside",ZV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],QV=Te("map-pin-plus",JV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077",key:"y0ewhp"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m21.5 15.5-5 5",key:"11iqnx"}],["path",{d:"m21.5 20.5-5-5",key:"1bylgx"}]],t4=Te("map-pin-x",e4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cv=Te("map-pin",n4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],i4=Te("map-pinned",r4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],o4=Te("map",s4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],l4=Te("mars",a4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],u4=Te("menu",c4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M5 12h14",key:"1ays0h"}]],BT=Te("minus",d4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],f4=Te("origami",h4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Eo=Te("paw-print",m4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],PS=Te("plus",g4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],kS=Te("ruler",p4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],GT=Te("save",y4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v4=Te("settings",x4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],w4=Te("shell",_4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],S4=Te("slash",C4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],E4=Te("spline-pointer",b4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],uv=Te("square-pen",R4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],UT=Te("tag",T4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],k4=Te("thermometer",P4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ca=Te("trash-2",A4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],I4=Te("undo",M4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],AS=Te("upload",N4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M10 20h4",key:"ni2waw"}],["path",{d:"M12 16v6",key:"c8a4gj"}],["path",{d:"M17 2h4v4",key:"vhe59"}],["path",{d:"m21 2-5.46 5.46",key:"19kypf"}],["circle",{cx:"12",cy:"11",r:"5",key:"16gxyc"}]],j4=Te("venus-and-mars",F4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],D4=Te("venus",L4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zs=Te("x",O4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],z4=Te("zap",V4);function WT(t,e){return function(){return t.apply(e,arguments)}}const{toString:$4}=Object.prototype,{getPrototypeOf:dv}=Object,{iterator:Pm,toStringTag:HT}=Symbol,km=(t=>e=>{const n=$4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ji=t=>(t=t.toLowerCase(),e=>km(e)===t),Am=t=>e=>typeof e===t,{isArray:ac}=Array,Lu=Am("undefined");function B4(t){return t!==null&&!Lu(t)&&t.constructor!==null&&!Lu(t.constructor)&&Er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const XT=ji("ArrayBuffer");function G4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&XT(t.buffer),e}const U4=Am("string"),Er=Am("function"),KT=Am("number"),Mm=t=>t!==null&&typeof t=="object",W4=t=>t===!0||t===!1,Ef=t=>{if(km(t)!=="object")return!1;const e=dv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(HT in t)&&!(Pm in t)},H4=ji("Date"),X4=ji("File"),K4=ji("Blob"),Y4=ji("FileList"),Z4=t=>Mm(t)&&Er(t.pipe),q4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Er(t.append)&&((e=km(t))==="formdata"||e==="object"&&Er(t.toString)&&t.toString()==="[object FormData]"))},J4=ji("URLSearchParams"),[Q4,e5,t5,n5]=["ReadableStream","Request","Response","Headers"].map(ji),r5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function md(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ac(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function YT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZT=t=>!Lu(t)&&t!==ha;function S0(){const{caseless:t}=ZT(this)&&this||{},e={},n=(r,i)=>{const s=t&&YT(e,i)||i;Ef(e[s])&&Ef(r)?e[s]=S0(e[s],r):Ef(r)?e[s]=S0({},r):ac(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&md(arguments[r],n);return e}const i5=(t,e,n,{allOwnKeys:r}={})=>(md(e,(i,s)=>{n&&Er(i)?t[s]=WT(i,n):t[s]=i},{allOwnKeys:r}),t),s5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),o5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},a5=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&dv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},l5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},c5=t=>{if(!t)return null;if(ac(t))return t;let e=t.length;if(!KT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},u5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dv(Uint8Array)),d5=(t,e)=>{const r=(t&&t[Pm]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},h5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},f5=ji("HTMLFormElement"),m5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),MS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),g5=ji("RegExp"),qT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};md(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},p5=t=>{qT(t,(e,n)=>{if(Er(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Er(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},y5=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ac(t)?r(t):r(String(t).split(e)),n},x5=()=>{},v5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function _5(t){return!!(t&&Er(t.append)&&t[HT]==="FormData"&&t[Pm])}const w5=t=>{const e=new Array(10),n=(r,i)=>{if(Mm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ac(r)?[]:{};return md(r,(o,l)=>{const c=n(o,i+1);!Lu(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},C5=ji("AsyncFunction"),S5=t=>t&&(Mm(t)||Er(t))&&Er(t.then)&&Er(t.catch),JT=((t,e)=>t?setImmediate:e?((n,r)=>(ha.addEventListener("message",({source:i,data:s})=>{i===ha&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ha.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Er(ha.postMessage)),b5=typeof queueMicrotask<"u"?queueMicrotask.bind(ha):typeof process<"u"&&process.nextTick||JT,E5=t=>t!=null&&Er(t[Pm]),oe={isArray:ac,isArrayBuffer:XT,isBuffer:B4,isFormData:q4,isArrayBufferView:G4,isString:U4,isNumber:KT,isBoolean:W4,isObject:Mm,isPlainObject:Ef,isReadableStream:Q4,isRequest:e5,isResponse:t5,isHeaders:n5,isUndefined:Lu,isDate:H4,isFile:X4,isBlob:K4,isRegExp:g5,isFunction:Er,isStream:Z4,isURLSearchParams:J4,isTypedArray:u5,isFileList:Y4,forEach:md,merge:S0,extend:i5,trim:r5,stripBOM:s5,inherits:o5,toFlatObject:a5,kindOf:km,kindOfTest:ji,endsWith:l5,toArray:c5,forEachEntry:d5,matchAll:h5,isHTMLForm:f5,hasOwnProperty:MS,hasOwnProp:MS,reduceDescriptors:qT,freezeMethods:p5,toObjectSet:y5,toCamelCase:m5,noop:x5,toFiniteNumber:v5,findKey:YT,global:ha,isContextDefined:ZT,isSpecCompliantForm:_5,toJSONObject:w5,isAsyncFn:C5,isThenable:S5,setImmediate:JT,asap:b5,isIterable:E5};function it(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const QT=it.prototype,eP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eP[t]={value:t}});Object.defineProperties(it,eP);Object.defineProperty(QT,"isAxiosError",{value:!0});it.from=(t,e,n,r,i,s)=>{const o=Object.create(QT);return oe.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),it.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const R5=null;function b0(t){return oe.isPlainObject(t)||oe.isArray(t)}function tP(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function IS(t,e,n){return t?t.concat(e).map(function(i,s){return i=tP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function T5(t){return oe.isArray(t)&&!t.some(b0)}const P5=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Im(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!oe.isUndefined(S[w])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(oe.isDate(v))return v.toISOString();if(!c&&oe.isBlob(v))throw new it("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(v)||oe.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,w,S){let b=v;if(v&&!S&&typeof v=="object"){if(oe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(oe.isArray(v)&&T5(v)||(oe.isFileList(v)||oe.endsWith(w,"[]"))&&(b=oe.toArray(v)))return w=tP(w),b.forEach(function(T,P){!(oe.isUndefined(T)||T===null)&&e.append(o===!0?IS([w],P,s):o===null?w:w+"[]",d(T))}),!1}return b0(v)?!0:(e.append(IS(S,w,s),d(v)),!1)}const f=[],p=Object.assign(P5,{defaultVisitor:h,convertValue:d,isVisitable:b0});function y(v,w){if(!oe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),oe.forEach(v,function(b,R){(!(oe.isUndefined(b)||b===null)&&i.call(e,b,oe.isString(R)?R.trim():R,w,p))===!0&&y(b,w?w.concat(R):[R])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function NS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function hv(t,e){this._pairs=[],t&&Im(t,this,e)}const nP=hv.prototype;nP.append=function(e,n){this._pairs.push([e,n])};nP.toString=function(e){const n=e?function(r){return e.call(this,r,NS)}:NS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function k5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rP(t,e,n){if(!e)return t;const r=n&&n.encode||k5;oe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=oe.isURLSearchParams(e)?e.toString():new hv(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class FS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const iP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A5=typeof URLSearchParams<"u"?URLSearchParams:hv,M5=typeof FormData<"u"?FormData:null,I5=typeof Blob<"u"?Blob:null,N5={isBrowser:!0,classes:{URLSearchParams:A5,FormData:M5,Blob:I5},protocols:["http","https","file","blob","url","data"]},fv=typeof window<"u"&&typeof document<"u",E0=typeof navigator=="object"&&navigator||void 0,F5=fv&&(!E0||["ReactNative","NativeScript","NS"].indexOf(E0.product)<0),j5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L5=fv&&window.location.href||"http://localhost",D5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fv,hasStandardBrowserEnv:F5,hasStandardBrowserWebWorkerEnv:j5,navigator:E0,origin:L5},Symbol.toStringTag,{value:"Module"})),sr={...D5,...N5};function O5(t,e){return Im(t,new sr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return sr.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function V5(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function sP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&oe.isArray(i)?i.length:o,c?(oe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!oe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&oe.isArray(i[o])&&(i[o]=z5(i[o])),!l)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,i)=>{e(V5(r),i,n,0)}),n}return null}function $5(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const gd={transitional:iP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(sP(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return O5(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Im(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),$5(e)):e}],transformResponse:[function(e){const n=this.transitional||gd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?it.from(l,it.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sr.classes.FormData,Blob:sr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{gd.headers[t]={}});const B5=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&B5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jS=Symbol("internals");function su(t){return t&&String(t).trim().toLowerCase()}function Rf(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Rf):String(t)}function U5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const W5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vy(t,e,n,r,i){if(oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function H5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function X5(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Rr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,d){const h=su(c);if(!h)throw new Error("header name must be a non-empty string");const f=oe.findKey(i,h);(!f||i[f]===void 0||d===!0||d===void 0&&i[f]!==!1)&&(i[f||c]=Rf(l))}const o=(l,c)=>oe.forEach(l,(d,h)=>s(d,h,c));if(oe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(oe.isString(e)&&(e=e.trim())&&!W5(e))o(G5(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let l={},c,d;for(const h of e){if(!oe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?oe.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=su(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return U5(i);if(oe.isFunction(n))return n.call(this,i,r);if(oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=su(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||vy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=su(o),o){const l=oe.findKey(r,o);l&&(!n||vy(r,r[l],l,n))&&(delete r[l],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||vy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return oe.forEach(this,(i,s)=>{const o=oe.findKey(r,s);if(o){n[o]=Rf(i),delete n[s];return}const l=e?H5(s):String(s).trim();l!==s&&delete n[s],n[l]=Rf(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jS]=this[jS]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=su(o);r[l]||(X5(i,o),r[l]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}};Rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Rr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(Rr);function _y(t,e){const n=this||gd,r=e||n,i=Rr.from(r.headers);let s=r.data;return oe.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oP(t){return!!(t&&t.__CANCEL__)}function lc(t,e,n){it.call(this,t??"canceled",it.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(lc,it,{__CANCEL__:!0});function aP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new it("Request failed with status code "+n.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function K5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Y5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[s];o||(o=d),n[i]=c,r[i]=d;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const y=h&&d-h;return y?Math.round(p*1e3/y):void 0}}function Z5(t,e){let n=0,r=1e3/e,i,s;const o=(d,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=r?o(d,h):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const zf=(t,e,n=3)=>{let r=0;const i=Y5(50,250);return Z5(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),h=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},LS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},DS=t=>(...e)=>oe.asap(()=>t(...e)),q5=sr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,sr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(sr.origin),sr.navigator&&/(msie|trident)/i.test(sr.navigator.userAgent)):()=>!0,J5=sr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Q5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function e3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lP(t,e,n){let r=!Q5(e);return t&&(r||n==!1)?e3(t,e):e}const OS=t=>t instanceof Rr?{...t}:t;function Ta(t,e){e=e||{};const n={};function r(d,h,f,p){return oe.isPlainObject(d)&&oe.isPlainObject(h)?oe.merge.call({caseless:p},d,h):oe.isPlainObject(h)?oe.merge({},h):oe.isArray(h)?h.slice():h}function i(d,h,f,p){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d,f,p)}else return r(d,h,f,p)}function s(d,h){if(!oe.isUndefined(h))return r(void 0,h)}function o(d,h){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,f){if(f in e)return r(d,h);if(f in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,f)=>i(OS(d),OS(h),f,!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||i,p=f(t[h],e[h],h);oe.isUndefined(p)&&f!==l||(n[h]=p)}),n}const cP=t=>{const e=Ta({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Rr.from(o),e.url=rP(lP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(oe.isFormData(n)){if(sr.hasStandardBrowserEnv||sr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(sr.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&q5(e.url))){const d=i&&s&&J5.read(s);d&&o.set(i,d)}return e},t3=typeof XMLHttpRequest<"u",n3=t3&&function(t){return new Promise(function(n,r){const i=cP(t);let s=i.data;const o=Rr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,f,p,y,v;function w(){y&&y(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function b(){if(!S)return;const T=Rr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:t,request:S};aP(function(F){n(F),w()},function(F){r(F),w()},k),S=null}"onloadend"in S?S.onloadend=b:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(b)},S.onabort=function(){S&&(r(new it("Request aborted",it.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new it("Network Error",it.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||iP;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new it(P,k.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,t,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&oe.forEach(o.toJSON(),function(P,k){S.setRequestHeader(k,P)}),oe.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),l&&l!=="json"&&(S.responseType=i.responseType),d&&([p,v]=zf(d,!0),S.addEventListener("progress",p)),c&&S.upload&&([f,y]=zf(c),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=T=>{S&&(r(!T||T.type?new lc(null,t,S):T),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const R=K5(i.url);if(R&&sr.protocols.indexOf(R)===-1){r(new it("Unsupported protocol "+R+":",it.ERR_BAD_REQUEST,t));return}S.send(s||null)})},r3=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof it?h:new lc(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new it(`timeout ${e} of ms exceeded`,it.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},i3=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},s3=async function*(t,e){for await(const n of o3(t))yield*i3(n,e)},o3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},VS=(t,e,n,r)=>{const i=s3(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let f=h.byteLength;if(n){let p=s+=f;n(p)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Nm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uP=Nm&&typeof ReadableStream=="function",a3=Nm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),dP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},l3=uP&&dP(()=>{let t=!1;const e=new Request(sr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zS=64*1024,R0=uP&&dP(()=>oe.isReadableStream(new Response("").body)),$f={stream:R0&&(t=>t.body)};Nm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$f[e]&&($f[e]=oe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new it(`Response type '${e}' is not supported`,it.ERR_NOT_SUPPORT,r)})})})(new Response);const c3=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(sr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await a3(t)).byteLength},u3=async(t,e)=>{const n=oe.toFiniteNumber(t.getContentLength());return n??c3(e)},d3=Nm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:f="same-origin",fetchOptions:p}=cP(t);d=d?(d+"").toLowerCase():"text";let y=r3([i,s&&s.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(c&&l3&&n!=="get"&&n!=="head"&&(S=await u3(h,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(oe.isFormData(r)&&(M=k.headers.get("content-type"))&&h.setContentType(M),k.body){const[F,I]=LS(S,zf(DS(c)));r=VS(k.body,zS,F,I)}}oe.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;v=new Request(e,{...p,signal:y,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0});let R=await fetch(v);const T=R0&&(d==="stream"||d==="response");if(R0&&(l||T&&w)){const k={};["status","statusText","headers"].forEach(z=>{k[z]=R[z]});const M=oe.toFiniteNumber(R.headers.get("content-length")),[F,I]=l&&LS(M,zf(DS(l),!0))||[];R=new Response(VS(R.body,zS,F,()=>{I&&I(),w&&w()}),k)}d=d||"text";let P=await $f[oe.findKey($f,d)||"text"](R,t);return!T&&w&&w(),await new Promise((k,M)=>{aP(k,M,{data:P,headers:Rr.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:v})})}catch(b){throw w&&w(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,t,v),{cause:b.cause||b}):it.from(b,b&&b.code,t,v)}}),T0={http:R5,xhr:n3,fetch:d3};oe.forEach(T0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $S=t=>`- ${t}`,h3=t=>oe.isFunction(t)||t===null||t===!1,hP={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!h3(n)&&(r=T0[(o=String(n)).toLowerCase()],r===void 0))throw new it(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map($S).join(`
`):" "+$S(s[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:T0};function wy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lc(null,t)}function BS(t){return wy(t),t.headers=Rr.from(t.headers),t.data=_y.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hP.getAdapter(t.adapter||gd.adapter)(t).then(function(r){return wy(t),r.data=_y.call(t,t.transformResponse,r),r.headers=Rr.from(r.headers),r},function(r){return oP(r)||(wy(t),r&&r.response&&(r.response.data=_y.call(t,t.transformResponse,r.response),r.response.headers=Rr.from(r.response.headers))),Promise.reject(r)})}const fP="1.9.0",Fm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const GS={};Fm.transitional=function(e,n,r){function i(s,o){return"[Axios v"+fP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new it(i(o," has been removed"+(n?" in "+n:"")),it.ERR_DEPRECATED);return n&&!GS[o]&&(GS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Fm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function f3(t,e,n){if(typeof t!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new it("option "+s+" must be "+c,it.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new it("Unknown option "+s,it.ERR_BAD_OPTION)}}const Tf={assertOptions:f3,validators:Fm},Wi=Tf.validators;let _a=class{constructor(e){this.defaults=e||{},this.interceptors={request:new FS,response:new FS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ta(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Tf.assertOptions(r,{silentJSONParsing:Wi.transitional(Wi.boolean),forcedJSONParsing:Wi.transitional(Wi.boolean),clarifyTimeoutError:Wi.transitional(Wi.boolean)},!1),i!=null&&(oe.isFunction(i)?n.paramsSerializer={serialize:i}:Tf.assertOptions(i,{encode:Wi.function,serialize:Wi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Tf.assertOptions(n,{baseUrl:Wi.spelling("baseURL"),withXsrfToken:Wi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[n.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Rr.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,f=0,p;if(!c){const v=[BS.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,d),p=v.length,h=Promise.resolve(n);f<p;)h=h.then(v[f++],v[f++]);return h}p=l.length;let y=n;for(f=0;f<p;){const v=l[f++],w=l[f++];try{y=v(y)}catch(S){w.call(this,S);break}}try{h=BS.call(this,y)}catch(v){return Promise.reject(v)}for(f=0,p=d.length;f<p;)h=h.then(d[f++],d[f++]);return h}getUri(e){e=Ta(this.defaults,e);const n=lP(e.baseURL,e.url,e.allowAbsoluteUrls);return rP(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){_a.prototype[e]=function(n,r){return this.request(Ta(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Ta(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}_a.prototype[e]=n(),_a.prototype[e+"Form"]=n(!0)});let m3=class mP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new lc(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new mP(function(i){e=i}),cancel:e}}};function g3(t){return function(n){return t.apply(null,n)}}function p3(t){return oe.isObject(t)&&t.isAxiosError===!0}const P0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(P0).forEach(([t,e])=>{P0[e]=t});function gP(t){const e=new _a(t),n=WT(_a.prototype.request,e);return oe.extend(n,_a.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return gP(Ta(t,i))},n}const mn=gP(gd);mn.Axios=_a;mn.CanceledError=lc;mn.CancelToken=m3;mn.isCancel=oP;mn.VERSION=fP;mn.toFormData=Im;mn.AxiosError=it;mn.Cancel=mn.CanceledError;mn.all=function(e){return Promise.all(e)};mn.spread=g3;mn.isAxiosError=p3;mn.mergeConfig=Ta;mn.AxiosHeaders=Rr;mn.formToJSON=t=>sP(oe.isHTMLForm(t)?new FormData(t):t);mn.getAdapter=hP.getAdapter;mn.HttpStatusCode=P0;mn.default=mn;const{Axios:Eee,AxiosError:Ree,CanceledError:Tee,isCancel:Pee,CancelToken:kee,VERSION:Aee,all:Mee,Cancel:Iee,isAxiosError:Nee,spread:Fee,toFormData:jee,AxiosHeaders:Lee,HttpStatusCode:Dee,formToJSON:Oee,getAdapter:Vee,mergeConfig:zee}=mn,mv=mn.create({baseURL:"http://192.168.1.35:5000",withCredentials:!0,headers:{"Content-Type":"application/json"}}),y3=async t=>{try{return(await mv.post("/api/user/login",t,{withCredentials:!0})).data}catch(e){throw e.response?new Error(e.response.data.message||"Error de autenticación."):new Error("No se pudo conectar con el servidor.")}},x3=async()=>{try{return(await mv.post("/api/user/logout",{},{withCredentials:!0})).data}catch{throw new Error("Error al cerrar sesión.")}},v3=async()=>{try{return(await mv.get("/api/user/session",{withCredentials:!0})).data}catch(t){if(t.response&&t.response.status===401)return{authenticated:!1};throw new Error("Error al verificar sesión.")}},pP=_.createContext(null),jm=()=>_.useContext(pP);function _3({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const c=await v3();c.authenticated?n(c.user):n(null)}catch(c){console.log("🔴 No autenticado:",c.message),n(null)}finally{i(!1)}})()},[]);const s=async l=>{const c=await y3(l);return c.status==="ok"&&n(c.user),c},o=async()=>{await x3(),n(null)};return g.jsx(pP.Provider,{value:{user:e,login:s,logout:o,isAuthenticated:!!e,loading:r},children:t})}function w3({menuOpen:t,setMenuOpen:e}){Fi();const n=ud(),{logout:r}=jm(),[i,s]=_.useState({width:window.innerWidth,height:window.innerHeight}),o=d=>{e(!1),setTimeout(()=>{n(d,{replace:!0})},100)},l=d=>{d.stopPropagation()},c=async()=>{await r(),n("/login",{replace:!0})};return _.useEffect(()=>{const d=()=>{s({width:window.innerWidth,height:window.innerHeight})},h=f=>{f.key==="Escape"&&e(!1)};return window.addEventListener("resize",d),document.addEventListener("keydown",h),()=>{window.removeEventListener("resize",d),document.removeEventListener("keydown",h)}},[e]),g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:g.jsx("button",{onClick:()=>e(!0),className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(u4,{className:"w-6 h-6 text-gray-800"})})}),t&&g.jsxs("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-md z-50 transition-all duration-300 ease-in-out animate-slide-in-left",onClick:()=>e(!1),children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-6 text-lg text-gray-700 hover:text-red-600",children:"✕"}),g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-4 text-center",onClick:l,children:[[["Mapa","/mapa"],["Parcelas","/parcelas"],["Campos","/campos"],["Alertas","/alertas"],["Animales","/animales"]].map(([d,h])=>g.jsx("button",{onClick:()=>o(h),className:`w-full text-gray-800 font-semibold hover:text-green-600 transition-all\r
                                    text-xl sm:text-2xl md:text-3xl lg:text-4xl menu-button`,children:d},h)),g.jsxs("button",{onClick:c,className:"mt-10 text-red-600 hover:text-red-800 flex items-center gap-2 text-lg",children:[g.jsx(XV,{className:"w-5 h-5"}),"Cerrar sesión"]})]})]},i.width)]})}function C3(){const[t,e]=_.useState(!1);return{menuOpen:t,setMenuOpen:e}}function ou({label:t,icon:e,path:n,current:r,navigate:i,full:s=!1,onClick:o}){const l=()=>{i(n),o&&o()};return g.jsxs("button",{onClick:l,className:`h-full w-full flex flex-col items-center justify-center flex-1 py-1
                        ${r===n?"text-green-600 font-semibold":"text-gray-700"}
                        transition-all`,children:[g.jsx("span",{className:"text-lg",children:e}),g.jsx("span",{className:"text-[10px] min-[400px]:block hidden leading-none",children:t})]})}function S3({setMenuOpen:t}){const e=Fi(),n=ud(),r=i=>{t(!1),setTimeout(()=>{n(i,{replace:!0})},100)};return g.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-16 z-50 bg-white border-t flex justify-around items-center",children:[g.jsx(ou,{label:"Campos",icon:g.jsx(cv,{}),path:"/campos",current:e.pathname,navigate:r}),g.jsx(ou,{label:"Parcelas",icon:g.jsx(VT,{}),path:"/parcelas",current:e.pathname,navigate:r}),g.jsx(ou,{label:"Mapa",icon:g.jsx(o4,{}),path:"/mapa",current:e.pathname,navigate:r}),g.jsx(ou,{label:"Alertas",icon:g.jsx(ZO,{}),path:"/alertas",current:e.pathname,navigate:r}),g.jsx(ou,{label:"Animales",icon:g.jsx(Eo,{}),path:"/animales",current:e.pathname,navigate:r})]})}function b3(){const{login:t,isAuthenticated:e,loading:n}=jm(),r=ud(),[i,s]=_.useState({username:"",password:""}),[o,l]=_.useState(null),[c,d]=_.useState(!1);_.useEffect(()=>{!n&&e&&r("/mapa",{replace:!0})},[n,e,r]);const h=p=>{s({...i,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault(),d(!0),l(null);try{await t(i),r("/mapa")}catch(y){l(y.message||"Error de autenticación"),d(!1)}};return n?g.jsx("div",{className:"text-center text-red-600 mt-10",children:"Verificando sesión..."}):g.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-green-50 bg-gray-400",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white shadow-xl rounded-xl overflow-hidden max-w-4xl w-full",children:[g.jsx("div",{className:"hidden md:block w-1/2 min-h-[500px] bg-cover bg-center",style:{backgroundImage:"url('https://i.pinimg.com/736x/4f/ec/ee/4fecee3b0ba71316c5ffe25a78265c9e.jpg')"}}),g.jsxs("form",{onSubmit:f,className:"p-8 w-full md:w-1/2",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 text-center",children:"Bienvenido"}),g.jsx("p",{className:"text-sm text-gray-500 mb-6 text-center",children:"Accedé a tu sistema de gestión ganadera"}),o&&g.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:o}),g.jsxs("div",{className:"mb-4 relative",children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),g.jsxs("div",{className:"flex items-center border rounded-xl shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(yV,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:i.username,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsxs("div",{className:"mb-6 relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña"}),g.jsxs("div",{className:"flex items-center border rounded-xl shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(WV,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:i.password,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-black text-white font-semibold rounded-xl hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition",children:c?"Ingresando...":"Ingresar"})]})]})})}const E3={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class yP extends Error{constructor(e){const n=E3[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}class Li{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Ul={PROPERTYCHANGE:"propertychange"};class gv{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function R3(t,e,n){let r,i;n=n||Pa;let s=0,o=t.length,l=!1;for(;s<o;)r=s+(o-s>>1),i=+n(t[r],e),i<0?s=r+1:(o=r,l=!i);return l?s:~s}function Pa(t,e){return t>e?1:t<e?-1:0}function pv(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return typeof n=="function"?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function T3(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Ri(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function $s(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function P3(t,e,n){const r=e||Pa;return t.every(function(i,s){if(s===0)return!0;const o=r(t[s-1],i);return!(o>0||o===0)})}function ka(){return!0}function pd(){return!1}function Wl(){}function k3(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!$s(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function cc(t){for(const e in t)delete t[e]}function Hl(t){let e;for(e in t)return!1;return!e}class Lm extends gv{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Li(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in o||(o[r]=0,l[r]=0),++o[r];let c;for(let d=0,h=i.length;d<h;++d)if("handleEvent"in i[d]?c=i[d].handleEvent(s):c=i[d].call(this,s),c===!1||s.propagationStopped){c=!1;break}if(--o[r]===0){let d=l[r];for(delete l[r];d--;)this.removeEventListener(r,Wl);delete o[r]}return c}disposeInternal(){this.listeners_&&cc(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=Wl,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}}const et={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function pt(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function Bf(t,e,n,r){return pt(t,e,n,r,!0)}function Gt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),cc(t))}class yd extends Lm{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(et.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=pt(this,e[s],n);return i}return pt(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=Bf(this,e[s],n)}else r=Bf(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)A3(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}yd.prototype.on;yd.prototype.once;yd.prototype.un;function A3(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Gt(t[e]);else Gt(t)}function Qe(){throw new Error("Unimplemented abstract method.")}let M3=0;function tt(t){return t.ol_uid||(t.ol_uid=String(++M3))}class US extends Li{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class Di extends yd{constructor(e){super(),this.on,this.once,this.un,tt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new US(r,e,n)),r=Ul.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new US(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],Hl(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}const _n={ADD:"add",REMOVE:"remove"},WS={LENGTH:"length"};class Uh extends Li{constructor(e,n,r){super(e),this.element=n,this.index=r}}let Br=class extends Di{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(WS.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Uh(_n.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Uh(_n.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Uh(_n.REMOVE,i,e)),this.dispatchEvent(new Uh(_n.ADD,n,e))}updateLength_(){this.set(WS.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new yP(58)}};function at(t,e){if(!t)throw new yP(e)}let ir=class xP extends Di{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new xP(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Gt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=pt(e,et.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?I3(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function I3(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(at(typeof t.getZIndex=="function",41),e=[t]),function(){return e}}const Ro=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",N3=Ro.includes("firefox"),F3=Ro.includes("safari")&&!Ro.includes("chrom");F3&&(Ro.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ro));const j3=Ro.includes("webkit")&&!Ro.includes("edge"),L3=Ro.includes("macintosh"),vP=typeof devicePixelRatio<"u"?devicePixelRatio:1,yv=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,D3=typeof Image<"u"&&Image.prototype.decode,_P=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();new Array(6);function ts(){return[1,0,0,1,0,0]}function O3(t,e,n,r,i,s,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t}function V3(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Dn(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function z3(t,e,n){return O3(t,e,0,0,n,0,0)}function To(t,e,n,r,i,s,o,l){const c=Math.sin(s),d=Math.cos(s);return t[0]=r*d,t[1]=i*c,t[2]=-r*c,t[3]=i*d,t[4]=o*r*d-l*r*c+e,t[5]=o*i*c+l*i*d+n,t}function xv(t,e){const n=$3(e);at(n!==0,32);const r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],c=e[5];return t[0]=o/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*c-o*l)/n,t[5]=-(r*c-i*l)/n,t}function $3(t){return t[0]*t[3]-t[1]*t[2]}let HS;function wP(t){const e="matrix("+t.join(", ")+")";if(yv)return e;const n=HS||(HS=document.createElement("div"));return n.style.transform=e,n.style.transform}const Ln={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function gi(t){const e=Ur();for(let n=0,r=t.length;n<r;++n)wu(e,t[n]);return e}function xd(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function CP(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function $a(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function Dm(t,e){return vv(t,e[0],e[1])}function fa(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function vv(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function k0(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],o=e[0],l=e[1];let c=Ln.UNKNOWN;return o<n?c=c|Ln.LEFT:o>i&&(c=c|Ln.RIGHT),l<r?c=c|Ln.BELOW:l>s&&(c=c|Ln.ABOVE),c===Ln.UNKNOWN&&(c=Ln.INTERSECTING),c}function Ur(){return[1/0,1/0,-1/0,-1/0]}function Ns(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function vd(t){return Ns(1/0,1/0,-1/0,-1/0,t)}function _u(t,e){const n=t[0],r=t[1];return Ns(n,r,n,r,e)}function SP(t,e,n,r,i){const s=vd(i);return EP(s,t,e,n,r)}function Du(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function bP(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function wu(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function EP(t,e,n,r,i){for(;n<r;n+=i)B3(t,e[n],e[n+1]);return t}function B3(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function RP(t,e){let n;return n=e(Om(t)),n||(n=e(Vm(t)),n)||(n=e(zm(t)),n)||(n=e(Ba(t)),n)?n:!1}function A0(t){let e=0;return _v(t)||(e=Yt(t)*as(t)),e}function Om(t){return[t[0],t[1]]}function Vm(t){return[t[2],t[1]]}function Po(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function G3(t,e){let n;return e==="bottom-left"?n=Om(t):e==="bottom-right"?n=Vm(t):e==="top-left"?n=Ba(t):e==="top-right"?n=zm(t):at(!1,13),n}function M0(t,e,n,r,i){const[s,o,l,c,d,h,f,p]=I0(t,e,n,r);return Ns(Math.min(s,l,d,f),Math.min(o,c,h,p),Math.max(s,l,d,f),Math.max(o,c,h,p),i)}function I0(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,o=Math.cos(n),l=Math.sin(n),c=i*o,d=i*l,h=s*o,f=s*l,p=t[0],y=t[1];return[p-c+f,y-d-h,p-c-f,y-d+h,p+c-f,y+d+h,p+c+f,y+d-h,p-c+f,y-d-h]}function as(t){return t[3]-t[1]}function Cu(t,e,n){const r=n||Ur();return ur(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):vd(r),r}function Ba(t){return[t[0],t[3]]}function zm(t){return[t[2],t[3]]}function Yt(t){return t[2]-t[0]}function ur(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function _v(t){return t[2]<t[0]||t[3]<t[1]}function U3(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function W3(t,e,n){let r=!1;const i=k0(t,e),s=k0(t,n);if(i===Ln.INTERSECTING||s===Ln.INTERSECTING)r=!0;else{const o=t[0],l=t[1],c=t[2],d=t[3],h=e[0],f=e[1],p=n[0],y=n[1],v=(y-f)/(p-h);let w,S;s&Ln.ABOVE&&!(i&Ln.ABOVE)&&(w=p-(y-d)/v,r=w>=o&&w<=c),!r&&s&Ln.RIGHT&&!(i&Ln.RIGHT)&&(S=y-(p-c)*v,r=S>=l&&S<=d),!r&&s&Ln.BELOW&&!(i&Ln.BELOW)&&(w=p-(y-l)/v,r=w>=o&&w<=c),!r&&s&Ln.LEFT&&!(i&Ln.LEFT)&&(S=y-(p-o)*v,r=S>=l&&S<=d)}return r}function TP(t,e){const n=e.getExtent(),r=Po(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=Yt(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}function H3(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];TP(t,e);const r=Yt(n);if(Yt(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}const wv={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class PP{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||wv[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const _d=6378137,Nl=Math.PI*_d,X3=[-Nl,-Nl,Nl,Nl],K3=[-180,-85,180,85],Wh=_d*Math.log(Math.tan(Math.PI/2));class ml extends PP{constructor(e){super({code:e,units:"m",extent:X3,global:!0,worldExtent:K3,getPointResolution:function(n,r){return n/Math.cosh(r[1]/_d)}})}}const XS=[new ml("EPSG:3857"),new ml("EPSG:102100"),new ml("EPSG:102113"),new ml("EPSG:900913"),new ml("http://www.opengis.net/def/crs/EPSG/0/3857"),new ml("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Y3(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=Nl*t[i]/180;let s=_d*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>Wh?s=Wh:s<-Wh&&(s=-Wh),e[i+1]=s}return e}function Z3(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Nl,e[i+1]=360*Math.atan(Math.exp(t[i+1]/_d))/Math.PI-90;return e}const q3=6378137,KS=[-180,-90,180,90],J3=Math.PI*q3/180;class ea extends PP{constructor(e,n){super({code:e,units:"degrees",extent:KS,axisOrientation:n,global:!0,metersPerUnit:J3,worldExtent:KS})}}const YS=[new ea("CRS:84"),new ea("EPSG:4326","neu"),new ea("urn:ogc:def:crs:OGC:1.3:CRS84"),new ea("urn:ogc:def:crs:OGC:2:84"),new ea("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ea("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ea("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let N0={};function Q3(t){return N0[t]||N0[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function ez(t,e){N0[t]=e}let Vl={};function Gf(t,e,n){const r=t.getCode(),i=e.getCode();r in Vl||(Vl[r]={}),Vl[r][i]=n}function tz(t,e){let n;return t in Vl&&e in Vl[t]&&(n=Vl[t][e]),n}function wn(t,e,n){return Math.min(Math.max(t,e),n)}function nz(t,e,n,r,i,s){const o=i-n,l=s-r;if(o!==0||l!==0){const c=((t-n)*o+(e-r)*l)/(o*o+l*l);c>1?(n=i,r=s):c>0&&(n+=o*c,r+=l*c)}return wa(t,e,n,r)}function wa(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function rz(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let l=r+1;l<e;l++){const c=Math.abs(t[l][r]);c>s&&(s=c,i=l)}if(s===0)return null;const o=t[i];t[i]=t[r],t[r]=o;for(let l=r+1;l<e;l++){const c=-t[l][r]/t[r][r];for(let d=r;d<e+1;d++)r==d?t[l][d]=0:t[l][d]+=c*t[r][d]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function Ca(t){return t*Math.PI/180}function Sa(t,e){const n=t%e;return n*e<0?n+e:n}function Or(t,e,n){return t+n*(e-t)}function Cv(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Hh(t,e){return Math.floor(Cv(t,e))}function Xh(t,e){return Math.ceil(Cv(t,e))}function kP(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function AP(t,e){const n=t[0],r=t[1],i=e[0],s=e[1],o=i[0],l=i[1],c=s[0],d=s[1],h=c-o,f=d-l,p=h===0&&f===0?0:(h*(n-o)+f*(r-l))/(h*h+f*f||0);let y,v;return p<=0?(y=o,v=l):p>=1?(y=c,v=d):(y=o+p*h,v=l+p*f),[y,v]}function vi(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Sv(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function MP(t,e){return t[0]*=e,t[1]*=e,t}function Ou(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function ZS(t,e){return Math.sqrt(Ou(t,e))}function iz(t,e){return Ou(t,AP(t,e))}function IP(t,e){if(e.canWrapX()){const n=Yt(e.getExtent()),r=sz(t,e,n);r&&(t[0]-=r*n)}return t}function sz(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||Yt(r),i=Math.floor((t[0]-r[0])/n)),i}const NP=63710088e-1;function qS(t,e,n){n=n||NP;const r=Ca(t[1]),i=Ca(e[1]),s=(i-r)/2,o=Ca(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Kh(t,e){let n=0;const r=t.length;let i=t[r-1][0],s=t[r-1][1];for(let o=0;o<r;o++){const l=t[o][0],c=t[o][1];n+=Ca(l-i)*(2+Math.sin(Ca(s))+Math.sin(Ca(c))),i=l,s=c}return n*e*e/2}function $m(t,e){e=e||{};const n=e.radius||NP,r=e.projection||"EPSG:3857",i=t.getType();i!=="GeometryCollection"&&(t=t.clone().transform(r,"EPSG:4326"));let s=0,o,l,c,d,h,f;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(o=t.getCoordinates(),s=Math.abs(Kh(o[0],n)),c=1,d=o.length;c<d;++c)s-=Math.abs(Kh(o[c],n));break}case"MultiPolygon":{for(o=t.getCoordinates(),c=0,d=o.length;c<d;++c)for(l=o[c],s+=Math.abs(Kh(l[0],n)),h=1,f=l.length;h<f;++h)s-=Math.abs(Kh(l[h],n));break}case"GeometryCollection":{const p=t.getGeometries();for(c=0,d=p.length;c<d;++c)s+=$m(p[c],e);break}default:throw new Error("Unsupported geometry type: "+i)}return s}function FP(...t){console.warn(...t)}let F0=!0;function jP(t){F0=!1}function bv(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function LP(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function oz(t){ez(t.getCode(),t),Gf(t,t,bv)}function az(t){t.forEach(oz)}function Cn(t){return typeof t=="string"?Q3(t):t||null}function JS(t,e,n,r){t=Cn(t);let i;const s=t.getPointResolutionFunc();if(s)i=s(e,n);else{const o=t.getUnits();if(o=="degrees"||r=="degrees")i=e;else{const l=Rv(t,Cn("EPSG:4326"));if(l===LP&&o!=="degrees")i=e*t.getMetersPerUnit();else{let d=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];d=l(d,d,2);const h=qS(d.slice(0,2),d.slice(2,4)),f=qS(d.slice(4,6),d.slice(6,8));i=(h+f)/2}const c=t.getMetersPerUnit();c!==void 0&&(i/=c)}}return i}function QS(t){az(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Gf(e,n,bv)})})}function lz(t,e,n,r){t.forEach(function(i){e.forEach(function(s){Gf(i,s,n),Gf(s,i,r)})})}function Ev(t,e){if(t){if(typeof t=="string")return Cn(t)}else return Cn(e);return t}function Bm(t,e){return jP(),Tv(t,"EPSG:4326","EPSG:3857")}function DP(t,e){const n=Tv(t,"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=Sa(r+180,360)-180),n}function ua(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Rv(t,e)===bv)&&n}function Rv(t,e){const n=t.getCode(),r=e.getCode();let i=tz(n,r);return i||(i=LP),i}function Uf(t,e){const n=Cn(t),r=Cn(e);return Rv(n,r)}function Tv(t,e,n){return Uf(e,n)(t,void 0,t.length)}function Vu(t,e){return t}function kn(t,e){return F0&&!vi(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(F0=!1,FP("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function Pv(t,e){return t}function vo(t,e){return t}function cz(){QS(XS),QS(YS),lz(YS,XS,Y3,Z3)}cz();function ba(t,e,n,r,i,s){s=s||[];let o=0;for(let l=e;l<n;l+=r){const c=t[l],d=t[l+1];s[o++]=i[0]*c+i[2]*d+i[4],s[o++]=i[1]*c+i[3]*d+i[5]}return s&&s.length!=o&&(s.length=o),s}function OP(t,e,n,r,i,s,o){o=o||[];const l=Math.cos(i),c=Math.sin(i),d=s[0],h=s[1];let f=0;for(let p=e;p<n;p+=r){const y=t[p]-d,v=t[p+1]-h;o[f++]=d+y*l-v*c,o[f++]=h+y*c+v*l;for(let w=p+2;w<p+r;++w)o[f++]=t[w]}return o&&o.length!=f&&(o.length=f),o}function uz(t,e,n,r,i,s,o,l){l=l||[];const c=o[0],d=o[1];let h=0;for(let f=e;f<n;f+=r){const p=t[f]-c,y=t[f+1]-d;l[h++]=c+i*p,l[h++]=d+s*y;for(let v=f+2;v<f+r;++v)l[h++]=t[v]}return l&&l.length!=h&&(l.length=h),l}function dz(t,e,n,r,i,s,o){o=o||[];let l=0;for(let c=e;c<n;c+=r){o[l++]=t[c]+i,o[l++]=t[c+1]+s;for(let d=c+2;d<c+r;++d)o[l++]=t[d]}return o&&o.length!=l&&(o.length=l),o}const eb=ts();class VP extends Di{constructor(){super(),this.extent_=Ur(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=k3(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Qe()}closestPointXY(e,n,r,i){return Qe()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Qe()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&vd(n),this.extentRevision_=this.getRevision()}return U3(this.extent_,e)}rotate(e,n){Qe()}scale(e,n,r){Qe()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Qe()}getType(){return Qe()}applyTransform(e){Qe()}intersectsExtent(e){return Qe()}translate(e,n){Qe()}transform(e,n){const r=Cn(e),i=r.getUnits()=="tile-pixels"?function(s,o,l){const c=r.getExtent(),d=r.getWorldExtent(),h=as(d)/as(c);return To(eb,d[0],d[3],h,-h,0,0,0),ba(s,0,s.length,l,eb,o),Uf(r,n)(s,o,l)}:Uf(r,n);return this.applyTransform(i),this}}class Ga extends VP{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return SP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Qe()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=tb(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Qe()}setLayout(e,n,r){let i;if(e)i=tb(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=hz(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();OP(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=Po(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();uz(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();dz(r,0,r.length,i,e,n,r),this.changed()}}}function hz(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function tb(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function fz(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return ba(r,0,r.length,i,e,n)}function nb(t,e,n,r,i,s,o){const l=t[e],c=t[e+1],d=t[n]-l,h=t[n+1]-c;let f;if(d===0&&h===0)f=e;else{const p=((i-l)*d+(s-c)*h)/(d*d+h*h);if(p>1)f=n;else if(p>0){for(let y=0;y<r;++y)o[y]=Or(t[e+y],t[n+y],p);o.length=r;return}else f=e}for(let p=0;p<r;++p)o[p]=t[f+p];o.length=r}function kv(t,e,n,r,i){let s=t[e],o=t[e+1];for(e+=r;e<n;e+=r){const l=t[e],c=t[e+1],d=wa(s,o,l,c);d>i&&(i=d),s=l,o=c}return i}function Av(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=kv(t,e,l,r,i),e=l}return i}function mz(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=Av(t,e,l,r,i),e=l[l.length-1]}return i}function Mv(t,e,n,r,i,s,o,l,c,d,h){if(e==n)return d;let f,p;if(i===0){if(p=wa(o,l,t[e],t[e+1]),p<d){for(f=0;f<r;++f)c[f]=t[e+f];return c.length=r,p}return d}h=h||[NaN,NaN];let y=e+r;for(;y<n;)if(nb(t,y-r,y,r,o,l,h),p=wa(o,l,h[0],h[1]),p<d){for(d=p,f=0;f<r;++f)c[f]=h[f];c.length=r,y+=r}else y+=r*Math.max((Math.sqrt(p)-Math.sqrt(d))/i|0,1);if(s&&(nb(t,n-r,e,r,o,l,h),p=wa(o,l,h[0],h[1]),p<d)){for(d=p,f=0;f<r;++f)c[f]=h[f];c.length=r}return d}function Iv(t,e,n,r,i,s,o,l,c,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=Mv(t,e,y,r,i,s,o,l,c,d,h),e=y}return d}function gz(t,e,n,r,i,s,o,l,c,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=Iv(t,e,y,r,i,s,o,l,c,d,h),e=y[y.length-1]}return d}function pz(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function Gm(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0;l<r;++l)t[e++]=o[l]}return e}function Nv(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=Gm(t,e,n[o],r);i[s++]=c,e=c}return i.length=s,i}function yz(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=Nv(t,e,n[o],r,i[s]);c.length===0&&(c[0]=e),i[s++]=c,e=c[c.length-1]}return i.length=s,i}function Fv(t,e,n,r,i,s,o){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[o++]=t[e],s[o++]=t[e+1];return o}const c=new Array(l);c[0]=1,c[l-1]=1;const d=[e,n-r];let h=0;for(;d.length>0;){const f=d.pop(),p=d.pop();let y=0;const v=t[p],w=t[p+1],S=t[f],b=t[f+1];for(let R=p+r;R<f;R+=r){const T=t[R],P=t[R+1],k=nz(T,P,v,w,S,b);k>y&&(h=R,y=k)}y>i&&(c[(h-e)/r]=1,p+r<h&&d.push(p,h),h+r<f&&d.push(h,f))}for(let f=0;f<l;++f)c[f]&&(s[o++]=t[e+f*r],s[o++]=t[e+f*r+1]);return o}function xz(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c];o=Fv(t,e,h,r,i,s,o),l.push(o),e=h}return o}function sa(t,e){return e*Math.round(t/e)}function vz(t,e,n,r,i,s,o){if(e==n)return o;let l=sa(t[e],i),c=sa(t[e+1],i);e+=r,s[o++]=l,s[o++]=c;let d,h;do if(d=sa(t[e],i),h=sa(t[e+1],i),e+=r,e==n)return s[o++]=d,s[o++]=h,o;while(d==l&&h==c);for(;e<n;){const f=sa(t[e],i),p=sa(t[e+1],i);if(e+=r,f==d&&p==h)continue;const y=d-l,v=h-c,w=f-l,S=p-c;if(y*S==v*w&&(y<0&&w<y||y==w||y>0&&w>y)&&(v<0&&S<v||v==S||v>0&&S>v)){d=f,h=p;continue}s[o++]=d,s[o++]=h,l=d,c=h,d=f,h=p}return s[o++]=d,s[o++]=h,o}function zP(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c];o=vz(t,e,h,r,i,s,o),l.push(o),e=h}return o}function _z(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c],f=[];o=zP(t,e,h,r,i,s,o,f),l.push(f),e=h[h.length-1]}return o}function _o(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=e;o<n;o+=r)i[s++]=t.slice(o,o+r);return i.length=s,i}function zu(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o];i[s++]=_o(t,e,c,r,i[s]),e=c}return i.length=s,i}function j0(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o];i[s++]=c.length===1&&c[0]===e?[]:zu(t,e,c,r,i[s]),e=c[c.length-1]}return i.length=s,i}function $P(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],c=t[e+1];i+=o*l-s*c,s=l,o=c}return i/2}function BP(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=$P(t,e,l,r),e=l}return i}function wz(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=BP(t,e,l,r),e=l[l.length-1]}return i}class $u extends Ga{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new $u(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<$a(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return $P(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return _o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Fv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new $u(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gm(this.flatCoordinates,0,e,this.stride),this.changed()}}class Tr extends Ga{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Tr(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,o=wa(e,n,s[0],s[1]);if(o<i){const l=this.stride;for(let c=0;c<l;++c)r[c]=s[c];return r.length=l,o}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return _u(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return vv(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=pz(this.flatCoordinates,0,e,this.stride),this.changed()}}function Cz(t,e,n,r,i){return!RP(i,function(o){return!ma(t,e,n,r,o[0],o[1])})}function ma(t,e,n,r,i,s){let o=0,l=t[n-r],c=t[n-r+1];for(;e<n;e+=r){const d=t[e],h=t[e+1];c<=s?h>s&&(d-l)*(s-c)-(i-l)*(h-c)>0&&o++:h<=s&&(d-l)*(s-c)-(i-l)*(h-c)<0&&o--,l=d,c=h}return o!==0}function jv(t,e,n,r,i,s){if(n.length===0||!ma(t,e,n[0],r,i,s))return!1;for(let o=1,l=n.length;o<l;++o)if(ma(t,n[o-1],n[o],r,i,s))return!1;return!0}function Sz(t,e,n,r,i,s){if(n.length===0)return!1;for(let o=0,l=n.length;o<l;++o){const c=n[o];if(jv(t,e,c,r,i,s))return!0;e=c[c.length-1]}return!1}function GP(t,e,n,r,i,s,o){let l,c,d,h,f,p,y;const v=i[s+1],w=[];for(let R=0,T=n.length;R<T;++R){const P=n[R];for(h=t[P-r],p=t[P-r+1],l=e;l<P;l+=r)f=t[l],y=t[l+1],(v<=p&&y<=v||p<=v&&v<=y)&&(d=(v-p)/(y-p)*(f-h)+h,w.push(d)),h=f,p=y}let S=NaN,b=-1/0;for(w.sort(Pa),h=w[0],l=1,c=w.length;l<c;++l){f=w[l];const R=Math.abs(f-h);R>b&&(d=(h+f)/2,jv(t,e,n,r,d,v)&&(S=d,b=R)),h=f}return isNaN(S)&&(S=i[s]),o?(o.push(S,v,b),o):[S,v,b]}function bz(t,e,n,r,i){let s=[];for(let o=0,l=n.length;o<l;++o){const c=n[o];s=GP(t,e,c,r,i,2*o,s),e=c[c.length-1]}return s}function UP(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function Um(t,e,n,r,i){const s=EP(Ur(),t,e,n,r);return ur(i,s)?fa(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:UP(t,e,n,r,function(o,l){return W3(i,o,l)}):!1}function Ez(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){if(Um(t,e,n[s],r,i))return!0;e=n[s]}return!1}function WP(t,e,n,r,i){return!!(Um(t,e,n,r,i)||ma(t,e,n,r,i[0],i[1])||ma(t,e,n,r,i[0],i[3])||ma(t,e,n,r,i[2],i[1])||ma(t,e,n,r,i[2],i[3]))}function HP(t,e,n,r,i){if(!WP(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(Cz(t,n[s-1],n[s],r,i)&&!Um(t,n[s-1],n[s],r,i))return!1;return!0}function Rz(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(HP(t,e,l,r,i))return!0;e=l[l.length-1]}return!1}function Tz(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function XP(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],c=t[e+1];i+=(l-s)*(c+o),s=l,o=c}return i===0?void 0:i>0}function KP(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=XP(t,e,l,r);if(s===0){if(i&&c||!i&&!c)return!1}else if(i&&!c||!i&&c)return!1;e=l}return!0}function Pz(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(!KP(t,e,l,r,i))return!1;l.length&&(e=l[l.length-1])}return!0}function L0(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=XP(t,e,l,r);(s===0?i&&c||!i&&!c:i&&!c||!i&&c)&&Tz(t,e,l,r),e=l}return e}function rb(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s)e=L0(t,e,n[s],r,i);return e}class nr extends Ga{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Ri(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new nr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<$a(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Av(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Iv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return jv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return BP(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),L0(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,zu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Po(this.getExtent());this.flatInteriorPoint_=GP(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Tr(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new $u(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const c=r[o],d=new $u(n.slice(s,c),e);i.push(d),s=c}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;KP(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=L0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=zP(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new nr(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return HP(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Nv(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function ib(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new nr(s,"XY",[s.length])}const So={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Pn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new Pn({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}function YP(t,e,n,r,i,s,o){let l,c;const d=(n-e)/r;if(d===1)l=e;else if(d===2)l=e,c=i;else if(d!==0){let h=t[e],f=t[e+1],p=0;const y=[0];for(let S=e+r;S<n;S+=r){const b=t[S],R=t[S+1];p+=Math.sqrt((b-h)*(b-h)+(R-f)*(R-f)),y.push(p),h=b,f=R}const v=i*p,w=R3(y,v);w<0?(c=(v-y[-w-2])/(y[-w-1]-y[-w-2]),l=e+(-w-2)*r):l=e+w*r}o=o>1?o:2,s=s||new Array(o);for(let h=0;h<o;++h)s[h]=l===void 0?NaN:c===void 0?t[l+h]:Or(t[l+h],t[l+r+h],c);return s}function D0(t,e,n,r,i,s){if(n==e)return null;let o;if(i<t[e+r-1])return s?(o=t.slice(e,e+r),o[r-1]=i,o):null;if(t[n-1]<i)return s?(o=t.slice(n-r,n),o[r-1]=i,o):null;if(i==t[e+r-1])return t.slice(e,e+r);let l=e/r,c=n/r;for(;l<c;){const p=l+c>>1;i<t[(p+1)*r-1]?c=p:l=p+1}const d=t[l*r-1];if(i==d)return t.slice((l-1)*r,(l-1)*r+r);const h=t[(l+1)*r-1],f=(i-d)/(h-d);o=[];for(let p=0;p<r-1;++p)o.push(Or(t[(l-1)*r+p],t[l*r+p],f));return o.push(i),o}function kz(t,e,n,r,i,s,o){if(o)return D0(t,e,n[n.length-1],r,i,s);let l;if(i<t[r-1])return s?(l=t.slice(0,r),l[r-1]=i,l):null;if(t[t.length-1]<i)return s?(l=t.slice(t.length-r),l[r-1]=i,l):null;for(let c=0,d=n.length;c<d;++c){const h=n[c];if(e!=h){if(i<t[e+r-1])return null;if(i<=t[h-1])return D0(t,e,h,r,i,!1);e=h}}return null}function ZP(t,e,n,r){let i=t[e],s=t[e+1],o=0;for(let l=e+r;l<n;l+=r){const c=t[l],d=t[l+1];o+=Math.sqrt((c-i)*(c-i)+(d-s)*(d-s)),i=c,s=d}return o}class Aa extends Ga{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){this.flatCoordinates?Ri(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new Aa(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<$a(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(kv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Mv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return UP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,D0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return _o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return YP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return ZP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Fv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Aa(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Um(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gm(this.flatCoordinates,0,e,this.stride),this.changed()}}class yn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new yn({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const An={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function sb(t){return t[0]>0&&t[1]>0}function Az(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function $r(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Wm{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=$r(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Wm({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Qe()}getImage(e){return Qe()}getHitDetectionImage(){return Qe()}getPixelRatio(e){return 1}getImageState(){return Qe()}getImageSize(){return Qe()}getOrigin(){return Qe()}getSize(){return Qe()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=$r(e)}listenImageChange(e){Qe()}load(){Qe()}unlistenImageChange(e){Qe()}}const Mz=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Iz=/^([a-z]*)$|^hsla?\(.*\)$/i;function qP(t){return typeof t=="string"?t:JP(t)}function Nz(t){const e=document.createElement("div");if(e.style.color=t,e.style.color!==""){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}const Fz=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let s=0;for(const o in e)(s++&3)===0&&(delete e[o],--n)}i=jz(r),e[r]=i,++n}return i}}();function Wf(t){return Array.isArray(t)?t:Fz(t)}function jz(t){let e,n,r,i,s;if(Iz.exec(t)&&(t=Nz(t)),Mz.exec(t)){const o=t.length-1;let l;o<=4?l=1:l=2;const c=o===4||o===8;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),r=parseInt(t.substr(1+2*l,l),16),c?i=parseInt(t.substr(1+3*l,l),16):i=255,l==1&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,c&&(i=(i<<4)+i)),s=[e,n,r,i/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),ob(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),ob(s)):at(!1,14);return s}function ob(t){return t[0]=wn(t[0]+.5|0,0,255),t[1]=wn(t[1]+.5|0,0,255),t[2]=wn(t[2]+.5|0,0,255),t[3]=wn(t[3],0,1),t}function JP(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*100)/100;return"rgba("+e+","+n+","+r+","+i+")"}function Ji(t){return Array.isArray(t)?JP(t):t}function hr(t,e,n,r){let i;return n&&n.length?i=n.shift():yv?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function Hm(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Lz(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function Dz(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function ab(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Hf(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function QP(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function Oz(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}const Yh="ol-hidden",Vz="ol-selectable",Xm="ol-unselectable",Lv="ol-control",lb="ol-collapsed",zz=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),cb=["style","variant","weight","size","lineHeight","family"],ek=function(t){const e=t.match(zz);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=cb.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[cb[r]]=s)}return n.families=n.family.split(/,\s?/),n},tk="10px sans-serif",Ms="#000",Xf="round",Bu=[],Gu=0,Xl="round",Uu=10,Wu="#000",Hu="center",Kf="middle",ga=[0,0,0,0],Xu=1,Rs=new Di;let Rl=null,O0;const V0={},$z=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,o;function l(d,h,f){let p=!0;for(let y=0;y<r;++y){const v=n[y];if(o=Yf(d+" "+h+" "+e+v,i),f!=v){const w=Yf(d+" "+h+" "+e+f+","+v,i);p=p&&w!=o}}return!!p}function c(){let d=!0;const h=Rs.getKeys();for(let f=0,p=h.length;f<p;++f){const y=h[f];Rs.get(y)<100&&(l.apply(this,y.split(`
`))?(cc(V0),Rl=null,O0=void 0,Rs.set(y,100)):(Rs.set(y,Rs.get(y)+1,!0),d=!1))}d&&(clearInterval(s),s=void 0)}return function(d){const h=ek(d);if(!h)return;const f=h.families;for(let p=0,y=f.length;p<y;++p){const v=f[p],w=h.style+`
`+h.weight+`
`+v;Rs.get(w)===void 0&&(Rs.set(w,100,!0),l(h.style,h.weight,v)||(Rs.set(w,0,!0),s===void 0&&(s=setInterval(c,32))))}}}(),Bz=function(){let t;return function(e){let n=V0[e];if(n==null){if(yv){const r=ek(e),i=nk(e,"Žg");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);V0[e]=n}return n}}();function nk(t,e){return Rl||(Rl=hr(1,1)),t!=O0&&(Rl.font=t,O0=Rl.font),Rl.measureText(e)}function Yf(t,e){return nk(t,e).width}function ub(t,e,n){if(e in n)return n[e];const r=e.split(`
`).reduce((i,s)=>Math.max(i,Yf(t,s)),0);return n[e]=r,r}function Gz(t,e){const n=[],r=[],i=[];let s=0,o=0,l=0,c=0;for(let d=0,h=e.length;d<=h;d+=2){const f=e[d];if(f===`
`||d===h){s=Math.max(s,o),i.push(o),o=0,l+=c;continue}const p=e[d+1]||t.font,y=Yf(p,f);n.push(y),o+=y;const v=Bz(p);r.push(v),c=Math.max(c,v)}return{width:s,height:l,widths:n,heights:r,lineWidths:i}}function Uz(t,e,n,r,i,s,o,l,c,d,h){t.save(),n!==1&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(c,d),t.scale(h[0],h[1]),Wz(r,t)):h[0]<0||h[1]<0?(t.translate(c,d),t.scale(h[0],h[1]),t.drawImage(r,i,s,o,l,0,0,o,l)):t.drawImage(r,i,s,o,l,c,d,o*h[0],l*h[1]),t.restore()}function Wz(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class Km extends Wm{constructor(e){const n=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:n,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),n=new Km({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_;if(!e)return null;const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let n=this.canvas_[e];if(!n){const r=this.renderOptions_,i=hr(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvas_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return An.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const M=i;i=s,s=M}const o=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/o,c=s*Math.sin(l),d=Math.sqrt(s*s-c*c),h=i-d,f=Math.sqrt(c*c+h*h),p=f/c;if(e==="miter"&&p<=r)return p*n;const y=n/2/p,v=n/2*(h/f),S=Math.sqrt((i+y)*(i+y)+v*v)-i;if(this.radius2_===void 0||e==="bevel")return S*2;const b=i*Math.sin(l),R=Math.sqrt(i*i-b*b),T=s-R,k=Math.sqrt(b*b+T*T)/b;if(k<=r){const M=k*n/2-s-i;return 2*Math.max(S,M)}return S*2}createRenderOptions(){let e=Xl,n=0,r=null,i=0,s,o=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=Wu),s=Ji(s),o=this.stroke_.getWidth(),o===void 0&&(o=Xu),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=Xl),n=this.stroke_.getMiterLimit(),n===void 0&&(n=Uu));const l=this.calculateLineJoinSize_(e,o,n),c=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:o,size:d,lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Ms),n.fillStyle=Ji(i),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let n=this.fill_.getColor(),r=0;if(typeof n=="string"&&(n=Wf(n)),n===null?r=1:Array.isArray(n)&&(r=n.length===4?n[3]:1),r===0){const i=hr(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let l=0;l<n;l++){const c=s+l*o,d=l%2===0?r:i;e.lineTo(d*Math.cos(c),d*Math.sin(c))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Ms,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}}class Vr extends Km{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Vr({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}let an=class rk{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=db,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new rk({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=db,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function Hz(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(at(typeof t.getZIndex=="function",41),n=[t]),e=function(){return n}}return e}let Cy=null;function Xz(t,e){if(!Cy){const n=new Pn({color:"rgba(255,255,255,0.4)"}),r=new yn({color:"#3399CC",width:1.25});Cy=[new an({image:new Vr({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Cy}function ik(){const t={},e=[255,255,255,1],n=[0,153,255,1],r=3;return t.Polygon=[new an({fill:new Pn({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new an({stroke:new yn({color:e,width:r+2})}),new an({stroke:new yn({color:n,width:r})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new an({image:new Vr({radius:r*2,fill:new Pn({color:n}),stroke:new yn({color:e,width:r/2})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function db(t){return t.getGeometry()}const Kz="#333";class Ym{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=$r(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Pn({color:Kz}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new Ym({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=$r(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const Mt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class sk extends Di{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Mt.OPACITY]=e.opacity!==void 0?e.opacity:1,at(typeof n[Mt.OPACITY]=="number",64),n[Mt.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Mt.Z_INDEX]=e.zIndex,n[Mt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Mt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Mt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Mt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=wn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Qe()}getLayerStatesArray(e){return Qe()}getExtent(){return this.get(Mt.EXTENT)}getMaxResolution(){return this.get(Mt.MAX_RESOLUTION)}getMinResolution(){return this.get(Mt.MIN_RESOLUTION)}getMinZoom(){return this.get(Mt.MIN_ZOOM)}getMaxZoom(){return this.get(Mt.MAX_ZOOM)}getOpacity(){return this.get(Mt.OPACITY)}getSourceState(){return Qe()}getVisible(){return this.get(Mt.VISIBLE)}getZIndex(){return this.get(Mt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Mt.EXTENT,e)}setMaxResolution(e){this.set(Mt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Mt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Mt.MAX_ZOOM,e)}setMinZoom(e){this.set(Mt.MIN_ZOOM,e)}setOpacity(e){at(typeof e=="number",64),this.set(Mt.OPACITY,e)}setVisible(e){this.set(Mt.VISIBLE,e)}setZIndex(e){this.set(Mt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const tr={ANIMATING:0,INTERACTING:1},mi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Yz=42,Dv=256;function hb(t,e,n){return function(r,i,s,o,l){if(!r)return;if(!i&&!e)return r;const c=e?0:s[0]*i,d=e?0:s[1]*i,h=l?l[0]:0,f=l?l[1]:0;let p=t[0]+c/2+h,y=t[2]-c/2+h,v=t[1]+d/2+f,w=t[3]-d/2+f;p>y&&(p=(y+p)/2,y=p),v>w&&(v=(w+v)/2,w=v);let S=wn(r[0],p,y),b=wn(r[1],v,w);if(o&&n&&i){const R=30*i;S+=-R*Math.log(1+Math.max(0,p-r[0])/R)+R*Math.log(1+Math.max(0,r[0]-y)/R),b+=-R*Math.log(1+Math.max(0,v-r[1])/R)+R*Math.log(1+Math.max(0,r[1]-w)/R)}return[S,b]}}function Zz(t){return t}function Ov(t,e,n,r){const i=Yt(e)/n[0],s=as(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function Vv(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),wn(r,n/2,e*2)}function qz(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,o,l){if(i!==void 0){const c=t[0],d=t[t.length-1],h=n?Ov(c,n,o,r):c;if(l)return e?Vv(i,h,d):wn(i,d,h);const f=Math.min(h,i),p=Math.floor(pv(t,f,s));return t[p]>h&&p<t.length-1?t[p+1]:t[p]}}}function Jz(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(o,l,c,d){if(o!==void 0){const h=i?Ov(e,i,c,s):e;if(d)return r?Vv(o,h,n):wn(o,n,h);const f=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(t)-f),y=-l*(.5-f)+.5,v=Math.min(h,o),w=Math.floor(Math.log(e/v)/Math.log(t)+y),S=Math.max(p,w),b=e/Math.pow(t,S);return wn(b,n,h)}}}function fb(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,o,l,c){if(s!==void 0){const d=r?Ov(t,r,l,i):t;return!n||!c?wn(s,e,d):Vv(s,d,e)}}}function zv(t){if(t!==void 0)return 0}function mb(t){if(t!==void 0)return t}function Qz(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function e$(t){return t=t||Ca(5),function(e,n){if(n)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}function ok(t){return Math.pow(t,3)}function Pr(t){return 1-ok(1-t)}function t$(t){return 3*t*t-2*t*t*t}function n$(t){return t}const Sy=0;class Ki extends Di{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Ev(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&jP(),e.center&&(e.center=kn(e.center,this.projection_)),e.extent&&(e.extent=vo(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const l in mi)delete n[l];this.setProperties(n,!0);const r=i$(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=r$(e),s=r.constraint,o=s$(e);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(i[3]-n[3]+n[1]-i[1]),l=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+o,r[1]-l])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=kn(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=kn(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const h=arguments[i];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(i===n){r&&Zh(r,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_;const d=[];for(;i<n;++i){const h=arguments[i],f={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||t$,callback:r};if(h.center&&(f.sourceCenter=o,f.targetCenter=h.center.slice(),o=f.targetCenter),h.zoom!==void 0?(f.sourceResolution=l,f.targetResolution=this.getResolutionForZoom(h.zoom),l=f.targetResolution):h.resolution&&(f.sourceResolution=l,f.targetResolution=h.resolution,l=f.targetResolution),h.rotation!==void 0){f.sourceRotation=c;const p=Sa(h.rotation-c+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=c+p,c=f.targetRotation}o$(f)?f.complete=!0:s+=f.duration,d.push(f)}this.animations_.push(d),this.setHint(tr.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[tr.ANIMATING]>0}getInteracting(){return this.hints_[tr.INTERACTING]>0}cancelAnimations(){this.setHint(tr.ANIMATING,-this.hints_[tr.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&Zh(i[0].callback,!1),!e)for(let s=0,o=i.length;s<o;++s){const l=i[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,l=i.length;o<l;++o){const c=i[o];if(c.complete)continue;const d=e-c.start;let h=c.duration>0?d/c.duration:1;h>=1?(c.complete=!0,h=1):s=!1;const f=c.easing(h);if(c.sourceCenter){const p=c.sourceCenter[0],y=c.sourceCenter[1],v=c.targetCenter[0],w=c.targetCenter[1];this.nextCenter_=c.targetCenter;const S=p+f*(v-p),b=y+f*(w-y);this.targetCenter_=[S,b]}if(c.sourceResolution&&c.targetResolution){const p=f===1?c.targetResolution:c.sourceResolution+f*(c.targetResolution-c.sourceResolution);if(c.anchor){const y=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(p,0,y,!0);this.targetCenter_=this.calculateCenterZoom(v,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const p=f===1?Sa(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+f*(c.targetRotation-c.sourceRotation);if(c.anchor){const y=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(y,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),n=!0,!c.complete)break}if(s){this.animations_[r]=null,this.setHint(tr.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&Zh(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],Sv(r,e-this.getRotation()),kP(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-i[0])/s,l=n[1]-e*(n[1]-i[1])/s;r=[o,l]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Vu(e,this.getProjection())}getCenterInternal(){return this.get(mi.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return Pv(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();at(n,1);const r=this.getResolution();at(r!==void 0,2);const i=this.getRotation();return at(i!==void 0,3),M0(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(mi.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(vo(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=Yt(e)/n[0],i=as(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(mi.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(o){return Math.log(r/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=by(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=pv(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=wn(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,wn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(at(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){at(!_v(e),25);const i=vo(e,this.getProjection());r=ib(i)}else if(e.getType()==="Circle"){const i=vo(e.getExtent(),this.getProjection());r=ib(i),r.rotate(this.getRotation(),Po(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let l=1/0,c=1/0,d=-1/0,h=-1/0;for(let f=0,p=s.length;f<p;f+=o){const y=s[f]*r-s[f+1]*i,v=s[f]*i+s[f+1]*r;l=Math.min(l,y),c=Math.min(c,v),d=Math.max(d,y),h=Math.max(h,v)}return[l,c,d,h]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const l=this.rotatedExtentForGeometry(e);let c=this.getResolutionForExtentInternal(l,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);c=isNaN(c)?o:Math.max(c,o),c=this.getConstrainedResolution(c,s?0:1);const d=this.getRotation(),h=Math.sin(d),f=Math.cos(d),p=Po(l);p[0]+=(i[1]-i[3])/2*c,p[1]+=(i[0]-i[2])/2*c;const y=p[0]*f-p[1]*h,v=p[1]*f+p[0]*h,w=this.getConstrainedCenter([y,v],c),S=n.callback?n.callback:Wl;n.duration!==void 0?this.animateInternal({resolution:c,center:w,duration:n.duration,easing:n.easing},S):(this.targetResolution_=c,this.targetCenter_=w,this.applyTargetState_(!1,!0),Zh(S,!0))}centerOn(e,n,r){this.centerOnInternal(kn(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(by(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const o=this.padding_;if(o&&e){const l=this.getViewportSizeMinusPadding_(-r),c=by(e,i,[l[0]/2+o[3],l[1]/2+o[0]],n,r);s=[e[0]-c[0],e[1]-c[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Vu(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&kn(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=kn(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&kn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),l=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(mi.ROTATION)!==i&&this.set(mi.ROTATION,i),this.get(mi.RESOLUTION)!==o&&(this.set(mi.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(mi.CENTER)||!vi(this.get(mi.CENTER),l))&&this.set(mi.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,i,o),c=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!vi(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:e,easing:Pr,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(tr.INTERACTING,1)}endInteraction(e,n,r){r=r&&kn(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(tr.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function Zh(t,e){setTimeout(function(){t(e)},0)}function r$(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return hb(t.extent,t.constrainOnlyCenter,n)}const e=Ev(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,hb(n,!1,!1)}return Zz}function i$(t){let e,n,r,o=t.minZoom!==void 0?t.minZoom:Sy,l=t.maxZoom!==void 0?t.maxZoom:28;const c=t.zoomFactor!==void 0?t.zoomFactor:2,d=t.multiWorld!==void 0?t.multiWorld:!1,h=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,f=t.showFullExtent!==void 0?t.showFullExtent:!1,p=Ev(t.projection,"EPSG:3857"),y=p.getExtent();let v=t.constrainOnlyCenter,w=t.extent;if(!d&&!w&&p.isGlobal()&&(v=!1,w=y),t.resolutions!==void 0){const S=t.resolutions;n=S[o],r=S[l]!==void 0?S[l]:S[S.length-1],t.constrainResolution?e=qz(S,h,!v&&w,f):e=fb(n,r,h,!v&&w,f)}else{const b=(y?Math.max(Yt(y),as(y)):360*wv.degrees/p.getMetersPerUnit())/Dv/Math.pow(2,Sy),R=b/Math.pow(2,28-Sy);n=t.maxResolution,n!==void 0?o=0:n=b/Math.pow(c,o),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(c,l):r=b/Math.pow(c,l):r=R),l=o+Math.floor(Math.log(n/r)/Math.log(c)),r=n/Math.pow(c,l-o),t.constrainResolution?e=Jz(c,n,r,h,!v&&w,f):e=fb(n,r,h,!v&&w,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:c}}function s$(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?e$():n===!1?mb:typeof n=="number"?Qz(n):mb}return zv}function o$(t){return!(t.sourceCenter&&t.targetCenter&&!vi(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function by(t,e,n,r,i){const s=Math.cos(-i);let o=Math.sin(-i),l=t[0]*s-t[1]*o,c=t[1]*s+t[0]*o;l+=(e[0]/2-n[0])*r,c+=(n[1]-e[1]/2)*r,o=-o;const d=l*s-c*o,h=c*s+l*o;return[d,h]}class Zm extends sk{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Mt.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Mt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Gt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=pt(e,et.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;e instanceof Ki?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e;const r=this.getExtent();return this.getVisible()&&$v(this.getLayerState(),n.viewState)&&(!r||ur(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof Ki?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(Mt.MAP,e)}getMapInternal(){return this.get(Mt.MAP)}setMap(e){this.mapPrecomposeKey_&&(Gt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Gt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=pt(e,So.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);at(!i.some(function(o){return o.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=pt(this,et.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Mt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function $v(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}function a$(t,e,n,r,i){ak(t,e,n||0,r||t.length-1,i||l$)}function ak(t,e,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,o=e-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*(o-s/2<0?-1:1),h=Math.max(n,Math.floor(e-o*c/s+d)),f=Math.min(r,Math.floor(e+(s-o)*c/s+d));ak(t,e,h,f,i)}var p=t[e],y=n,v=r;for(au(t,n,e),i(t[r],p)>0&&au(t,n,r);y<v;){for(au(t,y,v),y++,v--;i(t[y],p)<0;)y++;for(;i(t[v],p)>0;)v--}i(t[n],p)===0?au(t,n,v):(v++,au(t,v,r)),v<=e&&(n=v+1),e<=v&&(r=v-1)}}function au(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function l$(t,e){return t<e?-1:t>e?1:0}let lk=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!Jh(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const l=n.children[o],c=n.leaf?i(l):l;Jh(e,c)&&(n.leaf?r.push(l):Ry(e,c)?this._all(l,r):s.push(l))}n=s.pop()}return r}collides(e){let n=this.data;if(!Jh(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],o=n.leaf?this.toBBox(s):s;if(Jh(e,o)){if(n.leaf||Ry(e,o))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Tl([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],o=[];let l,c,d;for(;r||s.length;){if(r||(r=s.pop(),c=s[s.length-1],l=o.pop(),d=!0),r.leaf){const h=c$(e,r.children,n);if(h!==-1)return r.children.splice(h,1),s.push(r),this._condense(s),this}!d&&!r.leaf&&Ry(r,i)?(s.push(r),o.push(l),l=0,c=r,r=r.children[0]):c?(l++,r=c.children[l],d=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let o=this._maxEntries,l;if(s<=o)return l=Tl(e.slice(n,r+1)),gl(l,this.toBBox),l;i||(i=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,i-1))),l=Tl([]),l.leaf=!1,l.height=i;const c=Math.ceil(s/o),d=c*Math.ceil(Math.sqrt(o));gb(e,n,r,d,this.compareMinX);for(let h=n;h<=r;h+=d){const f=Math.min(h+d-1,r);gb(e,h,f,c,this.compareMinY);for(let p=h;p<=f;p+=c){const y=Math.min(p+c-1,f);l.children.push(this._build(e,p,y,i-1))}}return gl(l,this.toBBox),l}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,o=1/0,l;for(let c=0;c<n.children.length;c++){const d=n.children[c],h=Ey(d),f=h$(e,d)-h;f<o?(o=f,s=h<s?h:s,l=d):f===o&&h<s&&(s=h,l=d)}n=l||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],o=this._chooseSubtree(i,this.data,n,s);for(o.children.push(e),gu(o,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const o=this._chooseSplitIndex(r,s,i),l=Tl(r.children.splice(o,r.children.length-o));l.height=r.height,l.leaf=r.leaf,gl(r,this.toBBox),gl(l,this.toBBox),n?e[n-1].children.push(l):this._splitRoot(r,l)}_splitRoot(e,n){this.data=Tl([e,n]),this.data.height=e.height+1,this.data.leaf=!1,gl(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,o=1/0;for(let l=n;l<=r-n;l++){const c=mu(e,0,l,this.toBBox),d=mu(e,l,r,this.toBBox),h=f$(c,d),f=Ey(c)+Ey(d);h<s?(s=h,i=l,o=f<o?f:o):h===s&&f<o&&(o=f,i=l)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:u$,s=e.leaf?this.compareMinY:d$,o=this._allDistMargin(e,n,r,i),l=this._allDistMargin(e,n,r,s);o<l&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,o=mu(e,0,n,s),l=mu(e,r-n,r,s);let c=qh(o)+qh(l);for(let d=n;d<r-n;d++){const h=e.children[d];gu(o,e.leaf?s(h):h),c+=qh(o)}for(let d=r-n-1;d>=n;d--){const h=e.children[d];gu(l,e.leaf?s(h):h),c+=qh(l)}return c}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)gu(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():gl(e[n],this.toBBox)}};function c$(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function gl(t,e){mu(t,0,t.children.length,e,t)}function mu(t,e,n,r,i){i||(i=Tl(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const o=t.children[s];gu(i,t.leaf?r(o):o)}return i}function gu(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u$(t,e){return t.minX-e.minX}function d$(t,e){return t.minY-e.minY}function Ey(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function qh(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h$(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function f$(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function Ry(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Jh(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Tl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gb(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const o=e+Math.ceil((n-e)/r/2)*r;a$(t,o,e,n,i),s.push(e,o,o,n)}}class m${constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(e,n,r){const i=pb(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const s=pb(e,n,r);this.cache_[s]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function pb(t,e,n){const r=n?qP(n):"null";return e+":"+t+":"+r}const Zf=new m$;function ck(t,e,n){const r=t;let i=!0,s=!1,o=!1;const l=[Bf(r,et.LOAD,function(){o=!0,s||e()})];return r.src&&D3?(s=!0,r.decode().then(function(){i&&e()}).catch(function(c){i&&(o?e():n())})):l.push(Bf(r,et.ERROR,n)),function(){i=!1,l.forEach(Gt)}}let lu=null;class g$ extends Lm{constructor(e,n,r,i,s,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=s,this.size_=r,this.src_=n,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===An.LOADED){lu||(lu=hr(1,1,void 0,{willReadFrequently:!0})),lu.drawImage(this.image_,0,0);try{lu.getImageData(0,0,1,1),this.tainted_=!1}catch{lu=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(et.CHANGE)}handleImageError_(){this.imageState_=An.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=An.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=hr(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===An.IDLE){this.image_||this.initializeImage_(),this.imageState_=An.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=ck(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==An.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=qP(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function p$(t,e,n,r,i,s){let o=Zf.get(e,r,s);return o||(o=new g$(t,e,n,r,i,s),Zf.set(e,r,s,o)),o}let qm=class uk extends Wm{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let l=e.src;at(!(l!==void 0&&o),4),at(!o||o&&this.imgSize_,5),(l===void 0||l.length===0)&&o&&(l=o.src||tt(o)),at(l!==void 0&&l.length>0,6),at(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const c=e.src!==void 0?An.IDLE:An.LOADED;if(this.color_=e.color!==void 0?Wf(e.color):null,this.iconImage_=p$(o,l,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,c,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.width_=e.width,this.height_=e.height,this.width_!==void 0||this.height_!==void 0){const d=this.getImage(1),h=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};d.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):d.addEventListener("load",h)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(this.width_!==void 0||this.height_!==void 0)&&(e=void 0),new uk({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,n){const r=this.getImage(1);e!==void 0&&n!==void 0?super.setScale([e/r.width,n/r.height]):e!==void 0?super.setScale([e/r.width,e/r.width]):n!==void 0?super.setScale([n/r.height,n/r.height]):super.setScale([1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const n=this.getImage(1);if(n){const r=Array.isArray(e)?e[0]:e;r!==void 0&&(this.width_=r*n.width);const i=Array.isArray(e)?e[1]:e;i!==void 0&&(this.height_=i*n.height)}}listenImageChange(e){this.iconImage_.addEventListener(et.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(et.CHANGE,e)}};function yb(t){return new an({fill:Ku(t,""),stroke:Yu(t,""),text:y$(t),image:x$(t)})}function Ku(t,e){const n=t[e+"fill-color"];if(n)return new Pn({color:n})}function Yu(t,e){const n=t[e+"stroke-width"],r=t[e+"stroke-color"];if(!(!n&&!r))return new yn({width:n,color:r,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function y$(t){const e=t["text-value"];return e?new Ym({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],repeat:t["text-repeat"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:Ku(t,"text-"),backgroundFill:Ku(t,"text-background-"),stroke:Yu(t,"text-"),backgroundStroke:Yu(t,"text-background-")}):void 0}function x$(t){const e=t["icon-src"],n=t["icon-img"];if(e||n)return new qm({src:e,img:n,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const r=t["shape-points"];if(r){const s="shape-";return new Km({points:r,fill:Ku(t,s),stroke:Yu(t,s),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const i=t["circle-radius"];if(i){const s="circle-";return new Vr({radius:i,fill:Ku(t,s),stroke:Yu(t,s),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const xb={RENDER_ORDER:"renderOrder"};class v$ extends Zm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(xb.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new lk(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(xb.RENDER_ORDER,e)}setStyle(e){let n;if(e===void 0)n=Xz;else if(e===null)n=null;else if(typeof e=="function")n=e;else if(e instanceof an)n=e;else if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s){const o=e[s];o instanceof an?i[s]=o:i[s]=yb(o)}n=i}else n=yb(e);this.style_=n,this.styleFunction_=e===null?void 0:Hz(this.style_),this.changed()}}const Ge={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Qh=[Ge.FILL],wo=[Ge.STROKE],pa=[Ge.BEGIN_PATH],vb=[Ge.CLOSE_PATH];class dk{drawCustom(e,n,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,n){}drawFeature(e,n){}drawGeometryCollection(e,n){}drawLineString(e,n){}drawMultiLineString(e,n){}drawMultiPoint(e,n){}drawMultiPolygon(e,n){}drawPoint(e,n){}drawPolygon(e,n){}drawText(e,n){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class wd extends dk{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let l=0,c=e.length;l<c;l+=n)i[0]=e[l],i[1]=e[l+1],Dm(r,i)&&(s[o++]=i[0],s[o++]=i[1]);return o}appendFlatLineCoordinates(e,n,r,i,s,o){const l=this.coordinates;let c=l.length;const d=this.getBufferedMaxExtent();o&&(n+=i);let h=e[n],f=e[n+1];const p=this.tmpCoordinate_;let y=!0,v,w,S;for(v=n+i;v<r;v+=i)p[0]=e[v],p[1]=e[v+1],S=k0(d,p),S!==w?(y&&(l[c++]=h,l[c++]=f,y=!1),l[c++]=p[0],l[c++]=p[1]):S===Ln.INTERSECTING?(l[c++]=p[0],l[c++]=p[1],y=!1):y=!0,h=p[0],f=p[1],w=S;return(s&&y||v===n+i)&&(l[c++]=h,l[c++]=f),c}drawCustomCoordinates_(e,n,r,i,s){for(let o=0,l=r.length;o<l;++o){const c=r[o],d=this.appendFlatLineCoordinates(e,n,c,i,!1,!1);s.push(d),n=c}return n}drawCustom(e,n,r,i){this.beginGeometry(e,n);const s=e.getType(),o=e.getStride(),l=this.coordinates.length;let c,d,h,f,p;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];const y=e.getEndss();p=0;for(let v=0,w=y.length;v<w;++v){const S=[];p=this.drawCustomCoordinates_(c,p,y[v],o,S),f.push(S)}this.instructions.push([Ge.CUSTOM,l,f,e,r,j0]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,f,e,i||r,j0]);break;case"Polygon":case"MultiLineString":h=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,e.getEnds(),o,h),this.instructions.push([Ge.CUSTOM,l,h,e,r,zu]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,h,e,i||r,zu]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),d=this.appendFlatLineCoordinates(c,0,c.length,o,!1,!1),this.instructions.push([Ge.CUSTOM,l,d,e,r,_o]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r,_o]);break;case"MultiPoint":c=e.getFlatCoordinates(),d=this.appendFlatPointCoordinates(c,o),d>l&&(this.instructions.push([Ge.CUSTOM,l,d,e,r,_o]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r,_o]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),d=this.coordinates.length,this.instructions.push([Ge.CUSTOM,l,d,e,r]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r]);break}this.endGeometry(n)}beginGeometry(e,n){this.beginGeometryInstruction1_=[Ge.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ge.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,o=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==Ge.END_GEOMETRY?o=n:s==Ge.BEGIN_GEOMETRY&&(i[2]=n,T3(this.hitDetectionInstructions,o,n),o=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillStyle=Ji(i||Ms)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=Ji(i||Wu);const s=n.getLineCap();r.lineCap=s!==void 0?s:Xf;const o=n.getLineDash();r.lineDash=o?o.slice():Bu;const l=n.getLineDashOffset();r.lineDashOffset=l||Gu;const c=n.getLineJoin();r.lineJoin=c!==void 0?c:Xl;const d=n.getWidth();r.lineWidth=d!==void 0?d:Xu;const h=n.getMiterLimit();r.miterLimit=h!==void 0?h:Uu,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[Ge.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(!0),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Ge.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,o=e.lineDashOffset,l=e.lineJoin,c=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!$s(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=l||e.currentLineWidth!=c||e.currentMiterLimit!=d)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=l,e.currentLineWidth=c,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[Ge.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=CP(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;xd(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class _$ extends wd{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([Ge.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([Ge.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class w$ extends wd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),l=[Ge.MOVE_TO_LINE_TO,s,o];return this.instructions.push(l),this.hitDetectionInstructions.push(l),r}drawLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Bu,Gu],pa);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(wo),this.endGeometry(n)}drawMultiLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],pa);const o=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinates_(l,d,o[h],c);this.hitDetectionInstructions.push(wo),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(wo),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(wo),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(pa)}}class _b extends wd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,o=s.fillStyle!==void 0,l=s.strokeStyle!==void 0,c=r.length;this.instructions.push(pa),this.hitDetectionInstructions.push(pa);for(let d=0;d<c;++d){const h=r[d],f=this.coordinates.length,p=this.appendFlatLineCoordinates(e,n,h,i,!0,!l),y=[Ge.MOVE_TO_LINE_TO,f,p];this.instructions.push(y),this.hitDetectionInstructions.push(y),l&&(this.instructions.push(vb),this.hitDetectionInstructions.push(vb)),n=h}return o&&(this.instructions.push(Qh),this.hitDetectionInstructions.push(Qh)),l&&(this.instructions.push(wo),this.hitDetectionInstructions.push(wo)),n}drawCircle(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Ms]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const d=[Ge.CIRCLE,c];this.instructions.push(pa,d),this.hitDetectionInstructions.push(pa,d),r.fillStyle!==void 0&&(this.instructions.push(Qh),this.hitDetectionInstructions.push(Qh)),r.strokeStyle!==void 0&&(this.instructions.push(wo),this.hitDetectionInstructions.push(wo)),this.endGeometry(n)}drawPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Ms]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,o,c),this.endGeometry(n)}drawMultiPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Ms]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinatess_(l,d,o[h],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=sa(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function C$(t,e,n,r,i){const s=[];let o=n,l=0,c=e.slice(n,2);for(;l<t&&o+i<r;){const[d,h]=c.slice(-2),f=e[o+i],p=e[o+i+1],y=Math.sqrt((f-d)*(f-d)+(p-h)*(p-h));if(l+=y,l>=t){const v=(t-l+y)/y,w=Or(d,f,v),S=Or(h,p,v);c.push(w,S),s.push(c),c=[w,S],l==t&&(o+=i),l=0}else if(l<t)c.push(e[o+i],e[o+i+1]),o+=i;else{const v=y-l,w=Or(d,f,v/y),S=Or(h,p,v/y);c.push(w,S),s.push(c),c=[w,S],l=0,o+=i}}return l>0&&s.push(c),s}function S$(t,e,n,r,i){let s=n,o=n,l=0,c=0,d=n,h,f,p,y,v,w,S,b,R,T;for(f=n;f<r;f+=i){const P=e[f],k=e[f+1];v!==void 0&&(R=P-v,T=k-w,y=Math.sqrt(R*R+T*T),S!==void 0&&(c+=p,h=Math.acos((S*R+b*T)/(p*y)),h>t&&(c>l&&(l=c,s=d,o=f),c=0,d=f-i)),p=y,S=R,b=T),v=P,w=k}return c+=y,c>l?[d,f]:[s,o]}const Su={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class b$ extends wd{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n){const r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!i)return;const o=this.coordinates;let l=o.length;const c=e.getType();let d=null,h=e.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!ur(this.getBufferedMaxExtent(),e.getExtent()))return;let f;if(d=e.getFlatCoordinates(),c=="LineString")f=[d.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const w=e.getEndss();f=[];for(let S=0,b=w.length;S<b;++S)f.push(w[S][0])}this.beginGeometry(e,n);const p=s.repeat,y=p?void 0:s.textAlign;let v=0;for(let w=0,S=f.length;w<S;++w){let b;p?b=C$(p*this.resolution,d,v,f[w],h):b=[d.slice(v,f[w])];for(let R=0,T=b.length;R<T;++R){const P=b[R];let k=0,M=P.length;if(y==null){const I=S$(s.maxAngle,P,0,P.length,2);k=I[0],M=I[1]}for(let I=k;I<M;I+=h)o.push(P[I],P[I+1]);const F=o.length;v=f[w],this.drawChars_(l,F),l=F}}this.endGeometry(n)}else{let f=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":d=e.getFlatCoordinates();break;case"LineString":d=e.getFlatMidpoint();break;case"Circle":d=e.getCenter();break;case"MultiLineString":d=e.getFlatMidpoints(),h=2;break;case"Polygon":d=e.getFlatInteriorPoint(),s.overflow||f.push(d[2]/this.resolution),h=3;break;case"MultiPolygon":const S=e.getFlatInteriorPoints();d=[];for(let b=0,R=S.length;b<R;b+=3)s.overflow||f.push(S[b+2]/this.resolution),d.push(S[b],S[b+1]);if(d.length===0)return;h=2;break}const p=this.appendFlatPointCoordinates(d,h);if(p===l)return;if(f&&(p-l)/2!==d.length/h){let S=l/2;f=f.filter((b,R)=>{const T=o[(S+R)*2]===d[R*h]&&o[(S+R)*2+1]===d[R*h+1];return T||--S,T})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);let y=s.padding;if(y!=ga&&(s.scale[0]<0||s.scale[1]<0)){let S=s.padding[0],b=s.padding[1],R=s.padding[2],T=s.padding[3];s.scale[0]<0&&(b=-b,T=-T),s.scale[1]<0&&(S=-S,R=-R),y=[S,b,R,T]}const v=this.pixelRatio;this.instructions.push([Ge.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,y==ga?ga:y.map(function(S){return S*v}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const w=1/v;this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,void 0,this.declutterImageWithText_,y,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||Hu,justify:n.justify,textBaseline:n.textBaseline||Kf,scale:n.scale});const o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,o=this.textKey_,l=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,d=Su[i.textBaseline],h=this.textOffsetY_*c,f=this.text_,p=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Ge.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,c,h,s,p*c,f,o,1]),this.hitDetectionInstructions.push([Ge.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,1,h,s,p,f,o,1/c])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const o=e.getFill();o?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Ji(o.getColor()||Ms)):(i=null,this.textFillState_=i);const l=e.getStroke();if(!l)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const v=l.getLineDash(),w=l.getLineDashOffset(),S=l.getWidth(),b=l.getMiterLimit();s.lineCap=l.getLineCap()||Xf,s.lineDash=v?v.slice():Bu,s.lineDashOffset=w===void 0?Gu:w,s.lineJoin=l.getLineJoin()||Xl,s.lineWidth=S===void 0?Xu:S,s.miterLimit=b===void 0?Uu:b,s.strokeStyle=Ji(l.getColor()||Wu)}r=this.textState_;const c=e.getFont()||tk;$z(c);const d=e.getScaleArray();r.overflow=e.getOverflow(),r.font=c,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Kf,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||ga,r.scale=d===void 0?[1,1]:d;const h=e.getOffsetX(),f=e.getOffsetY(),p=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=f===void 0?0:f,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:tt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+tt(i.fillStyle):""}this.declutterImageWithText_=n}}const E$={Circle:_b,Default:wd,Image:_$,LineString:w$,Polygon:_b,Text:b$};class wb{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const o=E$[n];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}class R$ extends yd{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Qe()}getData(e){return null}prepareFrame(e){return Qe()}renderFrame(e,n){return Qe()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,o)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===An.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=An.LOADED&&n!=An.ERROR&&e.addEventListener(et.CHANGE,this.boundHandleImageChange_),n==An.IDLE&&(e.load(),n=e.getState()),n==An.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}class hk extends Li{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}const Cb=[];let Pl=null;function T$(){Pl=hr(1,1,void 0,{willReadFrequently:!0})}class fk extends R${constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=ts(),this.pixelTransform=ts(),this.inversePixelTransform=ts(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){Pl||T$(),Pl.clearRect(0,0,1,1);let i;try{Pl.drawImage(e,n,r,1,1,0,0,1,1),i=Pl.getImageData(0,0,1,1).data}catch{return Pl=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,o;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&$s(Wf(e.style.backgroundColor),Wf(r)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=i;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",o=hr();const c=o.canvas;s.appendChild(c),l=c.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=Ba(r),s=zm(r),o=Vm(r),l=Om(r);Dn(n.coordinateToPixelTransform,i),Dn(n.coordinateToPixelTransform,s),Dn(n.coordinateToPixelTransform,o),Dn(n.coordinateToPixelTransform,l);const c=this.inversePixelTransform;Dn(c,i),Dn(c,s),Dn(c,o),Dn(c,l),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new hk(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_(So.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(So.POSTRENDER,e,n)}getRenderTransform(e,n,r,i,s,o,l){const c=s/2,d=o/2,h=i/n,f=-h,p=-e[0]+l,y=-e[1];return To(this.tempTransform,c,d,h,f,-r,p,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function P$(t,e,n,r,i,s,o,l,c,d,h,f){let p=t[e],y=t[e+1],v=0,w=0,S=0,b=0;function R(){v=p,w=y,e+=r,p=t[e],y=t[e+1],b+=S,S=Math.sqrt((p-v)*(p-v)+(y-w)*(y-w))}do R();while(e<n-r&&b+S<s);let T=S===0?0:(s-b)/S;const P=Or(v,p,T),k=Or(w,y,T),M=e-r,F=b,I=s+l*c(d,i,h);for(;e<n-r&&b+S<I;)R();T=S===0?0:(I-b)/S;const z=Or(v,p,T),G=Or(w,y,T);let V;if(f){const Y=[P,k,z,G];OP(Y,0,4,2,f,Y,Y),V=Y[0]>Y[2]}else V=P>z;const H=Math.PI,B=[],X=M+r===e;e=M,S=0,b=F,p=t[e],y=t[e+1];let Z;if(X){R(),Z=Math.atan2(y-w,p-v),V&&(Z+=Z>0?-H:H);const Y=(z+P)/2,D=(G+k)/2;return B[0]=[Y,D,(I-s)/2,Z,i],B}i=i.replace(/\n/g," ");for(let Y=0,D=i.length;Y<D;){R();let j=Math.atan2(y-w,p-v);if(V&&(j+=j>0?-H:H),Z!==void 0){let ie=j-Z;if(ie+=ie>H?-2*H:ie<-H?2*H:0,Math.abs(ie)>o)return null}Z=j;const U=Y;let q=0;for(;Y<D;++Y){const ie=V?D-Y-1:Y,ce=l*c(d,i[ie],h);if(e+r<n&&b+S<s+q+ce/2)break;q+=ce}if(Y===U)continue;const N=V?i.substring(D-U,D-Y):i.substring(U,Y);T=S===0?0:(s+q/2-b)/S;const L=Or(v,p,T),re=Or(w,y,T);B.push([L,re,q/2,j,N]),s+=q}return B}const pl=Ur(),ao=[],_s=[],ws=[],lo=[];function Sb(t){return t[3].declutterBox}const k$=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function bb(t,e){return(e==="start"||e==="end")&&!k$.test(t)&&(e=e==="start"?"left":"right"),Su[e]}function A$(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class M${constructor(e,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=ts(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const o=i?this.strokeStates[i]:null,l=r?this.fillStates[r]:null,c=this.textStates[n],d=this.pixelRatio,h=[c.scale[0]*d,c.scale[1]*d],f=Array.isArray(e),p=c.justify?Su[c.justify]:bb(Array.isArray(e)?e[0]:e,c.textAlign||Hu),y=i&&o.lineWidth?o.lineWidth:0,v=f?e:e.split(`
`).reduce(A$,[]),{width:w,height:S,widths:b,heights:R,lineWidths:T}=Gz(c,v),P=w+y,k=[],M=(P+2)*h[0],F=(S+y)*h[1],I={width:M<0?Math.floor(M):Math.ceil(M),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:k};(h[0]!=1||h[1]!=1)&&k.push("scale",h),i&&(k.push("strokeStyle",o.strokeStyle),k.push("lineWidth",y),k.push("lineCap",o.lineCap),k.push("lineJoin",o.lineJoin),k.push("miterLimit",o.miterLimit),k.push("setLineDash",[o.lineDash]),k.push("lineDashOffset",o.lineDashOffset)),r&&k.push("fillStyle",l.fillStyle),k.push("textBaseline","middle"),k.push("textAlign","center");const z=.5-p;let G=p*P+z*y;const V=[],H=[];let B=0,X=0,Z=0,Y=0,D;for(let j=0,U=v.length;j<U;j+=2){const q=v[j];if(q===`
`){X+=B,B=0,G=p*P+z*y,++Y;continue}const N=v[j+1]||c.font;N!==D&&(i&&V.push("font",N),r&&H.push("font",N),D=N),B=Math.max(B,R[Z]);const L=[q,G+z*b[Z]+p*(b[Z]-T[Y]),.5*(y+B)+X];G+=b[Z],i&&V.push("strokeText",L),r&&H.push("fillText",L),++Z}return Array.prototype.push.apply(k,V),Array.prototype.push.apply(k,H),this.labels_[s]=I,I}replayTextBackground_(e,n,r,i,s,o,l){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),o&&(this.alignFill_=o[2],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,o,l,c,d,h,f,p,y,v,w,S){l*=p[0],c*=p[1];let b=r-l,R=i-c;const T=s+d>e?e-d:s,P=o+h>n?n-h:o,k=v[3]+T*p[0]+v[1],M=v[0]+P*p[1]+v[2],F=b-v[3],I=R-v[0];(w||f!==0)&&(ao[0]=F,lo[0]=F,ao[1]=I,_s[1]=I,_s[0]=F+k,ws[0]=_s[0],ws[1]=I+M,lo[1]=ws[1]);let z;return f!==0?(z=To(ts(),r,i,1,1,f,-r,-i),Dn(z,ao),Dn(z,_s),Dn(z,ws),Dn(z,lo),Ns(Math.min(ao[0],_s[0],ws[0],lo[0]),Math.min(ao[1],_s[1],ws[1],lo[1]),Math.max(ao[0],_s[0],ws[0],lo[0]),Math.max(ao[1],_s[1],ws[1],lo[1]),pl)):Ns(Math.min(F,F+k),Math.min(I,I+M),Math.max(F,F+k),Math.max(I,I+M),pl),y&&(b=Math.round(b),R=Math.round(R)),{drawImageX:b,drawImageY:R,drawImageW:T,drawImageH:P,originX:d,originY:h,declutterBox:{minX:pl[0],minY:pl[1],maxX:pl[2],maxY:pl[3],value:S},canvasTransform:z,scale:p}}replayImageOrLabel_(e,n,r,i,s,o,l){const c=!!(o||l),d=i.declutterBox,h=e.canvas,f=l?l[2]*i.scale[0]/2:0;return d.minX-f<=h.width/n&&d.maxX+f>=0&&d.minY-f<=h.height/n&&d.maxY+f>=0&&(c&&this.replayTextBackground_(e,ao,_s,ws,lo,o,l),Uz(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){if(this.alignFill_){const n=Dn(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],o=this.createLabel(e,n,i,r),l=this.strokeStates[r],c=this.pixelRatio,d=bb(Array.isArray(e)?e[0]:e,s.textAlign||Hu),h=Su[s.textBaseline||Kf],f=l&&l.lineWidth?l.lineWidth:0,p=o.width/c-2*s.scale[0],y=d*p+2*(.5-d)*f,v=h*o.height/c+2*(.5-h)*f;return{label:o,anchorX:y,anchorY:v}}execute_(e,n,r,i,s,o,l,c){let d;this.pixelCoordinates_&&$s(r,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=ba(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),V3(this.renderedTransform_,r));let h=0;const f=i.length;let p=0,y,v,w,S,b,R,T,P,k,M,F,I,z=0,G=0,V=null,H=null;const B=this.coordinateCache_,X=this.viewRotation_,Z=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,Y={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:X},D=this.instructions!=i||this.overlaps?0:200;let j,U,q,N;for(;h<f;){const L=i[h];switch(L[0]){case Ge.BEGIN_GEOMETRY:j=L[1],N=L[3],j.getGeometry()?l!==void 0&&!ur(l,N.getExtent())?h=L[2]+1:++h:h=L[2];break;case Ge.BEGIN_PATH:z>D&&(this.fill_(e),z=0),G>D&&(e.stroke(),G=0),!z&&!G&&(e.beginPath(),S=NaN,b=NaN),++h;break;case Ge.CIRCLE:p=L[1];const ie=d[p],ce=d[p+1],ge=d[p+2],ae=d[p+3],pe=ge-ie,we=ae-ce,be=Math.sqrt(pe*pe+we*we);e.moveTo(ie+be,ce),e.arc(ie,ce,be,0,2*Math.PI,!0),++h;break;case Ge.CLOSE_PATH:e.closePath(),++h;break;case Ge.CUSTOM:p=L[1],y=L[2];const $e=L[3],Ve=L[4],yt=L.length==6?L[5]:void 0;Y.geometry=$e,Y.feature=j,h in B||(B[h]=[]);const mt=B[h];yt?yt(d,p,y,2,mt):(mt[0]=d[p],mt[1]=d[p+1],mt.length=2),Ve(mt,Y),++h;break;case Ge.DRAW_IMAGE:p=L[1],y=L[2],P=L[3],v=L[4],w=L[5];let Ut=L[6];const Lt=L[7],Dt=L[8],Vn=L[9],lt=L[10];let $=L[11];const J=L[12];let te=L[13];const fe=L[14],he=L[15];if(!P&&L.length>=20){k=L[19],M=L[20],F=L[21],I=L[22];const ct=this.drawLabelWithPointPlacement_(k,M,F,I);P=ct.label,L[3]=P;const Be=L[23];v=(ct.anchorX-Be)*this.pixelRatio,L[4]=v;const Tt=L[24];w=(ct.anchorY-Tt)*this.pixelRatio,L[5]=w,Ut=P.height,L[6]=Ut,te=P.width,L[13]=te}let se;L.length>25&&(se=L[25]);let ye,je,ze;L.length>17?(ye=L[16],je=L[17],ze=L[18]):(ye=ga,je=!1,ze=!1),lt&&Z?$+=X:!lt&&!Z&&($-=X);let xt=0;for(;p<y;p+=2){if(se&&se[xt++]<te/this.pixelRatio)continue;const ct=this.calculateImageOrLabelDimensions_(P.width,P.height,d[p],d[p+1],te,Ut,v,w,Dt,Vn,$,J,s,ye,je||ze,j),Be=[e,n,P,ct,Lt,je?V:null,ze?H:null];if(c){if(fe==="none")continue;if(fe==="obstacle"){c.insert(ct.declutterBox);continue}else{let Tt,Mn;if(he){const gt=y-p;if(!he[gt]){he[gt]=Be;continue}if(Tt=he[gt],delete he[gt],Mn=Sb(Tt),c.collides(Mn))continue}if(c.collides(ct.declutterBox))continue;Tt&&(c.insert(Mn),this.replayImageOrLabel_.apply(this,Tt)),c.insert(ct.declutterBox)}}this.replayImageOrLabel_.apply(this,Be)}++h;break;case Ge.DRAW_CHARS:const Ot=L[1],ft=L[2],zn=L[3],kr=L[4];I=L[5];const Ar=L[6],Ie=L[7],ve=L[8];F=L[9];const vt=L[10];k=L[11],M=L[12];const Ct=[L[13],L[13]],Vt=this.textStates[M],Wt=Vt.font,Jt=[Vt.scale[0]*Ie,Vt.scale[1]*Ie];let Qt;Wt in this.widths_?Qt=this.widths_[Wt]:(Qt={},this.widths_[Wt]=Qt);const St=ZP(d,Ot,ft,2),Ye=Math.abs(Jt[0])*ub(Wt,k,Qt);if(kr||Ye<=St){const ct=this.textStates[M].textAlign,Be=(St-Ye)*Su[ct],Tt=P$(d,Ot,ft,2,k,Be,Ar,Math.abs(Jt[0]),ub,Wt,Qt,Z?0:this.viewRotation_);e:if(Tt){const Mn=[];let gt,en,Mr,bt,zt;if(F)for(gt=0,en=Tt.length;gt<en;++gt){zt=Tt[gt],Mr=zt[4],bt=this.createLabel(Mr,M,"",F),v=zt[2]+(Jt[0]<0?-vt:vt),w=zn*bt.height+(.5-zn)*2*vt*Jt[1]/Jt[0]-ve;const In=this.calculateImageOrLabelDimensions_(bt.width,bt.height,zt[0],zt[1],bt.width,bt.height,v,w,0,0,zt[3],Ct,!1,ga,!1,j);if(c&&c.collides(In.declutterBox))break e;Mn.push([e,n,bt,In,1,null,null])}if(I)for(gt=0,en=Tt.length;gt<en;++gt){zt=Tt[gt],Mr=zt[4],bt=this.createLabel(Mr,M,I,""),v=zt[2],w=zn*bt.height-ve;const In=this.calculateImageOrLabelDimensions_(bt.width,bt.height,zt[0],zt[1],bt.width,bt.height,v,w,0,0,zt[3],Ct,!1,ga,!1,j);if(c&&c.collides(In.declutterBox))break e;Mn.push([e,n,bt,In,1,null,null])}c&&c.load(Mn.map(Sb));for(let In=0,gr=Mn.length;In<gr;++In)this.replayImageOrLabel_.apply(this,Mn[In])}}++h;break;case Ge.END_GEOMETRY:if(o!==void 0){j=L[1];const ct=o(j,N);if(ct)return ct}++h;break;case Ge.FILL:D?z++:this.fill_(e),++h;break;case Ge.MOVE_TO_LINE_TO:for(p=L[1],y=L[2],U=d[p],q=d[p+1],R=U+.5|0,T=q+.5|0,(R!==S||T!==b)&&(e.moveTo(U,q),S=R,b=T),p+=2;p<y;p+=2)U=d[p],q=d[p+1],R=U+.5|0,T=q+.5|0,(p==y-2||R!==S||T!==b)&&(e.lineTo(U,q),S=R,b=T);++h;break;case Ge.SET_FILL_STYLE:V=L,this.alignFill_=L[2],z&&(this.fill_(e),z=0,G&&(e.stroke(),G=0)),e.fillStyle=L[1],++h;break;case Ge.SET_STROKE_STYLE:H=L,G&&(e.stroke(),G=0),this.setStrokeStyle_(e,L),++h;break;case Ge.STROKE:D?G++:e.stroke(),++h;break;default:++h;break}}z&&this.fill_(e),G&&e.stroke()}execute(e,n,r,i,s,o){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,1,n,this.hitDetectionInstructions,!0,i,s)}}const Ty=["Polygon","Circle","LineString","Image","Text","Default"];class Eb{constructor(e,n,r,i,s,o){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=ts(),this.createExecutors_(s)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e){for(const n in e){let r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);const i=e[n];for(const s in i){const o=i[s];r[s]=new M$(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,o){i=Math.round(i);const l=i*2+1,c=To(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=hr(l,l,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):d||h.clearRect(0,0,l,l);let f;this.renderBuffer_!==void 0&&(f=Ur(),wu(f,e),xd(f,n*(this.renderBuffer_+i),f));const p=I$(i);let y;function v(k,M){const F=h.getImageData(0,0,l,l).data;for(let I=0,z=p.length;I<z;I++)if(F[p[I]]>0){if(!o||y!=="Image"&&y!=="Text"||o.includes(k)){const G=(p[I]-3)/4,V=i-G%l,H=i-(G/l|0),B=s(k,M,V*V+H*H);if(B)return B}h.clearRect(0,0,l,l);break}}const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Pa);let S,b,R,T,P;for(S=w.length-1;S>=0;--S){const k=w[S].toString();for(R=this.executorsByZIndex_[k],b=Ty.length-1;b>=0;--b)if(y=Ty[b],T=R[y],T!==void 0&&(P=T.executeHitDetection(h,c,r,v,f),P))return P}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],o=n[3],l=[r,i,r,o,s,o,s,i];return ba(l,0,8,2,e,l),l}isEmpty(){return Hl(this.executorsByZIndex_)}execute(e,n,r,i,s,o,l){const c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(Pa),this.maxExtent_&&(e.save(),this.clip(e,r)),o=o||Ty;let d,h,f,p,y,v;for(l&&c.reverse(),d=0,h=c.length;d<h;++d){const w=c[d].toString();for(y=this.executorsByZIndex_[w],f=0,p=o.length;f<p;++f){const S=o[f];v=y[S],v!==void 0&&v.execute(e,n,r,i,s,l)}}this.maxExtent_&&e.restore()}}const Py={};function I$(t){if(Py[t]!==void 0)return Py[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let o=0;o<=t;++o){const l=s*s+o*o;if(l>n)break;let c=r[l];c||(c=[],r[l]=c),c.push(((t+s)*e+(t+o))*4+3),s>0&&c.push(((t-s)*e+(t+o))*4+3),o>0&&(c.push(((t+s)*e+(t-o))*4+3),s>0&&c.push(((t-s)*e+(t-o))*4+3))}const i=[];for(let s=0,o=r.length;s<o;++s)r[s]&&i.push(...r[s]);return Py[t]=i,i}class N$ extends dk{constructor(e,n,r,i,s,o,l){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?Cv(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ts()}drawImages_(e,n,r,i){if(!this.image_)return;const s=ba(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,l=this.tmpLocalTransform_,c=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=c*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let h=0,f=s.length;h<f;h+=2){const p=s[h]-this.imageAnchorX_,y=s[h+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const v=p+this.imageAnchorX_,w=y+this.imageAnchorY_;To(l,v,w,1,1,d,-v,-w),o.setTransform.apply(o,l),o.translate(v,w),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,y,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=c)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=ba(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_;let l=this.textRotation_;for(this.transformRotation_===0&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);n<r;n+=i){const c=s[n]+this.textOffsetX_,d=s[n+1]+this.textOffsetY_;l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.translate(c-this.textOffsetX_,d-this.textOffsetY_),o.rotate(l),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,c,d),this.textFillState_&&o.fillText(this.text_,c,d))}}moveToLineTo_(e,n,r,i,s){const o=this.context_,l=ba(e,n,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(l[0],l[1]);let c=l.length;s&&(c-=2);for(let d=2;d<c;d+=2)o.lineTo(l[d],l[d+1]);return s&&o.closePath(),r}drawRings_(e,n,r,i){for(let s=0,o=r.length;s<o;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(ur(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=fz(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),o=this.context_;o.beginPath(),o.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);!r||!ur(this.extent_,r.getExtent())||(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(ur(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const o=e.getEnds(),l=e.getStride();r.beginPath();for(let c=0,d=o.length;c<d;++c)s=this.moveToLineTo_(i,s,o[c],l,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),o=e.getStride();n.beginPath();for(let l=0,c=s.length;l<c;++l){const d=s[l];i=this.drawRings_(r,i,d,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),$s(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:Hu;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:Ji(r||Ms)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),o=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),d=n.getMiterLimit(),h=s||Bu;this.strokeState_={lineCap:i!==void 0?i:Xf,lineDash:this.pixelRatio_===1?h:h.map(f=>f*this.pixelRatio_),lineDashOffset:(o||Gu)*this.pixelRatio_,lineJoin:l!==void 0?l:Xl,lineWidth:(c!==void 0?c:Xu)*this.pixelRatio_,miterLimit:d!==void 0?d:Uu,strokeStyle:Ji(r||Wu)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/r,o[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const y=n.getColor();this.textFillState_={fillStyle:Ji(y||Ms)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const y=r.getColor(),v=r.getLineCap(),w=r.getLineDash(),S=r.getLineDashOffset(),b=r.getLineJoin(),R=r.getWidth(),T=r.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:Xf,lineDash:w||Bu,lineDashOffset:S||Gu,lineJoin:b!==void 0?b:Xl,lineWidth:R!==void 0?R:Xu,miterLimit:T!==void 0?T:Uu,strokeStyle:Ji(y||Wu)}}const i=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),l=e.getRotateWithView(),c=e.getRotation(),d=e.getScaleArray(),h=e.getText(),f=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:i!==void 0?i:tk,textAlign:f!==void 0?f:Hu,textBaseline:p!==void 0?p:Kf},this.text_=h!==void 0?Array.isArray(h)?h.reduce((y,v,w)=>y+=w%2?" ":v,""):h:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=l!==void 0?l:!1,this.textRotation_=c!==void 0?c:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}}const Yi=.5;function F$(t,e,n,r,i,s,o){const l=t[0]*Yi,c=t[1]*Yi,d=hr(l,c);d.imageSmoothingEnabled=!1;const h=d.canvas,f=new N$(d,Yi,i,null,o),p=n.length,y=Math.floor((256*256*256-1)/p),v={};for(let S=1;S<=p;++S){const b=n[S-1],R=b.getStyleFunction()||r;if(!r)continue;let T=R(b,s);if(!T)continue;Array.isArray(T)||(T=[T]);const k=(S*y).toString(16).padStart(7,"#00000");for(let M=0,F=T.length;M<F;++M){const I=T[M],z=I.getGeometryFunction()(b);if(!z||!ur(i,z.getExtent()))continue;const G=I.clone(),V=G.getFill();V&&V.setColor(k);const H=G.getStroke();H&&(H.setColor(k),H.setLineDash(null)),G.setText(void 0);const B=I.getImage();if(B&&B.getOpacity()!==0){const D=B.getImageSize();if(!D)continue;const j=hr(D[0],D[1],void 0,{alpha:!1}),U=j.canvas;j.fillStyle=k,j.fillRect(0,0,U.width,U.height),G.setImage(new qm({img:U,imgSize:D,anchor:B.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:B.getOrigin(),opacity:1,size:B.getSize(),scale:B.getScale(),rotation:B.getRotation(),rotateWithView:B.getRotateWithView()}))}const X=G.getZIndex()||0;let Z=v[X];Z||(Z={},v[X]=Z,Z.Polygon=[],Z.Circle=[],Z.LineString=[],Z.Point=[]);const Y=z.getType();if(Y==="GeometryCollection"){const D=z.getGeometriesArrayRecursive();for(let j=0,U=D.length;j<U;++j){const q=D[j];Z[q.getType().replace("Multi","")].push(q,G)}}else Z[Y.replace("Multi","")].push(z,G)}}const w=Object.keys(v).map(Number).sort(Pa);for(let S=0,b=w.length;S<b;++S){const R=v[w[S]];for(const T in R){const P=R[T];for(let k=0,M=P.length;k<M;k+=2){f.setStyle(P[k+1]);for(let F=0,I=e.length;F<I;++F)f.setTransform(e[F]),f.drawGeometry(P[k])}}}return d.getImageData(0,0,h.width,h.height)}function j$(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*Yi),s=Math.floor(Math.round(t[1])*Yi),o=(wn(i,0,n.width-1)+wn(s,0,n.height-1)*n.width)*4,l=n.data[o],c=n.data[o+1],h=n.data[o+2]+256*(c+256*l),f=Math.floor((256*256*256-1)/e.length);h&&h%f===0&&r.push(e[h/f-1])}return r}const L$=.5,mk={Point:W$,LineString:B$,Polygon:X$,MultiPoint:H$,MultiLineString:G$,MultiPolygon:U$,GeometryCollection:$$,Circle:V$};function D$(t,e){return parseInt(tt(t),10)-parseInt(tt(e),10)}function O$(t,e){const n=z0(t,e);return n*n}function z0(t,e){return L$*t/e}function V$(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const c=t.getBuilder(n.getZIndex(),"Circle");c.setFillStrokeStyle(s,o),c.drawCircle(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}function Rb(t,e,n,r,i,s,o){let l=!1;const c=n.getImage();if(c){const d=c.getImageState();d==An.LOADED||d==An.ERROR?c.unlistenImageChange(i):(d==An.IDLE&&c.load(),c.listenImageChange(i),l=!0)}return z$(t,e,n,r,s,o),l}function z$(t,e,n,r,i,s){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(r,i);if(n.getRenderer())gk(t,l,n,e);else{const d=mk[l.getType()];d(t,l,n,e,s)}}function gk(t,e,n,r){if(e.getType()=="GeometryCollection"){const s=e.getGeometries();for(let o=0,l=s.length;o<l;++o)gk(t,s[o],n,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer())}function $$(t,e,n,r,i){const s=e.getGeometriesArray();let o,l;for(o=0,l=s.length;o<l;++o){const c=mk[s[o].getType()];c(t,s[o],n,r,i)}}function B$(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function G$(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawMultiLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function U$(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(o||s){const c=t.getBuilder(n.getZIndex(),"Polygon");c.setFillStrokeStyle(s,o),c.drawMultiPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}function W$(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=An.LOADED)return;let c=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(c=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawPoint(e,r)}else o&&o.getText()&&(l={})}const d=c.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawPoint(e,r)}if(o&&o.getText()){let c=t;i&&(c=i);const d=c.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function H$(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=An.LOADED)return;let c=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(c=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawMultiPoint(e,r)}else o&&o.getText()&&(l={})}const d=c.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawMultiPoint(e,r)}if(o&&o.getText()){let c=t;i&&(c=i);const d=c.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function X$(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const c=t.getBuilder(n.getZIndex(),"Polygon");c.setFillStrokeStyle(s,o),c.drawPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}class K$ extends fk{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Ur(),this.wrappedRenderedExtent_=Ur(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,o=s.center,l=s.resolution,c=s.projection,d=s.rotation,h=c.getExtent(),f=this.getLayer().getSource(),p=n.pixelRatio,y=n.viewHints,v=!(y[tr.ANIMATING]||y[tr.INTERACTING]),w=this.compositionContext_,S=Math.round(n.size[0]*p),b=Math.round(n.size[1]*p),R=f.getWrapX()&&c.canWrapX(),T=R?Yt(h):null,P=R?Math.ceil((i[2]-h[2])/T)+1:1;let k=R?Math.floor((i[0]-h[0])/T):0;do{const M=this.getRenderTransform(o,l,d,p,S,b,k*T);e.execute(w,1,M,d,v,void 0,r)}while(++k<P)}setupCompositionContext_(){if(this.opacity_!==1){const e=hr(this.context.canvas.width,this.context.canvas.height,Cb);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,Hm(this.compositionContext_),Cb.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,n){const r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];z3(this.pixelTransform,1/r,1/r),xv(this.inversePixelTransform,this.pixelTransform);const s=wP(this.pixelTransform);this.useContainer(n,s,this.getBackground(e));const o=this.context,l=o.canvas,c=this.replayGroup_,d=this.declutterExecutorGroup;if((!c||c.isEmpty())&&(!d||d.isEmpty()))return null;const h=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);l.width!=h||l.height!=f?(l.width=h,l.height=f,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||o.clearRect(0,0,h,f),this.preRender(o,e);const p=e.viewState;p.projection,this.opacity_=i.opacity,this.setupCompositionContext_();let y=!1,v=!0;if(i.extent&&this.clipping){const w=vo(i.extent);v=ur(w,e.extent),y=v&&!fa(w,e.extent),y&&this.clipUnrotated(this.compositionContext_,e,w)}return v&&this.renderWorlds(c,e),y&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];Dn(this.pixelTransform,r);const i=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,l=this.renderedProjection_,c=this.wrappedRenderedExtent_,d=this.getLayer(),h=[],f=r[0]*Yi,p=r[1]*Yi;h.push(this.getRenderTransform(i,s,o,Yi,f,p,0).slice());const y=d.getSource(),v=l.getExtent();if(y.getWrapX()&&l.canWrapX()&&!fa(v,c)){let w=c[0];const S=Yt(v);let b=0,R;for(;w<v[0];)--b,R=S*b,h.push(this.getRenderTransform(i,s,o,Yi,f,p,R).slice()),w+=S;for(b=0,w=c[2];w>v[2];)++b,R=S*b,h.push(this.getRenderTransform(i,s,o,Yi,f,p,R).slice()),w-=S}this.hitDetectionImageData_=F$(r,h,this.renderedFeatures_,d.getStyleFunction(),c,s,o)}n(j$(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){if(!this.replayGroup_)return;const o=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),d={},h=function(y,v,w){const S=tt(y),b=d[S];if(b){if(b!==!0&&w<b.distanceSq){if(w===0)return d[S]=!0,s.splice(s.lastIndexOf(b),1),i(y,c,v);b.geometry=v,b.distanceSq=w}}else{if(w===0)return d[S]=!0,i(y,c,v);s.push(d[S]={feature:y,layer:c,geometry:v,distanceSq:w,callback:i})}};let f;const p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(y=>f=y.forEachFeatureAtCoordinate(e,o,l,r,h,y===this.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(v=>v.value):null)),f}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[tr.ANIMATING],s=e.viewHints[tr.INTERACTING],o=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(this.ready&&!o&&i||!l&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const c=e.extent,d=e.viewState,h=d.projection,f=d.resolution,p=e.pixelRatio,y=n.getRevision(),v=n.getRenderBuffer();let w=n.getRenderOrder();w===void 0&&(w=D$);const S=d.center.slice(),b=xd(c,v*f),R=b.slice(),T=[b.slice()],P=h.getExtent();if(r.getWrapX()&&h.canWrapX()&&!fa(P,e.extent)){const Z=Yt(P),Y=Math.max(Yt(b)/2,Z);b[0]=P[0]-Y,b[2]=P[2]+Y,IP(S,h);const D=TP(T[0],h);D[0]<P[0]&&D[2]<P[2]?T.push([D[0]+Z,D[1],D[2]+Z,D[3]]):D[0]>P[0]&&D[2]>P[2]&&T.push([D[0]-Z,D[1],D[2]-Z,D[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==y&&this.renderedRenderOrder_==w&&fa(this.wrappedRenderedExtent_,b))return $s(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=S,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const k=new wb(z0(f,p),b,f,p);let M;this.getLayer().getDeclutter()&&(M=new wb(z0(f,p),b,f,p));let F;for(let Z=0,Y=T.length;Z<Y;++Z)r.loadFeatures(T[Z],f,h);const I=O$(f,p);let z=!0;const G=Z=>{let Y;const D=Z.getStyleFunction()||n.getStyleFunction();if(D&&(Y=D(Z,f)),Y){const j=this.renderFeature(Z,I,Y,k,F,M);z=z&&!j}},V=Pv(b),H=r.getFeaturesInExtent(V);w&&H.sort(w);for(let Z=0,Y=H.length;Z<Y;++Z)G(H[Z]);this.renderedFeatures_=H,this.ready=z;const B=k.finish(),X=new Eb(b,f,p,r.getOverlaps(),B,n.getRenderBuffer());return M&&(this.declutterExecutorGroup=new Eb(b,f,p,r.getOverlaps(),M.finish(),n.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=y,this.renderedRenderOrder_=w,this.renderedExtent_=R,this.wrappedRenderedExtent_=b,this.renderedCenter_=S,this.renderedProjection_=h,this.replayGroup_=X,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,o){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let c=0,d=r.length;c<d;++c)l=Rb(i,e,r[c],n,this.boundHandleStyleImageChange_,s,o)||l;else l=Rb(i,e,r,n,this.boundHandleStyleImageChange_,s,o);return l}}class ls extends v${constructor(e){super(e)}createRenderer(){return new K$(this)}}class $0{constructor(e){this.rbush_=new lk(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[tt(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const o=e[i],l=n[i],c={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};r[i]=c,this.items_[tt(l)]=c}this.rbush_.load(r)}remove(e){const n=tt(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[tt(n)],i=[r.minX,r.minY,r.maxX,r.maxY];Du(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return Hl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Ns(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class pk extends Di{constructor(e){super(),this.projection=Cn(e.projection),this.attributions_=Tb(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Tb(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Tb(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const Lr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Y$(t,e){return[[-1/0,-1/0,1/0,1/0]]}let Z$=!1;function q$(t,e,n,r,i,s,o){const l=new XMLHttpRequest;l.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(l.responseType="arraybuffer"),l.withCredentials=Z$,l.onload=function(c){if(!l.status||l.status>=200&&l.status<300){const d=e.getType();let h;d=="json"||d=="text"?h=l.responseText:d=="xml"?(h=l.responseXML,h||(h=new DOMParser().parseFromString(l.responseText,"application/xml"))):d=="arraybuffer"&&(h=l.response),h?s(e.readFeatures(h,{extent:n,featureProjection:i}),e.readProjection(h)):o()}else o()},l.onerror=o,l.send()}function Pb(t,e){return function(n,r,i,s,o){const l=this;q$(t,e,n,r,i,function(c,d){l.addFeatures(c),s!==void 0&&s(c)},o||Wl)}}class co extends Li{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class Fs extends pk{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Wl,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(at(this.format_,7),this.loader_=Pb(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:Y$;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new $0:null,this.loadedExtentsRtree_=new $0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new Br(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=tt(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new co(Lr.ADDFEATURE,e))}setupChangeEvents_(e,n){this.featureChangeKeys_[e]=[pt(n,et.CHANGE,this.handleFeatureChange_,this),pt(n,Ul.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,n){let r=!0;const i=n.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=n),r&&(at(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,o=e.length;s<o;s++){const l=e[s],c=tt(l);this.addToIndex_(c,l)&&r.push(l)}for(let s=0,o=r.length;s<o;s++){const l=r[s],c=tt(l);this.setupChangeEvents_(c,l);const d=l.getGeometry();if(d){const h=d.getExtent();n.push(h),i.push(l)}else this.nullGeometryFeatures_[c]=l}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(Lr.ADDFEATURE))for(let s=0,o=r.length;s<o;s++)this.dispatchEvent(new co(Lr.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Lr.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(Lr.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(_n.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(_n.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(Gt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new co(Lr.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){if(i.getGeometry().intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Hl(this.nullGeometryFeatures_)||Ri(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=H3(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const o=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0];return n=n||ka,this.featuresRtree_.forEachInExtent(c,function(d){if(n(d)){const h=d.getGeometry(),f=l;if(l=h.closestPointXY(r,i,o,l),l<f){s=d;const p=Math.sqrt(l);c[0]=r-p,c[1]=i-p,c[2]=r+p,c[3]=i+p}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=tt(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const o=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const s=n.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new co(Lr.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:tt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Hl(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let o=0,l=s.length;o<l;++o){const c=s[o];i.forEachInExtent(c,function(h){return fa(h.extent,c)})||(++this.loadingExtentsCount_,this.dispatchEvent(new co(Lr.FEATURESLOADSTART)),this.loader_.call(this,c,n,r,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new co(Lr.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new co(Lr.FEATURESLOADERROR))}),i.insert(c,{extent:c.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if(Du(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeature(e){if(!e)return;const n=tt(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=tt(e),r=this.featureChangeKeys_[n];if(!r)return;r.forEach(Gt),delete this.featureChangeKeys_[n];const i=e.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new co(Lr.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}return n}setLoader(e){this.loader_=e}setUrl(e){at(this.format_,7),this.url_=e,this.setLoader(Pb(e,this.format_))}}const He={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class yk extends Lm{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(et.CHANGE)}release(){this.state===He.ERROR&&this.setState(He.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==He.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(e.getState()==He.LOADED){e.interimTile=null;break}else e.getState()==He.LOADING?n=e:e.getState()==He.IDLE?n.interimTile=e.interimTile:n=e;e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==He.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Qe()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:ok(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class xk extends yk{constructor(e,n,r,i,s,o){super(e,n,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=He.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=He.ERROR,this.unlistenImage_(),this.image_=J$(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=He.LOADED:this.state=He.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==He.ERROR&&(this.state=He.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==He.IDLE&&(this.state=He.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ck(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function J$(){const t=hr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class Q${constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],o=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class eB extends gv{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Qe()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;To(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),xv(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,o,l,c){let d;const h=n.viewState;function f(P,k,M,F){return s.call(o,k,P?M:null,F)}const p=h.projection,y=IP(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&i){const P=p.getExtent(),k=Yt(P);v.push([-k,0],[k,0])}const w=n.layerStatesArray,S=w.length,b=[],R=[];for(let P=0;P<v.length;P++)for(let k=S-1;k>=0;--k){const M=w[k],F=M.layer;if(F.hasRenderer()&&$v(M,h)&&l.call(c,F)){const I=F.getRenderer(),z=F.getSource();if(I&&z){const G=z.getWrapX()?y:e,V=f.bind(null,M.managed);R[0]=G[0]+v[P][0],R[1]=G[1]+v[P][1],d=I.forEachFeatureAtCoordinate(R,n,r,V,b)}if(d)return d}}if(b.length===0)return;const T=1/b.length;return b.forEach((P,k)=>P.distanceSq+=k*T),b.sort((P,k)=>P.distanceSq-k.distanceSq),b.some(P=>d=P.callback(P.feature,P.layer,P.geometry)),d}hasFeatureAtCoordinate(e,n,r,i,s,o){return this.forEachFeatureAtCoordinate(e,n,r,i,ka,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Qe()}scheduleExpireIconCache(e){Zf.canExpireCache()&&e.postRenderFunctions.push(tB)}}function tB(t,e){Zf.expire()}class nB extends eB{constructor(e){super(e),this.fontChangeListenerKey_=pt(Rs,Ul.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Xm+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new hk(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){Gt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(So.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let s=null;for(let o=0,l=n.length;o<l;++o){const c=n[o];e.layerIndex=o;const d=c.layer,h=d.getSourceState();if(!$v(c,r)||h!="ready"&&h!="undefined"){d.unrender();continue}const f=d.render(e,s);f&&(f!==s&&(this.children_.push(f),s=f),"getDeclutter"in d&&i.push(d))}for(let o=i.length-1;o>=0;--o)i[o].renderDeclutter(e);Oz(this.element_,this.children_),this.dispatchRenderEvent(So.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}class po extends Li{constructor(e,n){super(e),this.layer=n}}const ky={LAYERS:"layers"};class uc extends sk{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(ky.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Br(r.slice(),{unique:!0}):at(typeof r.getArray=="function",43):r=new Br(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Gt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(pt(e,_n.ADD,this.handleLayersAdd_,this),pt(e,_n.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(Gt);cc(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new po("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[pt(e,Ul.PROPERTYCHANGE,this.handleLayerChange_,this),pt(e,et.CHANGE,this.handleLayerChange_,this)];e instanceof uc&&n.push(pt(e,"addlayer",this.handleLayerGroupAdd_,this),pt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[tt(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new po("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new po("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new po("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=tt(n);this.listenerKeys_[r].forEach(Gt),delete this.listenerKeys_[r],this.dispatchEvent(new po("removelayer",n)),this.changed()}getLayers(){return this.get(ky.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new po("removelayer",r[i]))}this.set(ky.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let o=r,l=n.length;o<l;o++){const c=n[o];c.opacity*=i.opacity,c.visible=c.visible&&i.visible,c.maxResolution=Math.min(c.maxResolution,i.maxResolution),c.minResolution=Math.max(c.minResolution,i.minResolution),c.minZoom=Math.max(c.minZoom,i.minZoom),c.maxZoom=Math.min(c.maxZoom,i.maxZoom),i.extent!==void 0&&(c.extent!==void 0?c.extent=Cu(c.extent,i.extent):c.extent=i.extent),c.zIndex===void 0&&(c.zIndex=s)}return n}getSourceState(){return"ready"}}class kl extends Li{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class fo extends kl{constructor(e,n,r,i,s,o){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Ft={SINGLECLICK:"singleclick",CLICK:et.CLICK,DBLCLICK:et.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},B0={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class rB extends Lm{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=pt(r,B0.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=pt(r,B0.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(et.TOUCHMOVE,this.boundHandleTouchMove_,_P?{passive:!1}:!1)}emulateClick_(e){let n=new fo(Ft.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new fo(Ft.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new fo(Ft.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==Ft.POINTERUP||n.type==Ft.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==Ft.POINTERDOWN||n.type==Ft.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new fo(Ft.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Gt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new fo(Ft.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(pt(r,Ft.POINTERMOVE,this.handlePointerMove_,this),pt(r,Ft.POINTERUP,this.handlePointerUp_,this),pt(this.element_,Ft.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(pt(this.element_.getRootNode(),Ft.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new fo(Ft.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new fo(Ft.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Gt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(et.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Gt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Gt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ts={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},er={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},qf=1/0;class iB{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,cc(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){at(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=qf?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],o=r[e],l=e;for(;e<i>>1;){const c=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<i&&r[d]<r[c]?d:c;n[e]=n[h],r[e]=r[h],e=h}n[e]=s,r[e]=o,this.siftDown_(l,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],o=i[n];for(;n>e;){const l=this.getParentIndex_(n);if(i[l]>o)r[n]=r[l],i[n]=i[l],n=l;else break}r[n]=s,i[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let o,l,c;for(l=0;l<s;++l)o=n[l],c=e(o),c==qf?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=c,n[i++]=o);n.length=i,r.length=i,this.heapify_()}}class sB extends iB{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(et.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===He.LOADED||r===He.ERROR||r===He.EMPTY){r!==He.ERROR&&n.removeEventListener(et.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,o;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),i=s.getState(),i===He.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,s.load())}}function oB(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return qf;const s=t.viewState.center,o=r[0]-s[0],l=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(o*o+l*l)/i}class Bv extends Di{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Hf(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Hf(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)Gt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Wl&&this.listenerKeys.push(pt(e,Ts.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class aB extends Bv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"›",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const l=e.label!==void 0?e.label:"i";typeof l=="string"?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=i):this.label_=l;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener(et.CLICK,this.handleClick_.bind(this),!1);const d=n+" "+Xm+" "+Lv+(this.collapsed_&&this.collapsible_?" "+lb:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=d,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!$s(n,this.renderedAttributions_)){QP(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const o=document.createElement("li");o.innerHTML=n[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(lb),this.collapsed_?ab(this.collapseLabel_,this.label_):ab(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class lB extends Bv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"⇧",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(et.CLICK,this.handleClick_.bind(this),!1);const l=n+" "+Xm+" "+Lv,c=this.element;c.className=l,c.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Yh)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Pr}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(Yh);!s&&r===0?this.element.classList.add(Yh):s&&r!==0&&this.element.classList.remove(Yh)}this.label_.style.transform=i}this.rotation_=r}}class cB extends Bv{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",l=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",c=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(et.CLICK,this.handleClick_.bind(this,r),!1);const f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=d,f.appendChild(typeof l=="string"?document.createTextNode(l):l),f.addEventListener(et.CLICK,this.handleClick_.bind(this,-r),!1);const p=n+" "+Xm+" "+Lv,y=this.element;y.className=p,y.appendChild(h),y.appendChild(f),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:Pr})):r.setZoom(s)}}}function uB(t){t=t||{};const e=new Br;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new cB(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new lB(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new aB(t.attributionOptions)),e}const kb={ACTIVE:"active"};class dc extends Di{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(kb.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(kb.ACTIVE,e)}setMap(e){this.map_=e}}function dB(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:n$,center:t.getConstrainedCenter(i)})}}function Gv(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:r!==void 0?r:250,easing:Pr})}class hB extends dc{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Ft.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_,l=i.getView();Gv(l,o,s,this.duration_),r.preventDefault(),n=!0}return!n}}class hc extends dc{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ft.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ft.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==Ft.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==Ft.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Uv(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function G0(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const fB=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},mB=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},gB=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},vk=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?gB(t):!0},_k=ka,pB=function(t){return t.type==Ft.CLICK},wk=function(t){const e=t.originalEvent;return e.button==0&&!(j3&&L3&&e.ctrlKey)},Ab=pd,Ck=function(t){return t.type==Ft.SINGLECLICK},Sk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},bk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ek=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Pf=function(t){const e=t.originalEvent;return at(e!==void 0,56),e.pointerType=="mouse"},Rk=function(t){const e=t.originalEvent;return at(e!==void 0,56),e.isPrimary&&e.button===0};class yB extends hc{constructor(e){super({stopDown:pd}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:G0(Sk,Rk);this.condition_=e.onFocusOnly?G0(vk,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(Uv(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],l=e.map.getView();MP(s,l.getResolution()),Sv(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),l=n.getPixelFromCoordinateInternal(o),c=n.getCoordinateFromPixelInternal([l[0]-i*Math.cos(s),l[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(c),duration:500,easing:Pr})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Tk extends hc{constructor(e){e=e||{},super({stopDown:pd}),this.condition_=e.condition?e.condition:mB,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Pf(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===zv)return;const i=n.getSize(),s=e.pixel,o=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=o}handleUpEvent(e){return Pf(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Pf(e)&&wk(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class xB extends gv{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new nr([i])}getGeometry(){return this.geometry_}}const ef={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Ay extends Li{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class vB extends hc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new xB(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:wk,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ay(ef.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Ay(n?ef.BOXEND:ef.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ay(ef.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class _B extends vB{constructor(e){e=e||{};const n=e.condition?e.condition:bk;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),o=r.getResolutionForExtentInternal(s),l=r.getResolution()/o;i=i.clone(),i.scale(l*l)}r.fitInternal(i,{duration:this.duration_,easing:Pr})}}const ta={LEFT:37,UP:38,RIGHT:39,DOWN:40};class wB extends dc{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return Sk(n)&&Ek(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==et.KEYDOWN){const r=e.originalEvent,i=r.keyCode;if(this.condition_(e)&&(i==ta.DOWN||i==ta.LEFT||i==ta.RIGHT||i==ta.UP)){const o=e.map.getView(),l=o.getResolution()*this.pixelDelta_;let c=0,d=0;i==ta.DOWN?d=-l:i==ta.LEFT?c=-l:i==ta.RIGHT?c=l:d=l;const h=[c,d];Sv(h,o.getRotation()),dB(o,h,this.duration_),r.preventDefault(),n=!0}}return!n}}class CB extends dc{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:Ek,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==et.KEYDOWN||e.type==et.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,o=i==="+"?this.delta_:-this.delta_,l=s.getView();Gv(l,o,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class SB extends dc{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:_k;this.condition_=e.onFocusOnly?G0(vk,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==et.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==et.WHEEL&&(s=i.deltaY,N3&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=vP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const l=r.getView();if(this.mode_==="trackpad"&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const c=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),c),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-wn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),Gv(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class bB extends hc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=pd),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=s;const o=e.map,l=o.getView();l.getConstraints().rotation!==zv&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Uv(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class EB extends hc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=pd),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,o=r.clientY-i.clientY,l=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/l),this.lastDistance_=l;const c=e.map,d=c.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Uv(this.targetPointers))),c.render(),d.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Pk(t){t=t||{};const e=new Br,n=new Q$(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new Tk),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new hB({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new yB({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new bB),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new EB({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new wB),e.push(new CB({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new SB({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new _B({duration:t.zoomDuration})),e}function kk(t){if(t instanceof Zm){t.setMapInternal(null);return}t instanceof uc&&t.getLayers().forEach(kk)}function Ak(t,e){if(t instanceof Zm){t.setMapInternal(e);return}if(t instanceof uc){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)Ak(n[r],e)}}let RB=class extends Di{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=TB(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:vP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=ts(),this.pixelToCoordinateTransform_=ts(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||uB(),this.interactions=n.interactions||Pk({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new sB(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(er.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(er.VIEW,this.handleViewChanged_),this.addChangeListener(er.SIZE,this.handleSizeChanged_),this.addChangeListener(er.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof Ki)&&e.view.then(function(i){r.setView(new Ki(i))}),this.controls.addEventListener(_n.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(_n.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(_n.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(_n.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(_n.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(_n.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Ak(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,o=r.layerFilter!==void 0?r.layerFilter:ka,l=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,l,n,null,o,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof uc?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:ka,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,o,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],o=r.height/i[1],l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-r.left)/s,(l.clientY-r.top)/o]}getTarget(){return this.get(er.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Vu(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Dn(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(er.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Br){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=kn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Dn(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(er.SIZE)}getView(){return this.get(er.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return oB(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new fo(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===B0.POINTERDOWN||r===et.WHEEL||r===et.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===i?i.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const o=e.viewHints;if(o[tr.ANIMATING]||o[tr.INTERACTING]){const l=Date.now()-e.time>8;i=l?0:8,s=l?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(So.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(So.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new kl(Ts.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new kl(Ts.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)Gt(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(et.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(et.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Hf(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new nB(this)),this.mapBrowserEventHandler_=new rB(this,this.moveTolerance_);for(const s in Ft)this.mapBrowserEventHandler_.addEventListener(Ft[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(et.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(et.WHEEL,this.boundHandleBrowserEvent_,_P?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[pt(r,et.KEYDOWN,this.handleBrowserEvent,this),pt(r,et.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Gt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Gt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=pt(e,Ul.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=pt(e,et.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Gt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new po("addlayer",e)),this.layerGroupPropertyListenerKeys_=[pt(e,Ul.PROPERTYCHANGE,this.render,this),pt(e,et.CHANGE,this.render,this),pt(e,"addlayer",this.handleLayerAdd_,this),pt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){kk(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&sb(n)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:M0(l.center,l.resolution,l.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:tt(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=M0(l.nextCenter,l.nextResolution,c,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!_v(this.previousExtent_)&&!Du(s.extent,this.previousExtent_))&&(this.dispatchEvent(new kl(Ts.MOVESTART,this,i)),this.previousExtent_=vd(this.previousExtent_)),this.previousExtent_&&!s.viewHints[tr.ANIMATING]&&!s.viewHints[tr.INTERACTING]&&!Du(s.extent,this.previousExtent_)&&(this.dispatchEvent(new kl(Ts.MOVEEND,this,s)),CP(s.extent,this.previousExtent_))),this.dispatchEvent(new kl(Ts.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ts.LOADSTART)||this.hasListener(Ts.LOADEND)||this.hasListener(So.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new po("removelayer",n)),this.set(er.LAYERGROUP,e)}setSize(e){this.set(er.SIZE,e)}setTarget(e){this.set(er.TARGET,e)}setView(e){if(!e||e instanceof Ki){this.set(er.VIEW,e);return}this.set(er.VIEW,new Ki);const n=this;e.then(function(r){n.setView(new Ki(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[s,o],!sb(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&FP("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!$s(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}};function TB(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new uc({layers:t.layers});n[er.LAYERGROUP]=r,n[er.TARGET]=t.target,n[er.VIEW]=t.view instanceof Ki?t.view:new Ki;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new Br(t.controls.slice()):(at(typeof t.controls.getArray=="function",47),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new Br(t.interactions.slice()):(at(typeof t.interactions.getArray=="function",48),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new Br(t.overlays.slice()):(at(typeof t.overlays.getArray=="function",49),o=t.overlays):o=new Br,{controls:i,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}const qn={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};let Jf=class extends Di{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Vz,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(qn.ELEMENT,this.handleElementChanged),this.addChangeListener(qn.MAP,this.handleMapChanged),this.addChangeListener(qn.OFFSET,this.handleOffsetChanged),this.addChangeListener(qn.POSITION,this.handlePositionChanged),this.addChangeListener(qn.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(qn.ELEMENT)}getId(){return this.id}getMap(){return this.get(qn.MAP)||null}getOffset(){return this.get(qn.OFFSET)}getPosition(){return this.get(qn.POSITION)}getPositioning(){return this.get(qn.POSITIONING)}handleElementChanged(){QP(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Hf(this.element),Gt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=pt(e,Ts.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(qn.ELEMENT,e)}setMap(e){this.set(qn.MAP,e)}setOffset(e){this.set(qn.OFFSET,e)}setPosition(e){this.set(qn.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(qn.POSITION))return;const r=this.getRect(n.getTargetElement(),n.getSize()),i=this.getElement(),s=this.getRect(i,[Lz(i),Dz(i)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!fa(r,s)){const l=s[0]-r[0],c=r[2]-s[2],d=s[1]-r[1],h=r[3]-s[3],f=[0,0];if(l<0?f[0]=l-o:c<0&&(f[0]=Math.abs(c)+o),d<0?f[1]=d-o:h<0&&(f[1]=Math.abs(h)+o),f[0]!==0||f[1]!==0){const p=n.getView().getCenterInternal(),y=n.getPixelFromCoordinateInternal(p);if(!y)return;const v=[y[0]+f[0],y[1]+f[1]],w=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(v),duration:w.duration,easing:w.easing})}}}getRect(e,n){const r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[i,s,i+n[0],s+n[1]]}setPositioning(e){this.set(qn.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const r=e.getPixelFromCoordinate(n),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,n){const r=this.element.style,i=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const o=Math.round(e[0]+i[0])+"px",l=Math.round(e[1]+i[1])+"px";let c="0%",d="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?c="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(c="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?d="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(d="-50%");const h=`translate(${c}, ${d}) translate(${o}, ${l})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,r.transform=h)}getOptions(){return this.options}};class PB{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return at(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return at(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){at(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}function Mb(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Jm(t,e,n){return t+"/"+e+"/"+n}function Mk(t){return Jm(t[0],t[1],t[2])}function kB(t){return t.split("/").map(Number)}function AB(t){return(t[1]<<t[0])+t[2]}function MB(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}class Ik extends PB{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=kB(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(Mk(i.tileCoord)),i.release())})}}class Wv{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function yl(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new Wv(t,e,n,r)}class Qf extends VP{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Gt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,n=this.geometries_.length;e<n;++e)this.changeEventsKeys_.push(pt(this.geometries_[e],et.CHANGE,this.changed,this))}clone(){const e=new Qf(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<$a(this.getExtent(),e,n))return i;const s=this.geometries_;for(let o=0,l=s.length;o<l;++o)i=s[o].closestPointXY(e,n,r,i);return i}containsXY(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){vd(e);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)bP(e,n[r].getExtent());return e}getGeometries(){return Ib(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let s=0,o=r.length;s<o;++s){const l=r[s],c=l.getSimplifiedGeometry(e);n.push(c),c!==l&&(i=!0)}if(i){const s=new Qf(null);return s.setGeometriesArray(n),s}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=Po(this.getExtent()));const i=this.geometries_;for(let s=0,o=i.length;s<o;++s)i[s].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(Ib(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Ib(t){const e=[];for(let n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}class em extends Ga{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{let i=this.getLayout();const s=e,o=[],l=[];for(let c=0,d=s.length;c<d;++c){const h=s[c];c===0&&(i=h.getLayout()),Ri(o,h.getFlatCoordinates()),l.push(o.length)}this.setFlatCoordinates(i,o),this.ends_=l}}appendLineString(e){this.flatCoordinates?Ri(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new em(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<$a(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Av(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Iv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,kz(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return zu(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Aa(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o],d=new Aa(e.slice(s,c),r);i.push(d),s=c}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let o=0,l=i.length;o<l;++o){const c=i[o],d=YP(n,r,c,s,.5);Ri(e,d),r=c}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=xz(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new em(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return Ez(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Nv(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class Qm extends Ga{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){this.flatCoordinates?Ri(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Qm(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<$a(this.getExtent(),e,n))return i;const s=this.flatCoordinates,o=this.stride;for(let l=0,c=s.length;l<c;l+=o){const d=wa(e,n,s[l],s[l+1]);if(d<i){i=d;for(let h=0;h<o;++h)r[h]=s[l+h];r.length=o}}return i}getCoordinates(){return _o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||n<=e?null:new Tr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,o=e.length;s<o;s+=r){const l=new Tr(e.slice(s,s+r),n);i.push(l)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const o=n[i],l=n[i+1];if(vv(e,o,l))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gm(this.flatCoordinates,0,e,this.stride),this.changed()}}function IB(t,e,n,r){const i=[];let s=Ur();for(let o=0,l=n.length;o<l;++o){const c=n[o];s=SP(t,e,c[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=c[c.length-1]}return i}class tm extends Ga{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=this.getLayout();const s=e,o=[],l=[];for(let c=0,d=s.length;c<d;++c){const h=s[c];c===0&&(i=h.getLayout());const f=o.length,p=h.getEnds();for(let y=0,v=p.length;y<v;++y)p[y]+=f;Ri(o,h.getFlatCoordinates()),l.push(p)}n=i,e=o,r=l}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;Ri(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new tm(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<$a(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(mz(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),gz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Sz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return wz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),rb(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,j0(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=IB(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=bz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Qm(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Pz(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=rb(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=_z(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new tm(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,o=r.length;s<o;++s)r[s]-=n;return new nr(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const c=r[o].slice(),d=c[c.length-1];if(s!==0)for(let f=0,p=c.length;f<p;++f)c[f]-=s;const h=new nr(n.slice(s,d),e,c);i.push(h),s=d}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return Rz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=yz(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}const Nb=0,bu=1,Fb=[0,0,0,0],zl=[],My={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class Iy extends Li{constructor(e,n,r){super(e),this.features=n,this.mapBrowserEvent=r}}class NB extends hc{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:Rk,this.defaultDeleteCondition_=function(r){return fB(r)&&Ck(r)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:_k,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new $0,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new ls({source:new Fs({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:jB(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let n;if(e.features?n=e.features:e.source&&(this.source_=e.source,n=new Br(this.source_.getFeatures()),this.source_.addEventListener(Lr.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(Lr.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!n)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(_n.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(_n.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const n=e.getGeometry();if(n){const i=this.SEGMENT_WRITERS_[n.getType()];i&&i(e,n)}const r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),e.addEventListener(et.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,n){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Br;const r=this.featuresBeingModified_.getArray();for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0,c=o.length;l<c;++l){const d=o[l].feature;d&&!r.includes(d)&&this.featuresBeingModified_.push(d)}}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new Iy(My.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(et.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const n=this.rBush_,r=[];n.forEach(function(i){e===i.feature&&r.push(i)});for(let i=r.length-1;i>=0;--i){const s=r[i];for(let o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===s&&this.dragSegments_.splice(o,1);n.remove(s)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const n=e.target;this.removeFeature_(n),this.addFeature_(n)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,n){const r=n.getCoordinates(),i={feature:e,geometry:n,segment:[r,r]};this.rBush_.insert(n.getExtent(),i)}writeMultiPointGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i],l={feature:e,geometry:n,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(n.getExtent(),l)}}writeLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length-1;i<s;++i){const o=r.slice(i,i+2),l={feature:e,geometry:n,index:i,segment:o};this.rBush_.insert(gi(o),l)}}writeMultiLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length-1;l<c;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(gi(d),h)}}}writePolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length-1;l<c;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(gi(d),h)}}}writeMultiPolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length;l<c;++l){const d=o[l];for(let h=0,f=d.length-1;h<f;++h){const p=d.slice(h,h+2),y={feature:e,geometry:n,depth:[l,i],index:h,segment:p};this.rBush_.insert(gi(p),y)}}}}writeCircleGeometry_(e,n){const r=n.getCenter(),i={feature:e,geometry:n,index:Nb,segment:[r,r]},s={feature:e,geometry:n,index:bu,segment:[r,r]},o=[i,s];i.featureSegments=o,s.featureSegments=o,this.rBush_.insert(_u(r),i);let l=n;this.rBush_.insert(l.getExtent(),s)}writeGeometryCollectionGeometry_(e,n){const r=n.getGeometriesArray();for(let i=0;i<r.length;++i){const s=r[i],o=this.SEGMENT_WRITERS_[s.getType()];o(e,s)}}createOrUpdateVertexFeature_(e,n,r){let i=this.vertexFeature_;return i?i.getGeometry().setCoordinates(e):(i=new ir(new Tr(e)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i)),i.set("features",n),i.set("geometries",r),i}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let n;return!e.map.getView().getInteracting()&&e.type==Ft.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=Ft.SINGLECLICK||!this.ignoreNextSingleClick_?n=this.removePoint():n=!0),e.type==Ft.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!n}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const n=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],r=[],i=[];for(let s=0,o=this.dragSegments_.length;s<o;++s){const l=this.dragSegments_[s],c=l[0],d=c.feature;r.includes(d)||r.push(d);const h=c.geometry;i.includes(h)||i.push(h);const f=c.depth;let p;const y=c.segment,v=l[1];for(;n.length<h.getStride();)n.push(y[v][n.length]);switch(h.getType()){case"Point":p=n,y[0]=n,y[1]=n;break;case"MultiPoint":p=h.getCoordinates(),p[c.index]=n,y[0]=n,y[1]=n;break;case"LineString":p=h.getCoordinates(),p[c.index+v]=n,y[v]=n;break;case"MultiLineString":p=h.getCoordinates(),p[f[0]][c.index+v]=n,y[v]=n;break;case"Polygon":p=h.getCoordinates(),p[f[0]][c.index+v]=n,y[v]=n;break;case"MultiPolygon":p=h.getCoordinates(),p[f[1]][f[0]][c.index+v]=n,y[v]=n;break;case"Circle":if(y[0]=n,y[1]=n,c.index===Nb)this.changingFeature_=!0,h.setCenter(n),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let w=ZS(kn(h.getCenter()),kn(n));h.setRadius(w),this.changingFeature_=!1}break}p&&this.setGeometryCoordinates_(h,p)}this.createOrUpdateVertexFeature_(n,r,i)}handleDownEvent(e){if(!this.condition_(e))return!1;const n=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,n),this.dragSegments_.length=0,this.featuresBeingModified_=null;const r=this.vertexFeature_;if(r){e.map.getView().getProjection();const i=[],s=r.getGeometry().getCoordinates(),o=gi([s]),l=this.rBush_.getInExtent(o),c={};l.sort(FB);for(let d=0,h=l.length;d<h;++d){const f=l[d],p=f.segment;let y=tt(f.geometry);const v=f.depth;if(v&&(y+="-"+v.join("-")),c[y]||(c[y]=new Array(2)),f.geometry.getType()==="Circle"&&f.index===bu){const w=Lb(n,f);vi(w,s)&&!c[y][0]&&(this.dragSegments_.push([f,0]),c[y][0]=f);continue}if(vi(p[0],s)&&!c[y][0]){this.dragSegments_.push([f,0]),c[y][0]=f;continue}if(vi(p[1],s)&&!c[y][1]){if(c[y][0]&&c[y][0].index===0){let w=f.geometry.getCoordinates();switch(f.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":w=w[v[1]];case"Polygon":if(f.index!==w[v[0]].length-2)continue;break}}this.dragSegments_.push([f,1]),c[y][1]=f;continue}tt(p)in this.vertexSegments_&&!c[y][0]&&!c[y][1]&&this.insertVertexCondition_(e)&&i.push(f)}i.length&&this.willModifyFeatures_(e,[i]);for(let d=i.length-1;d>=0;--d)this.insertVertex_(i[d],s)}return!!this.vertexFeature_}handleUpEvent(e){for(let n=this.dragSegments_.length-1;n>=0;--n){const r=this.dragSegments_[n][0],i=r.geometry;if(i.getType()==="Circle"){const s=i.getCenter(),o=r.featureSegments[0],l=r.featureSegments[1];o.segment[0]=s,o.segment[1]=s,l.segment[0]=s,l.segment[1]=s,this.rBush_.update(_u(s),o);let c=i;this.rBush_.update(c.getExtent(),l)}else this.rBush_.update(gi(r.segment),r)}return this.featuresBeingModified_&&(this.dispatchEvent(new Iy(My.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,n,r){const i=r||n.getCoordinateFromPixel(e);n.getView().getProjection();const s=function(c,d){return jb(i,c)-jb(i,d)};let o,l;if(this.hitDetection_){const c=typeof this.hitDetection_=="object"?d=>d===this.hitDetection_:void 0;n.forEachFeatureAtPixel(e,(d,h,f)=>{const p=f||d.getGeometry();if(p.getType()==="Point"&&d instanceof ir&&this.features_.getArray().includes(d)){l=p;const y=l.getFlatCoordinates().slice(0,2);o=[{feature:d,geometry:l,segment:[y,y]}]}return!0},{layerFilter:c})}if(!o){const c=vo(_u(i,Fb)),d=n.getView().getResolution()*this.pixelTolerance_,h=Pv(xd(c,d,Fb));o=this.rBush_.getInExtent(h)}if(o&&o.length>0){const c=o.sort(s)[0],d=c.segment;let h=Lb(i,c);const f=n.getPixelFromCoordinate(h);let p=ZS(e,f);if(l||p<=this.pixelTolerance_){const y={};if(y[tt(d)]=!0,this.snapToPointer_||(this.delta_[0]=h[0]-i[0],this.delta_[1]=h[1]-i[1]),c.geometry.getType()==="Circle"&&c.index===bu)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);else{const v=n.getPixelFromCoordinate(d[0]),w=n.getPixelFromCoordinate(d[1]),S=Ou(f,v),b=Ou(f,w);p=Math.sqrt(Math.min(S,b)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(h=S>b?d[1]:d[0]),this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);const R={};R[tt(c.geometry)]=!0;for(let T=1,P=o.length;T<P;++T){const k=o[T].segment;if(vi(d[0],k[0])&&vi(d[1],k[1])||vi(d[0],k[1])&&vi(d[1],k[0])){const M=tt(o[T].geometry);M in R||(R[M]=!0,y[tt(k)]=!0)}else break}}this.vertexSegments_=y;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,n){const r=e.segment,i=e.feature,s=e.geometry,o=e.depth,l=e.index;let c;for(;n.length<s.getStride();)n.push(0);switch(s.getType()){case"MultiLineString":c=s.getCoordinates(),c[o[0]].splice(l+1,0,n);break;case"Polygon":c=s.getCoordinates(),c[o[0]].splice(l+1,0,n);break;case"MultiPolygon":c=s.getCoordinates(),c[o[1]][o[0]].splice(l+1,0,n);break;case"LineString":c=s.getCoordinates(),c.splice(l+1,0,n);break;default:return}this.setGeometryCoordinates_(s,c);const d=this.rBush_;d.remove(e),this.updateSegmentIndices_(s,l,o,1);const h={segment:[r[0],n],feature:i,geometry:s,depth:o,index:l};d.insert(gi(h.segment),h),this.dragSegments_.push([h,1]);const f={segment:[n,r[1]],feature:i,geometry:s,depth:o,index:l+1};d.insert(gi(f.segment),f),this.dragSegments_.push([f,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Ft.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const n=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new Iy(My.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,n}return!1}removeVertex_(){const e=this.dragSegments_,n={};let r=!1,i,s,o,l,c,d,h,f,p,y,v;for(c=e.length-1;c>=0;--c)o=e[c],y=o[0],v=tt(y.feature),y.depth&&(v+="-"+y.depth.join("-")),v in n||(n[v]={}),o[1]===0?(n[v].right=y,n[v].index=y.index):o[1]==1&&(n[v].left=y,n[v].index=y.index+1);for(v in n){switch(p=n[v].right,h=n[v].left,d=n[v].index,f=d-1,h!==void 0?y=h:y=p,f<0&&(f=0),l=y.geometry,s=l.getCoordinates(),i=s,r=!1,l.getType()){case"MultiLineString":s[y.depth[0]].length>2&&(s[y.depth[0]].splice(d,1),r=!0);break;case"LineString":s.length>2&&(s.splice(d,1),r=!0);break;case"MultiPolygon":i=i[y.depth[1]];case"Polygon":i=i[y.depth[0]],i.length>4&&(d==i.length-1&&(d=0),i.splice(d,1),r=!0,d===0&&(i.pop(),i.push(i[0]),f=i.length-1));break}if(r){this.setGeometryCoordinates_(l,s);const w=[];if(h!==void 0&&(this.rBush_.remove(h),w.push(h.segment[0])),p!==void 0&&(this.rBush_.remove(p),w.push(p.segment[1])),h!==void 0&&p!==void 0){const S={depth:y.depth,feature:y.feature,geometry:y.geometry,index:f,segment:w};this.rBush_.insert(gi(S.segment),S)}this.updateSegmentIndices_(l,d,y.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return r}setGeometryCoordinates_(e,n){this.changingFeature_=!0,e.setCoordinates(n),this.changingFeature_=!1}updateSegmentIndices_(e,n,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(s){s.geometry===e&&(r===void 0||s.depth===void 0||$s(s.depth,r))&&s.index>n&&(s.index+=i)})}}function FB(t,e){return t.index-e.index}function jb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"){let s=r;if(e.index===bu){const o=Ou(s.getCenter(),kn(t)),l=Math.sqrt(o)-s.getRadius();return l*l}}const i=kn(t);return zl[0]=kn(e.segment[0]),zl[1]=kn(e.segment[1]),iz(i,zl)}function Lb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"&&e.index===bu)return Vu(r.getClosestPoint(kn(t)));const i=kn(t);return zl[0]=kn(e.segment[0]),zl[1]=kn(e.segment[1]),Vu(AP(i,zl))}function jB(){const t=ik();return function(e,n){return t.Point}}const LB={SELECT:"select"};class DB extends Li{constructor(e,n,r,i){super(e),this.selected=n,this.deselected=r,this.mapBrowserEvent=i}}const tf={};let OB=class Nk extends dc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:Ck,this.addCondition_=e.addCondition?e.addCondition:Ab,this.removeCondition_=e.removeCondition?e.removeCondition:Ab,this.toggleCondition_=e.toggleCondition?e.toggleCondition:bk,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:ka,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:VB(),this.features_=e.features||new Br;let n;if(e.layers)if(typeof e.layers=="function")n=e.layers;else{const r=e.layers;n=function(i){return r.includes(i)}}else n=ka;this.layerFilter_=n,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,n){this.featureLayerAssociation_[tt(e)]=n}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[tt(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(_n.ADD,this.boundAddFeature_),this.features_.addEventListener(_n.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(_n.ADD,this.boundAddFeature_),this.features_.removeEventListener(_n.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const n=e.element;if(this.style_&&this.applySelectedStyle_(n),!this.getLayer(n)){const r=this.getMap().getAllLayers().find(function(i){if(i instanceof ls&&i.getSource()&&i.getSource().hasFeature(n))return i});r&&this.addFeatureLayerAssociation_(n,r)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const n=tt(e);n in tf||(tf[n]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const n=this.getMap().getInteractions().getArray();for(let i=n.length-1;i>=0;--i){const s=n[i];if(s!==this&&s instanceof Nk&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const r=tt(e);e.setStyle(tf[r]),delete tf[r]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[tt(e)]}handleEvent(e){if(!this.condition_(e))return!0;const n=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),s=!n&&!r&&!i,o=e.map,l=this.getFeatures(),c=[],d=[];if(s){cc(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof ir)||!this.filter_(h,f)))return this.addFeatureLayerAssociation_(h,f),d.push(h),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=l.getLength()-1;h>=0;--h){const f=l.item(h),p=d.indexOf(f);p>-1?d.splice(p,1):(l.remove(f),c.push(f))}d.length!==0&&l.extend(d)}else{o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof ir)||!this.filter_(h,f)))return(n||i)&&!l.getArray().includes(h)?(this.addFeatureLayerAssociation_(h,f),d.push(h)):(r||i)&&l.getArray().includes(h)&&(c.push(h),this.removeFeatureLayerAssociation_(h)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=c.length-1;h>=0;--h)l.remove(c[h]);l.extend(d)}return(d.length>0||c.length>0)&&this.dispatchEvent(new DB(LB.SELECT,d,c,e)),!0}};function VB(){const t=ik();return Ri(t.Polygon,t.LineString),Ri(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}const nf={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class zB extends Zm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(nf.PRELOAD)}setPreload(e){this.set(nf.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(nf.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(nf.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const $B=.5,BB=10,Db=.25;class GB{constructor(e,n,r,i,s,o){this.sourceProj_=e,this.targetProj_=n;let l={};const c=Uf(this.targetProj_,this.sourceProj_);this.transformInv_=function(R){const T=R[0]+"/"+R[1];return l[T]||(l[T]=c(R)),l[T]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Yt(i)==Yt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Yt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Yt(this.targetProj_.getExtent()):null;const d=Ba(r),h=zm(r),f=Vm(r),p=Om(r),y=this.transformInv_(d),v=this.transformInv_(h),w=this.transformInv_(f),S=this.transformInv_(p),b=BB+(o?Math.max(0,Math.ceil(Math.log2(A0(r)/(o*o*256*256)))):0);if(this.addQuad_(d,h,f,p,y,v,w,S,b),this.wrapsXInSource_){let R=1/0;this.triangles_.forEach(function(T,P,k){R=Math.min(R,T.source[0][0],T.source[1][0],T.source[2][0])}),this.triangles_.forEach(T=>{if(Math.max(T.source[0][0],T.source[1][0],T.source[2][0])-R>this.sourceWorldWidth_/2){const P=[[T.source[0][0],T.source[0][1]],[T.source[1][0],T.source[1][1]],[T.source[2][0],T.source[2][1]]];P[0][0]-R>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-R>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-R>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);const k=Math.min(P[0][0],P[1][0],P[2][0]);Math.max(P[0][0],P[1][0],P[2][0])-k<this.sourceWorldWidth_/2&&(T.source=P)}})}l={}}addTriangle_(e,n,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[e,n,r]})}addQuad_(e,n,r,i,s,o,l,c,d){const h=gi([s,o,l,c]),f=this.sourceWorldWidth_?Yt(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&f>.5&&f<1;let v=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const S=gi([e,n,r,i]);v=Yt(S)/this.targetWorldWidth_>Db||v}!y&&this.sourceProj_.isGlobal()&&f&&(v=f>Db||v)}if(!v&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!ur(h,this.maxSourceExtent_))return;let w=0;if(!v&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1]))){if(d>0)v=!0;else if(w=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(d>0){if(!v){const S=[(e[0]+r[0])/2,(e[1]+r[1])/2],b=this.transformInv_(S);let R;y?R=(Sa(s[0],p)+Sa(l[0],p))/2-Sa(b[0],p):R=(s[0]+l[0])/2-b[0];const T=(s[1]+l[1])/2-b[1];v=R*R+T*T>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const S=[(n[0]+r[0])/2,(n[1]+r[1])/2],b=this.transformInv_(S),R=[(i[0]+e[0])/2,(i[1]+e[1])/2],T=this.transformInv_(R);this.addQuad_(e,n,S,R,s,o,b,T,d-1),this.addQuad_(R,S,r,i,T,b,l,c,d-1)}else{const S=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(S),R=[(r[0]+i[0])/2,(r[1]+i[1])/2],T=this.transformInv_(R);this.addQuad_(e,S,R,i,s,b,T,c,d-1),this.addQuad_(S,n,r,R,b,o,l,T,d-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(e,r,i,s,l,c),(w&14)==0&&this.addTriangle_(e,r,n,s,l,o),w&&((w&13)==0&&this.addTriangle_(n,i,e,o,c,s),(w&7)==0&&this.addTriangle_(n,i,r,o,c,l))}calculateSourceExtent(){const e=Ur();return this.triangles_.forEach(function(n,r,i){const s=n.source;wu(e,s[0]),wu(e,s[1]),wu(e,s[2])}),e}getTriangles(){return this.triangles_}}let Ny;const $l=[];function Ob(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Fy(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function UB(){if(Ny===void 0){const t=hr(6,6,$l);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Ob(t,4,5,4,0),Ob(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Ny=Fy(e,0)||Fy(e,4)||Fy(e,8),Hm(t),$l.push(t.canvas)}return Ny}function Vb(t,e,n,r){const i=Tv(n,e,t);let s=JS(e,r,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const l=t.getMetersPerUnit();l!==void 0&&(s/=l);const c=t.getExtent();if(!c||Dm(c,i)){const d=JS(t,s,i)/s;isFinite(d)&&d>0&&(s/=d)}return s}function WB(t,e,n,r){const i=Po(n);let s=Vb(t,e,i,r);return(!isFinite(s)||s<=0)&&RP(n,function(o){return s=Vb(t,e,o,r),isFinite(s)&&s>0}),s}function HB(t,e,n,r,i,s,o,l,c,d,h,f){const p=hr(Math.round(n*t),Math.round(n*e),$l);if(f||(p.imageSmoothingEnabled=!1),c.length===0)return p.canvas;p.scale(n,n);function y(P){return Math.round(P*n)/n}p.globalCompositeOperation="lighter";const v=Ur();c.forEach(function(P,k,M){bP(v,P.extent)});const w=Yt(v),S=as(v),b=hr(Math.round(n*w/r),Math.round(n*S/r),$l);f||(b.imageSmoothingEnabled=!1);const R=n/r;c.forEach(function(P,k,M){const F=P.extent[0]-v[0],I=-(P.extent[3]-v[3]),z=Yt(P.extent),G=as(P.extent);P.image.width>0&&P.image.height>0&&b.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,F*R,I*R,z*R,G*R)});const T=Ba(o);return l.getTriangles().forEach(function(P,k,M){const F=P.source,I=P.target;let z=F[0][0],G=F[0][1],V=F[1][0],H=F[1][1],B=F[2][0],X=F[2][1];const Z=y((I[0][0]-T[0])/s),Y=y(-(I[0][1]-T[1])/s),D=y((I[1][0]-T[0])/s),j=y(-(I[1][1]-T[1])/s),U=y((I[2][0]-T[0])/s),q=y(-(I[2][1]-T[1])/s),N=z,L=G;z=0,G=0,V-=N,H-=L,B-=N,X-=L;const re=[[V,H,0,0,D-Z],[B,X,0,0,U-Z],[0,0,V,H,j-Y],[0,0,B,X,q-Y]],ie=rz(re);if(ie){if(p.save(),p.beginPath(),UB()||!f){p.moveTo(D,j);const ce=4,ge=Z-D,ae=Y-j;for(let pe=0;pe<ce;pe++)p.lineTo(D+y((pe+1)*ge/ce),j+y(pe*ae/(ce-1))),pe!=ce-1&&p.lineTo(D+y((pe+1)*ge/ce),j+y((pe+1)*ae/(ce-1)));p.lineTo(U,q)}else p.moveTo(D,j),p.lineTo(Z,Y),p.lineTo(U,q);p.clip(),p.transform(ie[0],ie[2],ie[1],ie[3],Z,Y),p.translate(v[0]-N,v[3]-L),p.scale(r/n,-r/n),p.drawImage(b.canvas,0,0),p.restore()}}),Hm(b),$l.push(b.canvas),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,l.getTriangles().forEach(function(P,k,M){const F=P.target,I=(F[0][0]-T[0])/s,z=-(F[0][1]-T[1])/s,G=(F[1][0]-T[0])/s,V=-(F[1][1]-T[1])/s,H=(F[2][0]-T[0])/s,B=-(F[2][1]-T[1])/s;p.beginPath(),p.moveTo(G,V),p.lineTo(I,z),p.lineTo(H,B),p.closePath(),p.stroke()}),p.restore()),p.canvas}class U0 extends yk{constructor(e,n,r,i,s,o,l,c,d,h,f,p){super(s,He.IDLE,{interpolate:!!p}),this.renderEdges_=f!==void 0?f:!1,this.pixelRatio_=l,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const y=i.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const S=v?Cu(y,v):y;if(A0(S)===0){this.state=He.EMPTY;return}const b=e.getExtent();b&&(w?w=Cu(w,b):w=b);const R=i.getResolution(this.wrappedTileCoord_[0]),T=WB(e,r,S,R);if(!isFinite(T)||T<=0){this.state=He.EMPTY;return}const P=h!==void 0?h:$B;if(this.triangulation_=new GB(e,r,S,w,T*P,R),this.triangulation_.getTriangles().length===0){this.state=He.EMPTY;return}this.sourceZ_=n.getZForResolution(T);let k=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(k[1]=wn(k[1],w[1],w[3]),k[3]=wn(k[3],w[1],w[3])):k=Cu(k,w)),!A0(k))this.state=He.EMPTY;else{const M=n.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let F=M.minX;F<=M.maxX;F++)for(let I=M.minY;I<=M.maxY;I++){const z=d(this.sourceZ_,F,I,l);z&&this.sourceTiles_.push(z)}this.sourceTiles_.length===0&&(this.state=He.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==He.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=He.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],o=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=HB(i,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=He.LOADED}this.changed()}load(){if(this.state==He.IDLE){this.state=He.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==He.IDLE||r==He.LOADING){e++;const i=pt(n,et.CHANGE,function(s){const o=n.getState();(o==He.LOADED||o==He.ERROR||o==He.EMPTY)&&(Gt(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==He.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Gt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Hm(this.canvas_.getContext("2d")),$l.push(this.canvas_),this.canvas_=null),super.release()}}class XB extends fk{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Ur(),this.tmpTileRange_=new Wv(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==He.LOADED||r==He.EMPTY||r==He.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,o=i.viewState.projection,l=this.getLayer();let d=l.getSource().getTile(e,n,r,s,o);return d.getState()==He.ERROR&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(d)||(d=d.getInterimTile()),d}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Dn(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!Dm(s,i))return null;const o=n.pixelRatio,l=n.viewState.projection,c=n.viewState,d=r.getRenderSource(),h=d.getTileGridForProjection(c.projection),f=d.getTilePixelRatio(n.pixelRatio);for(let p=h.getZForResolution(c.resolution);p>=h.getMinZoom();--p){const y=h.getTileCoordForCoordAndZ(i,p),v=d.getTile(p,y[1],y[2],o,l);if(!(v instanceof xk||v instanceof U0)||v instanceof U0&&v.getState()===He.EMPTY)return null;if(v.getState()!==He.LOADED)continue;const w=h.getOrigin(p),S=$r(h.getTileSize(p)),b=h.getResolution(p),R=Math.floor(f*((i[0]-w[0])/b-y[1]*S[0])),T=Math.floor(f*((w[1]-i[1])/b-y[2]*S[1])),P=Math.round(f*d.getGutterForProjection(c.projection));return this.getImageData(v.getImage(),R+P,T+P)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,o=i.resolution,l=i.center,c=i.rotation,d=e.pixelRatio,h=this.getLayer(),f=h.getSource(),p=f.getRevision(),y=f.getTileGridForProjection(s),v=y.getZForResolution(o,f.zDirection),w=y.getResolution(v);let S=e.extent;const b=e.viewState.resolution,R=f.getTilePixelRatio(d),T=Math.round(Yt(S)/b*d),P=Math.round(as(S)/b*d),k=r.extent&&vo(r.extent);k&&(S=Cu(S,vo(r.extent)));const M=w*T/2/R,F=w*P/2/R,I=[l[0]-M,l[1]-F,l[0]+M,l[1]+F],z=y.getTileRangeForExtentAndZ(S,v),G={};G[v]={};const V=this.createLoadedTileFinder(f,s,G),H=this.tmpExtent,B=this.tmpTileRange_;this.newTiles_=!1;const X=c?I0(i.center,b,c,e.size):void 0;for(let re=z.minX;re<=z.maxX;++re)for(let ie=z.minY;ie<=z.maxY;++ie){if(c&&!y.tileCoordIntersectsViewport([v,re,ie],X))continue;const ce=this.getTile(v,re,ie,e);if(this.isDrawableTile(ce)){const pe=tt(this);if(ce.getState()==He.LOADED){G[v][ce.tileCoord.toString()]=ce;let we=ce.inTransition(pe);we&&r.opacity!==1&&(ce.endTransition(pe),we=!1),!this.newTiles_&&(we||!this.renderedTiles.includes(ce))&&(this.newTiles_=!0)}if(ce.getAlpha(pe,e.time)===1)continue}const ge=y.getTileCoordChildTileRange(ce.tileCoord,B,H);let ae=!1;ge&&(ae=V(v+1,ge)),ae||y.forEachTileCoordParentTileRange(ce.tileCoord,V,B,H)}const Z=w/o*d/R;To(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,c,-T/2,-P/2);const Y=wP(this.pixelTransform);this.useContainer(n,Y,this.getBackground(e));const D=this.context,j=D.canvas;xv(this.inversePixelTransform,this.pixelTransform),To(this.tempTransform,T/2,P/2,Z,Z,0,-T/2,-P/2),j.width!=T||j.height!=P?(j.width=T,j.height=P):this.containerReused||D.clearRect(0,0,T,P),k&&this.clipUnrotated(D,e,k),f.getInterpolate()||(D.imageSmoothingEnabled=!1),this.preRender(D,e),this.renderedTiles.length=0;let U=Object.keys(G).map(Number);U.sort(Pa);let q,N,L;r.opacity===1&&(!this.containerReused||f.getOpaque(e.viewState.projection))?U=U.reverse():(q=[],N=[]);for(let re=U.length-1;re>=0;--re){const ie=U[re],ce=f.getTilePixelSize(ie,d,s),ae=y.getResolution(ie)/w,pe=ce[0]*ae*Z,we=ce[1]*ae*Z,be=y.getTileCoordForCoordAndZ(Ba(I),ie),$e=y.getTileCoordExtent(be),Ve=Dn(this.tempTransform,[R*($e[0]-I[0])/w,R*(I[3]-$e[3])/w]),yt=R*f.getGutterForProjection(s),mt=G[ie];for(const Ut in mt){const Lt=mt[Ut],Dt=Lt.tileCoord,Vn=be[1]-Dt[1],lt=Math.round(Ve[0]-(Vn-1)*pe),$=be[2]-Dt[2],J=Math.round(Ve[1]-($-1)*we),te=Math.round(Ve[0]-Vn*pe),fe=Math.round(Ve[1]-$*we),he=lt-te,se=J-fe,ye=v===ie,je=ye&&Lt.getAlpha(tt(this),e.time)!==1;let ze=!1;if(!je)if(q){L=[te,fe,te+he,fe,te+he,fe+se,te,fe+se];for(let xt=0,Ot=q.length;xt<Ot;++xt)if(v!==ie&&ie<N[xt]){const ft=q[xt];ur([te,fe,te+he,fe+se],[ft[0],ft[3],ft[4],ft[7]])&&(ze||(D.save(),ze=!0),D.beginPath(),D.moveTo(L[0],L[1]),D.lineTo(L[2],L[3]),D.lineTo(L[4],L[5]),D.lineTo(L[6],L[7]),D.moveTo(ft[6],ft[7]),D.lineTo(ft[4],ft[5]),D.lineTo(ft[2],ft[3]),D.lineTo(ft[0],ft[1]),D.clip())}q.push(L),N.push(ie)}else D.clearRect(te,fe,he,se);this.drawTileImage(Lt,e,te,fe,he,se,yt,ye),q&&!je?(ze&&D.restore(),this.renderedTiles.unshift(Lt)):this.renderedTiles.push(Lt),this.updateUsedTiles(e.usedTiles,f,Lt)}}return this.renderedRevision=p,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!Du(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=d,this.renderedProjection=s,this.manageTilePyramid(e,f,y,d,s,S,v,h.getPreload()),this.scheduleExpireCache(e,f),this.postRender(D,e),r.extent&&D.restore(),D.imageSmoothingEnabled=!0,Y!==j.style.transform&&(j.style.transform=Y),this.container}drawTileImage(e,n,r,i,s,o,l,c){const d=this.getTileImage(e);if(!d)return;const h=tt(this),f=n.layerStatesArray[n.layerIndex],p=f.opacity*(c?e.getAlpha(h,n.time):1),y=p!==this.context.globalAlpha;y&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(d,l,l,d.width-2*l,d.height-2*l,r,i,s,o),y&&this.context.restore(),p!==f.opacity?n.animate=!0:c&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=(function(i,s,o){const l=tt(i);l in o.usedTiles&&i.expireCache(o.viewState.projection,o.usedTiles[l])}).bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=tt(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,o,l,c,d){const h=tt(n);h in e.wantedTiles||(e.wantedTiles[h]={});const f=e.wantedTiles[h],p=e.tileQueue,y=r.getMinZoom(),v=e.viewState.rotation,w=v?I0(e.viewState.center,e.viewState.resolution,v,e.size):void 0;let S=0,b,R,T,P,k,M;for(M=y;M<=l;++M)for(R=r.getTileRangeForExtentAndZ(o,M,R),T=r.getResolution(M),P=R.minX;P<=R.maxX;++P)for(k=R.minY;k<=R.maxY;++k)v&&!r.tileCoordIntersectsViewport([M,P,k],w)||(l-M<=c?(++S,b=n.getTile(M,P,k,i,s),b.getState()==He.IDLE&&(f[b.getKey()]=!0,p.isKeyQueued(b.getKey())||p.enqueue([b,h,r.getTileCoordCenter(b.tileCoord),T])),d!==void 0&&d(b)):n.useTile(M,P,k,s));n.updateCacheSize(S,s)}}class zb extends zB{constructor(e){super(e)}createRenderer(){return new XB(this)}}const jy={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},xl=[0,0,0],uo=5;class Fk{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,at(P3(this.resolutions_,function(i,s){return s-i}),17);let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,at(this.origins_.length==this.resolutions_.length,20));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Ba(r)),at(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,at(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Dv,at(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(i,s){const o=new Wv(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const l=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,o=i.maxX;s<=o;++s)for(let l=i.minY,c=i.maxY;l<=c;++l)r([n,s,l])}forEachTileCoordParentTileRange(e,n,r,i){let s,o,l,c=null,d=e[0]-1;for(this.zoomFactor_===2?(o=e[1],l=e[2]):c=this.getTileCoordExtent(e,i);d>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),l=Math.floor(l/2),s=yl(o,o,l,l,r)):s=this.getTileRangeForExtentAndZ(c,d,r),n(d,s))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return yl(s,s+1,o,o+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],o=e[2];if(n===i)return yl(s,o,s,o,r);if(this.zoomFactor_){const c=Math.pow(this.zoomFactor_,n-i),d=Math.floor(s*c),h=Math.floor(o*c);if(n<i)return yl(d,d,h,h,r);const f=Math.floor(c*(s+1))-1,p=Math.floor(c*(o+1))-1;return yl(d,f,h,p,r)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,n,r)}getTileRangeExtent(e,n,r){const i=this.getOrigin(e),s=this.getResolution(e),o=$r(this.getTileSize(e),this.tmpSize_),l=i[0]+n.minX*o[0]*s,c=i[0]+(n.maxX+1)*o[0]*s,d=i[1]+n.minY*o[1]*s,h=i[1]+(n.maxY+1)*o[1]*s;return Ns(l,d,c,h,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,xl);const i=xl[1],s=xl[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,xl);const o=xl[1],l=xl[2];return yl(i,o,s,l,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=$r(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=$r(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*i,l=r[1]-(e[2]+1)*s[1]*i,c=o+s[0]*i,d=l+s[1]*i;return Ns(o,l,c,d,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const o=this.getZForResolution(r),l=r/this.getResolution(o),c=this.getOrigin(o),d=$r(this.getTileSize(o),this.tmpSize_);let h=l*(e-c[0])/r/d[0],f=l*(c[1]-n)/r/d[1];return i?(h=Xh(h,uo)-1,f=Xh(f,uo)-1):(h=Hh(h,uo),f=Hh(f,uo)),Mb(o,h,f,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const o=this.getOrigin(r),l=this.getResolution(r),c=$r(this.getTileSize(r),this.tmpSize_);let d=(e-o[0])/l/c[0],h=(o[1]-n)/l/c[1];return i?(d=Xh(d,uo)-1,h=Xh(h,uo)-1):(d=Hh(d,uo),h=Hh(h,uo)),Mb(r,d,h,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=pv(this.resolutions_,e,n||0);return wn(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return WP(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}function jk(t){let e=t.getDefaultTileGrid();return e||(e=ZB(t),t.setDefaultTileGrid(e)),e}function KB(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=Hv(n);if(!Dm(s,i)){const o=Yt(s),l=Math.ceil((s[0]-i[0])/o);return i[0]+=o*l,t.getTileCoordForCoordAndZ(i,r)}return e}function YB(t,e,n,r){r=r!==void 0?r:"top-left";const i=Dk(t,e,n);return new Fk({extent:t,origin:G3(t,r),resolutions:i,tileSize:n})}function Lk(t){const e=t||{},n=e.extent||Cn("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Dk(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Fk(r)}function Dk(t,e,n,r){e=e!==void 0?e:Yz,n=$r(n!==void 0?n:Dv);const i=as(t),s=Yt(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const o=e+1,l=new Array(o);for(let c=0;c<o;++c)l[c]=r/Math.pow(2,c);return l}function ZB(t,e,n,r){const i=Hv(t);return YB(i,e,n,r)}function Hv(t){t=Cn(t);let e=t.getExtent();if(!e){const n=180*wv.degrees/t.getMetersPerUnit();e=Ns(-n,-n,n,n)}return e}class qB extends pk{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&$r(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new Ik(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let o=!0,l,c,d;for(let h=r.minX;h<=r.maxX;++h)for(let f=r.minY;f<=r.maxY;++f)c=Jm(n,h,f),d=!1,s.containsKey(c)&&(l=s.get(c),d=l.getState()===He.LOADED,d&&(d=i(l)!==!1)),d||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return Qe()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:jk(e)}getTileCacheForProjection(e){const n=this.getProjection();return at(n===null||ua(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),o=$r(i.getTileSize(e),this.tmpSize);return s==1?o:Az(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=KB(r,e,n)),MB(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class JB extends Li{constructor(e,n){super(e),this.tile=n}}function QB(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,l,c){if(o)return t.replace(n,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const d=o[0],h=e.getFullTileRange(d);return at(h,55),(h.getHeight()-o[2]-1).toString()})}}function eG(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=QB(t[i],e);return tG(r)}function tG(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=AB(e),s=Sa(i,t.length);return t[s](e,n,r)}}function nG(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class Xv extends qB{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Xv.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=tt(n),i=n.getState();let s;i==He.LOADING?(this.tileLoadingKeys_[r]=!0,s=jy.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==He.ERROR?jy.TILELOADERROR:i==He.LOADED?jy.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new JB(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=nG(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(eG(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=Jm(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class rG extends Xv{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:iG,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:xk,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!ua(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!ua(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||ua(n,e)))return this.tileGrid;const r=tt(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=jk(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||ua(n,e))return this.tileCache;const r=tt(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new Ik(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,o){const l=[e,n,r],c=this.getTileCoordForTileUrlFunction(l,s),d=c?this.tileUrlFunction(c,i,s):void 0,h=new this.tileClass(l,d!==void 0?He.IDLE:He.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(et.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,n,r,i,s){const o=this.getProjection();if(!o||!s||ua(o,s))return this.getTileInternal(e,n,r,i,o||s);const l=this.getTileCacheForProjection(s),c=[e,n,r];let d;const h=Mk(c);l.containsKey(h)&&(d=l.get(h));const f=this.getKey();if(d&&d.key==f)return d;const p=this.getTileGridForProjection(o),y=this.getTileGridForProjection(s),v=this.getTileCoordForTileUrlFunction(c,s),w=new U0(o,p,s,y,c,v,this.getTilePixelRatio(i),this.getGutter(),(S,b,R,T)=>this.getTileInternal(S,b,R,T,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return w.key=f,d?(w.interimTile=d,w.refreshInterimChain(),l.replace(h,w)):l.set(h,w),w}getTileInternal(e,n,r,i,s){let o=null;const l=Jm(e,n,r),c=this.getKey();if(!this.tileCache.containsKey(l))o=this.createTile_(e,n,r,i,s,c),this.tileCache.set(l,o);else if(o=this.tileCache.get(l),o.key!=c){const d=o;o=this.createTile_(e,n,r,i,s,c),d.getState()==He.IDLE?o.interimTile=d.interimTile:o.interimTile=d,o.refreshInterimChain(),this.tileCache.replace(l,o)}return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=Cn(e);if(r){const i=tt(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function iG(t,e){t.getImage().src=e}class Ok extends rG{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:Lk({extent:Hv(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const sG='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class oG extends Ok{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[sG];const r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}}let Ly=null,Dy=null;function aG(t,[e,n]){Ly=new zb({source:new oG,visible:!1,title:"OSM Base",preload:1/0}),Dy=new zb({source:new Ok({url:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}",attributions:"UB © Satélite",tileGrid:Lk({extent:Cn("EPSG:3857").getExtent(),tileSize:256}),maxZoom:21}),visible:!0,title:"MapTiler Satellite",preload:1/0});const r=new RB({target:t,layers:[Dy,Ly],view:new Ki({center:Bm([n,e]),zoom:14,maxZoom:21,minZoom:4,rotation:0,constrainRotation:!1}),controls:[],interactions:Pk().extend([new Tk({condition:i=>Pf(i)&&i.originalEvent.button===1})])});return window._ol_map_instance=r,window.osm=Ly,window.esriSat=Dy,r}function ko([t,e]){return Bm([t,e])}function $b(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eg(...t){return e=>{let n=!1;const r=t.map(i=>{const s=$b(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():$b(t[i],null)}}}}function ht(...t){return _.useCallback(eg(...t),t)}function Ma(t){const e=lG(t),n=_.forwardRef((r,i)=>{const{children:s,...o}=r,l=_.Children.toArray(s),c=l.find(uG);if(c){const d=c.props.children,h=l.map(f=>f===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:f);return g.jsx(e,{...o,ref:i,children:_.isValidElement(d)?_.cloneElement(d,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Vk=Ma("Slot");function lG(t){const e=_.forwardRef((n,r)=>{const{children:i,...s}=n;if(_.isValidElement(i)){const o=hG(i),l=dG(s,i.props);return i.type!==_.Fragment&&(l.ref=r?eg(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zk=Symbol("radix.slottable");function cG(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=zk,e}function uG(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zk}function dG(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function hG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $k(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$k(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Bk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$k(t))&&(r&&(r+=" "),r+=e);return r}const Bb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Gb=Bk,Kv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Gb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],f=s==null?void 0:s[d];if(h===null)return null;const p=Bb(h)||Bb(f);return i[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(v=>{let[w,S]=v;return Array.isArray(S)?S.includes({...s,...l}[w]):{...s,...l}[w]===S})?[...d,f,p]:d},[]);return Gb(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Yv="-",fG=t=>{const e=gG(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Yv);return l[0]===""&&l.length!==1&&l.shift(),Gk(l,e)||mG(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Gk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Gk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Yv);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Ub=/^\[(.+)\]$/,mG=t=>{if(Ub.test(t)){const e=Ub.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},gG=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)W0(n[i],r,i,e);return r},W0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Wb(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(pG(i)){W0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{W0(o,Wb(e,s),n,r)})})},Wb=(t,e)=>{let n=t;return e.split(Yv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pG=t=>t.isThemeGetter,yG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},H0="!",X0=":",xG=X0.length,vG=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,c=0,d;for(let v=0;v<i.length;v++){let w=i[v];if(o===0&&l===0){if(w===X0){s.push(i.slice(c,v)),c=v+xG;continue}if(w==="/"){d=v;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const h=s.length===0?i:i.substring(c),f=_G(h),p=f!==h,y=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:y}};if(e){const i=e+X0,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},_G=t=>t.endsWith(H0)?t.substring(0,t.length-1):t.startsWith(H0)?t.substring(1):t,wG=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},CG=t=>({cache:yG(t.cacheSize),parseClassName:vG(t),sortModifiers:wG(t),...fG(t)}),SG=/\s+/,bG=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(SG);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:f,modifiers:p,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let S=!!w,b=r(S?v.substring(0,w):v);if(!b){if(!S){c=h+(c.length>0?" "+c:c);continue}if(b=r(v),!b){c=h+(c.length>0?" "+c:c);continue}S=!1}const R=s(p).join(":"),T=y?R+H0:R,P=T+b;if(o.includes(P))continue;o.push(P);const k=i(b,S);for(let M=0;M<k.length;++M){const F=k[M];o.push(T+F)}c=h+(c.length>0?" "+c:c)}return c};function EG(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Uk(e))&&(r&&(r+=" "),r+=n);return r}const Uk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Uk(t[r]))&&(n&&(n+=" "),n+=e);return n};function RG(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=CG(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=bG(c,n);return i(c,h),h}return function(){return s(EG.apply(null,arguments))}}const En=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Wk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,TG=/^\d+\/\d+$/,PG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=t=>TG.test(t),ot=t=>!!t&&!Number.isNaN(Number(t)),ho=t=>!!t&&Number.isInteger(Number(t)),Oy=t=>t.endsWith("%")&&ot(t.slice(0,-1)),Cs=t=>PG.test(t),NG=()=>!0,FG=t=>kG.test(t)&&!AG.test(t),Xk=()=>!1,jG=t=>MG.test(t),LG=t=>IG.test(t),DG=t=>!Ae(t)&&!Me(t),OG=t=>fc(t,Zk,Xk),Ae=t=>Wk.test(t),na=t=>fc(t,qk,FG),Vy=t=>fc(t,GG,ot),Hb=t=>fc(t,Kk,Xk),VG=t=>fc(t,Yk,LG),rf=t=>fc(t,Jk,jG),Me=t=>Hk.test(t),cu=t=>mc(t,qk),zG=t=>mc(t,UG),Xb=t=>mc(t,Kk),$G=t=>mc(t,Zk),BG=t=>mc(t,Yk),sf=t=>mc(t,Jk,!0),fc=(t,e,n)=>{const r=Wk.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},mc=(t,e,n=!1)=>{const r=Hk.exec(t);return r?r[1]?e(r[1]):n:!1},Kk=t=>t==="position"||t==="percentage",Yk=t=>t==="image"||t==="url",Zk=t=>t==="length"||t==="size"||t==="bg-size",qk=t=>t==="length",GG=t=>t==="number",UG=t=>t==="family-name",Jk=t=>t==="shadow",WG=()=>{const t=En("color"),e=En("font"),n=En("text"),r=En("font-weight"),i=En("tracking"),s=En("leading"),o=En("breakpoint"),l=En("container"),c=En("spacing"),d=En("radius"),h=En("shadow"),f=En("inset-shadow"),p=En("text-shadow"),y=En("drop-shadow"),v=En("blur"),w=En("perspective"),S=En("aspect"),b=En("ease"),R=En("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...P(),Me,Ae],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],I=()=>[Me,Ae,c],z=()=>[vl,"full","auto",...I()],G=()=>[ho,"none","subgrid",Me,Ae],V=()=>["auto",{span:["full",ho,Me,Ae]},ho,Me,Ae],H=()=>[ho,"auto",Me,Ae],B=()=>["auto","min","max","fr",Me,Ae],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...I()],D=()=>[vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],j=()=>[t,Me,Ae],U=()=>[...P(),Xb,Hb,{position:[Me,Ae]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",$G,OG,{size:[Me,Ae]}],L=()=>[Oy,cu,na],re=()=>["","none","full",d,Me,Ae],ie=()=>["",ot,cu,na],ce=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[ot,Oy,Xb,Hb],pe=()=>["","none",v,Me,Ae],we=()=>["none",ot,Me,Ae],be=()=>["none",ot,Me,Ae],$e=()=>[ot,Me,Ae],Ve=()=>[vl,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Cs],breakpoint:[Cs],color:[NG],container:[Cs],"drop-shadow":[Cs],ease:["in","out","in-out"],font:[DG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Cs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Cs],shadow:[Cs],spacing:["px",ot],text:[Cs],"text-shadow":[Cs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vl,Ae,Me,S]}],container:["container"],columns:[{columns:[ot,Ae,Me,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[ho,"auto",Me,Ae]}],basis:[{basis:[vl,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,vl,"auto","initial","none",Ae]}],grow:[{grow:["",ot,Me,Ae]}],shrink:[{shrink:["",ot,Me,Ae]}],order:[{order:[ho,"first","last","none",Me,Ae]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[l,"screen",...D()]}],"min-w":[{"min-w":[l,"screen","none",...D()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",n,cu,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Me,Vy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Oy,Ae]}],"font-family":[{font:[zG,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Me,Ae]}],"line-clamp":[{"line-clamp":[ot,"none",Me,Vy]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",Me,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",Me,na]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[ot,"auto",Me,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ho,Me,Ae],radial:["",Me,Ae],conic:[ho,Me,Ae]},BG,VG]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,Me,Ae]}],"outline-w":[{outline:["",ot,cu,na]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,sf,rf]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",f,sf,rf]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[ot,na]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",p,sf,rf]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[ot,Me,Ae]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Me,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,Ae]}],filter:[{filter:["","none",Me,Ae]}],blur:[{blur:pe()}],brightness:[{brightness:[ot,Me,Ae]}],contrast:[{contrast:[ot,Me,Ae]}],"drop-shadow":[{"drop-shadow":["","none",y,sf,rf]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",ot,Me,Ae]}],"hue-rotate":[{"hue-rotate":[ot,Me,Ae]}],invert:[{invert:["",ot,Me,Ae]}],saturate:[{saturate:[ot,Me,Ae]}],sepia:[{sepia:["",ot,Me,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,Ae]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[ot,Me,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[ot,Me,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,Me,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,Me,Ae]}],"backdrop-invert":[{"backdrop-invert":["",ot,Me,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[ot,Me,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[ot,Me,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,Me,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",Me,Ae]}],ease:[{ease:["linear","initial",b,Me,Ae]}],delay:[{delay:[ot,Me,Ae]}],animate:[{animate:["none",R,Me,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Me,Ae]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Me,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,Ae]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[ot,cu,na,Vy]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HG=RG(WG);function Oe(...t){return HG(Bk(t))}function XG(){const[t,e]=_.useState(0);return _.useEffect(()=>{const n=()=>e(window.innerWidth);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}const Al={xs:640,sm:850,md:1040,lg:1200,xl:1390,xxl:1540},KG=Kv("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-8",xs:"h-4 px-2 py-2",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),st=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Vk:"button";return g.jsx(o,{className:Oe(KG({variant:e,size:n,className:t})),ref:s,...i})});st.displayName="Button";function da({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i,confirmText:s="Aceptar",cancelText:o="Cancelar",children:l=null,confirmVariant:c="default",confirmColor:d="bg-black hover:bg-gray-700",cancelVariant:h="outline",icon:f=null,size:p="md"}){if(_.useEffect(()=>{if(t){const v=setTimeout(()=>{if(!l){const w=document.querySelector(".modal-footer-confirm-button");w&&w.focus()}},50);return()=>clearTimeout(v)}},[t,l]),!t)return null;const y={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",xxxxl:"max-w-4xl",full:"max-w-full"};return za.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onKeyDown:v=>{v.key==="Escape"&&(i==null||i())},tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:g.jsx("div",{className:`bg-white p-4 rounded-xl shadow-xl w-full relative ${y[p]||y.md}`,children:l||g.jsxs(g.Fragment,{children:[g.jsxs("h2",{id:"modal-title",className:"text-lg font-bold mb-2 flex items-center gap-2",children:[f&&g.jsx("span",{className:"mr-1",children:f}),e]}),n&&g.jsx("p",{id:"modal-description",className:"text-sm text-gray-700 mb-4",children:n}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(st,{variant:h,onClick:i,className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:o}),g.jsx(st,{variant:c,onClick:r,className:`gap-2 ${d} text-white shadow-md w-full sm:w-auto modal-footer-confirm-button`,children:s})]})]})})}),document.body)}function Zv({isOpen:t,message:e,onClose:n}){return _.useEffect(()=>{if(t){const r=setTimeout(()=>{const i=document.querySelector(".modal-info-confirm-button");i&&i.focus()},50);return()=>clearTimeout(r)}},[t]),t?za.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg w-full max-w-sm text-center",role:"dialog","aria-modal":"true","aria-labelledby":"info-modal-title","aria-describedby":"info-modal-description",children:[g.jsx("h2",{id:"info-modal-title",className:"sr-only",children:"Información"}),g.jsx("p",{id:"info-modal-description",className:"text-sm text-gray-700 mb-4",children:e}),g.jsx(st,{onClick:n,className:"modal-info-confirm-button w-full sm:w-auto",children:"OK"})]})}),document.body):null}class YG{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?Cn(n.dataProjection):this.readProjection(e);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=Cn(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return Qe()}readFeature(e,n){return Qe()}readFeatures(e,n){return Qe()}readGeometry(e,n){return Qe()}readProjection(e){return Qe()}writeFeature(e,n){return Qe()}writeFeatures(e,n){return Qe()}writeGeometry(e,n){return Qe()}}function Qk(t,e,n){const r=n?Cn(n.featureProjection):null,i=n?Cn(n.dataProjection):null;let s;if(r&&i&&!ua(r,i)?s=(e?t.clone():t).transform(e?r:i,e?i:r):s=t,e&&n&&n.decimals!==void 0){const o=Math.pow(10,n.decimals),l=function(c){for(let d=0,h=c.length;d<h;++d)c[d]=Math.round(c[d]*o)/o;return c};s===t&&(s=t.clone()),s.applyTransform(l)}return s}class ZG extends YG{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(of(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(of(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return Qe()}readFeaturesFromObject(e,n){return Qe()}readGeometry(e,n){return this.readGeometryFromObject(of(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return Qe()}readProjection(e){return this.readProjectionFromObject(of(e))}readProjectionFromObject(e){return Qe()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return Qe()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return Qe()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return Qe()}}function of(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}else if(t!==null)return t;return null}class eA extends ZG{constructor(e){e=e||{},super(),this.dataProjection=Cn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Cn(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};const i=K0(r.geometry,n),s=new ir;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&s.setGeometryName(r.geometry_name),s.setGeometry(i),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,n){const r=e;let i=null;if(r.type==="FeatureCollection"){const s=e;i=[];const o=s.features;for(let l=0,c=o.length;l<c;++l)i.push(this.readFeatureFromObject(o[l],n))}else i=[this.readFeatureFromObject(e,n)];return i}readGeometryFromObject(e,n){return K0(e,n)}readProjectionFromObject(e){const n=e.crs;let r;return n?n.type=="name"?r=Cn(n.properties.name):n.type==="EPSG"?r=Cn("EPSG:"+n.properties.code):at(!1,36):r=this.dataProjection,r}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;const s=e.getProperties(),o=e.getGeometry();return o&&(r.geometry=Y0(o,n),delete s[e.getGeometryName()]),Hl(s)||(r.properties=s),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,s=e.length;i<s;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return Y0(e,this.adaptOptions(n))}}function K0(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=JG(t);break}case"LineString":{n=QG(t);break}case"Polygon":{n=r6(t);break}case"MultiPoint":{n=t6(t);break}case"MultiLineString":{n=e6(t);break}case"MultiPolygon":{n=n6(t);break}case"GeometryCollection":{n=qG(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Qk(n,!1,e)}function qG(t,e){const n=t.geometries.map(function(r){return K0(r,e)});return new Qf(n)}function JG(t){return new Tr(t.coordinates)}function QG(t){return new Aa(t.coordinates)}function e6(t){return new em(t.coordinates)}function t6(t){return new Qm(t.coordinates)}function n6(t){return new tm(t.coordinates)}function r6(t){return new nr(t.coordinates)}function Y0(t,e){t=Qk(t,!0,e);const n=t.getType();let r;switch(n){case"Point":{r=c6(t);break}case"LineString":{r=s6(t);break}case"Polygon":{r=u6(t,e);break}case"MultiPoint":{r=a6(t);break}case"MultiLineString":{r=o6(t);break}case"MultiPolygon":{r=l6(t,e);break}case"GeometryCollection":{r=i6(t,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function i6(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return Y0(r,e)})}}function s6(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function o6(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function a6(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function l6(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function c6(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function u6(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}const Si={modeRef:{current:null},onFinishCallback:{current:null}};function d6(){const[t,e]=_.useState(null),[n,r]=_.useState(0),[i,s]=_.useState("Click para colocar el primer vértice");return{polygonMode:t,setMode:c=>{Si.modeRef.current=c,e(c)},resetPolygonState:()=>{Si.modeRef.current=null,Si.onFinishCallback.current=null,e(null),r(0),s("Click para colocar el primer vértice")},area:n,setArea:r,tooltipText:i,setTooltipText:s}}function Eu(t){if(!t)return 0;try{return $m(t,{projection:"EPSG:3857"})}catch{return 0}}const rr={base:new an({stroke:new yn({color:"#FFFFFF",width:5}),fill:new Pn({color:"rgba(255, 255, 255, 0.05)"})}),draw:new an({stroke:new yn({color:"#FF4D00",width:4,lineDash:[0,0,10,10]}),fill:new Pn({color:"rgba(255, 77, 0, 0.2)"})}),edit:new an({stroke:new yn({color:"#00FFFF",width:4,lineDash:[0,0,10,10]}),fill:new Pn({color:"rgba(0, 255, 255, 0.15)"})}),vertexEdit:new an({image:new Vr({radius:6,fill:new Pn({color:"#00FFFF"}),stroke:new yn({color:"#FFFFFF",width:3})})}),vertexIntermediate:new an({image:new Vr({radius:4.5,fill:new Pn({color:"#777777"}),stroke:new yn({color:"#FFFFFF",width:2.5})})}),vertexDelete:new an({image:new Vr({radius:6,fill:new Pn({color:"#860000"}),stroke:new yn({color:"#FF0000",width:4})})}),vertexDraw:new an({image:new Vr({radius:6,fill:new Pn({color:"#FF4D00"}),stroke:new yn({color:"#FFFFFF",width:3})})}),previewVertex:new an({image:new Vr({radius:6,fill:new Pn({color:"#777777"}),stroke:new yn({color:"#FFFFFF",width:3})})}),previewVertexSnap:new an({image:new Vr({radius:6,fill:new Pn({color:"#FFFFFF"}),stroke:new yn({color:"#FF4D00",width:3})})}),previewLine:new an({stroke:new yn({color:"#FF8300",width:4,lineDash:[0,0,10,10]})})};function qv({mapRef:t,parcelas:e,formData:n,clearEdit:r,activateEditMode:i,getCreatedFeature:s,setFormData:o,setAreaCampo:l,setAreaParcela:c,enabled:d=!0,modoVisualizacionCampo:h=!1,onSelectFeature:f=null}){const p=_.useRef(null),y=_.useRef([]),v=()=>{const b=t.current;b&&(y.current.forEach(R=>b.removeLayer(R)),y.current=[],b.getLayers().getArray().forEach(R=>{var P;((P=R.getStyle)==null?void 0:P.call(R))===rr.edit&&b.removeLayer(R)}))},w=b=>{var P;if(["draw","draw-edit"].includes(Si.modeRef.current))return;const R=t.current;if(!R)return;const T=s();if((P=T==null?void 0:T.getGeometry())!=null&&P.intersectsCoordinate(b.coordinate)){r(),i(T);return}R.forEachFeatureAtPixel(b.pixel,k=>{if(!k||!k.getGeometry())return;const M=k.getGeometry().getType();if(M!=="Polygon"&&M!=="MultiPolygon")return;const F=k.getId()||k.get("parcela_id"),I=n.campo_id,z=(e[I]||[]).find(G=>G.id==F);if(z){o(h?G=>({...G,parcela_id:z.id}):{campo_id:I,parcela_id:z.id,nombre:z.nombre||"",descripcion:z.descripcion||""});try{const G=k.clone();G.setId(z.id),i(G);try{const V=k.clone();V.setId(z.id),i(V),typeof f=="function"&&f(V,z)}catch(V){console.error("Error al clonar feature:",V)}}catch(G){console.error("Error al clonar feature:",G)}}})},S=()=>{const b=t.current;if(!b||!n.campo_id)return;r(),v(),p.current&&(b.un("click",p.current),p.current=null),h||(b.on("click",w),p.current=w);const R=e[n.campo_id]||[],T=new eA;let P=0;if(h){R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const F=new Fs({features:[M]}),I=new ls({source:F,style:rr.base});b.addLayer(I),y.current.push(I),P+=Eu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),c(0);return}if(n.parcela_id===""||n.parcela_id==="temporal")R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const F=new Fs({features:[M]}),I=new ls({source:F,style:rr.base});b.addLayer(I),y.current.push(I),P+=Eu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),c(0);else{const k=R.find(M=>M.id==n.parcela_id);if(k)try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id),i(M);const F=Eu(M.getGeometry());c(F),typeof f=="function"&&f(M,k)}catch(M){console.error("Error leyendo feature seleccionada:",M)}}};return _.useEffect(()=>{if(d)return S(),()=>{v(),p.current&&t.current&&(t.current.un("click",p.current),p.current=null)}},[n.campo_id,n.parcela_id,e]),{setFeaturesOnMap:S,clearParcelas:v}}function Jv(t){_.useEffect(()=>()=>{typeof t=="function"&&t()},[])}const Cd=_.createContext(null);function h6({children:t}){const e=_.useRef(null),[n,r]=_.useState(!1),i=_.useCallback(()=>{const s=document.getElementById("map");s&&e.current&&(e.current.setTarget(null),e.current=null,s.innerHTML="",r(!1))},[]);return _.useEffect(()=>{const s=new ResizeObserver(()=>{const l=document.getElementById("map");(l==null?void 0:l.offsetWidth)>0&&(l==null?void 0:l.offsetHeight)>0&&!e.current&&r(!0)}),o=document.getElementById("map");return o&&s.observe(o),()=>s.disconnect()},[]),g.jsx(Cd.Provider,{value:{mapRef:e,ready:n,resetMap:i},children:g.jsxs("div",{className:"relative w-full h-full flex-grow overflow-hidden",children:[g.jsx("div",{id:"map",className:"absolute inset-0 z-0",children:g.jsx("div",{id:"popup-cluster-container",className:"min-w-[250px]"})}),n&&t]})})}const Sd=_.createContext();function f6({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(null);return g.jsx(Sd.Provider,{value:{campoSeleccionado:e,setCampoSeleccionado:n,lastCampoId:r,setLastCampoId:i},children:t})}const m6=Kv("inline-flex items-center rounded-xl border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qv({className:t,variant:e,...n}){return g.jsx("div",{className:Oe(m6({variant:e}),t),...n})}function zy({metadata:t,onClose:e}){var S;if(!t)return null;const{nombre:n,raza:r,sexo:i,peso:s,tipo:o,estado_reproductivo:l,especie:c,campo:d,parcela:h,numero_identificacion:f,ubicacion_sensor:p,fecha_nacimiento:y,temperatura_corporal_actual:v,collar_asignado:w}=t;return g.jsxs("div",{className:"space-y-1 p-4 rounded-xl bg-white max-h-[355px] overflow-y-auto",role:"dialog","aria-label":`Información de ${n??"animal"}`,tabIndex:0,onClick:b=>b.stopPropagation(),children:[g.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(zs,{size:20})}),g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-blue-700 break-words",children:[g.jsx(Eo,{size:20})," ",n||"Animal"," (",f,")"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsx(Hi,{icon:cv,label:"Campo",value:d,color:"text-blue-800"}),g.jsx(Hi,{icon:VT,label:"Parcela",value:h,color:"text-blue-400"}),g.jsx(Hi,{icon:LT,label:"Especie",value:c,color:"text-pink-600"}),g.jsx(Hi,{icon:w4,label:"Tipo",value:o,color:"text-yellow-600"}),g.jsx(Hi,{icon:f4,label:"Raza",value:r,color:"text-orange-600"}),g.jsx(Hi,{icon:bV,label:"Peso",value:`${s} kg`,color:"text-emerald-600"}),g.jsx(Hi,{icon:QO,label:"Nacimiento",value:y,color:"text-blue-800"}),g.jsx(Hi,{icon:z4,label:"Sensor",value:p,color:"text-rose-600"}),g.jsx(Hi,{icon:j4,label:"Sexo",value:i,color:"text-indigo-600"}),g.jsx(Hi,{icon:k4,label:"Temperatura",value:v??"N/A",color:"text-red-600"})]}),g.jsx("div",{className:"grid grid-cols-1 gap-y-2 gap-x-4 mb-3",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(AV,{size:16,className:Oe("mt-0.5","text-violet-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Estado Reproductivo: "}),l]})}),w&&g.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[g.jsx("h4",{className:"text-gray-700 text-center font-semibold mb-2",children:"📡 Collar asignado"}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(UT,{size:16,className:Oe("mt-0.5","text-purple-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Código: "}),w.codigo]}),g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(lv,{size:16,className:Oe("mt-0.5","text-green-600")}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("p",{className:"font-medium leading-tight",children:"Batería y estado: "}),g6(w.estado,w.bateria)]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(zO,{size:16,className:Oe("mt-0.5","text-red-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Última actividad: "}),(S=w.ultima_actividad)==null?void 0:S.split(".")[0]]})]})]})}function Hi({icon:t,label:e,value:n,color:r="text-gray-700"}){return g.jsxs("div",{className:"flex items-start gap-2 break-words",children:[g.jsx(t,{size:16,className:Oe("mt-0.5",r)}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:"font-medium leading-tight",children:[e,":"]}),g.jsx("span",{className:"text-gray-800 leading-tight break-words whitespace-pre-wrap",children:n})]})]})}function g6(t,e){const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(_i,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(sv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(ov,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(ju,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(lv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(ju,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batería";break;case"defectuoso":i=g.jsx(On,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(Qv,{className:Oe("flex items-center gap-1 px-2.5 mt-0.5 py-1 rounded-xl text-xs font-medium whitespace-nowrap",o),children:[i,s]})}const Kt=_.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Oe("flex h-9 w-full rounded-xl border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Kt.displayName="Input";function p6({features:t=[],onClose:e=()=>{},onSelectAnimal:n=()=>{}}){const[r,i]=_.useState(""),s=_.useMemo(()=>t.map(o=>o.get("metadata")).filter(Boolean).filter(o=>{var c,d,h,f,p;const l=r.toLowerCase();return((c=o.nombre)==null?void 0:c.toLowerCase().includes(l))||((d=o.numero_identificacion)==null?void 0:d.toLowerCase().includes(l))||((h=o.especie)==null?void 0:h.toLowerCase().includes(l))||((f=o.raza)==null?void 0:f.toLowerCase().includes(l))||((p=o.estado_reproductivo)==null?void 0:p.toLowerCase().includes(l))}),[t,r]);return _.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),g.jsxs("div",{className:"absolute top-0 bg-white rounded-xl shadow-xl border border-gray-200 px-3 w-[280px] max-h-[360px] overflow-auto z-50",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx("button",{onClick:e,className:"absolute z-30 top-2 -right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(zs,{size:18})}),g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Animales en esta zona"})}),g.jsx(Kt,{value:r,onChange:o=>i(o.target.value),placeholder:"Buscar por nombre, ID, especie...",className:"mb-2 text-sm mt-4 px-4"})]}),s.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1",children:s.map(o=>g.jsx("li",{children:g.jsxs(st,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>{const l=t.find(c=>{var d;return((d=c.get("metadata"))==null?void 0:d.animal_id)===o.animal_id});l&&n(l)},children:[g.jsx(Eo,{size:16,className:"text-blue-800"})," ",o.nombre," (",o.numero_identificacion,") - ",o.especie]})},o.animal_id))})]})}function Kb(t={}){const{baseColor:e="#f97316",iconUrl:n=null}=t,r={};return i=>{const s=i.get("features");if((s==null?void 0:s.length)>1){const d=s.length;return r[d]||(r[d]=new an({image:new Vr({radius:10+Math.min(d,30)*.4,fill:new Pn({color:e}),stroke:new yn({color:"#ffffff",width:2})}),text:new Ym({text:d.toString(),font:"bold 12px sans-serif",fill:new Pn({color:"#ffffff"}),stroke:new yn({color:"#000000",width:2})})})),r[d]}const c=(i.get("metadata")||{}).is_outside===!0?"#e60000":e;return n?new an({image:new qm({src:n,scale:.5,anchor:[.5,1]})}):new an({image:new Vr({radius:6,fill:new Pn({color:c}),stroke:new yn({color:"#ffffff",width:1.5})})})}}class y6 extends Fs{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(n){const r=n.getGeometry();return at(r.getType()=="Point",10),r},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,n,r){this.source.loadFeatures(e,n,r),n!==this.resolution&&(this.resolution=n,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(et.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(et.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,n){const r=e===0?0:Math.min(n,e)/e,i=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=n,this.interpolationRatio=r,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Ur(),n=this.distance*this.resolution,r=this.source.getFeatures(),i={};for(let s=0,o=r.length;s<o;s++){const l=r[s];if(!(tt(l)in i)){const c=this.geometryFunction(l);if(c){const d=c.getCoordinates();_u(d,e),xd(e,n,e);const h=this.source.getFeaturesInExtent(e).filter(function(f){const p=tt(f);return p in i?!1:(i[p]=!0,!0)});this.features.push(this.createCluster(h,e))}}}}createCluster(e,n){const r=[0,0];for(let l=e.length-1;l>=0;--l){const c=this.geometryFunction(e[l]);c?kP(r,c.getCoordinates()):e.splice(l,1)}MP(r,1/e.length);const i=Po(n),s=this.interpolationRatio,o=new Tr([r[0]*(1-s)+i[0]*s,r[1]*(1-s)+i[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new ir({geometry:o,features:e})}}function x6(t=[]){const e=[],n=new Map;return t.forEach(r=>{if((r==null?void 0:r.lon)==null||(r==null?void 0:r.lat)==null)return;const i=new ir({geometry:new Tr(Bm([r.lon,r.lat])),metadata:r});r.__feature=i,i.setId(`a-${r.animal_id}`),n.set(r.animal_id,i),e.push(i)}),{features:e,featureMap:n}}function Yb({map:t,settings:e,inside:n=[]}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef(new Map);return _.useEffect(()=>{if(!t)return;const o=new Fs,l=new y6({distance:e.distance||50,source:o});return r.current=o,i.current=l,()=>{o.clear(),l.setSource(null)}},[t,e.distance]),_.useEffect(()=>{const o=r.current;if(!o)return;const{features:l,featureMap:c}=x6(n);s.current=c,o.clear(),o.addFeatures(l)},[n]),{vectorSource:r.current,clusterSource:i.current,featuresMapRef:s}}function v6({map:t,inside:e=[],outside:n=[],insideRef:r,outsideRef:i,settings:s={distance:50,baseColor:"orange"},setExplodedFeatures:o}){const l=_.useRef(),c=_.useRef(),d="popup-cluster-container",h=Yb({map:t,settings:s,inside:e}),f=Yb({map:t,settings:s,inside:n});return r&&(r.current=h.featuresMapRef),i&&(i.current=f.featuresMapRef),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=new ls({source:h.clusterSource,style:Kb({...s,baseColor:"#f97316",iconUrl:s.iconUrl}),zIndex:10}),y=new ls({source:f.clusterSource,style:Kb({...s,baseColor:"#e60000"}),zIndex:9});return t.addLayer(p),t.addLayer(y),()=>{t.removeLayer(p),t.removeLayer(y)}},[t,h.clusterSource,f.clusterSource]),_.useEffect(()=>{if(!t)return;let p=document.getElementById(d);p||(p=document.createElement("div"),p.id=d,p.className="relative z-5",document.body.appendChild(p));const y=new Jf({element:p,positioning:"top-center",offset:[0,12],autoPan:{animation:{duration:200}}});return t.addOverlay(y),l.current=y,c.current||(c.current=pT.createRoot(p)),()=>{var v;t.removeOverlay(y),(v=c.current)==null||v.unmount(),c.current=null,p==null||p.remove()}},[t]),_.useEffect(()=>{if(!t||!l.current||!c.current)return;const p=y=>{const v=t.forEachFeatureAtPixel(y.pixel,b=>b);if(!v)return;const w=v.get("features"),S=t.getView().getZoom();if((w==null?void 0:w.length)>1){const b=v.getGeometry().getCoordinates();t.getView().animate({center:b,duration:500}),l.current.setPosition(b),c.current.render(g.jsx(p6,{features:w,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:b,duration:500})},onSelectAnimal:R=>{const T=R.getGeometry().getCoordinates();l.current.setPosition(T),c.current.render(g.jsx(zy,{metadata:R.get("metadata"),onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:[T[0],T[1]-60],duration:500})}})),o&&o(w),t.getView().animate({center:[T[0],T[1]-60],zoom:S<17?18:S,duration:500})}}))}else if((w==null?void 0:w.length)===1){const b=w[0],R=b.getGeometry().getCoordinates(),T=b.get("metadata");t.getView().animate({center:[R[0],R[1]-60],zoom:S<17?18:S,duration:500}),l.current.setPosition(R),c.current.render(g.jsx(zy,{metadata:T,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:R,zoom:S>17?16:S,duration:500})}}))}};return t.on("singleclick",p),()=>t.un("singleclick",p)},[t,o]),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=()=>{const v=t.getView().getZoom()>=15.5?0:s.distance||50;h.clusterSource.setDistance(v),f.clusterSource.setDistance(v)};return p(),t.getView().on("change:resolution",p),()=>t.getView().un("change:resolution",p)},[t,h.clusterSource,f.clusterSource,s.distance]),_.useEffect(()=>{if(!t||!l.current||!c.current)return;const p=y=>{if(!y)return;const v=y.getGeometry().getCoordinates(),w=y.get("metadata"),S=t.getView().getZoom();t.getView().animate({center:[v[0],v[1]-60],zoom:S<17?18:S,duration:500}),l.current.setPosition(v),c.current.render(g.jsx(zy,{metadata:w,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:v,zoom:S>17?16:S,duration:500})}}))};return window.ClusterPopup={open:p,close:()=>{l.current&&c.current&&(l.current.setPosition(void 0),c.current.render(null))}},()=>{var y;((y=window.ClusterPopup)==null?void 0:y.open)===p&&delete window.ClusterPopup}},[t]),null}async function _6(){const t=await fetch("/api/animals/");if(!t.ok)throw new Error("Error al cargar animales");return await t.json()}async function w6(t){const e=await fetch(`/api/animals/${t}/entities`);if(!e.ok)throw new Error("Error al cargar clusters de animales");return await e.json()}async function C6(){const t=await fetch("/api/animals/options");if(!t.ok)throw new Error("Error al cargar las opciones");return await t.json()}async function S6(t){const e=await fetch(`/api/animals/${t}/complete_sheet`);if(!e.ok)throw new Error("Error al cargar ficha completa");return await e.json()}async function b6(t){const e=await fetch("/api/animals/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear animal")}return await e.json()}async function E6(t,e){const n=await fetch(`/api/animals/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar animal")}return await n.json()}async function R6(t){const e=await fetch(`/api/animals/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar animal");return await e.json()}async function tA(){const t=await fetch("/api/animals/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de animales.")}return t.blob()}async function T6(t,e={}){const n=new URLSearchParams({type:t});e.globalFilter&&n.append("globalFilter",e.globalFilter),e.ids&&e.ids.length>0&&n.append("ids",e.ids.join(","));const r=await fetch(`/api/animals/export?${n.toString()}`);if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al exportar animales.")}return r.blob()}async function P6(t){const e=new FormData;e.append("file",t);const n=await fetch("/api/animals/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar animales.")}return await n.json()}function k6(t=1e4,e){const[n,r]=_.useState([]),[i,s]=_.useState([]);return _.useEffect(()=>{if(!e)return;const o=async()=>{try{const c=await w6(e);r(c.inside||[]),s(c.outside||[])}catch(c){console.error("Error al obtener animales:",c)}};o();const l=setInterval(o,t);return()=>clearInterval(l)},[e,t]),{inside:n,outside:i}}async function Ia(){const t=await fetch("/api/parcelas/init");if(!t.ok)throw new Error("Error al cargar datos");return await t.json()}async function A6(){const t=await fetch("/api/parcelas/animales/resumen");if(!t.ok)throw new Error("Error al cargar resumen de parcelas");return await t.json()}async function M6(t){const e=await fetch("/api/parcelas/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al guardar")}return await e.json()}async function I6(t,e,n="",r="",i){const s=await fetch(`/api/parcelas/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geojson:e,nombre:n,descripcion:r,area:i})});if(!s.ok){const o=await s.json();throw new Error(o.message||"Error al actualizar")}return await s.json()}async function N6(t){const e=await fetch(`/api/parcelas/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar la parcela");return await e.json()}function F6({inside:t=[],outside:e=[],featuresMapRef:n}){const[r,i]=_.useState(!1),[s,o]=_.useState(""),l=_.useMemo(()=>[...t,...e].filter(Boolean).map(d=>({label:`${d.nombre||"Animal"} (${d.numero_identificacion||"sin ID"})`,value:String(d.animal_id),full:d})).filter(d=>{var p,y,v,w,S;const h=s.toLowerCase(),f=d.full;return((p=f.nombre)==null?void 0:p.toLowerCase().includes(h))||((y=f.numero_identificacion)==null?void 0:y.toLowerCase().includes(h))||((v=f.especie)==null?void 0:v.toLowerCase().includes(h))||((w=f.raza)==null?void 0:w.toLowerCase().includes(h))||((S=f.estado_reproductivo)==null?void 0:S.toLowerCase().includes(h))}),[t,e,s]),c=d=>{var f,p,y;const h=(p=(f=n==null?void 0:n.current)==null?void 0:f.get)==null?void 0:p.call(f,Number(d));h&&((y=window.ClusterPopup)!=null&&y.open)?window.ClusterPopup.open(h):console.warn("No se encontró el animal en featuresMapRef o no está definido ClusterPopup."),i(!1)};return _.useEffect(()=>{const d=h=>{h.key==="Escape"&&i(!1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),g.jsxs("div",{className:"absolute top-16 mt-2 right-4 z-40 flex items-center gap-2",children:[g.jsx("button",{onClick:()=>{var d;i(!r),(d=window.ClusterPopup)!=null&&d.close&&window.ClusterPopup.close()},className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(Eo,{className:"h-6 w-6 text-gray-800"})}),r&&g.jsxs("div",{style:{top:"60px"},className:"absolute right-0 bg-white rounded-xl shadow-xl border border-gray-200 px-3 w-[250px] max-h-[360px] overflow-auto z-50",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx("button",{onClick:()=>i(!1),className:"absolute z-30 top-2 -right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(zs,{size:18})}),g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Buscar animal"})}),g.jsx(Kt,{value:s,onChange:d=>o(d.target.value),placeholder:"Nombre, ID, especie...",className:"mb-2 text-sm mt-4 px-4"})]}),l.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1 pr-1",children:l.map(d=>g.jsx("li",{children:g.jsxs(st,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>c(d.value),children:[g.jsx(Eo,{size:16,className:"text-blue-800 mr-2"}),d.label," - ",d.full.especie]})},d.value))})]})]})}function j6(){const[t,e]=_.useState(!1),[n,r]=_.useState(""),[i,s]=_.useState({}),{mapRef:o,ready:l}=_.useContext(Cd),{campoSeleccionado:c,setCampoSeleccionado:d,lastCampoId:h}=_.useContext(Sd),{campos:f,parcelas:p,formData:y,setFormData:v,setAreaCampo:w,setAreaParcela:S}=ev(),b=_.useRef(new Map),R=_.useRef(),T=_.useRef(),{setFeaturesOnMap:P,clearParcelas:k}=qv({mapRef:o,parcelas:p,formData:y,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:v,setAreaCampo:w,setAreaParcela:S,enabled:!0,modoVisualizacionCampo:!0});Jv(()=>k()),_.useEffect(()=>{Ia().then(I=>s(I.parcelas)).catch(I=>console.error("Error al cargar parcelas:",I))},[]);const{inside:M,outside:F}=k6(1e4,y.campo_id);return _.useEffect(()=>{!l||!y.campo_id||P()},[l,y.campo_id,y.parcela_id,p]),_.useEffect(()=>{!y.campo_id&&!c&&h&&f[h]&&(d(h),v(I=>({...I,campo_id:h,parcela_id:"",nombre:"",descripcion:""})),S(0))},[]),_.useEffect(()=>{c||!y.campo_id||!f[y.campo_id]||(d(y.campo_id),o.current.getView().animate({center:ko([f[y.campo_id].lon,f[y.campo_id].lat]),duration:800,easing:Pr}))},[y.campo_id,c]),_.useEffect(()=>{var V,H;const I=new Map,z=(V=R.current)==null?void 0:V.current,G=(H=T.current)==null?void 0:H.current;if(z)for(const[B,X]of z.entries())I.set(B,X);if(G)for(const[B,X]of G.entries())I.set(B,X);b.current=I},[M,F]),g.jsxs(g.Fragment,{children:[g.jsx(Zv,{isOpen:t,message:n,onClose:()=>e(!1)}),g.jsx(v6,{map:o.current,inside:M,outside:F,insideRef:R,outsideRef:T,settings:{distance:50,baseColor:"orange"}}),g.jsx(F6,{mapRef:o,inside:M,outside:F,featuresMapRef:b})]})}function L6({onFinish:t,onUndo:e,onStart:n,onCancel:r,canFinish:i,closedBySnap:s,firstVertexDraw:o,open:l,setOpen:c,finished:d}){const h=()=>{const f=!l;c(f),f&&(n==null||n())};return g.jsxs(g.Fragment,{children:[!l&&g.jsx("button",{onClick:h,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Dibujar polígono",children:g.jsx(E4,{className:"w-6 h-6 text-gray-800"})}),l&&g.jsxs("div",{className:"flex flex-row-reverse gap-1 items-center",children:[g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar",children:g.jsx(zs,{className:"w-6 h-6"})}),!d&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:e,disabled:!o,className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${o?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Deshacer último punto",children:g.jsx(I4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:t,disabled:!(i||s),className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${i||s?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Finalizar dibujo",children:g.jsx(hd,{className:"w-6 h-6"})})]})]})]})}function D6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo"}),g.jsx("select",{name:"campo_id",value:e.campo_id,onChange:r=>{n(r),window.dispatchEvent(new Event("cerrarPopupResumen"))},className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del área"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:14,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripción de la parcela"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]})]})}function O6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo existente"}),g.jsxs("select",{name:"campo_id",value:e.campo_id,onChange:n,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:[g.jsx("option",{value:"",children:"-- Crear nuevo campo --"}),Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del campo"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:16,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripción del campo"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsx("input",{type:"hidden",name:"lat",value:e.lat}),g.jsx("input",{type:"hidden",name:"lon",value:e.lon})]})}function V6({mode:t="edit",isDeleteMode:e=!1,onToggleDeleteMode:n=()=>{},onCancel:r=()=>{},onSave:i=()=>{},showDelete:s=!0,showCancel:o=!0,showSave:l=!0}){return["edit","draw-edit"].includes(t)?g.jsxs(g.Fragment,{children:[s&&g.jsx("button",{onClick:n,className:`p-3 rounded-full shadow-md flex items-center justify-center ${e?"bg-red-600":"bg-white"}`,title:"Eliminar vértices",children:g.jsx(On,{className:"w-6 h-6"})}),o&&g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar edición",children:g.jsx(zs,{className:"w-6 h-6"})}),l&&g.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Guardar cambios",children:g.jsx(GT,{className:"w-6 h-6"})})]}):null}const e_=_.createContext({});function t_(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const n_=typeof window<"u",nA=n_?_.useLayoutEffect:_.useEffect,tg=_.createContext(null);function r_(t,e){t.indexOf(e)===-1&&t.push(e)}function i_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const js=(t,e,n)=>n>e?e:n<t?t:n;let s_=()=>{};const Ls={},rA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iA(t){return typeof t=="object"&&t!==null}const sA=t=>/^0[^.\s]+$/u.test(t);function o_(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,z6=(t,e)=>n=>e(t(n)),bd=(...t)=>t.reduce(z6),Zu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class a_{constructor(){this.subscriptions=[]}add(e){return r_(this.subscriptions,e),()=>i_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ns=t=>t*1e3,rs=t=>t/1e3;function oA(t,e){return e?t*(1e3/e):0}const aA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$6=1e-7,B6=12;function G6(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=aA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>$6&&++l<B6);return o}function Ed(t,e,n,r){if(t===e&&n===r)return ri;const i=s=>G6(s,0,1,t,n);return s=>s===0||s===1?s:aA(i(s),e,r)}const lA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cA=t=>e=>1-t(1-e),uA=Ed(.33,1.53,.69,.99),l_=cA(uA),dA=lA(l_),hA=t=>(t*=2)<1?.5*l_(t):.5*(2-Math.pow(2,-10*(t-1))),c_=t=>1-Math.sin(Math.acos(t)),fA=cA(c_),mA=lA(c_),U6=Ed(.42,0,1,1),W6=Ed(0,0,.58,1),gA=Ed(.42,0,.58,1),H6=t=>Array.isArray(t)&&typeof t[0]!="number",pA=t=>Array.isArray(t)&&typeof t[0]=="number",X6={linear:ri,easeIn:U6,easeInOut:gA,easeOut:W6,circIn:c_,circInOut:mA,circOut:fA,backIn:l_,backInOut:dA,backOut:uA,anticipate:hA},K6=t=>typeof t=="string",Zb=t=>{if(pA(t)){s_(t.length===4);const[e,n,r,i]=t;return Ed(e,n,r,i)}else if(K6(t))return X6[t];return t},af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],qb={value:null};function Y6(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(f){o.has(f)&&(h.schedule(f),t()),c++,f(l)}const h={schedule:(f,p=!1,y=!1)=>{const w=y&&i?n:r;return p&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),e&&qb.value&&qb.value.frameloop[e].push(c),c=0,n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const Z6=40;function yA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=af.reduce((T,P)=>(T[P]=Y6(s,e?P:void 0),T),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:f,preRender:p,render:y,postRender:v}=o,w=()=>{const T=Ls.useManualTiming?i.timestamp:performance.now();n=!1,Ls.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,Z6),1)),i.timestamp=T,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),p.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},S=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:af.reduce((T,P)=>{const k=o[P];return T[P]=(M,F=!1,I=!1)=>(n||S(),k.schedule(M,F,I)),T},{}),cancel:T=>{for(let P=0;P<af.length;P++)o[af[P]].cancel(T)},state:i,steps:o}}const{schedule:sn,cancel:Ao,state:Un,steps:$y}=yA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let kf;function q6(){kf=void 0}const br={now:()=>(kf===void 0&&br.set(Un.isProcessing||Ls.useManualTiming?Un.timestamp:performance.now()),kf),set:t=>{kf=t,queueMicrotask(q6)}},xA=t=>e=>typeof e=="string"&&e.startsWith(t),u_=xA("--"),J6=xA("var(--"),d_=t=>J6(t)?Q6.test(t.split("/*")[0].trim()):!1,Q6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qu={...gc,transform:t=>js(0,1,t)},lf={...gc,default:1},Ru=t=>Math.round(t*1e5)/1e5,h_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eU(t){return t==null}const tU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,f_=(t,e)=>n=>!!(typeof n=="string"&&tU.test(n)&&n.startsWith(t)||e&&!eU(n)&&Object.prototype.hasOwnProperty.call(n,e)),vA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(h_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},nU=t=>js(0,255,t),By={...gc,transform:t=>Math.round(nU(t))},ya={test:f_("rgb","red"),parse:vA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+By.transform(t)+", "+By.transform(e)+", "+By.transform(n)+", "+Ru(qu.transform(r))+")"};function rU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Z0={test:f_("#"),parse:rU,transform:ya.transform},Rd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mo=Rd("deg"),is=Rd("%"),Ze=Rd("px"),iU=Rd("vh"),sU=Rd("vw"),Jb={...is,parse:t=>is.parse(t)/100,transform:t=>is.transform(t*100)},Fl={test:f_("hsl","hue"),parse:vA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+is.transform(Ru(e))+", "+is.transform(Ru(n))+", "+Ru(qu.transform(r))+")"},xn={test:t=>ya.test(t)||Z0.test(t)||Fl.test(t),parse:t=>ya.test(t)?ya.parse(t):Fl.test(t)?Fl.parse(t):Z0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ya.transform(t):Fl.transform(t),getAnimatableNone:t=>{const e=xn.parse(t);return e.alpha=0,xn.transform(e)}},oU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(h_))==null?void 0:e.length)||0)+(((n=t.match(oU))==null?void 0:n.length)||0)>0}const _A="number",wA="color",lU="var",cU="var(",Qb="${}",uU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ju(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(uU,c=>(xn.test(c)?(r.color.push(s),i.push(wA),n.push(xn.parse(c))):c.startsWith(cU)?(r.var.push(s),i.push(lU),n.push(c)):(r.number.push(s),i.push(_A),n.push(parseFloat(c))),++s,Qb)).split(Qb);return{values:n,split:l,indexes:r,types:i}}function CA(t){return Ju(t).values}function SA(t){const{split:e,types:n}=Ju(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===_A?s+=Ru(i[o]):l===wA?s+=xn.transform(i[o]):s+=i[o]}return s}}const dU=t=>typeof t=="number"?0:xn.test(t)?xn.getAnimatableNone(t):t;function hU(t){const e=CA(t);return SA(t)(e.map(dU))}const Mo={test:aU,parse:CA,createTransformer:SA,getAnimatableNone:hU};function Gy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Gy(c,l,t+1/3),s=Gy(c,l,t),o=Gy(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function nm(t,e){return n=>n>0?e:t}const rn=(t,e,n)=>t+(e-t)*n,Uy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},mU=[Z0,ya,Fl],gU=t=>mU.find(e=>e.test(t));function eE(t){const e=gU(t);if(!e)return!1;let n=e.parse(t);return e===Fl&&(n=fU(n)),n}const tE=(t,e)=>{const n=eE(t),r=eE(e);if(!n||!r)return nm(t,e);const i={...n};return s=>(i.red=Uy(n.red,r.red,s),i.green=Uy(n.green,r.green,s),i.blue=Uy(n.blue,r.blue,s),i.alpha=rn(n.alpha,r.alpha,s),ya.transform(i))},q0=new Set(["none","hidden"]);function pU(t,e){return q0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yU(t,e){return n=>rn(t,e,n)}function m_(t){return typeof t=="number"?yU:typeof t=="string"?d_(t)?nm:xn.test(t)?tE:_U:Array.isArray(t)?bA:typeof t=="object"?xn.test(t)?tE:xU:nm}function bA(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>m_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function xU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=m_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function vU(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const _U=(t,e)=>{const n=Mo.createTransformer(e),r=Ju(t),i=Ju(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?q0.has(t)&&!i.values.length||q0.has(e)&&!r.values.length?pU(t,e):bd(bA(vU(r,i),i.values),n):nm(t,e)};function EA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?rn(t,e,n):m_(t)(t,e)}const wU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>sn.update(e,n),stop:()=>Ao(e),now:()=>Un.isProcessing?Un.timestamp:br.now()}},RA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},rm=2e4;function g_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<rm;)e+=n,r=t.next(e);return e>=rm?1/0:e}function CU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(g_(r),rm);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:rs(i)}}const SU=5;function TA(t,e,n){const r=Math.max(e-SU,0);return oA(n-t(r),e-r)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nE=.001;function bU({duration:t=ln.duration,bounce:e=ln.bounce,velocity:n=ln.velocity,mass:r=ln.mass}){let i,s,o=1-e;o=js(ln.minDamping,ln.maxDamping,o),t=js(ln.minDuration,ln.maxDuration,rs(t)),o<1?(i=d=>{const h=d*o,f=h*t,p=h-n,y=J0(d,o),v=Math.exp(-f);return nE-p/y*v},s=d=>{const f=d*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-f),w=J0(Math.pow(d,2),o);return(-i(d)+nE>0?-1:1)*((p-y)*v)/w}):(i=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-.001+h*f},s=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=RU(i,s,l);if(t=ns(t),isNaN(c))return{stiffness:ln.stiffness,damping:ln.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const EU=12;function RU(t,e,n){let r=n;for(let i=1;i<EU;i++)r=r-t(r)/e(r);return r}function J0(t,e){return t*Math.sqrt(1-e*e)}const TU=["duration","bounce"],PU=["stiffness","damping","mass"];function rE(t,e){return e.some(n=>t[n]!==void 0)}function kU(t){let e={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...t};if(!rE(t,PU)&&rE(t,TU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*js(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ln.mass,stiffness:i,damping:s}}else{const n=bU(t);e={...e,...n,mass:ln.mass},e.isResolvedFromDuration=!0}return e}function im(t=ln.visualDuration,e=ln.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=kU({...n,velocity:-rs(n.velocity||0)}),v=p||0,w=d/(2*Math.sqrt(c*h)),S=o-s,b=rs(Math.sqrt(c/h)),R=Math.abs(S)<5;r||(r=R?ln.restSpeed.granular:ln.restSpeed.default),i||(i=R?ln.restDelta.granular:ln.restDelta.default);let T;if(w<1){const k=J0(b,w);T=M=>{const F=Math.exp(-w*b*M);return o-F*((v+w*b*S)/k*Math.sin(k*M)+S*Math.cos(k*M))}}else if(w===1)T=k=>o-Math.exp(-b*k)*(S+(v+b*S)*k);else{const k=b*Math.sqrt(w*w-1);T=M=>{const F=Math.exp(-w*b*M),I=Math.min(k*M,300);return o-F*((v+w*b*S)*Math.sinh(I)+k*S*Math.cosh(I))/k}}const P={calculatedDuration:y&&f||null,next:k=>{const M=T(k);if(y)l.done=k>=f;else{let F=k===0?v:0;w<1&&(F=k===0?ns(v):TA(T,k,M));const I=Math.abs(F)<=r,z=Math.abs(o-M)<=i;l.done=I&&z}return l.value=l.done?o:M,l},toString:()=>{const k=Math.min(g_(P),rm),M=RA(F=>P.next(k*F).value,k,30);return k+"ms "+M},toTransition:()=>{}};return P}im.applyToOptions=t=>{const e=CU(t,100,im);return t.ease=e.ease,t.duration=ns(e.duration),t.type="keyframes",t};function Q0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=I=>l!==void 0&&I<l||c!==void 0&&I>c,v=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let w=n*e;const S=f+w,b=o===void 0?S:o(S);b!==S&&(w=b-f);const R=I=>-w*Math.exp(-I/r),T=I=>b+R(I),P=I=>{const z=R(I),G=T(I);p.done=Math.abs(z)<=d,p.value=p.done?b:G};let k,M;const F=I=>{y(p.value)&&(k=I,M=im({keyframes:[p.value,v(p.value)],velocity:TA(T,I,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return F(0),{calculatedDuration:null,next:I=>{let z=!1;return!M&&k===void 0&&(z=!0,P(I),F(I)),k!==void 0&&I>=k?M.next(I-k):(!z&&P(I),p)}}}function AU(t,e,n){const r=[],i=n||Ls.mix||EA,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ri:e;l=bd(c,l)}r.push(l)}return r}function MU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(s_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=AU(e,r,i),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=Zu(t[f],t[f+1],h);return l[f](p)};return n?h=>d(js(t[0],t[s-1],h)):d}function IU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Zu(0,e,r);t.push(rn(n,1,i))}}function NU(t){const e=[0];return IU(e,t.length-1),e}function FU(t,e){return t.map(n=>n*e)}function jU(t,e){return t.map(()=>e||gA).splice(0,t.length-1)}function Tu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=H6(r)?r.map(Zb):Zb(r),s={done:!1,value:e[0]},o=FU(n&&n.length===e.length?n:NU(e),t),l=MU(o,e,{ease:Array.isArray(i)?i:jU(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const LU=t=>t!==null;function p_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(LU),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const DU={decay:Q0,inertia:Q0,tween:Tu,keyframes:Tu,spring:im};function PA(t){typeof t.type=="string"&&(t.type=DU[t.type])}class y_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const OU=t=>t/100;class x_ extends y_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==br.now()&&this.tick(br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PA(e);const{type:n=Tu,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Tu;c!==Tu&&typeof l[0]!="number"&&(this.mixKeyframes=bd(OU,EA(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=g_(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,P=r;if(f){const I=Math.min(this.currentTime,i)/l;let z=Math.floor(I),G=I%1;!G&&I>=1&&(G=1),G===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(p==="reverse"?(G=1-G,y&&(G-=y/l)):p==="mirror"&&(P=o)),T=js(0,1,G)*l}const k=R?{done:!1,value:h[0]}:P.next(T);s&&(k.value=s(k.value));let{done:M}=k;!R&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return F&&v!==Q0&&(k.value=p_(h,this.options,S,this.speed)),w&&w(k.value),F&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return rs(this.calculatedDuration)}get time(){return rs(this.currentTime)}set time(e){var n;e=ns(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(br.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=rs(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=wU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function VU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xa=t=>t*180/Math.PI,ex=t=>{const e=xa(Math.atan2(t[1],t[0]));return tx(e)},zU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ex,rotateZ:ex,skewX:t=>xa(Math.atan(t[1])),skewY:t=>xa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},tx=t=>(t=t%360,t<0&&(t+=360),t),iE=ex,sE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),oE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$U={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sE,scaleY:oE,scale:t=>(sE(t)+oE(t))/2,rotateX:t=>tx(xa(Math.atan2(t[6],t[5]))),rotateY:t=>tx(xa(Math.atan2(-t[2],t[0]))),rotateZ:iE,rotate:iE,skewX:t=>xa(Math.atan(t[4])),skewY:t=>xa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nx(t){return t.includes("scale")?1:0}function rx(t,e){if(!t||t==="none")return nx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=$U,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zU,i=l}if(!i)return nx(e);const s=r[e],o=i[1].split(",").map(GU);return typeof s=="function"?s(o):o[s]}const BU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return rx(n,e)};function GU(t){return parseFloat(t.trim())}const pc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yc=new Set(pc),aE=t=>t===gc||t===Ze,UU=new Set(["x","y","z"]),WU=pc.filter(t=>!UU.has(t));function HU(t){const e=[];return WU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ea={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>rx(e,"x"),y:(t,{transform:e})=>rx(e,"y")};Ea.translateX=Ea.x;Ea.translateY=Ea.y;const Ra=new Set;let ix=!1,sx=!1,ox=!1;function kA(){if(sx){const t=Array.from(Ra).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=HU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sx=!1,ix=!1,Ra.forEach(t=>t.complete(ox)),Ra.clear()}function AA(){Ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sx=!0)})}function XU(){ox=!0,AA(),kA(),ox=!1}class v_{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),ix||(ix=!0,sn.read(AA),sn.resolveKeyframes(kA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}VU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KU=t=>t.startsWith("--");function YU(t,e,n){KU(e)?t.style.setProperty(e,n):t.style[e]=n}const ZU=o_(()=>window.ScrollTimeline!==void 0),qU={};function JU(t,e){const n=o_(t);return()=>qU[e]??n()}const MA=JU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,lE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pu([0,.65,.55,1]),circOut:pu([.55,0,1,.45]),backIn:pu([.31,.01,.66,-.59]),backOut:pu([.33,1.53,.69,.99])};function IA(t,e){if(t)return typeof t=="function"?MA()?RA(t,e):"ease-out":pA(t)?pu(t):Array.isArray(t)?t.map(n=>IA(n,e)||lE.easeOut):lE[t]}function QU(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const f=IA(l,i);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(h,p)}function NA(t){return typeof t=="function"&&"applyToOptions"in t}function e8({type:t,...e}){return NA(t)&&MA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t8 extends y_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,s_(typeof e.type!="string");const d=e8(e);this.animation=QU(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=p_(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):YU(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return rs(Number(e))}get time(){return rs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ns(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&ZU()?(this.animation.timeline=e,ri):n(this)}}const FA={anticipate:hA,backInOut:dA,circInOut:mA};function n8(t){return t in FA}function r8(t){typeof t.ease=="string"&&n8(t.ease)&&(t.ease=FA[t.ease])}const cE=10;class i8 extends t8{constructor(e){r8(e),PA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new x_({...o,autoplay:!1}),c=ns(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-cE).value,l.sample(c).value,cE),l.stop()}}const uE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mo.test(t)||t==="0")&&!t.startsWith("url("));function s8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=uE(i,e),l=uE(s,e);return!o||!l?!1:s8(t)||(n==="spring"||NA(n))&&r}function __(t){return iA(t)&&"offsetHeight"in t}const a8=new Set(["opacity","clipPath","filter","transform"]),l8=o_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c8(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!__((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return l8()&&n&&a8.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const u8=40;class d8 extends y_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...f}){var v;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=br.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||v_;this.keyframeResolver=new y(l,(w,S,b)=>this.onKeyframesResolved(w,S,p,!b),c,d,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=br.now(),o8(e,s,o,l)||((Ls.instantAnimations||!c)&&(h==null||h(p_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>u8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&c8(p)?new i8({...p,element:p.motionValue.owner.current}):new x_(p);y.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),XU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const h8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f8(t){const e=h8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function jA(t,e,n=1){const[r,i]=f8(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return rA(o)?parseFloat(o):o}return d_(i)?jA(i,e,n+1):i}function w_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const LA=new Set(["width","height","top","left","right","bottom",...pc]),m8={test:t=>t==="auto",parse:t=>t},DA=t=>e=>e.test(t),OA=[gc,Ze,is,mo,sU,iU,m8],dE=t=>OA.find(DA(t));function g8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sA(t):!0}const p8=new Set(["brightness","contrast","saturate","opacity"]);function y8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(h_)||[];if(!r)return t;const i=n.replace(r,"");let s=p8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const x8=/\b([a-z-]*)\(.*?\)/gu,ax={...Mo,getAnimatableNone:t=>{const e=t.match(x8);return e?e.map(y8).join(" "):t}},hE={...gc,transform:Math.round},v8={rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:lf,scaleX:lf,scaleY:lf,scaleZ:lf,skew:mo,skewX:mo,skewY:mo,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:qu,originX:Jb,originY:Jb,originZ:Ze},C_={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...v8,zIndex:hE,fillOpacity:qu,strokeOpacity:qu,numOctaves:hE},_8={...C_,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:ax,WebkitFilter:ax},VA=t=>_8[t];function zA(t,e){let n=VA(t);return n!==ax&&(n=Mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const w8=new Set(["auto","none","0"]);function C8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!w8.has(s)&&Ju(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=zA(n,i)}class S8 extends v_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),d_(d))){const h=jA(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!LA.has(r)||e.length!==2)return;const[i,s]=e,o=dE(i),l=dE(s);if(o!==l)if(aE(o)&&aE(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Ea[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||g8(e[i]))&&r.push(i);r.length&&C8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ea[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ea[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function b8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const $A=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fE=30,E8=t=>!isNaN(parseFloat(t));class R8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,l;const s=br.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=E8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new a_);const r=this.events[e].add(n);return e==="change"?()=>{r(),sn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fE);return oA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kl(t,e){return new R8(t,e)}const{schedule:S_}=yA(queueMicrotask,!1),pi={x:!1,y:!1};function BA(){return pi.x||pi.y}function T8(t){return t==="x"||t==="y"?pi[t]?null:(pi[t]=!0,()=>{pi[t]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}function GA(t,e){const n=b8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function mE(t){return!(t.pointerType==="touch"||BA())}function P8(t,e,n={}){const[r,i,s]=GA(t,n),o=l=>{if(!mE(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=f=>{mE(f)&&(d(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const UA=(t,e)=>e?t===e?!0:UA(t,e.parentElement):!1,b_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,k8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A8(t){return k8.has(t.tagName)||t.tabIndex!==-1}const Af=new WeakSet;function gE(t){return e=>{e.key==="Enter"&&t(e)}}function Wy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const M8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gE(()=>{if(Af.has(n))return;Wy(n,"down");const i=gE(()=>{Wy(n,"up")}),s=()=>Wy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function pE(t){return b_(t)&&!BA()}function I8(t,e,n={}){const[r,i,s]=GA(t,n),o=l=>{const c=l.currentTarget;if(!pE(l))return;Af.add(c);const d=e(c,l),h=(y,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Af.has(c)&&Af.delete(c),pE(y)&&typeof d=="function"&&d(y,{success:v})},f=y=>{h(y,c===window||c===document||n.useGlobalTarget||UA(c,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),__(l)&&(l.addEventListener("focus",d=>M8(d,i)),!A8(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function WA(t){return iA(t)&&"ownerSVGElement"in t}function N8(t){return WA(t)&&t.tagName==="svg"}const or=t=>!!(t&&t.getVelocity),F8=[...OA,xn,Mo],j8=t=>F8.find(DA(t)),E_=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class L8 extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=__(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function D8({children:t,isPresent:e,anchorX:n}){const r=_.useId(),i=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(E_);return _.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=s.current;if(e||!i.current||!l||!c)return;const p=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),g.jsx(L8,{isPresent:e,childRef:i,sizeRef:s,children:_.cloneElement(t,{ref:i})})}const O8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const c=t_(V8),d=_.useId();let h=!0,f=_.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const y of c.values())if(!y)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return s&&h&&(f={...f}),_.useMemo(()=>{c.forEach((p,y)=>c.set(y,!1))},[n]),_.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(D8,{isPresent:n,anchorX:l,children:t})),g.jsx(tg.Provider,{value:f,children:t})};function V8(){return new Map}function HA(t=!0){const e=_.useContext(tg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const o=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const cf=t=>t.key||"";function yE(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const z8=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=HA(o),h=_.useMemo(()=>yE(t),[t]),f=o&&!c?[]:h.map(cf),p=_.useRef(!0),y=_.useRef(h),v=t_(()=>new Map),[w,S]=_.useState(h),[b,R]=_.useState(h);nA(()=>{p.current=!1,y.current=h;for(let k=0;k<b.length;k++){const M=cf(b[k]);f.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[b,f.length,f.join("-")]);const T=[];if(h!==w){let k=[...h];for(let M=0;M<b.length;M++){const F=b[M],I=cf(F);f.includes(I)||(k.splice(M,0,F),T.push(F))}return s==="wait"&&T.length&&(k=T),R(yE(k)),S(h),null}const{forceRender:P}=_.useContext(e_);return g.jsx(g.Fragment,{children:b.map(k=>{const M=cf(k),F=o&&!c?!1:h===b||f.includes(M),I=()=>{if(v.has(M))v.set(M,!0);else return;let z=!0;v.forEach(G=>{G||(z=!1)}),z&&(P==null||P(),R(y.current),o&&(d==null||d()),r&&r())};return g.jsx(O8,{isPresent:F,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:F?void 0:I,anchorX:l,children:k},M)})})},XA=_.createContext({strict:!1}),xE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yl={};for(const t in xE)Yl[t]={isEnabled:e=>xE[t].some(n=>!!e[n])};function $8(t){for(const e in t)Yl[e]={...Yl[e],...t[e]}}const B8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||B8.has(t)}let KA=t=>!sm(t);function G8(t){typeof t=="function"&&(KA=e=>e.startsWith("on")?!sm(e):t(e))}try{G8(require("@emotion/is-prop-valid").default)}catch{}function U8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(KA(i)||n===!0&&sm(i)||!e&&!sm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function W8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ng=_.createContext({});function rg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Qu(t){return typeof t=="string"||Array.isArray(t)}const R_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],T_=["initial",...R_];function ig(t){return rg(t.animate)||T_.some(e=>Qu(t[e]))}function YA(t){return!!(ig(t)||t.variants)}function H8(t,e){if(ig(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Qu(n)?n:void 0,animate:Qu(r)?r:void 0}}return t.inherit!==!1?e:{}}function X8(t){const{initial:e,animate:n}=H8(t,_.useContext(ng));return _.useMemo(()=>({initial:e,animate:n}),[vE(e),vE(n)])}function vE(t){return Array.isArray(t)?t.join(" "):t}const K8=Symbol.for("motionComponentSymbol");function jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Y8(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):jl(n)&&(n.current=r))},[e])}const P_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Z8="framerAppearId",ZA="data-"+P_(Z8),qA=_.createContext({});function q8(t,e,n,r,i){var w,S;const{visualElement:s}=_.useContext(ng),o=_.useContext(XA),l=_.useContext(tg),c=_.useContext(E_).reducedMotion,d=_.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,f=_.useContext(qA);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&J8(d.current,n,i,f);const p=_.useRef(!1);_.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const y=n[ZA],v=_.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return nA(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),S_.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),_.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,y)}),v.current=!1))}),h}function J8(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:JA(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&jl(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function JA(t){if(t)return t.options.allowProjection!==!1?t.projection:JA(t.parent)}function Q8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&$8(t);function s(l,c){let d;const h={..._.useContext(E_),...l,layoutId:eW(l)},{isStatic:f}=h,p=X8(l),y=r(l,f);if(!f&&n_){tW();const v=nW(h);d=v.MeasureLayout,p.visualElement=q8(i,y,h,e,v.ProjectionNode)}return g.jsxs(ng.Provider,{value:p,children:[d&&p.visualElement?g.jsx(d,{visualElement:p.visualElement,...h}):null,n(i,l,Y8(y,p.visualElement,c),y,f,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=_.forwardRef(s);return o[K8]=i,o}function eW({layoutId:t}){const e=_.useContext(e_).id;return e&&t!==void 0?e+"-"+t:t}function tW(t,e){_.useContext(XA).strict}function nW(t){const{drag:e,layout:n}=Yl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ed={};function rW(t){for(const e in t)ed[e]=t[e],u_(e)&&(ed[e].isCSSVariable=!0)}function QA(t,{layout:e,layoutId:n}){return yc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ed[t]||t==="opacity")}const iW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sW=pc.length;function oW(t,e,n){let r="",i=!0;for(let s=0;s<sW;s++){const o=pc[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=$A(l,C_[o]);if(!c){i=!1;const h=iW[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function k_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(yc.has(c)){o=!0;continue}else if(u_(c)){i[c]=d;continue}else{const h=$A(d,C_[c]);c.startsWith("origin")?(l=!0,s[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=oW(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${d} ${h}`}}const A_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eM(t,e,n){for(const r in e)!or(e[r])&&!QA(r,n)&&(t[r]=e[r])}function aW({transformTemplate:t},e){return _.useMemo(()=>{const n=A_();return k_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lW(t,e){const n=t.style||{},r={};return eM(r,n,t),Object.assign(r,aW(t,e)),r}function cW(t,e){const n={},r=lW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const uW={offset:"stroke-dashoffset",array:"stroke-dasharray"},dW={offset:"strokeDashoffset",array:"strokeDasharray"};function hW(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?uW:dW;t[s.offset]=Ze.transform(-r);const o=Ze.transform(e),l=Ze.transform(n);t[s.array]=`${o} ${l}`}function tM(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,d,h){if(k_(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&hW(f,i,s,o,!1)}const nM=()=>({...A_(),attrs:{}}),rM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fW(t,e,n,r){const i=_.useMemo(()=>{const s=nM();return tM(s,e,rM(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};eM(s,t.style,t),i.style={...s,...i.style}}return i}const mW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function M_(t){return typeof t!="string"||t.includes("-")?!1:!!(mW.indexOf(t)>-1||/[A-Z]/u.test(t))}function gW(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(M_(n)?fW:cW)(r,s,o,n),d=U8(r,typeof n=="string",t),h=n!==_.Fragment?{...d,...c,ref:i}:{},{children:f}=r,p=_.useMemo(()=>or(f)?f.get():f,[f]);return _.createElement(n,{...h,children:p})}}function _E(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function I_(t,e,n,r){if(typeof e=="function"){const[i,s]=_E(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=_E(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Mf(t){return or(t)?t.get():t}function pW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:yW(n,r,i,t),renderState:e()}}const iM=t=>(e,n)=>{const r=_.useContext(ng),i=_.useContext(tg),s=()=>pW(t,e,r,i);return n?s():t_(s)};function yW(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Mf(s[p]);let{initial:o,animate:l}=t;const c=ig(t),d=YA(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!rg(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const v=I_(t,p[y]);if(v){const{transitionEnd:w,transition:S,...b}=v;for(const R in b){let T=b[R];if(Array.isArray(T)){const P=h?T.length-1:0;T=T[P]}T!==null&&(i[R]=T)}for(const R in w)i[R]=w[R]}}}return i}function N_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(or(r[o])||e.style&&or(e.style[o])||QA(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const xW={useVisualState:iM({scrapeMotionValuesFromProps:N_,createRenderState:A_})};function sM(t,e,n){const r=N_(t,e,n);for(const i in t)if(or(t[i])||or(e[i])){const s=pc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const vW={useVisualState:iM({scrapeMotionValuesFromProps:sM,createRenderState:nM})};function _W(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...M_(r)?vW:xW,preloadedFeatures:t,useRender:gW(i),createVisualElement:e,Component:r};return Q8(o)}}function td(t,e,n){const r=t.getProps();return I_(r,e,n!==void 0?n:r.custom,t)}const lx=t=>Array.isArray(t);function wW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kl(n))}function CW(t){return lx(t)?t[t.length-1]||0:t}function SW(t,e){const n=td(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=CW(s[o]);wW(t,o,l)}}function bW(t){return!!(or(t)&&t.add)}function cx(t,e){const n=t.getValue("willChange");if(bW(n))return n.add(e);if(!n&&Ls.WillChange){const r=new Ls.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function oM(t){return t.props[ZA]}const EW=t=>t!==null;function RW(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(EW),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const TW={type:"spring",stiffness:500,damping:25,restSpeed:10},PW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kW={type:"keyframes",duration:.8},AW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MW=(t,{keyframes:e})=>e.length>2?kW:yc.has(t)?t.startsWith("scale")?PW(e[1]):TW:AW;function IW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const F_=(t,e,n,r={},i,s)=>o=>{const l=w_(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ns(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};IW(l)||Object.assign(h,MW(t,h)),h.duration&&(h.duration=ns(h.duration)),h.repeatDelay&&(h.repeatDelay=ns(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),(Ls.instantAnimations||Ls.skipAnimations)&&(f=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!s&&e.get()!==void 0){const p=RW(h.keyframes,l);if(p!==void 0){sn.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new x_(h):new d8(h)};function NW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),p=l[h];if(p===void 0||d&&NW(d,h))continue;const y={delay:n,...w_(s||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=oM(t);if(b){const R=window.MotionHandoffAnimation(b,h,sn);R!==null&&(y.startTime=R,w=!0)}}cx(t,h),f.start(F_(h,f,p,t.shouldReduceMotion&&LA.has(h)?{type:!1}:y,t,w));const S=f.animation;S&&c.push(S)}return o&&Promise.all(c).then(()=>{sn.update(()=>{o&&SW(t,o)})}),c}function ux(t,e,n={}){var c;const r=td(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(aM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return FW(t,e,h+d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function FW(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(jW).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(ux(d,e,{...s,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function jW(t,e){return t.sortNodePosition(e)}function LW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ux(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ux(t,e,n);else{const i=typeof e=="function"?td(t,e,n.custom):e;r=Promise.all(aM(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function lM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const DW=T_.length;function cM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DW;n++){const r=T_[n],i=t.props[r];(Qu(i)||i===!1)&&(e[r]=i)}return e}const OW=[...R_].reverse(),VW=R_.length;function zW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>LW(t,n,r)))}function $W(t){let e=zW(t),n=wE(),r=!0;const i=c=>(d,h)=>{var p;const f=td(t,h,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:v,...w}=f;d={...d,...w,...v}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,h=cM(t.parent)||{},f=[],p=new Set;let y={},v=1/0;for(let S=0;S<VW;S++){const b=OW[S],R=n[b],T=d[b]!==void 0?d[b]:h[b],P=Qu(T),k=b===c?R.isActive:null;k===!1&&(v=S);let M=T===h[b]&&T!==d[b]&&P;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),R.protectedKeys={...y},!R.isActive&&k===null||!T&&!R.prevProp||rg(T)||typeof T=="boolean")continue;const F=BW(R.prevProp,T);let I=F||b===c&&R.isActive&&!M&&P||S>v&&P,z=!1;const G=Array.isArray(T)?T:[T];let V=G.reduce(i(b),{});k===!1&&(V={});const{prevResolvedValues:H={}}=R,B={...H,...V},X=D=>{I=!0,p.has(D)&&(z=!0,p.delete(D)),R.needsAnimating[D]=!0;const j=t.getValue(D);j&&(j.liveStyle=!1)};for(const D in B){const j=V[D],U=H[D];if(y.hasOwnProperty(D))continue;let q=!1;lx(j)&&lx(U)?q=!lM(j,U):q=j!==U,q?j!=null?X(D):p.add(D):j!==void 0&&p.has(D)?X(D):R.protectedKeys[D]=!0}R.prevProp=T,R.prevResolvedValues=V,R.isActive&&(y={...y,...V}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&F)||z)&&f.push(...G.map(D=>({animation:D,options:{type:b}})))}if(p.size){const S={};if(typeof d.initial!="boolean"){const b=td(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(S.transition=b.transition)}p.forEach(b=>{const R=t.getBaseTarget(b),T=t.getValue(b);T&&(T.liveStyle=!0),S[b]=R??null}),f.push({animation:S})}let w=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function l(c,d){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=wE(),r=!0}}}function BW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lM(e,t):!1}function ra(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wE(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class GW extends Oo{constructor(e){super(e),e.animationState||(e.animationState=$W(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let UW=0;class WW extends Oo{constructor(){super(...arguments),this.id=UW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HW={animation:{Feature:GW},exit:{Feature:WW}};function nd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Td(t){return{point:{x:t.pageX,y:t.pageY}}}const XW=t=>e=>b_(e)&&t(e,Td(e));function Pu(t,e,n,r){return nd(t,e,XW(n),r)}function uM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function KW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const dM=1e-4,ZW=1-dM,qW=1+dM,hM=.01,JW=0-hM,QW=0+hM;function dr(t){return t.max-t.min}function eH(t,e,n){return Math.abs(t-e)<=n}function CE(t,e,n,r=.5){t.origin=r,t.originPoint=rn(e.min,e.max,t.origin),t.scale=dr(n)/dr(e),t.translate=rn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ZW&&t.scale<=qW||isNaN(t.scale))&&(t.scale=1),(t.translate>=JW&&t.translate<=QW||isNaN(t.translate))&&(t.translate=0)}function ku(t,e,n,r){CE(t.x,e.x,n.x,r?r.originX:void 0),CE(t.y,e.y,n.y,r?r.originY:void 0)}function SE(t,e,n){t.min=n.min+e.min,t.max=t.min+dr(e)}function tH(t,e,n){SE(t.x,e.x,n.x),SE(t.y,e.y,n.y)}function bE(t,e,n){t.min=e.min-n.min,t.max=t.min+dr(e)}function Au(t,e,n){bE(t.x,e.x,n.x),bE(t.y,e.y,n.y)}const EE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ll=()=>({x:EE(),y:EE()}),RE=()=>({min:0,max:0}),dn=()=>({x:RE(),y:RE()});function ei(t){return[t("x"),t("y")]}function Hy(t){return t===void 0||t===1}function dx({scale:t,scaleX:e,scaleY:n}){return!Hy(t)||!Hy(e)||!Hy(n)}function oa(t){return dx(t)||fM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fM(t){return TE(t.x)||TE(t.y)}function TE(t){return t&&t!=="0%"}function om(t,e,n){const r=t-n,i=e*r;return n+i}function PE(t,e,n,r,i){return i!==void 0&&(t=om(t,i,r)),om(t,n,r)+e}function hx(t,e=0,n=1,r,i){t.min=PE(t.min,e,n,r,i),t.max=PE(t.max,e,n,r,i)}function mM(t,{x:e,y:n}){hx(t.x,e.translate,e.scale,e.originPoint),hx(t.y,n.translate,n.scale,n.originPoint)}const kE=.999999999999,AE=1.0000000000001;function nH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ol(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,mM(t,o)),r&&oa(s.latestValues)&&Ol(t,s.latestValues))}e.x<AE&&e.x>kE&&(e.x=1),e.y<AE&&e.y>kE&&(e.y=1)}function Dl(t,e){t.min=t.min+e,t.max=t.max+e}function ME(t,e,n,r,i=.5){const s=rn(t.min,t.max,i);hx(t,e,n,s,r)}function Ol(t,e){ME(t.x,e.x,e.scaleX,e.scale,e.originX),ME(t.y,e.y,e.scaleY,e.scale,e.originY)}function gM(t,e){return uM(YW(t.getBoundingClientRect(),e))}function rH(t,e,n){const r=gM(t,n),{scroll:i}=e;return i&&(Dl(r.x,i.offset.x),Dl(r.y,i.offset.y)),r}const pM=({current:t})=>t?t.ownerDocument.defaultView:null,IE=(t,e)=>Math.abs(t-e);function iH(t,e){const n=IE(t.x,e.x),r=IE(t.y,e.y);return Math.sqrt(n**2+r**2)}class yM{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ky(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=iH(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:v}=f,{timestamp:w}=Un;this.history.push({...v,timestamp:w});const{onStart:S,onMove:b}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Xy(p,this.transformPagePoint),sn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Ky(f.type==="pointercancel"?this.lastMoveEventInfo:Xy(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,S),v&&v(f,S)},!b_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Td(e),l=Xy(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Un;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Ky(l,this.history)),this.removeListeners=bd(Pu(this.contextWindow,"pointermove",this.handlePointerMove),Pu(this.contextWindow,"pointerup",this.handlePointerUp),Pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ao(this.updatePoint)}}function Xy(t,e){return e?{point:e(t.point)}:t}function NE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ky({point:t},e){return{point:t,delta:NE(t,xM(e)),offset:NE(t,sH(e)),velocity:oH(e,.1)}}function sH(t){return t[0]}function xM(t){return t[t.length-1]}function oH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=xM(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ns(e)));)n--;if(!r)return{x:0,y:0};const s=rs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function aH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?rn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?rn(n,t,r.max):Math.min(t,n)),t}function FE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lH(t,{top:e,left:n,bottom:r,right:i}){return{x:FE(t.x,n,i),y:FE(t.y,e,r)}}function jE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cH(t,e){return{x:jE(t.x,e.x),y:jE(t.y,e.y)}}function uH(t,e){let n=.5;const r=dr(t),i=dr(e);return i>r?n=Zu(e.min,e.max-r,t.min):r>i&&(n=Zu(t.min,t.max-i,e.min)),js(0,1,n)}function dH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fx=.35;function hH(t=fx){return t===!1?t=0:t===!0&&(t=fx),{x:LE(t,"left","right"),y:LE(t,"top","bottom")}}function LE(t,e,n){return{min:DE(t,e),max:DE(t,n)}}function DE(t,e){return typeof t=="number"?t:t[e]||0}const fH=new WeakMap;class mH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Td(h).point)},s=(h,f)=>{const{drag:p,dragPropagation:y,onDragStart:v}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=T8(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ei(S=>{let b=this.getAxisMotionValue(S).get()||0;if(is.test(b)){const{projection:R}=this.visualElement;if(R&&R.layout){const T=R.layout.layoutBox[S];T&&(b=dr(T)*(parseFloat(b)/100))}}this.originPoint[S]=b}),v&&sn.postRender(()=>v(h,f)),cx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=f;if(y&&this.currentDirection===null){this.currentDirection=gH(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>this.stop(h,f),c=()=>ei(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new yM(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:pM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&sn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=aH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&jl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=lH(r.layoutBox,e):this.constraints=!1,this.elastic=hH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ei(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=rH(r,i.root,this.visualElement.getTransformPagePoint());let o=cH(i.layout.layoutBox,s);if(n){const l=n(KW(o));this.hasMutatedConstraints=!!l,l&&(o=uM(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ei(h=>{if(!uf(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return cx(this.visualElement,e),r.start(F_(e,r,0,n,this.visualElement,!1))}stopAnimation(){ei(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ei(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ei(n=>{const{drag:r}=this.getProps();if(!uf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-rn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ei(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=uH({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ei(o=>{if(!uf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(rn(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;fH.set(this.visualElement,this);const e=this.visualElement.current,n=Pu(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();jl(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),sn.read(r);const o=nd(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ei(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=fx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function uf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pH extends Oo{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new mH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const OE=t=>(e,n)=>{t&&sn.postRender(()=>t(e,n))};class yH extends Oo{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new yM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OE(e),onStart:OE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&sn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const If={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const uu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ze.test(t))t=parseFloat(t);else return t;const n=VE(t,e.target.x),r=VE(t,e.target.y);return`${n}% ${r}%`}},xH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Mo.parse(t);if(i.length>5)return r;const s=Mo.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=rn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class vH extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;rW(_H),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),If.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||sn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),S_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vM(t){const[e,n]=HA(),r=_.useContext(e_);return g.jsx(vH,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(qA),isPresent:e,safeToRemove:n})}const _H={borderRadius:{...uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uu,borderTopRightRadius:uu,borderBottomLeftRadius:uu,borderBottomRightRadius:uu,boxShadow:xH};function wH(t,e,n){const r=or(t)?t:Kl(t);return r.start(F_("",r,e,n)),r.animation}const CH=(t,e)=>t.depth-e.depth;class SH{constructor(){this.children=[],this.isDirty=!1}add(e){r_(this.children,e),this.isDirty=!0}remove(e){i_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CH),this.isDirty=!1,this.children.forEach(e)}}function bH(t,e){const n=br.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ao(r),t(s-e))};return sn.setup(r,!0),()=>Ao(r)}const _M=["TopLeft","TopRight","BottomLeft","BottomRight"],EH=_M.length,zE=t=>typeof t=="string"?parseFloat(t):t,$E=t=>typeof t=="number"||Ze.test(t);function RH(t,e,n,r,i,s){i?(t.opacity=rn(0,n.opacity??1,TH(r)),t.opacityExit=rn(e.opacity??1,0,PH(r))):s&&(t.opacity=rn(e.opacity??1,n.opacity??1,r));for(let o=0;o<EH;o++){const l=`border${_M[o]}Radius`;let c=BE(e,l),d=BE(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||$E(c)===$E(d)?(t[l]=Math.max(rn(zE(c),zE(d),r),0),(is.test(d)||is.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=rn(e.rotate||0,n.rotate||0,r))}function BE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TH=wM(0,.5,fA),PH=wM(.5,.95,ri);function wM(t,e,n){return r=>r<t?0:r>e?1:n(Zu(t,e,r))}function GE(t,e){t.min=e.min,t.max=e.max}function Qr(t,e){GE(t.x,e.x),GE(t.y,e.y)}function UE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function WE(t,e,n,r,i){return t-=e,t=om(t,1/n,r),i!==void 0&&(t=om(t,1/i,r)),t}function kH(t,e=0,n=1,r=.5,i,s=t,o=t){if(is.test(e)&&(e=parseFloat(e),e=rn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=rn(s.min,s.max,r);t===s&&(l-=e),t.min=WE(t.min,e,n,l,i),t.max=WE(t.max,e,n,l,i)}function HE(t,e,[n,r,i],s,o){kH(t,e[n],e[r],e[i],e.scale,s,o)}const AH=["x","scaleX","originX"],MH=["y","scaleY","originY"];function XE(t,e,n,r){HE(t.x,e,AH,n?n.x:void 0,r?r.x:void 0),HE(t.y,e,MH,n?n.y:void 0,r?r.y:void 0)}function KE(t){return t.translate===0&&t.scale===1}function CM(t){return KE(t.x)&&KE(t.y)}function YE(t,e){return t.min===e.min&&t.max===e.max}function IH(t,e){return YE(t.x,e.x)&&YE(t.y,e.y)}function ZE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SM(t,e){return ZE(t.x,e.x)&&ZE(t.y,e.y)}function qE(t){return dr(t.x)/dr(t.y)}function JE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NH{constructor(){this.members=[]}add(e){r_(this.members,e),e.scheduleRender()}remove(e){if(i_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:p,skewX:y,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Yy=["","X","Y","Z"],jH={visibility:"hidden"},LH=1e3;let DH=0;function Zy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",sn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bM(r)}function EM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=DH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zH),this.nodes.forEach(UH),this.nodes.forEach(WH),this.nodes.forEach($H)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new SH)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new a_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=WA(o)&&!N8(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=bH(f,250),If.hasAnimatedSinceResize&&(If.hasAnimatedSinceResize=!1,this.nodes.forEach(tR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||ZH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=d.getProps(),b=!this.targetLayout||!SM(this.targetLayout,y),R=!f&&p;if(this.options.layoutRoot||this.resumeFrom||R||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...w_(v,"layout"),onPlay:w,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(h,R)}else f||tR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eR);return}this.isUpdating||this.nodes.forEach(eR),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(GH),this.nodes.forEach(OH),this.nodes.forEach(VH),this.clearAllSnapshots();const l=br.now();Un.delta=js(0,1e3/60,l-Un.timestamp),Un.timestamp=l,Un.isProcessing=!0,$y.update.process(Un),$y.preRender.process(Un),$y.render.process(Un),Un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,S_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BH),this.sharedNodes.forEach(XH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dr(this.snapshot.measuredBox.x)&&!dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!CM(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||oa(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),qH(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return dn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(JH))){const{scroll:h}=this.root;h&&(Dl(l.x,h.offset.x),Dl(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=dn();if(Qr(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Qr(l,o),Dl(l.x,f.offset.x),Dl(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=dn();Qr(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ol(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oa(h.latestValues)&&Ol(c,h.latestValues)}return oa(this.latestValues)&&Ol(c,this.latestValues),c}removeTransform(o){const l=dn();Qr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!oa(d.latestValues))continue;dx(d.latestValues)&&d.updateSnapshot();const h=dn(),f=d.measurePageBox();Qr(h,f),XE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return oa(this.latestValues)&&XE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Un.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Au(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qr(this.target,this.layout.layoutBox),mM(this.target,this.targetDelta)):Qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Au(this.relativeTargetOrigin,this.target,y.target),Qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dx(this.parent.latestValues)||fM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Un.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Qr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;nH(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=dn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UE(this.prevProjectionDelta.x,this.projectionDelta.x),UE(this.prevProjectionDelta.y,this.projectionDelta.y)),ku(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!JE(this.projectionDelta.x,this.prevProjectionDelta.x)||!JE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ll(),this.projectionDelta=Ll(),this.projectionDeltaWithTransform=Ll()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=Ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=dn(),y=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,S=this.getStack(),b=!S||S.members.length<=1,R=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(YH));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const k=P/1e3;nR(f.x,o.x,k),nR(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Au(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KH(this.relativeTarget,this.relativeTargetOrigin,p,k),T&&IH(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=dn()),Qr(T,this.relativeTarget)),w&&(this.animationValues=h,RH(h,d,this.latestValues,k,R,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sn.update(()=>{If.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kl(0)),this.currentAnimation=wH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&RM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||dn();const f=dr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=dr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Qr(l,c),Ol(l,h),ku(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NH),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Zy("z",o,d,this.animationValues);for(let h=0;h<Yy.length;h++)Zy(`rotate${Yy[h]}`,o,d,this.animationValues),Zy(`skew${Yy[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return jH;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Mf(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Mf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=FH(this.projectionDeltaWithTransform,this.treeScale,h),c&&(l.transform=c(h,l.transform));const{x:f,y:p}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in ed){if(h[y]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:S}=ed[y],b=l.transform==="none"?h[y]:v(h[y],d);if(w){const R=w.length;for(let T=0;T<R;T++)l[w[T]]=b}else S?this.options.visualElement.renderState.vars[y]=b:l[y]=b}return this.options.layoutId&&(l.pointerEvents=d===this?Mf(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(QE),this.root.sharedNodes.clear()}}}function OH(t){t.updateLayout()}function VH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ei(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=dr(p);p.min=r[f].min,p.max=p.min+y}):RM(s,e.layoutBox,r)&&ei(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=dr(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const l=Ll();ku(l,r,e.layoutBox);const c=Ll();o?ku(c,t.applyTransform(i,!0),e.measuredBox):ku(c,r,e.layoutBox);const d=!CM(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const v=dn();Au(v,e.layoutBox,p.layoutBox);const w=dn();Au(w,r,y.layoutBox),SM(v,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $H(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BH(t){t.clearSnapshot()}function QE(t){t.clearMeasurements()}function eR(t){t.isLayoutDirty=!1}function GH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function UH(t){t.resolveTargetDelta()}function WH(t){t.calcProjection()}function HH(t){t.resetSkewAndRotation()}function XH(t){t.removeLeadSnapshot()}function nR(t,e,n){t.translate=rn(e.translate,0,n),t.scale=rn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rR(t,e,n,r){t.min=rn(e.min,n.min,r),t.max=rn(e.max,n.max,r)}function KH(t,e,n,r){rR(t.x,e.x,n.x,r),rR(t.y,e.y,n.y,r)}function YH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZH={duration:.45,ease:[.4,0,.1,1]},iR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sR=iR("applewebkit/")&&!iR("chrome/")?Math.round:ri;function oR(t){t.min=sR(t.min),t.max=sR(t.max)}function qH(t){oR(t.x),oR(t.y)}function RM(t,e,n){return t==="position"||t==="preserve-aspect"&&!eH(qE(e),qE(n),.2)}function JH(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const QH=EM({attachResizeListener:(t,e)=>nd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qy={current:void 0},TM=EM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qy.current){const t=new QH({});t.mount(window),t.setOptions({layoutScroll:!0}),qy.current=t}return qy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e9={pan:{Feature:yH},drag:{Feature:pH,ProjectionNode:TM,MeasureLayout:vM}};function aR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&sn.postRender(()=>s(e,Td(e)))}class t9 extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=P8(e,(n,r)=>(aR(this.node,r,"Start"),i=>aR(this.node,i,"End"))))}unmount(){}}class n9 extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bd(nd(this.node.current,"focus",()=>this.onFocus()),nd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&sn.postRender(()=>s(e,Td(e)))}class r9 extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=I8(e,(n,r)=>(lR(this.node,r,"Start"),(i,{success:s})=>lR(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mx=new WeakMap,Jy=new WeakMap,i9=t=>{const e=mx.get(t.target);e&&e(t)},s9=t=>{t.forEach(i9)};function o9({root:t,...e}){const n=t||document;Jy.has(n)||Jy.set(n,{});const r=Jy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(s9,{root:t,...e})),r[i]}function a9(t,e,n){const r=o9(e);return mx.set(t,n),r.observe(t),()=>{mx.delete(t),r.unobserve(t)}}const l9={some:0,all:1};class c9 extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:l9[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return a9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(u9(e,n))&&this.startObserver()}unmount(){}}function u9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const d9={inView:{Feature:c9},tap:{Feature:r9},focus:{Feature:n9},hover:{Feature:t9}},h9={layout:{ProjectionNode:TM,MeasureLayout:vM}},gx={current:null},PM={current:!1};function f9(){if(PM.current=!0,!!n_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gx.current=t.matches;t.addListener(e),e()}else gx.current=!1}const m9=new WeakMap;function g9(t,e,n){for(const r in e){const i=e[r],s=n[r];if(or(i))t.addValue(r,i);else if(or(s))t.addValue(r,Kl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Kl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=v_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=br.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,sn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=ig(n),this.isVariantNode=YA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&or(y)&&y.set(c[p],!1)}}mount(e){this.current=e,m9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),PM.current||f9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ao(this.notifyUpdate),Ao(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=yc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&sn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yl){const n=Yl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cR.length;r++){const i=cR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=g9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Kl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(rA(r)||sA(r))?r=parseFloat(r):!j8(r)&&Mo.test(n)&&(r=zA(e,n)),this.setBaseTarget(e,or(r)?r.get():r)),or(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=I_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!or(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new a_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class kM extends p9{constructor(){super(...arguments),this.KeyframeResolver=S8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;or(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AM(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function y9(t){return window.getComputedStyle(t)}class x9 extends kM{constructor(){super(...arguments),this.type="html",this.renderInstance=AM}readValueFromInstance(e,n){var r;if(yc.has(n))return(r=this.projection)!=null&&r.isProjecting?nx(n):BU(e,n);{const i=y9(e),s=(u_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gM(e,n)}build(e,n,r){k_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return N_(e,n,r)}}const MM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v9(t,e,n,r){AM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(MM.has(i)?i:P_(i),e.attrs[i])}class _9 extends kM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yc.has(n)){const r=VA(n);return r&&r.default||0}return n=MM.has(n)?n:P_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sM(e,n,r)}build(e,n,r){tM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){v9(e,n,r,i)}mount(e){this.isSVGTag=rM(e.tagName),super.mount(e)}}const w9=(t,e)=>M_(t)?new _9(e):new x9(e,{allowProjection:t!==_.Fragment}),C9=_W({...HW,...d9,...e9,...h9},w9),S9=W8(C9);function b9({resumen:t,visible:e,onClose:n}){return t?g.jsx(z8,{children:e&&g.jsx(S9.div,{initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{duration:.2,ease:"easeOut"},className:`absolute bottom-20 left-20 right-20 md:left-20
                        z-20 flex justify-center px-4 sm:bottom-20`,children:g.jsxs("div",{className:"relative bg-white w-full max-w-[400px] max-h-[45vh] overflow-y-auto rounded-2xl shadow-xl p-4 border border-gray-300 dark:bg-zinc-900 dark:text-white",children:[g.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-1 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700",title:"Cerrar",children:g.jsx(zs,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-xl font-bold mb-2 break-words",children:t.nombre}),g.jsxs("p",{className:"text-sm",children:["Animales: ",g.jsx("strong",{children:t.total_animales})]}),g.jsxs("p",{className:"text-sm",children:["Collares: ",g.jsx("strong",{children:t.total_collares})]}),t.tipos&&g.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(t.tipos).map(([r,i])=>g.jsxs("div",{className:"break-words",children:[g.jsxs("h3",{className:"font-semibold text-sm mt-2",children:[r," (",i.cantidad,")"]}),g.jsxs("p",{className:"text-xs",children:["Razas: ",Object.entries(i.por_raza).map(([s,o])=>`${s} (${o})`).join(", ")]}),g.jsxs("p",{className:"text-xs",children:["Sexos: ",Object.entries(i.por_sexo).map(([s,o])=>`${s} (${o})`).join(", ")]})]},r))})]})})}):null}function E9(t,{setMode:e,setArea:n,setTooltipText:r}){const i=_.useRef([]),s=_.useRef([]),o=_.useRef(null),l=_.useRef(null),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=_.useRef(null),y=_.useRef(!1),[v,w]=_.useState(!1),[S,b]=_.useState(!1),[R,T]=_.useState(!1),P=15,k=()=>{i.current=[],s.current=[],o.current=null,l.current=null,p.current=null,w(!1),n(0),b(!1),T(!1),r("")},M=_.useRef(N=>{y.current&&Si.modeRef.current==="draw"&&i.current.length>=3&&(b(!0),Y(),N.preventDefault())}).current,F=N=>{if(!h.current||i.current.length===0)return;o.current&&h.current.removeFeature(o.current);const L=i.current[i.current.length-1],re=new Aa([L,N]);o.current=new ir(re),o.current.setStyle(rr.previewLine),h.current.addFeature(o.current)},I=(N,L)=>{h.current&&(l.current?l.current.getGeometry().setCoordinates(N):(l.current=new ir(new Tr(N)),h.current.addFeature(l.current)),l.current.setStyle(L?rr.previewVertexSnap:rr.previewVertex))},z=N=>{const L=new ir(new Tr(N));L.setStyle(rr.vertexDraw),s.current.push(L),h.current.addFeature(L)},G=()=>{if(!h.current||i.current.length<2)return;h.current.getFeatures().forEach(L=>{L.getGeometry()instanceof nr&&h.current.removeFeature(L)});const N=new ir(new nr([i.current]));N.setStyle(rr.draw),h.current.addFeature(N)},V=()=>{const N=t.current;if(!N||i.current.length<3){c.current&&(N.removeOverlay(c.current),c.current=null),n(0);return}const L=new nr([i.current]),re=$m(L,{projection:"EPSG:3857"});n(re);const ie=`${(re/1e4).toFixed(2)} ha`,ce=L.getInteriorPoint().getCoordinates();if(!c.current){const ge=document.createElement("div");ge.className="area-label",ge.textContent=ie,c.current=new Jf({element:ge,positioning:"center-center",stopEvent:!1}),N.addOverlay(c.current)}c.current.getElement().textContent=ie,c.current.setPosition(ce)},H=(N,L)=>{const re=t.current;if(re){if(!d.current){const ie=document.createElement("div");ie.className="map-tooltip",d.current=new Jf({element:ie,offset:[0,-15],positioning:"bottom-center",className:"ol-tooltip-text"}),re.addOverlay(d.current)}d.current.getElement().textContent=N,d.current.setPosition(L)}},B=_.useRef(N=>{if(!y.current||Si.modeRef.current!=="draw")return;const L=t.current,re=N.coordinate,ie=i.current[0];if(ie&&L.getPixelFromCoordinate(re)&&L.getPixelFromCoordinate(ie)&&Qy(L.getPixelFromCoordinate(re),L.getPixelFromCoordinate(ie))<P&&i.current.length>=3){i.current.push(ie),b(!0),Y();return}i.current.push(re),z(re),G(),V(),i.current.length>0?T(!0):T(!1);const ae=i.current.length===1?"Click para continuar dibujando":"Click para cerrar polígono";r(ae),H(ae,re),w(i.current.length>=3)}).current,X=_.useRef(N=>{if(!y.current||Si.modeRef.current!=="draw")return;const L=t.current,re=N.coordinate,ie=i.current[0],ge=(ie?Qy(L.getPixelFromCoordinate(re),L.getPixelFromCoordinate(ie)):1/0)<P,ae=ge?"Click sobre el primer punto para cerrar":i.current.length===0?"Click para colocar el primer vértice":"Click para continuar dibujando";r(ae),H(ae,re),F(re),I(re,ge)}).current,Z=()=>{const N=t.current;N&&(D(),f.current&&N.removeLayer(f.current),h.current=new Fs,f.current=new ls({source:h.current}),N.addLayer(f.current),N.on("click",B),N.on("pointermove",X),N.on("dblclick",M),k(),e("draw"),r("Click para colocar el primer vértice"),document.body.classList.add("draw-mode"),c.current&&(N.removeOverlay(c.current),c.current=null),d.current&&(N.removeOverlay(d.current),d.current=null),y.current=!0)},Y=()=>{const N=t.current;if(!N||i.current.length<3)return;const L=i.current[0],re=i.current[i.current.length-1];L&&re&&Qy(L,re)>1&&i.current.push(L),h.current&&(s.current.forEach(ce=>h.current.removeFeature(ce)),o.current&&h.current.removeFeature(o.current),l.current&&h.current.removeFeature(l.current),h.current.getFeatures().forEach(ce=>{ce.getGeometry()instanceof nr&&h.current.removeFeature(ce)}));const ie=new nr([i.current]);p.current=new ir(ie),h.current.addFeature(p.current),d.current&&(N.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),r(""),i.current=[],s.current=[],o.current=null,l.current=null,w(!1),typeof Si.onFinishCallback.current=="function"&&Si.onFinishCallback.current(p.current)},D=()=>{const N=t.current;N&&(N.on("click",B),N.on("pointermove",X),N.on("dblclick",M),k(),d.current&&(N.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),e(null),r(""),c.current&&(N.removeOverlay(c.current),c.current=null),f.current&&(N.removeLayer(f.current),f.current=null,h.current=null),document.body.classList.remove("draw-mode"),y.current=!1)},j=()=>D(),U=()=>{if(!i.current.length)return;i.current.pop();const N=s.current.pop();if(N&&h.current&&h.current.removeFeature(N),o.current&&h.current&&(h.current.removeFeature(o.current),o.current=null),h.current&&h.current.getFeatures().forEach(L=>{L.getGeometry()instanceof nr&&h.current.removeFeature(L)}),i.current.length>=2){const L=new ir(new nr([i.current]));L.setStyle(rr.draw),h.current.addFeature(L)}if(i.current.length>=1&&d.current){const L=d.current.getPosition();L&&F(L)}V(),T(i.current.length>0),w(i.current.length>=3)},q=()=>p.current||null;return _.useEffect(()=>D,[]),{enableDraw:Z,disableDraw:D,cancelDraw:j,endPolygon:Y,removeLastPoint:U,getCreatedFeature:q,canFinish:v,closedBySnap:S,firstVertexDraw:R}}function Qy(t,e){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function R9(t,{setMode:e},n=()=>{}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef([]),o=_.useRef([]),l=_.useRef(!1),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=(M,F="edit")=>{const I=t.current;if(!I||!M)return;S();const z=M.getGeometry();if(!z)return;e(F);let G;if(z.getType()==="Polygon"){const D=z.getCoordinates();G=Array.isArray(D[0])?D[0]:[]}else if(z.getType()==="MultiPolygon"){const D=z.getCoordinates();G=Array.isArray(D[0][0])?D[0][0]:[]}else{console.error("Tipo no soportado:",z.getType());return}if(G.length<3)return;const V=new Fs,H=new ls({source:V,style:rr.edit});r.current=H,I.addLayer(H);const B=M.clone();B.setStyle(rr.edit),V.addFeature(B),h.current=B,I.getLayers().forEach(D=>{var U,q;const j=(U=D.getSource)==null?void 0:U.call(D);j&&((q=j.hasFeature)!=null&&q.call(j,M))&&j.removeFeature(M)}),i.current=new ls({source:new Fs,style:null}),I.addLayer(i.current);const X=new NB({source:V});c.current=X;const Z=D=>{I.forEachFeatureAtPixel(D.pixel,j=>{j.get("insertAfter")!==void 0&&(i.current.getSource().removeFeature(j),o.current=o.current.filter(U=>U!==j))})};I.on("pointerdown",Z),c.current._pointerDownHandler=Z,I.getOverlays().getArray().forEach(D=>{const j=D.getElement();j&&j.className.includes("area-label")&&I.removeOverlay(D)});const Y=()=>{var re;const D=B.getGeometry();if(!D||D.getType()!=="Polygon")return;const j=(re=D.getCoordinates())==null?void 0:re[0];if(!j||j.length<3)return;const U=new nr([j]),N=`${($m(U,{projection:"EPSG:3857"})/1e4).toFixed(2)} ha`,L=U.getInteriorPoint().getCoordinates();if(!f.current){const ie=document.createElement("div");ie.className="area-label",ie.textContent=N,f.current=new Jf({element:ie,positioning:"center-center",stopEvent:!1}),I.addOverlay(f.current)}f.current.getElement().textContent=N,f.current.setPosition(L)};X.on("modifyend",D=>{const j=D.features.item(0);if(!j)return;const U=j.getGeometry(),q=k(U);y(q),n(P(q)),Y()}),B.getGeometry().on("change",()=>{const D=B.getGeometry(),j=k(D);y(j),n(P(j)),Y()}),I.addInteraction(X),y(G),n(P(G)),Y()},y=M=>{var G;const F=t.current,I=(G=i.current)==null?void 0:G.getSource();if(!F||!I||!Array.isArray(M)||M.length<2)return;I.clear(),s.current=[],o.current=[];const z=M.slice(0,-1);z.forEach((V,H)=>{const B=new ir(new Tr(V));B.set("vertexIndex",H),B.setStyle(l.current?rr.vertexDelete:rr.vertexEdit),I.addFeature(B),s.current.push(B)});for(let V=0;V<z.length;V++){const H=z[V],B=z[(V+1)%z.length],X=[(H[0]+B[0])/2,(H[1]+B[1])/2],Z=new ir(new Tr(X));Z.set("insertAfter",V),Z.setStyle(rr.vertexIntermediate),I.addFeature(Z),o.current.push(Z)}},v=()=>{var G;const M=t.current,F=(G=r.current)==null?void 0:G.getSource(),I=R();if(!M||!F||!I)return;l.current=!0;const z=new OB({condition:pB,layers:[i.current],filter:V=>V.getGeometry().getType()==="Point"});s.current.forEach(V=>{V.setStyle(rr.vertexDelete)}),z.on("select",V=>{const H=V.selected[0],B=H==null?void 0:H.get("vertexIndex");if(B===void 0)return;const X=T();X.length<=4||(X.splice(B,1),X[X.length-1]=X[0],I.getGeometry().setCoordinates([X]),y(X),n(P(X)))}),d.current=z,M.addInteraction(z)},w=()=>{const M=t.current;if(!M||!d.current)return;M.removeInteraction(d.current),d.current=null,l.current=!1,s.current.forEach(I=>{I.setStyle(rr.vertexEdit)}),R()&&y(T())},S=()=>{const M=t.current;if(M){if(r.current&&(M.removeLayer(r.current),r.current=null),i.current&&(M.removeLayer(i.current),i.current=null),c.current){M.removeInteraction(c.current);const F=c.current._pointerDownHandler;F&&M.un("pointerdown",F),c.current=null}d.current&&(M.removeInteraction(d.current),d.current=null),f.current&&(M.removeOverlay(f.current),f.current=null),s.current=[],o.current=[],l.current=!1,h.current=null,e(null)}},b=()=>h.current||null,R=()=>{var M,F;return((F=(M=r.current)==null?void 0:M.getSource())==null?void 0:F.getFeatures().find(I=>I.getGeometry().getType()==="Polygon"))||null},T=()=>{const M=R();return k(M==null?void 0:M.getGeometry())},P=M=>M.map(F=>{const[I,z]=DP(F);return{lat:z,lng:I}}),k=M=>{if(!M||typeof M.getCoordinates!="function")return[];const F=M.getCoordinates();return M.getType()==="Polygon"&&Array.isArray(F)&&Array.isArray(F[0])?F[0]:M.getType()==="MultiPolygon"&&Array.isArray(F)&&Array.isArray(F[0])&&Array.isArray(F[0][0])?F[0][0]:[]};return{activateEditMode:p,clearEdit:S,getEditedFeature:b,activateDeleteMode:v,disableDeleteMode:w}}function T9(t,e=()=>{}){const n=d6(),r=E9(t,{setMode:n.setMode,setArea:n.setArea,setTooltipText:n.setTooltipText}),i=R9(t,{setMode:n.setMode},e);return{...n,...r,...i}}function P9(){const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[h,f]=_.useState(""),[p,y]=_.useState(!1),[v,w]=_.useState(!1),[S,b]=_.useState(null),[R,T]=_.useState([]),[P,k]=_.useState(!1),{mapRef:M,ready:F}=_.useContext(Cd),{campoSeleccionado:I,setCampoSeleccionado:z,lastCampoId:G}=_.useContext(Sd),{campos:V,parcelas:H,formData:B,setFormData:X,setParcelas:Z,setAreaCampo:Y,setAreaParcela:D}=ev(),{enableDraw:j,disableDraw:U,cancelDraw:q,endPolygon:N,removeLastPoint:L,canFinish:re,closedBySnap:ie,firstVertexDraw:ce,activateDeleteMode:ge,disableDeleteMode:ae,activateEditMode:pe,clearEdit:we,getEditedFeature:be,getCreatedFeature:$e,polygonMode:Ve}=T9(M,()=>{var ye;const se=(ye=be())==null?void 0:ye.getGeometry();se&&D(Eu(se))}),{setFeaturesOnMap:yt,clearParcelas:mt}=qv({mapRef:M,parcelas:H,formData:B,clearEdit:we,activateEditMode:pe,getCreatedFeature:$e,setFormData:X,setAreaCampo:Y,setAreaParcela:D,onSelectFeature:(se,ye)=>{b(R.find(je=>je.parcela_id===ye.id)||null),w(!1)}});Jv(()=>{we(),U(),ae(),X(se=>({...se,parcela_id:"",nombre:"",descripcion:""}))});const Ut=()=>{we(),U(),ae(),mt(),l(!1),r(!1),e(!1)},Lt=()=>["edit","draw-edit"].includes(Si.modeRef.current)?be():$e(),Dt=se=>{const{name:ye,value:je}=se.target;if(ye==="campo_id"){if(je===B.campo_id)return;Ut();const ze=V[je];ze&&M.current&&M.current.getView().animate({center:ko([ze.lon,ze.lat]),duration:800,easing:Pr}),z(je),X({campo_id:je,parcela_id:"",nombre:"",descripcion:""}),D(0)}else X(ze=>({...ze,[ye]:je}))},Vn=async()=>{if(!B.campo_id||!B.nombre){f("Todos los campos son obligatorios."),d(!0);return}const se=Lt();if(!se){f("Debe crear o seleccionar una parcela."),d(!0);return}const ye=new eA,je=se.clone();je.getGeometry().transform("EPSG:3857","EPSG:4326");const ze=ye.writeFeatureObject(je,{featureProjection:"EPSG:4326"});try{B.parcela_id?await I6(B.parcela_id,ze,B.nombre,B.descripcion):await M6({campo_id:B.campo_id,nombre:B.nombre,descripcion:B.descripcion,perimetro_geojson:ze});const xt=await Ia();Z(xt.parcelas),X(Ot=>({...Ot,parcela_id:"",nombre:"",descripcion:""})),Ut(),D(0),w(!1),b(null)}catch(xt){console.error("Error al guardar:",xt)}},lt=()=>{B.parcela_id&&y(!0)},$=async()=>{y(!1),w(!1);try{await N6(B.parcela_id);const se=await Ia();Z(se.parcelas),X(ye=>({...ye,parcela_id:"",nombre:"",descripcion:""})),D(0)}catch(se){console.error("Error al eliminar parcela:",se)}},J=()=>{N(),l(!0),r(!0)},te=()=>{q(),we(),l(!1),r(!1)},fe=()=>{we(),ae(),e(!1),l(!1),r(!1),w(!1),b(null),X(se=>({...se,parcela_id:"",nombre:"",descripcion:""})),D(0)},he=()=>{s(se=>!se),i||window.dispatchEvent(new Event("closeCampoSelector"))};return _.useEffect(()=>{Ut(),Si.onFinishCallback.current=se=>{if(se){l(!0),r(!0),pe(se,"draw-edit"),X(je=>({...je,parcela_id:""}));const ye=se.getGeometry();ye&&D(Eu(ye))}}},[]),_.useEffect(()=>{!F||!B.campo_id||yt()},[F,B.campo_id,B.parcela_id,H]),_.useEffect(()=>{I&&I!==B.campo_id&&V[I]&&(X(se=>({...se,campo_id:I,parcela_id:"",nombre:"",descripcion:""})),D(0))},[I]),_.useEffect(()=>{!B.campo_id&&!I&&G&&V[G]&&(z(G),X(se=>({...se,campo_id:G,parcela_id:"",nombre:"",descripcion:""})),D(0))},[]),_.useEffect(()=>{I||!B.campo_id||!V[B.campo_id]||(z(B.campo_id),M.current.getView().animate({center:ko([V[B.campo_id].lon,V[B.campo_id].lat]),duration:800,easing:Pr}))},[B.campo_id,I]),_.useEffect(()=>{const se=()=>s(!1);return window.addEventListener("closeForm",se),()=>window.removeEventListener("closeForm",se)},[]),_.useEffect(()=>{(async()=>{if(k(!1),!!B.campo_id)try{const ye=await A6(B.campo_id);T(ye),k(!0)}catch(ye){console.error("Error al cargar resumen de parcelas:",ye),k(!0)}})()},[B.campo_id]),_.useEffect(()=>{const se=()=>{w(!1),b(null)};return window.addEventListener("cerrarPopupResumen",se),()=>{window.removeEventListener("cerrarPopupResumen",se)}},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[B.parcela_id&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>w(se=>!se),className:`bg-white p-3 rounded-full shadow-md transition-colors ${S?"hover:bg-gray-100":"opacity-50 cursor-not-allowed"}`,disabled:!S,title:S?"Ver resumen":"Seleccioná una parcela primero",children:g.jsx(_i,{className:"w-6 h-6"})}),g.jsx("button",{onClick:lt,className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(YV,{className:"w-6 h-6"})})]}),g.jsx("button",{className:"bg-white p-3 rounded-full shadow-md transition-all duration-300",onClick:he,children:g.jsx(qV,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${i?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx(D6,{campos:V,formData:B,onChange:Dt})}),g.jsxs("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:[g.jsx(V6,{mode:Ve,isDeleteMode:t,onToggleDeleteMode:()=>{e(se=>!se),t?ae():ge()},onCancel:fe,onSave:Vn,showCancel:B.parcela_id!==""}),B.parcela_id===""&&i&&g.jsx(L6,{open:n,setOpen:r,onStart:j,onFinish:J,onUndo:L,onCancel:te,canFinish:re,closedBySnap:ie,firstVertexDraw:ce,finished:o})]}),g.jsx(b9,{visible:v,resumen:S,onClose:()=>w(!1)}),g.jsx(Zv,{isOpen:c,message:h,onClose:()=>d(!1)}),g.jsx(da,{isOpen:p,title:"Eliminar parcela",message:"Esta acción eliminará la parcela seleccionada. ¿Deseás continuar?",onCancel:()=>y(!1),onConfirm:$,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})}async function k9(t){const e=await fetch("/map/api/campos/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear campo")}return await e.json()}async function A9(t,e){const n=await fetch(`/map/api/campos/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar campo")}return await n.json()}async function M9(t){const e=await fetch(`/map/api/campos/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar el campo");return await e.json()}function uR(t){const e=new ir({geometry:new Tr(t)});e.setStyle(new an({image:new qm({src:"/dist/map_pin.svg",anchor:[.5,1],scale:1})}));const n=new Fs({features:[e]}),r=new ls({source:n,zIndex:1e3});return{feature:e,layer:r}}function I9(t){const e=document.createElement("div");e.className="ripple-effect",e.style.left=`${t.clientX}px`,e.style.top=`${t.clientY}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),600)}function N9(t){const e=_.useRef(null);return{colocarMarcadorGps:(s,o)=>{if(!t.current||!(s!=null&&s.coordinate))return;I9(s.originalEvent);const l=s.coordinate,[c,d]=DP(l);o(f=>({...f,lat:d,lon:c})),e.current&&t.current.removeLayer(e.current);const{layer:h}=uR(l);e.current=h,t.current.addLayer(h)},moverMarcadorGps:(s,o)=>{var p,y,v,w;if(!t.current)return;const l=Bm([s,o]),c=(v=(y=(p=e.current)==null?void 0:p.getSource())==null?void 0:y.getFeatures())==null?void 0:v[0],d=(w=c==null?void 0:c.getGeometry())==null?void 0:w.getCoordinates();if(d&&Math.abs(d[0]-l[0])<.001&&Math.abs(d[1]-l[1])<.001)return;e.current&&t.current.removeLayer(e.current);const{layer:f}=uR(l);e.current=f,t.current.addLayer(f)},limpiarMarcadorGps:()=>{e.current&&t.current&&(t.current.removeLayer(e.current),e.current=null)},markerLayerRef:e}}function F9(){const[t,e]=_.useState({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(""),{mapRef:h,ready:f}=_.useContext(Cd),{campoSeleccionado:p,setCampoSeleccionado:y,setLastCampoId:v}=_.useContext(Sd),{campos:w,parcelas:S,setFormData:b,setCampos:R,setParcelas:T,setAreaCampo:P,setAreaParcela:k}=ev(),{colocarMarcadorGps:M,moverMarcadorGps:F,limpiarMarcadorGps:I}=N9(h),{setFeaturesOnMap:z,clearParcelas:G}=qv({mapRef:h,parcelas:S,formData:t,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:e,setAreaCampo:P,setAreaParcela:k,enabled:!0,modoVisualizacionCampo:!0});Jv(()=>{I(),G()});const V=D=>{const{name:j,value:U}=D.target;if(j==="campo_id"&&U===""){p&&v(p),I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}if(j==="campo_id"){if(U===""){I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}const q=w[U];q&&(y(U),e({campo_id:U,nombre:q.nombre,descripcion:q.descripcion||"",lat:q.lat,lon:q.lon}),b(N=>({...N,campo_id:U,parcela_id:"",nombre:"",descripcion:""})),r(!0),h.current&&(h.current.getView().animate({center:ko([q.lon,q.lat]),duration:800,easing:Pr}),F(q.lon,q.lat)));return}e(q=>({...q,[j]:U}))},H=async()=>{const{campo_id:D,nombre:j,descripcion:U,lat:q,lon:N}=t;if(!j||!U||!q||!N){d("Todos los campos son obligatorios."),l(!0);return}try{D?await A9(D,{nombre:j,descripcion:U,lat:q,lon:N}):await k9({nombre:j,descripcion:U,lat:q,lon:N});const L=await Ia();R(L.campos),T(L.parcelas);const re=Object.entries(L.campos).find(([ie,ce])=>ce.nombre===j&&ce.lat===q&&ce.lon===N);if(re){const[ie,ce]=re;y(ie),e({campo_id:ie,nombre:ce.nombre,descripcion:ce.descripcion||"",lat:ce.lat,lon:ce.lon}),B(ce)}}catch(L){console.error("Error al guardar campo:",L)}},B=D=>{h.current&&(h.current.getView().animate({center:ko([D.lon,D.lat]),duration:800,easing:Pr}),F(D.lon,D.lat))},X=()=>s(!0),Z=async()=>{if(s(!1),!!t.campo_id)try{await M9(t.campo_id);const D=await Ia();R(D.campos),T(D.parcelas),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),I()}catch(D){console.error("Error al eliminar campo:",D)}};_.useEffect(()=>{!f||!t.campo_id||z()},[f,t.campo_id,S]),_.useEffect(()=>{t.lat&&t.lon&&f&&h.current&&F(t.lon,t.lat)},[t.lat,t.lon,f]),_.useEffect(()=>{if(!f||!h.current)return;const D=h.current,j=U=>M(U,e);return D.on("click",j),()=>D.un("click",j)},[f]),_.useEffect(()=>{if(p&&p!==t.campo_id&&w[p]){const D=w[p];e({campo_id:p,nombre:D.nombre,descripcion:D.descripcion||"",lat:D.lat,lon:D.lon}),f&&h.current&&F(D.lon,D.lat)}},[p]);const Y=()=>{r(D=>!D),n||window.dispatchEvent(new CustomEvent("closeCampoSelector"))};return _.useEffect(()=>{const D=()=>r(!1);return window.addEventListener("closeForm",D),()=>window.removeEventListener("closeForm",D)},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[t.campo_id&&g.jsx("button",{onClick:X,title:"Eliminar campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(t4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:Y,title:"Mostrar formulario",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(QV,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${n?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx(O6,{campos:w,formData:t,onChange:V})}),(n||t.campo_id!=="")&&g.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:g.jsx("button",{onClick:H,className:"bg-white p-3 rounded-full shadow-md",title:"Guardar campo",children:g.jsx(GT,{className:"w-6 h-6"})})}),g.jsx(da,{isOpen:i,title:"Eliminar campo",message:"Esta acción no se puede deshacer. ¿Deseás continuar?",onCancel:()=>s(!1),onConfirm:Z,confirmLabel:"Eliminar",cancelLabel:"Cancelar"}),g.jsx(Zv,{isOpen:o,message:c,onClose:()=>l(!1)})]})}async function j9(){const t=await fetch("/api/collares/");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener todos los collares.")}return await t.json()}async function L9(){const t=await fetch("/api/collares/available");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los collares disponibles.")}return await t.json()}async function D9(t){const e=await fetch(`/api/collares/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al eliminar collar.")}return await e.json()}const O9=async t=>{const e=await fetch("/api/collares/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear collares en lote.")}return e.json()},V9=async(t,e)=>{const n=await fetch(`/api/collares/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar collar.")}return n.json()},z9=async t=>{const e=await fetch(`/api/collares/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al obtener detalles del collar.")}return e.json()},dR=async(t,e)=>{const n=await fetch(`/api/collares/${t}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({animal_id:e})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al manejar la asignación del collar.")}return n.json()};async function $9(){const t=await fetch("/api/collares/estados");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los estados de collar.")}return await t.json()}async function IM(){const t=await fetch("/api/collares/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de collares.")}return t.blob()}async function B9(t,e={}){const n=new URLSearchParams({type:t});e.globalFilter&&n.append("globalFilter",e.globalFilter),e.ids&&e.ids.length>0&&n.append("ids",e.ids.join(","));const r=await fetch(`/api/collares/export?${n.toString()}`);if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al exportar collares.")}return r.blob()}async function G9(t){const e=new FormData;e.append("file",t);const n=await fetch("/api/collares/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar collares.")}return await n.json()}var Pd=t=>t.type==="checkbox",va=t=>t instanceof Date,cr=t=>t==null;const NM=t=>typeof t=="object";var fn=t=>!cr(t)&&!Array.isArray(t)&&NM(t)&&!va(t),FM=t=>fn(t)&&t.target?Pd(t.target)?t.target.checked:t.target.value:t,U9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,jM=(t,e)=>t.has(U9(e)),W9=t=>{const e=t.constructor&&t.constructor.prototype;return fn(e)&&e.hasOwnProperty("isPrototypeOf")},j_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(j_&&(t instanceof Blob||r))&&(n||fn(t)))if(e=n?[]:{},!n&&!W9(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Gn(t[i]));else return t;return e}var sg=t=>Array.isArray(t)?t.filter(Boolean):[],hn=t=>t===void 0,Ce=(t,e,n)=>{if(!e||!fn(t))return n;const r=sg(e.split(/[,[\].]+?/)).reduce((i,s)=>cr(i)?i:i[s],t);return hn(r)||r===t?hn(t[e])?n:t[e]:r},Dr=t=>typeof t=="boolean",L_=t=>/^\w*$/.test(t),LM=t=>sg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(t,e,n)=>{let r=-1;const i=L_(e)?[e]:LM(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=fn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const am={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},bi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ss={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DM=le.createContext(null),og=()=>le.useContext(DM),H9=t=>{const{children:e,...n}=t;return le.createElement(DM.Provider,{value:n},e)};var OM=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==bi.all&&(e._proxyFormState[o]=!r||bi.all),n&&(n[o]=!0),t[o]}});return i};const D_=typeof window<"u"?_.useLayoutEffect:_.useEffect;function X9(t){const e=og(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,l]=le.useState(n._formState),c=le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return D_(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,s]),le.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),le.useMemo(()=>OM(o,n,c.current,!1),[o,n])}var Qi=t=>typeof t=="string",VM=(t,e,n,r,i)=>Qi(t)?(r&&e.watch.add(t),Ce(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Ce(n,s))):(r&&(e.watchAll=!0),n);function K9(t){const e=og(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},l=le.useRef(i),[c,d]=le.useState(n._getWatch(r,l.current));return D_(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:h=>!s&&d(VM(r,n._names,h.values||n._formValues,!1,l.current))}),[r,n,s,o]),le.useEffect(()=>n._removeUnmounted()),c}function Y9(t){const e=og(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=jM(i._names.array,n),l=K9({control:i,name:n,defaultValue:Ce(i._formValues,n,Ce(i._defaultValues,n,t.defaultValue)),exact:!0}),c=X9({control:i,name:n,exact:!0}),d=le.useRef(t),h=le.useRef(i.register(n,{...t.rules,value:l,...Dr(t.disabled)?{disabled:t.disabled}:{}})),f=le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ce(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ce(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ce(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ce(c.errors,n)}}),[c,n]),p=le.useCallback(S=>h.current.onChange({target:{value:FM(S),name:n},type:am.CHANGE}),[n]),y=le.useCallback(()=>h.current.onBlur({target:{value:Ce(i._formValues,n),name:n},type:am.BLUR}),[n,i._formValues]),v=le.useCallback(S=>{const b=Ce(i._fields,n);b&&S&&(b._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:R=>S.setCustomValidity(R),reportValidity:()=>S.reportValidity()})},[i._fields,n]),w=le.useMemo(()=>({name:n,value:l,...Dr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p,onBlur:y,ref:v}),[n,r,c.disabled,p,y,v,l]);return le.useEffect(()=>{const S=i._options.shouldUnregister||s;i.register(n,{...d.current.rules,...Dr(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(R,T)=>{const P=Ce(i._fields,R);P&&P._f&&(P._f.mount=T)};if(b(n,!0),S){const R=Gn(Ce(i._options.defaultValues,n));kt(i._defaultValues,n,R),hn(Ce(i._formValues,n))&&kt(i._formValues,n,R)}return!o&&i.register(n),()=>{(o?S&&!i._state.action:S)?i.unregister(n):b(n,!1)}},[n,i,o,s]),le.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),le.useMemo(()=>({field:w,formState:c,fieldState:f}),[w,c,f])}const Z9=t=>t.render(Y9(t));var zM=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Mu=t=>Array.isArray(t)?t:[t],hR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},px=t=>cr(t)||!NM(t);function xo(t,e){if(px(t)||px(e))return t===e;if(va(t)&&va(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(va(s)&&va(o)||fn(s)&&fn(o)||Array.isArray(s)&&Array.isArray(o)?!xo(s,o):s!==o)return!1}}return!0}var Cr=t=>fn(t)&&!Object.keys(t).length,O_=t=>t.type==="file",Ei=t=>typeof t=="function",lm=t=>{if(!j_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},$M=t=>t.type==="select-multiple",V_=t=>t.type==="radio",q9=t=>V_(t)||Pd(t),e0=t=>lm(t)&&t.isConnected;function J9(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=hn(t)?r++:t[e[r++]];return t}function Q9(t){for(const e in t)if(t.hasOwnProperty(e)&&!hn(t[e]))return!1;return!0}function Rn(t,e){const n=Array.isArray(e)?e:L_(e)?[e]:LM(e),r=n.length===1?t:J9(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(fn(r)&&Cr(r)||Array.isArray(r)&&Q9(r))&&Rn(t,n.slice(0,-1)),t}var BM=t=>{for(const e in t)if(Ei(t[e]))return!0;return!1};function cm(t,e={}){const n=Array.isArray(t);if(fn(t)||n)for(const r in t)Array.isArray(t[r])||fn(t[r])&&!BM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},cm(t[r],e[r])):cr(t[r])||(e[r]=!0);return e}function GM(t,e,n){const r=Array.isArray(t);if(fn(t)||r)for(const i in t)Array.isArray(t[i])||fn(t[i])&&!BM(t[i])?hn(e)||px(n[i])?n[i]=Array.isArray(t[i])?cm(t[i],[]):{...cm(t[i])}:GM(t[i],cr(e)?{}:e[i],n[i]):n[i]=!xo(t[i],e[i]);return n}var du=(t,e)=>GM(t,e,cm(e));const fR={value:!1,isValid:!1},mR={value:!0,isValid:!0};var UM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!hn(t[0].attributes.value)?hn(t[0].value)||t[0].value===""?mR:{value:t[0].value,isValid:!0}:mR:fR}return fR},WM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>hn(t)?t:e?t===""?NaN:t&&+t:n&&Qi(t)?new Date(t):r?r(t):t;const gR={isValid:!1,value:null};var HM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,gR):gR;function pR(t){const e=t.ref;return O_(e)?e.files:V_(e)?HM(t.refs).value:$M(e)?[...e.selectedOptions].map(({value:n})=>n):Pd(e)?UM(t.refs).value:WM(hn(e.value)?t.ref.value:e.value,t)}var e7=(t,e,n,r)=>{const i={};for(const s of t){const o=Ce(e,s);o&&kt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},um=t=>t instanceof RegExp,hu=t=>hn(t)?t:um(t)?t.source:fn(t)?um(t.value)?t.value.source:t.value:t,yR=t=>({isOnSubmit:!t||t===bi.onSubmit,isOnBlur:t===bi.onBlur,isOnChange:t===bi.onChange,isOnAll:t===bi.all,isOnTouch:t===bi.onTouched});const xR="AsyncFunction";var t7=t=>!!t&&!!t.validate&&!!(Ei(t.validate)&&t.validate.constructor.name===xR||fn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===xR)),n7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),vR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Iu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Ce(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Iu(l,e))break}else if(fn(l)&&Iu(l,e))break}}};function _R(t,e,n){const r=Ce(t,n);if(r||L_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Ce(e,s),l=Ce(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var r7=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Cr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||bi.all))},i7=(t,e,n)=>!t||!e||t===e||Mu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),s7=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,o7=(t,e)=>!sg(Ce(t,e)).length&&Rn(t,e),a7=(t,e,n)=>{const r=Mu(Ce(t,n));return kt(r,"root",e[n]),kt(t,n,r),t},Nf=t=>Qi(t);function wR(t,e,n="validate"){if(Nf(t)||Array.isArray(t)&&t.every(Nf)||Dr(t)&&!t)return{type:n,message:Nf(t)?t:"",ref:e}}var _l=t=>fn(t)&&!um(t)?t:{value:t,message:""},CR=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:f,max:p,pattern:y,validate:v,name:w,valueAsNumber:S,mount:b}=t._f,R=Ce(n,w);if(!b||e.has(w))return{};const T=l?l[0]:o,P=H=>{i&&T.reportValidity&&(T.setCustomValidity(Dr(H)?"":H||""),T.reportValidity())},k={},M=V_(o),F=Pd(o),I=M||F,z=(S||O_(o))&&hn(o.value)&&hn(R)||lm(o)&&o.value===""||R===""||Array.isArray(R)&&!R.length,G=zM.bind(null,w,r,k),V=(H,B,X,Z=Ss.maxLength,Y=Ss.minLength)=>{const D=H?B:X;k[w]={type:H?Z:Y,message:D,ref:o,...G(H?Z:Y,D)}};if(s?!Array.isArray(R)||!R.length:c&&(!I&&(z||cr(R))||Dr(R)&&!R||F&&!UM(l).isValid||M&&!HM(l).isValid)){const{value:H,message:B}=Nf(c)?{value:!!c,message:c}:_l(c);if(H&&(k[w]={type:Ss.required,message:B,ref:T,...G(Ss.required,B)},!r))return P(B),k}if(!z&&(!cr(f)||!cr(p))){let H,B;const X=_l(p),Z=_l(f);if(!cr(R)&&!isNaN(R)){const Y=o.valueAsNumber||R&&+R;cr(X.value)||(H=Y>X.value),cr(Z.value)||(B=Y<Z.value)}else{const Y=o.valueAsDate||new Date(R),D=q=>new Date(new Date().toDateString()+" "+q),j=o.type=="time",U=o.type=="week";Qi(X.value)&&R&&(H=j?D(R)>D(X.value):U?R>X.value:Y>new Date(X.value)),Qi(Z.value)&&R&&(B=j?D(R)<D(Z.value):U?R<Z.value:Y<new Date(Z.value))}if((H||B)&&(V(!!H,X.message,Z.message,Ss.max,Ss.min),!r))return P(k[w].message),k}if((d||h)&&!z&&(Qi(R)||s&&Array.isArray(R))){const H=_l(d),B=_l(h),X=!cr(H.value)&&R.length>+H.value,Z=!cr(B.value)&&R.length<+B.value;if((X||Z)&&(V(X,H.message,B.message),!r))return P(k[w].message),k}if(y&&!z&&Qi(R)){const{value:H,message:B}=_l(y);if(um(H)&&!R.match(H)&&(k[w]={type:Ss.pattern,message:B,ref:o,...G(Ss.pattern,B)},!r))return P(B),k}if(v){if(Ei(v)){const H=await v(R,n),B=wR(H,T);if(B&&(k[w]={...B,...G(Ss.validate,B.message)},!r))return P(B.message),k}else if(fn(v)){let H={};for(const B in v){if(!Cr(H)&&!r)break;const X=wR(await v[B](R,n),T,B);X&&(H={...X,...G(B,X.message)},P(X.message),r&&(k[w]=H))}if(!Cr(H)&&(k[w]={ref:T,...H},!r))return k}}return P(!0),k};const l7={mode:bi.onSubmit,reValidateMode:bi.onChange,shouldFocusError:!0};function c7(t={}){let e={...l7,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ei(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=fn(e.defaultValues)||fn(e.values)?Gn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Gn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const p={array:hR(),state:hR()},y=e.criteriaMode===bi.all,v=$=>J=>{clearTimeout(d),d=setTimeout($,J)},w=async $=>{if(!e.disabled&&(h.isValid||f.isValid||$)){const J=e.resolver?Cr((await F()).errors):await z(r,!0);J!==n.isValid&&p.state.next({isValid:J})}},S=($,J)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(l.mount)).forEach(te=>{te&&(J?kt(n.validatingFields,te,J):Rn(n.validatingFields,te))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Cr(n.validatingFields)}))},b=($,J=[],te,fe,he=!0,se=!0)=>{if(fe&&te&&!e.disabled){if(o.action=!0,se&&Array.isArray(Ce(r,$))){const ye=te(Ce(r,$),fe.argA,fe.argB);he&&kt(r,$,ye)}if(se&&Array.isArray(Ce(n.errors,$))){const ye=te(Ce(n.errors,$),fe.argA,fe.argB);he&&kt(n.errors,$,ye),o7(n.errors,$)}if((h.touchedFields||f.touchedFields)&&se&&Array.isArray(Ce(n.touchedFields,$))){const ye=te(Ce(n.touchedFields,$),fe.argA,fe.argB);he&&kt(n.touchedFields,$,ye)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=du(i,s)),p.state.next({name:$,isDirty:V($,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kt(s,$,J)},R=($,J)=>{kt(n.errors,$,J),p.state.next({errors:n.errors})},T=$=>{n.errors=$,p.state.next({errors:n.errors,isValid:!1})},P=($,J,te,fe)=>{const he=Ce(r,$);if(he){const se=Ce(s,$,hn(te)?Ce(i,$):te);hn(se)||fe&&fe.defaultChecked||J?kt(s,$,J?se:pR(he._f)):X($,se),o.mount&&w()}},k=($,J,te,fe,he)=>{let se=!1,ye=!1;const je={name:$};if(!e.disabled){if(!te||fe){(h.isDirty||f.isDirty)&&(ye=n.isDirty,n.isDirty=je.isDirty=V(),se=ye!==je.isDirty);const ze=xo(Ce(i,$),J);ye=!!Ce(n.dirtyFields,$),ze?Rn(n.dirtyFields,$):kt(n.dirtyFields,$,!0),je.dirtyFields=n.dirtyFields,se=se||(h.dirtyFields||f.dirtyFields)&&ye!==!ze}if(te){const ze=Ce(n.touchedFields,$);ze||(kt(n.touchedFields,$,te),je.touchedFields=n.touchedFields,se=se||(h.touchedFields||f.touchedFields)&&ze!==te)}se&&he&&p.state.next(je)}return se?je:{}},M=($,J,te,fe)=>{const he=Ce(n.errors,$),se=(h.isValid||f.isValid)&&Dr(J)&&n.isValid!==J;if(e.delayError&&te?(c=v(()=>R($,te)),c(e.delayError)):(clearTimeout(d),c=null,te?kt(n.errors,$,te):Rn(n.errors,$)),(te?!xo(he,te):he)||!Cr(fe)||se){const ye={...fe,...se&&Dr(J)?{isValid:J}:{},errors:n.errors,name:$};n={...n,...ye},p.state.next(ye)}},F=async $=>{S($,!0);const J=await e.resolver(s,e.context,e7($||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S($),J},I=async $=>{const{errors:J}=await F($);if($)for(const te of $){const fe=Ce(J,te);fe?kt(n.errors,te,fe):Rn(n.errors,te)}else n.errors=J;return J},z=async($,J,te={valid:!0})=>{for(const fe in $){const he=$[fe];if(he){const{_f:se,...ye}=he;if(se){const je=l.array.has(se.name),ze=he._f&&t7(he._f);ze&&h.validatingFields&&S([fe],!0);const xt=await CR(he,l.disabled,s,y,e.shouldUseNativeValidation&&!J,je);if(ze&&h.validatingFields&&S([fe]),xt[se.name]&&(te.valid=!1,J))break;!J&&(Ce(xt,se.name)?je?a7(n.errors,xt,se.name):kt(n.errors,se.name,xt[se.name]):Rn(n.errors,se.name))}!Cr(ye)&&await z(ye,J,te)}}return te.valid},G=()=>{for(const $ of l.unMount){const J=Ce(r,$);J&&(J._f.refs?J._f.refs.every(te=>!e0(te)):!e0(J._f.ref))&&ae($)}l.unMount=new Set},V=($,J)=>!e.disabled&&($&&J&&kt(s,$,J),!xo(q(),i)),H=($,J,te)=>VM($,l,{...o.mount?s:hn(J)?i:Qi($)?{[$]:J}:J},te,J),B=$=>sg(Ce(o.mount?s:i,$,e.shouldUnregister?Ce(i,$,[]):[])),X=($,J,te={})=>{const fe=Ce(r,$);let he=J;if(fe){const se=fe._f;se&&(!se.disabled&&kt(s,$,WM(J,se)),he=lm(se.ref)&&cr(J)?"":J,$M(se.ref)?[...se.ref.options].forEach(ye=>ye.selected=he.includes(ye.value)):se.refs?Pd(se.ref)?se.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(he)?ye.checked=!!he.find(je=>je===ye.value):ye.checked=he===ye.value||!!he)}):se.refs.forEach(ye=>ye.checked=ye.value===he):O_(se.ref)?se.ref.value="":(se.ref.value=he,se.ref.type||p.state.next({name:$,values:Gn(s)})))}(te.shouldDirty||te.shouldTouch)&&k($,he,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&U($)},Z=($,J,te)=>{for(const fe in J){if(!J.hasOwnProperty(fe))return;const he=J[fe],se=$+"."+fe,ye=Ce(r,se);(l.array.has($)||fn(he)||ye&&!ye._f)&&!va(he)?Z(se,he,te):X(se,he,te)}},Y=($,J,te={})=>{const fe=Ce(r,$),he=l.array.has($),se=Gn(J);kt(s,$,se),he?(p.array.next({name:$,values:Gn(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&te.shouldDirty&&p.state.next({name:$,dirtyFields:du(i,s),isDirty:V($,se)})):fe&&!fe._f&&!cr(se)?Z($,se,te):X($,se,te),vR($,l)&&p.state.next({...n}),p.state.next({name:o.mount?$:void 0,values:Gn(s)})},D=async $=>{o.mount=!0;const J=$.target;let te=J.name,fe=!0;const he=Ce(r,te),se=ze=>{fe=Number.isNaN(ze)||va(ze)&&isNaN(ze.getTime())||xo(ze,Ce(s,te,ze))},ye=yR(e.mode),je=yR(e.reValidateMode);if(he){let ze,xt;const Ot=J.type?pR(he._f):FM($),ft=$.type===am.BLUR||$.type===am.FOCUS_OUT,zn=!n7(he._f)&&!e.resolver&&!Ce(n.errors,te)&&!he._f.deps||s7(ft,Ce(n.touchedFields,te),n.isSubmitted,je,ye),kr=vR(te,l,ft);kt(s,te,Ot),ft?(he._f.onBlur&&he._f.onBlur($),c&&c(0)):he._f.onChange&&he._f.onChange($);const Ar=k(te,Ot,ft),Ie=!Cr(Ar)||kr;if(!ft&&p.state.next({name:te,type:$.type,values:Gn(s)}),zn)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?ft&&w():ft||w()),Ie&&p.state.next({name:te,...kr?{}:Ar});if(!ft&&kr&&p.state.next({...n}),e.resolver){const{errors:ve}=await F([te]);if(se(Ot),fe){const vt=_R(n.errors,r,te),Ct=_R(ve,r,vt.name||te);ze=Ct.error,te=Ct.name,xt=Cr(ve)}}else S([te],!0),ze=(await CR(he,l.disabled,s,y,e.shouldUseNativeValidation))[te],S([te]),se(Ot),fe&&(ze?xt=!1:(h.isValid||f.isValid)&&(xt=await z(r,!0)));fe&&(he._f.deps&&U(he._f.deps),M(te,xt,ze,Ar))}},j=($,J)=>{if(Ce(n.errors,J)&&$.focus)return $.focus(),1},U=async($,J={})=>{let te,fe;const he=Mu($);if(e.resolver){const se=await I(hn($)?$:he);te=Cr(se),fe=$?!he.some(ye=>Ce(se,ye)):te}else $?(fe=(await Promise.all(he.map(async se=>{const ye=Ce(r,se);return await z(ye&&ye._f?{[se]:ye}:ye)}))).every(Boolean),!(!fe&&!n.isValid)&&w()):fe=te=await z(r);return p.state.next({...!Qi($)||(h.isValid||f.isValid)&&te!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:te}:{},errors:n.errors}),J.shouldFocus&&!fe&&Iu(r,j,$?he:l.mount),fe},q=$=>{const J={...o.mount?s:i};return hn($)?J:Qi($)?Ce(J,$):$.map(te=>Ce(J,te))},N=($,J)=>({invalid:!!Ce((J||n).errors,$),isDirty:!!Ce((J||n).dirtyFields,$),error:Ce((J||n).errors,$),isValidating:!!Ce(n.validatingFields,$),isTouched:!!Ce((J||n).touchedFields,$)}),L=$=>{$&&Mu($).forEach(J=>Rn(n.errors,J)),p.state.next({errors:$?n.errors:{}})},re=($,J,te)=>{const fe=(Ce(r,$,{_f:{}})._f||{}).ref,he=Ce(n.errors,$)||{},{ref:se,message:ye,type:je,...ze}=he;kt(n.errors,$,{...ze,...J,ref:fe}),p.state.next({name:$,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&fe&&fe.focus&&fe.focus()},ie=($,J)=>Ei($)?p.state.subscribe({next:te=>$(H(void 0,J),te)}):H($,J,!0),ce=$=>p.state.subscribe({next:J=>{i7($.name,J.name,$.exact)&&r7(J,$.formState||h,Dt,$.reRenderRoot)&&$.callback({values:{...s},...n,...J})}}).unsubscribe,ge=$=>(o.mount=!0,f={...f,...$.formState},ce({...$,formState:f})),ae=($,J={})=>{for(const te of $?Mu($):l.mount)l.mount.delete(te),l.array.delete(te),J.keepValue||(Rn(r,te),Rn(s,te)),!J.keepError&&Rn(n.errors,te),!J.keepDirty&&Rn(n.dirtyFields,te),!J.keepTouched&&Rn(n.touchedFields,te),!J.keepIsValidating&&Rn(n.validatingFields,te),!e.shouldUnregister&&!J.keepDefaultValue&&Rn(i,te);p.state.next({values:Gn(s)}),p.state.next({...n,...J.keepDirty?{isDirty:V()}:{}}),!J.keepIsValid&&w()},pe=({disabled:$,name:J})=>{(Dr($)&&o.mount||$||l.disabled.has(J))&&($?l.disabled.add(J):l.disabled.delete(J))},we=($,J={})=>{let te=Ce(r,$);const fe=Dr(J.disabled)||Dr(e.disabled);return kt(r,$,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:$}},name:$,mount:!0,...J}}),l.mount.add($),te?pe({disabled:Dr(J.disabled)?J.disabled:e.disabled,name:$}):P($,!0,J.value),{...fe?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:hu(J.min),max:hu(J.max),minLength:hu(J.minLength),maxLength:hu(J.maxLength),pattern:hu(J.pattern)}:{},name:$,onChange:D,onBlur:D,ref:he=>{if(he){we($,J),te=Ce(r,$);const se=hn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,ye=q9(se),je=te._f.refs||[];if(ye?je.find(ze=>ze===se):se===te._f.ref)return;kt(r,$,{_f:{...te._f,...ye?{refs:[...je.filter(e0),se,...Array.isArray(Ce(i,$))?[{}]:[]],ref:{type:se.type,name:$}}:{ref:se}}}),P($,!1,void 0,se)}else te=Ce(r,$,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(jM(l.array,$)&&o.action)&&l.unMount.add($)}}},be=()=>e.shouldFocusError&&Iu(r,j,l.mount),$e=$=>{Dr($)&&(p.state.next({disabled:$}),Iu(r,(J,te)=>{const fe=Ce(r,te);fe&&(J.disabled=fe._f.disabled||$,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(he=>{he.disabled=fe._f.disabled||$}))},0,!1))},Ve=($,J)=>async te=>{let fe;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let he=Gn(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:ye}=await F();n.errors=se,he=ye}else await z(r);if(l.disabled.size)for(const se of l.disabled)kt(he,se,void 0);if(Rn(n.errors,"root"),Cr(n.errors)){p.state.next({errors:{}});try{await $(he,te)}catch(se){fe=se}}else J&&await J({...n.errors},te),be(),setTimeout(be);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},yt=($,J={})=>{Ce(r,$)&&(hn(J.defaultValue)?Y($,Gn(Ce(i,$))):(Y($,J.defaultValue),kt(i,$,Gn(J.defaultValue))),J.keepTouched||Rn(n.touchedFields,$),J.keepDirty||(Rn(n.dirtyFields,$),n.isDirty=J.defaultValue?V($,Gn(Ce(i,$))):V()),J.keepError||(Rn(n.errors,$),h.isValid&&w()),p.state.next({...n}))},mt=($,J={})=>{const te=$?Gn($):i,fe=Gn(te),he=Cr($),se=he?i:fe;if(J.keepDefaultValues||(i=te),!J.keepValues){if(J.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(du(i,s))]);for(const je of Array.from(ye))Ce(n.dirtyFields,je)?kt(se,je,Ce(s,je)):Y(je,Ce(se,je))}else{if(j_&&hn($))for(const ye of l.mount){const je=Ce(r,ye);if(je&&je._f){const ze=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(lm(ze)){const xt=ze.closest("form");if(xt){xt.reset();break}}}}for(const ye of l.mount)Y(ye,Ce(se,ye))}s=Gn(se),p.array.next({values:{...se}}),p.state.next({values:{...se}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:he?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!xo($,i)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:J.keepDirtyValues?J.keepDefaultValues&&s?du(i,s):n.dirtyFields:J.keepDefaultValues&&$?du(i,$):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ut=($,J)=>mt(Ei($)?$(s):$,J),Lt=($,J={})=>{const te=Ce(r,$),fe=te&&te._f;if(fe){const he=fe.refs?fe.refs[0]:fe.ref;he.focus&&(he.focus(),J.shouldSelect&&Ei(he.select)&&he.select())}},Dt=$=>{n={...n,...$}},lt={control:{register:we,unregister:ae,getFieldState:N,handleSubmit:Ve,setError:re,_subscribe:ce,_runSchema:F,_focusError:be,_getWatch:H,_getDirty:V,_setValid:w,_setFieldArray:b,_setDisabledField:pe,_setErrors:T,_getFieldArray:B,_reset:mt,_resetDefaultValues:()=>Ei(e.defaultValues)&&e.defaultValues().then($=>{Ut($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:$e,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:ge,trigger:U,register:we,handleSubmit:Ve,watch:ie,setValue:Y,getValues:q,reset:Ut,resetField:yt,clearErrors:L,unregister:ae,setError:re,setFocus:Lt,getFieldState:N};return{...lt,formControl:lt}}function z_(t={}){const e=le.useRef(void 0),n=le.useRef(void 0),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:Ei(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ei(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:c7(t),formState:r},t.formControl&&t.defaultValues&&!Ei(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,D_(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),le.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),le.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),le.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),le.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),le.useEffect(()=>{t.values&&!xo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),le.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=OM(r,s),e.current}const SR=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ce(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},XM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?SR(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>SR(i,n,t))}},u7=(t,e)=>{e.shouldUseNativeValidation&&XM(t,e);const n={};for(const r in t){const i=Ce(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(d7(e.names||Object.keys(t),r)){const o=Object.assign({},Ce(n,r));kt(o,"root",s),kt(n,r,o)}else kt(n,r,s)}return n},d7=(t,e)=>{const n=bR(e);return t.some(r=>bR(r).match(`^${n}\\.\\d+`))};function bR(t){return t.replace(/\]|\[/g,"")}function h7(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=zM(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function $_(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&XM({},s),{errors:{},values:n.raw?Object.assign({},r):d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:u7(h7(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}}var Rt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Rt||(Rt={}));var ER;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ER||(ER={}));const Fe=Rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yo=t=>{switch(typeof t){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(t)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(t)?Fe.array:t===null?Fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Fe.promise:typeof Map<"u"&&t instanceof Map?Fe.map:typeof Set<"u"&&t instanceof Set?Fe.set:typeof Date<"u"&&t instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},_e=Rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ds extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Ds))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ds.create=t=>new Ds(t);const yx=(t,e)=>{let n;switch(t.code){case _e.invalid_type:t.received===Fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case _e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Rt.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:n=`Unrecognized key(s) in object: ${Rt.joinValues(t.keys,", ")}`;break;case _e.invalid_union:n="Invalid input";break;case _e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Rt.joinValues(t.options)}`;break;case _e.invalid_enum_value:n=`Invalid enum value. Expected ${Rt.joinValues(t.options)}, received '${t.received}'`;break;case _e.invalid_arguments:n="Invalid function arguments";break;case _e.invalid_return_type:n="Invalid function return type";break;case _e.invalid_date:n="Invalid date";break;case _e.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Rt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case _e.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case _e.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case _e.custom:n="Invalid input";break;case _e.invalid_intersection_types:n="Intersection results could not be merged";break;case _e.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case _e.not_finite:n="Number must be finite";break;default:n=e.defaultError,Rt.assertNever(t)}return{message:n}};let f7=yx;function m7(){return f7}const g7=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Re(t,e){const n=m7(),r=g7({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===yx?void 0:yx].filter(i=>!!i)});t.common.issues.push(r)}class Wr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return nt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Wr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return nt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const nt=Object.freeze({status:"aborted"}),yu=t=>({status:"dirty",value:t}),si=t=>({status:"valid",value:t}),RR=t=>t.status==="aborted",TR=t=>t.status==="dirty",Zl=t=>t.status==="valid",dm=t=>typeof Promise<"u"&&t instanceof Promise;var De;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(De||(De={}));class Io{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PR=(t,e)=>{if(Zl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ds(t.common.issues);return this._error=n,this._error}}};function dt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class wt{get description(){return this._def.description}_getType(e){return yo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:yo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Wr,ctx:{common:e.parent.common,data:e.data,parsedType:yo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(dm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yo(e)},i=this._parseSync({data:e,path:r.path,parent:r});return PR(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Zl(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Zl(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yo(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(dm(i)?i:Promise.resolve(i));return PR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:_e.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ql({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return bo.create(this,this._def)}nullable(){return ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ss.create(this)}promise(){return gm.create(this,this._def)}or(e){return fm.create([this,e],this._def)}and(e){return mm.create(this,e,this._def)}transform(e){return new Ql({...dt(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Cx({...dt(this._def),innerType:this,defaultValue:n,typeName:rt.ZodDefault})}brand(){return new O7({typeName:rt.ZodBranded,type:this,...dt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Sx({...dt(this._def),innerType:this,catchValue:n,typeName:rt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return B_.create(this,e)}readonly(){return bx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const p7=/^c[^\s-]{8,}$/i,y7=/^[0-9a-z]+$/,x7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,v7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_7=/^[a-z0-9_-]{21}$/i,w7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,C7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,S7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,b7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let t0;const E7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,R7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,T7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,P7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,k7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,A7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,KM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",M7=new RegExp(`^${KM}$`);function YM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function I7(t){return new RegExp(`^${YM(t)}$`)}function N7(t){let e=`${KM}T${YM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function F7(t,e){return!!((e==="v4"||!e)&&E7.test(t)||(e==="v6"||!e)&&T7.test(t))}function j7(t,e){if(!w7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function L7(t,e){return!!((e==="v4"||!e)&&R7.test(t)||(e==="v6"||!e)&&P7.test(t))}class ks extends wt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.string,received:s.parsedType}),nt}const r=new Wr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Re(i,{code:_e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Re(i,{code:_e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")S7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"email",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")t0||(t0=new RegExp(b7,"u")),t0.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"emoji",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")v7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"uuid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")_7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"nanoid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")p7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cuid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")y7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cuid2",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")x7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"ulid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Re(i,{validation:"url",code:_e.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"regex",code:_e.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?N7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?M7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?I7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?C7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"duration",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?F7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"ip",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?j7(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"jwt",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?L7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cidr",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?k7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"base64",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?A7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"base64url",code:_e.invalid_string,message:s.message}),r.dirty()):Rt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:_e.invalid_string,...De.errToObj(r)})}_addCheck(e){return new ks({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...De.errToObj(e)})}url(e){return this._addCheck({kind:"url",...De.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...De.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...De.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...De.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...De.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...De.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...De.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...De.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...De.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...De.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...De.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...De.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...De.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...De.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...De.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...De.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...De.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...De.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...De.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...De.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...De.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...De.errToObj(n)})}nonempty(e){return this.min(1,De.errToObj(e))}trim(){return new ks({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ks({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ks({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ks.create=t=>new ks({checks:[],typeName:rt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...dt(t)});function D7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Na extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.number,received:s.parsedType}),nt}let r;const i=new Wr;for(const s of this._def.checks)s.kind==="int"?Rt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?D7(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_finite,message:s.message}),i.dirty()):Rt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,i){return new Na({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(i)}]})}_addCheck(e){return new Na({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:De.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:De.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Rt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Na.create=t=>new Na({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class Fa extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let r;const i=new Wr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Rt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Re(n,{code:_e.invalid_type,expected:Fe.bigint,received:n.parsedType}),nt}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,i){return new Fa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(i)}]})}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fa.create=t=>new Fa({checks:[],typeName:rt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...dt(t)});class hm extends wt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.boolean,received:r.parsedType}),nt}return si(e.data)}}hm.create=t=>new hm({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class ql extends wt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.date,received:s.parsedType}),nt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_date}),nt}const r=new Wr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Rt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ql({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:De.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:De.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ql.create=t=>new ql({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...dt(t)});class kR extends wt{_parse(e){if(this._getType(e)!==Fe.symbol){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.symbol,received:r.parsedType}),nt}return si(e.data)}}kR.create=t=>new kR({typeName:rt.ZodSymbol,...dt(t)});class xx extends wt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.undefined,received:r.parsedType}),nt}return si(e.data)}}xx.create=t=>new xx({typeName:rt.ZodUndefined,...dt(t)});class vx extends wt{_parse(e){if(this._getType(e)!==Fe.null){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.null,received:r.parsedType}),nt}return si(e.data)}}vx.create=t=>new vx({typeName:rt.ZodNull,...dt(t)});class AR extends wt{constructor(){super(...arguments),this._any=!0}_parse(e){return si(e.data)}}AR.create=t=>new AR({typeName:rt.ZodAny,...dt(t)});class MR extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return si(e.data)}}MR.create=t=>new MR({typeName:rt.ZodUnknown,...dt(t)});class No extends wt{_parse(e){const n=this._getOrReturnCtx(e);return Re(n,{code:_e.invalid_type,expected:Fe.never,received:n.parsedType}),nt}}No.create=t=>new No({typeName:rt.ZodNever,...dt(t)});class IR extends wt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.void,received:r.parsedType}),nt}return si(e.data)}}IR.create=t=>new IR({typeName:rt.ZodVoid,...dt(t)});class ss extends wt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Fe.array)return Re(n,{code:_e.invalid_type,expected:Fe.array,received:n.parsedType}),nt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Re(n,{code:o?_e.too_big:_e.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Re(n,{code:_e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Re(n,{code:_e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Io(n,o,n.path,l)))).then(o=>Wr.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new Io(n,o,n.path,l)));return Wr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new ss({...this._def,minLength:{value:e,message:De.toString(n)}})}max(e,n){return new ss({...this._def,maxLength:{value:e,message:De.toString(n)}})}length(e,n){return new ss({...this._def,exactLength:{value:e,message:De.toString(n)}})}nonempty(e){return this.min(1,e)}}ss.create=(t,e)=>new ss({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...dt(e)});function Ml(t){if(t instanceof vn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=bo.create(Ml(r))}return new vn({...t._def,shape:()=>e})}else return t instanceof ss?new ss({...t._def,type:Ml(t.element)}):t instanceof bo?bo.create(Ml(t.unwrap())):t instanceof ec?ec.create(Ml(t.unwrap())):t instanceof ja?ja.create(t.items.map(e=>Ml(e))):t}class vn extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Rt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Fe.object){const d=this._getOrReturnCtx(e);return Re(d,{code:_e.invalid_type,expected:Fe.object,received:d.parsedType}),nt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof No&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=s[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Io(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof No){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Re(i,{code:_e.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Io(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,p=await h.value;d.push({key:f,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Wr.mergeObjectSync(r,d)):Wr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return De.errToObj,new vn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:De.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new vn({...this._def,unknownKeys:"strip"})}passthrough(){return new vn({...this._def,unknownKeys:"passthrough"})}extend(e){return new vn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new vn({...this._def,catchall:e})}pick(e){const n={};for(const r of Rt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new vn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Rt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new vn({...this._def,shape:()=>n})}deepPartial(){return Ml(this)}partial(e){const n={};for(const r of Rt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new vn({...this._def,shape:()=>n})}required(e){const n={};for(const r of Rt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof bo;)s=s._def.innerType;n[r]=s}return new vn({...this._def,shape:()=>n})}keyof(){return ZM(Rt.objectKeys(this.shape))}}vn.create=(t,e)=>new vn({shape:()=>t,unknownKeys:"strip",catchall:No.create(),typeName:rt.ZodObject,...dt(e)});vn.strictCreate=(t,e)=>new vn({shape:()=>t,unknownKeys:"strict",catchall:No.create(),typeName:rt.ZodObject,...dt(e)});vn.lazycreate=(t,e)=>new vn({shape:t,unknownKeys:"strip",catchall:No.create(),typeName:rt.ZodObject,...dt(e)});class fm extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Ds(l.ctx.common.issues));return Re(n,{code:_e.invalid_union,unionErrors:o}),nt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Ds(c));return Re(n,{code:_e.invalid_union,unionErrors:l}),nt}}get options(){return this._def.options}}fm.create=(t,e)=>new fm({options:t,typeName:rt.ZodUnion,...dt(e)});function _x(t,e){const n=yo(t),r=yo(e);if(t===e)return{valid:!0,data:t};if(n===Fe.object&&r===Fe.object){const i=Rt.objectKeys(e),s=Rt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=_x(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Fe.array&&r===Fe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=_x(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Fe.date&&r===Fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class mm extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(RR(s)||RR(o))return nt;const l=_x(s.value,o.value);return l.valid?((TR(s)||TR(o))&&n.dirty(),{status:n.value,value:l.data}):(Re(r,{code:_e.invalid_intersection_types}),nt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}mm.create=(t,e,n)=>new mm({left:t,right:e,typeName:rt.ZodIntersection,...dt(n)});class ja extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.array)return Re(r,{code:_e.invalid_type,expected:Fe.array,received:r.parsedType}),nt;if(r.data.length<this._def.items.length)return Re(r,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&r.data.length>this._def.items.length&&(Re(r,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Io(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Wr.mergeArray(n,o)):Wr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ja({...this._def,rest:e})}}ja.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ja({items:t,typeName:rt.ZodTuple,rest:null,...dt(e)})};class NR extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.map)return Re(r,{code:_e.invalid_type,expected:Fe.map,received:r.parsedType}),nt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Io(r,l,r.path,[d,"key"])),value:s._parse(new Io(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return nt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return nt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}NR.create=(t,e,n)=>new NR({valueType:e,keyType:t,typeName:rt.ZodMap,...dt(n)});class rd extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.set)return Re(r,{code:_e.invalid_type,expected:Fe.set,received:r.parsedType}),nt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Re(r,{code:_e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Re(r,{code:_e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return nt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>s._parse(new Io(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new rd({...this._def,minSize:{value:e,message:De.toString(n)}})}max(e,n){return new rd({...this._def,maxSize:{value:e,message:De.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}rd.create=(t,e)=>new rd({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...dt(e)});class FR extends wt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}FR.create=(t,e)=>new FR({getter:t,typeName:rt.ZodLazy,...dt(e)});class wx extends wt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Re(n,{received:n.data,code:_e.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:e.data}}get value(){return this._def.value}}wx.create=(t,e)=>new wx({value:t,typeName:rt.ZodLiteral,...dt(e)});function ZM(t,e){return new Jl({values:t,typeName:rt.ZodEnum,...dt(e)})}class Jl extends wt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{expected:Rt.joinValues(r),received:n.parsedType,code:_e.invalid_type}),nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{received:n.data,code:_e.invalid_enum_value,options:r}),nt}return si(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Jl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Jl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Jl.create=ZM;class jR extends wt{_parse(e){const n=Rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const i=Rt.objectValues(n);return Re(r,{expected:Rt.joinValues(i),received:r.parsedType,code:_e.invalid_type}),nt}if(this._cache||(this._cache=new Set(Rt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Rt.objectValues(n);return Re(r,{received:r.data,code:_e.invalid_enum_value,options:i}),nt}return si(e.data)}get enum(){return this._def.values}}jR.create=(t,e)=>new jR({values:t,typeName:rt.ZodNativeEnum,...dt(e)});class gm extends wt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Re(n,{code:_e.invalid_type,expected:Fe.promise,received:n.parsedType}),nt;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return si(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}gm.create=(t,e)=>new gm({type:t,typeName:rt.ZodPromise,...dt(e)});class Ql extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Re(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return nt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?nt:c.status==="dirty"||n.value==="dirty"?yu(c.value):c});{if(n.value==="aborted")return nt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?nt:l.status==="dirty"||n.value==="dirty"?yu(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?nt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?nt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Zl(o))return nt;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Zl(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):nt);Rt.assertNever(i)}}Ql.create=(t,e,n)=>new Ql({schema:t,typeName:rt.ZodEffects,effect:e,...dt(n)});Ql.createWithPreprocess=(t,e,n)=>new Ql({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...dt(n)});class bo extends wt{_parse(e){return this._getType(e)===Fe.undefined?si(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bo.create=(t,e)=>new bo({innerType:t,typeName:rt.ZodOptional,...dt(e)});class ec extends wt{_parse(e){return this._getType(e)===Fe.null?si(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ec.create=(t,e)=>new ec({innerType:t,typeName:rt.ZodNullable,...dt(e)});class Cx extends wt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cx.create=(t,e)=>new Cx({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dt(e)});class Sx extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return dm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ds(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ds(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Sx.create=(t,e)=>new Sx({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dt(e)});class LR extends wt{_parse(e){if(this._getType(e)!==Fe.nan){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.nan,received:r.parsedType}),nt}return{status:"valid",value:e.data}}}LR.create=t=>new LR({typeName:rt.ZodNaN,...dt(t)});class O7 extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class B_ extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?nt:s.status==="dirty"?(n.dirty(),yu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?nt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new B_({in:e,out:n,typeName:rt.ZodPipeline})}}class bx extends wt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Zl(i)&&(i.value=Object.freeze(i.value)),i);return dm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}bx.create=(t,e)=>new bx({innerType:t,typeName:rt.ZodReadonly,...dt(e)});var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const Zi=ks.create,qM=Na.create;Fa.create;hm.create;ql.create;const V7=xx.create,z7=vx.create;No.create;ss.create;const G_=vn.create,$7=fm.create;mm.create;ja.create;const B7=wx.create;Jl.create;gm.create;bo.create;ec.create;const Qn={string:t=>ks.create({...t,coerce:!0}),number:t=>Na.create({...t,coerce:!0}),boolean:t=>hm.create({...t,coerce:!0}),bigint:t=>Fa.create({...t,coerce:!0}),date:t=>ql.create({...t,coerce:!0})};function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function G7(t,e){const n=_.createContext(e),r=s=>{const{children:o,...l}=s,c=_.useMemo(()=>l,Object.values(l));return g.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=_.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Oi(t,e=[]){let n=[];function r(s,o){const l=_.createContext(o),c=n.length;n=[...n,o];const d=f=>{var b;const{scope:p,children:y,...v}=f,w=((b=p==null?void 0:p[t])==null?void 0:b[c])||l,S=_.useMemo(()=>v,Object.values(v));return g.jsx(w.Provider,{value:S,children:y})};d.displayName=s+"Provider";function h(f,p){var w;const y=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,v=_.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,U7(i,...e)]}function U7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function U_(t){const e=t+"CollectionProvider",[n,r]=Oi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:S,children:b}=w,R=le.useRef(null),T=le.useRef(new Map).current;return g.jsx(i,{scope:S,itemMap:T,collectionRef:R,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=Ma(l),d=le.forwardRef((w,S)=>{const{scope:b,children:R}=w,T=s(l,b),P=ht(S,T.collectionRef);return g.jsx(c,{ref:P,children:R})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ma(h),y=le.forwardRef((w,S)=>{const{scope:b,children:R,...T}=w,P=le.useRef(null),k=ht(S,P),M=s(h,b);return le.useEffect(()=>(M.itemMap.set(P,{ref:P,...T}),()=>void M.itemMap.delete(P))),g.jsx(p,{[f]:"",ref:k,children:R})});y.displayName=h;function v(w){const S=s(t+"CollectionConsumer",w);return le.useCallback(()=>{const R=S.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((M,F)=>T.indexOf(M.ref.current)-T.indexOf(F.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},v,r]}var Hn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},W7=mT[" useId ".trim().toString()]||(()=>{}),H7=0;function Ti(t){const[e,n]=_.useState(W7());return Hn(()=>{n(r=>r??String(H7++))},[t]),e?`radix-${e}`:""}var X7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=X7.reduce((t,e)=>{const n=Ma(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function JM(t,e){t&&za.flushSync(()=>t.dispatchEvent(e))}function Wn(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var K7=mT[" useInsertionEffect ".trim().toString()]||Hn;function Fo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Y7({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=_.useCallback(h=>{var f;if(l){const p=Z7(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else s(h)},[l,t,s,o]);return[c,d]}function Y7({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),s=_.useRef(e);return K7(()=>{s.current=e},[e]),_.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Z7(t){return typeof t=="function"}var q7=_.createContext(void 0);function kd(t){const e=_.useContext(q7);return t||e||"ltr"}var n0="rovingFocusGroup.onEntryFocus",J7={bubbles:!1,cancelable:!0},Ad="RovingFocusGroup",[Ex,QM,Q7]=U_(Ad),[eX,ag]=Oi(Ad,[Q7]),[tX,nX]=eX(Ad),eI=_.forwardRef((t,e)=>g.jsx(Ex.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Ex.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(rX,{...t,ref:e})})}));eI.displayName=Ad;var rX=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=_.useRef(null),y=ht(e,p),v=kd(s),[w,S]=Fo({prop:o,defaultProp:l??null,onChange:c,caller:Ad}),[b,R]=_.useState(!1),T=Wn(d),P=QM(n),k=_.useRef(!1),[M,F]=_.useState(0);return _.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(n0,T),()=>I.removeEventListener(n0,T)},[T]),g.jsx(tX,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:w,onItemFocus:_.useCallback(I=>S(I),[S]),onItemShiftTab:_.useCallback(()=>R(!0),[]),onFocusableItemAdd:_.useCallback(()=>F(I=>I+1),[]),onFocusableItemRemove:_.useCallback(()=>F(I=>I-1),[]),children:g.jsx(qe.div,{tabIndex:b||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{k.current=!0}),onFocus:Se(t.onFocus,I=>{const z=!k.current;if(I.target===I.currentTarget&&z&&!b){const G=new CustomEvent(n0,J7);if(I.currentTarget.dispatchEvent(G),!G.defaultPrevented){const V=P().filter(Y=>Y.focusable),H=V.find(Y=>Y.active),B=V.find(Y=>Y.id===w),Z=[H,B,...V].filter(Boolean).map(Y=>Y.ref.current);rI(Z,h)}}k.current=!1}),onBlur:Se(t.onBlur,()=>R(!1))})})}),tI="RovingFocusGroupItem",nI=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=Ti(),d=s||c,h=nX(tI,n),f=h.currentTabStopId===d,p=QM(n),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:w}=h;return _.useEffect(()=>{if(r)return y(),()=>v()},[r,y,v]),g.jsx(Ex.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:g.jsx(qe.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Se(t.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:Se(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Se(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const b=oX(S,h.orientation,h.dir);if(b!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=p().filter(P=>P.focusable).map(P=>P.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const P=T.indexOf(S.currentTarget);T=h.loop?aX(T,P+1):T.slice(P+1)}setTimeout(()=>rI(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});nI.displayName=tI;var iX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function oX(t,e,n){const r=sX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iX[r]}function rI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function aX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iI=eI,sI=nI;function lX(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var fr=t=>{const{present:e,children:n}=t,r=cX(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=ht(r.ref,uX(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};fr.displayName="Presence";function cX(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),o=t?"mounted":"unmounted",[l,c]=lX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=df(r.current);s.current=l==="mounted"?d:"none"},[l]),Hn(()=>{const d=r.current,h=i.current;if(h!==t){const p=s.current,y=df(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Hn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const w=df(r.current).includes(y.animationName);if(y.target===e&&w&&(c("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=y=>{y.target===e&&(s.current=df(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function df(t){return(t==null?void 0:t.animationName)||"none"}function uX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lg="Tabs",[dX,Hee]=Oi(lg,[ag]),oI=ag(),[hX,W_]=dX(lg),aI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=kd(l),[f,p]=Fo({prop:r,onChange:i,defaultProp:s??"",caller:lg});return g.jsx(hX,{scope:n,baseId:Ti(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:g.jsx(qe.div,{dir:h,"data-orientation":o,...d,ref:e})})});aI.displayName=lg;var lI="TabsList",cI=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=W_(lI,n),o=oI(n);return g.jsx(iI,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(qe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});cI.displayName=lI;var uI="TabsTrigger",dI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=W_(uI,n),l=oI(n),c=mI(o.baseId,r),d=gI(o.baseId,r),h=r===o.value;return g.jsx(sI,{asChild:!0,...l,focusable:!i,active:h,children:g.jsx(qe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Se(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Se(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Se(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!i&&f&&o.onValueChange(r)})})})});dI.displayName=uI;var hI="TabsContent",fI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=W_(hI,n),c=mI(l.baseId,r),d=gI(l.baseId,r),h=r===l.value,f=_.useRef(h);return _.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(fr,{present:i||h,children:({present:p})=>g.jsx(qe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});fI.displayName=hI;function mI(t,e){return`${t}-trigger-${e}`}function gI(t,e){return`${t}-content-${e}`}var fX=aI,pI=cI,yI=dI,xI=fI;const mX=fX,vI=_.forwardRef(({className:t,...e},n)=>g.jsx(pI,{ref:n,className:Oe("inline-flex h-9 items-center justify-center rounded-xl bg-muted p-1 text-muted-foreground",t),...e}));vI.displayName=pI.displayName;const Ff=_.forwardRef(({className:t,...e},n)=>g.jsx(yI,{ref:n,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-xl px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Ff.displayName=yI.displayName;const jf=_.forwardRef(({className:t,...e},n)=>g.jsx(xI,{ref:n,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jf.displayName=xI.displayName;function Rx(t,[e,n]){return Math.min(n,Math.max(e,t))}function gX(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var pX="DismissableLayer",Tx="dismissableLayer.update",yX="dismissableLayer.pointerDownOutside",xX="dismissableLayer.focusOutside",DR,_I=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Md=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=_.useContext(_I),[h,f]=_.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),v=ht(e,F=>f(F)),w=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(S),R=h?w.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,P=R>=b,k=wX(F=>{const I=F.target,z=[...d.branches].some(G=>G.contains(I));!P||z||(i==null||i(F),o==null||o(F),F.defaultPrevented||l==null||l())},p),M=CX(F=>{const I=F.target;[...d.branches].some(G=>G.contains(I))||(s==null||s(F),o==null||o(F),F.defaultPrevented||l==null||l())},p);return gX(F=>{R===d.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},p),_.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(DR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),OR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=DR)}},[h,p,n,d]),_.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),OR())},[h,d]),_.useEffect(()=>{const F=()=>y({});return document.addEventListener(Tx,F),()=>document.removeEventListener(Tx,F)},[]),g.jsx(qe.div,{...c,ref:v,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,k.onPointerDownCapture)})});Md.displayName=pX;var vX="DismissableLayerBranch",_X=_.forwardRef((t,e)=>{const n=_.useContext(_I),r=_.useRef(null),i=ht(e,r);return _.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(qe.div,{...t,ref:i})});_X.displayName=vX;function wX(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){wI(yX,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function CX(t,e=globalThis==null?void 0:globalThis.document){const n=Wn(t),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&wI(xX,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OR(){const t=new CustomEvent(Tx);document.dispatchEvent(t)}function wI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?JM(i,s):i.dispatchEvent(s)}var r0=0;function H_(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VR()),document.body.insertAdjacentElement("beforeend",t[1]??VR()),r0++,()=>{r0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),r0--}},[])}function VR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var i0="focusScope.autoFocusOnMount",s0="focusScope.autoFocusOnUnmount",zR={bubbles:!1,cancelable:!0},SX="FocusScope",cg=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=_.useState(null),d=Wn(i),h=Wn(s),f=_.useRef(null),p=ht(e,w=>c(w)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let w=function(T){if(y.paused||!l)return;const P=T.target;l.contains(P)?f.current=P:go(f.current,{select:!0})},S=function(T){if(y.paused||!l)return;const P=T.relatedTarget;P!==null&&(l.contains(P)||go(f.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&go(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const R=new MutationObserver(b);return l&&R.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),R.disconnect()}}},[r,l,y.paused]),_.useEffect(()=>{if(l){BR.add(y);const w=document.activeElement;if(!l.contains(w)){const b=new CustomEvent(i0,zR);l.addEventListener(i0,d),l.dispatchEvent(b),b.defaultPrevented||(bX(kX(CI(l)),{select:!0}),document.activeElement===w&&go(l))}return()=>{l.removeEventListener(i0,d),setTimeout(()=>{const b=new CustomEvent(s0,zR);l.addEventListener(s0,h),l.dispatchEvent(b),b.defaultPrevented||go(w??document.body,{select:!0}),l.removeEventListener(s0,h),BR.remove(y)},0)}}},[l,d,h,y]);const v=_.useCallback(w=>{if(!n&&!r||y.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(S&&b){const R=w.currentTarget,[T,P]=EX(R);T&&P?!w.shiftKey&&b===P?(w.preventDefault(),n&&go(T,{select:!0})):w.shiftKey&&b===T&&(w.preventDefault(),n&&go(P,{select:!0})):b===R&&w.preventDefault()}},[n,r,y.paused]);return g.jsx(qe.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});cg.displayName=SX;function bX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(go(r,{select:e}),document.activeElement!==n)return}function EX(t){const e=CI(t),n=$R(e,t),r=$R(e.reverse(),t);return[n,r]}function CI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $R(t,e){for(const n of t)if(!RX(n,{upTo:e}))return n}function RX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function TX(t){return t instanceof HTMLInputElement&&"select"in t}function go(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&TX(t)&&e&&t.select()}}var BR=PX();function PX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=GR(t,e),t.unshift(e)},remove(e){var n;t=GR(t,e),(n=t[0])==null||n.resume()}}}function GR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kX(t){return t.filter(e=>e.tagName!=="A")}const AX=["top","right","bottom","left"],jo=Math.min,zr=Math.max,pm=Math.round,hf=Math.floor,os=t=>({x:t,y:t}),MX={left:"right",right:"left",bottom:"top",top:"bottom"},IX={start:"end",end:"start"};function Px(t,e,n){return zr(t,jo(e,n))}function Os(t,e){return typeof t=="function"?t(e):t}function Vs(t){return t.split("-")[0]}function xc(t){return t.split("-")[1]}function X_(t){return t==="x"?"y":"x"}function K_(t){return t==="y"?"height":"width"}const NX=new Set(["top","bottom"]);function es(t){return NX.has(Vs(t))?"y":"x"}function Y_(t){return X_(es(t))}function FX(t,e,n){n===void 0&&(n=!1);const r=xc(t),i=Y_(t),s=K_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ym(o)),[o,ym(o)]}function jX(t){const e=ym(t);return[kx(t),e,kx(e)]}function kx(t){return t.replace(/start|end/g,e=>IX[e])}const UR=["left","right"],WR=["right","left"],LX=["top","bottom"],DX=["bottom","top"];function OX(t,e,n){switch(t){case"top":case"bottom":return n?e?WR:UR:e?UR:WR;case"left":case"right":return e?LX:DX;default:return[]}}function VX(t,e,n,r){const i=xc(t);let s=OX(Vs(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(kx)))),s}function ym(t){return t.replace(/left|right|bottom|top/g,e=>MX[e])}function zX(t){return{top:0,right:0,bottom:0,left:0,...t}}function SI(t){return typeof t!="number"?zX(t):{top:t,right:t,bottom:t,left:t}}function xm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function HR(t,e,n){let{reference:r,floating:i}=t;const s=es(e),o=Y_(e),l=K_(o),c=Vs(e),d=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(xc(e)){case"start":y[o]-=p*(n&&d?-1:1);break;case"end":y[o]+=p*(n&&d?-1:1);break}return y}const $X=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=HR(d,r,c),p=r,y={},v=0;for(let w=0;w<l.length;w++){const{name:S,fn:b}=l[w],{x:R,y:T,data:P,reset:k}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=R??h,f=T??f,y={...y,[S]:{...y[S],...P}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:h,y:f}=HR(d,p,c)),w=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:y}};async function id(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=Os(e,t),v=SI(y),S=l[p?f==="floating"?"reference":"floating":f],b=xm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),R=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),P=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},k=xm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:T,strategy:c}):R);return{top:(b.top-k.top+v.top)/P.y,bottom:(k.bottom-b.bottom+v.bottom)/P.y,left:(b.left-k.left+v.left)/P.x,right:(k.right-b.right+v.right)/P.x}}const BX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Os(t,e)||{};if(d==null)return{};const f=SI(h),p={x:n,y:r},y=Y_(i),v=K_(y),w=await o.getDimensions(d),S=y==="y",b=S?"top":"left",R=S?"bottom":"right",T=S?"clientHeight":"clientWidth",P=s.reference[v]+s.reference[y]-p[y]-s.floating[v],k=p[y]-s.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let F=M?M[T]:0;(!F||!await(o.isElement==null?void 0:o.isElement(M)))&&(F=l.floating[T]||s.floating[v]);const I=P/2-k/2,z=F/2-w[v]/2-1,G=jo(f[b],z),V=jo(f[R],z),H=G,B=F-w[v]-V,X=F/2-w[v]/2+I,Z=Px(H,X,B),Y=!c.arrow&&xc(i)!=null&&X!==Z&&s.reference[v]/2-(X<H?G:V)-w[v]/2<0,D=Y?X<H?X-H:X-B:0;return{[y]:p[y]+D,data:{[y]:Z,centerOffset:X-Z-D,...Y&&{alignmentOffset:D}},reset:Y}}}),GX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...S}=Os(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Vs(i),R=es(l),T=Vs(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=p||(T||!w?[ym(l)]:jX(l)),M=v!=="none";!p&&M&&k.push(...VX(l,w,v,P));const F=[l,...k],I=await id(e,S),z=[];let G=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&z.push(I[b]),f){const X=FX(i,o,P);z.push(I[X[0]],I[X[1]])}if(G=[...G,{placement:i,overflows:z}],!z.every(X=>X<=0)){var V,H;const X=(((V=s.flip)==null?void 0:V.index)||0)+1,Z=F[X];if(Z&&(!(f==="alignment"?R!==es(Z):!1)||G.every(j=>j.overflows[0]>0&&es(j.placement)===R)))return{data:{index:X,overflows:G},reset:{placement:Z}};let Y=(H=G.filter(D=>D.overflows[0]<=0).sort((D,j)=>D.overflows[1]-j.overflows[1])[0])==null?void 0:H.placement;if(!Y)switch(y){case"bestFit":{var B;const D=(B=G.filter(j=>{if(M){const U=es(j.placement);return U===R||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:B[0];D&&(Y=D);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function XR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function KR(t){return AX.some(e=>t[e]>=0)}const UX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Os(t,e);switch(r){case"referenceHidden":{const s=await id(e,{...i,elementContext:"reference"}),o=XR(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:KR(o)}}}case"escaped":{const s=await id(e,{...i,altBoundary:!0}),o=XR(s,n.floating);return{data:{escapedOffsets:o,escaped:KR(o)}}}default:return{}}}}},bI=new Set(["left","top"]);async function WX(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Vs(n),l=xc(n),c=es(n)==="y",d=bI.has(o)?-1:1,h=s&&c?-1:1,f=Os(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(y=l==="end"?v*-1:v),c?{x:y*h,y:p*d}:{x:p*d,y:y*h}}const HX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await WX(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},XX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:b,y:R}=S;return{x:b,y:R}}},...c}=Os(t,e),d={x:n,y:r},h=await id(e,c),f=es(Vs(i)),p=X_(f);let y=d[p],v=d[f];if(s){const S=p==="y"?"top":"left",b=p==="y"?"bottom":"right",R=y+h[S],T=y-h[b];y=Px(R,y,T)}if(o){const S=f==="y"?"top":"left",b=f==="y"?"bottom":"right",R=v+h[S],T=v-h[b];v=Px(R,v,T)}const w=l.fn({...e,[p]:y,[f]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:s,[f]:o}}}}}},KX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Os(t,e),h={x:n,y:r},f=es(i),p=X_(f);let y=h[p],v=h[f];const w=Os(l,e),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const T=p==="y"?"height":"width",P=s.reference[p]-s.floating[T]+S.mainAxis,k=s.reference[p]+s.reference[T]-S.mainAxis;y<P?y=P:y>k&&(y=k)}if(d){var b,R;const T=p==="y"?"width":"height",P=bI.has(Vs(i)),k=s.reference[f]-s.floating[T]+(P&&((b=o.offset)==null?void 0:b[f])||0)+(P?0:S.crossAxis),M=s.reference[f]+s.reference[T]+(P?0:((R=o.offset)==null?void 0:R[f])||0)-(P?S.crossAxis:0);v<k?v=k:v>M&&(v=M)}return{[p]:y,[f]:v}}}},YX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Os(t,e),h=await id(e,d),f=Vs(i),p=xc(i),y=es(i)==="y",{width:v,height:w}=s.floating;let S,b;f==="top"||f==="bottom"?(S=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,S=p==="end"?"top":"bottom");const R=w-h.top-h.bottom,T=v-h.left-h.right,P=jo(w-h[S],R),k=jo(v-h[b],T),M=!e.middlewareData.shift;let F=P,I=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=R),M&&!p){const G=zr(h.left,0),V=zr(h.right,0),H=zr(h.top,0),B=zr(h.bottom,0);y?I=v-2*(G!==0||V!==0?G+V:zr(h.left,h.right)):F=w-2*(H!==0||B!==0?H+B:zr(h.top,h.bottom))}await c({...e,availableWidth:I,availableHeight:F});const z=await o.getDimensions(l.floating);return v!==z.width||w!==z.height?{reset:{rects:!0}}:{}}}};function ug(){return typeof window<"u"}function vc(t){return EI(t)?(t.nodeName||"").toLowerCase():"#document"}function Gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function us(t){var e;return(e=(EI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function EI(t){return ug()?t instanceof Node||t instanceof Gr(t).Node:!1}function Ai(t){return ug()?t instanceof Element||t instanceof Gr(t).Element:!1}function cs(t){return ug()?t instanceof HTMLElement||t instanceof Gr(t).HTMLElement:!1}function YR(t){return!ug()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gr(t).ShadowRoot}const ZX=new Set(["inline","contents"]);function Id(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ZX.has(i)}const qX=new Set(["table","td","th"]);function JX(t){return qX.has(vc(t))}const QX=[":popover-open",":modal"];function dg(t){return QX.some(e=>{try{return t.matches(e)}catch{return!1}})}const eK=["transform","translate","scale","rotate","perspective"],tK=["transform","translate","scale","rotate","perspective","filter"],nK=["paint","layout","strict","content"];function Z_(t){const e=q_(),n=Ai(t)?Mi(t):t;return eK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||tK.some(r=>(n.willChange||"").includes(r))||nK.some(r=>(n.contain||"").includes(r))}function rK(t){let e=Lo(t);for(;cs(e)&&!tc(e);){if(Z_(e))return e;if(dg(e))return null;e=Lo(e)}return null}function q_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iK=new Set(["html","body","#document"]);function tc(t){return iK.has(vc(t))}function Mi(t){return Gr(t).getComputedStyle(t)}function hg(t){return Ai(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YR(t)&&t.host||us(t);return YR(e)?e.host:e}function RI(t){const e=Lo(t);return tc(e)?t.ownerDocument?t.ownerDocument.body:t.body:cs(e)&&Id(e)?e:RI(e)}function sd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=RI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Gr(i);if(s){const l=Ax(o);return e.concat(o,o.visualViewport||[],Id(i)?i:[],l&&n?sd(l):[])}return e.concat(i,sd(i,[],n))}function Ax(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function TI(t){const e=Mi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=cs(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=pm(n)!==s||pm(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function J_(t){return Ai(t)?t:t.contextElement}function Bl(t){const e=J_(t);if(!cs(e))return os(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=TI(e);let o=(s?pm(n.width):n.width)/r,l=(s?pm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const sK=os(0);function PI(t){const e=Gr(t);return!q_()||!e.visualViewport?sK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gr(t)?!1:e}function La(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=J_(t);let o=os(1);e&&(r?Ai(r)&&(o=Bl(r)):o=Bl(t));const l=oK(s,n,r)?PI(s):os(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const p=Gr(s),y=r&&Ai(r)?Gr(r):r;let v=p,w=Ax(v);for(;w&&r&&y!==v;){const S=Bl(w),b=w.getBoundingClientRect(),R=Mi(w),T=b.left+(w.clientLeft+parseFloat(R.paddingLeft))*S.x,P=b.top+(w.clientTop+parseFloat(R.paddingTop))*S.y;c*=S.x,d*=S.y,h*=S.x,f*=S.y,c+=T,d+=P,v=Gr(w),w=Ax(v)}}return xm({width:h,height:f,x:c,y:d})}function Q_(t,e){const n=hg(t).scrollLeft;return e?e.left+n:La(us(t)).left+n}function kI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Q_(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function aK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=us(r),l=e?dg(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=os(1);const h=os(0),f=cs(r);if((f||!f&&!s)&&((vc(r)!=="body"||Id(o))&&(c=hg(r)),cs(r))){const y=La(r);d=Bl(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=o&&!f&&!s?kI(o,c,!0):os(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function lK(t){return Array.from(t.getClientRects())}function cK(t){const e=us(t),n=hg(t),r=t.ownerDocument.body,i=zr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=zr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Q_(t);const l=-n.scrollTop;return Mi(r).direction==="rtl"&&(o+=zr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function uK(t,e){const n=Gr(t),r=us(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=q_();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}const dK=new Set(["absolute","fixed"]);function hK(t,e){const n=La(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=cs(t)?Bl(t):os(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function ZR(t,e,n){let r;if(e==="viewport")r=uK(t,n);else if(e==="document")r=cK(us(t));else if(Ai(e))r=hK(e,n);else{const i=PI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return xm(r)}function AI(t,e){const n=Lo(t);return n===e||!Ai(n)||tc(n)?!1:Mi(n).position==="fixed"||AI(n,e)}function fK(t,e){const n=e.get(t);if(n)return n;let r=sd(t,[],!1).filter(l=>Ai(l)&&vc(l)!=="body"),i=null;const s=Mi(t).position==="fixed";let o=s?Lo(t):t;for(;Ai(o)&&!tc(o);){const l=Mi(o),c=Z_(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&dK.has(i.position)||Id(o)&&!c&&AI(t,o))?r=r.filter(h=>h!==o):i=l,o=Lo(o)}return e.set(t,r),r}function mK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?dg(e)?[]:fK(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const f=ZR(e,h,i);return d.top=zr(f.top,d.top),d.right=jo(f.right,d.right),d.bottom=jo(f.bottom,d.bottom),d.left=zr(f.left,d.left),d},ZR(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gK(t){const{width:e,height:n}=TI(t);return{width:e,height:n}}function pK(t,e,n){const r=cs(e),i=us(e),s=n==="fixed",o=La(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=os(0);function d(){c.x=Q_(i)}if(r||!r&&!s)if((vc(e)!=="body"||Id(i))&&(l=hg(e)),r){const y=La(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?kI(i,l):os(0),f=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function o0(t){return Mi(t).position==="static"}function qR(t,e){if(!cs(t)||Mi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return us(t)===n&&(n=n.ownerDocument.body),n}function MI(t,e){const n=Gr(t);if(dg(t))return n;if(!cs(t)){let i=Lo(t);for(;i&&!tc(i);){if(Ai(i)&&!o0(i))return i;i=Lo(i)}return n}let r=qR(t,e);for(;r&&JX(r)&&o0(r);)r=qR(r,e);return r&&tc(r)&&o0(r)&&!Z_(r)?n:r||rK(t)||n}const yK=async function(t){const e=this.getOffsetParent||MI,n=this.getDimensions,r=await n(t.floating);return{reference:pK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xK(t){return Mi(t).direction==="rtl"}const vK={convertOffsetParentRelativeRectToViewportRelativeRect:aK,getDocumentElement:us,getClippingRect:mK,getOffsetParent:MI,getElementRects:yK,getClientRects:lK,getDimensions:gK,getScale:Bl,isElement:Ai,isRTL:xK};function II(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _K(t,e){let n=null,r;const i=us(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=d;if(l||e(),!p||!y)return;const v=hf(f),w=hf(i.clientWidth-(h+p)),S=hf(i.clientHeight-(f+y)),b=hf(h),T={rootMargin:-v+"px "+-w+"px "+-S+"px "+-b+"px",threshold:zr(0,jo(1,c))||1};let P=!0;function k(M){const F=M[0].intersectionRatio;if(F!==c){if(!P)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!II(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(k,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(t)}return o(!0),s}function wK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=J_(t),h=i||s?[...d?sd(d):[],...sd(e)]:[];h.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=d&&l?_K(d,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(b=>{let[R]=b;R&&R.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let v,w=c?La(t):null;c&&S();function S(){const b=La(t);w&&!II(w,b)&&n(),w=b,v=requestAnimationFrame(S)}return n(),()=>{var b;h.forEach(R=>{i&&R.removeEventListener("scroll",n),s&&R.removeEventListener("resize",n)}),f==null||f(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const CK=HX,SK=XX,bK=GX,EK=YX,RK=UX,JR=BX,TK=KX,PK=(t,e,n)=>{const r=new Map,i={platform:vK,...n},s={...i.platform,_c:r};return $X(t,e,{...i,platform:s})};var kK=typeof document<"u",AK=function(){},Lf=kK?_.useLayoutEffect:AK;function vm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!vm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!vm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function NI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QR(t,e){const n=NI(t);return Math.round(e*n)/n}function a0(t){const e=_.useRef(t);return Lf(()=>{e.current=t}),e}function MK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=_.useState(r);vm(p,r)||y(r);const[v,w]=_.useState(null),[S,b]=_.useState(null),R=_.useCallback(j=>{j!==M.current&&(M.current=j,w(j))},[]),T=_.useCallback(j=>{j!==F.current&&(F.current=j,b(j))},[]),P=s||v,k=o||S,M=_.useRef(null),F=_.useRef(null),I=_.useRef(h),z=c!=null,G=a0(c),V=a0(i),H=a0(d),B=_.useCallback(()=>{if(!M.current||!F.current)return;const j={placement:e,strategy:n,middleware:p};V.current&&(j.platform=V.current),PK(M.current,F.current,j).then(U=>{const q={...U,isPositioned:H.current!==!1};X.current&&!vm(I.current,q)&&(I.current=q,za.flushSync(()=>{f(q)}))})},[p,e,n,V,H]);Lf(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[d]);const X=_.useRef(!1);Lf(()=>(X.current=!0,()=>{X.current=!1}),[]),Lf(()=>{if(P&&(M.current=P),k&&(F.current=k),P&&k){if(G.current)return G.current(P,k,B);B()}},[P,k,B,G,z]);const Z=_.useMemo(()=>({reference:M,floating:F,setReference:R,setFloating:T}),[R,T]),Y=_.useMemo(()=>({reference:P,floating:k}),[P,k]),D=_.useMemo(()=>{const j={position:n,left:0,top:0};if(!Y.floating)return j;const U=QR(Y.floating,h.x),q=QR(Y.floating,h.y);return l?{...j,transform:"translate("+U+"px, "+q+"px)",...NI(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,l,Y.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:B,refs:Z,elements:Y,floatingStyles:D}),[h,B,Z,Y,D])}const IK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JR({element:r.current,padding:i}).fn(n):{}:r?JR({element:r,padding:i}).fn(n):{}}}},NK=(t,e)=>({...CK(t),options:[t,e]}),FK=(t,e)=>({...SK(t),options:[t,e]}),jK=(t,e)=>({...TK(t),options:[t,e]}),LK=(t,e)=>({...bK(t),options:[t,e]}),DK=(t,e)=>({...EK(t),options:[t,e]}),OK=(t,e)=>({...RK(t),options:[t,e]}),VK=(t,e)=>({...IK(t),options:[t,e]});var zK="Arrow",FI=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(qe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});FI.displayName=zK;var $K=FI;function jI(t){const[e,n]=_.useState(void 0);return Hn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ew="Popper",[LI,_c]=Oi(ew),[BK,DI]=LI(ew),OI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return g.jsx(BK,{scope:e,anchor:r,onAnchorChange:i,children:n})};OI.displayName=ew;var VI="PopperAnchor",zI=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=DI(VI,n),o=_.useRef(null),l=ht(e,o);return _.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(qe.div,{...i,ref:l})});zI.displayName=VI;var tw="PopperContent",[GK,UK]=LI(tw),$I=_.forwardRef((t,e)=>{var ae,pe,we,be,$e,Ve;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:v,...w}=t,S=DI(tw,n),[b,R]=_.useState(null),T=ht(e,yt=>R(yt)),[P,k]=_.useState(null),M=jI(P),F=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,z=r+(s!=="center"?"-"+s:""),G=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},V=Array.isArray(d)?d:[d],H=V.length>0,B={padding:G,boundary:V.filter(HK),altBoundary:H},{refs:X,floatingStyles:Z,placement:Y,isPositioned:D,middlewareData:j}=MK({strategy:"fixed",placement:z,whileElementsMounted:(...yt)=>wK(...yt,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[NK({mainAxis:i+I,alignmentAxis:o}),c&&FK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?jK():void 0,...B}),c&&LK({...B}),DK({...B,apply:({elements:yt,rects:mt,availableWidth:Ut,availableHeight:Lt})=>{const{width:Dt,height:Vn}=mt.reference,lt=yt.floating.style;lt.setProperty("--radix-popper-available-width",`${Ut}px`),lt.setProperty("--radix-popper-available-height",`${Lt}px`),lt.setProperty("--radix-popper-anchor-width",`${Dt}px`),lt.setProperty("--radix-popper-anchor-height",`${Vn}px`)}}),P&&VK({element:P,padding:l}),XK({arrowWidth:F,arrowHeight:I}),p&&OK({strategy:"referenceHidden",...B})]}),[U,q]=UI(Y),N=Wn(v);Hn(()=>{D&&(N==null||N())},[D,N]);const L=(ae=j.arrow)==null?void 0:ae.x,re=(pe=j.arrow)==null?void 0:pe.y,ie=((we=j.arrow)==null?void 0:we.centerOffset)!==0,[ce,ge]=_.useState();return Hn(()=>{b&&ge(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:D?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(be=j.transformOrigin)==null?void 0:be.x,($e=j.transformOrigin)==null?void 0:$e.y].join(" "),...((Ve=j.hide)==null?void 0:Ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(GK,{scope:n,placedSide:U,onArrowChange:k,arrowX:L,arrowY:re,shouldHideArrow:ie,children:g.jsx(qe.div,{"data-side":U,"data-align":q,...w,ref:T,style:{...w.style,animation:D?void 0:"none"}})})})});$I.displayName=tw;var BI="PopperArrow",WK={top:"bottom",right:"left",bottom:"top",left:"right"},GI=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=UK(BI,r),o=WK[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx($K,{...i,ref:n,style:{...i.style,display:"block"}})})});GI.displayName=BI;function HK(t){return t!==null}var XK=t=>({name:"transformOrigin",options:t,fn(e){var S,b,R;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=UI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,y=(((R=i.arrow)==null?void 0:R.y)??0)+c/2;let v="",w="";return d==="bottom"?(v=o?f:`${p}px`,w=`${-c}px`):d==="top"?(v=o?f:`${p}px`,w=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,w=o?f:`${y}px`):d==="left"&&(v=`${r.floating.width+c}px`,w=o?f:`${y}px`),{data:{x:v,y:w}}}});function UI(t){const[e,n="center"]=t.split("-");return[e,n]}var nw=OI,rw=zI,iw=$I,sw=GI,KK="Portal",Nd=_.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=_.useState(!1);Hn(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?FT.createPortal(g.jsx(qe.div,{...r,ref:e}),o):null});Nd.displayName=KK;function WI(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var HI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YK="VisuallyHidden",XI=_.forwardRef((t,e)=>g.jsx(qe.span,{...t,ref:e,style:{...HI,...t.style}}));XI.displayName=YK;var ZK=XI,qK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wl=new WeakMap,ff=new WeakMap,mf={},l0=0,KI=function(t){return t&&(t.host||KI(t.parentNode))},JK=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=KI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},QK=function(t,e,n,r){var i=JK(e,Array.isArray(t)?t:[t]);mf[n]||(mf[n]=new WeakMap);var s=mf[n],o=[],l=new Set,c=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(r),v=y!==null&&y!=="false",w=(wl.get(p)||0)+1,S=(s.get(p)||0)+1;wl.set(p,w),s.set(p,S),o.push(p),w===1&&v&&ff.set(p,!0),S===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),l.clear(),l0++,function(){o.forEach(function(f){var p=wl.get(f)-1,y=s.get(f)-1;wl.set(f,p),s.set(f,y),p||(ff.has(f)||f.removeAttribute(r),ff.delete(f)),y||f.removeAttribute(n)}),l0--,l0||(wl=new WeakMap,wl=new WeakMap,ff=new WeakMap,mf={})}},ow=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=qK(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),QK(r,i,n,"aria-hidden")):function(){return null}},qi=function(){return qi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qi.apply(this,arguments)};function YI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eY(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Df="right-scroll-bar-position",Of="width-before-scroll-bar",tY="with-scroll-bars-hidden",nY="--removed-body-scroll-bar-size";function c0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function rY(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var iY=typeof window<"u"?_.useLayoutEffect:_.useEffect,eT=new WeakMap;function sY(t,e){var n=rY(null,function(r){return t.forEach(function(i){return c0(i,r)})});return iY(function(){var r=eT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||c0(l,null)}),s.forEach(function(l){i.has(l)||c0(l,o)})}eT.set(n,t)},[t]),n}function oY(t){return t}function aY(t,e){e===void 0&&(e=oY);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var h=o;o=[],h.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function lY(t){t===void 0&&(t={});var e=aY(null);return e.options=qi({async:!0,ssr:!1},t),e}var ZI=function(t){var e=t.sideCar,n=YI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,qi({},n))};ZI.isSideCarExport=!0;function cY(t,e){return t.useMedium(e),ZI}var qI=lY(),u0=function(){},fg=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:u0,onWheelCapture:u0,onTouchMoveCapture:u0}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noRelative,v=t.noIsolation,w=t.inert,S=t.allowPinchZoom,b=t.as,R=b===void 0?"div":b,T=t.gapMode,P=YI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,M=sY([n,e]),F=qi(qi({},P),i);return _.createElement(_.Fragment,null,h&&_.createElement(k,{sideCar:qI,removeScrollBar:d,shards:f,noRelative:y,noIsolation:v,inert:w,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:T}),o?_.cloneElement(_.Children.only(l),qi(qi({},F),{ref:M})):_.createElement(R,qi({},F,{className:c,ref:M}),l))});fg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fg.classNames={fullWidth:Of,zeroRight:Df};var uY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uY();return e&&t.setAttribute("nonce",e),t}function hY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=dY())&&(hY(e,n),fY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gY=function(){var t=mY();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},JI=function(){var t=gY(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},pY={left:0,top:0,right:0,gap:0},d0=function(t){return parseInt(t||"",10)||0},yY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[d0(n),d0(r),d0(i)]},xY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return pY;var e=yY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},vY=JI(),Gl="data-scroll-locked",_Y=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Gl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Df,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Of,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Df," .").concat(Df,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gl,`] {
    `).concat(nY,": ").concat(l,`px;
  }
`)},tT=function(){var t=parseInt(document.body.getAttribute(Gl)||"0",10);return isFinite(t)?t:0},wY=function(){_.useEffect(function(){return document.body.setAttribute(Gl,(tT()+1).toString()),function(){var t=tT()-1;t<=0?document.body.removeAttribute(Gl):document.body.setAttribute(Gl,t.toString())}},[])},CY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;wY();var s=_.useMemo(function(){return xY(i)},[i]);return _.createElement(vY,{styles:_Y(s,!e,i,n?"":"!important")})},Mx=!1;if(typeof window<"u")try{var gf=Object.defineProperty({},"passive",{get:function(){return Mx=!0,!0}});window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch{Mx=!1}var Cl=Mx?{passive:!1}:!1,SY=function(t){return t.tagName==="TEXTAREA"},QI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SY(t)&&n[e]==="visible")},bY=function(t){return QI(t,"overflowY")},EY=function(t){return QI(t,"overflowX")},nT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=e2(t,r);if(i){var s=t2(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},TY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},e2=function(t,e){return t==="v"?bY(e):EY(e)},t2=function(t,e){return t==="v"?RY(e):TY(e)},PY=function(t,e){return t==="h"&&e==="rtl"?-1:1},kY=function(t,e,n,r,i){var s=PY(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),d=!1,h=o>0,f=0,p=0;do{if(!l)break;var y=t2(t,l),v=y[0],w=y[1],S=y[2],b=w-S-s*v;(v||b)&&e2(t,l)&&(f+=b,p+=v);var R=l.parentNode;l=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},pf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rT=function(t){return[t.deltaX,t.deltaY]},iT=function(t){return t&&"current"in t?t.current:t},AY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},MY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IY=0,Sl=[];function NY(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(IY++)[0],s=_.useState(JI)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=eY([t.lockRef.current],(t.shards||[]).map(iT),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=pf(w),R=n.current,T="deltaX"in w?w.deltaX:R[0]-b[0],P="deltaY"in w?w.deltaY:R[1]-b[1],k,M=w.target,F=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in w&&F==="h"&&M.type==="range")return!1;var I=nT(F,M);if(!I)return!0;if(I?k=F:(k=F==="v"?"h":"v",I=nT(F,M)),!I)return!1;if(!r.current&&"changedTouches"in w&&(T||P)&&(r.current=k),!k)return!0;var z=r.current||k;return kY(z,S,w,z==="h"?T:P)},[]),c=_.useCallback(function(w){var S=w;if(!(!Sl.length||Sl[Sl.length-1]!==s)){var b="deltaY"in S?rT(S):pf(S),R=e.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&AY(k.delta,b)})[0];if(R&&R.should){S.cancelable&&S.preventDefault();return}if(!R){var T=(o.current.shards||[]).map(iT).filter(Boolean).filter(function(k){return k.contains(S.target)}),P=T.length>0?l(S,T[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),d=_.useCallback(function(w,S,b,R){var T={name:w,delta:S,target:b,should:R,shadowParent:FY(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),h=_.useCallback(function(w){n.current=pf(w),r.current=void 0},[]),f=_.useCallback(function(w){d(w.type,rT(w),w.target,l(w,t.lockRef.current))},[]),p=_.useCallback(function(w){d(w.type,pf(w),w.target,l(w,t.lockRef.current))},[]);_.useEffect(function(){return Sl.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Cl),document.addEventListener("touchmove",c,Cl),document.addEventListener("touchstart",h,Cl),function(){Sl=Sl.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,Cl),document.removeEventListener("touchmove",c,Cl),document.removeEventListener("touchstart",h,Cl)}},[]);var y=t.removeScrollBar,v=t.inert;return _.createElement(_.Fragment,null,v?_.createElement(s,{styles:MY(i)}):null,y?_.createElement(CY,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function FY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jY=cY(qI,NY);var mg=_.forwardRef(function(t,e){return _.createElement(fg,qi({},t,{ref:e,sideCar:jY}))});mg.classNames=fg.classNames;var LY=[" ","Enter","ArrowUp","ArrowDown"],DY=[" ","Enter"],Da="Select",[gg,pg,OY]=U_(Da),[wc,Xee]=Oi(Da,[OY,_c]),yg=_c(),[VY,Vo]=wc(Da),[zY,$Y]=wc(Da),n2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:y,form:v}=t,w=yg(e),[S,b]=_.useState(null),[R,T]=_.useState(null),[P,k]=_.useState(!1),M=kd(d),[F,I]=Fo({prop:r,defaultProp:i??!1,onChange:s,caller:Da}),[z,G]=Fo({prop:o,defaultProp:l,onChange:c,caller:Da}),V=_.useRef(null),H=S?v||!!S.closest("form"):!0,[B,X]=_.useState(new Set),Z=Array.from(B).map(Y=>Y.props.value).join(";");return g.jsx(nw,{...w,children:g.jsxs(VY,{required:y,scope:e,trigger:S,onTriggerChange:b,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:Ti(),value:z,onValueChange:G,open:F,onOpenChange:I,dir:M,triggerPointerDownPosRef:V,disabled:p,children:[g.jsx(gg.Provider,{scope:e,children:g.jsx(zY,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(Y=>{X(D=>new Set(D).add(Y))},[]),onNativeOptionRemove:_.useCallback(Y=>{X(D=>{const j=new Set(D);return j.delete(Y),j})},[]),children:n})}),H?g.jsxs(R2,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:z,onChange:Y=>G(Y.target.value),disabled:p,form:v,children:[z===void 0?g.jsx("option",{value:""}):null,Array.from(B)]},Z):null]})})};n2.displayName=Da;var r2="SelectTrigger",i2=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=yg(n),o=Vo(r2,n),l=o.disabled||r,c=ht(e,o.onTriggerChange),d=pg(n),h=_.useRef("touch"),[f,p,y]=P2(w=>{const S=d().filter(T=>!T.disabled),b=S.find(T=>T.value===o.value),R=k2(S,w,b);R!==void 0&&o.onValueChange(R.value)}),v=w=>{l||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return g.jsx(rw,{asChild:!0,...s,children:g.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":T2(o.value)?"":void 0,...i,ref:c,onClick:Se(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&v(w)}),onPointerDown:Se(i.onPointerDown,w=>{h.current=w.pointerType;const S=w.target;S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:Se(i.onKeyDown,w=>{const S=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(S&&w.key===" ")&&LY.includes(w.key)&&(v(),w.preventDefault())})})})});i2.displayName=r2;var s2="SelectValue",o2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=Vo(s2,n),{onValueNodeHasChildrenChange:d}=c,h=s!==void 0,f=ht(e,c.onValueNodeChange);return Hn(()=>{d(h)},[d,h]),g.jsx(qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:T2(c.value)?g.jsx(g.Fragment,{children:o}):s})});o2.displayName=s2;var BY="SelectIcon",a2=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(qe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});a2.displayName=BY;var GY="SelectPortal",l2=t=>g.jsx(Nd,{asChild:!0,...t});l2.displayName=GY;var Oa="SelectContent",c2=_.forwardRef((t,e)=>{const n=Vo(Oa,t.__scopeSelect),[r,i]=_.useState();if(Hn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?za.createPortal(g.jsx(u2,{scope:t.__scopeSelect,children:g.jsx(gg.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(d2,{...t,ref:e})});c2.displayName=Oa;var yi=10,[u2,zo]=wc(Oa),UY="SelectContentImpl",WY=Ma("SelectContent.RemoveScroll"),d2=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:S,...b}=t,R=Vo(Oa,n),[T,P]=_.useState(null),[k,M]=_.useState(null),F=ht(e,ae=>P(ae)),[I,z]=_.useState(null),[G,V]=_.useState(null),H=pg(n),[B,X]=_.useState(!1),Z=_.useRef(!1);_.useEffect(()=>{if(T)return ow(T)},[T]),H_();const Y=_.useCallback(ae=>{const[pe,...we]=H().map(Ve=>Ve.ref.current),[be]=we.slice(-1),$e=document.activeElement;for(const Ve of ae)if(Ve===$e||(Ve==null||Ve.scrollIntoView({block:"nearest"}),Ve===pe&&k&&(k.scrollTop=0),Ve===be&&k&&(k.scrollTop=k.scrollHeight),Ve==null||Ve.focus(),document.activeElement!==$e))return},[H,k]),D=_.useCallback(()=>Y([I,T]),[Y,I,T]);_.useEffect(()=>{B&&D()},[B,D]);const{onOpenChange:j,triggerPointerDownPosRef:U}=R;_.useEffect(()=>{if(T){let ae={x:0,y:0};const pe=be=>{var $e,Ve;ae={x:Math.abs(Math.round(be.pageX)-((($e=U.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Ve=U.current)==null?void 0:Ve.y)??0))}},we=be=>{ae.x<=10&&ae.y<=10?be.preventDefault():T.contains(be.target)||j(!1),document.removeEventListener("pointermove",pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",we,{capture:!0})}}},[T,j,U]),_.useEffect(()=>{const ae=()=>j(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[j]);const[q,N]=P2(ae=>{const pe=H().filter($e=>!$e.disabled),we=pe.find($e=>$e.ref.current===document.activeElement),be=k2(pe,ae,we);be&&setTimeout(()=>be.ref.current.focus())}),L=_.useCallback((ae,pe,we)=>{const be=!Z.current&&!we;(R.value!==void 0&&R.value===pe||be)&&(z(ae),be&&(Z.current=!0))},[R.value]),re=_.useCallback(()=>T==null?void 0:T.focus(),[T]),ie=_.useCallback((ae,pe,we)=>{const be=!Z.current&&!we;(R.value!==void 0&&R.value===pe||be)&&V(ae)},[R.value]),ce=r==="popper"?Ix:h2,ge=ce===Ix?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:S}:{};return g.jsx(u2,{scope:n,content:T,viewport:k,onViewportChange:M,itemRefCallback:L,selectedItem:I,onItemLeave:re,itemTextRefCallback:ie,focusSelectedItem:D,selectedItemText:G,position:r,isPositioned:B,searchRef:q,children:g.jsx(mg,{as:WY,allowPinchZoom:!0,children:g.jsx(cg,{asChild:!0,trapped:R.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Se(i,ae=>{var pe;(pe=R.trigger)==null||pe.focus({preventScroll:!0}),ae.preventDefault()}),children:g.jsx(Md,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:g.jsx(ce,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ae=>ae.preventDefault(),...b,...ge,onPlaced:()=>X(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Se(b.onKeyDown,ae=>{const pe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!pe&&ae.key.length===1&&N(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let be=H().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const $e=ae.target,Ve=be.indexOf($e);be=be.slice(Ve+1)}setTimeout(()=>Y(be)),ae.preventDefault()}})})})})})})});d2.displayName=UY;var HY="SelectItemAlignedPosition",h2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Vo(Oa,n),o=zo(Oa,n),[l,c]=_.useState(null),[d,h]=_.useState(null),f=ht(e,F=>h(F)),p=pg(n),y=_.useRef(!1),v=_.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:b,focusSelectedItem:R}=o,T=_.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&w&&S&&b){const F=s.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),G=b.getBoundingClientRect();if(s.dir!=="rtl"){const $e=G.left-I.left,Ve=z.left-$e,yt=F.left-Ve,mt=F.width+yt,Ut=Math.max(mt,I.width),Lt=window.innerWidth-yi,Dt=Rx(Ve,[yi,Math.max(yi,Lt-Ut)]);l.style.minWidth=mt+"px",l.style.left=Dt+"px"}else{const $e=I.right-G.right,Ve=window.innerWidth-z.right-$e,yt=window.innerWidth-F.right-Ve,mt=F.width+yt,Ut=Math.max(mt,I.width),Lt=window.innerWidth-yi,Dt=Rx(Ve,[yi,Math.max(yi,Lt-Ut)]);l.style.minWidth=mt+"px",l.style.right=Dt+"px"}const V=p(),H=window.innerHeight-yi*2,B=w.scrollHeight,X=window.getComputedStyle(d),Z=parseInt(X.borderTopWidth,10),Y=parseInt(X.paddingTop,10),D=parseInt(X.borderBottomWidth,10),j=parseInt(X.paddingBottom,10),U=Z+Y+B+j+D,q=Math.min(S.offsetHeight*5,U),N=window.getComputedStyle(w),L=parseInt(N.paddingTop,10),re=parseInt(N.paddingBottom,10),ie=F.top+F.height/2-yi,ce=H-ie,ge=S.offsetHeight/2,ae=S.offsetTop+ge,pe=Z+Y+ae,we=U-pe;if(pe<=ie){const $e=V.length>0&&S===V[V.length-1].ref.current;l.style.bottom="0px";const Ve=d.clientHeight-w.offsetTop-w.offsetHeight,yt=Math.max(ce,ge+($e?re:0)+Ve+D),mt=pe+yt;l.style.height=mt+"px"}else{const $e=V.length>0&&S===V[0].ref.current;l.style.top="0px";const yt=Math.max(ie,Z+w.offsetTop+($e?L:0)+ge)+we;l.style.height=yt+"px",w.scrollTop=pe-ie+w.offsetTop}l.style.margin=`${yi}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,s.trigger,s.valueNode,l,d,w,S,b,s.dir,r]);Hn(()=>T(),[T]);const[P,k]=_.useState();Hn(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const M=_.useCallback(F=>{F&&v.current===!0&&(T(),R==null||R(),v.current=!1)},[T,R]);return g.jsx(KY,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:g.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:g.jsx(qe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});h2.displayName=HY;var XY="SelectPopperPosition",Ix=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=yi,...s}=t,o=yg(n);return g.jsx(iw,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ix.displayName=XY;var[KY,aw]=wc(Oa,{}),Nx="SelectViewport",f2=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=zo(Nx,n),o=aw(Nx,n),l=ht(e,s.onViewportChange),c=_.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(gg.Slot,{scope:n,children:g.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Se(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const v=window.innerHeight-yi*2,w=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),b=Math.max(w,S);if(b<v){const R=b+y,T=Math.min(v,R),P=R-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});f2.displayName=Nx;var m2="SelectGroup",[YY,ZY]=wc(m2),qY=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ti();return g.jsx(YY,{scope:n,id:i,children:g.jsx(qe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});qY.displayName=m2;var g2="SelectLabel",p2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ZY(g2,n);return g.jsx(qe.div,{id:i.id,...r,ref:e})});p2.displayName=g2;var _m="SelectItem",[JY,y2]=wc(_m),x2=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=Vo(_m,n),c=zo(_m,n),d=l.value===r,[h,f]=_.useState(s??""),[p,y]=_.useState(!1),v=ht(e,R=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,R,r,i)}),w=Ti(),S=_.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(JY,{scope:n,value:r,disabled:i,textId:w,isSelected:d,onItemTextChange:_.useCallback(R=>{f(T=>T||((R==null?void 0:R.textContent)??"").trim())},[]),children:g.jsx(gg.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:g.jsx(qe.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Se(o.onFocus,()=>y(!0)),onBlur:Se(o.onBlur,()=>y(!1)),onClick:Se(o.onClick,()=>{S.current!=="mouse"&&b()}),onPointerUp:Se(o.onPointerUp,()=>{S.current==="mouse"&&b()}),onPointerDown:Se(o.onPointerDown,R=>{S.current=R.pointerType}),onPointerMove:Se(o.onPointerMove,R=>{var T;S.current=R.pointerType,i?(T=c.onItemLeave)==null||T.call(c):S.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(o.onPointerLeave,R=>{var T;R.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:Se(o.onKeyDown,R=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&R.key===" "||(DY.includes(R.key)&&b(),R.key===" "&&R.preventDefault())})})})})});x2.displayName=_m;var xu="SelectItemText",v2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Vo(xu,n),l=zo(xu,n),c=y2(xu,n),d=$Y(xu,n),[h,f]=_.useState(null),p=ht(e,b=>f(b),c.onItemTextChange,b=>{var R;return(R=l.itemTextRefCallback)==null?void 0:R.call(l,b,c.value,c.disabled)}),y=h==null?void 0:h.textContent,v=_.useMemo(()=>g.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=d;return Hn(()=>(w(v),()=>S(v)),[w,S,v]),g.jsxs(g.Fragment,{children:[g.jsx(qe.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?za.createPortal(s.children,o.valueNode):null]})});v2.displayName=xu;var _2="SelectItemIndicator",w2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return y2(_2,n).isSelected?g.jsx(qe.span,{"aria-hidden":!0,...r,ref:e}):null});w2.displayName=_2;var Fx="SelectScrollUpButton",C2=_.forwardRef((t,e)=>{const n=zo(Fx,t.__scopeSelect),r=aw(Fx,t.__scopeSelect),[i,s]=_.useState(!1),o=ht(e,r.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(b2,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});C2.displayName=Fx;var jx="SelectScrollDownButton",S2=_.forwardRef((t,e)=>{const n=zo(jx,t.__scopeSelect),r=aw(jx,t.__scopeSelect),[i,s]=_.useState(!1),o=ht(e,r.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;s(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(b2,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});S2.displayName=jx;var b2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=zo("SelectScrollButton",n),o=_.useRef(null),l=pg(n),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Hn(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),g.jsx(qe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Se(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Se(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Se(i.onPointerLeave,()=>{c()})})}),QY="SelectSeparator",E2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(qe.div,{"aria-hidden":!0,...r,ref:e})});E2.displayName=QY;var Lx="SelectArrow",eZ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=yg(n),s=Vo(Lx,n),o=zo(Lx,n);return s.open&&o.position==="popper"?g.jsx(sw,{...i,...r,ref:e}):null});eZ.displayName=Lx;var tZ="SelectBubbleInput",R2=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),s=ht(r,i),o=WI(e);return _.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),g.jsx(qe.select,{...n,style:{...HI,...n.style},ref:s,defaultValue:e})});R2.displayName=tZ;function T2(t){return t===""||t===void 0}function P2(t){const e=Wn(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function k2(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=nZ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function nZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rZ=n2,A2=i2,iZ=o2,sZ=a2,oZ=l2,M2=c2,aZ=f2,I2=p2,N2=x2,lZ=v2,cZ=w2,F2=C2,j2=S2,L2=E2;const wi=rZ,Ci=iZ,ti=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(A2,{ref:r,className:Oe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-xl border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(sZ,{asChild:!0,children:g.jsx(fd,{className:"h-4 w-4 opacity-50"})})]}));ti.displayName=A2.displayName;const lw=_.forwardRef(({className:t,...e},n)=>g.jsx(F2,{ref:n,className:Oe("flex cursor-default items-center justify-center",t),...e,children:g.jsx(av,{className:"h-4 w-4"})}));lw.displayName=F2.displayName;const cw=_.forwardRef(({className:t,...e},n)=>g.jsx(j2,{ref:n,className:Oe("flex cursor-default items-center justify-center",t),...e,children:g.jsx(fd,{className:"h-4 w-4"})}));cw.displayName=j2.displayName;const ni=_.forwardRef(({className:t,children:e,position:n="popper",withScrollButtons:r=!0,...i},s)=>g.jsx(oZ,{children:g.jsxs(M2,{ref:s,className:Oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[r&&g.jsx(lw,{}),g.jsx(aZ,{className:Oe(n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r&&g.jsx(cw,{})]})}));ni.displayName=M2.displayName;const uZ=_.forwardRef(({className:t,...e},n)=>g.jsx(I2,{ref:n,className:Oe("px-2 py-1.5 text-sm font-semibold",t),...e}));uZ.displayName=I2.displayName;const Tn=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(N2,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-xl py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(cZ,{children:g.jsx(hd,{className:"h-4 w-4"})})}),g.jsx(lZ,{children:e})]}));Tn.displayName=N2.displayName;const dZ=_.forwardRef(({className:t,...e},n)=>g.jsx(L2,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));dZ.displayName=L2.displayName;var[xg,Kee]=Oi("Tooltip",[_c]),vg=_c(),D2="TooltipProvider",hZ=700,Dx="tooltip.open",[fZ,uw]=xg(D2),O2=t=>{const{__scopeTooltip:e,delayDuration:n=hZ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),g.jsx(fZ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};O2.displayName=D2;var od="Tooltip",[mZ,Fd]=xg(od),V2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=uw(od,t.__scopeTooltip),d=vg(e),[h,f]=_.useState(null),p=Ti(),y=_.useRef(0),v=o??c.disableHoverableContent,w=l??c.delayDuration,S=_.useRef(!1),[b,R]=Fo({prop:r,defaultProp:i??!1,onChange:F=>{F?(c.onOpen(),document.dispatchEvent(new CustomEvent(Dx))):c.onClose(),s==null||s(F)},caller:od}),T=_.useMemo(()=>b?S.current?"delayed-open":"instant-open":"closed",[b]),P=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S.current=!1,R(!0)},[R]),k=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,R(!1)},[R]),M=_.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{S.current=!0,R(!0),y.current=0},w)},[w,R]);return _.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),g.jsx(nw,{...d,children:g.jsx(mZ,{scope:e,contentId:p,open:b,stateAttribute:T,trigger:h,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?M():P()},[c.isOpenDelayedRef,M,P]),onTriggerLeave:_.useCallback(()=>{v?k():(window.clearTimeout(y.current),y.current=0)},[k,v]),onOpen:P,onClose:k,disableHoverableContent:v,children:n})})};V2.displayName=od;var Ox="TooltipTrigger",z2=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Fd(Ox,n),s=uw(Ox,n),o=vg(n),l=_.useRef(null),c=ht(e,l,i.onTriggerChange),d=_.useRef(!1),h=_.useRef(!1),f=_.useCallback(()=>d.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(rw,{asChild:!0,...o,children:g.jsx(qe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Se(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Se(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Se(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Se(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Se(t.onBlur,i.onClose),onClick:Se(t.onClick,i.onClose)})})});z2.displayName=Ox;var dw="TooltipPortal",[gZ,pZ]=xg(dw,{forceMount:void 0}),$2=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=Fd(dw,e);return g.jsx(gZ,{scope:e,forceMount:n,children:g.jsx(fr,{present:n||s.open,children:g.jsx(Nd,{asChild:!0,container:i,children:r})})})};$2.displayName=dw;var nc="TooltipContent",B2=_.forwardRef((t,e)=>{const n=pZ(nc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Fd(nc,t.__scopeTooltip);return g.jsx(fr,{present:r||o.open,children:o.disableHoverableContent?g.jsx(G2,{side:i,...s,ref:e}):g.jsx(yZ,{side:i,...s,ref:e})})}),yZ=_.forwardRef((t,e)=>{const n=Fd(nc,t.__scopeTooltip),r=uw(nc,t.__scopeTooltip),i=_.useRef(null),s=ht(e,i),[o,l]=_.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:f}=r,p=_.useCallback(()=>{l(null),f(!1)},[f]),y=_.useCallback((v,w)=>{const S=v.currentTarget,b={x:v.clientX,y:v.clientY},R=CZ(b,S.getBoundingClientRect()),T=SZ(b,R),P=bZ(w.getBoundingClientRect()),k=RZ([...T,...P]);l(k),f(!0)},[f]);return _.useEffect(()=>()=>p(),[p]),_.useEffect(()=>{if(c&&h){const v=S=>y(S,h),w=S=>y(S,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",w)}}},[c,h,y,p]),_.useEffect(()=>{if(o){const v=w=>{const S=w.target,b={x:w.clientX,y:w.clientY},R=(c==null?void 0:c.contains(S))||(h==null?void 0:h.contains(S)),T=!EZ(b,o);R?p():T&&(p(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,o,d,p]),g.jsx(G2,{...t,ref:s})}),[xZ,vZ]=xg(od,{isInside:!1}),_Z=cG("TooltipContent"),G2=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=Fd(nc,n),d=vg(n),{onClose:h}=c;return _.useEffect(()=>(document.addEventListener(Dx,h),()=>document.removeEventListener(Dx,h)),[h]),_.useEffect(()=>{if(c.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),g.jsx(Md,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:g.jsxs(iw,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(_Z,{children:r}),g.jsx(xZ,{scope:n,isInside:!0,children:g.jsx(ZK,{id:c.contentId,role:"tooltip",children:i||r})})]})})});B2.displayName=nc;var U2="TooltipArrow",wZ=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=vg(n);return vZ(U2,n).isInside?null:g.jsx(sw,{...i,...r,ref:e})});wZ.displayName=U2;function CZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function bZ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function EZ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function RZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),TZ(e)}function TZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var PZ=O2,kZ=V2,AZ=z2,MZ=$2,W2=B2;const IZ=PZ,bl=kZ,El=AZ,aa=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(MZ,{children:g.jsx(W2,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden bg-white max-w-[150px] max-h-[250px] rounded-xl px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n})}));aa.displayName=W2.displayName;var _g="Switch",[NZ,Yee]=Oi(_g),[FZ,jZ]=NZ(_g),H2=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,y]=_.useState(null),v=ht(e,T=>y(T)),w=_.useRef(!1),S=p?h||!!p.closest("form"):!0,[b,R]=Fo({prop:i,defaultProp:s??!1,onChange:d,caller:_g});return g.jsxs(FZ,{scope:n,checked:b,disabled:l,children:[g.jsx(qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Z2(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:Se(t.onClick,T=>{R(P=>!P),S&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),S&&g.jsx(Y2,{control:p,bubbles:!w.current,name:r,value:c,checked:b,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});H2.displayName=_g;var X2="SwitchThumb",K2=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=jZ(X2,n);return g.jsx(qe.span,{"data-state":Z2(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});K2.displayName=X2;var LZ="SwitchBubbleInput",Y2=_.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=_.useRef(null),l=ht(o,s),c=WI(n),d=jI(e);return _.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const v=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(v)}},[c,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y2.displayName=LZ;function Z2(t){return t?"checked":"unchecked"}var DZ=H2,OZ=K2;const q2=_.forwardRef(({className:t,icon:e,...n},r)=>g.jsx(DZ,{className:Oe("relative peer inline-flex h-10 w-20 shrink-0 cursor-pointer items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n,ref:r,children:g.jsx(OZ,{className:Oe("pointer-events-none absolute left-1 flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-lg transition-transform duration-200","data-[state=checked]:translate-x-9"),children:e})}));q2.displayName="Switch";var VZ="Label",J2=_.forwardRef((t,e)=>g.jsx(qe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));J2.displayName=VZ;var Q2=J2;const zZ=Kv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wg=_.forwardRef(({className:t,...e},n)=>g.jsx(Q2,{ref:n,className:Oe(zZ(),t),...e}));wg.displayName=Q2.displayName;const hw=H9,eN=_.createContext({}),jt=({...t})=>g.jsx(eN.Provider,{value:{name:t.name},children:g.jsx(Z9,{...t})}),Cg=()=>{const t=_.useContext(eN),e=_.useContext(tN),{getFieldState:n,formState:r}=og(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},tN=_.createContext({}),It=_.forwardRef(({className:t,...e},n)=>{const r=_.useId();return g.jsx(tN.Provider,{value:{id:r},children:g.jsx("div",{ref:n,className:Oe("space-y-2",t),...e})})});It.displayName="FormItem";const Bt=_.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Cg();return g.jsx(wg,{ref:n,className:Oe(r&&"text-destructive",t),htmlFor:i,...e})});Bt.displayName="FormLabel";const Nt=_.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=Cg();return g.jsx(Vk,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Nt.displayName="FormControl";const xi=_.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Cg();return g.jsx("p",{ref:n,id:r,className:Oe("text-[0.8rem] text-muted-foreground",t),...e})});xi.displayName="FormDescription";const pn=_.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=Cg(),o=i?String((i==null?void 0:i.message)??""):e;return o?g.jsx("p",{ref:r,id:s,className:Oe("text-[0.8rem] font-medium text-destructive",t),...n,children:o}):null});pn.displayName="FormMessage";const sT=G_({animal_id:qM().optional(),nombre:Zi().min(1,"El nombre es obligatorio."),especie_id:Qn.number().optional().nullable(),tipo_id:Qn.number().optional().nullable(),raza_id:Qn.number().optional().nullable(),sexo_id:Qn.number().min(1,"El sexo es obligatorio.").optional(),fecha_nacimiento:Zi().optional(),peso:Qn.number().min(0,"Debe ser un número positivo").optional().nullable(),altura_cruz:Qn.number().min(0,"Debe ser un número positivo").optional().nullable(),longitud_tronco:Qn.number().min(0,"Debe ser un número positivo").optional().nullable(),perimetro_toracico:Qn.number().min(0,"Debe ser un número positivo").optional().nullable(),ancho_grupa:Qn.number().min(0,"Debe ser un número positivo").optional().nullable(),longitud_grupa:Qn.number().min(0,"Debe ser un número positivo").optional().nullable(),estado_reproductivo_id:Qn.number().optional().nullable(),numero_partos:Qn.number().min(0).optional().nullable(),intervalo_partos:Qn.number().min(0).optional().nullable(),ubicacion_sensor:Zi().optional().nullable(),parcela_id:Qn.number().optional().nullable()});function $Z({animal:t={},modoEdicion:e,parcelas:n=[],animalOptions:r={},onCancel:i,onSave:s}){var S,b,R,T,P,k,M,F,I,z,G;const o=e?sT:sT.extend({acronimo_identificacion:Zi().regex(/^[A-Za-z]{4}$/,"Debe contener exactamente 4 letras.").transform(V=>V.toUpperCase())}),l=z_({resolver:$_(o),defaultValues:{...t,especie_id:t.especie_id!=null?t.especie_id.toString():"",tipo_id:t.tipo_id!=null?t.tipo_id.toString():"",raza_id:t.raza_id!=null?t.raza_id.toString():"",sexo_id:t.sexo_id!=null?parseInt(t.sexo_id):1,estado_reproductivo_id:t.estado_reproductivo_id!=null?t.estado_reproductivo_id.toString():"",parcela_id:t.parcela_id!=null?t.parcela_id.toString():"",peso:((S=t.peso)==null?void 0:S.toString())||"",altura_cruz:((b=t.altura_cruz)==null?void 0:b.toString())||"",longitud_tronco:((R=t.longitud_tronco)==null?void 0:R.toString())||"",perimetro_toracico:((T=t.perimetro_toracico)==null?void 0:T.toString())||"",ancho_grupa:((P=t.ancho_grupa)==null?void 0:P.toString())||"",longitud_grupa:((k=t.longitud_grupa)==null?void 0:k.toString())||"",numero_partos:((M=t.numero_partos)==null?void 0:M.toString())||"",intervalo_partos:((F=t.intervalo_partos)==null?void 0:F.toString())||"",fecha_nacimiento:t.fecha_nacimiento?new Date(t.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:t.ubicacion_sensor||""}}),c=l.watch("especie_id"),d=l.watch("tipo_id"),h=l.watch("sexo_id"),f=h===2;_.useEffect(()=>{var V;if(c&&h){const H=(V=r.estados_reproductivos)==null?void 0:V.filter(X=>X.sexo_id===h&&X.especie_id===parseInt(c)),B=l.getValues("estado_reproductivo_id");B&&!H.some(X=>X.id.toString()===B)&&l.setValue("estado_reproductivo_id","")}},[c,h,r.estados_reproductivos,l]);const p=((I=r.tipos)==null?void 0:I.filter(V=>c?V.especie_id===parseInt(c):!0))||[],y=((z=r.razas)==null?void 0:z.filter(V=>(!c||V.especie_id===parseInt(c))&&(!d||V.tipo_id===parseInt(d))))||[],v=((G=r.estados_reproductivos)==null?void 0:G.filter(V=>V.sexo_id===h&&(!c||V.especie_id===parseInt(c))))||[],w=V=>{const H={...V};["especie_id","tipo_id","raza_id","sexo_id","estado_reproductivo_id","parcela_id"].forEach(B=>{H[B]=H[B]===""?null:parseInt(H[B])}),["peso","altura_cruz","longitud_tronco","perimetro_toracico","ancho_grupa","longitud_grupa","numero_partos","intervalo_partos","fertilidad"].forEach(B=>{H[B]=H[B]!==""?parseFloat(H[B]):null}),s(H)};return g.jsx(IZ,{children:g.jsx(hw,{...l,children:g.jsxs("form",{onSubmit:l.handleSubmit(w),className:"max-h-[85vh] overflow-y-auto bg-white p-4 sm:p-6 lg:p-8 rounded-xl w-full max-w-4xl mx-auto",children:[g.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold text-gray-800 mb-4 sm:mb-6 text-center",children:e?"Editar Registro de Animal":"Nuevo Registro de Animal"}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center mb-6 sm:mb-8",children:"Completa la información detallada para el animal."}),g.jsxs(mX,{defaultValue:"general",className:"space-y-8",children:[g.jsxs(vI,{className:"flex flex-wrap gap-2 w-full p-2 rounded-lg",children:[g.jsxs(Ff,{value:"general",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(Eo,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"General"})]}),g.jsxs(Ff,{value:"zoometria",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(kS,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Zoometría"})]}),g.jsxs(Ff,{value:"reproduccion",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(TS,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Reproducción"})]})]}),g.jsxs(jf,{value:"general",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(Eo,{className:"h-5 w-5"})," Información General"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"nombre",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Nombre"}),g.jsx(Nt,{children:g.jsx(Kt,{...V,placeholder:"Ej: Camila"})}),g.jsx(xi,{children:"Nombre común del animal."}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:e?g.jsx(jt,{control:l.control,name:"numero_identificacion",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Número de Identificación"}),g.jsx(Nt,{children:g.jsx(Kt,{...V,disabled:!0})}),g.jsx(xi,{children:"Identificador único del animal."}),g.jsx(pn,{})]})}):g.jsx(jt,{control:l.control,name:"acronimo_identificacion",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Acrónimo de Identificación"}),g.jsx(Nt,{children:g.jsx(Kt,{...V,placeholder:"Ej: ABCD (4 letras)",maxLength:4,onChange:H=>{const B=H.target.value.replace(/[^a-zA-Z]/g,"").toUpperCase();B.length<=4&&V.onChange(B)}})}),g.jsx(xi,{children:"Acrónimo de agrupación del animal."}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"parcela_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Parcela Actual"}),g.jsxs(wi,{onValueChange:V.onChange,value:V.value,children:[g.jsx(Nt,{children:g.jsx(ti,{children:g.jsx(Ci,{placeholder:"Seleccionar parcela"})})}),g.jsx(ni,{children:n.map(H=>g.jsx(Tn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(xi,{children:"Ubicación actual del animal."}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"especie_id",render:({field:V})=>{var H;return g.jsxs(It,{children:[g.jsx(Bt,{children:"Especie de Animal"}),g.jsxs(wi,{value:V.value,onValueChange:B=>{V.onChange(B),l.setValue("tipo_id",""),l.setValue("raza_id","")},children:[g.jsx(Nt,{children:g.jsx(ti,{children:g.jsx(Ci,{placeholder:"Seleccione la especie"})})}),g.jsx(ni,{children:(H=r.especies)==null?void 0:H.map(B=>g.jsx(Tn,{value:B.id.toString(),children:B.nombre},B.id))})]}),g.jsx(xi,{children:"Clasificación de la especie."}),g.jsx(pn,{})]})}})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"tipo_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Tipo de Animal"}),g.jsxs(wi,{onValueChange:H=>{V.onChange(H),l.setValue("raza_id","")},value:V.value,disabled:!c,children:[g.jsx(Nt,{children:g.jsx(ti,{children:g.jsx(Ci,{placeholder:"Seleccione el tipo"})})}),g.jsx(ni,{children:p.map(H=>g.jsx(Tn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(xi,{children:"Clasificación del tipo."}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"raza_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Raza de Animal"}),g.jsxs(wi,{onValueChange:V.onChange,value:V.value,disabled:!c||!d,children:[g.jsx(Nt,{children:g.jsx(ti,{children:g.jsx(Ci,{placeholder:"Seleccione la raza"})})}),g.jsx(ni,{children:y.map(H=>g.jsx(Tn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(xi,{children:"Clasificación de la raza."}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(jt,{control:l.control,name:"fecha_nacimiento",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Fecha de Nacimiento"}),g.jsx(Nt,{children:g.jsx(Kt,{type:"date",...V})}),g.jsx(xi,{children:"Fecha en formato AAAA-MM-DD."}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(jt,{control:l.control,name:"ubicacion_sensor",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Ubicación del Sensor"}),g.jsxs(wi,{onValueChange:V.onChange,value:V.value,children:[g.jsx(Nt,{children:g.jsx(ti,{children:g.jsx(Ci,{placeholder:"Seleccionar ubicación"})})}),g.jsxs(ni,{children:[g.jsx(Tn,{value:"cuello",children:"Cuello"}),g.jsx(Tn,{value:"pata",children:"Pata"}),g.jsx(Tn,{value:"cola",children:"Cola"}),g.jsx(Tn,{value:"implante",children:"Implante (interna)"}),g.jsx(Tn,{value:"ninguno",children:"Ninguno"})]})]}),g.jsx(pn,{})]})})})]})]}),g.jsxs(jf,{value:"zoometria",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(kS,{className:"h-5 w-5"})," Medidas Corporales (Zoometría)"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"peso",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Peso (kg)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 500.5"}),g.jsxs(bl,{children:[g.jsx(El,{asChild:!0,children:g.jsx(_i,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(aa,{children:g.jsx("p",{children:"Indica la masa corporal del animal en kilogramos."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"altura_cruz",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Altura a la Cruz (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 150"}),g.jsxs(bl,{children:[g.jsx(El,{asChild:!0,children:g.jsx(_i,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(aa,{children:g.jsx("p",{children:"Representa la distancia vertical desde el suelo hasta la protuberancia más alta de la escápula."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"longitud_tronco",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Longitud del Tronco (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 90"}),g.jsxs(bl,{children:[g.jsx(El,{asChild:!0,children:g.jsx(_i,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(aa,{children:g.jsx("p",{children:"Medida desde la punta del hombro (articulación escápulo-humeral) hasta la punta del isquion."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"perimetro_toracico",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Perímetro Torácico (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 212"}),g.jsxs(bl,{children:[g.jsx(El,{asChild:!0,children:g.jsx(_i,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(aa,{children:g.jsx("p",{children:"Medición de la circunferencia del tórax justo detrás de las paletas."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"ancho_grupa",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Ancho de Grupa (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 112"}),g.jsxs(bl,{children:[g.jsx(El,{asChild:!0,children:g.jsx(_i,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(aa,{children:g.jsx("p",{children:"Distancia transversal entre las tuberosidades coxales (puntas de las caderas). Es un indicador importante de la capacidad pélvica, especialmente relevante en hembras para evaluar la facilidad de parto (distocia)."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(jt,{control:l.control,name:"longitud_grupa",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Longitud de Grupa (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 98"}),g.jsxs(bl,{children:[g.jsx(El,{asChild:!0,children:g.jsx(_i,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(aa,{children:g.jsx("p",{children:"Medida longitudinal desde las tuberosidades ilíacas (puntas de la cadera) hasta las tuberosidades isquiáticas (puntas de la nalga)."})})]})]})})]})})})]})]}),g.jsxs(jf,{value:"reproduccion",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(TS,{className:"h-8 w-8"})," Datos Reproductivos"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(jt,{control:l.control,name:"sexo_id",render:({field:V})=>g.jsxs(It,{className:"flex flex-col",children:[g.jsx(Bt,{className:"mb-2",children:"Sexo"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(q2,{id:"sexo-switch",checked:V.value===2,onCheckedChange:H=>{const B=H?2:1;V.onChange(B),B===2&&(l.setValue("numero_partos",null),l.setValue("intervalo_partos",null),l.setValue("fertilidad",null))},className:Oe(V.value===2?"bg-blue-500":"bg-pink-500"),icon:V.value===2?g.jsx(l4,{className:"h-5 w-5 text-blue-800"}):g.jsx(D4,{className:"h-5 w-5 text-pink-600"})}),g.jsx("span",{children:V.value===2?"Macho":"Hembra"})]})}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(jt,{control:l.control,name:"estado_reproductivo_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Estado Reproductivo"}),g.jsxs(wi,{onValueChange:V.onChange,value:V.value,disabled:!c&&!V.value||v.length===0&&!V.value,children:[g.jsx(Nt,{children:g.jsx(ti,{children:g.jsx(Ci,{placeholder:"Seleccionar estado"})})}),g.jsx(ni,{children:v.map(H=>g.jsx(Tn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(jt,{control:l.control,name:"numero_partos",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Número de Partos"}),g.jsx(Nt,{children:g.jsx(Kt,{type:"number",min:0,...V,disabled:f,placeholder:f?"Solo para hembras":"Ej: 1"})}),g.jsx(xi,{children:"Número de partos registrados."}),g.jsx(pn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(jt,{control:l.control,name:"intervalo_partos",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Intervalo entre Partos"}),g.jsx(Nt,{children:g.jsx(Kt,{type:"number",min:0,...V,disabled:f,placeholder:f?"Solo para hembras":"Ej: 365 (días)"})}),g.jsx(pn,{})]})})})]})]})]}),g.jsxs("div",{className:"pt-8 flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-4 border-t border-gray-200 mt-8",children:[g.jsx(st,{type:"button",variant:"outline",onClick:i,className:"flex items-center gap-2 px-6 py-3 rounded-xl border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(st,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(OT,{className:"h-5 w-5"}),"Guardar Animal"]})]})]})})})}const BZ=G_({collar_id:qM().optional(),codigo:Zi().min(1,"El código es obligatorio."),estado:Zi().min(1,"El estado es obligatorio."),bateria:Qn.number().min(0).max(100).optional().nullable(),animal_id:$7([B7("UNASSIGNED"),Zi().regex(/^\d+$/,"ID de animal inválido. Debe ser un número.").transform(Number),z7(),V7()]).optional().nullable(),original_animal_id:Zi().optional().nullable(),original_estado:Zi().optional().nullable()});function GZ({collar:t={},animals:e=[],onCancel:n,onSave:r,collarStatesOptions:i=[]}){const s=z_({resolver:$_(BZ),defaultValues:{codigo:t.codigo||"",...t,estado:t.estado||"disponible",bateria:t.bateria,animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_estado:t.estado||"disponible"}}),{handleSubmit:o,formState:{errors:l},watch:c,setValue:d}=s,[h,f]=_.useState(""),p=c("estado")==="activo",y=c("estado")==="defectuoso",v=_.useMemo(()=>{var k;if(t.estado&&t.estado.toLowerCase()==="activo")return[{id:(k=i.find(M=>M.nombre.toLowerCase()==="activo"))==null?void 0:k.id,nombre:"activo"}];const P=["activo","sin bateria"];return i.filter(M=>!P.includes(M.nombre.toLowerCase()))},[i,t.estado]),w=P=>{let k=g.jsx(_i,{className:"h-4 w-4"}),M="N/A",F="bg-gray-100 text-gray-700";return typeof P=="number"&&(P>=70?(k=g.jsx(sv,{className:"h-4 w-4 text-green-600"}),F="bg-green-100 text-green-800"):P>=30?(k=g.jsx(ov,{className:"h-4 w-4 text-yellow-500"}),F="bg-yellow-100 text-yellow-800"):(k=g.jsx(ju,{className:"h-4 w-4 text-red-700"}),F="bg-red-100 text-red-800"),M=`${P}%`),g.jsxs(Qv,{className:Oe("flex items-center gap-1 px-2.5 py-1 rounded-xl text-xs font-medium",F),children:[k,M]})};_.useEffect(()=>{y&&d("animal_id","UNASSIGNED",{shouldValidate:!0})},[y,d]),_.useEffect(()=>{Object.keys(l).length>0&&(l.collar_id&&(console.error("Detalle del error de collar_id:",l.collar_id.message),console.error("Valor actual de collar_id en el formulario:",s.getValues("collar_id"))),l.estado&&console.error("Error estado:",l.estado.message),l.bateria&&console.error("Error bateria:",l.bateria.message),l.animal_id&&console.error("Error animal_id:",l.animal_id.message))},[l,s]);const S=c("animal_id"),b=e.find(P=>P.animal_id.toString()===(S==null?void 0:S.toString())),R=_.useMemo(()=>{const P=h.trim().toLowerCase();let k=e;return P&&(k=e.filter(M=>{var F,I,z,G,V;return((F=M.nombre)==null?void 0:F.toLowerCase().includes(P))||((z=(I=M.numero_identificacion)==null?void 0:I.toLowerCase)==null?void 0:z.call(I).includes(P))||((V=(G=M.collar_asignado)==null?void 0:G.codigo)==null?void 0:V.toLowerCase().includes(P))})),b&&!k.some(M=>M.animal_id===b.animal_id)&&(k=[b,...k]),k},[e,h,b]),T=P=>{const k={collar_id:P.collar_id,estado:P.estado,bateria:t.bateria,animal_id:P.animal_id};k.estado==="sin bateria"&&(k.bateria=0),r({...k,original_animal_id:P.original_animal_id,original_estado:P.original_estado,codigo:P.codigo})};return g.jsx(hw,{...s,children:g.jsxs("form",{onSubmit:o(T),className:"space-y-6 p-4",children:[g.jsx(jt,{control:s.control,name:"collar_id",render:({field:P})=>g.jsxs(It,{className:"hidden",children:[g.jsx(Nt,{children:g.jsx(Kt,{type:"hidden",...P,value:P.value!==void 0?String(P.value):""})}),g.jsx(pn,{})]})}),g.jsx(jt,{control:s.control,name:"original_animal_id",render:({field:P})=>g.jsx(It,{className:"hidden",children:g.jsx(Nt,{children:g.jsx(Kt,{type:"hidden",...P})})})}),g.jsx(jt,{control:s.control,name:"original_estado",render:({field:P})=>g.jsx(It,{className:"hidden",children:g.jsx(Nt,{children:g.jsx(Kt,{type:"hidden",...P})})})}),g.jsx(jt,{control:s.control,name:"codigo",render:({field:P})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Código del Collar"}),g.jsx(Nt,{children:g.jsx(Kt,{...P,disabled:!0})}),g.jsx(pn,{})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(jt,{control:s.control,name:"estado",render:({field:P})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Estado del Collar"}),g.jsxs(wi,{onValueChange:P.onChange,value:P.value,disabled:p,children:[g.jsx(Nt,{children:g.jsx(ti,{children:g.jsx(Ci,{placeholder:"Seleccionar estado"})})}),g.jsx(ni,{children:v.map(k=>g.jsx(Tn,{value:k.nombre,children:k.nombre.charAt(0).toUpperCase()+k.nombre.slice(1)},k.id))})]}),g.jsx(pn,{})]})}),g.jsxs(It,{children:[g.jsx(Bt,{children:"Nivel de Batería"}),g.jsx(Nt,{children:g.jsx("div",{className:"flex items-center h-10",children:w(t.bateria)})})]})]}),g.jsx(jt,{control:s.control,name:"animal_id",render:({field:P})=>g.jsxs(It,{children:[g.jsx(Bt,{children:"Asignar a Animal"}),g.jsxs(wi,{onValueChange:P.onChange,value:P.value,disabled:y,children:[g.jsx(Nt,{children:g.jsx(ti,{children:g.jsx(Ci,{placeholder:"Seleccionar animal (opcional)"})})}),g.jsxs(ni,{withScrollButtons:!1,className:"bg-white max-h-[350px] overflow-auto",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx(Kt,{value:h,onChange:k=>f(k.target.value),onKeyDown:k=>k.stopPropagation(),placeholder:"Buscar animal o collar",className:"mb-2 text-sm mt-4 px-4"}),g.jsx(Tn,{value:"UNASSIGNED",className:"border-b",children:g.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[g.jsx(S4,{className:"h-4 w-4"})," Desasignar"]})}),g.jsx(lw,{className:"sticky top-[6rem] z-10 bg-white h-max"})]}),R.length===0?g.jsx("div",{className:"text-sm text-gray-400 text-center py-2",children:"Sin resultados"}):R.map(k=>g.jsxs(Tn,{value:k.animal_id.toString(),className:"bg-white",children:[k.nombre," (",k.numero_identificacion,")",k.collar_asignado&&k.collar_asignado.id!==t.collar_id&&g.jsxs("span",{className:"italic ml-2",children:[" - Collar asignado (",k.collar_asignado.codigo,")"]})]},k.animal_id)),g.jsx(cw,{className:"sticky bottom-0 z-10 bg-white h-max"})]})]}),g.jsx(xi,{children:"Asigna este collar a un animal específico. Un collar solo puede estar asignado a un animal a la vez. Si el animal ya tiene un collar, este será desasignado automáticamente."}),g.jsx(pn,{})]})}),g.jsxs("div",{className:"flex justify-end gap-4 mt-6 border-t pt-4",children:[g.jsx(st,{type:"button",variant:"outline",onClick:n,className:"flex items-center gap-2 px-6 py-3 rounded-xl border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(st,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(OT,{className:"h-5 w-5"}),"Guardar Collar"]})]})]})})}const Vx=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Vx.displayName="Card";const UZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",t),...e}));UZ.displayName="CardHeader";const WZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("font-semibold leading-none tracking-tight",t),...e}));WZ.displayName="CardTitle";const HZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));HZ.displayName="CardDescription";const zx=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("p-6 pt-0",t),...e}));zx.displayName="CardContent";const XZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",t),...e}));XZ.displayName="CardFooter";function KZ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const YZ=t=>{switch(t){case"success":return JZ;case"info":return eq;case"warning":return QZ;case"error":return tq;default:return null}},ZZ=Array(12).fill(0),qZ=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},ZZ.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),JZ=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QZ=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rq=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let $x=1;class iq{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:$x++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],le.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(oq(d)&&!d.ok){s=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(d instanceof Error){s=!1;const f=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){s=!1;const f=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...v})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!le.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...y})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||$x++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Sr=new iq,sq=(t,e)=>{const n=(e==null?void 0:e.id)||$x++;return Sr.addToast({title:t,...e,id:n}),n},oq=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",aq=sq,lq=()=>Sr.toasts,cq=()=>Sr.getActiveToasts(),Pt=Object.assign(aq,{success:Sr.success,info:Sr.info,warning:Sr.warning,error:Sr.error,custom:Sr.custom,message:Sr.message,promise:Sr.promise,dismiss:Sr.dismiss,loading:Sr.loading},{getHistory:lq,getToasts:cq});KZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function yf(t){return t.label!==void 0}const uq=3,dq="24px",hq="16px",oT=4e3,fq=356,mq=14,gq=45,pq=200;function Xi(...t){return t.filter(Boolean).join(" ")}function yq(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const xq=t=>{var e,n,r,i,s,o,l,c,d;const{invert:h,toast:f,unstyled:p,interacting:y,setHeights:v,visibleToasts:w,heights:S,index:b,toasts:R,expanded:T,removeToast:P,defaultRichColors:k,closeButton:M,style:F,cancelButtonStyle:I,actionButtonStyle:z,className:G="",descriptionClassName:V="",duration:H,position:B,gap:X,expandByDefault:Z,classNames:Y,icons:D,closeButtonAriaLabel:j="Close toast"}=t,[U,q]=le.useState(null),[N,L]=le.useState(null),[re,ie]=le.useState(!1),[ce,ge]=le.useState(!1),[ae,pe]=le.useState(!1),[we,be]=le.useState(!1),[$e,Ve]=le.useState(!1),[yt,mt]=le.useState(0),[Ut,Lt]=le.useState(0),Dt=le.useRef(f.duration||H||oT),Vn=le.useRef(null),lt=le.useRef(null),$=b===0,J=b+1<=w,te=f.type,fe=f.dismissible!==!1,he=f.className||"",se=f.descriptionClassName||"",ye=le.useMemo(()=>S.findIndex(Ye=>Ye.toastId===f.id)||0,[S,f.id]),je=le.useMemo(()=>{var Ye;return(Ye=f.closeButton)!=null?Ye:M},[f.closeButton,M]),ze=le.useMemo(()=>f.duration||H||oT,[f.duration,H]),xt=le.useRef(0),Ot=le.useRef(0),ft=le.useRef(0),zn=le.useRef(null),[kr,Ar]=B.split("-"),Ie=le.useMemo(()=>S.reduce((Ye,ct,Be)=>Be>=ye?Ye:Ye+ct.height,0),[S,ye]),ve=rq(),vt=f.invert||h,Ct=te==="loading";Ot.current=le.useMemo(()=>ye*X+Ie,[ye,Ie]),le.useEffect(()=>{Dt.current=ze},[ze]),le.useEffect(()=>{ie(!0)},[]),le.useEffect(()=>{const Ye=lt.current;if(Ye){const ct=Ye.getBoundingClientRect().height;return Lt(ct),v(Be=>[{toastId:f.id,height:ct,position:f.position},...Be]),()=>v(Be=>Be.filter(Tt=>Tt.toastId!==f.id))}},[v,f.id]),le.useLayoutEffect(()=>{if(!re)return;const Ye=lt.current,ct=Ye.style.height;Ye.style.height="auto";const Be=Ye.getBoundingClientRect().height;Ye.style.height=ct,Lt(Be),v(Tt=>Tt.find(gt=>gt.toastId===f.id)?Tt.map(gt=>gt.toastId===f.id?{...gt,height:Be}:gt):[{toastId:f.id,height:Be,position:f.position},...Tt])},[re,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const Vt=le.useCallback(()=>{ge(!0),mt(Ot.current),v(Ye=>Ye.filter(ct=>ct.toastId!==f.id)),setTimeout(()=>{P(f)},pq)},[f,P,v,Ot]);le.useEffect(()=>{if(f.promise&&te==="loading"||f.duration===1/0||f.type==="loading")return;let Ye;return T||y||ve?(()=>{if(ft.current<xt.current){const Tt=new Date().getTime()-xt.current;Dt.current=Dt.current-Tt}ft.current=new Date().getTime()})():(()=>{Dt.current!==1/0&&(xt.current=new Date().getTime(),Ye=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Vt()},Dt.current))})(),()=>clearTimeout(Ye)},[T,y,f,te,ve,Vt]),le.useEffect(()=>{f.delete&&(Vt(),f.onDismiss==null||f.onDismiss.call(f,f))},[Vt,f.delete]);function Wt(){var Ye;if(D!=null&&D.loading){var ct;return le.createElement("div",{className:Xi(Y==null?void 0:Y.loader,f==null||(ct=f.classNames)==null?void 0:ct.loader,"sonner-loader"),"data-visible":te==="loading"},D.loading)}return le.createElement(qZ,{className:Xi(Y==null?void 0:Y.loader,f==null||(Ye=f.classNames)==null?void 0:Ye.loader),visible:te==="loading"})}const Jt=f.icon||(D==null?void 0:D[te])||YZ(te);var Qt,St;return le.createElement("li",{tabIndex:0,ref:lt,className:Xi(G,he,Y==null?void 0:Y.toast,f==null||(e=f.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[te],f==null||(n=f.classNames)==null?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":(Qt=f.richColors)!=null?Qt:k,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":re,"data-promise":!!f.promise,"data-swiped":$e,"data-removed":ce,"data-visible":J,"data-y-position":kr,"data-x-position":Ar,"data-index":b,"data-front":$,"data-swiping":ae,"data-dismissible":fe,"data-type":te,"data-invert":vt,"data-swipe-out":we,"data-swipe-direction":N,"data-expanded":!!(T||Z&&re),style:{"--index":b,"--toasts-before":b,"--z-index":R.length-b,"--offset":`${ce?yt:Ot.current}px`,"--initial-height":Z?"auto":`${Ut}px`,...F,...f.style},onDragEnd:()=>{pe(!1),q(null),zn.current=null},onPointerDown:Ye=>{Ct||!fe||(Vn.current=new Date,mt(Ot.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(pe(!0),zn.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,ct,Be;if(we||!fe)return;zn.current=null;const Tt=Number(((Ye=lt.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mn=Number(((ct=lt.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((Be=Vn.current)==null?void 0:Be.getTime()),en=U==="x"?Tt:Mn,Mr=Math.abs(en)/gt;if(Math.abs(en)>=gq||Mr>.11){mt(Ot.current),f.onDismiss==null||f.onDismiss.call(f,f),L(U==="x"?Tt>0?"right":"left":Mn>0?"down":"up"),Vt(),be(!0);return}else{var bt,zt;(bt=lt.current)==null||bt.style.setProperty("--swipe-amount-x","0px"),(zt=lt.current)==null||zt.style.setProperty("--swipe-amount-y","0px")}Ve(!1),pe(!1),q(null)},onPointerMove:Ye=>{var ct,Be,Tt;if(!zn.current||!fe||((ct=window.getSelection())==null?void 0:ct.toString().length)>0)return;const gt=Ye.clientY-zn.current.y,en=Ye.clientX-zn.current.x;var Mr;const bt=(Mr=t.swipeDirections)!=null?Mr:yq(B);!U&&(Math.abs(en)>1||Math.abs(gt)>1)&&q(Math.abs(en)>Math.abs(gt)?"x":"y");let zt={x:0,y:0};const In=gr=>1/(1.5+Math.abs(gr)/20);if(U==="y"){if(bt.includes("top")||bt.includes("bottom"))if(bt.includes("top")&&gt<0||bt.includes("bottom")&&gt>0)zt.y=gt;else{const gr=gt*In(gt);zt.y=Math.abs(gr)<Math.abs(gt)?gr:gt}}else if(U==="x"&&(bt.includes("left")||bt.includes("right")))if(bt.includes("left")&&en<0||bt.includes("right")&&en>0)zt.x=en;else{const gr=en*In(en);zt.x=Math.abs(gr)<Math.abs(en)?gr:en}(Math.abs(zt.x)>0||Math.abs(zt.y)>0)&&Ve(!0),(Be=lt.current)==null||Be.style.setProperty("--swipe-amount-x",`${zt.x}px`),(Tt=lt.current)==null||Tt.style.setProperty("--swipe-amount-y",`${zt.y}px`)}},je&&!f.jsx&&te!=="loading"?le.createElement("button",{"aria-label":j,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!fe?()=>{}:()=>{Vt(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Xi(Y==null?void 0:Y.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(St=D==null?void 0:D.close)!=null?St:nq):null,(te||f.icon||f.promise)&&f.icon!==null&&((D==null?void 0:D[te])!==null||f.icon)?le.createElement("div",{"data-icon":"",className:Xi(Y==null?void 0:Y.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Wt():null,f.type!=="loading"?Jt:null):null,le.createElement("div",{"data-content":"",className:Xi(Y==null?void 0:Y.content,f==null||(s=f.classNames)==null?void 0:s.content)},le.createElement("div",{"data-title":"",className:Xi(Y==null?void 0:Y.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?le.createElement("div",{"data-description":"",className:Xi(V,se,Y==null?void 0:Y.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),le.isValidElement(f.cancel)?f.cancel:f.cancel&&yf(f.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:Ye=>{yf(f.cancel)&&fe&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ye),Vt())},className:Xi(Y==null?void 0:Y.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,le.isValidElement(f.action)?f.action:f.action&&yf(f.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||z,onClick:Ye=>{yf(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ye),!Ye.defaultPrevented&&Vt())},className:Xi(Y==null?void 0:Y.actionButton,f==null||(d=f.classNames)==null?void 0:d.actionButton)},f.action.label):null)};function aT(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function vq(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",l=s?hq:dq;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}const _q=le.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:y,style:v,visibleToasts:w=uq,toastOptions:S,dir:b=aT(),gap:R=mq,icons:T,containerAriaLabel:P="Notifications"}=e,[k,M]=le.useState([]),F=le.useMemo(()=>Array.from(new Set([i].concat(k.filter(N=>N.position).map(N=>N.position)))),[k,i]),[I,z]=le.useState([]),[G,V]=le.useState(!1),[H,B]=le.useState(!1),[X,Z]=le.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=le.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=le.useRef(null),U=le.useRef(!1),q=le.useCallback(N=>{M(L=>{var re;return(re=L.find(ie=>ie.id===N.id))!=null&&re.delete||Sr.dismiss(N.id),L.filter(({id:ie})=>ie!==N.id)})},[]);return le.useEffect(()=>Sr.subscribe(N=>{if(N.dismiss){requestAnimationFrame(()=>{M(L=>L.map(re=>re.id===N.id?{...re,delete:!0}:re))});return}setTimeout(()=>{FT.flushSync(()=>{M(L=>{const re=L.findIndex(ie=>ie.id===N.id);return re!==-1?[...L.slice(0,re),{...L[re],...N},...L.slice(re+1)]:[N,...L]})})})}),[k]),le.useEffect(()=>{if(f!=="system"){Z(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:L})=>{Z(L?"dark":"light")})}catch{N.addListener(({matches:re})=>{try{Z(re?"dark":"light")}catch(ie){console.error(ie)}})}},[f]),le.useEffect(()=>{k.length<=1&&V(!1)},[k]),le.useEffect(()=>{const N=L=>{var re;if(s.every(ge=>L[ge]||L.code===ge)){var ce;V(!0),(ce=Y.current)==null||ce.focus()}L.code==="Escape"&&(document.activeElement===Y.current||(re=Y.current)!=null&&re.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),le.useEffect(()=>{if(Y.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,U.current=!1)}},[Y.current]),le.createElement("section",{ref:n,"aria-label":`${P} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((N,L)=>{var re;const[ie,ce]=N.split("-");return k.length?le.createElement("ol",{key:N,dir:b==="auto"?aT():b,tabIndex:-1,ref:Y,className:c,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":ie,"data-x-position":ce,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--width":`${fq}px`,"--gap":`${R}px`,...v,...vq(d,h)},onBlur:ge=>{U.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(U.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||U.current||(U.current=!0,j.current=ge.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{H||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},k.filter(ge=>!ge.position&&L===0||ge.position===N).map((ge,ae)=>{var pe,we;return le.createElement(xq,{key:ge.id,icons:T,index:ae,toast:ge,defaultRichColors:p,duration:(pe=S==null?void 0:S.duration)!=null?pe:y,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:r,visibleToasts:w,closeButton:(we=S==null?void 0:S.closeButton)!=null?we:l,interacting:H,position:N,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:q,toasts:k.filter(be=>be.position==ge.position),heights:I.filter(be=>be.position==ge.position),setHeights:z,expandByDefault:o,gap:R,expanded:G,swipeDirections:e.swipeDirections})})):null}))});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function wq(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Co(t,e){return typeof t=="function"?t(e):t}function Hr(t,e){return n=>{e.setState(r=>({...r,[t]:Co(n,r[t])}))}}function Sg(t){return t instanceof Function}function Cq(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Sq(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function Xe(t,e,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(s);if(!(l.length!==r.length||l.some((h,f)=>r[f]!==h)))return i;r=l;let d;if(n.key&&n.debug&&(d=Date.now()),i=e(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-d)*100)/100,p=f/16,y=(v,w)=>{for(v=String(v);v.length<w;)v=" "+v;return v};console.info(`%c⏱ ${y(f,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Ke(t,e,n,r){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function bq(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Xe(()=>[t,n,e,s],(o,l,c,d)=>({table:o,column:l,row:c,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Ke(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function Eq(t,e,n,r){var i,s;const l={...t._getDefaultColumnDef(),...e},c=l.accessorKey;let d=(i=(s=l.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:c&&(c.includes(".")?h=p=>{let y=p;for(const w of c.split(".")){var v;y=(v=y)==null?void 0:v[w]}return y}:h=p=>p[l.accessorKey]),!d)throw new Error;let f={id:`${String(d)}`,accessorFn:h,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Xe(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(y=>y.getFlatColumns())]},Ke(t.options,"debugColumns")),getLeafColumns:Xe(()=>[t._getOrderColumnsFn()],p=>{var y;if((y=f.columns)!=null&&y.length){let v=f.columns.flatMap(w=>w.getLeafColumns());return p(v)}return[f]},Ke(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(f,t);return f}const Jn="debugHeaders";function lT(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const Rq={createTable:t=>{t.getHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const l=(s=r==null?void 0:r.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?s:[],c=(o=i==null?void 0:i.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?o:[],d=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return xf(e,[...l,...d,...c],t)},Ke(t.options,Jn)),t.getCenterHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),xf(e,n,t,"center")),Ke(t.options,Jn)),t.getLeftHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return xf(e,s,t,"left")},Ke(t.options,Jn)),t.getRightHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return xf(e,s,t,"right")},Ke(t.options,Jn)),t.getFooterGroups=Xe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ke(t.options,Jn)),t.getLeftFooterGroups=Xe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ke(t.options,Jn)),t.getCenterFooterGroups=Xe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ke(t.options,Jn)),t.getRightFooterGroups=Xe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ke(t.options,Jn)),t.getFlatHeaders=Xe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,Jn)),t.getLeftFlatHeaders=Xe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,Jn)),t.getCenterFlatHeaders=Xe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,Jn)),t.getRightFlatHeaders=Xe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,Jn)),t.getCenterLeafHeaders=Xe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,Jn)),t.getLeftLeafHeaders=Xe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,Jn)),t.getRightLeafHeaders=Xe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,Jn)),t.getLeafHeaders=Xe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,l,c,d;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(d=r[0])==null?void 0:d.headers)!=null?c:[]].map(h=>h.getLeafHeaders()).flat()},Ke(t.options,Jn))}};function xf(t,e,n,r){var i,s;let o=0;const l=function(p,y){y===void 0&&(y=1),o=Math.max(o,y),p.filter(v=>v.getIsVisible()).forEach(v=>{var w;(w=v.columns)!=null&&w.length&&l(v.columns,y+1)},0)};l(t);let c=[];const d=(p,y)=>{const v={depth:y,id:[r,`${y}`].filter(Boolean).join("_"),headers:[]},w=[];p.forEach(S=>{const b=[...w].reverse()[0],R=S.column.depth===v.depth;let T,P=!1;if(R&&S.column.parent?T=S.column.parent:(T=S.column,P=!0),b&&(b==null?void 0:b.column)===T)b.subHeaders.push(S);else{const k=lT(n,T,{id:[r,y,T.id,S==null?void 0:S.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${w.filter(M=>M.column===T).length}`:void 0,depth:y,index:w.length});k.subHeaders.push(S),w.push(k)}v.headers.push(S),S.headerGroup=v}),c.push(v),y>0&&d(w,y-1)},h=e.map((p,y)=>lT(n,p,{depth:o,index:y}));d(h,o-1),c.reverse();const f=p=>p.filter(v=>v.column.getIsVisible()).map(v=>{let w=0,S=0,b=[0];v.subHeaders&&v.subHeaders.length?(b=[],f(v.subHeaders).forEach(T=>{let{colSpan:P,rowSpan:k}=T;w+=P,b.push(k)})):w=1;const R=Math.min(...b);return S=S+R,v.colSpan=w,v.rowSpan=S,{colSpan:w,rowSpan:S}});return f((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const fw=(t,e,n,r,i,s,o)=>{let l={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return l._valuesCache[c]=d.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var d;return(d=l.getValue(c))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Sq(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;c.push(h),d=h}return c.reverse()},getAllCells:Xe(()=>[t.getAllLeafColumns()],c=>c.map(d=>bq(t,l,d,d.id)),Ke(t.options,"debugRows")),_getAllCellsByColumnId:Xe(()=>[l.getAllCells()],c=>c.reduce((d,h)=>(d[h.column.id]=h,d),{}),Ke(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const d=t._features[c];d==null||d.createRow==null||d.createRow(l,t)}return l},Tq={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},nN=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};nN.autoRemove=t=>Pi(t);const rN=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};rN.autoRemove=t=>Pi(t);const iN=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};iN.autoRemove=t=>Pi(t);const sN=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};sN.autoRemove=t=>Pi(t);const oN=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});oN.autoRemove=t=>Pi(t)||!(t!=null&&t.length);const aN=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});aN.autoRemove=t=>Pi(t)||!(t!=null&&t.length);const lN=(t,e,n)=>t.getValue(e)===n;lN.autoRemove=t=>Pi(t);const cN=(t,e,n)=>t.getValue(e)==n;cN.autoRemove=t=>Pi(t);const mw=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};mw.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const l=s;s=o,o=l}return[s,o]};mw.autoRemove=t=>Pi(t)||Pi(t[0])&&Pi(t[1]);const Ps={includesString:nN,includesStringSensitive:rN,equalsString:iN,arrIncludes:sN,arrIncludesAll:oN,arrIncludesSome:aN,equals:lN,weakEquals:cN,inNumberRange:mw};function Pi(t){return t==null||t===""}const Pq={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Hr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?Ps.includesString:typeof r=="number"?Ps.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Ps.equals:Array.isArray(r)?Ps.arrIncludes:Ps.weakEquals},t.getFilterFn=()=>{var n,r;return Sg(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Ps[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r==null?void 0:r.find(h=>h.id===t.id),o=Co(n,s?s.value:void 0);if(cT(i,o,t)){var l;return(l=r==null?void 0:r.filter(h=>h.id!==t.id))!=null?l:[]}const c={id:t.id,value:o};if(s){var d;return(d=r==null?void 0:r.map(h=>h.id===t.id?c:h))!=null?d:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Co(e,i))==null?void 0:s.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(cT(c,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function cT(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const kq=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),Aq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},Mq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Iq=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},Nq=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},Fq=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!Cq(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},jq=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Lq=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Dq=(t,e)=>e.length,h0={sum:kq,min:Aq,max:Mq,extent:Iq,mean:Nq,median:Fq,unique:jq,uniqueCount:Lq,count:Dq},Oq={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Hr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return h0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return h0.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Sg(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:h0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Vq(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const zq={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Hr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Xe(n=>[Nu(e,n)],n=>n.findIndex(r=>r.id===t.id),Ke(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Nu(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=Nu(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Xe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],l=[...i];for(;l.length&&o.length;){const c=o.shift(),d=l.findIndex(h=>h.id===c);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return Vq(s,n,r)},Ke(t.options,"debugTable"))}},f0=()=>({left:[],right:[]}),$q={getInitialState:t=>({columnPinning:f0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Hr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var l,c;return{left:((l=i==null?void 0:i.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var d,h;return{left:[...((d=i==null?void 0:i.left)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},Ke(e.options,"debugRows")),t.getLeftVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Ke(e.options,"debugRows")),t.getRightVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Ke(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?f0():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:f0())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Ke(t.options,"debugColumns")),t.getRightLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Ke(t.options,"debugColumns")),t.getCenterLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},Ke(t.options,"debugColumns"))}};function Bq(t){return t||(typeof document<"u"?document:null)}const vf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},m0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Gq={getDefaultColumnDef:()=>vf,getInitialState:t=>({columnSizing:{},columnSizingInfo:m0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Hr("columnSizing",t),onColumnSizingInfoChange:Hr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:vf.minSize,(r=s??t.columnDef.size)!=null?r:vf.size),(i=t.columnDef.maxSize)!=null?i:vf.maxSize)},t.getStart=Xe(n=>[n,Nu(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),Ke(e.options,"debugColumns")),t.getAfter=Xe(n=>[n,Nu(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),Ke(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),g0(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],c=g0(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(b,R)=>{typeof R=="number"&&(e.setColumnSizingInfo(T=>{var P,k;const M=e.options.columnResizeDirection==="rtl"?-1:1,F=(R-((P=T==null?void 0:T.startOffset)!=null?P:0))*M,I=Math.max(F/((k=T==null?void 0:T.startSize)!=null?k:0),-.999999);return T.columnSizingStart.forEach(z=>{let[G,V]=z;d[G]=Math.round(Math.max(V+V*I,0)*100)/100}),{...T,deltaOffset:F,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||b==="end")&&e.setColumnSizing(T=>({...T,...d})))},f=b=>h("move",b),p=b=>{h("end",b),e.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=Bq(n),v={moveHandler:b=>f(b.clientX),upHandler:b=>{y==null||y.removeEventListener("mousemove",v.moveHandler),y==null||y.removeEventListener("mouseup",v.upHandler),p(b.clientX)}},w={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),f(b.touches[0].clientX),!1),upHandler:b=>{var R;y==null||y.removeEventListener("touchmove",w.moveHandler),y==null||y.removeEventListener("touchend",w.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),p((R=b.touches[0])==null?void 0:R.clientX)}},S=Uq()?{passive:!1}:!1;g0(s)?(y==null||y.addEventListener("touchmove",w.moveHandler,S),y==null||y.addEventListener("touchend",w.upHandler,S)):(y==null||y.addEventListener("mousemove",v.moveHandler,S),y==null||y.addEventListener("mouseup",v.upHandler,S)),e.setColumnSizingInfo(b=>({...b,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?m0():(n=t.initialState.columnSizingInfo)!=null?n:m0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let _f=null;function Uq(){if(typeof _f=="boolean")return _f;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return _f=t,_f}function g0(t){return t.type==="touchstart"}const Wq={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Hr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Xe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ke(e.options,"debugRows")),t.getVisibleCells=Xe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Ke(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Xe(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Ke(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Nu(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Hq={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},Xq={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Hr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Ps.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Sg(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Ps[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},Kq={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Hr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:l,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Bx=0,Gx=10,p0=()=>({pageIndex:Bx,pageSize:Gx}),Yq={getInitialState:t=>({...t,pagination:{...p0(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Hr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>Co(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?p0():(i=t.initialState.pagination)!=null?i:p0())},t.setPageIndex=r=>{t.setPagination(i=>{let s=Co(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?Bx:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:Bx)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?Gx:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:Gx)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,Co(r,i.pageSize)),o=i.pageSize*i.pageIndex,l=Math.floor(o/s);return{...i,pageIndex:l,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let o=Co(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=Xe(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},Ke(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},y0=()=>({top:[],bottom:[]}),Zq={getInitialState:t=>({rowPinning:y0(),...t}),getDefaultOptions:t=>({onRowPinningChange:Hr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(c=>{let{id:d}=c;return d}):[],o=i?t.getParentRows().map(c=>{let{id:d}=c;return d}):[],l=new Set([...o,t.id,...s]);e.setRowPinning(c=>{var d,h;if(n==="bottom"){var f,p;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(w=>!(l!=null&&l.has(w))),bottom:[...((p=c==null?void 0:c.bottom)!=null?p:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)]}}if(n==="top"){var y,v;return{top:[...((y=c==null?void 0:c.top)!=null?y:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)],bottom:((v=c==null?void 0:c.bottom)!=null?v:[]).filter(w=>!(l!=null&&l.has(w)))}}return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(w=>!(l!=null&&l.has(w))),bottom:((h=c==null?void 0:c.bottom)!=null?h:[]).filter(w=>!(l!=null&&l.has(w)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=s==null?void 0:s.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?y0():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:y0())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ke(t.options,"debugRows")),t.getBottomRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ke(t.options,"debugRows")),t.getCenterRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},Ke(t.options,"debugRows"))}},qq={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Hr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{Ux(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?x0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getFilteredSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?x0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getGroupedSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?x0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const l={...s};return Ux(l,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return gw(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Wx(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Wx(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Ux=(t,e,n,r,i)=>{var s;const o=i.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>Ux(t,l.id,n,r,i))};function x0(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,l){return o.map(c=>{var d;const h=gw(c,n);if(h&&(r.push(c),i[c.id]=c),(d=c.subRows)!=null&&d.length&&(c={...c,subRows:s(c.subRows)}),h)return c}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function gw(t,e){var n;return(n=e[t.id])!=null?n:!1}function Wx(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(gw(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const l=Wx(o,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const Hx=/([0-9]+)/gm,Jq=(t,e,n)=>uN(Do(t.getValue(n)).toLowerCase(),Do(e.getValue(n)).toLowerCase()),Qq=(t,e,n)=>uN(Do(t.getValue(n)),Do(e.getValue(n))),eJ=(t,e,n)=>pw(Do(t.getValue(n)).toLowerCase(),Do(e.getValue(n)).toLowerCase()),tJ=(t,e,n)=>pw(Do(t.getValue(n)),Do(e.getValue(n))),nJ=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},rJ=(t,e,n)=>pw(t.getValue(n),e.getValue(n));function pw(t,e){return t===e?0:t>e?1:-1}function Do(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function uN(t,e){const n=t.split(Hx).filter(Boolean),r=e.split(Hx).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),l=parseInt(s,10),c=[o,l].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const fu={alphanumeric:Jq,alphanumericCaseSensitive:Qq,text:eJ,textCaseSensitive:tJ,datetime:nJ,basic:rJ},iJ={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Hr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return fu.datetime;if(typeof s=="string"&&(r=!0,s.split(Hx).length>1))return fu.alphanumeric}return r?fu.text:fu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Sg(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:fu[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(y=>y.id===t.id),c=o==null?void 0:o.findIndex(y=>y.id===t.id);let d=[],h,f=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?l?h="toggle":h="add":o!=null&&o.length&&c!==o.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||i||(h="remove")),h==="add"){var p;d=[...o,{id:t.id,desc:f}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=o.map(y=>y.id===t.id?{...y,desc:f}:y):h==="remove"?d=o.filter(y=>y.id!==t.id):d=[{id:t.id,desc:f}];return d})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},sJ=[Rq,Wq,zq,$q,Tq,Pq,Hq,Xq,iJ,Oq,Kq,Yq,Zq,qq,Gq];function oJ(t){var e,n;const r=[...sJ,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((p,y)=>Object.assign(p,y.getDefaultOptions==null?void 0:y.getDefaultOptions(i)),{}),o=p=>i.options.mergeOptions?i.options.mergeOptions(s,p):{...s,...p};let c={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(p=>{var y;c=(y=p.getInitialState==null?void 0:p.getInitialState(c))!=null?y:c});const d=[];let h=!1;const f={_features:r,options:{...s,...t},initialState:c,_queue:p=>{d.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const y=Co(p,i.options);i.options=o(y)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,y,v)=>{var w;return(w=i.options.getRowId==null?void 0:i.options.getRowId(p,y,v))!=null?w:`${v?[v.id,y].join("."):y}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,y)=>{let v=(y?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!v&&(v=i.getCoreRowModel().rowsById[p],!v))throw new Error;return v},_getDefaultColumnDef:Xe(()=>[i.options.defaultColumn],p=>{var y;return p=(y=p)!=null?y:{},{header:v=>{const w=v.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:v=>{var w,S;return(w=(S=v.renderValue())==null||S.toString==null?void 0:S.toString())!=null?w:null},...i._features.reduce((v,w)=>Object.assign(v,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...p}},Ke(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Xe(()=>[i._getColumnDefs()],p=>{const y=function(v,w,S){return S===void 0&&(S=0),v.map(b=>{const R=Eq(i,b,S,w),T=b;return R.columns=T.columns?y(T.columns,R,S+1):[],R})};return y(p)},Ke(t,"debugColumns")),getAllFlatColumns:Xe(()=>[i.getAllColumns()],p=>p.flatMap(y=>y.getFlatColumns()),Ke(t,"debugColumns")),_getAllFlatColumnsById:Xe(()=>[i.getAllFlatColumns()],p=>p.reduce((y,v)=>(y[v.id]=v,y),{}),Ke(t,"debugColumns")),getAllLeafColumns:Xe(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,y)=>{let v=p.flatMap(w=>w.getLeafColumns());return y(v)},Ke(t,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,f);for(let p=0;p<i._features.length;p++){const y=i._features[p];y==null||y.createTable==null||y.createTable(i)}return i}function dN(){return t=>Xe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const l=[];for(let d=0;d<i.length;d++){const h=fw(t,t._getRowId(i[d],d,o),i[d],d,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var c;h.originalSubRows=t.options.getSubRows(i[d],d),(c=h.originalSubRows)!=null&&c.length&&(h.subRows=r(h.originalSubRows,s+1,h))}}return l};return n.rows=r(e),n},Ke(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function aJ(){return t=>Xe(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,n,r)=>!n.rows.length||e!==!0&&!Object.keys(e??{}).length||!r?n:hN(n),Ke(t.options,"debugTable"))}function hN(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function fN(t,e,n){return n.options.filterFromLeafRows?lJ(t,e,n):cJ(t,e,n)}function lJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,d){d===void 0&&(d=0);const h=[];for(let p=0;p<c.length;p++){var f;let y=c[p];const v=fw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);if(v.columnFilters=y.columnFilters,(f=y.subRows)!=null&&f.length&&d<o){if(v.subRows=l(y.subRows,d+1),y=v,e(y)&&!v.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}if(e(y)||v.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}}else y=v,e(y)&&(h.push(y),s[y.id]=y,i.push(y))}return h};return{rows:l(t),flatRows:i,rowsById:s}}function cJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,d){d===void 0&&(d=0);const h=[];for(let p=0;p<c.length;p++){let y=c[p];if(e(y)){var f;if((f=y.subRows)!=null&&f.length&&d<o){const w=fw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);w.subRows=l(y.subRows,d+1),y=w}h.push(y),i.push(y),s[y.id]=y}}return h};return{rows:l(t),flatRows:i,rowsById:s}}function uJ(){return(t,e)=>Xe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter,t.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(l=>l.id).filter(l=>l!==e),i?"__global__":void 0].filter(Boolean),o=l=>{for(let c=0;c<s.length;c++)if(l.columnFilters[s[c]]===!1)return!1;return!0};return fN(n.rows,o,t)},Ke(t.options,"debugTable"))}function mN(){return t=>Xe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<e.flatRows.length;p++)e.flatRows[p].columnFilters={},e.flatRows[p].columnFiltersMeta={};return e}const i=[],s=[];(n??[]).forEach(p=>{var y;const v=t.getColumn(p.id);if(!v)return;const w=v.getFilterFn();w&&i.push({id:p.id,filterFn:w,resolvedValue:(y=w.resolveFilterValue==null?void 0:w.resolveFilterValue(p.value))!=null?y:p.value})});const o=(n??[]).map(p=>p.id),l=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(p=>{var y;s.push({id:p.id,filterFn:l,resolvedValue:(y=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?y:r})}));let d,h;for(let p=0;p<e.flatRows.length;p++){const y=e.flatRows[p];if(y.columnFilters={},i.length)for(let v=0;v<i.length;v++){d=i[v];const w=d.id;y.columnFilters[w]=d.filterFn(y,w,d.resolvedValue,S=>{y.columnFiltersMeta[w]=S})}if(s.length){for(let v=0;v<s.length;v++){h=s[v];const w=h.id;if(h.filterFn(y,w,h.resolvedValue,S=>{y.columnFiltersMeta[w]=S})){y.columnFilters.__global__=!0;break}}y.columnFilters.__global__!==!0&&(y.columnFilters.__global__=!1)}}const f=p=>{for(let y=0;y<o.length;y++)if(p.columnFilters[o[y]]===!1)return!1;return!0};return fN(e.rows,f,t)},Ke(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function gN(t){return e=>Xe(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:l,rowsById:c}=r;const d=i*s,h=d+i;o=o.slice(d,h);let f;e.options.paginateExpandedRows?f={rows:o,flatRows:l,rowsById:c}:f=hN({rows:o,flatRows:l,rowsById:c}),f.flatRows=[];const p=y=>{f.flatRows.push(y),y.subRows.length&&y.subRows.forEach(p)};return f.rows.forEach(p),f},Ke(e.options,"debugTable"))}function pN(){return t=>Xe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(c=>{var d;return(d=t.getColumn(c.id))==null?void 0:d.getCanSort()}),o={};s.forEach(c=>{const d=t.getColumn(c.id);d&&(o[c.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=c=>{const d=c.map(h=>({...h}));return d.sort((h,f)=>{for(let y=0;y<s.length;y+=1){var p;const v=s[y],w=o[v.id],S=w.sortUndefined,b=(p=v==null?void 0:v.desc)!=null?p:!1;let R=0;if(S){const T=h.getValue(v.id),P=f.getValue(v.id),k=T===void 0,M=P===void 0;if(k||M){if(S==="first")return k?-1:1;if(S==="last")return k?1:-1;R=k&&M?0:k?S:-S}}if(R===0&&(R=w.sortingFn(h,f,v.id)),R!==0)return b&&(R*=-1),w.invertSorting&&(R*=-1),R}return h.index-f.index}),d.forEach(h=>{var f;i.push(h),(f=h.subRows)!=null&&f.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:i,rowsById:n.rowsById}},Ke(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function dJ(t,e){return t?hJ(t)?_.createElement(t,e):t:null}function hJ(t){return fJ(t)||typeof t=="function"||mJ(t)}function fJ(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function mJ(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function yN(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=_.useState(()=>({current:oJ(e)})),[r,i]=_.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}function xN({globalFilter:t,setGlobalFilter:e}){return g.jsx(Kt,{placeholder:"Buscar...",value:t||"",onChange:n=>e(n.target.value),className:"w-full max-w-sm"})}function vN({column:t}){var r,i,s,o;if(!t.getCanFilter())return null;const e=t.columnDef.header||t.id;if(["tipo","especie","sexo","raza","parcela"].includes(t.id)){const l=Array.from(new Set((o=(s=(i=(r=t.getFacetedRowModel())==null?void 0:r.rows)==null?void 0:i.map(c=>c.getValue(t.id)))==null?void 0:s.filter(c=>c!=null&&c!==""))==null?void 0:o.map(c=>String(c).trim()))).sort((c,d)=>c.localeCompare(d));return g.jsxs(wi,{value:t.getFilterValue()||"",onValueChange:c=>t.setFilterValue(c==="all"?"":c),children:[g.jsx(ti,{className:"w-full h-8 text-xs text-center",children:g.jsx(Ci,{placeholder:`${e}`})}),g.jsxs(ni,{children:[g.jsx(Tn,{value:"all",children:"Todas"}),l.map(c=>g.jsx(Tn,{value:c,children:c},c))]})]})}return g.jsx(Kt,{value:t.getFilterValue()||"",onChange:l=>t.setFilterValue(l.target.value),placeholder:`${e}`,className:"w-full h-8 text-xs text-center"})}function _N({table:t}){return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la primera página"}),g.jsx(aV,{className:"h-4 w-4"})]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la página anterior"}),g.jsx(rV,{className:"h-4 w-4"})]}),g.jsxs("div",{className:"flex-center text-sm font-medium whitespace-nowrap",children:[t.getState().pagination.pageIndex+1," de ",t.getPageCount()]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la página siguiente"}),g.jsx(DT,{className:"h-4 w-4"})]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la última página"}),g.jsx(cV,{className:"h-4 w-4"})]})]})}function wN({table:t}){return g.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:g.jsxs(wi,{value:String(t.getState().pagination.pageSize),onValueChange:e=>t.setPageSize(Number(e)),children:[g.jsx(ti,{className:"h-8 w-[70px]",children:g.jsx(Ci,{placeholder:t.getState().pagination.pageSize})}),g.jsx(ni,{children:[10,20,50,100].map(e=>g.jsx(Tn,{value:String(e),children:e},e))})]})})}function CN({animal:t,columnVisibility:e={}}){if(!t)return g.jsx("div",{className:"text-center text-gray-500 py-4",children:"No hay datos detallados para mostrar."});const n=(r,i,s,o="")=>e[r]?null:g.jsxs("div",{children:[g.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",s!=null?`${s}${o}`:"-"]});return g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-1 gap-x-2 text-sm text-gray-700",children:[n("tipo","Tipo",t.tipo),n("raza","Raza",t.raza),n("sexo","Sexo",t.sexo),n("especie","Especie",t.especie),n("parcela","Parcela",t.parcela),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fecha Nacimiento:"})," ",t.fecha_nacimiento||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Peso:"})," ",t.peso!==void 0&&t.peso!==null?`${t.peso} kg`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Altura Cruz:"})," ",t.altura_cruz!==void 0&&t.altura_cruz!==null?`${t.altura_cruz} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Tronco:"})," ",t.longitud_tronco!==void 0&&t.longitud_tronco!==null?`${t.longitud_tronco} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Perímetro Torácico:"})," ",t.perimetro_toracico!==void 0&&t.perimetro_toracico!==null?`${t.perimetro_toracico} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ancho Grupa:"})," ",t.ancho_grupa!==void 0&&t.ancho_grupa!==null?`${t.ancho_grupa} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Grupa:"})," ",t.longitud_grupa!==void 0&&t.longitud_grupa!==null?`${t.longitud_grupa} cm`:"-"]}),n("estado_reproductivo","Estado Reproductivo",t.estado_reproductivo_nombre),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Número Partos:"})," ",t.numero_partos!==void 0&&t.numero_partos!==null?t.numero_partos:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Intervalo Partos:"})," ",t.intervalo_partos!==void 0&&t.intervalo_partos!==null?`${t.intervalo_partos} días`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fertilidad:"})," ",t.fertilidad!==void 0&&t.fertilidad!==null?`${t.fertilidad}%`:"-"]}),t.collar_id&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Collar ID:"})," ",t.collar_id||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ubicación Sensor:"})," ",t.ubicacion_sensor||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Última Latitud:"})," ",t.ultima_latitud!==void 0&&t.ultima_latitud!==null?t.ultima_latitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Última Longitud:"})," ",t.ultima_longitud!==void 0&&t.ultima_longitud!==null?t.ultima_longitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Temperatura Corporal:"})," ",t.temperatura_corporal!==void 0&&t.temperatura_corporal!==null?`${t.temperatura_corporal}°C`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Hora Temperatura:"})," ",t.hora_temperatura||"-"]}),t.campo_id&&g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Campo ID:"})," ",t.campo_id]})]})]})}function gJ({row:t,onEdit:e,onDelete:n,isSelected:r,onToggleSelection:i,columnVisibility:s}){const[o,l]=_.useState(!1),c=h=>{h.stopPropagation(),l(f=>!f)},d=()=>{i&&i(t)};return g.jsxs("div",{className:`border-b ${r?"bg-blue-100":"bg-white"} transition-colors duration-100 ease-in-out`,children:[g.jsxs("div",{onClick:d,className:"p-3 flex justify-between items-center cursor-pointer",children:[g.jsxs("div",{className:"flex-grow min-w-0 mr-2",children:[g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"ID:"})," ",t.original.numero_identificacion||"-"]}),g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"Nombre:"})," ",t.original.nombre||"-"]})]}),g.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 ml-auto",children:[g.jsx(st,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),e(t.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-blue-50","aria-label":"Editar animal",children:g.jsx(uv,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),n(t.original)},className:"text-red-700 hover:text-red-800 hover:bg-red-50","aria-label":"Eliminar animal",children:g.jsx(ca,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:c,"aria-label":o?"Colapsar detalles":"Expandir detalles",className:"text-gray-500 hover:bg-gray-100",children:o?g.jsx(av,{className:"h-5 w-5"}):g.jsx(fd,{className:"h-5 w-5"})})]})]}),o&&g.jsx("div",{className:"p-3 pt-0 bg-gray-50 border-t border-gray-100",children:g.jsx(CN,{animal:t.original,columnVisibility:s})})]})}var bg="Dialog",[SN,Zee]=Oi(bg),[pJ,Vi]=SN(bg),bN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=_.useRef(null),c=_.useRef(null),[d,h]=Fo({prop:r,defaultProp:i??!1,onChange:s,caller:bg});return g.jsx(pJ,{scope:e,triggerRef:l,contentRef:c,contentId:Ti(),titleId:Ti(),descriptionId:Ti(),open:d,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};bN.displayName=bg;var EN="DialogTrigger",RN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(EN,n),s=ht(e,i.triggerRef);return g.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vw(i.open),...r,ref:s,onClick:Se(t.onClick,i.onOpenToggle)})});RN.displayName=EN;var yw="DialogPortal",[yJ,TN]=SN(yw,{forceMount:void 0}),PN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Vi(yw,e);return g.jsx(yJ,{scope:e,forceMount:n,children:_.Children.map(r,o=>g.jsx(fr,{present:n||s.open,children:g.jsx(Nd,{asChild:!0,container:i,children:o})}))})};PN.displayName=yw;var wm="DialogOverlay",kN=_.forwardRef((t,e)=>{const n=TN(wm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Vi(wm,t.__scopeDialog);return s.modal?g.jsx(fr,{present:r||s.open,children:g.jsx(vJ,{...i,ref:e})}):null});kN.displayName=wm;var xJ=Ma("DialogOverlay.RemoveScroll"),vJ=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(wm,n);return g.jsx(mg,{as:xJ,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(qe.div,{"data-state":vw(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Va="DialogContent",AN=_.forwardRef((t,e)=>{const n=TN(Va,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Vi(Va,t.__scopeDialog);return g.jsx(fr,{present:r||s.open,children:s.modal?g.jsx(_J,{...i,ref:e}):g.jsx(wJ,{...i,ref:e})})});AN.displayName=Va;var _J=_.forwardRef((t,e)=>{const n=Vi(Va,t.__scopeDialog),r=_.useRef(null),i=ht(e,n.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return ow(s)},[]),g.jsx(MN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault())})}),wJ=_.forwardRef((t,e)=>{const n=Vi(Va,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return g.jsx(MN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),MN=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Vi(Va,n),c=_.useRef(null),d=ht(e,c);return H_(),g.jsxs(g.Fragment,{children:[g.jsx(cg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Md,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vw(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(CJ,{titleId:l.titleId}),g.jsx(bJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),xw="DialogTitle",IN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(xw,n);return g.jsx(qe.h2,{id:i.titleId,...r,ref:e})});IN.displayName=xw;var NN="DialogDescription",FN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(NN,n);return g.jsx(qe.p,{id:i.descriptionId,...r,ref:e})});FN.displayName=NN;var jN="DialogClose",LN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(jN,n);return g.jsx(qe.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,()=>i.onOpenChange(!1))})});LN.displayName=jN;function vw(t){return t?"open":"closed"}var DN="DialogTitleWarning",[qee,ON]=G7(DN,{contentName:Va,titleName:xw,docsSlug:"dialog"}),CJ=({titleId:t})=>{const e=ON(DN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},SJ="DialogDescriptionWarning",bJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ON(SJ).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},EJ=bN,RJ=RN,TJ=PN,VN=kN,zN=AN,$N=IN,BN=FN,PJ=LN;const GN=EJ,UN=RJ,kJ=TJ,WN=_.forwardRef(({className:t,...e},n)=>g.jsx(VN,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));WN.displayName=VN.displayName;const _w=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(kJ,{children:[g.jsx(WN,{}),g.jsxs(zN,{ref:r,className:Oe("rounded-xl fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",t),...n,children:[e,g.jsxs(PJ,{className:"absolute right-4 top-4 rounded-xl opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(zs,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_w.displayName=zN.displayName;const ww=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ww.displayName="DialogHeader";const HN=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});HN.displayName="DialogFooter";const Cw=_.forwardRef(({className:t,...e},n)=>g.jsx($N,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Cw.displayName=$N.displayName;const XN=_.forwardRef(({className:t,...e},n)=>g.jsx(BN,{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));XN.displayName=BN.displayName;function AJ(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Sw="ScrollArea",[KN,Jee]=Oi(Sw),[MJ,oi]=KN(Sw),YN=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,c]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(null),[y,v]=_.useState(null),[w,S]=_.useState(null),[b,R]=_.useState(0),[T,P]=_.useState(0),[k,M]=_.useState(!1),[F,I]=_.useState(!1),z=ht(e,V=>c(V)),G=kd(i);return g.jsx(MJ,{scope:n,type:r,dir:G,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:k,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:S,scrollbarYEnabled:F,onScrollbarYEnabledChange:I,onCornerWidthChange:R,onCornerHeightChange:P,children:g.jsx(qe.div,{dir:G,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});YN.displayName=Sw;var ZN="ScrollAreaViewport",qN=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=oi(ZN,n),l=_.useRef(null),c=ht(e,l,o.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});qN.displayName=ZN;var ds="ScrollAreaScrollbar",bw=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=oi(ds,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return _.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?g.jsx(IJ,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(NJ,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(JN,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(Ew,{...r,ref:e}):null});bw.displayName=ds;var IJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=oi(ds,t.__scopeScrollArea),[s,o]=_.useState(!1);return _.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(fr,{present:n||s,children:g.jsx(JN,{"data-state":s?"visible":"hidden",...r,ref:e})})}),NJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=oi(ds,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Rg(()=>c("SCROLL_END"),100),[l,c]=AJ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),_.useEffect(()=>{const d=i.viewport,h=s?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const y=d[h];f!==y&&(c("SCROLL"),o()),f=y};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,s,c,o]),g.jsx(fr,{present:n||l!=="hidden",children:g.jsx(Ew,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Se(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Se(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),JN=_.forwardRef((t,e)=>{const n=oi(ds,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=_.useState(!1),l=t.orientation==="horizontal",c=Rg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return rc(n.viewport,c),rc(n.content,c),g.jsx(fr,{present:r||s,children:g.jsx(Ew,{"data-state":s?"visible":"hidden",...i,ref:e})})}),Ew=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=oi(ds,t.__scopeScrollArea),s=_.useRef(null),o=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=rF(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,y){return VJ(p,o.current,l,y)}return n==="horizontal"?g.jsx(FJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,y=uT(p,l,i.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):n==="vertical"?g.jsx(jJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,y=uT(p,l);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),FJ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=oi(ds,t.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),d=ht(e,c,s.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),g.jsx(eF,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Eg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),sF(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Sm(o.paddingLeft),paddingEnd:Sm(o.paddingRight)}})}})}),jJ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=oi(ds,t.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),d=ht(e,c,s.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),g.jsx(eF,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Eg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),sF(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Sm(o.paddingTop),paddingEnd:Sm(o.paddingBottom)}})}})}),[LJ,QN]=KN(ds),eF=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=t,y=oi(ds,n),[v,w]=_.useState(null),S=ht(e,z=>w(z)),b=_.useRef(null),R=_.useRef(""),T=y.viewport,P=r.content-r.viewport,k=Wn(h),M=Wn(c),F=Rg(f,10);function I(z){if(b.current){const G=z.clientX-b.current.left,V=z.clientY-b.current.top;d({x:G,y:V})}}return _.useEffect(()=>{const z=G=>{const V=G.target;(v==null?void 0:v.contains(V))&&k(G,P)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[T,v,P,k]),_.useEffect(M,[r,M]),rc(v,F),rc(y.content,F),g.jsx(LJ,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Wn(s),onThumbPointerUp:Wn(o),onThumbPositionChange:M,onThumbPointerDown:Wn(l),children:g.jsx(qe.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:Se(t.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),b.current=v.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),I(z))}),onPointerMove:Se(t.onPointerMove,I),onPointerUp:Se(t.onPointerUp,z=>{const G=z.target;G.hasPointerCapture(z.pointerId)&&G.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=R.current,y.viewport&&(y.viewport.style.scrollBehavior=""),b.current=null})})})}),Cm="ScrollAreaThumb",tF=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=QN(Cm,t.__scopeScrollArea);return g.jsx(fr,{present:n||i.hasThumb,children:g.jsx(DJ,{ref:e,...r})})}),DJ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=oi(Cm,n),o=QN(Cm,n),{onThumbPositionChange:l}=o,c=ht(e,f=>o.onThumbChange(f)),d=_.useRef(void 0),h=Rg(()=>{d.current&&(d.current(),d.current=void 0)},100);return _.useEffect(()=>{const f=s.viewport;if(f){const p=()=>{if(h(),!d.current){const y=zJ(f,l);d.current=y,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,h,l]),g.jsx(qe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Se(t.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),v=f.clientX-y.left,w=f.clientY-y.top;o.onThumbPointerDown({x:v,y:w})}),onPointerUp:Se(t.onPointerUp,o.onThumbPointerUp)})});tF.displayName=Cm;var Rw="ScrollAreaCorner",nF=_.forwardRef((t,e)=>{const n=oi(Rw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(OJ,{...t,ref:e}):null});nF.displayName=Rw;var OJ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=oi(Rw,n),[s,o]=_.useState(0),[l,c]=_.useState(0),d=!!(s&&l);return rc(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),rc(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?g.jsx(qe.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Sm(t){return t?parseInt(t,10):0}function rF(t,e){const n=t/e;return isNaN(n)?0:n}function Eg(t){const e=rF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function VJ(t,e,n,r="ltr"){const i=Eg(n),s=i/2,o=e||s,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return iF([c,d],f)(t)}function uT(t,e,n="ltr"){const r=Eg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Rx(t,c);return iF([0,o],[0,l])(d)}function iF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function sF(t,e){return t>0&&t<e}var zJ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Rg(t,e){const n=Wn(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function rc(t,e){const n=Wn(e);Hn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var oF=YN,$J=qN,BJ=nF;const Tg=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(oF,{ref:r,className:Oe("relative",t),...n,children:[g.jsx($J,{className:"h-full rounded-[inherit]",children:e}),g.jsx(aF,{}),g.jsx(BJ,{})]}));Tg.displayName=oF.displayName;const aF=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>g.jsx(bw,{ref:r,orientation:e,className:Oe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:g.jsx(tF,{className:"relative flex-1 rounded-full bg-border"})}));aF.displayName=bw.displayName;function GJ({table:t,columnVisibility:e={}}){const n=t.getAllColumns().filter(o=>o.getCanFilter()&&o.id!=="acciones"),r=n.filter(o=>!e[o.id]&&o.id!=="numero_identificacion"&&o.id!=="nombre"),i=()=>{n.forEach(o=>{o.getIsFiltered()&&o.setFilterValue(void 0)}),t.setGlobalFilter("")},s=n.some(o=>o.getIsFiltered())||t.getState().globalFilter;return g.jsxs(GN,{children:[g.jsx(UN,{asChild:!0,children:g.jsxs(st,{variant:"outline",className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[g.jsx($T,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Filtros"}),s&&g.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:"Activo"})]})}),g.jsxs(_w,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(ww,{className:"text-center",children:[g.jsx(Cw,{className:"text-lg font-semibold",children:"Filtros Avanzados"}),s&&g.jsx("div",{className:"w-full flex justify-center",children:g.jsxs(st,{variant:"ghost",size:"sm",onClick:i,className:"text-red-500 hover:bg-red-50 gap-1",children:[g.jsx(On,{className:"h-4 w-4"})," Limpiar todo"]})})]}),g.jsx(Tg,{className:"max-h-[70vh] py-2",children:g.jsx("div",{className:"flex flex-col items-center gap-4",children:r.length>0?r.map(o=>g.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm w-full",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 capitalize",children:o.id.replace(/_/g," ")}),o.getIsFiltered()&&g.jsx(st,{variant:"ghost",size:"icon",onClick:()=>o.setFilterValue(void 0),className:"text-red-500 hover:bg-red-50",children:g.jsx(On,{className:"h-4 w-4"})})]}),g.jsx(vN,{column:o}),o.getIsFiltered()&&g.jsxs("p",{className:"text-xs text-blue-800 mt-1",children:["Filtro activo: ",g.jsx("code",{children:String(o.getFilterValue())})]})]},o.id)):g.jsx("p",{className:"text-center text-gray-500",children:"No hay filtros ocultos disponibles para esta vista."})})})]})]})}const UJ=Al.xs;function WJ({data:t=[],columns:e=[],exportFilename:n="export.csv",onRowClick:r,onEditRow:i,onDeleteRow:s,globalFilter:o,setGlobalFilter:l,rowSelection:c,setRowSelection:d,sorting:h,setSorting:f,pagination:p,setPagination:y,columnVisibility:v,setColumnVisibility:w}){const[S,b]=_.useState(null),R=XG(),T=R<UJ,P=["sexo","tipo","raza","especie","parcela"];_.useEffect(()=>{const X={numero_identificacion:!0,nombre:!0,acciones:!0};X.sexo=R>=Al.xxl,X.tipo=R>=Al.xl,X.raza=R>=Al.lg,X.especie=R>=Al.md,X.parcela=R>=Al.sm,T&&P.forEach(Z=>{X[Z]=!1}),w(X)},[R,T]);const k=_.useMemo(()=>P.some(X=>v[X]===!1),[v,P]),M=yN({data:t,columns:e,state:{globalFilter:o,rowSelection:c,sorting:h,pagination:p,columnVisibility:v},onGlobalFilterChange:X=>{y(Z=>({...Z,pageIndex:0})),l(X)},onRowSelectionChange:d,onSortingChange:f,onPaginationChange:y,onColumnVisibilityChange:w,onColumnFiltersChange:()=>{y(X=>({...X,pageIndex:0}))},getCoreRowModel:dN(),getFilteredRowModel:mN(),getSortedRowModel:pN(),getPaginationRowModel:gN(),getExpandedRowModel:aJ(),getFacetedRowModel:uJ(),enableRowSelection:!0,autoResetPageIndex:!1,meta:{showExpandableRows:T,columnVisibility:v}}),F=_.useCallback(()=>{d({}),b(null)},[]);_.useEffect(()=>{const X=Z=>{Z.key==="Escape"&&F()};return window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X)}},[F]);const I=(X,Z,Y)=>{if(!T){let D={...c};if(Y.shiftKey&&S!==null){const j=M.getRowModel().rows.map(N=>N.id),[U,q]=[S,Z].sort((N,L)=>N-L);for(let N=U;N<=q;N++)D[j[N]]=!0}else Y.ctrlKey||Y.metaKey?(D[X.id]=!D[X.id],b(Z)):(D[X.id]&&Object.keys(D).length===1?delete D[X.id]:D={[X.id]:!0},b(Z));d(D)}r&&r(X.original)},z=_.useCallback(X=>{d(Z=>({...Z,[X.id]:!Z[X.id]}))},[]),G=()=>{M.getIsAllPageRowsSelected()?M.toggleAllPageRowsSelected(!1):M.toggleAllPageRowsSelected(!0)},V=()=>M.getIsAllPageRowsSelected()?{text:"Deseleccionar Página",icon:g.jsx(zs,{className:"h-4 w-4"}),variant:"outline"}:M.getIsSomePageRowsSelected()?{text:"Deseleccionar Página",icon:g.jsx(BT,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Página",icon:g.jsx(hd,{className:"h-4 w-4"}),variant:"outline"},H=M.getState().globalFilter||M.getAllColumns().some(X=>X.getIsFiltered()),B=V();return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(Eo,{className:"h-5 w-5 text-blue-600"}),"Animales Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(xN,{globalFilter:o,setGlobalFilter:l}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[M.getFilteredRowModel().rows.length>0&&g.jsxs(st,{onClick:G,variant:B.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[B.icon," ",g.jsx("span",{className:"hidden lg:inline",children:B.text})]}),!T&&H&&g.jsxs(st,{onClick:()=>{M.resetGlobalFilter(),M.getAllColumns().forEach(X=>X.setFilterValue(void 0)),d({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(On,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),(T||k)&&g.jsx(GJ,{table:M,columnVisibility:v})]})]}),g.jsx("div",{className:"overflow-hidden",children:T?g.jsx("div",{className:"space-y-2",children:M.getRowModel().rows.map(X=>g.jsx(gJ,{row:X,onEdit:()=>i(X.original.animal_id),onDelete:()=>s(X.original),isSelected:X.getIsSelected(),onToggleSelection:z,columnVisibility:M.options.meta.columnVisibility},X.id))}):g.jsxs("table",{className:"min-w-full table-fixed text-center",children:[g.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:M.getHeaderGroups().map(X=>g.jsx("tr",{children:X.headers.map(Z=>g.jsx("th",{className:"border-b p-2",children:Z.isPlaceholder?null:g.jsx("div",{className:"p-1 flex flex-col items-center justify-center space-y-1",children:g.jsxs("div",{className:"flex items-center justify-center w-full",children:[Z.column.getCanSort()&&g.jsx(st,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-gray-200 flex-shrink-0",onClick:Y=>{var D;Y.stopPropagation(),(D=Z.column.getToggleSortingHandler())==null||D(Y)},children:{asc:g.jsx(UO,{className:"h-4 w-4"}),desc:g.jsx(BO,{className:"h-4 w-4"})}[Z.column.getIsSorted()??null]||g.jsx($T,{className:"h-4 w-4"})}),Z.column.getCanFilter()&&g.jsx("div",{children:g.jsx(vN,{column:Z.column})})]})})},Z.id))},X.id))}),g.jsx("tbody",{children:M.getRowModel().rows.map(X=>g.jsxs(_.Fragment,{children:[g.jsx("tr",{onClick:Z=>I(X,X.index,Z),className:`transition-colors duration-100 ease-in-out
                                            ${X.getIsSelected()?"bg-blue-100 hover:bg-blue-200":"even:bg-gray-50 odd:bg-white hover:bg-gray-100"}`,children:X.getVisibleCells().map(Z=>g.jsx("td",{className:"border-b p-2",children:dJ(Z.column.columnDef.cell,Z.getContext())},Z.id))}),X.getIsExpanded()&&g.jsx("tr",{children:g.jsx("td",{colSpan:X.getVisibleCells().length,className:"p-3 bg-gray-100 border-b border-gray-200 text-left",children:g.jsx(CN,{animal:X.original,columnVisibility:M.options.meta.columnVisibility})})})]},X.id))})]})}),g.jsxs("div",{className:"flex justify-between mt-2 flex-wrap gap-2",children:[g.jsx(_N,{table:M}),Object.keys(c).length>0&&g.jsxs(st,{onClick:F,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(C0,{className:"h-4 w-4"})," Deseleccionar Todo"]}),g.jsx(wN,{table:M})]})]})}var HJ="Separator",dT="horizontal",XJ=["horizontal","vertical"],lF=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=dT,...i}=t,s=KJ(r)?r:dT,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(qe.div,{"data-orientation":s,...l,...i,ref:e})});lF.displayName=HJ;function KJ(t){return XJ.includes(t)}var cF=lF;const uF=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>g.jsx(cF,{ref:i,decorative:n,orientation:e,className:Oe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));uF.displayName=cF.displayName;var Xx=["Enter"," "],YJ=["ArrowDown","PageUp","Home"],dF=["ArrowUp","PageDown","End"],ZJ=[...YJ,...dF],qJ={ltr:[...Xx,"ArrowRight"],rtl:[...Xx,"ArrowLeft"]},JJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jd="Menu",[ad,QJ,eQ]=U_(jd),[Ua,hF]=Oi(jd,[eQ,_c,ag]),Pg=_c(),fF=ag(),[tQ,Wa]=Ua(jd),[nQ,Ld]=Ua(jd),mF=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=Pg(e),[c,d]=_.useState(null),h=_.useRef(!1),f=Wn(s),p=kd(i);return _.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),g.jsx(nw,{...l,children:g.jsx(tQ,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:g.jsx(nQ,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};mF.displayName=jd;var rQ="MenuAnchor",Tw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Pg(n);return g.jsx(rw,{...i,...r,ref:e})});Tw.displayName=rQ;var Pw="MenuPortal",[iQ,gF]=Ua(Pw,{forceMount:void 0}),pF=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Wa(Pw,e);return g.jsx(iQ,{scope:e,forceMount:n,children:g.jsx(fr,{present:n||s.open,children:g.jsx(Nd,{asChild:!0,container:i,children:r})})})};pF.displayName=Pw;var ii="MenuContent",[sQ,kw]=Ua(ii),yF=_.forwardRef((t,e)=>{const n=gF(ii,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Wa(ii,t.__scopeMenu),o=Ld(ii,t.__scopeMenu);return g.jsx(ad.Provider,{scope:t.__scopeMenu,children:g.jsx(fr,{present:r||s.open,children:g.jsx(ad.Slot,{scope:t.__scopeMenu,children:o.modal?g.jsx(oQ,{...i,ref:e}):g.jsx(aQ,{...i,ref:e})})})})}),oQ=_.forwardRef((t,e)=>{const n=Wa(ii,t.__scopeMenu),r=_.useRef(null),i=ht(e,r);return _.useEffect(()=>{const s=r.current;if(s)return ow(s)},[]),g.jsx(Aw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aQ=_.forwardRef((t,e)=>{const n=Wa(ii,t.__scopeMenu);return g.jsx(Aw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),lQ=Ma("MenuContent.ScrollLock"),Aw=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:v,...w}=t,S=Wa(ii,n),b=Ld(ii,n),R=Pg(n),T=fF(n),P=QJ(n),[k,M]=_.useState(null),F=_.useRef(null),I=ht(e,F,S.onContentChange),z=_.useRef(0),G=_.useRef(""),V=_.useRef(0),H=_.useRef(null),B=_.useRef("right"),X=_.useRef(0),Z=v?mg:_.Fragment,Y=v?{as:lQ,allowPinchZoom:!0}:void 0,D=U=>{var ae,pe;const q=G.current+U,N=P().filter(we=>!we.disabled),L=document.activeElement,re=(ae=N.find(we=>we.ref.current===L))==null?void 0:ae.textValue,ie=N.map(we=>we.textValue),ce=_Q(ie,q,re),ge=(pe=N.find(we=>we.textValue===ce))==null?void 0:pe.ref.current;(function we(be){G.current=be,window.clearTimeout(z.current),be!==""&&(z.current=window.setTimeout(()=>we(""),1e3))})(q),ge&&setTimeout(()=>ge.focus())};_.useEffect(()=>()=>window.clearTimeout(z.current),[]),H_();const j=_.useCallback(U=>{var N,L;return B.current===((N=H.current)==null?void 0:N.side)&&CQ(U,(L=H.current)==null?void 0:L.area)},[]);return g.jsx(sQ,{scope:n,searchRef:G,onItemEnter:_.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:_.useCallback(U=>{var q;j(U)||((q=F.current)==null||q.focus(),M(null))},[j]),onTriggerLeave:_.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:V,onPointerGraceIntentChange:_.useCallback(U=>{H.current=U},[]),children:g.jsx(Z,{...Y,children:g.jsx(cg,{asChild:!0,trapped:i,onMountAutoFocus:Se(s,U=>{var q;U.preventDefault(),(q=F.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Md,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:g.jsx(iI,{asChild:!0,...T,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:Se(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(iw,{role:"menu","aria-orientation":"vertical","data-state":NF(S.open),"data-radix-menu-content":"",dir:b.dir,...R,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:Se(w.onKeyDown,U=>{const N=U.target.closest("[data-radix-menu-content]")===U.currentTarget,L=U.ctrlKey||U.altKey||U.metaKey,re=U.key.length===1;N&&(U.key==="Tab"&&U.preventDefault(),!L&&re&&D(U.key));const ie=F.current;if(U.target!==ie||!ZJ.includes(U.key))return;U.preventDefault();const ge=P().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);dF.includes(U.key)&&ge.reverse(),xQ(ge)}),onBlur:Se(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(z.current),G.current="")}),onPointerMove:Se(t.onPointerMove,ld(U=>{const q=U.target,N=X.current!==U.clientX;if(U.currentTarget.contains(q)&&N){const L=U.clientX>X.current?"right":"left";B.current=L,X.current=U.clientX}}))})})})})})})});yF.displayName=ii;var cQ="MenuGroup",Mw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{role:"group",...r,ref:e})});Mw.displayName=cQ;var uQ="MenuLabel",xF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{...r,ref:e})});xF.displayName=uQ;var bm="MenuItem",hT="menu.itemSelect",kg=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=_.useRef(null),o=Ld(bm,t.__scopeMenu),l=kw(bm,t.__scopeMenu),c=ht(e,s),d=_.useRef(!1),h=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(hT,{bubbles:!0,cancelable:!0});f.addEventListener(hT,y=>r==null?void 0:r(y),{once:!0}),JM(f,p),p.defaultPrevented?d.current=!1:o.onClose()}};return g.jsx(vF,{...i,ref:c,disabled:n,onClick:Se(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),d.current=!0},onPointerUp:Se(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Se(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Xx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});kg.displayName=bm;var vF=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=kw(bm,n),l=fF(n),c=_.useRef(null),d=ht(e,c),[h,f]=_.useState(!1),[p,y]=_.useState("");return _.useEffect(()=>{const v=c.current;v&&y((v.textContent??"").trim())},[s.children]),g.jsx(ad.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:g.jsx(sI,{asChild:!0,...l,focusable:!r,children:g.jsx(qe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:Se(t.onPointerMove,ld(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,ld(v=>o.onItemLeave(v))),onFocus:Se(t.onFocus,()=>f(!0)),onBlur:Se(t.onBlur,()=>f(!1))})})})}),dQ="MenuCheckboxItem",_F=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return g.jsx(EF,{scope:t.__scopeMenu,checked:n,children:g.jsx(kg,{role:"menuitemcheckbox","aria-checked":Em(n)?"mixed":n,...i,ref:e,"data-state":Nw(n),onSelect:Se(i.onSelect,()=>r==null?void 0:r(Em(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_F.displayName=dQ;var wF="MenuRadioGroup",[hQ,fQ]=Ua(wF,{value:void 0,onValueChange:()=>{}}),CF=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Wn(r);return g.jsx(hQ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:g.jsx(Mw,{...i,ref:e})})});CF.displayName=wF;var SF="MenuRadioItem",bF=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=fQ(SF,t.__scopeMenu),s=n===i.value;return g.jsx(EF,{scope:t.__scopeMenu,checked:s,children:g.jsx(kg,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Nw(s),onSelect:Se(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});bF.displayName=SF;var Iw="MenuItemIndicator",[EF,mQ]=Ua(Iw,{checked:!1}),RF=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=mQ(Iw,n);return g.jsx(fr,{present:r||Em(s.checked)||s.checked===!0,children:g.jsx(qe.span,{...i,ref:e,"data-state":Nw(s.checked)})})});RF.displayName=Iw;var gQ="MenuSeparator",TF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});TF.displayName=gQ;var pQ="MenuArrow",PF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Pg(n);return g.jsx(sw,{...i,...r,ref:e})});PF.displayName=pQ;var yQ="MenuSub",[Qee,kF]=Ua(yQ),vu="MenuSubTrigger",AF=_.forwardRef((t,e)=>{const n=Wa(vu,t.__scopeMenu),r=Ld(vu,t.__scopeMenu),i=kF(vu,t.__scopeMenu),s=kw(vu,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},h=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>h,[h]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),g.jsx(Tw,{asChild:!0,...d,children:g.jsx(vF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":NF(n.open),...t,ref:eg(e,i.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,ld(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Se(t.onPointerLeave,ld(f=>{var y,v;h();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const w=(v=n.content)==null?void 0:v.dataset.side,S=w==="right",b=S?-5:5,R=p[S?"left":"right"],T=p[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:R,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:R,y:p.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,f=>{var y;const p=s.searchRef.current!=="";t.disabled||p&&f.key===" "||qJ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});AF.displayName=vu;var MF="MenuSubContent",IF=_.forwardRef((t,e)=>{const n=gF(ii,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Wa(ii,t.__scopeMenu),o=Ld(ii,t.__scopeMenu),l=kF(MF,t.__scopeMenu),c=_.useRef(null),d=ht(e,c);return g.jsx(ad.Provider,{scope:t.__scopeMenu,children:g.jsx(fr,{present:r||s.open,children:g.jsx(ad.Slot,{scope:t.__scopeMenu,children:g.jsx(Aw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Se(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Se(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),p=JJ[o.dir].includes(h.key);f&&p&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});IF.displayName=MF;function NF(t){return t?"open":"closed"}function Em(t){return t==="indeterminate"}function Nw(t){return Em(t)?"indeterminate":t?"checked":"unchecked"}function xQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function vQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _Q(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=vQ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function wQ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function CQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return wQ(n,e)}function ld(t){return e=>e.pointerType==="mouse"?t(e):void 0}var SQ=mF,bQ=Tw,EQ=pF,RQ=yF,TQ=Mw,PQ=xF,kQ=kg,AQ=_F,MQ=CF,IQ=bF,NQ=RF,FQ=TF,jQ=PF,LQ=AF,DQ=IF,Ag="DropdownMenu",[OQ,ete]=Oi(Ag,[hF]),mr=hF(),[VQ,FF]=OQ(Ag),jF=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=mr(e),d=_.useRef(null),[h,f]=Fo({prop:i,defaultProp:s??!1,onChange:o,caller:Ag});return g.jsx(VQ,{scope:e,triggerId:Ti(),triggerRef:d,contentId:Ti(),open:h,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),modal:l,children:g.jsx(SQ,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};jF.displayName=Ag;var LF="DropdownMenuTrigger",DF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=FF(LF,n),o=mr(n);return g.jsx(bQ,{asChild:!0,...o,children:g.jsx(qe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:eg(e,s.triggerRef),onPointerDown:Se(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Se(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});DF.displayName=LF;var zQ="DropdownMenuPortal",OF=t=>{const{__scopeDropdownMenu:e,...n}=t,r=mr(e);return g.jsx(EQ,{...r,...n})};OF.displayName=zQ;var VF="DropdownMenuContent",zF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=FF(VF,n),s=mr(n),o=_.useRef(!1);return g.jsx(RQ,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zF.displayName=VF;var $Q="DropdownMenuGroup",BQ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(TQ,{...i,...r,ref:e})});BQ.displayName=$Q;var GQ="DropdownMenuLabel",$F=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(PQ,{...i,...r,ref:e})});$F.displayName=GQ;var UQ="DropdownMenuItem",BF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(kQ,{...i,...r,ref:e})});BF.displayName=UQ;var WQ="DropdownMenuCheckboxItem",GF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(AQ,{...i,...r,ref:e})});GF.displayName=WQ;var HQ="DropdownMenuRadioGroup",XQ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(MQ,{...i,...r,ref:e})});XQ.displayName=HQ;var KQ="DropdownMenuRadioItem",UF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(IQ,{...i,...r,ref:e})});UF.displayName=KQ;var YQ="DropdownMenuItemIndicator",WF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(NQ,{...i,...r,ref:e})});WF.displayName=YQ;var ZQ="DropdownMenuSeparator",HF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(FQ,{...i,...r,ref:e})});HF.displayName=ZQ;var qQ="DropdownMenuArrow",JQ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(jQ,{...i,...r,ref:e})});JQ.displayName=qQ;var QQ="DropdownMenuSubTrigger",XF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(LQ,{...i,...r,ref:e})});XF.displayName=QQ;var eee="DropdownMenuSubContent",KF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(DQ,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KF.displayName=eee;var tee=jF,nee=DF,ree=OF,YF=zF,ZF=$F,qF=BF,JF=GF,QF=UF,ej=WF,tj=HF,nj=XF,rj=KF;const iee=tee,see=nee,oee=_.forwardRef(({className:t,inset:e,children:n,...r},i)=>g.jsxs(nj,{ref:i,className:Oe("flex cursor-default select-none items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,g.jsx(DT,{className:"ml-auto"})]}));oee.displayName=nj.displayName;const aee=_.forwardRef(({className:t,...e},n)=>g.jsx(rj,{ref:n,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));aee.displayName=rj.displayName;const ij=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(ree,{children:g.jsx(YF,{ref:r,sideOffset:e,className:Oe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));ij.displayName=YF.displayName;const Il=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(qF,{ref:r,className:Oe("relative flex cursor-default select-none items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Il.displayName=qF.displayName;const lee=_.forwardRef(({className:t,children:e,checked:n,...r},i)=>g.jsxs(JF,{ref:i,className:Oe("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(ej,{children:g.jsx(hd,{className:"h-4 w-4"})})}),e]}));lee.displayName=JF.displayName;const cee=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(QF,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(ej,{children:g.jsx(_V,{className:"h-2 w-2 fill-current"})})}),e]}));cee.displayName=QF.displayName;const uee=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(ZF,{ref:r,className:Oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));uee.displayName=ZF.displayName;const Kx=_.forwardRef(({className:t,...e},n)=>g.jsx(tj,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));Kx.displayName=tj.displayName;function dee({table:t=null,filename:e="data",entityType:n}){const r=(l,c)=>{const d=window.URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download=c,document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(d),Pt.success("Archivo exportado correctamente.")},i=async l=>{let c=[];if(l==="selected"&&t&&(c=t.getSelectedRowModel().rows.map(h=>h.original.id||h.original.animal_id),c.length===0)){Pt.warning("No hay filas seleccionadas para exportar.",{description:"Por favor, selecciona al menos una fila.",icon:g.jsx(la,{className:"h-4 w-4 text-orange-500"})});return}const d={globalFilter:t?t.getState().globalFilter:null,ids:c};try{let h;if(n==="animals")h=await T6(l,d);else if(n==="collares")h=await B9(l,d);else throw new Error("Tipo de entidad no soportado para exportación.");r(h,`${e}_${l}.csv`)}catch(h){console.error(`Error al exportar ${n} (${l}):`,h),Pt.error(`Error al exportar ${n}.`,{description:h.message,icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}},s=async()=>{try{let l;if(n==="animals")l=await tA();else if(n==="collares")l=await IM();else throw new Error("Tipo de entidad no soportado para plantilla.");r(l,`plantilla_${n}.csv`)}catch(l){console.error(`Error al descargar plantilla de ${n}:`,l),Pt.error("Error al descargar la plantilla.",{description:l.message,icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}},o=t&&typeof t=="object"&&t.getFilteredRowModel&&t.getRowModel&&t.getSelectedRowModel;return g.jsxs(iee,{children:[g.jsx(see,{asChild:!0,children:g.jsxs(st,{className:"gap-2 bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(CV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Exportar"})]})}),g.jsxs(ij,{align:"end",className:"w-[180px] bg-white",children:[g.jsx(Il,{onClick:()=>i("all"),children:"Exportar Todo"}),o&&g.jsxs(g.Fragment,{children:[g.jsx(Il,{onClick:()=>i("filtered"),children:"Exportar Filtrado"}),g.jsx(Il,{onClick:()=>i("page"),children:"Exportar Página"}),t.getIsSomeRowsSelected()||t.getIsAllRowsSelected()?g.jsxs(g.Fragment,{children:[g.jsx(Kx,{}),g.jsxs(Il,{onClick:()=>i("selected"),children:["Exportar Seleccionado (",t.getSelectedRowModel().rows.length,")"]})]}):null]}),g.jsx(Kx,{}),g.jsxs(Il,{onClick:s,className:"flex items-center gap-2",children:[g.jsx(zT,{className:"h-4 w-4 text-blue-800"})," Descargar Plantilla"]})]})]})}function hee({entityType:t,onImportSuccess:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(null),h=y=>{const v=y.target.files?y.target.files[0]:null;s(v),d(null)},f=async()=>{if(!i){Pt.error("Por favor, selecciona un archivo CSV para importar.");return}l(!0),d(null);try{let y;if(t==="animals")y=await P6(i);else if(t==="collares")y=await G9(i);else throw new Error("Tipo de entidad no soportado para importación.");d(y),y.status==="success"?(Pt.success("Importación completada con éxito.",{description:y.message,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})}),r(!1),s(null),e&&e()):y.status==="partial_success"?Pt.warning("Importación completada con algunos errores.",{description:y.message,icon:g.jsx(la,{className:"h-4 w-4 text-orange-500"}),duration:5e3}):Pt.error("La importación falló.",{description:y.message||"Ocurrió un error inesperado en el servidor.",icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}catch(y){console.error(`Error al importar ${t}:`,y),Pt.error("Error al iniciar la importación.",{description:y.message,icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})}),d({summary:{total_processed:0,created:0,updated:0,errors_count:1},errors:[{row:"N/A",errors:[{field:"Archivo",value:i==null?void 0:i.name,message:y.message}]}]})}finally{l(!1)}},p=async()=>{l(!0);try{let y;if(t==="animals")y=await tA();else if(t==="collares")y=await IM();else throw new Error("Tipo de entidad no soportado para plantilla.");const v=window.URL.createObjectURL(y),w=document.createElement("a");w.href=v,w.download=`plantilla_${t}.csv`,document.body.appendChild(w),w.click(),w.remove(),window.URL.revokeObjectURL(v),Pt.success(`Plantilla de ${t} descargada correctamente.`)}catch(y){console.error(`Error al descargar plantilla de ${t}:`,y),Pt.error("Error al descargar la plantilla.",{description:y.message,icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}finally{l(!1)}};return g.jsxs(GN,{open:n,onOpenChange:r,children:[g.jsx(UN,{asChild:!0,children:g.jsxs(st,{className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(AS,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Importar"})]})}),g.jsxs(_w,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(ww,{children:[g.jsxs(Cw,{className:"flex items-center gap-2",children:[g.jsx(AS,{className:"h-6 w-6 text-yellow-700"})," Importar ",t==="animals"?"Animales":"Collares"]}),g.jsxs(XN,{children:["Sube un archivo CSV para importar o actualizar ",t==="animals"?"animales":"collares",".",g.jsxs(st,{variant:"link",onClick:p,className:"p-0 h-auto text-blue-800 hover:text-blue-800 flex items-center justify-start",disabled:o,children:[g.jsx(zT,{className:"h-4 w-4 mr-1"})," Descargar Plantilla"]})]})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[g.jsx(wg,{htmlFor:"file",className:"text-right",children:"Archivo CSV"}),g.jsx(Kt,{id:"file",type:"file",accept:".csv",onChange:h,className:"col-span-3",disabled:o})]}),i&&g.jsx("p",{className:"text-sm text-muted-foreground text-center",children:g.jsx("span",{className:"font-semibold",children:i.name})}),c&&g.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-gray-50",children:[g.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Resumen de Importación"}),g.jsxs("p",{className:"text-sm",children:["Total procesados: ",c.summary.total_processed]}),g.jsxs("p",{className:"text-sm",children:["Creados: ",c.summary.created]}),g.jsxs("p",{className:"text-sm",children:["Actualizados: ",c.summary.updated]}),g.jsxs("p",{className:"text-sm font-semibold",children:["Errores: ",c.summary.errors_count]}),c.errors_count>0&&g.jsxs("div",{className:"mt-4",children:[g.jsxs("h5",{className:"font-semibold text-sm text-red-600 mb-2 flex items-center gap-1",children:[g.jsx(VV,{className:"h-4 w-4"})," Detalles de Errores:"]}),g.jsx(Tg,{className:"h-40 border rounded-xl p-2 bg-white",children:c.errors.map((y,v)=>g.jsxs("div",{className:"mb-2 text-xs text-red-700 border-b pb-1 last:border-b-0",children:[g.jsxs("p",{className:"font-bold",children:["Fila ",y.row,":"]}),g.jsx("ul",{className:"list-disc pl-4",children:y.errors.map((w,S)=>g.jsxs("li",{children:[g.jsxs("span",{className:"font-medium",children:[w.field,":"]})," ",w.message,' (Valor: "',w.value,'")']},S))})]},v))})]})]})]}),g.jsxs(HN,{className:"flex flex-col sm:flex-row justify-between sm:space-x-2",children:[g.jsx(st,{variant:"outline",onClick:()=>{r(!1),s(null),d(null)},className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:"Cerrar"}),g.jsxs(st,{onClick:f,disabled:!i||o,variant:"default",className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[o&&g.jsx($V,{className:"mr-2 h-4 w-4 animate-spin"}),"Importar Archivo"]})]})]})]})}const fee=G_({identificadorBase:Zi().min(1,"El identificador base es obligatorio.").max(4,"El identificador no puede exceder 4 caracteres."),cantidad:Qn.number().int().min(1,"La cantidad debe ser al menos 1.").max(500,"Máximo 500 collares por lote.")}),mee=(t,e)=>{const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(_i,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(sv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(ov,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(ju,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(lv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(ju,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batería";break;case"defectuoso":i=g.jsx(On,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(Qv,{className:Oe("flex items-center gap-1 px-2.5 py-1 rounded-xl text-xs font-medium whitespace-nowrap max-w-[70%] truncate",o),children:[i,s]})};function gee({collares:t=[],onCreateBatch:e,onDelete:n,onEditCollar:r,fullCollarDataForExport:i=[],onImportSuccess:s,globalFilter:o,setGlobalFilter:l,rowSelection:c,setRowSelection:d,sorting:h,setSorting:f,pagination:p,setPagination:y,columnVisibility:v,setColumnVisibility:w}){const S=z_({resolver:$_(fee),defaultValues:{identificadorBase:"",cantidad:1}}),b=_.useCallback(G=>{e(G.identificadorBase,G.cantidad),S.reset({identificadorBase:"",cantidad:1})},[e,S]),R=_.useMemo(()=>[{accessorKey:"id"},{accessorKey:"codigo"},{accessorKey:"prefijo"},{accessorKey:"estado"},{accessorKey:"bateria"},{accessorKey:"animal_id"},{accessorKey:"animal_nombre"}],[]),T=yN({data:t,columns:R,state:{globalFilter:o,rowSelection:c,sorting:h,pagination:p,columnVisibility:v},onGlobalFilterChange:G=>{y(V=>({...V,pageIndex:0})),l(G)},onRowSelectionChange:d,onSortingChange:f,onPaginationChange:y,onColumnVisibilityChange:w,getCoreRowModel:dN(),getFilteredRowModel:mN(),getPaginationRowModel:gN(),getSortedRowModel:pN(),enableRowSelection:!0,autoResetPageIndex:!1,globalFilterFn:(G,V,H)=>{var D,j,U;const B=String(H).toLowerCase(),X=((D=G.original.codigo)==null?void 0:D.toLowerCase())||"",Z=((j=G.original.estado)==null?void 0:j.toLowerCase())||"",Y=((U=G.original.animal_nombre)==null?void 0:U.toLowerCase())||"";return X.includes(B)||Z.includes(B)||Y.includes(B)}}),P=T.getRowModel().rows,k=_.useCallback(()=>{d({})},[]),M=_.useCallback(()=>{T.getIsAllPageRowsSelected()?T.toggleAllPageRowsSelected(!1):T.toggleAllPageRowsSelected(!0)},[T]),F=_.useCallback(()=>T.getIsAllPageRowsSelected()?{text:"Deseleccionar Página",icon:g.jsx(zs,{className:"h-4 w-4"}),variant:"outline"}:T.getIsSomePageRowsSelected()?{text:"Deseleccionar Página",icon:g.jsx(BT,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Página",icon:g.jsx(hd,{className:"h-4 w-4"}),variant:"outline"},[T]),I=T.getState().globalFilter||T.getAllColumns().some(G=>G.getIsFiltered()),z=F();return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(gV,{className:"h-5 w-5 text-purple-600"}),"Registrar Nuevos Collares"]}),g.jsx(hw,{...S,children:g.jsxs("form",{onSubmit:S.handleSubmit(b),className:"flex flex-col md:flex-row md:items-end gap-4 flex-wrap",children:[g.jsx(jt,{control:S.control,name:"identificadorBase",render:({field:G})=>g.jsxs(It,{className:"flex-grow min-w-[160px]",children:[g.jsx(Bt,{children:"Identificador Base"}),g.jsx(Nt,{children:g.jsx(Kt,{placeholder:"Ej. AFGH",...G,className:S.formState.errors.identificadorBase?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(pn,{})]})}),g.jsx(jt,{control:S.control,name:"cantidad",render:({field:G})=>g.jsxs(It,{className:"w-full sm:w-40",children:[g.jsx(Bt,{children:"Cantidad"}),g.jsx(Nt,{children:g.jsx(Kt,{type:"number",placeholder:"Ej. 100",...G,onChange:V=>G.onChange(V.target.value===""?"":Number(V.target.value)),className:S.formState.errors.cantidad?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(pn,{})]})}),g.jsxs(st,{type:"submit",className:"flex-shrink-0 gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-sm h-10 px-4",children:[g.jsx(PV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Crear Collares"})]})]})})]}),g.jsx(uF,{}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(v4,{className:"h-5 w-5 text-purple-600"}),"Collares Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(xN,{globalFilter:o,setGlobalFilter:l}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[T.getFilteredRowModel().rows.length>0&&g.jsxs(st,{onClick:M,variant:z.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[z.icon," ",g.jsx("span",{className:"hidden lg:inline",children:z.text})]}),I&&g.jsxs(st,{onClick:()=>{T.resetGlobalFilter(),T.getAllColumns().forEach(G=>G.setFilterValue(void 0)),d({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(On,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),g.jsx(dee,{table:T,filename:"collares",entityType:"collares"}),g.jsx(hee,{entityType:"collares",onImportSuccess:s})]})]}),g.jsx(Tg,{className:"max-h-[80vh] w-full overflow-y-auto rounded-xl p-3 bg-gray-50",children:P.length===0?g.jsxs("div",{className:"text-center text-gray-500 py-12",children:[g.jsx(C0,{className:"h-10 w-10 mx-auto mb-3 text-gray-400"}),g.jsx("p",{className:"text-lg font-medium",children:t.length>0&&T.getState().globalFilter?"No se encontraron collares con los filtros aplicados.":t.length>0?"No hay collares en esta página con la paginación actual.":"No hay collares registrados."}),g.jsx("p",{className:"text-sm",children:t.length>0&&T.getState().globalFilter?"Intenta ajustar tu búsqueda.":t.length>0?"Ajusta las filas por página o navega a otra página.":"Utiliza el formulario de arriba para añadir uno."})]}):g.jsx("ul",{className:"grid w-full p-1 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:P.map(G=>{const V=G.original,H=G.getIsSelected();return g.jsxs("li",{className:Oe("flex flex-col justify-center p-4 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-150 min-h-[120px] cursor-pointer relative",H?"border-blue-500 ring-2 ring-blue-500 bg-blue-50":"border-gray-200"),onClick:G.getToggleSelectedHandler(),children:[g.jsxs("div",{className:"space-y-1 mb-2",children:[g.jsx("div",{className:"font-semibold text-gray-900 text-base flex items-center gap-2",children:g.jsxs("span",{children:["Código: ",V.codigo]})}),g.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:V.animal_nombre?g.jsxs("span",{className:"flex items-center gap-1",children:["Asignado a: ",g.jsx("b",{className:"text-blue-700",children:V.animal_nombre})]}):g.jsx("span",{className:"text-muted-foreground italic",children:"No asignado"})})]}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 mt-2",children:[mee(V.estado,V.bateria),g.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[g.jsx(st,{size:"icon",variant:"ghost",onClick:B=>{B.stopPropagation(),r(V.id)},title:"Editar collar",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:g.jsx(uv,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:B=>{B.stopPropagation(),n(V)},title:"Eliminar collar",className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:g.jsx(ca,{className:"h-4 w-4"})})]})]})]},V.id)})})}),g.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mt-4",children:[g.jsx(_N,{table:T}),Object.keys(c).length>0&&g.jsxs(st,{onClick:k,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(C0,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Deseleccionar Todo"})]}),g.jsx(wN,{table:T})]})]})]})}const bs=wq(),sj="animalTableState";function wf(){try{const t=JSON.parse(sessionStorage.getItem(sj));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnVisibility:{},rowSelection:{}}}}const oj="collarTableState";function Cf(){try{const t=JSON.parse(sessionStorage.getItem(oj));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnVisibility:{},rowSelection:{}}}}function pee(){var zn,kr,Ar;const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState({tipos:[],razas:[],sexos:[],parcelas:[],especies:[],estados_reproductivos:[]}),[c,d]=_.useState([]),[h,f]=_.useState({}),[p,y]=_.useState({}),[v,w]=_.useState(!1),[S,b]=_.useState(!1),[R,T]=_.useState(!1),[P,k]=_.useState({abierto:!1,animalId:null}),[M,F]=_.useState([]),[I,z]=_.useState(null),[G,V]=_.useState({abierto:!1,animal:null}),[H,B]=_.useState({abierto:!1,collar:null}),X=_.useRef(null),Z=_.useRef(null),Y=_.useRef({animals:0,collares:0}),[D,j]=_.useState(wf().globalFilter),[U,q]=_.useState(wf().sorting),[N,L]=_.useState(wf().pagination),[re,ie]=_.useState(wf().columnVisibility),[ce,ge]=_.useState({}),[ae,pe]=_.useState(Cf().globalFilter),[we,be]=_.useState(Cf().sorting),[$e,Ve]=_.useState(Cf().pagination),[yt,mt]=_.useState(Cf().columnVisibility),[Ut,Lt]=_.useState({}),Dt=Ie=>{L(ve=>({...ve,pageIndex:0})),j(Ie)},Vn=Ie=>{Ve(ve=>({...ve,pageIndex:0})),pe(Ie)},lt=_.useCallback(async()=>{X.current&&(Y.current.animals=X.current.scrollTop),Z.current&&(Y.current.collares=Z.current.scrollTop);try{const[Ie,ve,vt,Ct,Vt]=await Promise.all([_6(),j9(),Ia(),C6(),$9()]),Wt=new Map;ve.forEach(St=>{St.animal_id&&Wt.set(St.animal_id,{id:St.id,codigo:St.codigo,estado:St.estado,bateria:St.bateria,ultima_actividad:St.ultima_actividad})});const Jt=Ie.map(St=>{const Ye=Wt.get(St.animal_id);return{...St,collar_asignado:Ye||null,sexo_nombre:St.sexo,especie_nombre:St.especie,tipo_nombre:St.tipo,raza_nombre:St.raza,estado_reproductivo_nombre:St.estado_reproductivo_nombre,parcela_nombre:St.parcela_nombre,fecha_nacimiento:St.fecha_nacimiento}});e(Jt),r(ve);const Qt=Object.values(vt.parcelas||{}).flat();s(Qt),l(Ct),d(Vt)}catch(Ie){console.error("Error al cargar datos iniciales:",Ie),Pt.error("Error al cargar los datos.",{description:"Por favor, intente recargar la página.",icon:g.jsx(la,{className:"h-4 w-4 text-red-500"})})}finally{X.current&&(X.current.scrollTop=Y.current.animals),Z.current&&(Z.current.scrollTop=Y.current.collares)}},[]);_.useEffect(()=>{lt()},[lt]);const $=()=>{f({}),w(!1),b(!0)},J=_.useCallback(async Ie=>{var ve,vt,Ct,Vt,Wt,Jt,Qt,St,Ye,ct;try{const Be=await S6(Ie),Tt={...Be,parcela_id:((ve=Be.parcela_id)==null?void 0:ve.toString())||"",raza_id:Be.raza_id!=null?Be.raza_id.toString():"",sexo_id:Be.sexo_id!=null?Be.sexo_id:1,tipo_id:Be.tipo_id!=null?Be.tipo_id.toString():"",especie_id:Be.especie_id!=null?Be.especie_id.toString():"",estado_reproductivo_id:Be.estado_reproductivo_id!=null?Be.estado_reproductivo_id.toString():"",peso:((vt=Be.peso)==null?void 0:vt.toString())||"",altura_cruz:((Ct=Be.altura_cruz)==null?void 0:Ct.toString())||"",longitud_tronco:((Vt=Be.longitud_tronco)==null?void 0:Vt.toString())||"",perimetro_toracico:((Wt=Be.perimetro_toracico)==null?void 0:Wt.toString())||"",ancho_grupa:((Jt=Be.ancho_grupa)==null?void 0:Jt.toString())||"",longitud_grupa:((Qt=Be.longitud_grupa)==null?void 0:Qt.toString())||"",numero_partos:((St=Be.numero_partos)==null?void 0:St.toString())||"",intervalo_partos:((Ye=Be.intervalo_partos)==null?void 0:Ye.toString())||"",fertilidad:((ct=Be.fertilidad)==null?void 0:ct.toString())||"50",fecha_nacimiento:Be.fecha_nacimiento?new Date(Be.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:Be.ubicacion_sensor||""};f(Tt),w(!0),b(!0)}catch(Be){console.error("Error al cargar ficha de animal:",Be),Pt.error("No se pudo cargar la ficha del animal.",{description:"Por favor, intente de nuevo.",icon:g.jsx(la,{className:"h-4 w-4 text-red-500"})})}},[]),te=async Ie=>{try{v?(await E6(Ie.animal_id,Ie),Pt.success("Animal actualizado.",{description:`Los datos de ${Ie.nombre} han sido guardados.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})})):(await b6(Ie),Pt.success("Animal creado.",{description:`El animal ${Ie.nombre} ha sido añadido.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})})),b(!1),f({}),await lt()}catch(ve){console.error("Error al guardar animal:",ve),Pt.error("Error al guardar el animal.",{description:ve.message||"Hubo un problema al procesar la solicitud.",icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}},fe=async()=>{if(G.animal)try{await R6(G.animal.animal_id),Pt.success("Animal eliminado.",{description:`${G.animal.nombre} ha sido eliminado correctamente.`,icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})}),V({abierto:!1,animal:null}),await lt()}catch(Ie){console.error("Error al eliminar animal:",Ie),Pt.error("Error al eliminar el animal.",{description:Ie.message||"No se pudo completar la eliminación. Si está asignado a un collar, se desvinculará automáticamente.",icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}},he=async(Ie,ve)=>{try{await O9({identificador:Ie,cantidad:ve}),Pt.success("Collares creados.",{description:`Se han registrado ${ve} collares con identificador ${Ie}.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})}),await lt()}catch(vt){console.error("Error al crear collares en lote:",vt),Pt.error("Error al crear collares.",{description:vt.message||"Hubo un problema al procesar la solicitud de creación masiva.",icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}},se=Ie=>{B({abierto:!0,collar:Ie})},ye=async()=>{if(H.collar)try{await D9(H.collar.id),Pt.success("Collar eliminado.",{description:`El collar con código ${H.collar.codigo} ha sido eliminado.`,icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})}),B({abierto:!1,collar:null}),await lt()}catch(Ie){console.error("Error al eliminar collar:",Ie),Pt.error("Error al eliminar el collar.",{description:Ie.message||"No se pudo completar la eliminación. Si está asignado, se desvinculará automáticamente.",icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}},je=_.useCallback(async Ie=>{try{const ve=await z9(Ie);y({collar_id:ve.id,codigo:ve.codigo,estado:ve.estado,bateria:ve.bateria,animal_id:ve.animal_id!=null?ve.animal_id.toString():"UNASSIGNED",original_animal_id:ve.animal_id!=null?ve.animal_id.toString():"UNASSIGNED",original_estado:ve.estado}),T(!0)}catch(ve){console.error("Error al cargar detalles del collar:",ve),Pt.error("No se pudo cargar la ficha del collar.",{description:"Verifique la conexión o intente de nuevo.",icon:g.jsx(la,{className:"h-4 w-4 text-red-500"})})}},[]),ze=async Ie=>{try{const{collar_id:ve,animal_id:vt,original_animal_id:Ct,original_estado:Vt,...Wt}=Ie;let Jt=!1;const Qt=Wt.estado!==Vt,St=Wt.bateria!==p.bateria;(Qt||St)&&(await V9(ve,{estado:Wt.estado,bateria:Wt.bateria}),Jt=!0,Pt.success("Collar actualizado.",{description:`Los datos del collar ${Ie.codigo} han sido guardados.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})})),vt!==Ct?(await dR(ve,vt==="UNASSIGNED"?null:vt),Jt=!0,Pt.success("Asignación de collar actualizada.",{description:`La asignación del collar ${Ie.codigo} ha sido modificada.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})})):!Qt&&!St&&Pt.info("No se detectaron cambios en el collar.",{description:"No se realizó ninguna actualización.",icon:g.jsx(_i,{className:"h-4 w-4 text-blue-500"})}),Jt&&await lt(),T(!1),y({})}catch(ve){console.error("Error al guardar collar:",ve);const vt=ve.message||"Hubo un problema al procesar la solicitud.";Pt.error("Error al guardar el collar.",{description:vt,icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}},xt=_.useCallback(async Ie=>{try{const ve=await L9();F(ve),z(null),k({abierto:!0,animalId:Ie})}catch(ve){console.error("Error al cargar collares disponibles:",ve),Pt.error("No se pudieron cargar collares disponibles para asignar.",{description:"Por favor, intente de nuevo.",icon:g.jsx(la,{className:"h-4 w-4 text-red-500"})})}},[]),Ot=async()=>{if(!I||!P.animalId){Pt.error("Debe seleccionar un collar para asignar.",{icon:g.jsx(la,{className:"h-4 w-4 text-red-500"})});return}try{await dR(parseInt(I),P.animalId),Pt.success("Collar asignado.",{description:`Collar ${I} asignado al animal.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})}),k({abierto:!1,animalId:null}),z(null),await lt()}catch(Ie){console.error("Error al asignar collar:",Ie),Pt.error("Error al asignar el collar.",{description:Ie.message||"Hubo un problema al procesar la asignación.",icon:g.jsx(On,{className:"h-4 w-4 text-red-500"})})}},ft=_.useMemo(()=>{var Ie;return[bs.accessor("numero_identificacion",{header:"ID"}),bs.accessor("nombre",{header:"Nombre"}),bs.accessor(ve=>ve.collar_asignado?ve.collar_asignado.codigo:null,{id:"collar_info",header:"Collar",cell:({row:ve})=>{const vt=ve.original;return vt.collar_asignado?g.jsx(st,{onClick:Ct=>{Ct.stopPropagation(),je(vt.collar_asignado.id)},className:"gap-2 h-auto bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto hover:underline",children:vt.collar_asignado.codigo}):g.jsxs(st,{onClick:Ct=>{Ct.stopPropagation(),xt(vt.animal_id)},className:"gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(PS,{className:"h-3 w-3"})," ",g.jsx("span",{className:"hidden md:inline",children:"Asignar"})]})},filterFn:(ve,vt,Ct)=>{var Wt;const Vt=(Wt=ve.original.collar_asignado)==null?void 0:Wt.codigo;return Vt?Vt.toLowerCase().startsWith(Ct.toLowerCase()):!1}}),bs.accessor(ve=>ve.parcela?ve.parcela:"-",{id:"parcela",header:"Parcela",enableColumnFilter:!0,meta:{filterOptions:o.parcelas.map(ve=>ve.nombre)}}),bs.accessor(ve=>ve.especie?ve.especie:"-",{id:"especie",header:"Especie",enableColumnFilter:!0,meta:{filterOptions:o.especies.map(ve=>ve.nombre)}}),bs.accessor(ve=>ve.raza?ve.raza:"-",{id:"raza",header:"Raza",enableColumnFilter:!0,meta:{filterOptions:o.razas.map(ve=>ve.nombre)}}),bs.accessor(ve=>ve.tipo?ve.tipo:"-",{id:"tipo",header:"Tipo",enableColumnFilter:!0,meta:{filterOptions:o.tipos.map(ve=>ve.nombre)}}),bs.accessor(ve=>ve.sexo?ve.sexo:"-",{id:"sexo",header:"Sexo",enableColumnFilter:!0,meta:{filterOptions:(Ie=o.sexos)==null?void 0:Ie.map(ve=>ve.nombre)}}),bs.display({id:"acciones",header:"Funciones",enableColumnFilter:!1,cell:({row:ve,table:vt})=>g.jsxs("div",{className:"flex gap-2 justify-center",children:[g.jsxs(st,{size:"icon",variant:"ghost",onClick:Ct=>{Ct.stopPropagation(),J(ve.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:[g.jsx(uv,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Editar animal"})]}),g.jsxs(st,{size:"icon",variant:"ghost",onClick:Ct=>{Ct.stopPropagation(),V({abierto:!0,animal:ve.original})},className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:[g.jsx(ca,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Eliminar animal"})]}),!vt.options.meta.showExpandableRows&&g.jsx(st,{size:"icon",variant:"ghost",onClick:Ct=>{Ct.stopPropagation(),ve.toggleExpanded()},className:"text-gray-500 hover:bg-gray-100","aria-label":ve.getIsExpanded()?"Colapsar detalles":"Expandir detalles",children:ve.getIsExpanded()?g.jsx(av,{className:"h-5 w-5"}):g.jsx(fd,{className:"h-5 w-5"})})]})})]},[o,J,je,xt]);return _.useEffect(()=>{sessionStorage.setItem(sj,JSON.stringify({globalFilter:D,sorting:U,pagination:N,columnVisibility:re}))},[D,U,N,re]),_.useEffect(()=>{sessionStorage.setItem(oj,JSON.stringify({globalFilter:ae,sorting:we,pagination:$e,columnVisibility:yt}))},[ae,we,$e,yt]),g.jsxs("div",{className:"px-6 py-20 sm:px-8 md:px-10 lg:px-12 xl:px-16 bg-white min-h-screen",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:[g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(LT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-blue-800 mr-2 sm:mr-3 align-middle"}),"Gestión de Animales"]}),g.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:g.jsxs(st,{onClick:$,className:"gap-2 bg-blue-800 hover:bg-blue-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(PS,{className:"h-4 w-4"})," Nuevo Animal"]})})]}),g.jsx("div",{className:"gap-4 sm:gap-6 lg:gap-8",children:g.jsx(Vx,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(zx,{className:"p-4",ref:X,children:g.jsx(WJ,{data:t,columns:ft,exportFilename:"animales",fullData:t,onRowClick:Ie=>console.log("Seleccionado:",Ie.numero_identificacion),onEditRow:J,onDeleteRow:Ie=>V({abierto:!0,animal:Ie}),globalFilter:D,setGlobalFilter:Dt,rowSelection:ce,setRowSelection:ge,sorting:U,setSorting:q,pagination:N,setPagination:L,columnVisibility:re,setColumnVisibility:ie})})})}),g.jsx("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(UT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-purple-600 mr-2 sm:mr-3 align-middle"}),"Gestión de Collares"]})}),g.jsx("div",{className:"mb-4 gap-4 sm:gap-6 lg:gap-8",children:g.jsx(Vx,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(zx,{ref:Z,children:g.jsx(gee,{collares:n,onCreateBatch:he,onDelete:se,onEditCollar:je,fullCollarDataForExport:n,collarStatesOptions:c,onImportSuccess:lt,globalFilter:ae,setGlobalFilter:Vn,rowSelection:Ut,setRowSelection:Lt,sorting:we,setSorting:be,pagination:$e,setPagination:Ve,columnVisibility:yt,setColumnVisibility:mt})})})}),g.jsx(da,{isOpen:S,size:"xxxxl",children:g.jsx($Z,{animal:h,modoEdicion:v,parcelas:i,animalOptions:o,onCancel:()=>b(!1),onSave:te})}),g.jsx(da,{isOpen:R,size:"xl",children:g.jsx(GZ,{collar:p,animals:t,collarStatesOptions:c,onCancel:()=>T(!1),onSave:ze})}),g.jsx(da,{isOpen:P.abierto,title:`Asignar Collar a ${P.animalId?(zn=t.find(Ie=>Ie.animal_id===P.animalId))==null?void 0:zn.nombre:"animal desconocido"}`,description:"Selecciona un collar disponible para asignar a este animal.",onCancel:()=>{k({abierto:!1,animalId:null}),z(null)},onConfirm:Ot,confirmText:"Asignar Collar",confirmColor:"bg-purple-600 hover:bg-purple-700",cancelText:"Cancelar",icon:g.jsx(LV,{className:"h-6 w-6 text-purple-500"}),size:"sm",message:g.jsx("div",{className:"p-4 space-y-4",children:g.jsxs("div",{children:[g.jsx(wg,{htmlFor:"collar-select",className:"mb-2 block text-sm font-medium text-gray-700",children:"Seleccionar Collar"}),g.jsxs(wi,{onValueChange:z,value:I||"",disabled:M.length===0,children:[g.jsx(ti,{className:"w-full",children:g.jsx(Ci,{placeholder:M.length===0?"No hay collares disponibles":"Seleccionar collar"})}),g.jsx(ni,{children:M.length===0?g.jsx(Tn,{value:"no-available",disabled:!0,children:"No hay collares disponibles"}):M.map(Ie=>g.jsxs(Tn,{value:Ie.id.toString(),children:[Ie.codigo," (Batería: ",Ie.bateria,"%, Estado: ",Ie.estado,")"]},Ie.id))})]}),M.length===0&&g.jsx("p",{className:"text-sm text-red-500 mt-2",children:"No hay collares con estado 'disponible' para asignar."})]})})}),g.jsx(da,{isOpen:H.abierto,title:"Confirmar Eliminación de Collar",onConfirm:ye,onCancel:()=>B({abierto:!1,collar:null}),confirmText:"Eliminar Collar",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(ca,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["¿Estás seguro de que quieres eliminar el collar ",g.jsx("span",{className:"font-bold text-red-600",children:(kr=H.collar)==null?void 0:kr.codigo}),"?",g.jsx("br",{}),"Si este collar está asignado a un animal, se desvinculará automáticamente."]})}),g.jsx(da,{isOpen:G.abierto,title:"Confirmar Eliminación de Animal",onConfirm:fe,onCancel:()=>V({abierto:!1,animal:null}),confirmText:"Eliminar Animal",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(ca,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["¿Estás seguro de que quieres eliminar a ",g.jsx("span",{className:"font-bold text-red-600",children:(Ar=G.animal)==null?void 0:Ar.nombre}),"?",g.jsx("br",{}),"Esta acción es irreversible y también desvinculará cualquier collar asociado."]})})]})}function yee({mapRef:t}){const e=_.useRef(null),n=_.useRef(!1),r=_.useRef({x:0,y:0}),i=_.useRef(0),s=_.useRef(0),o=.4;_.useEffect(()=>{if(!(t!=null&&t.current))return;const p=t.current.getView(),y=()=>{const v=p.getRotation();e.current&&(e.current.style.transform=`rotate(${-v}rad)`)};return y(),p.on("change:rotation",y),()=>p.un("change:rotation",y)},[t]);const l=(p,y)=>{const v=p-r.current.x,w=r.current.y-y;return Math.atan2(v,w)},c=p=>{if(!t.current)return;n.current=!0;const y=p.currentTarget.getBoundingClientRect();r.current={x:y.left+y.width/2,y:y.top+y.height/2},i.current=t.current.getView().getRotation(),s.current=l(p.clientX,p.clientY),window.addEventListener("mousemove",d),window.addEventListener("mouseup",h)},d=p=>{if(!n.current||!t.current)return;const v=l(p.clientX,p.clientY)-s.current,w=i.current+v*o;t.current.getView().setRotation(w)},h=()=>{n.current=!1,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)},f=()=>{!n.current&&t.current&&t.current.getView().setRotation(0)};return g.jsx("button",{title:"Brújula",className:"bg-white rounded-full p-3 shadow-md transition-transform select-none",onMouseDown:c,onClick:f,children:g.jsx("img",{ref:e,src:"/dist/compass.svg",alt:"Compass",className:"w-6 h-6 transition-transform pointer-events-none"})})}function xee({mapRef:t,onToggleLayer:e=()=>{},onLocate:n=()=>{},onCenterCampo:r=()=>{}}){const i=_.useRef(null);return _.useEffect(()=>{if(!(t!=null&&t.current))return;const s=t.current.getView(),o=()=>{const l=s.getRotation();i.current&&(i.current.style.transform=`rotate(${-l}rad)`)};return s.on("change:rotation",o),()=>s.un("change:rotation",o)},[t]),g.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-col gap-2",children:[g.jsx("button",{onClick:e,title:"Cambiar capa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(FV,{className:"w-6 h-6 text-gray-800"})}),g.jsx("button",{onClick:r,title:"Centrar en campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(i4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:n,title:"Centrar mapa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(GV,{className:"w-6 h-6 text-gray-800"})}),g.jsx(yee,{mapRef:t})]})}function vee({campos:t={},campoId:e="",parcelaId:n="",parcelaNombre:r="",areaParcela:i=0,areaCampo:s=0,selectorOpen:o=!1,setSelectorOpen:l=()=>{},onSelectCampo:c=()=>{},mapRef:d=null}){const h=f=>{const p=t[f];p&&(d!=null&&d.current)&&d.current.getView().animate({center:ko([p.lon,p.lat]),duration:800,easing:Pr}),c(f),l(!1),window.dispatchEvent(new Event("cerrarPopupResumen"))};return _.useEffect(()=>{const f=()=>l(!1);return window.addEventListener("closeCampoSelector",f),()=>window.removeEventListener("closeCampoSelector",f)},[]),g.jsxs("div",{className:"relative","data-testid":"campo-selector",children:[g.jsxs("button",{onClick:()=>{l(f=>{const p=!f;return p&&window.dispatchEvent(new Event("closeForm")),p})},className:"flex items-center px-4 py-2 bg-black/60 backdrop-blur-md rounded-full shadow-lg text-white text-sm hover:bg-black/70 transition-all max-w-full",children:[g.jsxs("div",{className:"flex flex-col items-center min-w-[120px] max-w-[150px]",children:[g.jsx("span",{className:"text-xs text-gray-300 truncate",children:e&&t[e]?t[e].nombre:"Creando nuevo campo"}),n&&e?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-center gap-1 flex-wrap",children:[g.jsx(cv,{size:14,className:"text-blue-400"}),g.jsx("span",{className:"text-sm truncate",children:r})]}),g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(i/1e4).toFixed(2)," ha"]})]}):e&&t[e]?g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(s/1e4).toFixed(2)," ha"]}):g.jsx("span",{className:"text-xs text-green-400 mt-0.5",children:"0.00 ha"})]}),g.jsx(fd,{size:16,className:"text-white"})]}),o&&g.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-md text-sm overflow-hidden z-20 w-full",children:Object.entries(t).map(([f,p])=>g.jsx("button",{onClick:()=>h(f),disabled:f===e,className:"w-full px-4 py-2 text-left hover:bg-gray-100 disabled:text-gray-400 disabled:italic disabled:cursor-not-allowed",children:p.nombre},f))})]})}function _ee(){const{mapRef:t,ready:e}=_.useContext(Cd),{campoSeleccionado:n,setCampoSeleccionado:r,lastCampoId:i}=_.useContext(Sd),[s,o]=_.useState({}),[l,c]=_.useState({}),[d,h]=_.useState({campo_id:"",parcela_id:"",nombre:"",descripcion:""}),[f,p]=_.useState(0),[y,v]=_.useState(0),[w,S]=_.useState(!1);return _.useEffect(()=>{async function b(){const R=await Ia();o(R.campos),c(R.parcelas);const T=R.campo_preferido_id||Object.keys(R.campos)[0],P=n??i??T;if(P){r(P),h(F=>({...F,campo_id:P}));const k=R.campos[P],M=aG("map",[k.lat,k.lon]);t.current=M}}b()},[]),_.useEffect(()=>{const b=()=>S(!1);return window.addEventListener("closeCampoSelector",b),()=>window.removeEventListener("closeCampoSelector",b)},[]),g.jsxs(g.Fragment,{children:[t.current&&g.jsx(xee,{mapRef:t,onToggleLayer:()=>{const b=window.osm,R=window.esriSat;b&&R&&(b.setVisible(!b.getVisible()),R.setVisible(!R.getVisible()))},onCenterCampo:()=>{if(!t.current||!n||!s[n])return;const b=s[n];t.current.getView().animate({center:ko([b.lon,b.lat]),duration:800,easing:Pr})},onLocate:()=>{navigator.geolocation&&t.current&&navigator.geolocation.getCurrentPosition(b=>{const R=[b.coords.longitude,b.coords.latitude];t.current.getView().animate({center:ko(R),duration:800,easing:Pr})})}}),g.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:g.jsx(vee,{campos:s,campoId:n,parcelaId:d.parcela_id,parcelaNombre:d.nombre,areaParcela:y,areaCampo:f,selectorOpen:w,setSelectorOpen:S,onSelectCampo:b=>{r(b),h(R=>({...R,campo_id:b,parcela_id:"",nombre:"",descripcion:""}))},mapRef:t})}),g.jsx(JD,{context:{campos:s,parcelas:l,formData:d,setFormData:h,setCampos:o,setParcelas:c,setAreaParcela:v,setAreaCampo:p}})]})}function fT(){const t=Fi(),{menuOpen:e,setMenuOpen:n}=C3(),r=t.pathname==="/login";return g.jsxs(g.Fragment,{children:[!r&&g.jsx(w3,{menuOpen:e,setMenuOpen:n}),g.jsxs(eO,{children:[g.jsx(Es,{path:"/login",element:g.jsx(b3,{})}),g.jsx(Es,{path:"/animales",element:g.jsxs(v0,{children:[" ",g.jsx(pee,{})," "]})}),g.jsxs(Es,{element:g.jsx(v0,{children:g.jsx(h6,{children:g.jsx(_ee,{})})}),children:[g.jsx(Es,{path:"/mapa",element:g.jsx(j6,{})}),g.jsx(Es,{path:"/parcelas",element:g.jsx(P9,{})}),g.jsx(Es,{path:"/campos",element:g.jsx(F9,{})})]}),g.jsx(Es,{path:"/alertas",element:g.jsx(v0,{children:g.jsx(wee,{label:"Alertas"})})}),g.jsx(Es,{path:"*",element:g.jsx(TT,{to:"/login",replace:!0})})]}),!r&&g.jsx(S3,{setMenuOpen:n})]})}function wee({label:t}){return g.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-100",children:g.jsx("h1",{className:"text-3xl font-bold",children:t})})}function v0({children:t}){const{isAuthenticated:e,loading:n}=jm();return n?g.jsx("div",{className:"text-center text-blue-800 mt-10",children:"Verificando sesión..."}):e?t:g.jsx(TT,{to:"/login",replace:!0})}function Cee(){const{isAuthenticated:t,loading:e}=jm();return e?g.jsx("div",{className:"p-4 text-green-950",children:"Verificando sesión..."}):t?g.jsxs(f6,{children:[g.jsx(_q,{richColors:!0,position:"top-right"}),g.jsx(fT,{})]}):g.jsx(fT,{})}pT.createRoot(document.getElementById("root")).render(g.jsx(le.StrictMode,{children:g.jsx(bO,{children:g.jsx(_3,{children:g.jsx(Cee,{})})})}));
