function lD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Kv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dy={exports:{}},tu={},hy={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function cD(){if(dS)return ct;dS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(N){return N===null||typeof N!="object"?null:(N=f&&N[f]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function C(N,L,re){this.props=N,this.context=L,this.refs=w,this.updater=re||y}C.prototype.isReactComponent={},C.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function b(){}b.prototype=C.prototype;function R(N,L,re){this.props=N,this.context=L,this.refs=w,this.updater=re||y}var T=R.prototype=new b;T.constructor=R,x(T,C.prototype),T.isPureReactComponent=!0;var P=Array.isArray,k=Object.prototype.hasOwnProperty,M={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function I(N,L,re){var se,ce={},ge=null,ae=null;if(L!=null)for(se in L.ref!==void 0&&(ae=L.ref),L.key!==void 0&&(ge=""+L.key),L)k.call(L,se)&&!F.hasOwnProperty(se)&&(ce[se]=L[se]);var pe=arguments.length-2;if(pe===1)ce.children=re;else if(1<pe){for(var _e=Array(pe),Re=0;Re<pe;Re++)_e[Re]=arguments[Re+2];ce.children=_e}if(N&&N.defaultProps)for(se in pe=N.defaultProps,pe)ce[se]===void 0&&(ce[se]=pe[se]);return{$$typeof:t,type:N,key:ge,ref:ae,props:ce,_owner:M.current}}function z(N,L){return{$$typeof:t,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function G(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function V(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(re){return L[re]})}var H=/\/+/g;function B(N,L){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):L.toString(36)}function X(N,L,re,se,ce){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var ae=!1;if(N===null)ae=!0;else switch(ge){case"string":case"number":ae=!0;break;case"object":switch(N.$$typeof){case t:case e:ae=!0}}if(ae)return ae=N,ce=ce(ae),N=se===""?"."+B(ae,0):se,P(ce)?(re="",N!=null&&(re=N.replace(H,"$&/")+"/"),X(ce,L,re,"",function(Re){return Re})):ce!=null&&(G(ce)&&(ce=z(ce,re+(!ce.key||ae&&ae.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+N)),L.push(ce)),1;if(ae=0,se=se===""?".":se+":",P(N))for(var pe=0;pe<N.length;pe++){ge=N[pe];var _e=se+B(ge,pe);ae+=X(ge,L,re,_e,ce)}else if(_e=p(N),typeof _e=="function")for(N=_e.call(N),pe=0;!(ge=N.next()).done;)ge=ge.value,_e=se+B(ge,pe++),ae+=X(ge,L,re,_e,ce);else if(ge==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ae}function Z(N,L,re){if(N==null)return N;var se=[],ce=0;return X(N,se,"","",function(ge){return L.call(re,ge,ce++)}),se}function Y(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(re){(N._status===0||N._status===-1)&&(N._status=1,N._result=re)},function(re){(N._status===0||N._status===-1)&&(N._status=2,N._result=re)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var D={current:null},j={transition:null},U={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:M};function q(){throw Error("act(...) is not supported in production builds of React.")}return ct.Children={map:Z,forEach:function(N,L,re){Z(N,function(){L.apply(this,arguments)},re)},count:function(N){var L=0;return Z(N,function(){L++}),L},toArray:function(N){return Z(N,function(L){return L})||[]},only:function(N){if(!G(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ct.Component=C,ct.Fragment=n,ct.Profiler=i,ct.PureComponent=R,ct.StrictMode=r,ct.Suspense=c,ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,ct.act=q,ct.cloneElement=function(N,L,re){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var se=x({},N.props),ce=N.key,ge=N.ref,ae=N._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,ae=M.current),L.key!==void 0&&(ce=""+L.key),N.type&&N.type.defaultProps)var pe=N.type.defaultProps;for(_e in L)k.call(L,_e)&&!F.hasOwnProperty(_e)&&(se[_e]=L[_e]===void 0&&pe!==void 0?pe[_e]:L[_e])}var _e=arguments.length-2;if(_e===1)se.children=re;else if(1<_e){pe=Array(_e);for(var Re=0;Re<_e;Re++)pe[Re]=arguments[Re+2];se.children=pe}return{$$typeof:t,type:N.type,key:ce,ref:ge,props:se,_owner:ae}},ct.createContext=function(N){return N={$$typeof:o,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},ct.createElement=I,ct.createFactory=function(N){var L=I.bind(null,N);return L.type=N,L},ct.createRef=function(){return{current:null}},ct.forwardRef=function(N){return{$$typeof:l,render:N}},ct.isValidElement=G,ct.lazy=function(N){return{$$typeof:h,_payload:{_status:-1,_result:N},_init:Y}},ct.memo=function(N,L){return{$$typeof:d,type:N,compare:L===void 0?null:L}},ct.startTransition=function(N){var L=j.transition;j.transition={};try{N()}finally{j.transition=L}},ct.unstable_act=q,ct.useCallback=function(N,L){return D.current.useCallback(N,L)},ct.useContext=function(N){return D.current.useContext(N)},ct.useDebugValue=function(){},ct.useDeferredValue=function(N){return D.current.useDeferredValue(N)},ct.useEffect=function(N,L){return D.current.useEffect(N,L)},ct.useId=function(){return D.current.useId()},ct.useImperativeHandle=function(N,L,re){return D.current.useImperativeHandle(N,L,re)},ct.useInsertionEffect=function(N,L){return D.current.useInsertionEffect(N,L)},ct.useLayoutEffect=function(N,L){return D.current.useLayoutEffect(N,L)},ct.useMemo=function(N,L){return D.current.useMemo(N,L)},ct.useReducer=function(N,L,re){return D.current.useReducer(N,L,re)},ct.useRef=function(N){return D.current.useRef(N)},ct.useState=function(N){return D.current.useState(N)},ct.useSyncExternalStore=function(N,L,re){return D.current.useSyncExternalStore(N,L,re)},ct.useTransition=function(){return D.current.useTransition()},ct.version="18.3.1",ct}var hS;function Yv(){return hS||(hS=1,hy.exports=cD()),hy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function uD(){if(fS)return tu;fS=1;var t=Yv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,f={},p=null,y=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:p,ref:y,props:f,_owner:i.current}}return tu.Fragment=n,tu.jsx=o,tu.jsxs=o,tu}var mS;function dD(){return mS||(mS=1,dy.exports=uD()),dy.exports}var g=dD(),_=Yv();const le=Kv(_),fT=lD({__proto__:null,default:le},[_]);var zh={},fy={exports:{}},Cr={},my={exports:{}},gy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function hD(){return gS||(gS=1,function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var N=q-1>>>1,L=j[N];if(0<i(L,U))j[N]=U,j[q]=L,q=N;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var N=0,L=j.length,re=L>>>1;N<re;){var se=2*(N+1)-1,ce=j[se],ge=se+1,ae=j[ge];if(0>i(ce,q))ge<L&&0>i(ae,ce)?(j[N]=ae,j[ge]=q,N=ge):(j[N]=ce,j[se]=q,N=se);else if(ge<L&&0>i(ae,q))j[N]=ae,j[ge]=q,N=ge;else break e}}return U}function i(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,y=!1,x=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=j)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function P(j){if(w=!1,T(j),!x)if(n(c)!==null)x=!0,Y(k);else{var U=n(d);U!==null&&D(P,U.startTime-j)}}function k(j,U){x=!1,w&&(w=!1,b(I),I=-1),y=!0;var q=p;try{for(T(U),f=n(c);f!==null&&(!(f.expirationTime>U)||j&&!V());){var N=f.callback;if(typeof N=="function"){f.callback=null,p=f.priorityLevel;var L=N(f.expirationTime<=U);U=t.unstable_now(),typeof L=="function"?f.callback=L:f===n(c)&&r(c),T(U)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var se=n(d);se!==null&&D(P,se.startTime-U),re=!1}return re}finally{f=null,p=q,y=!1}}var M=!1,F=null,I=-1,z=5,G=-1;function V(){return!(t.unstable_now()-G<z)}function H(){if(F!==null){var j=t.unstable_now();G=j;var U=!0;try{U=F(!0,j)}finally{U?B():(M=!1,F=null)}}else M=!1}var B;if(typeof R=="function")B=function(){R(H)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=H,B=function(){Z.postMessage(null)}}else B=function(){C(H,0)};function Y(j){F=j,M||(M=!0,B())}function D(j,U){I=C(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Y(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var q=p;p=U;try{return j()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return U()}finally{p=q}},t.unstable_scheduleCallback=function(j,U,q){var N=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?N+q:N):q=N,j){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,j={id:h++,callback:U,priorityLevel:j,startTime:q,expirationTime:L,sortIndex:-1},q>N?(j.sortIndex=q,e(d,j),n(c)===null&&j===n(d)&&(w?(b(I),I=-1):w=!0,D(P,q-N))):(j.sortIndex=L,e(c,j),x||y||(x=!0,Y(k))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var U=p;return function(){var q=p;p=U;try{return j.apply(this,arguments)}finally{p=q}}}}(gy)),gy}var pS;function fD(){return pS||(pS=1,my.exports=hD()),my.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function mD(){if(yS)return Cr;yS=1;var t=Yv(),e=fD();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(a){return c.call(f,a)?!0:c.call(h,a)?!1:d.test(a)?f[a]=!0:(h[a]=!0,!1)}function y(a,u,m,v){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function x(a,u,m,v){if(u===null||typeof u>"u"||y(a,u,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(a,u,m,v,S,E,A){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=a,this.type=u,this.sanitizeURL=E,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];C[u]=new w(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,u,m,v){var S=C.hasOwnProperty(u)?C[u]:null;(S!==null?S.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,m,S,v)&&(m=null),v||S===null?p(u)&&(m===null?a.removeAttribute(u):a.setAttribute(u,""+m)):S.mustUseProperty?a[S.propertyName]=m===null?S.type===3?!1:"":m:(u=S.attributeName,v=S.attributeNamespace,m===null?a.removeAttribute(u):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,v?a.setAttributeNS(v,u,m):a.setAttribute(u,m))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),M=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),V=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),j=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var q=Object.assign,N;function L(a){if(N===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);N=u&&u[1]||""}return`
`+N+a}var re=!1;function se(a,u){if(!a||re)return"";re=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ne){var v=ne}Reflect.construct(a,[],u)}else{try{u.call()}catch(ne){v=ne}a.call(u.prototype)}else{try{throw Error()}catch(ne){v=ne}a()}}catch(ne){if(ne&&v&&typeof ne.stack=="string"){for(var S=ne.stack.split(`
`),E=v.stack.split(`
`),A=S.length-1,O=E.length-1;1<=A&&0<=O&&S[A]!==E[O];)O--;for(;1<=A&&0<=O;A--,O--)if(S[A]!==E[O]){if(A!==1||O!==1)do if(A--,O--,0>O||S[A]!==E[O]){var W=`
`+S[A].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=A&&0<=O);break}}}finally{re=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?L(a):""}function ce(a){switch(a.tag){case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return a=se(a.type,!1),a;case 11:return a=se(a.type.render,!1),a;case 1:return a=se(a.type,!0),a;default:return""}}function ge(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case M:return"Portal";case z:return"Profiler";case I:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case G:return(a._context.displayName||"Context")+".Provider";case H:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Z:return u=a.displayName||null,u!==null?u:ge(a.type)||"Memo";case Y:u=a._payload,a=a._init;try{return ge(a(u))}catch{}}return null}function ae(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function pe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _e(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Re(a){var u=_e(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),v=""+a[u];if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,E=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return S.call(this)},set:function(A){v=""+A,E.call(this,A)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(A){v=""+A},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function $e(a){a._valueTracker||(a._valueTracker=Re(a))}function Be(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var m=u.getValue(),v="";return a&&(v=_e(a)?a.checked?"true":"false":a.value),a=v,a!==m?(u.setValue(a),!0):!1}function yt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function mt(a,u){var m=u.checked;return q({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Gt(a,u){var m=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;m=pe(u.value!=null?u.value:m),a._wrapperState={initialChecked:v,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Dt(a,u){u=u.checked,u!=null&&T(a,"checked",u,!1)}function ft(a,u){Dt(a,u);var m=pe(u.value),v=u.type;if(m!=null)v==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?_t(a,u.type,m):u.hasOwnProperty("defaultValue")&&_t(a,u.type,pe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function zn(a,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,m||u===a.value||(a.value=u),a.defaultValue=u}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function _t(a,u,m){(u!=="number"||yt(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var $=Array.isArray;function J(a,u,m,v){if(a=a.options,u){u={};for(var S=0;S<m.length;S++)u["$"+m[S]]=!0;for(m=0;m<a.length;m++)S=u.hasOwnProperty("$"+a[m].value),a[m].selected!==S&&(a[m].selected=S),S&&v&&(a[m].defaultSelected=!0)}else{for(m=""+pe(m),u=null,S=0;S<a.length;S++){if(a[S].value===m){a[S].selected=!0,v&&(a[S].defaultSelected=!0);return}u!==null||a[S].disabled||(u=a[S])}u!==null&&(u.selected=!0)}}function te(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function fe(a,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if($(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}a._wrapperState={initialValue:pe(m)}}function he(a,u){var m=pe(u.value),v=pe(u.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),u.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),v!=null&&(a.defaultValue=""+v)}function ie(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function ye(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?ye(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ze,wt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,v,S){MSApp.execUnsafeLocalFunction(function(){return a(u,m,v,S)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ze.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function jt(a,u){if(u){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=u;return}}a.textContent=u}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];Object.keys(ht).forEach(function(a){$n.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),ht[u]=ht[a]})});function Oe(a,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||ht.hasOwnProperty(a)&&ht[a]?(""+u).trim():u+"px"}function we(a,u){a=a.style;for(var m in u)if(u.hasOwnProperty(m)){var v=m.indexOf("--")===0,S=Oe(m,u[m],v);m==="float"&&(m="cssFloat"),v?a.setProperty(m,S):a[m]=S}}var Et=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rt(a,u){if(u){if(Et[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function ln(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function Ut(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Sn=null,lt=null,gn=null;function ai(a){if(a=zc(a)){if(typeof Sn!="function")throw Error(n(280));var u=a.stateNode;u&&(u=th(u),Sn(a.stateNode,a.type,u))}}function be(a){lt?gn?gn.push(a):gn=[a]:lt=a}function dt(){if(lt){var a=lt,u=gn;if(gn=lt=null,ai(a),u)for(a=0;a<u.length;a++)ai(u[a])}}function Ot(a,u){return a(u)}function kt(){}var In=!1;function gt(a,u,m){if(In)return a(u,m);In=!0;try{return Ot(a,u,m)}finally{In=!1,(lt!==null||gn!==null)&&(kt(),dt())}}function Jt(a,u){var m=a.stateNode;if(m===null)return null;var v=th(m);if(v===null)return null;m=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var Ar=!1;if(l)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{Ar=!1}function Vt(a,u,m,v,S,E,A,O,W){var ne=Array.prototype.slice.call(arguments,3);try{u.apply(m,ne)}catch(de){this.onError(de)}}var Nn=!1,pr=null,wc=!1,Ag=null,gj={onError:function(a){Nn=!0,pr=a}};function pj(a,u,m,v,S,E,A,O,W){Nn=!1,pr=null,Vt.apply(gj,arguments)}function yj(a,u,m,v,S,E,A,O,W){if(pj.apply(this,arguments),Nn){if(Nn){var ne=pr;Nn=!1,pr=null}else throw Error(n(198));wc||(wc=!0,Ag=ne)}}function $o(a){var u=a,m=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(m=u.return),a=u.return;while(a)}return u.tag===3?m:null}function Fw(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function jw(a){if($o(a)!==a)throw Error(n(188))}function vj(a){var u=a.alternate;if(!u){if(u=$o(a),u===null)throw Error(n(188));return u!==a?null:a}for(var m=a,v=u;;){var S=m.return;if(S===null)break;var E=S.alternate;if(E===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===m)return jw(S),a;if(E===v)return jw(S),u;E=E.sibling}throw Error(n(188))}if(m.return!==v.return)m=S,v=E;else{for(var A=!1,O=S.child;O;){if(O===m){A=!0,m=S,v=E;break}if(O===v){A=!0,v=S,m=E;break}O=O.sibling}if(!A){for(O=E.child;O;){if(O===m){A=!0,m=E,v=S;break}if(O===v){A=!0,v=E,m=S;break}O=O.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:u}function Lw(a){return a=vj(a),a!==null?Dw(a):null}function Dw(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Dw(a);if(u!==null)return u;a=a.sibling}return null}var Ow=e.unstable_scheduleCallback,Vw=e.unstable_cancelCallback,xj=e.unstable_shouldYield,_j=e.unstable_requestPaint,cn=e.unstable_now,wj=e.unstable_getCurrentPriorityLevel,Mg=e.unstable_ImmediatePriority,zw=e.unstable_UserBlockingPriority,jd=e.unstable_NormalPriority,Cj=e.unstable_LowPriority,$w=e.unstable_IdlePriority,Ld=null,Vi=null;function Sj(a){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(Ld,a,void 0,(a.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:Rj,bj=Math.log,Ej=Math.LN2;function Rj(a){return a>>>=0,a===0?32:31-(bj(a)/Ej|0)|0}var Dd=64,Od=4194304;function Cc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Vd(a,u){var m=a.pendingLanes;if(m===0)return 0;var v=0,S=a.suspendedLanes,E=a.pingedLanes,A=m&268435455;if(A!==0){var O=A&~S;O!==0?v=Cc(O):(E&=A,E!==0&&(v=Cc(E)))}else A=m&~S,A!==0?v=Cc(A):E!==0&&(v=Cc(E));if(v===0)return 0;if(u!==0&&u!==v&&(u&S)===0&&(S=v&-v,E=u&-u,S>=E||S===16&&(E&4194240)!==0))return u;if((v&4)!==0&&(v|=m&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=v;0<u;)m=31-li(u),S=1<<m,v|=a[m],u&=~S;return v}function Tj(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pj(a,u){for(var m=a.suspendedLanes,v=a.pingedLanes,S=a.expirationTimes,E=a.pendingLanes;0<E;){var A=31-li(E),O=1<<A,W=S[A];W===-1?((O&m)===0||(O&v)!==0)&&(S[A]=Tj(O,u)):W<=u&&(a.expiredLanes|=O),E&=~O}}function Ig(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Bw(){var a=Dd;return Dd<<=1,(Dd&4194240)===0&&(Dd=64),a}function Ng(a){for(var u=[],m=0;31>m;m++)u.push(a);return u}function Sc(a,u,m){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-li(u),a[u]=m}function kj(a,u){var m=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<m;){var S=31-li(m),E=1<<S;u[S]=0,v[S]=-1,a[S]=-1,m&=~E}}function Fg(a,u){var m=a.entangledLanes|=u;for(a=a.entanglements;m;){var v=31-li(m),S=1<<v;S&u|a[v]&u&&(a[v]|=u),m&=~S}}var At=0;function Gw(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Uw,jg,Ww,Hw,Xw,Lg=!1,zd=[],Bs=null,Gs=null,Us=null,bc=new Map,Ec=new Map,Ws=[],Aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kw(a,u){switch(a){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":bc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(u.pointerId)}}function Rc(a,u,m,v,S,E){return a===null||a.nativeEvent!==E?(a={blockedOn:u,domEventName:m,eventSystemFlags:v,nativeEvent:E,targetContainers:[S]},u!==null&&(u=zc(u),u!==null&&jg(u)),a):(a.eventSystemFlags|=v,u=a.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),a)}function Mj(a,u,m,v,S){switch(u){case"focusin":return Bs=Rc(Bs,a,u,m,v,S),!0;case"dragenter":return Gs=Rc(Gs,a,u,m,v,S),!0;case"mouseover":return Us=Rc(Us,a,u,m,v,S),!0;case"pointerover":var E=S.pointerId;return bc.set(E,Rc(bc.get(E)||null,a,u,m,v,S)),!0;case"gotpointercapture":return E=S.pointerId,Ec.set(E,Rc(Ec.get(E)||null,a,u,m,v,S)),!0}return!1}function Yw(a){var u=Bo(a.target);if(u!==null){var m=$o(u);if(m!==null){if(u=m.tag,u===13){if(u=Fw(m),u!==null){a.blockedOn=u,Xw(a.priority,function(){Ww(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $d(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var m=Og(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var v=new m.constructor(m.type,m);Lt=v,m.target.dispatchEvent(v),Lt=null}else return u=zc(m),u!==null&&jg(u),a.blockedOn=m,!1;u.shift()}return!0}function Zw(a,u,m){$d(a)&&m.delete(u)}function Ij(){Lg=!1,Bs!==null&&$d(Bs)&&(Bs=null),Gs!==null&&$d(Gs)&&(Gs=null),Us!==null&&$d(Us)&&(Us=null),bc.forEach(Zw),Ec.forEach(Zw)}function Tc(a,u){a.blockedOn===u&&(a.blockedOn=null,Lg||(Lg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ij)))}function Pc(a){function u(S){return Tc(S,a)}if(0<zd.length){Tc(zd[0],a);for(var m=1;m<zd.length;m++){var v=zd[m];v.blockedOn===a&&(v.blockedOn=null)}}for(Bs!==null&&Tc(Bs,a),Gs!==null&&Tc(Gs,a),Us!==null&&Tc(Us,a),bc.forEach(u),Ec.forEach(u),m=0;m<Ws.length;m++)v=Ws[m],v.blockedOn===a&&(v.blockedOn=null);for(;0<Ws.length&&(m=Ws[0],m.blockedOn===null);)Yw(m),m.blockedOn===null&&Ws.shift()}var Wa=P.ReactCurrentBatchConfig,Bd=!0;function Nj(a,u,m,v){var S=At,E=Wa.transition;Wa.transition=null;try{At=1,Dg(a,u,m,v)}finally{At=S,Wa.transition=E}}function Fj(a,u,m,v){var S=At,E=Wa.transition;Wa.transition=null;try{At=4,Dg(a,u,m,v)}finally{At=S,Wa.transition=E}}function Dg(a,u,m,v){if(Bd){var S=Og(a,u,m,v);if(S===null)tp(a,u,v,Gd,m),Kw(a,v);else if(Mj(S,a,u,m,v))v.stopPropagation();else if(Kw(a,v),u&4&&-1<Aj.indexOf(a)){for(;S!==null;){var E=zc(S);if(E!==null&&Uw(E),E=Og(a,u,m,v),E===null&&tp(a,u,v,Gd,m),E===S)break;S=E}S!==null&&v.stopPropagation()}else tp(a,u,v,null,m)}}var Gd=null;function Og(a,u,m,v){if(Gd=null,a=Ut(v),a=Bo(a),a!==null)if(u=$o(a),u===null)a=null;else if(m=u.tag,m===13){if(a=Fw(u),a!==null)return a;a=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Gd=a,null}function qw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wj()){case Mg:return 1;case zw:return 4;case jd:case Cj:return 16;case $w:return 536870912;default:return 16}default:return 16}}var Hs=null,Vg=null,Ud=null;function Jw(){if(Ud)return Ud;var a,u=Vg,m=u.length,v,S="value"in Hs?Hs.value:Hs.textContent,E=S.length;for(a=0;a<m&&u[a]===S[a];a++);var A=m-a;for(v=1;v<=A&&u[m-v]===S[E-v];v++);return Ud=S.slice(a,1<v?1-v:void 0)}function Wd(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Hd(){return!0}function Qw(){return!1}function Mr(a){function u(m,v,S,E,A){this._reactName=m,this._targetInst=S,this.type=v,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(m=a[O],this[O]=m?m(E):E[O]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Hd:Qw,this.isPropagationStopped=Qw,this}return q(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Hd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Hd)},persist:function(){},isPersistent:Hd}),u}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=Mr(Ha),kc=q({},Ha,{view:0,detail:0}),jj=Mr(kc),$g,Bg,Ac,Xd=q({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ac&&(Ac&&a.type==="mousemove"?($g=a.screenX-Ac.screenX,Bg=a.screenY-Ac.screenY):Bg=$g=0,Ac=a),$g)},movementY:function(a){return"movementY"in a?a.movementY:Bg}}),e1=Mr(Xd),Lj=q({},Xd,{dataTransfer:0}),Dj=Mr(Lj),Oj=q({},kc,{relatedTarget:0}),Gg=Mr(Oj),Vj=q({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),zj=Mr(Vj),$j=q({},Ha,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Bj=Mr($j),Gj=q({},Ha,{data:0}),t1=Mr(Gj),Uj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xj(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Hj[a])?!!u[a]:!1}function Ug(){return Xj}var Kj=q({},kc,{key:function(a){if(a.key){var u=Uj[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Wd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Wj[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(a){return a.type==="keypress"?Wd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Yj=Mr(Kj),Zj=q({},Xd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n1=Mr(Zj),qj=q({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),Jj=Mr(qj),Qj=q({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),eL=Mr(Qj),tL=q({},Xd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),nL=Mr(tL),rL=[9,13,27,32],Wg=l&&"CompositionEvent"in window,Mc=null;l&&"documentMode"in document&&(Mc=document.documentMode);var iL=l&&"TextEvent"in window&&!Mc,r1=l&&(!Wg||Mc&&8<Mc&&11>=Mc),i1=" ",s1=!1;function o1(a,u){switch(a){case"keyup":return rL.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Xa=!1;function sL(a,u){switch(a){case"compositionend":return a1(u);case"keypress":return u.which!==32?null:(s1=!0,i1);case"textInput":return a=u.data,a===i1&&s1?null:a;default:return null}}function oL(a,u){if(Xa)return a==="compositionend"||!Wg&&o1(a,u)?(a=Jw(),Ud=Vg=Hs=null,Xa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return r1&&u.locale!=="ko"?null:u.data;default:return null}}var aL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l1(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!aL[a.type]:u==="textarea"}function c1(a,u,m,v){be(v),u=Jd(u,"onChange"),0<u.length&&(m=new zg("onChange","change",null,m,v),a.push({event:m,listeners:u}))}var Ic=null,Nc=null;function lL(a){T1(a,0)}function Kd(a){var u=Ja(a);if(Be(u))return a}function cL(a,u){if(a==="change")return u}var u1=!1;if(l){var Hg;if(l){var Xg="oninput"in document;if(!Xg){var d1=document.createElement("div");d1.setAttribute("oninput","return;"),Xg=typeof d1.oninput=="function"}Hg=Xg}else Hg=!1;u1=Hg&&(!document.documentMode||9<document.documentMode)}function h1(){Ic&&(Ic.detachEvent("onpropertychange",f1),Nc=Ic=null)}function f1(a){if(a.propertyName==="value"&&Kd(Nc)){var u=[];c1(u,Nc,a,Ut(a)),gt(lL,u)}}function uL(a,u,m){a==="focusin"?(h1(),Ic=u,Nc=m,Ic.attachEvent("onpropertychange",f1)):a==="focusout"&&h1()}function dL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Kd(Nc)}function hL(a,u){if(a==="click")return Kd(u)}function fL(a,u){if(a==="input"||a==="change")return Kd(u)}function mL(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ci=typeof Object.is=="function"?Object.is:mL;function Fc(a,u){if(ci(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var m=Object.keys(a),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!c.call(u,S)||!ci(a[S],u[S]))return!1}return!0}function m1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function g1(a,u){var m=m1(a);a=0;for(var v;m;){if(m.nodeType===3){if(v=a+m.textContent.length,a<=u&&v>=u)return{node:m,offset:u-a};a=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=m1(m)}}function p1(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?p1(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function y1(){for(var a=window,u=yt();u instanceof a.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)a=u.contentWindow;else break;u=yt(a.document)}return u}function Kg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function gL(a){var u=y1(),m=a.focusedElem,v=a.selectionRange;if(u!==m&&m&&m.ownerDocument&&p1(m.ownerDocument.documentElement,m)){if(v!==null&&Kg(m)){if(u=v.start,a=v.end,a===void 0&&(a=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(a,m.value.length);else if(a=(u=m.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var S=m.textContent.length,E=Math.min(v.start,S);v=v.end===void 0?E:Math.min(v.end,S),!a.extend&&E>v&&(S=v,v=E,E=S),S=g1(m,E);var A=g1(m,v);S&&A&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),a.removeAllRanges(),E>v?(a.addRange(u),a.extend(A.node,A.offset)):(u.setEnd(A.node,A.offset),a.addRange(u)))}}for(u=[],a=m;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)a=u[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var pL=l&&"documentMode"in document&&11>=document.documentMode,Ka=null,Yg=null,jc=null,Zg=!1;function v1(a,u,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Zg||Ka==null||Ka!==yt(v)||(v=Ka,"selectionStart"in v&&Kg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),jc&&Fc(jc,v)||(jc=v,v=Jd(Yg,"onSelect"),0<v.length&&(u=new zg("onSelect","select",null,u,m),a.push({event:u,listeners:v}),u.target=Ka)))}function Yd(a,u){var m={};return m[a.toLowerCase()]=u.toLowerCase(),m["Webkit"+a]="webkit"+u,m["Moz"+a]="moz"+u,m}var Ya={animationend:Yd("Animation","AnimationEnd"),animationiteration:Yd("Animation","AnimationIteration"),animationstart:Yd("Animation","AnimationStart"),transitionend:Yd("Transition","TransitionEnd")},qg={},x1={};l&&(x1=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Zd(a){if(qg[a])return qg[a];if(!Ya[a])return a;var u=Ya[a],m;for(m in u)if(u.hasOwnProperty(m)&&m in x1)return qg[a]=u[m];return a}var _1=Zd("animationend"),w1=Zd("animationiteration"),C1=Zd("animationstart"),S1=Zd("transitionend"),b1=new Map,E1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(a,u){b1.set(a,u),s(u,[a])}for(var Jg=0;Jg<E1.length;Jg++){var Qg=E1[Jg],yL=Qg.toLowerCase(),vL=Qg[0].toUpperCase()+Qg.slice(1);Xs(yL,"on"+vL)}Xs(_1,"onAnimationEnd"),Xs(w1,"onAnimationIteration"),Xs(C1,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(S1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lc));function R1(a,u,m){var v=a.type||"unknown-event";a.currentTarget=m,yj(v,u,void 0,a),a.currentTarget=null}function T1(a,u){u=(u&4)!==0;for(var m=0;m<a.length;m++){var v=a[m],S=v.event;v=v.listeners;e:{var E=void 0;if(u)for(var A=v.length-1;0<=A;A--){var O=v[A],W=O.instance,ne=O.currentTarget;if(O=O.listener,W!==E&&S.isPropagationStopped())break e;R1(S,O,ne),E=W}else for(A=0;A<v.length;A++){if(O=v[A],W=O.instance,ne=O.currentTarget,O=O.listener,W!==E&&S.isPropagationStopped())break e;R1(S,O,ne),E=W}}}if(wc)throw a=Ag,wc=!1,Ag=null,a}function Wt(a,u){var m=u[ap];m===void 0&&(m=u[ap]=new Set);var v=a+"__bubble";m.has(v)||(P1(u,a,2,!1),m.add(v))}function ep(a,u,m){var v=0;u&&(v|=4),P1(m,a,v,u)}var qd="_reactListening"+Math.random().toString(36).slice(2);function Dc(a){if(!a[qd]){a[qd]=!0,r.forEach(function(m){m!=="selectionchange"&&(xL.has(m)||ep(m,!1,a),ep(m,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[qd]||(u[qd]=!0,ep("selectionchange",!1,u))}}function P1(a,u,m,v){switch(qw(u)){case 1:var S=Nj;break;case 4:S=Fj;break;default:S=Dg}m=S.bind(null,u,m,a),S=void 0,!Ar||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),v?S!==void 0?a.addEventListener(u,m,{capture:!0,passive:S}):a.addEventListener(u,m,!0):S!==void 0?a.addEventListener(u,m,{passive:S}):a.addEventListener(u,m,!1)}function tp(a,u,m,v,S){var E=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var A=v.tag;if(A===3||A===4){var O=v.stateNode.containerInfo;if(O===S||O.nodeType===8&&O.parentNode===S)break;if(A===4)for(A=v.return;A!==null;){var W=A.tag;if((W===3||W===4)&&(W=A.stateNode.containerInfo,W===S||W.nodeType===8&&W.parentNode===S))return;A=A.return}for(;O!==null;){if(A=Bo(O),A===null)return;if(W=A.tag,W===5||W===6){v=E=A;continue e}O=O.parentNode}}v=v.return}gt(function(){var ne=E,de=Ut(m),me=[];e:{var ue=b1.get(a);if(ue!==void 0){var Te=zg,Ae=a;switch(a){case"keypress":if(Wd(m)===0)break e;case"keydown":case"keyup":Te=Yj;break;case"focusin":Ae="focus",Te=Gg;break;case"focusout":Ae="blur",Te=Gg;break;case"beforeblur":case"afterblur":Te=Gg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=e1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Dj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Jj;break;case _1:case w1:case C1:Te=zj;break;case S1:Te=eL;break;case"scroll":Te=jj;break;case"wheel":Te=nL;break;case"copy":case"cut":case"paste":Te=Bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=n1}var Ne=(u&4)!==0,un=!Ne&&a==="scroll",Q=Ne?ue!==null?ue+"Capture":null:ue;Ne=[];for(var K=ne,ee;K!==null;){ee=K;var ve=ee.stateNode;if(ee.tag===5&&ve!==null&&(ee=ve,Q!==null&&(ve=Jt(K,Q),ve!=null&&Ne.push(Oc(K,ve,ee)))),un)break;K=K.return}0<Ne.length&&(ue=new Te(ue,Ae,null,m,de),me.push({event:ue,listeners:Ne}))}}if((u&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",Te=a==="mouseout"||a==="pointerout",ue&&m!==Lt&&(Ae=m.relatedTarget||m.fromElement)&&(Bo(Ae)||Ae[us]))break e;if((Te||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,Te?(Ae=m.relatedTarget||m.toElement,Te=ne,Ae=Ae?Bo(Ae):null,Ae!==null&&(un=$o(Ae),Ae!==un||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Te=null,Ae=ne),Te!==Ae)){if(Ne=e1,ve="onMouseLeave",Q="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=n1,ve="onPointerLeave",Q="onPointerEnter",K="pointer"),un=Te==null?ue:Ja(Te),ee=Ae==null?ue:Ja(Ae),ue=new Ne(ve,K+"leave",Te,m,de),ue.target=un,ue.relatedTarget=ee,ve=null,Bo(de)===ne&&(Ne=new Ne(Q,K+"enter",Ae,m,de),Ne.target=ee,Ne.relatedTarget=un,ve=Ne),un=ve,Te&&Ae)t:{for(Ne=Te,Q=Ae,K=0,ee=Ne;ee;ee=Za(ee))K++;for(ee=0,ve=Q;ve;ve=Za(ve))ee++;for(;0<K-ee;)Ne=Za(Ne),K--;for(;0<ee-K;)Q=Za(Q),ee--;for(;K--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=Za(Ne),Q=Za(Q)}Ne=null}else Ne=null;Te!==null&&k1(me,ue,Te,Ne,!1),Ae!==null&&un!==null&&k1(me,un,Ae,Ne,!0)}}e:{if(ue=ne?Ja(ne):window,Te=ue.nodeName&&ue.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ue.type==="file")var je=cL;else if(l1(ue))if(u1)je=fL;else{je=dL;var Ue=uL}else(Te=ue.nodeName)&&Te.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(je=hL);if(je&&(je=je(a,ne))){c1(me,je,m,de);break e}Ue&&Ue(a,ue,ne),a==="focusout"&&(Ue=ue._wrapperState)&&Ue.controlled&&ue.type==="number"&&_t(ue,"number",ue.value)}switch(Ue=ne?Ja(ne):window,a){case"focusin":(l1(Ue)||Ue.contentEditable==="true")&&(Ka=Ue,Yg=ne,jc=null);break;case"focusout":jc=Yg=Ka=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,v1(me,m,de);break;case"selectionchange":if(pL)break;case"keydown":case"keyup":v1(me,m,de)}var We;if(Wg)e:{switch(a){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Xa?o1(a,m)&&(qe="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(qe="onCompositionStart");qe&&(r1&&m.locale!=="ko"&&(Xa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Xa&&(We=Jw()):(Hs=de,Vg="value"in Hs?Hs.value:Hs.textContent,Xa=!0)),Ue=Jd(ne,qe),0<Ue.length&&(qe=new t1(qe,a,null,m,de),me.push({event:qe,listeners:Ue}),We?qe.data=We:(We=a1(m),We!==null&&(qe.data=We)))),(We=iL?sL(a,m):oL(a,m))&&(ne=Jd(ne,"onBeforeInput"),0<ne.length&&(de=new t1("onBeforeInput","beforeinput",null,m,de),me.push({event:de,listeners:ne}),de.data=We))}T1(me,u)})}function Oc(a,u,m){return{instance:a,listener:u,currentTarget:m}}function Jd(a,u){for(var m=u+"Capture",v=[];a!==null;){var S=a,E=S.stateNode;S.tag===5&&E!==null&&(S=E,E=Jt(a,m),E!=null&&v.unshift(Oc(a,E,S)),E=Jt(a,u),E!=null&&v.push(Oc(a,E,S))),a=a.return}return v}function Za(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function k1(a,u,m,v,S){for(var E=u._reactName,A=[];m!==null&&m!==v;){var O=m,W=O.alternate,ne=O.stateNode;if(W!==null&&W===v)break;O.tag===5&&ne!==null&&(O=ne,S?(W=Jt(m,E),W!=null&&A.unshift(Oc(m,W,O))):S||(W=Jt(m,E),W!=null&&A.push(Oc(m,W,O)))),m=m.return}A.length!==0&&a.push({event:u,listeners:A})}var _L=/\r\n?/g,wL=/\u0000|\uFFFD/g;function A1(a){return(typeof a=="string"?a:""+a).replace(_L,`
`).replace(wL,"")}function Qd(a,u,m){if(u=A1(u),A1(a)!==u&&m)throw Error(n(425))}function eh(){}var np=null,rp=null;function ip(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,CL=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,SL=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(a){return M1.resolve(null).then(a).catch(bL)}:sp;function bL(a){setTimeout(function(){throw a})}function op(a,u){var m=u,v=0;do{var S=m.nextSibling;if(a.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(v===0){a.removeChild(S),Pc(u);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=S}while(m);Pc(u)}function Ks(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function I1(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return a;u--}else m==="/$"&&u++}a=a.previousSibling}return null}var qa=Math.random().toString(36).slice(2),zi="__reactFiber$"+qa,Vc="__reactProps$"+qa,us="__reactContainer$"+qa,ap="__reactEvents$"+qa,EL="__reactListeners$"+qa,RL="__reactHandles$"+qa;function Bo(a){var u=a[zi];if(u)return u;for(var m=a.parentNode;m;){if(u=m[us]||m[zi]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(a=I1(a);a!==null;){if(m=a[zi])return m;a=I1(a)}return u}a=m,m=a.parentNode}return null}function zc(a){return a=a[zi]||a[us],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ja(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function th(a){return a[Vc]||null}var lp=[],Qa=-1;function Ys(a){return{current:a}}function Ht(a){0>Qa||(a.current=lp[Qa],lp[Qa]=null,Qa--)}function zt(a,u){Qa++,lp[Qa]=a.current,a.current=u}var Zs={},Yn=Ys(Zs),yr=Ys(!1),Go=Zs;function el(a,u){var m=a.type.contextTypes;if(!m)return Zs;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var S={},E;for(E in m)S[E]=u[E];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=S),S}function vr(a){return a=a.childContextTypes,a!=null}function nh(){Ht(yr),Ht(Yn)}function N1(a,u,m){if(Yn.current!==Zs)throw Error(n(168));zt(Yn,u),zt(yr,m)}function F1(a,u,m){var v=a.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var S in v)if(!(S in u))throw Error(n(108,ae(a)||"Unknown",S));return q({},m,v)}function rh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Zs,Go=Yn.current,zt(Yn,a),zt(yr,yr.current),!0}function j1(a,u,m){var v=a.stateNode;if(!v)throw Error(n(169));m?(a=F1(a,u,Go),v.__reactInternalMemoizedMergedChildContext=a,Ht(yr),Ht(Yn),zt(Yn,a)):Ht(yr),zt(yr,m)}var ds=null,ih=!1,cp=!1;function L1(a){ds===null?ds=[a]:ds.push(a)}function TL(a){ih=!0,L1(a)}function qs(){if(!cp&&ds!==null){cp=!0;var a=0,u=At;try{var m=ds;for(At=1;a<m.length;a++){var v=m[a];do v=v(!0);while(v!==null)}ds=null,ih=!1}catch(S){throw ds!==null&&(ds=ds.slice(a+1)),Ow(Mg,qs),S}finally{At=u,cp=!1}}return null}var tl=[],nl=0,sh=null,oh=0,Hr=[],Xr=0,Uo=null,hs=1,fs="";function Wo(a,u){tl[nl++]=oh,tl[nl++]=sh,sh=a,oh=u}function D1(a,u,m){Hr[Xr++]=hs,Hr[Xr++]=fs,Hr[Xr++]=Uo,Uo=a;var v=hs;a=fs;var S=32-li(v)-1;v&=~(1<<S),m+=1;var E=32-li(u)+S;if(30<E){var A=S-S%5;E=(v&(1<<A)-1).toString(32),v>>=A,S-=A,hs=1<<32-li(u)+S|m<<S|v,fs=E+a}else hs=1<<E|m<<S|v,fs=a}function up(a){a.return!==null&&(Wo(a,1),D1(a,1,0))}function dp(a){for(;a===sh;)sh=tl[--nl],tl[nl]=null,oh=tl[--nl],tl[nl]=null;for(;a===Uo;)Uo=Hr[--Xr],Hr[Xr]=null,fs=Hr[--Xr],Hr[Xr]=null,hs=Hr[--Xr],Hr[Xr]=null}var Ir=null,Nr=null,Zt=!1,ui=null;function O1(a,u){var m=qr(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=a,u=a.deletions,u===null?(a.deletions=[m],a.flags|=16):u.push(m)}function V1(a,u){switch(a.tag){case 5:var m=a.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Ir=a,Nr=Ks(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Ir=a,Nr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Uo!==null?{id:hs,overflow:fs}:null,a.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=qr(18,null,null,0),m.stateNode=u,m.return=a,a.child=m,Ir=a,Nr=null,!0):!1;default:return!1}}function hp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function fp(a){if(Zt){var u=Nr;if(u){var m=u;if(!V1(a,u)){if(hp(a))throw Error(n(418));u=Ks(m.nextSibling);var v=Ir;u&&V1(a,u)?O1(v,m):(a.flags=a.flags&-4097|2,Zt=!1,Ir=a)}}else{if(hp(a))throw Error(n(418));a.flags=a.flags&-4097|2,Zt=!1,Ir=a}}}function z1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ir=a}function ah(a){if(a!==Ir)return!1;if(!Zt)return z1(a),Zt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!ip(a.type,a.memoizedProps)),u&&(u=Nr)){if(hp(a))throw $1(),Error(n(418));for(;u;)O1(a,u),u=Ks(u.nextSibling)}if(z1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(u===0){Nr=Ks(a.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}a=a.nextSibling}Nr=null}}else Nr=Ir?Ks(a.stateNode.nextSibling):null;return!0}function $1(){for(var a=Nr;a;)a=Ks(a.nextSibling)}function rl(){Nr=Ir=null,Zt=!1}function mp(a){ui===null?ui=[a]:ui.push(a)}var PL=P.ReactCurrentBatchConfig;function $c(a,u,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var v=m.stateNode}if(!v)throw Error(n(147,a));var S=v,E=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(A){var O=S.refs;A===null?delete O[E]:O[E]=A},u._stringRef=E,u)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function lh(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function B1(a){var u=a._init;return u(a._payload)}function G1(a){function u(Q,K){if(a){var ee=Q.deletions;ee===null?(Q.deletions=[K],Q.flags|=16):ee.push(K)}}function m(Q,K){if(!a)return null;for(;K!==null;)u(Q,K),K=K.sibling;return null}function v(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function S(Q,K){return Q=so(Q,K),Q.index=0,Q.sibling=null,Q}function E(Q,K,ee){return Q.index=ee,a?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<K?(Q.flags|=2,K):ee):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function A(Q){return a&&Q.alternate===null&&(Q.flags|=2),Q}function O(Q,K,ee,ve){return K===null||K.tag!==6?(K=sy(ee,Q.mode,ve),K.return=Q,K):(K=S(K,ee),K.return=Q,K)}function W(Q,K,ee,ve){var je=ee.type;return je===F?de(Q,K,ee.props.children,ve,ee.key):K!==null&&(K.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Y&&B1(je)===K.type)?(ve=S(K,ee.props),ve.ref=$c(Q,K,ee),ve.return=Q,ve):(ve=Ih(ee.type,ee.key,ee.props,null,Q.mode,ve),ve.ref=$c(Q,K,ee),ve.return=Q,ve)}function ne(Q,K,ee,ve){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=oy(ee,Q.mode,ve),K.return=Q,K):(K=S(K,ee.children||[]),K.return=Q,K)}function de(Q,K,ee,ve,je){return K===null||K.tag!==7?(K=Qo(ee,Q.mode,ve,je),K.return=Q,K):(K=S(K,ee),K.return=Q,K)}function me(Q,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=sy(""+K,Q.mode,ee),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return ee=Ih(K.type,K.key,K.props,null,Q.mode,ee),ee.ref=$c(Q,null,K),ee.return=Q,ee;case M:return K=oy(K,Q.mode,ee),K.return=Q,K;case Y:var ve=K._init;return me(Q,ve(K._payload),ee)}if($(K)||U(K))return K=Qo(K,Q.mode,ee,null),K.return=Q,K;lh(Q,K)}return null}function ue(Q,K,ee,ve){var je=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return je!==null?null:O(Q,K,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return ee.key===je?W(Q,K,ee,ve):null;case M:return ee.key===je?ne(Q,K,ee,ve):null;case Y:return je=ee._init,ue(Q,K,je(ee._payload),ve)}if($(ee)||U(ee))return je!==null?null:de(Q,K,ee,ve,null);lh(Q,ee)}return null}function Te(Q,K,ee,ve,je){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Q=Q.get(ee)||null,O(K,Q,""+ve,je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case k:return Q=Q.get(ve.key===null?ee:ve.key)||null,W(K,Q,ve,je);case M:return Q=Q.get(ve.key===null?ee:ve.key)||null,ne(K,Q,ve,je);case Y:var Ue=ve._init;return Te(Q,K,ee,Ue(ve._payload),je)}if($(ve)||U(ve))return Q=Q.get(ee)||null,de(K,Q,ve,je,null);lh(K,ve)}return null}function Ae(Q,K,ee,ve){for(var je=null,Ue=null,We=K,qe=K=0,Ln=null;We!==null&&qe<ee.length;qe++){We.index>qe?(Ln=We,We=null):Ln=We.sibling;var St=ue(Q,We,ee[qe],ve);if(St===null){We===null&&(We=Ln);break}a&&We&&St.alternate===null&&u(Q,We),K=E(St,K,qe),Ue===null?je=St:Ue.sibling=St,Ue=St,We=Ln}if(qe===ee.length)return m(Q,We),Zt&&Wo(Q,qe),je;if(We===null){for(;qe<ee.length;qe++)We=me(Q,ee[qe],ve),We!==null&&(K=E(We,K,qe),Ue===null?je=We:Ue.sibling=We,Ue=We);return Zt&&Wo(Q,qe),je}for(We=v(Q,We);qe<ee.length;qe++)Ln=Te(We,Q,qe,ee[qe],ve),Ln!==null&&(a&&Ln.alternate!==null&&We.delete(Ln.key===null?qe:Ln.key),K=E(Ln,K,qe),Ue===null?je=Ln:Ue.sibling=Ln,Ue=Ln);return a&&We.forEach(function(oo){return u(Q,oo)}),Zt&&Wo(Q,qe),je}function Ne(Q,K,ee,ve){var je=U(ee);if(typeof je!="function")throw Error(n(150));if(ee=je.call(ee),ee==null)throw Error(n(151));for(var Ue=je=null,We=K,qe=K=0,Ln=null,St=ee.next();We!==null&&!St.done;qe++,St=ee.next()){We.index>qe?(Ln=We,We=null):Ln=We.sibling;var oo=ue(Q,We,St.value,ve);if(oo===null){We===null&&(We=Ln);break}a&&We&&oo.alternate===null&&u(Q,We),K=E(oo,K,qe),Ue===null?je=oo:Ue.sibling=oo,Ue=oo,We=Ln}if(St.done)return m(Q,We),Zt&&Wo(Q,qe),je;if(We===null){for(;!St.done;qe++,St=ee.next())St=me(Q,St.value,ve),St!==null&&(K=E(St,K,qe),Ue===null?je=St:Ue.sibling=St,Ue=St);return Zt&&Wo(Q,qe),je}for(We=v(Q,We);!St.done;qe++,St=ee.next())St=Te(We,Q,qe,St.value,ve),St!==null&&(a&&St.alternate!==null&&We.delete(St.key===null?qe:St.key),K=E(St,K,qe),Ue===null?je=St:Ue.sibling=St,Ue=St);return a&&We.forEach(function(aD){return u(Q,aD)}),Zt&&Wo(Q,qe),je}function un(Q,K,ee,ve){if(typeof ee=="object"&&ee!==null&&ee.type===F&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:e:{for(var je=ee.key,Ue=K;Ue!==null;){if(Ue.key===je){if(je=ee.type,je===F){if(Ue.tag===7){m(Q,Ue.sibling),K=S(Ue,ee.props.children),K.return=Q,Q=K;break e}}else if(Ue.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Y&&B1(je)===Ue.type){m(Q,Ue.sibling),K=S(Ue,ee.props),K.ref=$c(Q,Ue,ee),K.return=Q,Q=K;break e}m(Q,Ue);break}else u(Q,Ue);Ue=Ue.sibling}ee.type===F?(K=Qo(ee.props.children,Q.mode,ve,ee.key),K.return=Q,Q=K):(ve=Ih(ee.type,ee.key,ee.props,null,Q.mode,ve),ve.ref=$c(Q,K,ee),ve.return=Q,Q=ve)}return A(Q);case M:e:{for(Ue=ee.key;K!==null;){if(K.key===Ue)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){m(Q,K.sibling),K=S(K,ee.children||[]),K.return=Q,Q=K;break e}else{m(Q,K);break}else u(Q,K);K=K.sibling}K=oy(ee,Q.mode,ve),K.return=Q,Q=K}return A(Q);case Y:return Ue=ee._init,un(Q,K,Ue(ee._payload),ve)}if($(ee))return Ae(Q,K,ee,ve);if(U(ee))return Ne(Q,K,ee,ve);lh(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(m(Q,K.sibling),K=S(K,ee),K.return=Q,Q=K):(m(Q,K),K=sy(ee,Q.mode,ve),K.return=Q,Q=K),A(Q)):m(Q,K)}return un}var il=G1(!0),U1=G1(!1),ch=Ys(null),uh=null,sl=null,gp=null;function pp(){gp=sl=uh=null}function yp(a){var u=ch.current;Ht(ch),a._currentValue=u}function vp(a,u,m){for(;a!==null;){var v=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),a===m)break;a=a.return}}function ol(a,u){uh=a,gp=sl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(xr=!0),a.firstContext=null)}function Kr(a){var u=a._currentValue;if(gp!==a)if(a={context:a,memoizedValue:u,next:null},sl===null){if(uh===null)throw Error(n(308));sl=a,uh.dependencies={lanes:0,firstContext:a}}else sl=sl.next=a;return u}var Ho=null;function xp(a){Ho===null?Ho=[a]:Ho.push(a)}function W1(a,u,m,v){var S=u.interleaved;return S===null?(m.next=m,xp(u)):(m.next=S.next,S.next=m),u.interleaved=m,ms(a,v)}function ms(a,u){a.lanes|=u;var m=a.alternate;for(m!==null&&(m.lanes|=u),m=a,a=a.return;a!==null;)a.childLanes|=u,m=a.alternate,m!==null&&(m.childLanes|=u),m=a,a=a.return;return m.tag===3?m.stateNode:null}var Js=!1;function _p(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H1(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function gs(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Qs(a,u,m){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(vt&2)!==0){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,ms(a,m)}return S=v.interleaved,S===null?(u.next=u,xp(v)):(u.next=S.next,S.next=u),v.interleaved=u,ms(a,m)}function dh(a,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var v=u.lanes;v&=a.pendingLanes,m|=v,u.lanes=m,Fg(a,m)}}function X1(a,u){var m=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?S=E=A:E=E.next=A,m=m.next}while(m!==null);E===null?S=E=u:E=E.next=u}else S=E=u;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:v.shared,effects:v.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=u}function hh(a,u,m,v){var S=a.updateQueue;Js=!1;var E=S.firstBaseUpdate,A=S.lastBaseUpdate,O=S.shared.pending;if(O!==null){S.shared.pending=null;var W=O,ne=W.next;W.next=null,A===null?E=ne:A.next=ne,A=W;var de=a.alternate;de!==null&&(de=de.updateQueue,O=de.lastBaseUpdate,O!==A&&(O===null?de.firstBaseUpdate=ne:O.next=ne,de.lastBaseUpdate=W))}if(E!==null){var me=S.baseState;A=0,de=ne=W=null,O=E;do{var ue=O.lane,Te=O.eventTime;if((v&ue)===ue){de!==null&&(de=de.next={eventTime:Te,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ae=a,Ne=O;switch(ue=u,Te=m,Ne.tag){case 1:if(Ae=Ne.payload,typeof Ae=="function"){me=Ae.call(Te,me,ue);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ne.payload,ue=typeof Ae=="function"?Ae.call(Te,me,ue):Ae,ue==null)break e;me=q({},me,ue);break e;case 2:Js=!0}}O.callback!==null&&O.lane!==0&&(a.flags|=64,ue=S.effects,ue===null?S.effects=[O]:ue.push(O))}else Te={eventTime:Te,lane:ue,tag:O.tag,payload:O.payload,callback:O.callback,next:null},de===null?(ne=de=Te,W=me):de=de.next=Te,A|=ue;if(O=O.next,O===null){if(O=S.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,S.lastBaseUpdate=ue,S.shared.pending=null}}while(!0);if(de===null&&(W=me),S.baseState=W,S.firstBaseUpdate=ne,S.lastBaseUpdate=de,u=S.shared.interleaved,u!==null){S=u;do A|=S.lane,S=S.next;while(S!==u)}else E===null&&(S.shared.lanes=0);Yo|=A,a.lanes=A,a.memoizedState=me}}function K1(a,u,m){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var v=a[u],S=v.callback;if(S!==null){if(v.callback=null,v=m,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var Bc={},$i=Ys(Bc),Gc=Ys(Bc),Uc=Ys(Bc);function Xo(a){if(a===Bc)throw Error(n(174));return a}function wp(a,u){switch(zt(Uc,u),zt(Gc,a),zt($i,Bc),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:De(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=De(u,a)}Ht($i),zt($i,u)}function al(){Ht($i),Ht(Gc),Ht(Uc)}function Y1(a){Xo(Uc.current);var u=Xo($i.current),m=De(u,a.type);u!==m&&(zt(Gc,a),zt($i,m))}function Cp(a){Gc.current===a&&(Ht($i),Ht(Gc))}var Qt=Ys(0);function fh(a){for(var u=a;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Sp=[];function bp(){for(var a=0;a<Sp.length;a++)Sp[a]._workInProgressVersionPrimary=null;Sp.length=0}var mh=P.ReactCurrentDispatcher,Ep=P.ReactCurrentBatchConfig,Ko=0,en=null,bn=null,Fn=null,gh=!1,Wc=!1,Hc=0,kL=0;function Zn(){throw Error(n(321))}function Rp(a,u){if(u===null)return!1;for(var m=0;m<u.length&&m<a.length;m++)if(!ci(a[m],u[m]))return!1;return!0}function Tp(a,u,m,v,S,E){if(Ko=E,en=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,mh.current=a===null||a.memoizedState===null?NL:FL,a=m(v,S),Wc){E=0;do{if(Wc=!1,Hc=0,25<=E)throw Error(n(301));E+=1,Fn=bn=null,u.updateQueue=null,mh.current=jL,a=m(v,S)}while(Wc)}if(mh.current=vh,u=bn!==null&&bn.next!==null,Ko=0,Fn=bn=en=null,gh=!1,u)throw Error(n(300));return a}function Pp(){var a=Hc!==0;return Hc=0,a}function Bi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?en.memoizedState=Fn=a:Fn=Fn.next=a,Fn}function Yr(){if(bn===null){var a=en.alternate;a=a!==null?a.memoizedState:null}else a=bn.next;var u=Fn===null?en.memoizedState:Fn.next;if(u!==null)Fn=u,bn=a;else{if(a===null)throw Error(n(310));bn=a,a={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Fn===null?en.memoizedState=Fn=a:Fn=Fn.next=a}return Fn}function Xc(a,u){return typeof u=="function"?u(a):u}function kp(a){var u=Yr(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var v=bn,S=v.baseQueue,E=m.pending;if(E!==null){if(S!==null){var A=S.next;S.next=E.next,E.next=A}v.baseQueue=S=E,m.pending=null}if(S!==null){E=S.next,v=v.baseState;var O=A=null,W=null,ne=E;do{var de=ne.lane;if((Ko&de)===de)W!==null&&(W=W.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),v=ne.hasEagerState?ne.eagerState:a(v,ne.action);else{var me={lane:de,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};W===null?(O=W=me,A=v):W=W.next=me,en.lanes|=de,Yo|=de}ne=ne.next}while(ne!==null&&ne!==E);W===null?A=v:W.next=O,ci(v,u.memoizedState)||(xr=!0),u.memoizedState=v,u.baseState=A,u.baseQueue=W,m.lastRenderedState=v}if(a=m.interleaved,a!==null){S=a;do E=S.lane,en.lanes|=E,Yo|=E,S=S.next;while(S!==a)}else S===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Ap(a){var u=Yr(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var v=m.dispatch,S=m.pending,E=u.memoizedState;if(S!==null){m.pending=null;var A=S=S.next;do E=a(E,A.action),A=A.next;while(A!==S);ci(E,u.memoizedState)||(xr=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),m.lastRenderedState=E}return[E,v]}function Z1(){}function q1(a,u){var m=en,v=Yr(),S=u(),E=!ci(v.memoizedState,S);if(E&&(v.memoizedState=S,xr=!0),v=v.queue,Mp(eC.bind(null,m,v,a),[a]),v.getSnapshot!==u||E||Fn!==null&&Fn.memoizedState.tag&1){if(m.flags|=2048,Kc(9,Q1.bind(null,m,v,S,u),void 0,null),jn===null)throw Error(n(349));(Ko&30)!==0||J1(m,u,S)}return S}function J1(a,u,m){a.flags|=16384,a={getSnapshot:u,value:m},u=en.updateQueue,u===null?(u={lastEffect:null,stores:null},en.updateQueue=u,u.stores=[a]):(m=u.stores,m===null?u.stores=[a]:m.push(a))}function Q1(a,u,m,v){u.value=m,u.getSnapshot=v,tC(u)&&nC(a)}function eC(a,u,m){return m(function(){tC(u)&&nC(a)})}function tC(a){var u=a.getSnapshot;a=a.value;try{var m=u();return!ci(a,m)}catch{return!0}}function nC(a){var u=ms(a,1);u!==null&&mi(u,a,1,-1)}function rC(a){var u=Bi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:a},u.queue=a,a=a.dispatch=IL.bind(null,en,a),[u.memoizedState,a]}function Kc(a,u,m,v){return a={tag:a,create:u,destroy:m,deps:v,next:null},u=en.updateQueue,u===null?(u={lastEffect:null,stores:null},en.updateQueue=u,u.lastEffect=a.next=a):(m=u.lastEffect,m===null?u.lastEffect=a.next=a:(v=m.next,m.next=a,a.next=v,u.lastEffect=a)),a}function iC(){return Yr().memoizedState}function ph(a,u,m,v){var S=Bi();en.flags|=a,S.memoizedState=Kc(1|u,m,void 0,v===void 0?null:v)}function yh(a,u,m,v){var S=Yr();v=v===void 0?null:v;var E=void 0;if(bn!==null){var A=bn.memoizedState;if(E=A.destroy,v!==null&&Rp(v,A.deps)){S.memoizedState=Kc(u,m,E,v);return}}en.flags|=a,S.memoizedState=Kc(1|u,m,E,v)}function sC(a,u){return ph(8390656,8,a,u)}function Mp(a,u){return yh(2048,8,a,u)}function oC(a,u){return yh(4,2,a,u)}function aC(a,u){return yh(4,4,a,u)}function lC(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function cC(a,u,m){return m=m!=null?m.concat([a]):null,yh(4,4,lC.bind(null,u,a),m)}function Ip(){}function uC(a,u){var m=Yr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Rp(u,v[1])?v[0]:(m.memoizedState=[a,u],a)}function dC(a,u){var m=Yr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Rp(u,v[1])?v[0]:(a=a(),m.memoizedState=[a,u],a)}function hC(a,u,m){return(Ko&21)===0?(a.baseState&&(a.baseState=!1,xr=!0),a.memoizedState=m):(ci(m,u)||(m=Bw(),en.lanes|=m,Yo|=m,a.baseState=!0),u)}function AL(a,u){var m=At;At=m!==0&&4>m?m:4,a(!0);var v=Ep.transition;Ep.transition={};try{a(!1),u()}finally{At=m,Ep.transition=v}}function fC(){return Yr().memoizedState}function ML(a,u,m){var v=ro(a);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},mC(a))gC(u,m);else if(m=W1(a,u,m,v),m!==null){var S=ur();mi(m,a,v,S),pC(m,u,v)}}function IL(a,u,m){var v=ro(a),S={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(mC(a))gC(u,S);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var A=u.lastRenderedState,O=E(A,m);if(S.hasEagerState=!0,S.eagerState=O,ci(O,A)){var W=u.interleaved;W===null?(S.next=S,xp(u)):(S.next=W.next,W.next=S),u.interleaved=S;return}}catch{}finally{}m=W1(a,u,S,v),m!==null&&(S=ur(),mi(m,a,v,S),pC(m,u,v))}}function mC(a){var u=a.alternate;return a===en||u!==null&&u===en}function gC(a,u){Wc=gh=!0;var m=a.pending;m===null?u.next=u:(u.next=m.next,m.next=u),a.pending=u}function pC(a,u,m){if((m&4194240)!==0){var v=u.lanes;v&=a.pendingLanes,m|=v,u.lanes=m,Fg(a,m)}}var vh={readContext:Kr,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},NL={readContext:Kr,useCallback:function(a,u){return Bi().memoizedState=[a,u===void 0?null:u],a},useContext:Kr,useEffect:sC,useImperativeHandle:function(a,u,m){return m=m!=null?m.concat([a]):null,ph(4194308,4,lC.bind(null,u,a),m)},useLayoutEffect:function(a,u){return ph(4194308,4,a,u)},useInsertionEffect:function(a,u){return ph(4,2,a,u)},useMemo:function(a,u){var m=Bi();return u=u===void 0?null:u,a=a(),m.memoizedState=[a,u],a},useReducer:function(a,u,m){var v=Bi();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},v.queue=a,a=a.dispatch=ML.bind(null,en,a),[v.memoizedState,a]},useRef:function(a){var u=Bi();return a={current:a},u.memoizedState=a},useState:rC,useDebugValue:Ip,useDeferredValue:function(a){return Bi().memoizedState=a},useTransition:function(){var a=rC(!1),u=a[0];return a=AL.bind(null,a[1]),Bi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,m){var v=en,S=Bi();if(Zt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),jn===null)throw Error(n(349));(Ko&30)!==0||J1(v,u,m)}S.memoizedState=m;var E={value:m,getSnapshot:u};return S.queue=E,sC(eC.bind(null,v,E,a),[a]),v.flags|=2048,Kc(9,Q1.bind(null,v,E,m,u),void 0,null),m},useId:function(){var a=Bi(),u=jn.identifierPrefix;if(Zt){var m=fs,v=hs;m=(v&~(1<<32-li(v)-1)).toString(32)+m,u=":"+u+"R"+m,m=Hc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=kL++,u=":"+u+"r"+m.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},FL={readContext:Kr,useCallback:uC,useContext:Kr,useEffect:Mp,useImperativeHandle:cC,useInsertionEffect:oC,useLayoutEffect:aC,useMemo:dC,useReducer:kp,useRef:iC,useState:function(){return kp(Xc)},useDebugValue:Ip,useDeferredValue:function(a){var u=Yr();return hC(u,bn.memoizedState,a)},useTransition:function(){var a=kp(Xc)[0],u=Yr().memoizedState;return[a,u]},useMutableSource:Z1,useSyncExternalStore:q1,useId:fC,unstable_isNewReconciler:!1},jL={readContext:Kr,useCallback:uC,useContext:Kr,useEffect:Mp,useImperativeHandle:cC,useInsertionEffect:oC,useLayoutEffect:aC,useMemo:dC,useReducer:Ap,useRef:iC,useState:function(){return Ap(Xc)},useDebugValue:Ip,useDeferredValue:function(a){var u=Yr();return bn===null?u.memoizedState=a:hC(u,bn.memoizedState,a)},useTransition:function(){var a=Ap(Xc)[0],u=Yr().memoizedState;return[a,u]},useMutableSource:Z1,useSyncExternalStore:q1,useId:fC,unstable_isNewReconciler:!1};function di(a,u){if(a&&a.defaultProps){u=q({},u),a=a.defaultProps;for(var m in a)u[m]===void 0&&(u[m]=a[m]);return u}return u}function Np(a,u,m,v){u=a.memoizedState,m=m(v,u),m=m==null?u:q({},u,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var xh={isMounted:function(a){return(a=a._reactInternals)?$o(a)===a:!1},enqueueSetState:function(a,u,m){a=a._reactInternals;var v=ur(),S=ro(a),E=gs(v,S);E.payload=u,m!=null&&(E.callback=m),u=Qs(a,E,S),u!==null&&(mi(u,a,S,v),dh(u,a,S))},enqueueReplaceState:function(a,u,m){a=a._reactInternals;var v=ur(),S=ro(a),E=gs(v,S);E.tag=1,E.payload=u,m!=null&&(E.callback=m),u=Qs(a,E,S),u!==null&&(mi(u,a,S,v),dh(u,a,S))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var m=ur(),v=ro(a),S=gs(m,v);S.tag=2,u!=null&&(S.callback=u),u=Qs(a,S,v),u!==null&&(mi(u,a,v,m),dh(u,a,v))}};function yC(a,u,m,v,S,E,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,E,A):u.prototype&&u.prototype.isPureReactComponent?!Fc(m,v)||!Fc(S,E):!0}function vC(a,u,m){var v=!1,S=Zs,E=u.contextType;return typeof E=="object"&&E!==null?E=Kr(E):(S=vr(u)?Go:Yn.current,v=u.contextTypes,E=(v=v!=null)?el(a,S):Zs),u=new u(m,E),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=xh,a.stateNode=u,u._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=E),u}function xC(a,u,m,v){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==a&&xh.enqueueReplaceState(u,u.state,null)}function Fp(a,u,m,v){var S=a.stateNode;S.props=m,S.state=a.memoizedState,S.refs={},_p(a);var E=u.contextType;typeof E=="object"&&E!==null?S.context=Kr(E):(E=vr(u)?Go:Yn.current,S.context=el(a,E)),S.state=a.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Np(a,u,E,m),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&xh.enqueueReplaceState(S,S.state,null),hh(a,m,S,v),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function ll(a,u){try{var m="",v=u;do m+=ce(v),v=v.return;while(v);var S=m}catch(E){S=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:u,stack:S,digest:null}}function jp(a,u,m){return{value:a,source:null,stack:m??null,digest:u??null}}function Lp(a,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var LL=typeof WeakMap=="function"?WeakMap:Map;function _C(a,u,m){m=gs(-1,m),m.tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Rh||(Rh=!0,qp=v),Lp(a,u)},m}function wC(a,u,m){m=gs(-1,m),m.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var S=u.value;m.payload=function(){return v(S)},m.callback=function(){Lp(a,u)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){Lp(a,u),typeof v!="function"&&(to===null?to=new Set([this]):to.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})}),m}function CC(a,u,m){var v=a.pingCache;if(v===null){v=a.pingCache=new LL;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(m)||(S.add(m),a=ZL.bind(null,a,u,m),u.then(a,a))}function SC(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function bC(a,u,m,v,S){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=gs(-1,1),u.tag=2,Qs(m,u,1))),m.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var DL=P.ReactCurrentOwner,xr=!1;function cr(a,u,m,v){u.child=a===null?U1(u,null,m,v):il(u,a.child,m,v)}function EC(a,u,m,v,S){m=m.render;var E=u.ref;return ol(u,S),v=Tp(a,u,m,v,E,S),m=Pp(),a!==null&&!xr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,ps(a,u,S)):(Zt&&m&&up(u),u.flags|=1,cr(a,u,v,S),u.child)}function RC(a,u,m,v,S){if(a===null){var E=m.type;return typeof E=="function"&&!iy(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=E,TC(a,u,E,v,S)):(a=Ih(m.type,null,v,u,u.mode,S),a.ref=u.ref,a.return=u,u.child=a)}if(E=a.child,(a.lanes&S)===0){var A=E.memoizedProps;if(m=m.compare,m=m!==null?m:Fc,m(A,v)&&a.ref===u.ref)return ps(a,u,S)}return u.flags|=1,a=so(E,v),a.ref=u.ref,a.return=u,u.child=a}function TC(a,u,m,v,S){if(a!==null){var E=a.memoizedProps;if(Fc(E,v)&&a.ref===u.ref)if(xr=!1,u.pendingProps=v=E,(a.lanes&S)!==0)(a.flags&131072)!==0&&(xr=!0);else return u.lanes=a.lanes,ps(a,u,S)}return Dp(a,u,m,v,S)}function PC(a,u,m){var v=u.pendingProps,S=v.children,E=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(ul,Fr),Fr|=m;else{if((m&1073741824)===0)return a=E!==null?E.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,zt(ul,Fr),Fr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:m,zt(ul,Fr),Fr|=v}else E!==null?(v=E.baseLanes|m,u.memoizedState=null):v=m,zt(ul,Fr),Fr|=v;return cr(a,u,S,m),u.child}function kC(a,u){var m=u.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Dp(a,u,m,v,S){var E=vr(m)?Go:Yn.current;return E=el(u,E),ol(u,S),m=Tp(a,u,m,v,E,S),v=Pp(),a!==null&&!xr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,ps(a,u,S)):(Zt&&v&&up(u),u.flags|=1,cr(a,u,m,S),u.child)}function AC(a,u,m,v,S){if(vr(m)){var E=!0;rh(u)}else E=!1;if(ol(u,S),u.stateNode===null)wh(a,u),vC(u,m,v),Fp(u,m,v,S),v=!0;else if(a===null){var A=u.stateNode,O=u.memoizedProps;A.props=O;var W=A.context,ne=m.contextType;typeof ne=="object"&&ne!==null?ne=Kr(ne):(ne=vr(m)?Go:Yn.current,ne=el(u,ne));var de=m.getDerivedStateFromProps,me=typeof de=="function"||typeof A.getSnapshotBeforeUpdate=="function";me||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==v||W!==ne)&&xC(u,A,v,ne),Js=!1;var ue=u.memoizedState;A.state=ue,hh(u,v,A,S),W=u.memoizedState,O!==v||ue!==W||yr.current||Js?(typeof de=="function"&&(Np(u,m,de,v),W=u.memoizedState),(O=Js||yC(u,m,O,v,ue,W,ne))?(me||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=W),A.props=v,A.state=W,A.context=ne,v=O):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{A=u.stateNode,H1(a,u),O=u.memoizedProps,ne=u.type===u.elementType?O:di(u.type,O),A.props=ne,me=u.pendingProps,ue=A.context,W=m.contextType,typeof W=="object"&&W!==null?W=Kr(W):(W=vr(m)?Go:Yn.current,W=el(u,W));var Te=m.getDerivedStateFromProps;(de=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==me||ue!==W)&&xC(u,A,v,W),Js=!1,ue=u.memoizedState,A.state=ue,hh(u,v,A,S);var Ae=u.memoizedState;O!==me||ue!==Ae||yr.current||Js?(typeof Te=="function"&&(Np(u,m,Te,v),Ae=u.memoizedState),(ne=Js||yC(u,m,ne,v,ue,Ae,W)||!1)?(de||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,Ae,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,Ae,W)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ae),A.props=v,A.state=Ae,A.context=W,v=ne):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),v=!1)}return Op(a,u,m,v,E,S)}function Op(a,u,m,v,S,E){kC(a,u);var A=(u.flags&128)!==0;if(!v&&!A)return S&&j1(u,m,!1),ps(a,u,E);v=u.stateNode,DL.current=u;var O=A&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,a!==null&&A?(u.child=il(u,a.child,null,E),u.child=il(u,null,O,E)):cr(a,u,O,E),u.memoizedState=v.state,S&&j1(u,m,!0),u.child}function MC(a){var u=a.stateNode;u.pendingContext?N1(a,u.pendingContext,u.pendingContext!==u.context):u.context&&N1(a,u.context,!1),wp(a,u.containerInfo)}function IC(a,u,m,v,S){return rl(),mp(S),u.flags|=256,cr(a,u,m,v),u.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function zp(a){return{baseLanes:a,cachePool:null,transitions:null}}function NC(a,u,m){var v=u.pendingProps,S=Qt.current,E=!1,A=(u.flags&128)!==0,O;if((O=A)||(O=a!==null&&a.memoizedState===null?!1:(S&2)!==0),O?(E=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),zt(Qt,S&1),a===null)return fp(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(A=v.children,a=v.fallback,E?(v=u.mode,E=u.child,A={mode:"hidden",children:A},(v&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=A):E=Nh(A,v,0,null),a=Qo(a,v,m,null),E.return=u,a.return=u,E.sibling=a,u.child=E,u.child.memoizedState=zp(m),u.memoizedState=Vp,a):$p(u,A));if(S=a.memoizedState,S!==null&&(O=S.dehydrated,O!==null))return OL(a,u,A,v,O,S,m);if(E){E=v.fallback,A=u.mode,S=a.child,O=S.sibling;var W={mode:"hidden",children:v.children};return(A&1)===0&&u.child!==S?(v=u.child,v.childLanes=0,v.pendingProps=W,u.deletions=null):(v=so(S,W),v.subtreeFlags=S.subtreeFlags&14680064),O!==null?E=so(O,E):(E=Qo(E,A,m,null),E.flags|=2),E.return=u,v.return=u,v.sibling=E,u.child=v,v=E,E=u.child,A=a.child.memoizedState,A=A===null?zp(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=a.childLanes&~m,u.memoizedState=Vp,v}return E=a.child,a=E.sibling,v=so(E,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=m),v.return=u,v.sibling=null,a!==null&&(m=u.deletions,m===null?(u.deletions=[a],u.flags|=16):m.push(a)),u.child=v,u.memoizedState=null,v}function $p(a,u){return u=Nh({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function _h(a,u,m,v){return v!==null&&mp(v),il(u,a.child,null,m),a=$p(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function OL(a,u,m,v,S,E,A){if(m)return u.flags&256?(u.flags&=-257,v=jp(Error(n(422))),_h(a,u,A,v)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(E=v.fallback,S=u.mode,v=Nh({mode:"visible",children:v.children},S,0,null),E=Qo(E,S,A,null),E.flags|=2,v.return=u,E.return=u,v.sibling=E,u.child=v,(u.mode&1)!==0&&il(u,a.child,null,A),u.child.memoizedState=zp(A),u.memoizedState=Vp,E);if((u.mode&1)===0)return _h(a,u,A,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var O=v.dgst;return v=O,E=Error(n(419)),v=jp(E,v,void 0),_h(a,u,A,v)}if(O=(A&a.childLanes)!==0,xr||O){if(v=jn,v!==null){switch(A&-A){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|A))!==0?0:S,S!==0&&S!==E.retryLane&&(E.retryLane=S,ms(a,S),mi(v,a,S,-1))}return ry(),v=jp(Error(n(421))),_h(a,u,A,v)}return S.data==="$?"?(u.flags|=128,u.child=a.child,u=qL.bind(null,a),S._reactRetry=u,null):(a=E.treeContext,Nr=Ks(S.nextSibling),Ir=u,Zt=!0,ui=null,a!==null&&(Hr[Xr++]=hs,Hr[Xr++]=fs,Hr[Xr++]=Uo,hs=a.id,fs=a.overflow,Uo=u),u=$p(u,v.children),u.flags|=4096,u)}function FC(a,u,m){a.lanes|=u;var v=a.alternate;v!==null&&(v.lanes|=u),vp(a.return,u,m)}function Bp(a,u,m,v,S){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=m,E.tailMode=S)}function jC(a,u,m){var v=u.pendingProps,S=v.revealOrder,E=v.tail;if(cr(a,u,v.children,m),v=Qt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FC(a,m,u);else if(a.tag===19)FC(a,m,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(zt(Qt,v),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(m=u.child,S=null;m!==null;)a=m.alternate,a!==null&&fh(a)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),Bp(u,!1,S,m,E);break;case"backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(a=S.alternate,a!==null&&fh(a)===null){u.child=S;break}a=S.sibling,S.sibling=m,m=S,S=a}Bp(u,!0,m,null,E);break;case"together":Bp(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function wh(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ps(a,u,m){if(a!==null&&(u.dependencies=a.dependencies),Yo|=u.lanes,(m&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,m=so(a,a.pendingProps),u.child=m,m.return=u;a.sibling!==null;)a=a.sibling,m=m.sibling=so(a,a.pendingProps),m.return=u;m.sibling=null}return u.child}function VL(a,u,m){switch(u.tag){case 3:MC(u),rl();break;case 5:Y1(u);break;case 1:vr(u.type)&&rh(u);break;case 4:wp(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,S=u.memoizedProps.value;zt(ch,v._currentValue),v._currentValue=S;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(zt(Qt,Qt.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?NC(a,u,m):(zt(Qt,Qt.current&1),a=ps(a,u,m),a!==null?a.sibling:null);zt(Qt,Qt.current&1);break;case 19:if(v=(m&u.childLanes)!==0,(a.flags&128)!==0){if(v)return jC(a,u,m);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),zt(Qt,Qt.current),v)break;return null;case 22:case 23:return u.lanes=0,PC(a,u,m)}return ps(a,u,m)}var LC,Gp,DC,OC;LC=function(a,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Gp=function(){},DC=function(a,u,m,v){var S=a.memoizedProps;if(S!==v){a=u.stateNode,Xo($i.current);var E=null;switch(m){case"input":S=mt(a,S),v=mt(a,v),E=[];break;case"select":S=q({},S,{value:void 0}),v=q({},v,{value:void 0}),E=[];break;case"textarea":S=te(a,S),v=te(a,v),E=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=eh)}Rt(m,v);var A;m=null;for(ne in S)if(!v.hasOwnProperty(ne)&&S.hasOwnProperty(ne)&&S[ne]!=null)if(ne==="style"){var O=S[ne];for(A in O)O.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?E||(E=[]):(E=E||[]).push(ne,null));for(ne in v){var W=v[ne];if(O=S!=null?S[ne]:void 0,v.hasOwnProperty(ne)&&W!==O&&(W!=null||O!=null))if(ne==="style")if(O){for(A in O)!O.hasOwnProperty(A)||W&&W.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in W)W.hasOwnProperty(A)&&O[A]!==W[A]&&(m||(m={}),m[A]=W[A])}else m||(E||(E=[]),E.push(ne,m)),m=W;else ne==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,O=O?O.__html:void 0,W!=null&&O!==W&&(E=E||[]).push(ne,W)):ne==="children"?typeof W!="string"&&typeof W!="number"||(E=E||[]).push(ne,""+W):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(W!=null&&ne==="onScroll"&&Wt("scroll",a),E||O===W||(E=[])):(E=E||[]).push(ne,W))}m&&(E=E||[]).push("style",m);var ne=E;(u.updateQueue=ne)&&(u.flags|=4)}},OC=function(a,u,m,v){m!==v&&(u.flags|=4)};function Yc(a,u){if(!Zt)switch(a.tailMode){case"hidden":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function qn(a){var u=a.alternate!==null&&a.alternate.child===a.child,m=0,v=0;if(u)for(var S=a.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=v,a.childLanes=m,u}function zL(a,u,m){var v=u.pendingProps;switch(dp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(u),null;case 1:return vr(u.type)&&nh(),qn(u),null;case 3:return v=u.stateNode,al(),Ht(yr),Ht(Yn),bp(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(ah(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ui!==null&&(ey(ui),ui=null))),Gp(a,u),qn(u),null;case 5:Cp(u);var S=Xo(Uc.current);if(m=u.type,a!==null&&u.stateNode!=null)DC(a,u,m,v,S),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(n(166));return qn(u),null}if(a=Xo($i.current),ah(u)){v=u.stateNode,m=u.type;var E=u.memoizedProps;switch(v[zi]=u,v[Vc]=E,a=(u.mode&1)!==0,m){case"dialog":Wt("cancel",v),Wt("close",v);break;case"iframe":case"object":case"embed":Wt("load",v);break;case"video":case"audio":for(S=0;S<Lc.length;S++)Wt(Lc[S],v);break;case"source":Wt("error",v);break;case"img":case"image":case"link":Wt("error",v),Wt("load",v);break;case"details":Wt("toggle",v);break;case"input":Gt(v,E),Wt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},Wt("invalid",v);break;case"textarea":fe(v,E),Wt("invalid",v)}Rt(m,E),S=null;for(var A in E)if(E.hasOwnProperty(A)){var O=E[A];A==="children"?typeof O=="string"?v.textContent!==O&&(E.suppressHydrationWarning!==!0&&Qd(v.textContent,O,a),S=["children",O]):typeof O=="number"&&v.textContent!==""+O&&(E.suppressHydrationWarning!==!0&&Qd(v.textContent,O,a),S=["children",""+O]):i.hasOwnProperty(A)&&O!=null&&A==="onScroll"&&Wt("scroll",v)}switch(m){case"input":$e(v),zn(v,E,!0);break;case"textarea":$e(v),ie(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=eh)}v=S,u.updateQueue=v,v!==null&&(u.flags|=4)}else{A=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ye(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=A.createElement(m,{is:v.is}):(a=A.createElement(m),m==="select"&&(A=a,v.multiple?A.multiple=!0:v.size&&(A.size=v.size))):a=A.createElementNS(a,m),a[zi]=u,a[Vc]=v,LC(a,u,!1,!1),u.stateNode=a;e:{switch(A=ln(m,v),m){case"dialog":Wt("cancel",a),Wt("close",a),S=v;break;case"iframe":case"object":case"embed":Wt("load",a),S=v;break;case"video":case"audio":for(S=0;S<Lc.length;S++)Wt(Lc[S],a);S=v;break;case"source":Wt("error",a),S=v;break;case"img":case"image":case"link":Wt("error",a),Wt("load",a),S=v;break;case"details":Wt("toggle",a),S=v;break;case"input":Gt(a,v),S=mt(a,v),Wt("invalid",a);break;case"option":S=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},S=q({},v,{value:void 0}),Wt("invalid",a);break;case"textarea":fe(a,v),S=te(a,v),Wt("invalid",a);break;default:S=v}Rt(m,S),O=S;for(E in O)if(O.hasOwnProperty(E)){var W=O[E];E==="style"?we(a,W):E==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&wt(a,W)):E==="children"?typeof W=="string"?(m!=="textarea"||W!=="")&&jt(a,W):typeof W=="number"&&jt(a,""+W):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?W!=null&&E==="onScroll"&&Wt("scroll",a):W!=null&&T(a,E,W,A))}switch(m){case"input":$e(a),zn(a,v,!1);break;case"textarea":$e(a),ie(a);break;case"option":v.value!=null&&a.setAttribute("value",""+pe(v.value));break;case"select":a.multiple=!!v.multiple,E=v.value,E!=null?J(a,!!v.multiple,E,!1):v.defaultValue!=null&&J(a,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=eh)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return qn(u),null;case 6:if(a&&u.stateNode!=null)OC(a,u,a.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(m=Xo(Uc.current),Xo($i.current),ah(u)){if(v=u.stateNode,m=u.memoizedProps,v[zi]=u,(E=v.nodeValue!==m)&&(a=Ir,a!==null))switch(a.tag){case 3:Qd(v.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Qd(v.nodeValue,m,(a.mode&1)!==0)}E&&(u.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[zi]=u,u.stateNode=v}return qn(u),null;case 13:if(Ht(Qt),v=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Zt&&Nr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)$1(),rl(),u.flags|=98560,E=!1;else if(E=ah(u),v!==null&&v.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[zi]=u}else rl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;qn(u),E=!1}else ui!==null&&(ey(ui),ui=null),E=!0;if(!E)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(Qt.current&1)!==0?En===0&&(En=3):ry())),u.updateQueue!==null&&(u.flags|=4),qn(u),null);case 4:return al(),Gp(a,u),a===null&&Dc(u.stateNode.containerInfo),qn(u),null;case 10:return yp(u.type._context),qn(u),null;case 17:return vr(u.type)&&nh(),qn(u),null;case 19:if(Ht(Qt),E=u.memoizedState,E===null)return qn(u),null;if(v=(u.flags&128)!==0,A=E.rendering,A===null)if(v)Yc(E,!1);else{if(En!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(A=fh(a),A!==null){for(u.flags|=128,Yc(E,!1),v=A.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=m,m=u.child;m!==null;)E=m,a=v,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,a=A.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return zt(Qt,Qt.current&1|2),u.child}a=a.sibling}E.tail!==null&&cn()>dl&&(u.flags|=128,v=!0,Yc(E,!1),u.lanes=4194304)}else{if(!v)if(a=fh(A),a!==null){if(u.flags|=128,v=!0,m=a.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Yc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!Zt)return qn(u),null}else 2*cn()-E.renderingStartTime>dl&&m!==1073741824&&(u.flags|=128,v=!0,Yc(E,!1),u.lanes=4194304);E.isBackwards?(A.sibling=u.child,u.child=A):(m=E.last,m!==null?m.sibling=A:u.child=A,E.last=A)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=cn(),u.sibling=null,m=Qt.current,zt(Qt,v?m&1|2:m&1),u):(qn(u),null);case 22:case 23:return ny(),v=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(Fr&1073741824)!==0&&(qn(u),u.subtreeFlags&6&&(u.flags|=8192)):qn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function $L(a,u){switch(dp(u),u.tag){case 1:return vr(u.type)&&nh(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return al(),Ht(yr),Ht(Yn),bp(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Cp(u),null;case 13:if(Ht(Qt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));rl()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Ht(Qt),null;case 4:return al(),null;case 10:return yp(u.type._context),null;case 22:case 23:return ny(),null;case 24:return null;default:return null}}var Ch=!1,Jn=!1,BL=typeof WeakSet=="function"?WeakSet:Set,ke=null;function cl(a,u){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){sn(a,u,v)}else m.current=null}function Up(a,u,m){try{m()}catch(v){sn(a,u,v)}}var VC=!1;function GL(a,u){if(np=Bd,a=y1(),Kg(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var S=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var A=0,O=-1,W=-1,ne=0,de=0,me=a,ue=null;t:for(;;){for(var Te;me!==m||S!==0&&me.nodeType!==3||(O=A+S),me!==E||v!==0&&me.nodeType!==3||(W=A+v),me.nodeType===3&&(A+=me.nodeValue.length),(Te=me.firstChild)!==null;)ue=me,me=Te;for(;;){if(me===a)break t;if(ue===m&&++ne===S&&(O=A),ue===E&&++de===v&&(W=A),(Te=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=Te}m=O===-1||W===-1?null:{start:O,end:W}}else m=null}m=m||{start:0,end:0}}else m=null;for(rp={focusedElem:a,selectionRange:m},Bd=!1,ke=u;ke!==null;)if(u=ke,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,ke=a;else for(;ke!==null;){u=ke;try{var Ae=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Ne=Ae.memoizedProps,un=Ae.memoizedState,Q=u.stateNode,K=Q.getSnapshotBeforeUpdate(u.elementType===u.type?Ne:di(u.type,Ne),un);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=u.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){sn(u,u.return,ve)}if(a=u.sibling,a!==null){a.return=u.return,ke=a;break}ke=u.return}return Ae=VC,VC=!1,Ae}function Zc(a,u,m){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&a)===a){var E=S.destroy;S.destroy=void 0,E!==void 0&&Up(u,m,E)}S=S.next}while(S!==v)}}function Sh(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&a)===a){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function Wp(a){var u=a.ref;if(u!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof u=="function"?u(a):u.current=a}}function zC(a){var u=a.alternate;u!==null&&(a.alternate=null,zC(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[zi],delete u[Vc],delete u[ap],delete u[EL],delete u[RL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function $C(a){return a.tag===5||a.tag===3||a.tag===4}function BC(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$C(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hp(a,u,m){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(a,u):m.insertBefore(a,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(a,m)):(u=m,u.appendChild(a)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=eh));else if(v!==4&&(a=a.child,a!==null))for(Hp(a,u,m),a=a.sibling;a!==null;)Hp(a,u,m),a=a.sibling}function Xp(a,u,m){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?m.insertBefore(a,u):m.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(Xp(a,u,m),a=a.sibling;a!==null;)Xp(a,u,m),a=a.sibling}var Bn=null,hi=!1;function eo(a,u,m){for(m=m.child;m!==null;)GC(a,u,m),m=m.sibling}function GC(a,u,m){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(Ld,m)}catch{}switch(m.tag){case 5:Jn||cl(m,u);case 6:var v=Bn,S=hi;Bn=null,eo(a,u,m),Bn=v,hi=S,Bn!==null&&(hi?(a=Bn,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):Bn.removeChild(m.stateNode));break;case 18:Bn!==null&&(hi?(a=Bn,m=m.stateNode,a.nodeType===8?op(a.parentNode,m):a.nodeType===1&&op(a,m),Pc(a)):op(Bn,m.stateNode));break;case 4:v=Bn,S=hi,Bn=m.stateNode.containerInfo,hi=!0,eo(a,u,m),Bn=v,hi=S;break;case 0:case 11:case 14:case 15:if(!Jn&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var E=S,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&Up(m,u,A),S=S.next}while(S!==v)}eo(a,u,m);break;case 1:if(!Jn&&(cl(m,u),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(O){sn(m,u,O)}eo(a,u,m);break;case 21:eo(a,u,m);break;case 22:m.mode&1?(Jn=(v=Jn)||m.memoizedState!==null,eo(a,u,m),Jn=v):eo(a,u,m);break;default:eo(a,u,m)}}function UC(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new BL),u.forEach(function(v){var S=JL.bind(null,a,v);m.has(v)||(m.add(v),v.then(S,S))})}}function fi(a,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v];try{var E=a,A=u,O=A;e:for(;O!==null;){switch(O.tag){case 5:Bn=O.stateNode,hi=!1;break e;case 3:Bn=O.stateNode.containerInfo,hi=!0;break e;case 4:Bn=O.stateNode.containerInfo,hi=!0;break e}O=O.return}if(Bn===null)throw Error(n(160));GC(E,A,S),Bn=null,hi=!1;var W=S.alternate;W!==null&&(W.return=null),S.return=null}catch(ne){sn(S,u,ne)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)WC(u,a),u=u.sibling}function WC(a,u){var m=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(fi(u,a),Gi(a),v&4){try{Zc(3,a,a.return),Sh(3,a)}catch(Ne){sn(a,a.return,Ne)}try{Zc(5,a,a.return)}catch(Ne){sn(a,a.return,Ne)}}break;case 1:fi(u,a),Gi(a),v&512&&m!==null&&cl(m,m.return);break;case 5:if(fi(u,a),Gi(a),v&512&&m!==null&&cl(m,m.return),a.flags&32){var S=a.stateNode;try{jt(S,"")}catch(Ne){sn(a,a.return,Ne)}}if(v&4&&(S=a.stateNode,S!=null)){var E=a.memoizedProps,A=m!==null?m.memoizedProps:E,O=a.type,W=a.updateQueue;if(a.updateQueue=null,W!==null)try{O==="input"&&E.type==="radio"&&E.name!=null&&Dt(S,E),ln(O,A);var ne=ln(O,E);for(A=0;A<W.length;A+=2){var de=W[A],me=W[A+1];de==="style"?we(S,me):de==="dangerouslySetInnerHTML"?wt(S,me):de==="children"?jt(S,me):T(S,de,me,ne)}switch(O){case"input":ft(S,E);break;case"textarea":he(S,E);break;case"select":var ue=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?J(S,!!E.multiple,Te,!1):ue!==!!E.multiple&&(E.defaultValue!=null?J(S,!!E.multiple,E.defaultValue,!0):J(S,!!E.multiple,E.multiple?[]:"",!1))}S[Vc]=E}catch(Ne){sn(a,a.return,Ne)}}break;case 6:if(fi(u,a),Gi(a),v&4){if(a.stateNode===null)throw Error(n(162));S=a.stateNode,E=a.memoizedProps;try{S.nodeValue=E}catch(Ne){sn(a,a.return,Ne)}}break;case 3:if(fi(u,a),Gi(a),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Pc(u.containerInfo)}catch(Ne){sn(a,a.return,Ne)}break;case 4:fi(u,a),Gi(a);break;case 13:fi(u,a),Gi(a),S=a.child,S.flags&8192&&(E=S.memoizedState!==null,S.stateNode.isHidden=E,!E||S.alternate!==null&&S.alternate.memoizedState!==null||(Zp=cn())),v&4&&UC(a);break;case 22:if(de=m!==null&&m.memoizedState!==null,a.mode&1?(Jn=(ne=Jn)||de,fi(u,a),Jn=ne):fi(u,a),Gi(a),v&8192){if(ne=a.memoizedState!==null,(a.stateNode.isHidden=ne)&&!de&&(a.mode&1)!==0)for(ke=a,de=a.child;de!==null;){for(me=ke=de;ke!==null;){switch(ue=ke,Te=ue.child,ue.tag){case 0:case 11:case 14:case 15:Zc(4,ue,ue.return);break;case 1:cl(ue,ue.return);var Ae=ue.stateNode;if(typeof Ae.componentWillUnmount=="function"){v=ue,m=ue.return;try{u=v,Ae.props=u.memoizedProps,Ae.state=u.memoizedState,Ae.componentWillUnmount()}catch(Ne){sn(v,m,Ne)}}break;case 5:cl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){KC(me);continue}}Te!==null?(Te.return=ue,ke=Te):KC(me)}de=de.sibling}e:for(de=null,me=a;;){if(me.tag===5){if(de===null){de=me;try{S=me.stateNode,ne?(E=S.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(O=me.stateNode,W=me.memoizedProps.style,A=W!=null&&W.hasOwnProperty("display")?W.display:null,O.style.display=Oe("display",A))}catch(Ne){sn(a,a.return,Ne)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Ne){sn(a,a.return,Ne)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:fi(u,a),Gi(a),v&4&&UC(a);break;case 21:break;default:fi(u,a),Gi(a)}}function Gi(a){var u=a.flags;if(u&2){try{e:{for(var m=a.return;m!==null;){if($C(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(jt(S,""),v.flags&=-33);var E=BC(a);Xp(a,E,S);break;case 3:case 4:var A=v.stateNode.containerInfo,O=BC(a);Hp(a,O,A);break;default:throw Error(n(161))}}catch(W){sn(a,a.return,W)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function UL(a,u,m){ke=a,HC(a)}function HC(a,u,m){for(var v=(a.mode&1)!==0;ke!==null;){var S=ke,E=S.child;if(S.tag===22&&v){var A=S.memoizedState!==null||Ch;if(!A){var O=S.alternate,W=O!==null&&O.memoizedState!==null||Jn;O=Ch;var ne=Jn;if(Ch=A,(Jn=W)&&!ne)for(ke=S;ke!==null;)A=ke,W=A.child,A.tag===22&&A.memoizedState!==null?YC(S):W!==null?(W.return=A,ke=W):YC(S);for(;E!==null;)ke=E,HC(E),E=E.sibling;ke=S,Ch=O,Jn=ne}XC(a)}else(S.subtreeFlags&8772)!==0&&E!==null?(E.return=S,ke=E):XC(a)}}function XC(a){for(;ke!==null;){var u=ke;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Jn||Sh(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Jn)if(m===null)v.componentDidMount();else{var S=u.elementType===u.type?m.memoizedProps:di(u.type,m.memoizedProps);v.componentDidUpdate(S,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&K1(u,E,v);break;case 3:var A=u.updateQueue;if(A!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}K1(u,A,m)}break;case 5:var O=u.stateNode;if(m===null&&u.flags&4){m=O;var W=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&m.focus();break;case"img":W.src&&(m.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ne=u.alternate;if(ne!==null){var de=ne.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Pc(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jn||u.flags&512&&Wp(u)}catch(ue){sn(u,u.return,ue)}}if(u===a){ke=null;break}if(m=u.sibling,m!==null){m.return=u.return,ke=m;break}ke=u.return}}function KC(a){for(;ke!==null;){var u=ke;if(u===a){ke=null;break}var m=u.sibling;if(m!==null){m.return=u.return,ke=m;break}ke=u.return}}function YC(a){for(;ke!==null;){var u=ke;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Sh(4,u)}catch(W){sn(u,m,W)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var S=u.return;try{v.componentDidMount()}catch(W){sn(u,S,W)}}var E=u.return;try{Wp(u)}catch(W){sn(u,E,W)}break;case 5:var A=u.return;try{Wp(u)}catch(W){sn(u,A,W)}}}catch(W){sn(u,u.return,W)}if(u===a){ke=null;break}var O=u.sibling;if(O!==null){O.return=u.return,ke=O;break}ke=u.return}}var WL=Math.ceil,bh=P.ReactCurrentDispatcher,Kp=P.ReactCurrentOwner,Zr=P.ReactCurrentBatchConfig,vt=0,jn=null,pn=null,Gn=0,Fr=0,ul=Ys(0),En=0,qc=null,Yo=0,Eh=0,Yp=0,Jc=null,_r=null,Zp=0,dl=1/0,ys=null,Rh=!1,qp=null,to=null,Th=!1,no=null,Ph=0,Qc=0,Jp=null,kh=-1,Ah=0;function ur(){return(vt&6)!==0?cn():kh!==-1?kh:kh=cn()}function ro(a){return(a.mode&1)===0?1:(vt&2)!==0&&Gn!==0?Gn&-Gn:PL.transition!==null?(Ah===0&&(Ah=Bw()),Ah):(a=At,a!==0||(a=window.event,a=a===void 0?16:qw(a.type)),a)}function mi(a,u,m,v){if(50<Qc)throw Qc=0,Jp=null,Error(n(185));Sc(a,m,v),((vt&2)===0||a!==jn)&&(a===jn&&((vt&2)===0&&(Eh|=m),En===4&&io(a,Gn)),wr(a,v),m===1&&vt===0&&(u.mode&1)===0&&(dl=cn()+500,ih&&qs()))}function wr(a,u){var m=a.callbackNode;Pj(a,u);var v=Vd(a,a===jn?Gn:0);if(v===0)m!==null&&Vw(m),a.callbackNode=null,a.callbackPriority=0;else if(u=v&-v,a.callbackPriority!==u){if(m!=null&&Vw(m),u===1)a.tag===0?TL(qC.bind(null,a)):L1(qC.bind(null,a)),SL(function(){(vt&6)===0&&qs()}),m=null;else{switch(Gw(v)){case 1:m=Mg;break;case 4:m=zw;break;case 16:m=jd;break;case 536870912:m=$w;break;default:m=jd}m=sS(m,ZC.bind(null,a))}a.callbackPriority=u,a.callbackNode=m}}function ZC(a,u){if(kh=-1,Ah=0,(vt&6)!==0)throw Error(n(327));var m=a.callbackNode;if(hl()&&a.callbackNode!==m)return null;var v=Vd(a,a===jn?Gn:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||u)u=Mh(a,v);else{u=v;var S=vt;vt|=2;var E=QC();(jn!==a||Gn!==u)&&(ys=null,dl=cn()+500,qo(a,u));do try{KL();break}catch(O){JC(a,O)}while(!0);pp(),bh.current=E,vt=S,pn!==null?u=0:(jn=null,Gn=0,u=En)}if(u!==0){if(u===2&&(S=Ig(a),S!==0&&(v=S,u=Qp(a,S))),u===1)throw m=qc,qo(a,0),io(a,v),wr(a,cn()),m;if(u===6)io(a,v);else{if(S=a.current.alternate,(v&30)===0&&!HL(S)&&(u=Mh(a,v),u===2&&(E=Ig(a),E!==0&&(v=E,u=Qp(a,E))),u===1))throw m=qc,qo(a,0),io(a,v),wr(a,cn()),m;switch(a.finishedWork=S,a.finishedLanes=v,u){case 0:case 1:throw Error(n(345));case 2:Jo(a,_r,ys);break;case 3:if(io(a,v),(v&130023424)===v&&(u=Zp+500-cn(),10<u)){if(Vd(a,0)!==0)break;if(S=a.suspendedLanes,(S&v)!==v){ur(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=sp(Jo.bind(null,a,_r,ys),u);break}Jo(a,_r,ys);break;case 4:if(io(a,v),(v&4194240)===v)break;for(u=a.eventTimes,S=-1;0<v;){var A=31-li(v);E=1<<A,A=u[A],A>S&&(S=A),v&=~E}if(v=S,v=cn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*WL(v/1960))-v,10<v){a.timeoutHandle=sp(Jo.bind(null,a,_r,ys),v);break}Jo(a,_r,ys);break;case 5:Jo(a,_r,ys);break;default:throw Error(n(329))}}}return wr(a,cn()),a.callbackNode===m?ZC.bind(null,a):null}function Qp(a,u){var m=Jc;return a.current.memoizedState.isDehydrated&&(qo(a,u).flags|=256),a=Mh(a,u),a!==2&&(u=_r,_r=m,u!==null&&ey(u)),a}function ey(a){_r===null?_r=a:_r.push.apply(_r,a)}function HL(a){for(var u=a;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var S=m[v],E=S.getSnapshot;S=S.value;try{if(!ci(E(),S))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function io(a,u){for(u&=~Yp,u&=~Eh,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var m=31-li(u),v=1<<m;a[m]=-1,u&=~v}}function qC(a){if((vt&6)!==0)throw Error(n(327));hl();var u=Vd(a,0);if((u&1)===0)return wr(a,cn()),null;var m=Mh(a,u);if(a.tag!==0&&m===2){var v=Ig(a);v!==0&&(u=v,m=Qp(a,v))}if(m===1)throw m=qc,qo(a,0),io(a,u),wr(a,cn()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Jo(a,_r,ys),wr(a,cn()),null}function ty(a,u){var m=vt;vt|=1;try{return a(u)}finally{vt=m,vt===0&&(dl=cn()+500,ih&&qs())}}function Zo(a){no!==null&&no.tag===0&&(vt&6)===0&&hl();var u=vt;vt|=1;var m=Zr.transition,v=At;try{if(Zr.transition=null,At=1,a)return a()}finally{At=v,Zr.transition=m,vt=u,(vt&6)===0&&qs()}}function ny(){Fr=ul.current,Ht(ul)}function qo(a,u){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,CL(m)),pn!==null)for(m=pn.return;m!==null;){var v=m;switch(dp(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&nh();break;case 3:al(),Ht(yr),Ht(Yn),bp();break;case 5:Cp(v);break;case 4:al();break;case 13:Ht(Qt);break;case 19:Ht(Qt);break;case 10:yp(v.type._context);break;case 22:case 23:ny()}m=m.return}if(jn=a,pn=a=so(a.current,null),Gn=Fr=u,En=0,qc=null,Yp=Eh=Yo=0,_r=Jc=null,Ho!==null){for(u=0;u<Ho.length;u++)if(m=Ho[u],v=m.interleaved,v!==null){m.interleaved=null;var S=v.next,E=m.pending;if(E!==null){var A=E.next;E.next=S,v.next=A}m.pending=v}Ho=null}return a}function JC(a,u){do{var m=pn;try{if(pp(),mh.current=vh,gh){for(var v=en.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}gh=!1}if(Ko=0,Fn=bn=en=null,Wc=!1,Hc=0,Kp.current=null,m===null||m.return===null){En=1,qc=u,pn=null;break}e:{var E=a,A=m.return,O=m,W=u;if(u=Gn,O.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ne=W,de=O,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var Te=SC(A);if(Te!==null){Te.flags&=-257,bC(Te,A,O,E,u),Te.mode&1&&CC(E,ne,u),u=Te,W=ne;var Ae=u.updateQueue;if(Ae===null){var Ne=new Set;Ne.add(W),u.updateQueue=Ne}else Ae.add(W);break e}else{if((u&1)===0){CC(E,ne,u),ry();break e}W=Error(n(426))}}else if(Zt&&O.mode&1){var un=SC(A);if(un!==null){(un.flags&65536)===0&&(un.flags|=256),bC(un,A,O,E,u),mp(ll(W,O));break e}}E=W=ll(W,O),En!==4&&(En=2),Jc===null?Jc=[E]:Jc.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var Q=_C(E,W,u);X1(E,Q);break e;case 1:O=W;var K=E.type,ee=E.stateNode;if((E.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(to===null||!to.has(ee)))){E.flags|=65536,u&=-u,E.lanes|=u;var ve=wC(E,O,u);X1(E,ve);break e}}E=E.return}while(E!==null)}tS(m)}catch(je){u=je,pn===m&&m!==null&&(pn=m=m.return);continue}break}while(!0)}function QC(){var a=bh.current;return bh.current=vh,a===null?vh:a}function ry(){(En===0||En===3||En===2)&&(En=4),jn===null||(Yo&268435455)===0&&(Eh&268435455)===0||io(jn,Gn)}function Mh(a,u){var m=vt;vt|=2;var v=QC();(jn!==a||Gn!==u)&&(ys=null,qo(a,u));do try{XL();break}catch(S){JC(a,S)}while(!0);if(pp(),vt=m,bh.current=v,pn!==null)throw Error(n(261));return jn=null,Gn=0,En}function XL(){for(;pn!==null;)eS(pn)}function KL(){for(;pn!==null&&!xj();)eS(pn)}function eS(a){var u=iS(a.alternate,a,Fr);a.memoizedProps=a.pendingProps,u===null?tS(a):pn=u,Kp.current=null}function tS(a){var u=a;do{var m=u.alternate;if(a=u.return,(u.flags&32768)===0){if(m=zL(m,u,Fr),m!==null){pn=m;return}}else{if(m=$L(m,u),m!==null){m.flags&=32767,pn=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{En=6,pn=null;return}}if(u=u.sibling,u!==null){pn=u;return}pn=u=a}while(u!==null);En===0&&(En=5)}function Jo(a,u,m){var v=At,S=Zr.transition;try{Zr.transition=null,At=1,YL(a,u,m,v)}finally{Zr.transition=S,At=v}return null}function YL(a,u,m,v){do hl();while(no!==null);if((vt&6)!==0)throw Error(n(327));m=a.finishedWork;var S=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var E=m.lanes|m.childLanes;if(kj(a,E),a===jn&&(pn=jn=null,Gn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Th||(Th=!0,sS(jd,function(){return hl(),null})),E=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||E){E=Zr.transition,Zr.transition=null;var A=At;At=1;var O=vt;vt|=4,Kp.current=null,GL(a,m),WC(m,a),gL(rp),Bd=!!np,rp=np=null,a.current=m,UL(m),_j(),vt=O,At=A,Zr.transition=E}else a.current=m;if(Th&&(Th=!1,no=a,Ph=S),E=a.pendingLanes,E===0&&(to=null),Sj(m.stateNode),wr(a,cn()),u!==null)for(v=a.onRecoverableError,m=0;m<u.length;m++)S=u[m],v(S.value,{componentStack:S.stack,digest:S.digest});if(Rh)throw Rh=!1,a=qp,qp=null,a;return(Ph&1)!==0&&a.tag!==0&&hl(),E=a.pendingLanes,(E&1)!==0?a===Jp?Qc++:(Qc=0,Jp=a):Qc=0,qs(),null}function hl(){if(no!==null){var a=Gw(Ph),u=Zr.transition,m=At;try{if(Zr.transition=null,At=16>a?16:a,no===null)var v=!1;else{if(a=no,no=null,Ph=0,(vt&6)!==0)throw Error(n(331));var S=vt;for(vt|=4,ke=a.current;ke!==null;){var E=ke,A=E.child;if((ke.flags&16)!==0){var O=E.deletions;if(O!==null){for(var W=0;W<O.length;W++){var ne=O[W];for(ke=ne;ke!==null;){var de=ke;switch(de.tag){case 0:case 11:case 15:Zc(8,de,E)}var me=de.child;if(me!==null)me.return=de,ke=me;else for(;ke!==null;){de=ke;var ue=de.sibling,Te=de.return;if(zC(de),de===ne){ke=null;break}if(ue!==null){ue.return=Te,ke=ue;break}ke=Te}}}var Ae=E.alternate;if(Ae!==null){var Ne=Ae.child;if(Ne!==null){Ae.child=null;do{var un=Ne.sibling;Ne.sibling=null,Ne=un}while(Ne!==null)}}ke=E}}if((E.subtreeFlags&2064)!==0&&A!==null)A.return=E,ke=A;else e:for(;ke!==null;){if(E=ke,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Zc(9,E,E.return)}var Q=E.sibling;if(Q!==null){Q.return=E.return,ke=Q;break e}ke=E.return}}var K=a.current;for(ke=K;ke!==null;){A=ke;var ee=A.child;if((A.subtreeFlags&2064)!==0&&ee!==null)ee.return=A,ke=ee;else e:for(A=K;ke!==null;){if(O=ke,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Sh(9,O)}}catch(je){sn(O,O.return,je)}if(O===A){ke=null;break e}var ve=O.sibling;if(ve!==null){ve.return=O.return,ke=ve;break e}ke=O.return}}if(vt=S,qs(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(Ld,a)}catch{}v=!0}return v}finally{At=m,Zr.transition=u}}return!1}function nS(a,u,m){u=ll(m,u),u=_C(a,u,1),a=Qs(a,u,1),u=ur(),a!==null&&(Sc(a,1,u),wr(a,u))}function sn(a,u,m){if(a.tag===3)nS(a,a,m);else for(;u!==null;){if(u.tag===3){nS(u,a,m);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(to===null||!to.has(v))){a=ll(m,a),a=wC(u,a,1),u=Qs(u,a,1),a=ur(),u!==null&&(Sc(u,1,a),wr(u,a));break}}u=u.return}}function ZL(a,u,m){var v=a.pingCache;v!==null&&v.delete(u),u=ur(),a.pingedLanes|=a.suspendedLanes&m,jn===a&&(Gn&m)===m&&(En===4||En===3&&(Gn&130023424)===Gn&&500>cn()-Zp?qo(a,0):Yp|=m),wr(a,u)}function rS(a,u){u===0&&((a.mode&1)===0?u=1:(u=Od,Od<<=1,(Od&130023424)===0&&(Od=4194304)));var m=ur();a=ms(a,u),a!==null&&(Sc(a,u,m),wr(a,m))}function qL(a){var u=a.memoizedState,m=0;u!==null&&(m=u.retryLane),rS(a,m)}function JL(a,u){var m=0;switch(a.tag){case 13:var v=a.stateNode,S=a.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(u),rS(a,m)}var iS;iS=function(a,u,m){if(a!==null)if(a.memoizedProps!==u.pendingProps||yr.current)xr=!0;else{if((a.lanes&m)===0&&(u.flags&128)===0)return xr=!1,VL(a,u,m);xr=(a.flags&131072)!==0}else xr=!1,Zt&&(u.flags&1048576)!==0&&D1(u,oh,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;wh(a,u),a=u.pendingProps;var S=el(u,Yn.current);ol(u,m),S=Tp(null,u,v,a,S,m);var E=Pp();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,vr(v)?(E=!0,rh(u)):E=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,_p(u),S.updater=xh,u.stateNode=S,S._reactInternals=u,Fp(u,v,a,m),u=Op(null,u,v,!0,E,m)):(u.tag=0,Zt&&E&&up(u),cr(null,u,S,m),u=u.child),u;case 16:v=u.elementType;e:{switch(wh(a,u),a=u.pendingProps,S=v._init,v=S(v._payload),u.type=v,S=u.tag=eD(v),a=di(v,a),S){case 0:u=Dp(null,u,v,a,m);break e;case 1:u=AC(null,u,v,a,m);break e;case 11:u=EC(null,u,v,a,m);break e;case 14:u=RC(null,u,v,di(v.type,a),m);break e}throw Error(n(306,v,""))}return u;case 0:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:di(v,S),Dp(a,u,v,S,m);case 1:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:di(v,S),AC(a,u,v,S,m);case 3:e:{if(MC(u),a===null)throw Error(n(387));v=u.pendingProps,E=u.memoizedState,S=E.element,H1(a,u),hh(u,v,null,m);var A=u.memoizedState;if(v=A.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){S=ll(Error(n(423)),u),u=IC(a,u,v,m,S);break e}else if(v!==S){S=ll(Error(n(424)),u),u=IC(a,u,v,m,S);break e}else for(Nr=Ks(u.stateNode.containerInfo.firstChild),Ir=u,Zt=!0,ui=null,m=U1(u,null,v,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(rl(),v===S){u=ps(a,u,m);break e}cr(a,u,v,m)}u=u.child}return u;case 5:return Y1(u),a===null&&fp(u),v=u.type,S=u.pendingProps,E=a!==null?a.memoizedProps:null,A=S.children,ip(v,S)?A=null:E!==null&&ip(v,E)&&(u.flags|=32),kC(a,u),cr(a,u,A,m),u.child;case 6:return a===null&&fp(u),null;case 13:return NC(a,u,m);case 4:return wp(u,u.stateNode.containerInfo),v=u.pendingProps,a===null?u.child=il(u,null,v,m):cr(a,u,v,m),u.child;case 11:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:di(v,S),EC(a,u,v,S,m);case 7:return cr(a,u,u.pendingProps,m),u.child;case 8:return cr(a,u,u.pendingProps.children,m),u.child;case 12:return cr(a,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,S=u.pendingProps,E=u.memoizedProps,A=S.value,zt(ch,v._currentValue),v._currentValue=A,E!==null)if(ci(E.value,A)){if(E.children===S.children&&!yr.current){u=ps(a,u,m);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var O=E.dependencies;if(O!==null){A=E.child;for(var W=O.firstContext;W!==null;){if(W.context===v){if(E.tag===1){W=gs(-1,m&-m),W.tag=2;var ne=E.updateQueue;if(ne!==null){ne=ne.shared;var de=ne.pending;de===null?W.next=W:(W.next=de.next,de.next=W),ne.pending=W}}E.lanes|=m,W=E.alternate,W!==null&&(W.lanes|=m),vp(E.return,m,u),O.lanes|=m;break}W=W.next}}else if(E.tag===10)A=E.type===u.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(n(341));A.lanes|=m,O=A.alternate,O!==null&&(O.lanes|=m),vp(A,m,u),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===u){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}cr(a,u,S.children,m),u=u.child}return u;case 9:return S=u.type,v=u.pendingProps.children,ol(u,m),S=Kr(S),v=v(S),u.flags|=1,cr(a,u,v,m),u.child;case 14:return v=u.type,S=di(v,u.pendingProps),S=di(v.type,S),RC(a,u,v,S,m);case 15:return TC(a,u,u.type,u.pendingProps,m);case 17:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:di(v,S),wh(a,u),u.tag=1,vr(v)?(a=!0,rh(u)):a=!1,ol(u,m),vC(u,v,S),Fp(u,v,S,m),Op(null,u,v,!0,a,m);case 19:return jC(a,u,m);case 22:return PC(a,u,m)}throw Error(n(156,u.tag))};function sS(a,u){return Ow(a,u)}function QL(a,u,m,v){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(a,u,m,v){return new QL(a,u,m,v)}function iy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function eD(a){if(typeof a=="function")return iy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===Z)return 14}return 2}function so(a,u){var m=a.alternate;return m===null?(m=qr(a.tag,u,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=u,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,u=a.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function Ih(a,u,m,v,S,E){var A=2;if(v=a,typeof a=="function")iy(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case F:return Qo(m.children,S,E,u);case I:A=8,S|=8;break;case z:return a=qr(12,m,u,S|2),a.elementType=z,a.lanes=E,a;case B:return a=qr(13,m,u,S),a.elementType=B,a.lanes=E,a;case X:return a=qr(19,m,u,S),a.elementType=X,a.lanes=E,a;case D:return Nh(m,S,E,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case G:A=10;break e;case V:A=9;break e;case H:A=11;break e;case Z:A=14;break e;case Y:A=16,v=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=qr(A,m,u,S),u.elementType=a,u.type=v,u.lanes=E,u}function Qo(a,u,m,v){return a=qr(7,a,v,u),a.lanes=m,a}function Nh(a,u,m,v){return a=qr(22,a,v,u),a.elementType=D,a.lanes=m,a.stateNode={isHidden:!1},a}function sy(a,u,m){return a=qr(6,a,null,u),a.lanes=m,a}function oy(a,u,m){return u=qr(4,a.children!==null?a.children:[],a.key,u),u.lanes=m,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function tD(a,u,m,v,S){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ng(0),this.expirationTimes=Ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ng(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function ay(a,u,m,v,S,E,A,O,W){return a=new tD(a,u,m,O,W),u===1?(u=1,E===!0&&(u|=8)):u=0,E=qr(3,null,null,u),a.current=E,E.stateNode=a,E.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(E),a}function nD(a,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:v==null?null:""+v,children:a,containerInfo:u,implementation:m}}function oS(a){if(!a)return Zs;a=a._reactInternals;e:{if($o(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(vr(m))return F1(a,m,u)}return u}function aS(a,u,m,v,S,E,A,O,W){return a=ay(m,v,!0,a,S,E,A,O,W),a.context=oS(null),m=a.current,v=ur(),S=ro(m),E=gs(v,S),E.callback=u??null,Qs(m,E,S),a.current.lanes=S,Sc(a,S,v),wr(a,v),a}function Fh(a,u,m,v){var S=u.current,E=ur(),A=ro(S);return m=oS(m),u.context===null?u.context=m:u.pendingContext=m,u=gs(E,A),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=Qs(S,u,A),a!==null&&(mi(a,S,A,E),dh(a,S,A)),A}function jh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function lS(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<u?m:u}}function ly(a,u){lS(a,u),(a=a.alternate)&&lS(a,u)}function rD(){return null}var cS=typeof reportError=="function"?reportError:function(a){console.error(a)};function cy(a){this._internalRoot=a}Lh.prototype.render=cy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));Fh(a,u,null,null)},Lh.prototype.unmount=cy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Zo(function(){Fh(null,a,null,null)}),u[us]=null}};function Lh(a){this._internalRoot=a}Lh.prototype.unstable_scheduleHydration=function(a){if(a){var u=Hw();a={blockedOn:null,target:a,priority:u};for(var m=0;m<Ws.length&&u!==0&&u<Ws[m].priority;m++);Ws.splice(m,0,a),m===0&&Yw(a)}};function uy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Dh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function uS(){}function iD(a,u,m,v,S){if(S){if(typeof v=="function"){var E=v;v=function(){var ne=jh(A);E.call(ne)}}var A=aS(u,v,a,0,null,!1,!1,"",uS);return a._reactRootContainer=A,a[us]=A.current,Dc(a.nodeType===8?a.parentNode:a),Zo(),A}for(;S=a.lastChild;)a.removeChild(S);if(typeof v=="function"){var O=v;v=function(){var ne=jh(W);O.call(ne)}}var W=ay(a,0,!1,null,null,!1,!1,"",uS);return a._reactRootContainer=W,a[us]=W.current,Dc(a.nodeType===8?a.parentNode:a),Zo(function(){Fh(u,W,m,v)}),W}function Oh(a,u,m,v,S){var E=m._reactRootContainer;if(E){var A=E;if(typeof S=="function"){var O=S;S=function(){var W=jh(A);O.call(W)}}Fh(u,A,a,S)}else A=iD(m,u,a,S,v);return jh(A)}Uw=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var m=Cc(u.pendingLanes);m!==0&&(Fg(u,m|1),wr(u,cn()),(vt&6)===0&&(dl=cn()+500,qs()))}break;case 13:Zo(function(){var v=ms(a,1);if(v!==null){var S=ur();mi(v,a,1,S)}}),ly(a,1)}},jg=function(a){if(a.tag===13){var u=ms(a,134217728);if(u!==null){var m=ur();mi(u,a,134217728,m)}ly(a,134217728)}},Ww=function(a){if(a.tag===13){var u=ro(a),m=ms(a,u);if(m!==null){var v=ur();mi(m,a,u,v)}ly(a,u)}},Hw=function(){return At},Xw=function(a,u){var m=At;try{return At=a,u()}finally{At=m}},Sn=function(a,u,m){switch(u){case"input":if(ft(a,m),u=m.name,m.type==="radio"&&u!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var v=m[u];if(v!==a&&v.form===a.form){var S=th(v);if(!S)throw Error(n(90));Be(v),ft(v,S)}}}break;case"textarea":he(a,m);break;case"select":u=m.value,u!=null&&J(a,!!m.multiple,u,!1)}},Ot=ty,kt=Zo;var sD={usingClientEntryPoint:!1,Events:[zc,Ja,th,be,dt,ty]},eu={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oD={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Lw(a),a===null?null:a.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||rD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Ld=Vh.inject(oD),Vi=Vh}catch{}}return Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sD,Cr.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uy(u))throw Error(n(200));return nD(a,u,null,m)},Cr.createRoot=function(a,u){if(!uy(a))throw Error(n(299));var m=!1,v="",S=cS;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=ay(a,1,!1,null,null,m,!1,v,S),a[us]=u.current,Dc(a.nodeType===8?a.parentNode:a),new cy(u)},Cr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Lw(u),a=a===null?null:a.stateNode,a},Cr.flushSync=function(a){return Zo(a)},Cr.hydrate=function(a,u,m){if(!Dh(u))throw Error(n(200));return Oh(null,a,u,!0,m)},Cr.hydrateRoot=function(a,u,m){if(!uy(a))throw Error(n(405));var v=m!=null&&m.hydratedSources||null,S=!1,E="",A=cS;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),u=aS(u,null,a,1,m??null,S,!1,E,A),a[us]=u.current,Dc(a),v)for(a=0;a<v.length;a++)m=v[a],S=m._getVersion,S=S(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,S]:u.mutableSourceEagerHydrationData.push(m,S);return new Lh(u)},Cr.render=function(a,u,m){if(!Dh(u))throw Error(n(200));return Oh(null,a,u,!1,m)},Cr.unmountComponentAtNode=function(a){if(!Dh(a))throw Error(n(40));return a._reactRootContainer?(Zo(function(){Oh(null,null,a,!1,function(){a._reactRootContainer=null,a[us]=null})}),!0):!1},Cr.unstable_batchedUpdates=ty,Cr.unstable_renderSubtreeIntoContainer=function(a,u,m,v){if(!Dh(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Oh(a,u,m,!1,v)},Cr.version="18.3.1-next-f1338f8080-20240426",Cr}var vS;function mT(){if(vS)return fy.exports;vS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fy.exports=mD(),fy.exports}var xS;function gD(){if(xS)return zh;xS=1;var t=mT();return zh.createRoot=t.createRoot,zh.hydrateRoot=t.hydrateRoot,zh}var pD=gD();const gT=Kv(pD);var nu={},_S;function yD(){if(_S)return nu;_S=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.parse=o,nu.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const x=new s,w=p.length;if(w<2)return x;const C=(y==null?void 0:y.decode)||h;let b=0;do{const R=p.indexOf("=",b);if(R===-1)break;const T=p.indexOf(";",b),P=T===-1?w:T;if(R>P){b=p.lastIndexOf(";",R-1)+1;continue}const k=l(p,b,R),M=c(p,R,k),F=p.slice(k,M);if(x[F]===void 0){let I=l(p,R+1,P),z=c(p,P,I);const G=C(p.slice(I,z));x[F]=G}b=P+1}while(b<w);return x}function l(p,y,x){do{const w=p.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<x);return x}function c(p,y,x){for(;y>x;){const w=p.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return x}function d(p,y,x){const w=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=w(y);if(!e.test(C))throw new TypeError(`argument val is invalid: ${y}`);let b=p+"="+C;if(!x)return b;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);b+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);b+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);b+="; Path="+x.path}if(x.expires){if(!f(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);b+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(b+="; HttpOnly"),x.secure&&(b+="; Secure"),x.partitioned&&(b+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return b}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return i.call(p)==="[object Date]"}return nu}yD();var wS="popstate";function vD(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return x0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Nu(i)}return _D(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ki(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xD(){return Math.random().toString(36).substring(2,10)}function CS(t,e){return{usr:t.state,key:t.key,idx:e}}function x0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?tc(e):e,state:n,key:e&&e.key||r||xD()}}function Nu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _D(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let C=h(),b=C==null?null:C-d;d=C,c&&c({action:l,location:w.location,delta:b})}function p(C,b){l="PUSH";let R=x0(w.location,C,b);d=h()+1;let T=CS(R,d),P=w.createHref(R);try{o.pushState(T,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(P)}s&&c&&c({action:l,location:w.location,delta:1})}function y(C,b){l="REPLACE";let R=x0(w.location,C,b);d=h();let T=CS(R,d),P=w.createHref(R);o.replaceState(T,"",P),s&&c&&c({action:l,location:w.location,delta:0})}function x(C){let b=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof C=="string"?C:Nu(C);return R=R.replace(/ $/,"%20"),qt(b,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,b)}let w={get action(){return l},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,f),c=C,()=>{i.removeEventListener(wS,f),c=null}},createHref(C){return e(i,C)},createURL:x,encodeLocation(C){let b=x(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:y,go(C){return o.go(C)}};return w}function pT(t,e,n="/"){return wD(t,e,n,!1)}function wD(t,e,n,r){let i=typeof e=="string"?tc(e):e,s=Ms(i.pathname||"/",n);if(s==null)return null;let o=yT(t);CD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ND(s);l=MD(o[c],d,r)}return l}function yT(t,e=[],n=[],r=""){let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(qt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=ks([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(qt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),yT(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:kD(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of vT(s.path))i(s,o,c)}),e}function vT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vT(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function CD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SD=/^:[\w-]+$/,bD=3,ED=2,RD=1,TD=10,PD=-2,SS=t=>t==="*";function kD(t,e){let n=t.split("/"),r=n.length;return n.some(SS)&&(r+=PD),e&&(r+=ED),n.filter(i=>!SS(i)).reduce((i,s)=>i+(SD.test(s)?bD:s===""?RD:TD),r)}function AD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function MD(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Df({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Df({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ks([s,f.pathname]),pathnameBase:DD(ks([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ks([s,f.pathnameBase]))}return o}function Df(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ID(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let x=l[p]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[p];return f&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function ID(t,e=!1,n=!0){ki(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ND(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tc(t):t;return{pathname:n?n.startsWith("/")?n:jD(n,e):e,search:OD(r),hash:VD(i)}}function jD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function py(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zv(t){let e=LD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qv(t,e,n,r=!1){let i;typeof t=="string"?i=tc(t):(i={...t},qt(!i.pathname||!i.pathname.includes("?"),py("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),py("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),py("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=FD(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var ks=t=>t.join("/").replace(/\/\/+/g,"/"),DD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var xT=["POST","PUT","PATCH","DELETE"];new Set(xT);var $D=["GET",...xT];new Set($D);var nc=_.createContext(null);nc.displayName="DataRouter";var bm=_.createContext(null);bm.displayName="DataRouterState";var _T=_.createContext({isTransitioning:!1});_T.displayName="ViewTransition";var BD=_.createContext(new Map);BD.displayName="Fetchers";var GD=_.createContext(null);GD.displayName="Await";var Ii=_.createContext(null);Ii.displayName="Navigation";var ld=_.createContext(null);ld.displayName="Location";var Ni=_.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var Jv=_.createContext(null);Jv.displayName="RouteError";function UD(t,{relative:e}={}){qt(rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Ii),{hash:i,pathname:s,search:o}=ud(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:ks([n,s])),r.createHref({pathname:l,search:o,hash:i})}function rc(){return _.useContext(ld)!=null}function Fi(){return qt(rc(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ld).location}var wT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CT(t){_.useContext(Ii).static||_.useLayoutEffect(t)}function cd(){let{isDataRoute:t}=_.useContext(Ni);return t?iO():WD()}function WD(){qt(rc(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(nc),{basename:e,navigator:n}=_.useContext(Ii),{matches:r}=_.useContext(Ni),{pathname:i}=Fi(),s=JSON.stringify(Zv(r)),o=_.useRef(!1);return CT(()=>{o.current=!0}),_.useCallback((c,d={})=>{if(ki(o.current,wT),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=qv(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ks([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}var ST=_.createContext(null);function Qv(){return _.useContext(ST)}function HD(t){let e=_.useContext(Ni).outlet;return e&&_.createElement(ST.Provider,{value:t},e)}function ud(t,{relative:e}={}){let{matches:n}=_.useContext(Ni),{pathname:r}=Fi(),i=JSON.stringify(Zv(n));return _.useMemo(()=>qv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function XD(t,e){return bT(t,e)}function bT(t,e,n,r){var R;qt(rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=_.useContext(Ii),{matches:o}=_.useContext(Ni),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let T=f&&f.path||"";ET(d,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=Fi(),y;if(e){let T=typeof e=="string"?tc(e):e;qt(h==="/"||((R=T.pathname)==null?void 0:R.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=p;let x=y.pathname||"/",w=x;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=!s&&n&&n.matches&&n.matches.length>0?n.matches:pT(t,{pathname:w});ki(f||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ki(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=JD(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:ks([h,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:ks([h,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&b?_.createElement(ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function KD(){let t=rO(),e=zD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,o)}var YD=_.createElement(KD,null),ZD=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(Ni.Provider,{value:this.props.routeContext},_.createElement(Jv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qD({routeContext:t,match:e,children:n}){let r=_.useContext(nc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Ni.Provider,{value:t},n)}function JD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);qt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let f,p=!1,y=null,x=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||YD,o&&(l<0&&h===0?(ET("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):l===h&&(p=!0,x=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),C=()=>{let b;return f?b=y:p?b=x:d.route.Component?b=_.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,_.createElement(qD,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(ZD,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function ex(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QD(t){let e=_.useContext(nc);return qt(e,ex(t)),e}function eO(t){let e=_.useContext(bm);return qt(e,ex(t)),e}function tO(t){let e=_.useContext(Ni);return qt(e,ex(t)),e}function tx(t){let e=tO(t),n=e.matches[e.matches.length-1];return qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nO(){return tx("useRouteId")}function rO(){var r;let t=_.useContext(Jv),e=eO("useRouteError"),n=tx("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function iO(){let{router:t}=QD("useNavigate"),e=tx("useNavigate"),n=_.useRef(!1);return CT(()=>{n.current=!0}),_.useCallback(async(i,s={})=>{ki(n.current,wT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var bS={};function ET(t,e,n){!e&&!bS[t]&&(bS[t]=!0,ki(!1,n))}_.memo(sO);function sO({routes:t,future:e,state:n}){return bT(t,void 0,n,e)}function RT({to:t,replace:e,state:n,relative:r}){qt(rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Ii);ki(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Ni),{pathname:o}=Fi(),l=cd(),c=qv(t,Zv(s),o,r==="path"),d=JSON.stringify(c);return _.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function oO(t){return HD(t.context)}function Ss(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){qt(!rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=tc(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,y=_.useMemo(()=>{let x=Ms(c,o);return x==null?null:{location:{pathname:x,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return ki(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(Ii.Provider,{value:l},_.createElement(ld.Provider,{children:e,value:y}))}function lO({children:t,location:e}){return XD(_0(t),e)}function _0(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,_0(r.props.children,s));return}qt(r.type===Ss,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_0(r.props.children,s)),n.push(o)}),n}var wf="get",Cf="application/x-www-form-urlencoded";function Em(t){return t!=null&&typeof t.tagName=="string"}function cO(t){return Em(t)&&t.tagName.toLowerCase()==="button"}function uO(t){return Em(t)&&t.tagName.toLowerCase()==="form"}function dO(t){return Em(t)&&t.tagName.toLowerCase()==="input"}function hO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fO(t,e){return t.button===0&&(!e||e==="_self")&&!hO(t)}var $h=null;function mO(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var gO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yy(t){return t!=null&&!gO.has(t)?(ki(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cf}"`),null):t}function pO(t,e){let n,r,i,s,o;if(uO(t)){let l=t.getAttribute("action");r=l?Ms(l,e):null,n=t.getAttribute("method")||wf,i=yy(t.getAttribute("enctype"))||Cf,s=new FormData(t)}else if(cO(t)||dO(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Ms(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||wf,i=yy(t.getAttribute("formenctype"))||yy(l.getAttribute("enctype"))||Cf,s=new FormData(l,t),!mO()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,f)}}else{if(Em(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wf,r=null,i=Cf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function nx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function yO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xO(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await yO(s,n);return o.links?o.links():[]}return[]}));return SO(r.flat(1).filter(vO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ES(t,e,n,r,i,s){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function _O(t,e,{includeHydrateFallback:n}={}){return wO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function wO(t){return[...new Set(t)]}function CO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function SO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(CO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var bO=new Set([100,101,204,205]);function EO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ms(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function TT(){let t=_.useContext(nc);return nx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function RO(){let t=_.useContext(bm);return nx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rx=_.createContext(void 0);rx.displayName="FrameworkContext";function PT(){let t=_.useContext(rx);return nx(t,"You must render this element inside a <HydratedRouter> element"),t}function TO(t,e){let n=_.useContext(rx),[r,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=b=>{b.forEach(R=>{o(R.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[t]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},x=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:ru(l,y),onBlur:ru(c,x),onMouseEnter:ru(d,y),onMouseLeave:ru(h,x),onTouchStart:ru(f,y)}]:[!1,p,{}]}function ru(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PO({page:t,...e}){let{router:n}=TT(),r=_.useMemo(()=>pT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(AO,{page:t,matches:r,...e}):null}function kO(t){let{manifest:e,routeModules:n}=PT(),[r,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return xO(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function AO({page:t,matches:e,...n}){let r=Fi(),{manifest:i,routeModules:s}=PT(),{basename:o}=TT(),{loaderData:l,matches:c}=RO(),d=_.useMemo(()=>ES(t,e,c,i,r,"data"),[t,e,c,i,r]),h=_.useMemo(()=>ES(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,w=!1;if(e.forEach(b=>{var T;let R=i.routes[b.route.id];!R||!R.hasLoader||(!d.some(P=>P.route.id===b.route.id)&&b.route.id in l&&((T=s[b.route.id])!=null&&T.shouldRevalidate)||R.hasClientLoader?w=!0:x.add(b.route.id))}),x.size===0)return[];let C=EO(t,o);return w&&x.size>0&&C.searchParams.set("_routes",e.filter(b=>x.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[o,l,r,i,d,e,t,s]),p=_.useMemo(()=>_O(h,i),[h,i]),y=kO(h);return _.createElement(_.Fragment,null,f.map(x=>_.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>_.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:w})=>_.createElement("link",{key:x,...w})))}function MO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kT&&(window.__reactRouterVersion="7.5.2")}catch{}function IO({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=vD({window:n,v5Compat:!0}));let i=r.current,[s,o]=_.useState({action:i.action,location:i.location}),l=_.useCallback(c=>{_.startTransition(()=>o(c))},[o]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(aO,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var AT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MT=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},y){let{basename:x}=_.useContext(Ii),w=typeof d=="string"&&AT.test(d),C,b=!1;if(typeof d=="string"&&w&&(C=d,kT))try{let z=new URL(window.location.href),G=d.startsWith("//")?new URL(z.protocol+d):new URL(d),V=Ms(G.pathname,x);G.origin===z.origin&&V!=null?d=V+G.search+G.hash:b=!0}catch{ki(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=UD(d,{relative:i}),[T,P,k]=TO(r,p),M=LO(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function F(z){e&&e(z),z.defaultPrevented||M(z)}let I=_.createElement("a",{...p,...k,href:C||R,onClick:b||s?e:F,ref:MO(y,P),target:c,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?_.createElement(_.Fragment,null,I,_.createElement(PO,{page:R})):I});MT.displayName="Link";var NO=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},h){let f=ud(o,{relative:d.relative}),p=Fi(),y=_.useContext(bm),{navigator:x,basename:w}=_.useContext(Ii),C=y!=null&&$O(f)&&l===!0,b=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,R=p.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(R=R.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&w&&(T=Ms(T,w)||T);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=R===b||!i&&R.startsWith(b)&&R.charAt(P)==="/",M=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),F={isActive:k,isPending:M,isTransitioning:C},I=k?e:void 0,z;typeof r=="function"?z=r(F):z=[r,k?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(F):s;return _.createElement(MT,{...d,"aria-current":I,className:z,ref:h,style:G,to:o,viewTransition:l},typeof c=="function"?c(F):c)});NO.displayName="NavLink";var FO=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=wf,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},y)=>{let x=VO(),w=zO(l,{relative:d}),C=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&AT.test(l),R=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||o;x(P||T.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:f})};return _.createElement("form",{ref:y,method:C,action:w,onSubmit:r?c:R,...p,"data-discover":!b&&t==="render"?"true":void 0})});FO.displayName="Form";function jO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(t){let e=_.useContext(nc);return qt(e,jO(t)),e}function LO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=cd(),c=Fi(),d=ud(t,{relative:s});return _.useCallback(h=>{if(fO(h,e)){h.preventDefault();let f=n!==void 0?n:Nu(c)===Nu(d);l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,r,e,t,i,s,o])}var DO=0,OO=()=>`__${String(++DO)}__`;function VO(){let{router:t}=IT("useSubmit"),{basename:e}=_.useContext(Ii),n=nO();return _.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=pO(r,e);if(i.navigate===!1){let h=i.fetcherKey||OO();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function zO(t,{relative:e}={}){let{basename:n}=_.useContext(Ii),r=_.useContext(Ni);qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ud(t||".",{relative:e})},o=Fi();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ks([n,s.pathname])),Nu(s)}function $O(t,e={}){let n=_.useContext(_T);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IT("useViewTransitionState"),i=ud(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Df(i.pathname,o)!=null||Df(i.pathname,s)!=null}new TextEncoder;[...bO];var Va=mT();const NT=Kv(Va);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),RS=t=>{const e=GO(t);return e.charAt(0).toUpperCase()+e.slice(1)},FT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),UO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...WO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:FT("lucide",i),...!s&&!UO(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(HO,{ref:s,iconNode:e,className:FT(`lucide-${BO(RS(t))}`,`lucide-${t}`,r),...i}));return n.displayName=RS(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],KO=Ee("activity",XO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],ZO=Ee("arrow-down-wide-narrow",YO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],JO=Ee("arrow-up-narrow-wide",qO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],eV=Ee("at-sign",QO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],w0=Ee("ban",tV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]],ix=Ee("battery-full",nV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]],Fu=Ee("battery-low",rV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}]],sx=Ee("battery-medium",iV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oV=Ee("bell",sV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]],jT=Ee("bone",aV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cV=Ee("calendar",lV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ic=Ee("check",uV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dd=Ee("chevron-down",dV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fV=Ee("chevron-left",hV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LT=Ee("chevron-right",mV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ox=Ee("chevron-up",gV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],yV=Ee("chevrons-left",pV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],xV=Ee("chevrons-right",vV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aa=Ee("circle-alert",_V);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ia=Ee("circle-check-big",wV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],DT=Ee("circle-dashed",CV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M10.1 2.18a9.93 9.93 0 0 1 3.8 0",key:"1qdqn0"}],["path",{d:"M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7",key:"1bq7p6"}],["path",{d:"M21.82 10.1a9.93 9.93 0 0 1 0 3.8",key:"1rlaqf"}],["path",{d:"M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69",key:"1xk03u"}],["path",{d:"M13.9 21.82a9.94 9.94 0 0 1-3.8 0",key:"l7re25"}],["path",{d:"M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7",key:"1v18p6"}],["path",{d:"M2.18 13.9a9.93 9.93 0 0 1 0-3.8",key:"xdo6bj"}],["path",{d:"M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69",key:"1jjmaz"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],bV=Ee("circle-dot-dashed",SV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],RV=Ee("circle-plus",EV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PV=Ee("circle-user-round",TV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vn=Ee("circle-x",kV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MV=Ee("circle",AV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],NV=Ee("download",IV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],jV=Ee("dumbbell",FV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"1n2rgs"}],["path",{d:"M6 8h4",key:"utf9t1"}],["path",{d:"M6 18h4",key:"12yh4b"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"3ha7mj"}],["path",{d:"M14 8h4",key:"1r8wg2"}],["path",{d:"M14 18h4",key:"1t3kbu"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"dfd4e2"}]],OT=Ee("fence",LV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],VT=Ee("file-text",DV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],VV=Ee("hash",OV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M13.5 19.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5A5.5 5.5 0 0 1 7.5 3c1.76 0 3 .5 4.5 2 1.5-1.5 2.74-2 4.5-2a5.5 5.5 0 0 1 5.402 6.5",key:"vd0vy5"}],["path",{d:"M15 15h6",key:"1u4692"}],["path",{d:"M18 12v6",key:"1houu1"}]],$V=Ee("heart-plus",zV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],TS=Ee("heart",BV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sc=Ee("info",GV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],WV=Ee("layers",UV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],XV=Ee("link",HV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],zT=Ee("list-filter",KV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ZV=Ee("list",YV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],JV=Ee("loader-circle",qV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e4=Ee("locate-fixed",QV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],n4=Ee("lock-keyhole",t4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],i4=Ee("log-out",r4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],o4=Ee("map-pin-minus-inside",s4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],l4=Ee("map-pin-plus-inside",a4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],u4=Ee("map-pin-plus",c4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077",key:"y0ewhp"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m21.5 15.5-5 5",key:"11iqnx"}],["path",{d:"m21.5 20.5-5-5",key:"1bylgx"}]],h4=Ee("map-pin-x",d4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ax=Ee("map-pin",f4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],g4=Ee("map-pinned",m4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],y4=Ee("map",p4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],x4=Ee("mars",v4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],w4=Ee("menu",_4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M5 12h14",key:"1ays0h"}]],$T=Ee("minus",C4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],b4=Ee("origami",S4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Ro=Ee("paw-print",E4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],PS=Ee("plus",R4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],P4=Ee("refresh-cw",T4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],kS=Ee("ruler",k4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],BT=Ee("save",A4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I4=Ee("settings",M4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],F4=Ee("shell",N4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],L4=Ee("slash",j4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],O4=Ee("spline-pointer",D4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],lx=Ee("square-pen",V4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],GT=Ee("tag",z4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],B4=Ee("thermometer",$4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],la=Ee("trash-2",G4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],W4=Ee("undo",U4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],AS=Ee("upload",H4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M10 20h4",key:"ni2waw"}],["path",{d:"M12 16v6",key:"c8a4gj"}],["path",{d:"M17 2h4v4",key:"vhe59"}],["path",{d:"m21 2-5.46 5.46",key:"19kypf"}],["circle",{cx:"12",cy:"11",r:"5",key:"16gxyc"}]],K4=Ee("venus-and-mars",X4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],Z4=Ee("venus",Y4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zs=Ee("x",q4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Q4=Ee("zap",J4);function UT(t,e){return function(){return t.apply(e,arguments)}}const{toString:e5}=Object.prototype,{getPrototypeOf:cx}=Object,{iterator:Rm,toStringTag:WT}=Symbol,Tm=(t=>e=>{const n=e5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ji=t=>(t=t.toLowerCase(),e=>Tm(e)===t),Pm=t=>e=>typeof e===t,{isArray:oc}=Array,ju=Pm("undefined");function t5(t){return t!==null&&!ju(t)&&t.constructor!==null&&!ju(t.constructor)&&Rr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HT=ji("ArrayBuffer");function n5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HT(t.buffer),e}const r5=Pm("string"),Rr=Pm("function"),XT=Pm("number"),km=t=>t!==null&&typeof t=="object",i5=t=>t===!0||t===!1,Sf=t=>{if(Tm(t)!=="object")return!1;const e=cx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(WT in t)&&!(Rm in t)},s5=ji("Date"),o5=ji("File"),a5=ji("Blob"),l5=ji("FileList"),c5=t=>km(t)&&Rr(t.pipe),u5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rr(t.append)&&((e=Tm(t))==="formdata"||e==="object"&&Rr(t.toString)&&t.toString()==="[object FormData]"))},d5=ji("URLSearchParams"),[h5,f5,m5,g5]=["ReadableStream","Request","Response","Headers"].map(ji),p5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),oc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function KT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const da=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YT=t=>!ju(t)&&t!==da;function C0(){const{caseless:t}=YT(this)&&this||{},e={},n=(r,i)=>{const s=t&&KT(e,i)||i;Sf(e[s])&&Sf(r)?e[s]=C0(e[s],r):Sf(r)?e[s]=C0({},r):oc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&hd(arguments[r],n);return e}const y5=(t,e,n,{allOwnKeys:r}={})=>(hd(e,(i,s)=>{n&&Rr(i)?t[s]=UT(i,n):t[s]=i},{allOwnKeys:r}),t),v5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),x5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},_5=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&cx(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},w5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},C5=t=>{if(!t)return null;if(oc(t))return t;let e=t.length;if(!XT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},S5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&cx(Uint8Array)),b5=(t,e)=>{const r=(t&&t[Rm]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},E5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},R5=ji("HTMLFormElement"),T5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),MS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),P5=ji("RegExp"),ZT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};hd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},k5=t=>{ZT(t,(e,n)=>{if(Rr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Rr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},A5=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return oc(t)?r(t):r(String(t).split(e)),n},M5=()=>{},I5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function N5(t){return!!(t&&Rr(t.append)&&t[WT]==="FormData"&&t[Rm])}const F5=t=>{const e=new Array(10),n=(r,i)=>{if(km(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=oc(r)?[]:{};return hd(r,(o,l)=>{const c=n(o,i+1);!ju(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},j5=ji("AsyncFunction"),L5=t=>t&&(km(t)||Rr(t))&&Rr(t.then)&&Rr(t.catch),qT=((t,e)=>t?setImmediate:e?((n,r)=>(da.addEventListener("message",({source:i,data:s})=>{i===da&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),da.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rr(da.postMessage)),D5=typeof queueMicrotask<"u"?queueMicrotask.bind(da):typeof process<"u"&&process.nextTick||qT,O5=t=>t!=null&&Rr(t[Rm]),oe={isArray:oc,isArrayBuffer:HT,isBuffer:t5,isFormData:u5,isArrayBufferView:n5,isString:r5,isNumber:XT,isBoolean:i5,isObject:km,isPlainObject:Sf,isReadableStream:h5,isRequest:f5,isResponse:m5,isHeaders:g5,isUndefined:ju,isDate:s5,isFile:o5,isBlob:a5,isRegExp:P5,isFunction:Rr,isStream:c5,isURLSearchParams:d5,isTypedArray:S5,isFileList:l5,forEach:hd,merge:C0,extend:y5,trim:p5,stripBOM:v5,inherits:x5,toFlatObject:_5,kindOf:Tm,kindOfTest:ji,endsWith:w5,toArray:C5,forEachEntry:b5,matchAll:E5,isHTMLForm:R5,hasOwnProperty:MS,hasOwnProp:MS,reduceDescriptors:ZT,freezeMethods:k5,toObjectSet:A5,toCamelCase:T5,noop:M5,toFiniteNumber:I5,findKey:KT,global:da,isContextDefined:YT,isSpecCompliantForm:N5,toJSONObject:F5,isAsyncFn:j5,isThenable:L5,setImmediate:qT,asap:D5,isIterable:O5};function rt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const JT=rt.prototype,QT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QT[t]={value:t}});Object.defineProperties(rt,QT);Object.defineProperty(JT,"isAxiosError",{value:!0});rt.from=(t,e,n,r,i,s)=>{const o=Object.create(JT);return oe.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),rt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const V5=null;function S0(t){return oe.isPlainObject(t)||oe.isArray(t)}function eP(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function IS(t,e,n){return t?t.concat(e).map(function(i,s){return i=eP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function z5(t){return oe.isArray(t)&&!t.some(S0)}const $5=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Am(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,C){return!oe.isUndefined(C[w])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(oe.isDate(x))return x.toISOString();if(!c&&oe.isBlob(x))throw new rt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(x)||oe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,w,C){let b=x;if(x&&!C&&typeof x=="object"){if(oe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),x=JSON.stringify(x);else if(oe.isArray(x)&&z5(x)||(oe.isFileList(x)||oe.endsWith(w,"[]"))&&(b=oe.toArray(x)))return w=eP(w),b.forEach(function(T,P){!(oe.isUndefined(T)||T===null)&&e.append(o===!0?IS([w],P,s):o===null?w:w+"[]",d(T))}),!1}return S0(x)?!0:(e.append(IS(C,w,s),d(x)),!1)}const f=[],p=Object.assign($5,{defaultVisitor:h,convertValue:d,isVisitable:S0});function y(x,w){if(!oe.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(x),oe.forEach(x,function(b,R){(!(oe.isUndefined(b)||b===null)&&i.call(e,b,oe.isString(R)?R.trim():R,w,p))===!0&&y(b,w?w.concat(R):[R])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function NS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ux(t,e){this._pairs=[],t&&Am(t,this,e)}const tP=ux.prototype;tP.append=function(e,n){this._pairs.push([e,n])};tP.toString=function(e){const n=e?function(r){return e.call(this,r,NS)}:NS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function B5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nP(t,e,n){if(!e)return t;const r=n&&n.encode||B5;oe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=oe.isURLSearchParams(e)?e.toString():new ux(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class FS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},G5=typeof URLSearchParams<"u"?URLSearchParams:ux,U5=typeof FormData<"u"?FormData:null,W5=typeof Blob<"u"?Blob:null,H5={isBrowser:!0,classes:{URLSearchParams:G5,FormData:U5,Blob:W5},protocols:["http","https","file","blob","url","data"]},dx=typeof window<"u"&&typeof document<"u",b0=typeof navigator=="object"&&navigator||void 0,X5=dx&&(!b0||["ReactNative","NativeScript","NS"].indexOf(b0.product)<0),K5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Y5=dx&&window.location.href||"http://localhost",Z5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dx,hasStandardBrowserEnv:X5,hasStandardBrowserWebWorkerEnv:K5,navigator:b0,origin:Y5},Symbol.toStringTag,{value:"Module"})),or={...Z5,...H5};function q5(t,e){return Am(t,new or.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return or.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function J5(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Q5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function iP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&oe.isArray(i)?i.length:o,c?(oe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!oe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&oe.isArray(i[o])&&(i[o]=Q5(i[o])),!l)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,i)=>{e(J5(r),i,n,0)}),n}return null}function e3(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const fd={transitional:rP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(iP(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return q5(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Am(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),e3(e)):e}],transformResponse:[function(e){const n=this.transitional||fd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?rt.from(l,rt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{fd.headers[t]={}});const t3=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),n3=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&t3[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jS=Symbol("internals");function iu(t){return t&&String(t).trim().toLowerCase()}function bf(t){return t===!1||t==null?t:oe.isArray(t)?t.map(bf):String(t)}function r3(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const i3=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vy(t,e,n,r,i){if(oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function s3(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function o3(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Tr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,d){const h=iu(c);if(!h)throw new Error("header name must be a non-empty string");const f=oe.findKey(i,h);(!f||i[f]===void 0||d===!0||d===void 0&&i[f]!==!1)&&(i[f||c]=bf(l))}const o=(l,c)=>oe.forEach(l,(d,h)=>s(d,h,c));if(oe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(oe.isString(e)&&(e=e.trim())&&!i3(e))o(n3(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let l={},c,d;for(const h of e){if(!oe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?oe.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=iu(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return r3(i);if(oe.isFunction(n))return n.call(this,i,r);if(oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=iu(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||vy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=iu(o),o){const l=oe.findKey(r,o);l&&(!n||vy(r,r[l],l,n))&&(delete r[l],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||vy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return oe.forEach(this,(i,s)=>{const o=oe.findKey(r,s);if(o){n[o]=bf(i),delete n[s];return}const l=e?s3(s):String(s).trim();l!==s&&delete n[s],n[l]=bf(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jS]=this[jS]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=iu(o);r[l]||(o3(i,o),r[l]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}};Tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Tr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(Tr);function xy(t,e){const n=this||fd,r=e||n,i=Tr.from(r.headers);let s=r.data;return oe.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function sP(t){return!!(t&&t.__CANCEL__)}function ac(t,e,n){rt.call(this,t??"canceled",rt.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(ac,rt,{__CANCEL__:!0});function oP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new rt("Request failed with status code "+n.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function a3(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function l3(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[s];o||(o=d),n[i]=c,r[i]=d;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const y=h&&d-h;return y?Math.round(p*1e3/y):void 0}}function c3(t,e){let n=0,r=1e3/e,i,s;const o=(d,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=r?o(d,h):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Of=(t,e,n=3)=>{let r=0;const i=l3(50,250);return c3(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),h=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},LS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},DS=t=>(...e)=>oe.asap(()=>t(...e)),u3=or.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,or.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(or.origin),or.navigator&&/(msie|trident)/i.test(or.navigator.userAgent)):()=>!0,d3=or.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function h3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function f3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function aP(t,e,n){let r=!h3(e);return t&&(r||n==!1)?f3(t,e):e}const OS=t=>t instanceof Tr?{...t}:t;function Ra(t,e){e=e||{};const n={};function r(d,h,f,p){return oe.isPlainObject(d)&&oe.isPlainObject(h)?oe.merge.call({caseless:p},d,h):oe.isPlainObject(h)?oe.merge({},h):oe.isArray(h)?h.slice():h}function i(d,h,f,p){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d,f,p)}else return r(d,h,f,p)}function s(d,h){if(!oe.isUndefined(h))return r(void 0,h)}function o(d,h){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,f){if(f in e)return r(d,h);if(f in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,f)=>i(OS(d),OS(h),f,!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||i,p=f(t[h],e[h],h);oe.isUndefined(p)&&f!==l||(n[h]=p)}),n}const lP=t=>{const e=Ra({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Tr.from(o),e.url=nP(aP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(oe.isFormData(n)){if(or.hasStandardBrowserEnv||or.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(or.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&u3(e.url))){const d=i&&s&&d3.read(s);d&&o.set(i,d)}return e},m3=typeof XMLHttpRequest<"u",g3=m3&&function(t){return new Promise(function(n,r){const i=lP(t);let s=i.data;const o=Tr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,f,p,y,x;function w(){y&&y(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function b(){if(!C)return;const T=Tr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:T,config:t,request:C};oP(function(F){n(F),w()},function(F){r(F),w()},k),C=null}"onloadend"in C?C.onloadend=b:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(b)},C.onabort=function(){C&&(r(new rt("Request aborted",rt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new rt("Network Error",rt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||rP;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new rt(P,k.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,t,C)),C=null},s===void 0&&o.setContentType(null),"setRequestHeader"in C&&oe.forEach(o.toJSON(),function(P,k){C.setRequestHeader(k,P)}),oe.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),l&&l!=="json"&&(C.responseType=i.responseType),d&&([p,x]=Of(d,!0),C.addEventListener("progress",p)),c&&C.upload&&([f,y]=Of(c),C.upload.addEventListener("progress",f),C.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=T=>{C&&(r(!T||T.type?new ac(null,t,C):T),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const R=a3(i.url);if(R&&or.protocols.indexOf(R)===-1){r(new rt("Unsupported protocol "+R+":",rt.ERR_BAD_REQUEST,t));return}C.send(s||null)})},p3=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof rt?h:new ac(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new rt(`timeout ${e} of ms exceeded`,rt.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},y3=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},v3=async function*(t,e){for await(const n of x3(t))yield*y3(n,e)},x3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},VS=(t,e,n,r)=>{const i=v3(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let f=h.byteLength;if(n){let p=s+=f;n(p)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Mm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cP=Mm&&typeof ReadableStream=="function",_3=Mm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),uP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},w3=cP&&uP(()=>{let t=!1;const e=new Request(or.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zS=64*1024,E0=cP&&uP(()=>oe.isReadableStream(new Response("").body)),Vf={stream:E0&&(t=>t.body)};Mm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Vf[e]&&(Vf[e]=oe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new rt(`Response type '${e}' is not supported`,rt.ERR_NOT_SUPPORT,r)})})})(new Response);const C3=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(or.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await _3(t)).byteLength},S3=async(t,e)=>{const n=oe.toFiniteNumber(t.getContentLength());return n??C3(e)},b3=Mm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:f="same-origin",fetchOptions:p}=lP(t);d=d?(d+"").toLowerCase():"text";let y=p3([i,s&&s.toAbortSignal()],o),x;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(c&&w3&&n!=="get"&&n!=="head"&&(C=await S3(h,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(oe.isFormData(r)&&(M=k.headers.get("content-type"))&&h.setContentType(M),k.body){const[F,I]=LS(C,Of(DS(c)));r=VS(k.body,zS,F,I)}}oe.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;x=new Request(e,{...p,signal:y,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0});let R=await fetch(x);const T=E0&&(d==="stream"||d==="response");if(E0&&(l||T&&w)){const k={};["status","statusText","headers"].forEach(z=>{k[z]=R[z]});const M=oe.toFiniteNumber(R.headers.get("content-length")),[F,I]=l&&LS(M,Of(DS(l),!0))||[];R=new Response(VS(R.body,zS,F,()=>{I&&I(),w&&w()}),k)}d=d||"text";let P=await Vf[oe.findKey(Vf,d)||"text"](R,t);return!T&&w&&w(),await new Promise((k,M)=>{oP(k,M,{data:P,headers:Tr.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:x})})}catch(b){throw w&&w(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,t,x),{cause:b.cause||b}):rt.from(b,b&&b.code,t,x)}}),R0={http:V5,xhr:g3,fetch:b3};oe.forEach(R0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $S=t=>`- ${t}`,E3=t=>oe.isFunction(t)||t===null||t===!1,dP={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!E3(n)&&(r=R0[(o=String(n)).toLowerCase()],r===void 0))throw new rt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map($S).join(`
`):" "+$S(s[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:R0};function _y(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ac(null,t)}function BS(t){return _y(t),t.headers=Tr.from(t.headers),t.data=xy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dP.getAdapter(t.adapter||fd.adapter)(t).then(function(r){return _y(t),r.data=xy.call(t,t.transformResponse,r),r.headers=Tr.from(r.headers),r},function(r){return sP(r)||(_y(t),r&&r.response&&(r.response.data=xy.call(t,t.transformResponse,r.response),r.response.headers=Tr.from(r.response.headers))),Promise.reject(r)})}const hP="1.9.0",Im={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Im[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const GS={};Im.transitional=function(e,n,r){function i(s,o){return"[Axios v"+hP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new rt(i(o," has been removed"+(n?" in "+n:"")),rt.ERR_DEPRECATED);return n&&!GS[o]&&(GS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Im.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function R3(t,e,n){if(typeof t!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new rt("option "+s+" must be "+c,rt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rt("Unknown option "+s,rt.ERR_BAD_OPTION)}}const Ef={assertOptions:R3,validators:Im},Ui=Ef.validators;let xa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new FS,response:new FS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ra(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ef.assertOptions(r,{silentJSONParsing:Ui.transitional(Ui.boolean),forcedJSONParsing:Ui.transitional(Ui.boolean),clarifyTimeoutError:Ui.transitional(Ui.boolean)},!1),i!=null&&(oe.isFunction(i)?n.paramsSerializer={serialize:i}:Ef.assertOptions(i,{encode:Ui.function,serialize:Ui.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ef.assertOptions(n,{baseUrl:Ui.spelling("baseURL"),withXsrfToken:Ui.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[n.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),n.headers=Tr.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,f=0,p;if(!c){const x=[BS.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),p=x.length,h=Promise.resolve(n);f<p;)h=h.then(x[f++],x[f++]);return h}p=l.length;let y=n;for(f=0;f<p;){const x=l[f++],w=l[f++];try{y=x(y)}catch(C){w.call(this,C);break}}try{h=BS.call(this,y)}catch(x){return Promise.reject(x)}for(f=0,p=d.length;f<p;)h=h.then(d[f++],d[f++]);return h}getUri(e){e=Ra(this.defaults,e);const n=aP(e.baseURL,e.url,e.allowAbsoluteUrls);return nP(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){xa.prototype[e]=function(n,r){return this.request(Ra(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Ra(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}xa.prototype[e]=n(),xa.prototype[e+"Form"]=n(!0)});let T3=class fP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new ac(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new fP(function(i){e=i}),cancel:e}}};function P3(t){return function(n){return t.apply(null,n)}}function k3(t){return oe.isObject(t)&&t.isAxiosError===!0}const T0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(T0).forEach(([t,e])=>{T0[e]=t});function mP(t){const e=new xa(t),n=UT(xa.prototype.request,e);return oe.extend(n,xa.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return mP(Ra(t,i))},n}const mn=mP(fd);mn.Axios=xa;mn.CanceledError=ac;mn.CancelToken=T3;mn.isCancel=sP;mn.VERSION=hP;mn.toFormData=Am;mn.AxiosError=rt;mn.Cancel=mn.CanceledError;mn.all=function(e){return Promise.all(e)};mn.spread=P3;mn.isAxiosError=k3;mn.mergeConfig=Ra;mn.AxiosHeaders=Tr;mn.formToJSON=t=>iP(oe.isHTMLForm(t)?new FormData(t):t);mn.getAdapter=dP.getAdapter;mn.HttpStatusCode=T0;mn.default=mn;const{Axios:Wee,AxiosError:Hee,CanceledError:Xee,isCancel:Kee,CancelToken:Yee,VERSION:Zee,all:qee,Cancel:Jee,isAxiosError:Qee,spread:ete,toFormData:tte,AxiosHeaders:nte,HttpStatusCode:rte,formToJSON:ite,getAdapter:ste,mergeConfig:ote}=mn,hx=mn.create({baseURL:"http://192.168.1.35:5000",withCredentials:!0,headers:{"Content-Type":"application/json"}}),A3=async t=>{try{return(await hx.post("/api/user/login",t,{withCredentials:!0})).data}catch(e){throw e.response?new Error(e.response.data.message||"Error de autenticacin."):new Error("No se pudo conectar con el servidor.")}},M3=async()=>{try{return(await hx.post("/api/user/logout",{},{withCredentials:!0})).data}catch{throw new Error("Error al cerrar sesin.")}},I3=async()=>{try{return(await hx.get("/api/user/session",{withCredentials:!0})).data}catch(t){if(t.response&&t.response.status===401)return{authenticated:!1};throw new Error("Error al verificar sesin.")}},gP=_.createContext(null),Nm=()=>_.useContext(gP);function N3({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const c=await I3();c.authenticated?n(c.user):n(null)}catch(c){console.log(" No autenticado:",c.message),n(null)}finally{i(!1)}})()},[]);const s=async l=>{const c=await A3(l);return c.status==="ok"&&n(c.user),c},o=async()=>{await M3(),n(null)};return g.jsx(gP.Provider,{value:{user:e,login:s,logout:o,isAuthenticated:!!e,loading:r},children:t})}function F3({menuOpen:t,setMenuOpen:e}){Fi();const n=cd(),{logout:r}=Nm(),[i,s]=_.useState({width:window.innerWidth,height:window.innerHeight}),o=d=>{e(!1),setTimeout(()=>{n(d,{replace:!0})},100)},l=d=>{d.stopPropagation()},c=async()=>{await r(),n("/login",{replace:!0})};return _.useEffect(()=>{const d=()=>{s({width:window.innerWidth,height:window.innerHeight})},h=f=>{f.key==="Escape"&&e(!1)};return window.addEventListener("resize",d),document.addEventListener("keydown",h),()=>{window.removeEventListener("resize",d),document.removeEventListener("keydown",h)}},[e]),g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:g.jsx("button",{onClick:()=>e(!0),className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(w4,{className:"w-6 h-6 text-gray-800"})})}),t&&g.jsxs("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-md z-50 transition-all duration-300 ease-in-out animate-slide-in-left",onClick:()=>e(!1),children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-6 text-lg text-gray-700 hover:text-red-600",children:""}),g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-4 text-center",onClick:l,children:[[["Mapa","/mapa"],["Parcelas","/parcelas"],["Campos","/campos"],["Collares","/collares"],["Alertas","/alertas"],["Animales","/animales"]].map(([d,h])=>g.jsx("button",{onClick:()=>o(h),className:`w-full text-gray-800 font-semibold hover:text-green-600 transition-all\r
                                    text-xl sm:text-2xl md:text-3xl lg:text-4xl menu-button`,children:d},h)),g.jsxs("button",{onClick:c,className:"mt-10 text-red-600 hover:text-red-800 flex items-center gap-2 text-lg",children:[g.jsx(i4,{className:"w-5 h-5"}),"Cerrar sesin"]})]})]},i.width)]})}function j3(){const[t,e]=_.useState(!1);return{menuOpen:t,setMenuOpen:e}}function su({label:t,icon:e,path:n,current:r,navigate:i,full:s=!1,onClick:o}){const l=()=>{i(n),o&&o()};return g.jsxs("button",{onClick:l,className:`h-full w-full flex flex-col items-center justify-center flex-1 py-1
                        ${r===n?"text-green-600 font-semibold":"text-gray-700"}
                        transition-all`,children:[g.jsx("span",{className:"text-lg",children:e}),g.jsx("span",{className:"text-[10px] min-[400px]:block hidden leading-none",children:t})]})}function L3({setMenuOpen:t}){const e=Fi(),n=cd(),r=i=>{t(!1),setTimeout(()=>{n(i,{replace:!0})},100)};return g.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-16 z-50 bg-white border-t flex justify-around items-center",children:[g.jsx(su,{label:"Campos",icon:g.jsx(ax,{}),path:"/campos",current:e.pathname,navigate:r}),g.jsx(su,{label:"Parcelas",icon:g.jsx(OT,{}),path:"/parcelas",current:e.pathname,navigate:r}),g.jsx(su,{label:"Mapa",icon:g.jsx(y4,{}),path:"/mapa",current:e.pathname,navigate:r}),g.jsx(su,{label:"Alertas",icon:g.jsx(oV,{}),path:"/alertas",current:e.pathname,navigate:r}),g.jsx(su,{label:"Animales",icon:g.jsx(Ro,{}),path:"/animales",current:e.pathname,navigate:r})]})}function D3(){const{login:t,isAuthenticated:e,loading:n}=Nm(),r=cd(),[i,s]=_.useState({username:"",password:""}),[o,l]=_.useState(null),[c,d]=_.useState(!1);_.useEffect(()=>{!n&&e&&r("/mapa",{replace:!0})},[n,e,r]);const h=p=>{s({...i,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault(),d(!0),l(null);try{await t(i),r("/mapa")}catch(y){l(y.message||"Error de autenticacin"),d(!1)}};return n?g.jsx("div",{className:"text-center text-red-600 mt-10",children:"Verificando sesin..."}):g.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-green-50 bg-gray-400",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white shadow-xl rounded-xl overflow-hidden max-w-4xl w-full",children:[g.jsx("div",{className:"hidden md:block w-1/2 min-h-[500px] bg-cover bg-center",style:{backgroundImage:"url('https://i.pinimg.com/736x/4f/ec/ee/4fecee3b0ba71316c5ffe25a78265c9e.jpg')"}}),g.jsxs("form",{onSubmit:f,className:"p-8 w-full md:w-1/2",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 text-center",children:"Bienvenido"}),g.jsx("p",{className:"text-sm text-gray-500 mb-6 text-center",children:"Acced a tu sistema de gestin ganadera"}),o&&g.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:o}),g.jsxs("div",{className:"mb-4 relative",children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),g.jsxs("div",{className:"flex items-center border rounded-md shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(PV,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:i.username,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsxs("div",{className:"mb-6 relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),g.jsxs("div",{className:"flex items-center border rounded-md shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(n4,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:i.password,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-black text-white font-semibold rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition",children:c?"Ingresando...":"Ingresar"})]})]})})}const O3={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class pP extends Error{constructor(e){const n=O3[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}class Li{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const $l={PROPERTYCHANGE:"propertychange"};class fx{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function V3(t,e,n){let r,i;n=n||Ta;let s=0,o=t.length,l=!1;for(;s<o;)r=s+(o-s>>1),i=+n(t[r],e),i<0?s=r+1:(o=r,l=!i);return l?s:~s}function Ta(t,e){return t>e?1:t<e?-1:0}function mx(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return typeof n=="function"?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function z3(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Ri(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function $s(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function $3(t,e,n){const r=e||Ta;return t.every(function(i,s){if(s===0)return!0;const o=r(t[s-1],i);return!(o>0||o===0)})}function Pa(){return!0}function md(){return!1}function Bl(){}function B3(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!$s(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function lc(t){for(const e in t)delete t[e]}function Gl(t){let e;for(e in t)return!1;return!e}class Fm extends fx{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Li(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in o||(o[r]=0,l[r]=0),++o[r];let c;for(let d=0,h=i.length;d<h;++d)if("handleEvent"in i[d]?c=i[d].handleEvent(s):c=i[d].call(this,s),c===!1||s.propagationStopped){c=!1;break}if(--o[r]===0){let d=l[r];for(delete l[r];d--;)this.removeEventListener(r,Bl);delete o[r]}return c}disposeInternal(){this.listeners_&&lc(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=Bl,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}}const Qe={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function pt(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function zf(t,e,n,r){return pt(t,e,n,r,!0)}function Bt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),lc(t))}class gd extends Fm{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Qe.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=pt(this,e[s],n);return i}return pt(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=zf(this,e[s],n)}else r=zf(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)G3(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}gd.prototype.on;gd.prototype.once;gd.prototype.un;function G3(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Bt(t[e]);else Bt(t)}function Je(){throw new Error("Unimplemented abstract method.")}let U3=0;function et(t){return t.ol_uid||(t.ol_uid=String(++U3))}class US extends Li{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class Di extends gd{constructor(e){super(),this.on,this.once,this.un,et(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new US(r,e,n)),r=$l.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new US(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],Gl(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}const _n={ADD:"add",REMOVE:"remove"},WS={LENGTH:"length"};class Bh extends Li{constructor(e,n,r){super(e),this.element=n,this.index=r}}let $r=class extends Di{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(WS.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Bh(_n.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Bh(_n.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Bh(_n.REMOVE,i,e)),this.dispatchEvent(new Bh(_n.ADD,n,e))}updateLength_(){this.set(WS.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new pP(58)}};function ot(t,e){if(!t)throw new pP(e)}let sr=class yP extends Di{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new yP(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Bt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=pt(e,Qe.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?W3(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function W3(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(ot(typeof t.getZIndex=="function",41),e=[t]),function(){return e}}const To=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",H3=To.includes("firefox"),X3=To.includes("safari")&&!To.includes("chrom");X3&&(To.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(To));const K3=To.includes("webkit")&&!To.includes("edge"),Y3=To.includes("macintosh"),vP=typeof devicePixelRatio<"u"?devicePixelRatio:1,gx=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Z3=typeof Image<"u"&&Image.prototype.decode,xP=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();new Array(6);function Qi(){return[1,0,0,1,0,0]}function q3(t,e,n,r,i,s,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t}function J3(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function On(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Q3(t,e,n){return q3(t,e,0,0,n,0,0)}function Po(t,e,n,r,i,s,o,l){const c=Math.sin(s),d=Math.cos(s);return t[0]=r*d,t[1]=i*c,t[2]=-r*c,t[3]=i*d,t[4]=o*r*d-l*r*c+e,t[5]=o*i*c+l*i*d+n,t}function px(t,e){const n=ez(e);ot(n!==0,32);const r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],c=e[5];return t[0]=o/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*c-o*l)/n,t[5]=-(r*c-i*l)/n,t}function ez(t){return t[0]*t[3]-t[1]*t[2]}let HS;function _P(t){const e="matrix("+t.join(", ")+")";if(gx)return e;const n=HS||(HS=document.createElement("div"));return n.style.transform=e,n.style.transform}const Dn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function yi(t){const e=Gr();for(let n=0,r=t.length;n<r;++n)_u(e,t[n]);return e}function pd(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function wP(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function za(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function jm(t,e){return yx(t,e[0],e[1])}function ha(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function yx(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function P0(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],o=e[0],l=e[1];let c=Dn.UNKNOWN;return o<n?c=c|Dn.LEFT:o>i&&(c=c|Dn.RIGHT),l<r?c=c|Dn.BELOW:l>s&&(c=c|Dn.ABOVE),c===Dn.UNKNOWN&&(c=Dn.INTERSECTING),c}function Gr(){return[1/0,1/0,-1/0,-1/0]}function Is(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function yd(t){return Is(1/0,1/0,-1/0,-1/0,t)}function xu(t,e){const n=t[0],r=t[1];return Is(n,r,n,r,e)}function CP(t,e,n,r,i){const s=yd(i);return bP(s,t,e,n,r)}function Lu(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function SP(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function _u(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function bP(t,e,n,r,i){for(;n<r;n+=i)tz(t,e[n],e[n+1]);return t}function tz(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function EP(t,e){let n;return n=e(Lm(t)),n||(n=e(Dm(t)),n)||(n=e(Om(t)),n)||(n=e($a(t)),n)?n:!1}function k0(t){let e=0;return vx(t)||(e=Yt(t)*ss(t)),e}function Lm(t){return[t[0],t[1]]}function Dm(t){return[t[2],t[1]]}function ko(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function nz(t,e){let n;return e==="bottom-left"?n=Lm(t):e==="bottom-right"?n=Dm(t):e==="top-left"?n=$a(t):e==="top-right"?n=Om(t):ot(!1,13),n}function A0(t,e,n,r,i){const[s,o,l,c,d,h,f,p]=M0(t,e,n,r);return Is(Math.min(s,l,d,f),Math.min(o,c,h,p),Math.max(s,l,d,f),Math.max(o,c,h,p),i)}function M0(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,o=Math.cos(n),l=Math.sin(n),c=i*o,d=i*l,h=s*o,f=s*l,p=t[0],y=t[1];return[p-c+f,y-d-h,p-c-f,y-d+h,p+c-f,y+d+h,p+c+f,y+d-h,p-c+f,y-d-h]}function ss(t){return t[3]-t[1]}function wu(t,e,n){const r=n||Gr();return hr(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):yd(r),r}function $a(t){return[t[0],t[3]]}function Om(t){return[t[2],t[3]]}function Yt(t){return t[2]-t[0]}function hr(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function vx(t){return t[2]<t[0]||t[3]<t[1]}function rz(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function iz(t,e,n){let r=!1;const i=P0(t,e),s=P0(t,n);if(i===Dn.INTERSECTING||s===Dn.INTERSECTING)r=!0;else{const o=t[0],l=t[1],c=t[2],d=t[3],h=e[0],f=e[1],p=n[0],y=n[1],x=(y-f)/(p-h);let w,C;s&Dn.ABOVE&&!(i&Dn.ABOVE)&&(w=p-(y-d)/x,r=w>=o&&w<=c),!r&&s&Dn.RIGHT&&!(i&Dn.RIGHT)&&(C=y-(p-c)*x,r=C>=l&&C<=d),!r&&s&Dn.BELOW&&!(i&Dn.BELOW)&&(w=p-(y-l)/x,r=w>=o&&w<=c),!r&&s&Dn.LEFT&&!(i&Dn.LEFT)&&(C=y-(p-o)*x,r=C>=l&&C<=d)}return r}function RP(t,e){const n=e.getExtent(),r=ko(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=Yt(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}function sz(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];RP(t,e);const r=Yt(n);if(Yt(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}const xx={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class TP{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||xx[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const vd=6378137,Al=Math.PI*vd,oz=[-Al,-Al,Al,Al],az=[-180,-85,180,85],Gh=vd*Math.log(Math.tan(Math.PI/2));class fl extends TP{constructor(e){super({code:e,units:"m",extent:oz,global:!0,worldExtent:az,getPointResolution:function(n,r){return n/Math.cosh(r[1]/vd)}})}}const XS=[new fl("EPSG:3857"),new fl("EPSG:102100"),new fl("EPSG:102113"),new fl("EPSG:900913"),new fl("http://www.opengis.net/def/crs/EPSG/0/3857"),new fl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function lz(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=Al*t[i]/180;let s=vd*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>Gh?s=Gh:s<-Gh&&(s=-Gh),e[i+1]=s}return e}function cz(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Al,e[i+1]=360*Math.atan(Math.exp(t[i+1]/vd))/Math.PI-90;return e}const uz=6378137,KS=[-180,-90,180,90],dz=Math.PI*uz/180;class ea extends TP{constructor(e,n){super({code:e,units:"degrees",extent:KS,axisOrientation:n,global:!0,metersPerUnit:dz,worldExtent:KS})}}const YS=[new ea("CRS:84"),new ea("EPSG:4326","neu"),new ea("urn:ogc:def:crs:OGC:1.3:CRS84"),new ea("urn:ogc:def:crs:OGC:2:84"),new ea("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ea("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ea("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let I0={};function hz(t){return I0[t]||I0[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function fz(t,e){I0[t]=e}let Ll={};function $f(t,e,n){const r=t.getCode(),i=e.getCode();r in Ll||(Ll[r]={}),Ll[r][i]=n}function mz(t,e){let n;return t in Ll&&e in Ll[t]&&(n=Ll[t][e]),n}function wn(t,e,n){return Math.min(Math.max(t,e),n)}function gz(t,e,n,r,i,s){const o=i-n,l=s-r;if(o!==0||l!==0){const c=((t-n)*o+(e-r)*l)/(o*o+l*l);c>1?(n=i,r=s):c>0&&(n+=o*c,r+=l*c)}return _a(t,e,n,r)}function _a(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function pz(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let l=r+1;l<e;l++){const c=Math.abs(t[l][r]);c>s&&(s=c,i=l)}if(s===0)return null;const o=t[i];t[i]=t[r],t[r]=o;for(let l=r+1;l<e;l++){const c=-t[l][r]/t[r][r];for(let d=r;d<e+1;d++)r==d?t[l][d]=0:t[l][d]+=c*t[r][d]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function wa(t){return t*Math.PI/180}function Ca(t,e){const n=t%e;return n*e<0?n+e:n}function Dr(t,e,n){return t+n*(e-t)}function _x(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Uh(t,e){return Math.floor(_x(t,e))}function Wh(t,e){return Math.ceil(_x(t,e))}function PP(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function kP(t,e){const n=t[0],r=t[1],i=e[0],s=e[1],o=i[0],l=i[1],c=s[0],d=s[1],h=c-o,f=d-l,p=h===0&&f===0?0:(h*(n-o)+f*(r-l))/(h*h+f*f||0);let y,x;return p<=0?(y=o,x=l):p>=1?(y=c,x=d):(y=o+p*h,x=l+p*f),[y,x]}function _i(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function wx(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function AP(t,e){return t[0]*=e,t[1]*=e,t}function Du(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function ZS(t,e){return Math.sqrt(Du(t,e))}function yz(t,e){return Du(t,kP(t,e))}function MP(t,e){if(e.canWrapX()){const n=Yt(e.getExtent()),r=vz(t,e,n);r&&(t[0]-=r*n)}return t}function vz(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||Yt(r),i=Math.floor((t[0]-r[0])/n)),i}const IP=63710088e-1;function qS(t,e,n){n=n||IP;const r=wa(t[1]),i=wa(e[1]),s=(i-r)/2,o=wa(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Hh(t,e){let n=0;const r=t.length;let i=t[r-1][0],s=t[r-1][1];for(let o=0;o<r;o++){const l=t[o][0],c=t[o][1];n+=wa(l-i)*(2+Math.sin(wa(s))+Math.sin(wa(c))),i=l,s=c}return n*e*e/2}function Vm(t,e){e=e||{};const n=e.radius||IP,r=e.projection||"EPSG:3857",i=t.getType();i!=="GeometryCollection"&&(t=t.clone().transform(r,"EPSG:4326"));let s=0,o,l,c,d,h,f;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(o=t.getCoordinates(),s=Math.abs(Hh(o[0],n)),c=1,d=o.length;c<d;++c)s-=Math.abs(Hh(o[c],n));break}case"MultiPolygon":{for(o=t.getCoordinates(),c=0,d=o.length;c<d;++c)for(l=o[c],s+=Math.abs(Hh(l[0],n)),h=1,f=l.length;h<f;++h)s-=Math.abs(Hh(l[h],n));break}case"GeometryCollection":{const p=t.getGeometries();for(c=0,d=p.length;c<d;++c)s+=Vm(p[c],e);break}default:throw new Error("Unsupported geometry type: "+i)}return s}function NP(...t){console.warn(...t)}let N0=!0;function FP(t){N0=!1}function Cx(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function jP(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function xz(t){fz(t.getCode(),t),$f(t,t,Cx)}function _z(t){t.forEach(xz)}function Cn(t){return typeof t=="string"?hz(t):t||null}function JS(t,e,n,r){t=Cn(t);let i;const s=t.getPointResolutionFunc();if(s)i=s(e,n);else{const o=t.getUnits();if(o=="degrees"||r=="degrees")i=e;else{const l=bx(t,Cn("EPSG:4326"));if(l===jP&&o!=="degrees")i=e*t.getMetersPerUnit();else{let d=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];d=l(d,d,2);const h=qS(d.slice(0,2),d.slice(2,4)),f=qS(d.slice(4,6),d.slice(6,8));i=(h+f)/2}const c=t.getMetersPerUnit();c!==void 0&&(i/=c)}}return i}function QS(t){_z(t),t.forEach(function(e){t.forEach(function(n){e!==n&&$f(e,n,Cx)})})}function wz(t,e,n,r){t.forEach(function(i){e.forEach(function(s){$f(i,s,n),$f(s,i,r)})})}function Sx(t,e){if(t){if(typeof t=="string")return Cn(t)}else return Cn(e);return t}function zm(t,e){return FP(),Ex(t,"EPSG:4326","EPSG:3857")}function LP(t,e){const n=Ex(t,"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=Ca(r+180,360)-180),n}function ca(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||bx(t,e)===Cx)&&n}function bx(t,e){const n=t.getCode(),r=e.getCode();let i=mz(n,r);return i||(i=jP),i}function Bf(t,e){const n=Cn(t),r=Cn(e);return bx(n,r)}function Ex(t,e,n){return Bf(e,n)(t,void 0,t.length)}function Ou(t,e){return t}function An(t,e){return N0&&!_i(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(N0=!1,NP("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function Rx(t,e){return t}function xo(t,e){return t}function Cz(){QS(XS),QS(YS),wz(YS,XS,lz,cz)}Cz();function Sa(t,e,n,r,i,s){s=s||[];let o=0;for(let l=e;l<n;l+=r){const c=t[l],d=t[l+1];s[o++]=i[0]*c+i[2]*d+i[4],s[o++]=i[1]*c+i[3]*d+i[5]}return s&&s.length!=o&&(s.length=o),s}function DP(t,e,n,r,i,s,o){o=o||[];const l=Math.cos(i),c=Math.sin(i),d=s[0],h=s[1];let f=0;for(let p=e;p<n;p+=r){const y=t[p]-d,x=t[p+1]-h;o[f++]=d+y*l-x*c,o[f++]=h+y*c+x*l;for(let w=p+2;w<p+r;++w)o[f++]=t[w]}return o&&o.length!=f&&(o.length=f),o}function Sz(t,e,n,r,i,s,o,l){l=l||[];const c=o[0],d=o[1];let h=0;for(let f=e;f<n;f+=r){const p=t[f]-c,y=t[f+1]-d;l[h++]=c+i*p,l[h++]=d+s*y;for(let x=f+2;x<f+r;++x)l[h++]=t[x]}return l&&l.length!=h&&(l.length=h),l}function bz(t,e,n,r,i,s,o){o=o||[];let l=0;for(let c=e;c<n;c+=r){o[l++]=t[c]+i,o[l++]=t[c+1]+s;for(let d=c+2;d<c+r;++d)o[l++]=t[d]}return o&&o.length!=l&&(o.length=l),o}const eb=Qi();class OP extends Di{constructor(){super(),this.extent_=Gr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=B3(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Je()}closestPointXY(e,n,r,i){return Je()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Je()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&yd(n),this.extentRevision_=this.getRevision()}return rz(this.extent_,e)}rotate(e,n){Je()}scale(e,n,r){Je()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Je()}getType(){return Je()}applyTransform(e){Je()}intersectsExtent(e){return Je()}translate(e,n){Je()}transform(e,n){const r=Cn(e),i=r.getUnits()=="tile-pixels"?function(s,o,l){const c=r.getExtent(),d=r.getWorldExtent(),h=ss(d)/ss(c);return Po(eb,d[0],d[3],h,-h,0,0,0),Sa(s,0,s.length,l,eb,o),Bf(r,n)(s,o,l)}:Bf(r,n);return this.applyTransform(i),this}}class Ba extends OP{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return CP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Je()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=tb(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Je()}setLayout(e,n,r){let i;if(e)i=tb(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=Ez(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();DP(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=ko(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();Sz(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();bz(r,0,r.length,i,e,n,r),this.changed()}}}function Ez(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function tb(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function Rz(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return Sa(r,0,r.length,i,e,n)}function nb(t,e,n,r,i,s,o){const l=t[e],c=t[e+1],d=t[n]-l,h=t[n+1]-c;let f;if(d===0&&h===0)f=e;else{const p=((i-l)*d+(s-c)*h)/(d*d+h*h);if(p>1)f=n;else if(p>0){for(let y=0;y<r;++y)o[y]=Dr(t[e+y],t[n+y],p);o.length=r;return}else f=e}for(let p=0;p<r;++p)o[p]=t[f+p];o.length=r}function Tx(t,e,n,r,i){let s=t[e],o=t[e+1];for(e+=r;e<n;e+=r){const l=t[e],c=t[e+1],d=_a(s,o,l,c);d>i&&(i=d),s=l,o=c}return i}function Px(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=Tx(t,e,l,r,i),e=l}return i}function Tz(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=Px(t,e,l,r,i),e=l[l.length-1]}return i}function kx(t,e,n,r,i,s,o,l,c,d,h){if(e==n)return d;let f,p;if(i===0){if(p=_a(o,l,t[e],t[e+1]),p<d){for(f=0;f<r;++f)c[f]=t[e+f];return c.length=r,p}return d}h=h||[NaN,NaN];let y=e+r;for(;y<n;)if(nb(t,y-r,y,r,o,l,h),p=_a(o,l,h[0],h[1]),p<d){for(d=p,f=0;f<r;++f)c[f]=h[f];c.length=r,y+=r}else y+=r*Math.max((Math.sqrt(p)-Math.sqrt(d))/i|0,1);if(s&&(nb(t,n-r,e,r,o,l,h),p=_a(o,l,h[0],h[1]),p<d)){for(d=p,f=0;f<r;++f)c[f]=h[f];c.length=r}return d}function Ax(t,e,n,r,i,s,o,l,c,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=kx(t,e,y,r,i,s,o,l,c,d,h),e=y}return d}function Pz(t,e,n,r,i,s,o,l,c,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=Ax(t,e,y,r,i,s,o,l,c,d,h),e=y[y.length-1]}return d}function kz(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function $m(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0;l<r;++l)t[e++]=o[l]}return e}function Mx(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=$m(t,e,n[o],r);i[s++]=c,e=c}return i.length=s,i}function Az(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=Mx(t,e,n[o],r,i[s]);c.length===0&&(c[0]=e),i[s++]=c,e=c[c.length-1]}return i.length=s,i}function Ix(t,e,n,r,i,s,o){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[o++]=t[e],s[o++]=t[e+1];return o}const c=new Array(l);c[0]=1,c[l-1]=1;const d=[e,n-r];let h=0;for(;d.length>0;){const f=d.pop(),p=d.pop();let y=0;const x=t[p],w=t[p+1],C=t[f],b=t[f+1];for(let R=p+r;R<f;R+=r){const T=t[R],P=t[R+1],k=gz(T,P,x,w,C,b);k>y&&(h=R,y=k)}y>i&&(c[(h-e)/r]=1,p+r<h&&d.push(p,h),h+r<f&&d.push(h,f))}for(let f=0;f<l;++f)c[f]&&(s[o++]=t[e+f*r],s[o++]=t[e+f*r+1]);return o}function Mz(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c];o=Ix(t,e,h,r,i,s,o),l.push(o),e=h}return o}function sa(t,e){return e*Math.round(t/e)}function Iz(t,e,n,r,i,s,o){if(e==n)return o;let l=sa(t[e],i),c=sa(t[e+1],i);e+=r,s[o++]=l,s[o++]=c;let d,h;do if(d=sa(t[e],i),h=sa(t[e+1],i),e+=r,e==n)return s[o++]=d,s[o++]=h,o;while(d==l&&h==c);for(;e<n;){const f=sa(t[e],i),p=sa(t[e+1],i);if(e+=r,f==d&&p==h)continue;const y=d-l,x=h-c,w=f-l,C=p-c;if(y*C==x*w&&(y<0&&w<y||y==w||y>0&&w>y)&&(x<0&&C<x||x==C||x>0&&C>x)){d=f,h=p;continue}s[o++]=d,s[o++]=h,l=d,c=h,d=f,h=p}return s[o++]=d,s[o++]=h,o}function VP(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c];o=Iz(t,e,h,r,i,s,o),l.push(o),e=h}return o}function Nz(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c],f=[];o=VP(t,e,h,r,i,s,o,f),l.push(f),e=h[h.length-1]}return o}function _o(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=e;o<n;o+=r)i[s++]=t.slice(o,o+r);return i.length=s,i}function Vu(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o];i[s++]=_o(t,e,c,r,i[s]),e=c}return i.length=s,i}function F0(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o];i[s++]=c.length===1&&c[0]===e?[]:Vu(t,e,c,r,i[s]),e=c[c.length-1]}return i.length=s,i}function zP(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],c=t[e+1];i+=o*l-s*c,s=l,o=c}return i/2}function $P(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=zP(t,e,l,r),e=l}return i}function Fz(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=$P(t,e,l,r),e=l[l.length-1]}return i}class zu extends Ba{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new zu(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<za(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Tx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),kx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return zP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return _o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Ix(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new zu(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$m(this.flatCoordinates,0,e,this.stride),this.changed()}}class Pr extends Ba{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Pr(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,o=_a(e,n,s[0],s[1]);if(o<i){const l=this.stride;for(let c=0;c<l;++c)r[c]=s[c];return r.length=l,o}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return xu(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return yx(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=kz(this.flatCoordinates,0,e,this.stride),this.changed()}}function jz(t,e,n,r,i){return!EP(i,function(o){return!fa(t,e,n,r,o[0],o[1])})}function fa(t,e,n,r,i,s){let o=0,l=t[n-r],c=t[n-r+1];for(;e<n;e+=r){const d=t[e],h=t[e+1];c<=s?h>s&&(d-l)*(s-c)-(i-l)*(h-c)>0&&o++:h<=s&&(d-l)*(s-c)-(i-l)*(h-c)<0&&o--,l=d,c=h}return o!==0}function Nx(t,e,n,r,i,s){if(n.length===0||!fa(t,e,n[0],r,i,s))return!1;for(let o=1,l=n.length;o<l;++o)if(fa(t,n[o-1],n[o],r,i,s))return!1;return!0}function Lz(t,e,n,r,i,s){if(n.length===0)return!1;for(let o=0,l=n.length;o<l;++o){const c=n[o];if(Nx(t,e,c,r,i,s))return!0;e=c[c.length-1]}return!1}function BP(t,e,n,r,i,s,o){let l,c,d,h,f,p,y;const x=i[s+1],w=[];for(let R=0,T=n.length;R<T;++R){const P=n[R];for(h=t[P-r],p=t[P-r+1],l=e;l<P;l+=r)f=t[l],y=t[l+1],(x<=p&&y<=x||p<=x&&x<=y)&&(d=(x-p)/(y-p)*(f-h)+h,w.push(d)),h=f,p=y}let C=NaN,b=-1/0;for(w.sort(Ta),h=w[0],l=1,c=w.length;l<c;++l){f=w[l];const R=Math.abs(f-h);R>b&&(d=(h+f)/2,Nx(t,e,n,r,d,x)&&(C=d,b=R)),h=f}return isNaN(C)&&(C=i[s]),o?(o.push(C,x,b),o):[C,x,b]}function Dz(t,e,n,r,i){let s=[];for(let o=0,l=n.length;o<l;++o){const c=n[o];s=BP(t,e,c,r,i,2*o,s),e=c[c.length-1]}return s}function GP(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function Bm(t,e,n,r,i){const s=bP(Gr(),t,e,n,r);return hr(i,s)?ha(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:GP(t,e,n,r,function(o,l){return iz(i,o,l)}):!1}function Oz(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){if(Bm(t,e,n[s],r,i))return!0;e=n[s]}return!1}function UP(t,e,n,r,i){return!!(Bm(t,e,n,r,i)||fa(t,e,n,r,i[0],i[1])||fa(t,e,n,r,i[0],i[3])||fa(t,e,n,r,i[2],i[1])||fa(t,e,n,r,i[2],i[3]))}function WP(t,e,n,r,i){if(!UP(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(jz(t,n[s-1],n[s],r,i)&&!Bm(t,n[s-1],n[s],r,i))return!1;return!0}function Vz(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(WP(t,e,l,r,i))return!0;e=l[l.length-1]}return!1}function zz(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function HP(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],c=t[e+1];i+=(l-s)*(c+o),s=l,o=c}return i===0?void 0:i>0}function XP(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=HP(t,e,l,r);if(s===0){if(i&&c||!i&&!c)return!1}else if(i&&!c||!i&&c)return!1;e=l}return!0}function $z(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(!XP(t,e,l,r,i))return!1;l.length&&(e=l[l.length-1])}return!0}function j0(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=HP(t,e,l,r);(s===0?i&&c||!i&&!c:i&&!c||!i&&c)&&zz(t,e,l,r),e=l}return e}function rb(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s)e=j0(t,e,n[s],r,i);return e}class rr extends Ba{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Ri(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new rr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<za(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Px(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ax(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Nx(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return $P(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),j0(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Vu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=ko(this.getExtent());this.flatInteriorPoint_=BP(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Pr(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new zu(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const c=r[o],d=new zu(n.slice(s,c),e);i.push(d),s=c}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;XP(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=j0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=VP(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new rr(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return WP(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Mx(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function ib(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new rr(s,"XY",[s.length])}const So={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class kn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new kn({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}function KP(t,e,n,r,i,s,o){let l,c;const d=(n-e)/r;if(d===1)l=e;else if(d===2)l=e,c=i;else if(d!==0){let h=t[e],f=t[e+1],p=0;const y=[0];for(let C=e+r;C<n;C+=r){const b=t[C],R=t[C+1];p+=Math.sqrt((b-h)*(b-h)+(R-f)*(R-f)),y.push(p),h=b,f=R}const x=i*p,w=V3(y,x);w<0?(c=(x-y[-w-2])/(y[-w-1]-y[-w-2]),l=e+(-w-2)*r):l=e+w*r}o=o>1?o:2,s=s||new Array(o);for(let h=0;h<o;++h)s[h]=l===void 0?NaN:c===void 0?t[l+h]:Dr(t[l+h],t[l+r+h],c);return s}function L0(t,e,n,r,i,s){if(n==e)return null;let o;if(i<t[e+r-1])return s?(o=t.slice(e,e+r),o[r-1]=i,o):null;if(t[n-1]<i)return s?(o=t.slice(n-r,n),o[r-1]=i,o):null;if(i==t[e+r-1])return t.slice(e,e+r);let l=e/r,c=n/r;for(;l<c;){const p=l+c>>1;i<t[(p+1)*r-1]?c=p:l=p+1}const d=t[l*r-1];if(i==d)return t.slice((l-1)*r,(l-1)*r+r);const h=t[(l+1)*r-1],f=(i-d)/(h-d);o=[];for(let p=0;p<r-1;++p)o.push(Dr(t[(l-1)*r+p],t[l*r+p],f));return o.push(i),o}function Bz(t,e,n,r,i,s,o){if(o)return L0(t,e,n[n.length-1],r,i,s);let l;if(i<t[r-1])return s?(l=t.slice(0,r),l[r-1]=i,l):null;if(t[t.length-1]<i)return s?(l=t.slice(t.length-r),l[r-1]=i,l):null;for(let c=0,d=n.length;c<d;++c){const h=n[c];if(e!=h){if(i<t[e+r-1])return null;if(i<=t[h-1])return L0(t,e,h,r,i,!1);e=h}}return null}function YP(t,e,n,r){let i=t[e],s=t[e+1],o=0;for(let l=e+r;l<n;l+=r){const c=t[l],d=t[l+1];o+=Math.sqrt((c-i)*(c-i)+(d-s)*(d-s)),i=c,s=d}return o}class ka extends Ba{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){this.flatCoordinates?Ri(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new ka(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<za(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Tx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),kx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return GP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,L0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return _o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return KP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return YP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Ix(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new ka(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Bm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$m(this.flatCoordinates,0,e,this.stride),this.changed()}}class yn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new yn({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const Mn={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function sb(t){return t[0]>0&&t[1]>0}function Gz(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function zr(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Gm{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=zr(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Gm({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Je()}getImage(e){return Je()}getHitDetectionImage(){return Je()}getPixelRatio(e){return 1}getImageState(){return Je()}getImageSize(){return Je()}getOrigin(){return Je()}getSize(){return Je()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=zr(e)}listenImageChange(e){Je()}load(){Je()}unlistenImageChange(e){Je()}}const Uz=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Wz=/^([a-z]*)$|^hsla?\(.*\)$/i;function ZP(t){return typeof t=="string"?t:qP(t)}function Hz(t){const e=document.createElement("div");if(e.style.color=t,e.style.color!==""){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}const Xz=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let s=0;for(const o in e)(s++&3)===0&&(delete e[o],--n)}i=Kz(r),e[r]=i,++n}return i}}();function Gf(t){return Array.isArray(t)?t:Xz(t)}function Kz(t){let e,n,r,i,s;if(Wz.exec(t)&&(t=Hz(t)),Uz.exec(t)){const o=t.length-1;let l;o<=4?l=1:l=2;const c=o===4||o===8;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),r=parseInt(t.substr(1+2*l,l),16),c?i=parseInt(t.substr(1+3*l,l),16):i=255,l==1&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,c&&(i=(i<<4)+i)),s=[e,n,r,i/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),ob(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),ob(s)):ot(!1,14);return s}function ob(t){return t[0]=wn(t[0]+.5|0,0,255),t[1]=wn(t[1]+.5|0,0,255),t[2]=wn(t[2]+.5|0,0,255),t[3]=wn(t[3],0,1),t}function qP(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*100)/100;return"rgba("+e+","+n+","+r+","+i+")"}function Zi(t){return Array.isArray(t)?qP(t):t}function mr(t,e,n,r){let i;return n&&n.length?i=n.shift():gx?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function Um(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Yz(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function Zz(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function ab(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Uf(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function JP(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function qz(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}const Xh="ol-hidden",Jz="ol-selectable",Wm="ol-unselectable",Fx="ol-control",lb="ol-collapsed",Qz=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),cb=["style","variant","weight","size","lineHeight","family"],QP=function(t){const e=t.match(Qz);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=cb.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[cb[r]]=s)}return n.families=n.family.split(/,\s?/),n},ek="10px sans-serif",As="#000",Wf="round",$u=[],Bu=0,Ul="round",Gu=10,Uu="#000",Wu="center",Hf="middle",ma=[0,0,0,0],Hu=1,bs=new Di;let Sl=null,D0;const O0={},e$=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,o;function l(d,h,f){let p=!0;for(let y=0;y<r;++y){const x=n[y];if(o=Xf(d+" "+h+" "+e+x,i),f!=x){const w=Xf(d+" "+h+" "+e+f+","+x,i);p=p&&w!=o}}return!!p}function c(){let d=!0;const h=bs.getKeys();for(let f=0,p=h.length;f<p;++f){const y=h[f];bs.get(y)<100&&(l.apply(this,y.split(`
`))?(lc(O0),Sl=null,D0=void 0,bs.set(y,100)):(bs.set(y,bs.get(y)+1,!0),d=!1))}d&&(clearInterval(s),s=void 0)}return function(d){const h=QP(d);if(!h)return;const f=h.families;for(let p=0,y=f.length;p<y;++p){const x=f[p],w=h.style+`
`+h.weight+`
`+x;bs.get(w)===void 0&&(bs.set(w,100,!0),l(h.style,h.weight,x)||(bs.set(w,0,!0),s===void 0&&(s=setInterval(c,32))))}}}(),t$=function(){let t;return function(e){let n=O0[e];if(n==null){if(gx){const r=QP(e),i=tk(e,"g");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);O0[e]=n}return n}}();function tk(t,e){return Sl||(Sl=mr(1,1)),t!=D0&&(Sl.font=t,D0=Sl.font),Sl.measureText(e)}function Xf(t,e){return tk(t,e).width}function ub(t,e,n){if(e in n)return n[e];const r=e.split(`
`).reduce((i,s)=>Math.max(i,Xf(t,s)),0);return n[e]=r,r}function n$(t,e){const n=[],r=[],i=[];let s=0,o=0,l=0,c=0;for(let d=0,h=e.length;d<=h;d+=2){const f=e[d];if(f===`
`||d===h){s=Math.max(s,o),i.push(o),o=0,l+=c;continue}const p=e[d+1]||t.font,y=Xf(p,f);n.push(y),o+=y;const x=t$(p);r.push(x),c=Math.max(c,x)}return{width:s,height:l,widths:n,heights:r,lineWidths:i}}function r$(t,e,n,r,i,s,o,l,c,d,h){t.save(),n!==1&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(c,d),t.scale(h[0],h[1]),i$(r,t)):h[0]<0||h[1]<0?(t.translate(c,d),t.scale(h[0],h[1]),t.drawImage(r,i,s,o,l,0,0,o,l)):t.drawImage(r,i,s,o,l,c,d,o*h[0],l*h[1]),t.restore()}function i$(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class Hm extends Gm{constructor(e){const n=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:n,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),n=new Hm({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_;if(!e)return null;const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let n=this.canvas_[e];if(!n){const r=this.renderOptions_,i=mr(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvas_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return Mn.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const M=i;i=s,s=M}const o=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/o,c=s*Math.sin(l),d=Math.sqrt(s*s-c*c),h=i-d,f=Math.sqrt(c*c+h*h),p=f/c;if(e==="miter"&&p<=r)return p*n;const y=n/2/p,x=n/2*(h/f),C=Math.sqrt((i+y)*(i+y)+x*x)-i;if(this.radius2_===void 0||e==="bevel")return C*2;const b=i*Math.sin(l),R=Math.sqrt(i*i-b*b),T=s-R,k=Math.sqrt(b*b+T*T)/b;if(k<=r){const M=k*n/2-s-i;return 2*Math.max(C,M)}return C*2}createRenderOptions(){let e=Ul,n=0,r=null,i=0,s,o=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=Uu),s=Zi(s),o=this.stroke_.getWidth(),o===void 0&&(o=Hu),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=Ul),n=this.stroke_.getMiterLimit(),n===void 0&&(n=Gu));const l=this.calculateLineJoinSize_(e,o,n),c=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:o,size:d,lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=As),n.fillStyle=Zi(i),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let n=this.fill_.getColor(),r=0;if(typeof n=="string"&&(n=Gf(n)),n===null?r=1:Array.isArray(n)&&(r=n.length===4?n[3]:1),r===0){const i=mr(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let l=0;l<n;l++){const c=s+l*o,d=l%2===0?r:i;e.lineTo(d*Math.cos(c),d*Math.sin(c))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=As,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}}class Or extends Hm{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Or({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}let on=class nk{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=db,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new nk({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=db,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function s$(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(ot(typeof t.getZIndex=="function",41),n=[t]),e=function(){return n}}return e}let wy=null;function o$(t,e){if(!wy){const n=new kn({color:"rgba(255,255,255,0.4)"}),r=new yn({color:"#3399CC",width:1.25});wy=[new on({image:new Or({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return wy}function rk(){const t={},e=[255,255,255,1],n=[0,153,255,1],r=3;return t.Polygon=[new on({fill:new kn({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new on({stroke:new yn({color:e,width:r+2})}),new on({stroke:new yn({color:n,width:r})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new on({image:new Or({radius:r*2,fill:new kn({color:n}),stroke:new yn({color:e,width:r/2})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function db(t){return t.getGeometry()}const a$="#333";class Xm{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=zr(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new kn({color:a$}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new Xm({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=zr(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const Mt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class ik extends Di{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Mt.OPACITY]=e.opacity!==void 0?e.opacity:1,ot(typeof n[Mt.OPACITY]=="number",64),n[Mt.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Mt.Z_INDEX]=e.zIndex,n[Mt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Mt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Mt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Mt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=wn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Je()}getLayerStatesArray(e){return Je()}getExtent(){return this.get(Mt.EXTENT)}getMaxResolution(){return this.get(Mt.MAX_RESOLUTION)}getMinResolution(){return this.get(Mt.MIN_RESOLUTION)}getMinZoom(){return this.get(Mt.MIN_ZOOM)}getMaxZoom(){return this.get(Mt.MAX_ZOOM)}getOpacity(){return this.get(Mt.OPACITY)}getSourceState(){return Je()}getVisible(){return this.get(Mt.VISIBLE)}getZIndex(){return this.get(Mt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Mt.EXTENT,e)}setMaxResolution(e){this.set(Mt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Mt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Mt.MAX_ZOOM,e)}setMinZoom(e){this.set(Mt.MIN_ZOOM,e)}setOpacity(e){ot(typeof e=="number",64),this.set(Mt.OPACITY,e)}setVisible(e){this.set(Mt.VISIBLE,e)}setZIndex(e){this.set(Mt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const nr={ANIMATING:0,INTERACTING:1},gi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},l$=42,jx=256;function hb(t,e,n){return function(r,i,s,o,l){if(!r)return;if(!i&&!e)return r;const c=e?0:s[0]*i,d=e?0:s[1]*i,h=l?l[0]:0,f=l?l[1]:0;let p=t[0]+c/2+h,y=t[2]-c/2+h,x=t[1]+d/2+f,w=t[3]-d/2+f;p>y&&(p=(y+p)/2,y=p),x>w&&(x=(w+x)/2,w=x);let C=wn(r[0],p,y),b=wn(r[1],x,w);if(o&&n&&i){const R=30*i;C+=-R*Math.log(1+Math.max(0,p-r[0])/R)+R*Math.log(1+Math.max(0,r[0]-y)/R),b+=-R*Math.log(1+Math.max(0,x-r[1])/R)+R*Math.log(1+Math.max(0,r[1]-w)/R)}return[C,b]}}function c$(t){return t}function Lx(t,e,n,r){const i=Yt(e)/n[0],s=ss(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function Dx(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),wn(r,n/2,e*2)}function u$(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,o,l){if(i!==void 0){const c=t[0],d=t[t.length-1],h=n?Lx(c,n,o,r):c;if(l)return e?Dx(i,h,d):wn(i,d,h);const f=Math.min(h,i),p=Math.floor(mx(t,f,s));return t[p]>h&&p<t.length-1?t[p+1]:t[p]}}}function d$(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(o,l,c,d){if(o!==void 0){const h=i?Lx(e,i,c,s):e;if(d)return r?Dx(o,h,n):wn(o,n,h);const f=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(t)-f),y=-l*(.5-f)+.5,x=Math.min(h,o),w=Math.floor(Math.log(e/x)/Math.log(t)+y),C=Math.max(p,w),b=e/Math.pow(t,C);return wn(b,n,h)}}}function fb(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,o,l,c){if(s!==void 0){const d=r?Lx(t,r,l,i):t;return!n||!c?wn(s,e,d):Dx(s,d,e)}}}function Ox(t){if(t!==void 0)return 0}function mb(t){if(t!==void 0)return t}function h$(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function f$(t){return t=t||wa(5),function(e,n){if(n)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}function sk(t){return Math.pow(t,3)}function kr(t){return 1-sk(1-t)}function m$(t){return 3*t*t-2*t*t*t}function g$(t){return t}const Cy=0;class Xi extends Di{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Sx(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&FP(),e.center&&(e.center=An(e.center,this.projection_)),e.extent&&(e.extent=xo(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const l in gi)delete n[l];this.setProperties(n,!0);const r=y$(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=p$(e),s=r.constraint,o=v$(e);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(i[3]-n[3]+n[1]-i[1]),l=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+o,r[1]-l])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=An(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=An(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const h=arguments[i];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(i===n){r&&Kh(r,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_;const d=[];for(;i<n;++i){const h=arguments[i],f={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||m$,callback:r};if(h.center&&(f.sourceCenter=o,f.targetCenter=h.center.slice(),o=f.targetCenter),h.zoom!==void 0?(f.sourceResolution=l,f.targetResolution=this.getResolutionForZoom(h.zoom),l=f.targetResolution):h.resolution&&(f.sourceResolution=l,f.targetResolution=h.resolution,l=f.targetResolution),h.rotation!==void 0){f.sourceRotation=c;const p=Ca(h.rotation-c+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=c+p,c=f.targetRotation}x$(f)?f.complete=!0:s+=f.duration,d.push(f)}this.animations_.push(d),this.setHint(nr.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[nr.ANIMATING]>0}getInteracting(){return this.hints_[nr.INTERACTING]>0}cancelAnimations(){this.setHint(nr.ANIMATING,-this.hints_[nr.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&Kh(i[0].callback,!1),!e)for(let s=0,o=i.length;s<o;++s){const l=i[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,l=i.length;o<l;++o){const c=i[o];if(c.complete)continue;const d=e-c.start;let h=c.duration>0?d/c.duration:1;h>=1?(c.complete=!0,h=1):s=!1;const f=c.easing(h);if(c.sourceCenter){const p=c.sourceCenter[0],y=c.sourceCenter[1],x=c.targetCenter[0],w=c.targetCenter[1];this.nextCenter_=c.targetCenter;const C=p+f*(x-p),b=y+f*(w-y);this.targetCenter_=[C,b]}if(c.sourceResolution&&c.targetResolution){const p=f===1?c.targetResolution:c.sourceResolution+f*(c.targetResolution-c.sourceResolution);if(c.anchor){const y=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(p,0,y,!0);this.targetCenter_=this.calculateCenterZoom(x,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const p=f===1?Ca(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+f*(c.targetRotation-c.sourceRotation);if(c.anchor){const y=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(y,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),n=!0,!c.complete)break}if(s){this.animations_[r]=null,this.setHint(nr.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&Kh(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],wx(r,e-this.getRotation()),PP(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-i[0])/s,l=n[1]-e*(n[1]-i[1])/s;r=[o,l]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Ou(e,this.getProjection())}getCenterInternal(){return this.get(gi.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return Rx(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ot(n,1);const r=this.getResolution();ot(r!==void 0,2);const i=this.getRotation();return ot(i!==void 0,3),A0(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(gi.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(xo(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=Yt(e)/n[0],i=ss(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(gi.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(o){return Math.log(r/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=Sy(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=mx(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=wn(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,wn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(ot(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){ot(!vx(e),25);const i=xo(e,this.getProjection());r=ib(i)}else if(e.getType()==="Circle"){const i=xo(e.getExtent(),this.getProjection());r=ib(i),r.rotate(this.getRotation(),ko(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let l=1/0,c=1/0,d=-1/0,h=-1/0;for(let f=0,p=s.length;f<p;f+=o){const y=s[f]*r-s[f+1]*i,x=s[f]*i+s[f+1]*r;l=Math.min(l,y),c=Math.min(c,x),d=Math.max(d,y),h=Math.max(h,x)}return[l,c,d,h]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const l=this.rotatedExtentForGeometry(e);let c=this.getResolutionForExtentInternal(l,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);c=isNaN(c)?o:Math.max(c,o),c=this.getConstrainedResolution(c,s?0:1);const d=this.getRotation(),h=Math.sin(d),f=Math.cos(d),p=ko(l);p[0]+=(i[1]-i[3])/2*c,p[1]+=(i[0]-i[2])/2*c;const y=p[0]*f-p[1]*h,x=p[1]*f+p[0]*h,w=this.getConstrainedCenter([y,x],c),C=n.callback?n.callback:Bl;n.duration!==void 0?this.animateInternal({resolution:c,center:w,duration:n.duration,easing:n.easing},C):(this.targetResolution_=c,this.targetCenter_=w,this.applyTargetState_(!1,!0),Kh(C,!0))}centerOn(e,n,r){this.centerOnInternal(An(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(Sy(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const o=this.padding_;if(o&&e){const l=this.getViewportSizeMinusPadding_(-r),c=Sy(e,i,[l[0]/2+o[3],l[1]/2+o[0]],n,r);s=[e[0]-c[0],e[1]-c[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Ou(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&An(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=An(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&An(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),l=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(gi.ROTATION)!==i&&this.set(gi.ROTATION,i),this.get(gi.RESOLUTION)!==o&&(this.set(gi.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(gi.CENTER)||!_i(this.get(gi.CENTER),l))&&this.set(gi.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,i,o),c=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!_i(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:e,easing:kr,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(nr.INTERACTING,1)}endInteraction(e,n,r){r=r&&An(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(nr.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function Kh(t,e){setTimeout(function(){t(e)},0)}function p$(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return hb(t.extent,t.constrainOnlyCenter,n)}const e=Sx(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,hb(n,!1,!1)}return c$}function y$(t){let e,n,r,o=t.minZoom!==void 0?t.minZoom:Cy,l=t.maxZoom!==void 0?t.maxZoom:28;const c=t.zoomFactor!==void 0?t.zoomFactor:2,d=t.multiWorld!==void 0?t.multiWorld:!1,h=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,f=t.showFullExtent!==void 0?t.showFullExtent:!1,p=Sx(t.projection,"EPSG:3857"),y=p.getExtent();let x=t.constrainOnlyCenter,w=t.extent;if(!d&&!w&&p.isGlobal()&&(x=!1,w=y),t.resolutions!==void 0){const C=t.resolutions;n=C[o],r=C[l]!==void 0?C[l]:C[C.length-1],t.constrainResolution?e=u$(C,h,!x&&w,f):e=fb(n,r,h,!x&&w,f)}else{const b=(y?Math.max(Yt(y),ss(y)):360*xx.degrees/p.getMetersPerUnit())/jx/Math.pow(2,Cy),R=b/Math.pow(2,28-Cy);n=t.maxResolution,n!==void 0?o=0:n=b/Math.pow(c,o),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(c,l):r=b/Math.pow(c,l):r=R),l=o+Math.floor(Math.log(n/r)/Math.log(c)),r=n/Math.pow(c,l-o),t.constrainResolution?e=d$(c,n,r,h,!x&&w,f):e=fb(n,r,h,!x&&w,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:c}}function v$(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?f$():n===!1?mb:typeof n=="number"?h$(n):mb}return Ox}function x$(t){return!(t.sourceCenter&&t.targetCenter&&!_i(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Sy(t,e,n,r,i){const s=Math.cos(-i);let o=Math.sin(-i),l=t[0]*s-t[1]*o,c=t[1]*s+t[0]*o;l+=(e[0]/2-n[0])*r,c+=(n[1]-e[1]/2)*r,o=-o;const d=l*s-c*o,h=c*s+l*o;return[d,h]}class Km extends ik{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Mt.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Mt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Bt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=pt(e,Qe.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;e instanceof Xi?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e;const r=this.getExtent();return this.getVisible()&&Vx(this.getLayerState(),n.viewState)&&(!r||hr(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof Xi?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(Mt.MAP,e)}getMapInternal(){return this.get(Mt.MAP)}setMap(e){this.mapPrecomposeKey_&&(Bt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Bt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=pt(e,So.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);ot(!i.some(function(o){return o.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=pt(this,Qe.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Mt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Vx(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}function _$(t,e,n,r,i){ok(t,e,n||0,r||t.length-1,i||w$)}function ok(t,e,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,o=e-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*(o-s/2<0?-1:1),h=Math.max(n,Math.floor(e-o*c/s+d)),f=Math.min(r,Math.floor(e+(s-o)*c/s+d));ok(t,e,h,f,i)}var p=t[e],y=n,x=r;for(ou(t,n,e),i(t[r],p)>0&&ou(t,n,r);y<x;){for(ou(t,y,x),y++,x--;i(t[y],p)<0;)y++;for(;i(t[x],p)>0;)x--}i(t[n],p)===0?ou(t,n,x):(x++,ou(t,x,r)),x<=e&&(n=x+1),e<=x&&(r=x-1)}}function ou(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w$(t,e){return t<e?-1:t>e?1:0}let ak=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!Zh(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const l=n.children[o],c=n.leaf?i(l):l;Zh(e,c)&&(n.leaf?r.push(l):Ey(e,c)?this._all(l,r):s.push(l))}n=s.pop()}return r}collides(e){let n=this.data;if(!Zh(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],o=n.leaf?this.toBBox(s):s;if(Zh(e,o)){if(n.leaf||Ey(e,o))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=bl([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],o=[];let l,c,d;for(;r||s.length;){if(r||(r=s.pop(),c=s[s.length-1],l=o.pop(),d=!0),r.leaf){const h=C$(e,r.children,n);if(h!==-1)return r.children.splice(h,1),s.push(r),this._condense(s),this}!d&&!r.leaf&&Ey(r,i)?(s.push(r),o.push(l),l=0,c=r,r=r.children[0]):c?(l++,r=c.children[l],d=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let o=this._maxEntries,l;if(s<=o)return l=bl(e.slice(n,r+1)),ml(l,this.toBBox),l;i||(i=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,i-1))),l=bl([]),l.leaf=!1,l.height=i;const c=Math.ceil(s/o),d=c*Math.ceil(Math.sqrt(o));gb(e,n,r,d,this.compareMinX);for(let h=n;h<=r;h+=d){const f=Math.min(h+d-1,r);gb(e,h,f,c,this.compareMinY);for(let p=h;p<=f;p+=c){const y=Math.min(p+c-1,f);l.children.push(this._build(e,p,y,i-1))}}return ml(l,this.toBBox),l}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,o=1/0,l;for(let c=0;c<n.children.length;c++){const d=n.children[c],h=by(d),f=E$(e,d)-h;f<o?(o=f,s=h<s?h:s,l=d):f===o&&h<s&&(s=h,l=d)}n=l||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],o=this._chooseSubtree(i,this.data,n,s);for(o.children.push(e),mu(o,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const o=this._chooseSplitIndex(r,s,i),l=bl(r.children.splice(o,r.children.length-o));l.height=r.height,l.leaf=r.leaf,ml(r,this.toBBox),ml(l,this.toBBox),n?e[n-1].children.push(l):this._splitRoot(r,l)}_splitRoot(e,n){this.data=bl([e,n]),this.data.height=e.height+1,this.data.leaf=!1,ml(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,o=1/0;for(let l=n;l<=r-n;l++){const c=fu(e,0,l,this.toBBox),d=fu(e,l,r,this.toBBox),h=R$(c,d),f=by(c)+by(d);h<s?(s=h,i=l,o=f<o?f:o):h===s&&f<o&&(o=f,i=l)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:S$,s=e.leaf?this.compareMinY:b$,o=this._allDistMargin(e,n,r,i),l=this._allDistMargin(e,n,r,s);o<l&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,o=fu(e,0,n,s),l=fu(e,r-n,r,s);let c=Yh(o)+Yh(l);for(let d=n;d<r-n;d++){const h=e.children[d];mu(o,e.leaf?s(h):h),c+=Yh(o)}for(let d=r-n-1;d>=n;d--){const h=e.children[d];mu(l,e.leaf?s(h):h),c+=Yh(l)}return c}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)mu(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():ml(e[n],this.toBBox)}};function C$(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function ml(t,e){fu(t,0,t.children.length,e,t)}function fu(t,e,n,r,i){i||(i=bl(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const o=t.children[s];mu(i,t.leaf?r(o):o)}return i}function mu(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function S$(t,e){return t.minX-e.minX}function b$(t,e){return t.minY-e.minY}function by(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Yh(t){return t.maxX-t.minX+(t.maxY-t.minY)}function E$(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function R$(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function Ey(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Zh(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function bl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gb(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const o=e+Math.ceil((n-e)/r/2)*r;_$(t,o,e,n,i),s.push(e,o,o,n)}}class T${constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(e,n,r){const i=pb(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const s=pb(e,n,r);this.cache_[s]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function pb(t,e,n){const r=n?ZP(n):"null";return e+":"+t+":"+r}const Kf=new T$;function lk(t,e,n){const r=t;let i=!0,s=!1,o=!1;const l=[zf(r,Qe.LOAD,function(){o=!0,s||e()})];return r.src&&Z3?(s=!0,r.decode().then(function(){i&&e()}).catch(function(c){i&&(o?e():n())})):l.push(zf(r,Qe.ERROR,n)),function(){i=!1,l.forEach(Bt)}}let au=null;class P$ extends Fm{constructor(e,n,r,i,s,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=s,this.size_=r,this.src_=n,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Mn.LOADED){au||(au=mr(1,1,void 0,{willReadFrequently:!0})),au.drawImage(this.image_,0,0);try{au.getImageData(0,0,1,1),this.tainted_=!1}catch{au=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Qe.CHANGE)}handleImageError_(){this.imageState_=Mn.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Mn.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=mr(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Mn.IDLE){this.image_||this.initializeImage_(),this.imageState_=Mn.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=lk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Mn.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=ZP(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function k$(t,e,n,r,i,s){let o=Kf.get(e,r,s);return o||(o=new P$(t,e,n,r,i,s),Kf.set(e,r,s,o)),o}let Ym=class ck extends Gm{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let l=e.src;ot(!(l!==void 0&&o),4),ot(!o||o&&this.imgSize_,5),(l===void 0||l.length===0)&&o&&(l=o.src||et(o)),ot(l!==void 0&&l.length>0,6),ot(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const c=e.src!==void 0?Mn.IDLE:Mn.LOADED;if(this.color_=e.color!==void 0?Gf(e.color):null,this.iconImage_=k$(o,l,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,c,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.width_=e.width,this.height_=e.height,this.width_!==void 0||this.height_!==void 0){const d=this.getImage(1),h=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};d.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):d.addEventListener("load",h)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(this.width_!==void 0||this.height_!==void 0)&&(e=void 0),new ck({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,n){const r=this.getImage(1);e!==void 0&&n!==void 0?super.setScale([e/r.width,n/r.height]):e!==void 0?super.setScale([e/r.width,e/r.width]):n!==void 0?super.setScale([n/r.height,n/r.height]):super.setScale([1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const n=this.getImage(1);if(n){const r=Array.isArray(e)?e[0]:e;r!==void 0&&(this.width_=r*n.width);const i=Array.isArray(e)?e[1]:e;i!==void 0&&(this.height_=i*n.height)}}listenImageChange(e){this.iconImage_.addEventListener(Qe.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Qe.CHANGE,e)}};function yb(t){return new on({fill:Xu(t,""),stroke:Ku(t,""),text:A$(t),image:M$(t)})}function Xu(t,e){const n=t[e+"fill-color"];if(n)return new kn({color:n})}function Ku(t,e){const n=t[e+"stroke-width"],r=t[e+"stroke-color"];if(!(!n&&!r))return new yn({width:n,color:r,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function A$(t){const e=t["text-value"];return e?new Xm({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],repeat:t["text-repeat"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:Xu(t,"text-"),backgroundFill:Xu(t,"text-background-"),stroke:Ku(t,"text-"),backgroundStroke:Ku(t,"text-background-")}):void 0}function M$(t){const e=t["icon-src"],n=t["icon-img"];if(e||n)return new Ym({src:e,img:n,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const r=t["shape-points"];if(r){const s="shape-";return new Hm({points:r,fill:Xu(t,s),stroke:Ku(t,s),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const i=t["circle-radius"];if(i){const s="circle-";return new Or({radius:i,fill:Xu(t,s),stroke:Ku(t,s),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const vb={RENDER_ORDER:"renderOrder"};class I$ extends Km{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(vb.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new ak(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(vb.RENDER_ORDER,e)}setStyle(e){let n;if(e===void 0)n=o$;else if(e===null)n=null;else if(typeof e=="function")n=e;else if(e instanceof on)n=e;else if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s){const o=e[s];o instanceof on?i[s]=o:i[s]=yb(o)}n=i}else n=yb(e);this.style_=n,this.styleFunction_=e===null?void 0:s$(this.style_),this.changed()}}const Ge={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},qh=[Ge.FILL],wo=[Ge.STROKE],ga=[Ge.BEGIN_PATH],xb=[Ge.CLOSE_PATH];class uk{drawCustom(e,n,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,n){}drawFeature(e,n){}drawGeometryCollection(e,n){}drawLineString(e,n){}drawMultiLineString(e,n){}drawMultiPoint(e,n){}drawMultiPolygon(e,n){}drawPoint(e,n){}drawPolygon(e,n){}drawText(e,n){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class xd extends uk{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let l=0,c=e.length;l<c;l+=n)i[0]=e[l],i[1]=e[l+1],jm(r,i)&&(s[o++]=i[0],s[o++]=i[1]);return o}appendFlatLineCoordinates(e,n,r,i,s,o){const l=this.coordinates;let c=l.length;const d=this.getBufferedMaxExtent();o&&(n+=i);let h=e[n],f=e[n+1];const p=this.tmpCoordinate_;let y=!0,x,w,C;for(x=n+i;x<r;x+=i)p[0]=e[x],p[1]=e[x+1],C=P0(d,p),C!==w?(y&&(l[c++]=h,l[c++]=f,y=!1),l[c++]=p[0],l[c++]=p[1]):C===Dn.INTERSECTING?(l[c++]=p[0],l[c++]=p[1],y=!1):y=!0,h=p[0],f=p[1],w=C;return(s&&y||x===n+i)&&(l[c++]=h,l[c++]=f),c}drawCustomCoordinates_(e,n,r,i,s){for(let o=0,l=r.length;o<l;++o){const c=r[o],d=this.appendFlatLineCoordinates(e,n,c,i,!1,!1);s.push(d),n=c}return n}drawCustom(e,n,r,i){this.beginGeometry(e,n);const s=e.getType(),o=e.getStride(),l=this.coordinates.length;let c,d,h,f,p;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];const y=e.getEndss();p=0;for(let x=0,w=y.length;x<w;++x){const C=[];p=this.drawCustomCoordinates_(c,p,y[x],o,C),f.push(C)}this.instructions.push([Ge.CUSTOM,l,f,e,r,F0]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,f,e,i||r,F0]);break;case"Polygon":case"MultiLineString":h=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,e.getEnds(),o,h),this.instructions.push([Ge.CUSTOM,l,h,e,r,Vu]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,h,e,i||r,Vu]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),d=this.appendFlatLineCoordinates(c,0,c.length,o,!1,!1),this.instructions.push([Ge.CUSTOM,l,d,e,r,_o]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r,_o]);break;case"MultiPoint":c=e.getFlatCoordinates(),d=this.appendFlatPointCoordinates(c,o),d>l&&(this.instructions.push([Ge.CUSTOM,l,d,e,r,_o]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r,_o]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),d=this.coordinates.length,this.instructions.push([Ge.CUSTOM,l,d,e,r]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r]);break}this.endGeometry(n)}beginGeometry(e,n){this.beginGeometryInstruction1_=[Ge.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ge.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,o=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==Ge.END_GEOMETRY?o=n:s==Ge.BEGIN_GEOMETRY&&(i[2]=n,z3(this.hitDetectionInstructions,o,n),o=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillStyle=Zi(i||As)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=Zi(i||Uu);const s=n.getLineCap();r.lineCap=s!==void 0?s:Wf;const o=n.getLineDash();r.lineDash=o?o.slice():$u;const l=n.getLineDashOffset();r.lineDashOffset=l||Bu;const c=n.getLineJoin();r.lineJoin=c!==void 0?c:Ul;const d=n.getWidth();r.lineWidth=d!==void 0?d:Hu;const h=n.getMiterLimit();r.miterLimit=h!==void 0?h:Gu,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[Ge.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(!0),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Ge.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,o=e.lineDashOffset,l=e.lineJoin,c=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!$s(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=l||e.currentLineWidth!=c||e.currentMiterLimit!=d)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=l,e.currentLineWidth=c,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[Ge.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=wP(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;pd(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class N$ extends xd{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([Ge.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([Ge.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class F$ extends xd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),l=[Ge.MOVE_TO_LINE_TO,s,o];return this.instructions.push(l),this.hitDetectionInstructions.push(l),r}drawLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,$u,Bu],ga);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(wo),this.endGeometry(n)}drawMultiLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],ga);const o=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinates_(l,d,o[h],c);this.hitDetectionInstructions.push(wo),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(wo),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(wo),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(ga)}}class _b extends xd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,o=s.fillStyle!==void 0,l=s.strokeStyle!==void 0,c=r.length;this.instructions.push(ga),this.hitDetectionInstructions.push(ga);for(let d=0;d<c;++d){const h=r[d],f=this.coordinates.length,p=this.appendFlatLineCoordinates(e,n,h,i,!0,!l),y=[Ge.MOVE_TO_LINE_TO,f,p];this.instructions.push(y),this.hitDetectionInstructions.push(y),l&&(this.instructions.push(xb),this.hitDetectionInstructions.push(xb)),n=h}return o&&(this.instructions.push(qh),this.hitDetectionInstructions.push(qh)),l&&(this.instructions.push(wo),this.hitDetectionInstructions.push(wo)),n}drawCircle(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,As]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const d=[Ge.CIRCLE,c];this.instructions.push(ga,d),this.hitDetectionInstructions.push(ga,d),r.fillStyle!==void 0&&(this.instructions.push(qh),this.hitDetectionInstructions.push(qh)),r.strokeStyle!==void 0&&(this.instructions.push(wo),this.hitDetectionInstructions.push(wo)),this.endGeometry(n)}drawPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,As]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,o,c),this.endGeometry(n)}drawMultiPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,As]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinatess_(l,d,o[h],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=sa(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function j$(t,e,n,r,i){const s=[];let o=n,l=0,c=e.slice(n,2);for(;l<t&&o+i<r;){const[d,h]=c.slice(-2),f=e[o+i],p=e[o+i+1],y=Math.sqrt((f-d)*(f-d)+(p-h)*(p-h));if(l+=y,l>=t){const x=(t-l+y)/y,w=Dr(d,f,x),C=Dr(h,p,x);c.push(w,C),s.push(c),c=[w,C],l==t&&(o+=i),l=0}else if(l<t)c.push(e[o+i],e[o+i+1]),o+=i;else{const x=y-l,w=Dr(d,f,x/y),C=Dr(h,p,x/y);c.push(w,C),s.push(c),c=[w,C],l=0,o+=i}}return l>0&&s.push(c),s}function L$(t,e,n,r,i){let s=n,o=n,l=0,c=0,d=n,h,f,p,y,x,w,C,b,R,T;for(f=n;f<r;f+=i){const P=e[f],k=e[f+1];x!==void 0&&(R=P-x,T=k-w,y=Math.sqrt(R*R+T*T),C!==void 0&&(c+=p,h=Math.acos((C*R+b*T)/(p*y)),h>t&&(c>l&&(l=c,s=d,o=f),c=0,d=f-i)),p=y,C=R,b=T),x=P,w=k}return c+=y,c>l?[d,f]:[s,o]}const Cu={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class D$ extends xd{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n){const r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!i)return;const o=this.coordinates;let l=o.length;const c=e.getType();let d=null,h=e.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!hr(this.getBufferedMaxExtent(),e.getExtent()))return;let f;if(d=e.getFlatCoordinates(),c=="LineString")f=[d.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const w=e.getEndss();f=[];for(let C=0,b=w.length;C<b;++C)f.push(w[C][0])}this.beginGeometry(e,n);const p=s.repeat,y=p?void 0:s.textAlign;let x=0;for(let w=0,C=f.length;w<C;++w){let b;p?b=j$(p*this.resolution,d,x,f[w],h):b=[d.slice(x,f[w])];for(let R=0,T=b.length;R<T;++R){const P=b[R];let k=0,M=P.length;if(y==null){const I=L$(s.maxAngle,P,0,P.length,2);k=I[0],M=I[1]}for(let I=k;I<M;I+=h)o.push(P[I],P[I+1]);const F=o.length;x=f[w],this.drawChars_(l,F),l=F}}this.endGeometry(n)}else{let f=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":d=e.getFlatCoordinates();break;case"LineString":d=e.getFlatMidpoint();break;case"Circle":d=e.getCenter();break;case"MultiLineString":d=e.getFlatMidpoints(),h=2;break;case"Polygon":d=e.getFlatInteriorPoint(),s.overflow||f.push(d[2]/this.resolution),h=3;break;case"MultiPolygon":const C=e.getFlatInteriorPoints();d=[];for(let b=0,R=C.length;b<R;b+=3)s.overflow||f.push(C[b+2]/this.resolution),d.push(C[b],C[b+1]);if(d.length===0)return;h=2;break}const p=this.appendFlatPointCoordinates(d,h);if(p===l)return;if(f&&(p-l)/2!==d.length/h){let C=l/2;f=f.filter((b,R)=>{const T=o[(C+R)*2]===d[R*h]&&o[(C+R)*2+1]===d[R*h+1];return T||--C,T})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);let y=s.padding;if(y!=ma&&(s.scale[0]<0||s.scale[1]<0)){let C=s.padding[0],b=s.padding[1],R=s.padding[2],T=s.padding[3];s.scale[0]<0&&(b=-b,T=-T),s.scale[1]<0&&(C=-C,R=-R),y=[C,b,R,T]}const x=this.pixelRatio;this.instructions.push([Ge.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,y==ma?ma:y.map(function(C){return C*x}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const w=1/x;this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,void 0,this.declutterImageWithText_,y,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||Wu,justify:n.justify,textBaseline:n.textBaseline||Hf,scale:n.scale});const o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,o=this.textKey_,l=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,d=Cu[i.textBaseline],h=this.textOffsetY_*c,f=this.text_,p=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Ge.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,c,h,s,p*c,f,o,1]),this.hitDetectionInstructions.push([Ge.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,1,h,s,p,f,o,1/c])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const o=e.getFill();o?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Zi(o.getColor()||As)):(i=null,this.textFillState_=i);const l=e.getStroke();if(!l)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const x=l.getLineDash(),w=l.getLineDashOffset(),C=l.getWidth(),b=l.getMiterLimit();s.lineCap=l.getLineCap()||Wf,s.lineDash=x?x.slice():$u,s.lineDashOffset=w===void 0?Bu:w,s.lineJoin=l.getLineJoin()||Ul,s.lineWidth=C===void 0?Hu:C,s.miterLimit=b===void 0?Gu:b,s.strokeStyle=Zi(l.getColor()||Uu)}r=this.textState_;const c=e.getFont()||ek;e$(c);const d=e.getScaleArray();r.overflow=e.getOverflow(),r.font=c,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Hf,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||ma,r.scale=d===void 0?[1,1]:d;const h=e.getOffsetX(),f=e.getOffsetY(),p=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=f===void 0?0:f,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:et(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+et(i.fillStyle):""}this.declutterImageWithText_=n}}const O$={Circle:_b,Default:xd,Image:N$,LineString:F$,Polygon:_b,Text:D$};class wb{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const o=O$[n];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}class V$ extends gd{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Je()}getData(e){return null}prepareFrame(e){return Je()}renderFrame(e,n){return Je()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,o)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===Mn.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Mn.LOADED&&n!=Mn.ERROR&&e.addEventListener(Qe.CHANGE,this.boundHandleImageChange_),n==Mn.IDLE&&(e.load(),n=e.getState()),n==Mn.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}class dk extends Li{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}const Cb=[];let El=null;function z$(){El=mr(1,1,void 0,{willReadFrequently:!0})}class hk extends V${constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Qi(),this.pixelTransform=Qi(),this.inversePixelTransform=Qi(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){El||z$(),El.clearRect(0,0,1,1);let i;try{El.drawImage(e,n,r,1,1,0,0,1,1),i=El.getImageData(0,0,1,1).data}catch{return El=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,o;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&$s(Gf(e.style.backgroundColor),Gf(r)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=i;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",o=mr();const c=o.canvas;s.appendChild(c),l=c.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=$a(r),s=Om(r),o=Dm(r),l=Lm(r);On(n.coordinateToPixelTransform,i),On(n.coordinateToPixelTransform,s),On(n.coordinateToPixelTransform,o),On(n.coordinateToPixelTransform,l);const c=this.inversePixelTransform;On(c,i),On(c,s),On(c,o),On(c,l),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new dk(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_(So.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(So.POSTRENDER,e,n)}getRenderTransform(e,n,r,i,s,o,l){const c=s/2,d=o/2,h=i/n,f=-h,p=-e[0]+l,y=-e[1];return Po(this.tempTransform,c,d,h,f,-r,p,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function $$(t,e,n,r,i,s,o,l,c,d,h,f){let p=t[e],y=t[e+1],x=0,w=0,C=0,b=0;function R(){x=p,w=y,e+=r,p=t[e],y=t[e+1],b+=C,C=Math.sqrt((p-x)*(p-x)+(y-w)*(y-w))}do R();while(e<n-r&&b+C<s);let T=C===0?0:(s-b)/C;const P=Dr(x,p,T),k=Dr(w,y,T),M=e-r,F=b,I=s+l*c(d,i,h);for(;e<n-r&&b+C<I;)R();T=C===0?0:(I-b)/C;const z=Dr(x,p,T),G=Dr(w,y,T);let V;if(f){const Y=[P,k,z,G];DP(Y,0,4,2,f,Y,Y),V=Y[0]>Y[2]}else V=P>z;const H=Math.PI,B=[],X=M+r===e;e=M,C=0,b=F,p=t[e],y=t[e+1];let Z;if(X){R(),Z=Math.atan2(y-w,p-x),V&&(Z+=Z>0?-H:H);const Y=(z+P)/2,D=(G+k)/2;return B[0]=[Y,D,(I-s)/2,Z,i],B}i=i.replace(/\n/g," ");for(let Y=0,D=i.length;Y<D;){R();let j=Math.atan2(y-w,p-x);if(V&&(j+=j>0?-H:H),Z!==void 0){let se=j-Z;if(se+=se>H?-2*H:se<-H?2*H:0,Math.abs(se)>o)return null}Z=j;const U=Y;let q=0;for(;Y<D;++Y){const se=V?D-Y-1:Y,ce=l*c(d,i[se],h);if(e+r<n&&b+C<s+q+ce/2)break;q+=ce}if(Y===U)continue;const N=V?i.substring(D-U,D-Y):i.substring(U,Y);T=C===0?0:(s+q/2-b)/C;const L=Dr(x,p,T),re=Dr(w,y,T);B.push([L,re,q/2,j,N]),s+=q}return B}const gl=Gr(),ao=[],vs=[],xs=[],lo=[];function Sb(t){return t[3].declutterBox}const B$=new RegExp("[-----]");function bb(t,e){return(e==="start"||e==="end")&&!B$.test(t)&&(e=e==="start"?"left":"right"),Cu[e]}function G$(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class U${constructor(e,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Qi(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const o=i?this.strokeStates[i]:null,l=r?this.fillStates[r]:null,c=this.textStates[n],d=this.pixelRatio,h=[c.scale[0]*d,c.scale[1]*d],f=Array.isArray(e),p=c.justify?Cu[c.justify]:bb(Array.isArray(e)?e[0]:e,c.textAlign||Wu),y=i&&o.lineWidth?o.lineWidth:0,x=f?e:e.split(`
`).reduce(G$,[]),{width:w,height:C,widths:b,heights:R,lineWidths:T}=n$(c,x),P=w+y,k=[],M=(P+2)*h[0],F=(C+y)*h[1],I={width:M<0?Math.floor(M):Math.ceil(M),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:k};(h[0]!=1||h[1]!=1)&&k.push("scale",h),i&&(k.push("strokeStyle",o.strokeStyle),k.push("lineWidth",y),k.push("lineCap",o.lineCap),k.push("lineJoin",o.lineJoin),k.push("miterLimit",o.miterLimit),k.push("setLineDash",[o.lineDash]),k.push("lineDashOffset",o.lineDashOffset)),r&&k.push("fillStyle",l.fillStyle),k.push("textBaseline","middle"),k.push("textAlign","center");const z=.5-p;let G=p*P+z*y;const V=[],H=[];let B=0,X=0,Z=0,Y=0,D;for(let j=0,U=x.length;j<U;j+=2){const q=x[j];if(q===`
`){X+=B,B=0,G=p*P+z*y,++Y;continue}const N=x[j+1]||c.font;N!==D&&(i&&V.push("font",N),r&&H.push("font",N),D=N),B=Math.max(B,R[Z]);const L=[q,G+z*b[Z]+p*(b[Z]-T[Y]),.5*(y+B)+X];G+=b[Z],i&&V.push("strokeText",L),r&&H.push("fillText",L),++Z}return Array.prototype.push.apply(k,V),Array.prototype.push.apply(k,H),this.labels_[s]=I,I}replayTextBackground_(e,n,r,i,s,o,l){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),o&&(this.alignFill_=o[2],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,o,l,c,d,h,f,p,y,x,w,C){l*=p[0],c*=p[1];let b=r-l,R=i-c;const T=s+d>e?e-d:s,P=o+h>n?n-h:o,k=x[3]+T*p[0]+x[1],M=x[0]+P*p[1]+x[2],F=b-x[3],I=R-x[0];(w||f!==0)&&(ao[0]=F,lo[0]=F,ao[1]=I,vs[1]=I,vs[0]=F+k,xs[0]=vs[0],xs[1]=I+M,lo[1]=xs[1]);let z;return f!==0?(z=Po(Qi(),r,i,1,1,f,-r,-i),On(z,ao),On(z,vs),On(z,xs),On(z,lo),Is(Math.min(ao[0],vs[0],xs[0],lo[0]),Math.min(ao[1],vs[1],xs[1],lo[1]),Math.max(ao[0],vs[0],xs[0],lo[0]),Math.max(ao[1],vs[1],xs[1],lo[1]),gl)):Is(Math.min(F,F+k),Math.min(I,I+M),Math.max(F,F+k),Math.max(I,I+M),gl),y&&(b=Math.round(b),R=Math.round(R)),{drawImageX:b,drawImageY:R,drawImageW:T,drawImageH:P,originX:d,originY:h,declutterBox:{minX:gl[0],minY:gl[1],maxX:gl[2],maxY:gl[3],value:C},canvasTransform:z,scale:p}}replayImageOrLabel_(e,n,r,i,s,o,l){const c=!!(o||l),d=i.declutterBox,h=e.canvas,f=l?l[2]*i.scale[0]/2:0;return d.minX-f<=h.width/n&&d.maxX+f>=0&&d.minY-f<=h.height/n&&d.maxY+f>=0&&(c&&this.replayTextBackground_(e,ao,vs,xs,lo,o,l),r$(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){if(this.alignFill_){const n=On(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],o=this.createLabel(e,n,i,r),l=this.strokeStates[r],c=this.pixelRatio,d=bb(Array.isArray(e)?e[0]:e,s.textAlign||Wu),h=Cu[s.textBaseline||Hf],f=l&&l.lineWidth?l.lineWidth:0,p=o.width/c-2*s.scale[0],y=d*p+2*(.5-d)*f,x=h*o.height/c+2*(.5-h)*f;return{label:o,anchorX:y,anchorY:x}}execute_(e,n,r,i,s,o,l,c){let d;this.pixelCoordinates_&&$s(r,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=Sa(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),J3(this.renderedTransform_,r));let h=0;const f=i.length;let p=0,y,x,w,C,b,R,T,P,k,M,F,I,z=0,G=0,V=null,H=null;const B=this.coordinateCache_,X=this.viewRotation_,Z=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,Y={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:X},D=this.instructions!=i||this.overlaps?0:200;let j,U,q,N;for(;h<f;){const L=i[h];switch(L[0]){case Ge.BEGIN_GEOMETRY:j=L[1],N=L[3],j.getGeometry()?l!==void 0&&!hr(l,N.getExtent())?h=L[2]+1:++h:h=L[2];break;case Ge.BEGIN_PATH:z>D&&(this.fill_(e),z=0),G>D&&(e.stroke(),G=0),!z&&!G&&(e.beginPath(),C=NaN,b=NaN),++h;break;case Ge.CIRCLE:p=L[1];const se=d[p],ce=d[p+1],ge=d[p+2],ae=d[p+3],pe=ge-se,_e=ae-ce,Re=Math.sqrt(pe*pe+_e*_e);e.moveTo(se+Re,ce),e.arc(se,ce,Re,0,2*Math.PI,!0),++h;break;case Ge.CLOSE_PATH:e.closePath(),++h;break;case Ge.CUSTOM:p=L[1],y=L[2];const $e=L[3],Be=L[4],yt=L.length==6?L[5]:void 0;Y.geometry=$e,Y.feature=j,h in B||(B[h]=[]);const mt=B[h];yt?yt(d,p,y,2,mt):(mt[0]=d[p],mt[1]=d[p+1],mt.length=2),Be(mt,Y),++h;break;case Ge.DRAW_IMAGE:p=L[1],y=L[2],P=L[3],x=L[4],w=L[5];let Gt=L[6];const Dt=L[7],ft=L[8],zn=L[9],_t=L[10];let $=L[11];const J=L[12];let te=L[13];const fe=L[14],he=L[15];if(!P&&L.length>=20){k=L[19],M=L[20],F=L[21],I=L[22];const dt=this.drawLabelWithPointPlacement_(k,M,F,I);P=dt.label,L[3]=P;const Ot=L[23];x=(dt.anchorX-Ot)*this.pixelRatio,L[4]=x;const kt=L[24];w=(dt.anchorY-kt)*this.pixelRatio,L[5]=w,Gt=P.height,L[6]=Gt,te=P.width,L[13]=te}let ie;L.length>25&&(ie=L[25]);let ye,De,ze;L.length>17?(ye=L[16],De=L[17],ze=L[18]):(ye=ma,De=!1,ze=!1),_t&&Z?$+=X:!_t&&!Z&&($-=X);let wt=0;for(;p<y;p+=2){if(ie&&ie[wt++]<te/this.pixelRatio)continue;const dt=this.calculateImageOrLabelDimensions_(P.width,P.height,d[p],d[p+1],te,Gt,x,w,ft,zn,$,J,s,ye,De||ze,j),Ot=[e,n,P,dt,Dt,De?V:null,ze?H:null];if(c){if(fe==="none")continue;if(fe==="obstacle"){c.insert(dt.declutterBox);continue}else{let kt,In;if(he){const gt=y-p;if(!he[gt]){he[gt]=Ot;continue}if(kt=he[gt],delete he[gt],In=Sb(kt),c.collides(In))continue}if(c.collides(dt.declutterBox))continue;kt&&(c.insert(In),this.replayImageOrLabel_.apply(this,kt)),c.insert(dt.declutterBox)}}this.replayImageOrLabel_.apply(this,Ot)}++h;break;case Ge.DRAW_CHARS:const jt=L[1],ht=L[2],$n=L[3],Oe=L[4];I=L[5];const we=L[6],Et=L[7],Rt=L[8];F=L[9];const ln=L[10];k=L[11],M=L[12];const Lt=[L[13],L[13]],Ut=this.textStates[M],Sn=Ut.font,lt=[Ut.scale[0]*Et,Ut.scale[1]*Et];let gn;Sn in this.widths_?gn=this.widths_[Sn]:(gn={},this.widths_[Sn]=gn);const ai=YP(d,jt,ht,2),be=Math.abs(lt[0])*ub(Sn,k,gn);if(Oe||be<=ai){const dt=this.textStates[M].textAlign,Ot=(ai-be)*Cu[dt],kt=$$(d,jt,ht,2,k,Ot,we,Math.abs(lt[0]),ub,Sn,gn,Z?0:this.viewRotation_);e:if(kt){const In=[];let gt,Jt,Ar,Ct,Vt;if(F)for(gt=0,Jt=kt.length;gt<Jt;++gt){Vt=kt[gt],Ar=Vt[4],Ct=this.createLabel(Ar,M,"",F),x=Vt[2]+(lt[0]<0?-ln:ln),w=$n*Ct.height+(.5-$n)*2*ln*lt[1]/lt[0]-Rt;const Nn=this.calculateImageOrLabelDimensions_(Ct.width,Ct.height,Vt[0],Vt[1],Ct.width,Ct.height,x,w,0,0,Vt[3],Lt,!1,ma,!1,j);if(c&&c.collides(Nn.declutterBox))break e;In.push([e,n,Ct,Nn,1,null,null])}if(I)for(gt=0,Jt=kt.length;gt<Jt;++gt){Vt=kt[gt],Ar=Vt[4],Ct=this.createLabel(Ar,M,I,""),x=Vt[2],w=$n*Ct.height-Rt;const Nn=this.calculateImageOrLabelDimensions_(Ct.width,Ct.height,Vt[0],Vt[1],Ct.width,Ct.height,x,w,0,0,Vt[3],Lt,!1,ma,!1,j);if(c&&c.collides(Nn.declutterBox))break e;In.push([e,n,Ct,Nn,1,null,null])}c&&c.load(In.map(Sb));for(let Nn=0,pr=In.length;Nn<pr;++Nn)this.replayImageOrLabel_.apply(this,In[Nn])}}++h;break;case Ge.END_GEOMETRY:if(o!==void 0){j=L[1];const dt=o(j,N);if(dt)return dt}++h;break;case Ge.FILL:D?z++:this.fill_(e),++h;break;case Ge.MOVE_TO_LINE_TO:for(p=L[1],y=L[2],U=d[p],q=d[p+1],R=U+.5|0,T=q+.5|0,(R!==C||T!==b)&&(e.moveTo(U,q),C=R,b=T),p+=2;p<y;p+=2)U=d[p],q=d[p+1],R=U+.5|0,T=q+.5|0,(p==y-2||R!==C||T!==b)&&(e.lineTo(U,q),C=R,b=T);++h;break;case Ge.SET_FILL_STYLE:V=L,this.alignFill_=L[2],z&&(this.fill_(e),z=0,G&&(e.stroke(),G=0)),e.fillStyle=L[1],++h;break;case Ge.SET_STROKE_STYLE:H=L,G&&(e.stroke(),G=0),this.setStrokeStyle_(e,L),++h;break;case Ge.STROKE:D?G++:e.stroke(),++h;break;default:++h;break}}z&&this.fill_(e),G&&e.stroke()}execute(e,n,r,i,s,o){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,1,n,this.hitDetectionInstructions,!0,i,s)}}const Ry=["Polygon","Circle","LineString","Image","Text","Default"];class Eb{constructor(e,n,r,i,s,o){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Qi(),this.createExecutors_(s)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e){for(const n in e){let r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);const i=e[n];for(const s in i){const o=i[s];r[s]=new U$(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,o){i=Math.round(i);const l=i*2+1,c=Po(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=mr(l,l,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):d||h.clearRect(0,0,l,l);let f;this.renderBuffer_!==void 0&&(f=Gr(),_u(f,e),pd(f,n*(this.renderBuffer_+i),f));const p=W$(i);let y;function x(k,M){const F=h.getImageData(0,0,l,l).data;for(let I=0,z=p.length;I<z;I++)if(F[p[I]]>0){if(!o||y!=="Image"&&y!=="Text"||o.includes(k)){const G=(p[I]-3)/4,V=i-G%l,H=i-(G/l|0),B=s(k,M,V*V+H*H);if(B)return B}h.clearRect(0,0,l,l);break}}const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Ta);let C,b,R,T,P;for(C=w.length-1;C>=0;--C){const k=w[C].toString();for(R=this.executorsByZIndex_[k],b=Ry.length-1;b>=0;--b)if(y=Ry[b],T=R[y],T!==void 0&&(P=T.executeHitDetection(h,c,r,x,f),P))return P}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],o=n[3],l=[r,i,r,o,s,o,s,i];return Sa(l,0,8,2,e,l),l}isEmpty(){return Gl(this.executorsByZIndex_)}execute(e,n,r,i,s,o,l){const c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(Ta),this.maxExtent_&&(e.save(),this.clip(e,r)),o=o||Ry;let d,h,f,p,y,x;for(l&&c.reverse(),d=0,h=c.length;d<h;++d){const w=c[d].toString();for(y=this.executorsByZIndex_[w],f=0,p=o.length;f<p;++f){const C=o[f];x=y[C],x!==void 0&&x.execute(e,n,r,i,s,l)}}this.maxExtent_&&e.restore()}}const Ty={};function W$(t){if(Ty[t]!==void 0)return Ty[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let o=0;o<=t;++o){const l=s*s+o*o;if(l>n)break;let c=r[l];c||(c=[],r[l]=c),c.push(((t+s)*e+(t+o))*4+3),s>0&&c.push(((t-s)*e+(t+o))*4+3),o>0&&(c.push(((t+s)*e+(t-o))*4+3),s>0&&c.push(((t-s)*e+(t-o))*4+3))}const i=[];for(let s=0,o=r.length;s<o;++s)r[s]&&i.push(...r[s]);return Ty[t]=i,i}class H$ extends uk{constructor(e,n,r,i,s,o,l){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?_x(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Qi()}drawImages_(e,n,r,i){if(!this.image_)return;const s=Sa(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,l=this.tmpLocalTransform_,c=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=c*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let h=0,f=s.length;h<f;h+=2){const p=s[h]-this.imageAnchorX_,y=s[h+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=p+this.imageAnchorX_,w=y+this.imageAnchorY_;Po(l,x,w,1,1,d,-x,-w),o.setTransform.apply(o,l),o.translate(x,w),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,y,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=c)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Sa(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_;let l=this.textRotation_;for(this.transformRotation_===0&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);n<r;n+=i){const c=s[n]+this.textOffsetX_,d=s[n+1]+this.textOffsetY_;l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.translate(c-this.textOffsetX_,d-this.textOffsetY_),o.rotate(l),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,c,d),this.textFillState_&&o.fillText(this.text_,c,d))}}moveToLineTo_(e,n,r,i,s){const o=this.context_,l=Sa(e,n,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(l[0],l[1]);let c=l.length;s&&(c-=2);for(let d=2;d<c;d+=2)o.lineTo(l[d],l[d+1]);return s&&o.closePath(),r}drawRings_(e,n,r,i){for(let s=0,o=r.length;s<o;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(hr(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=Rz(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),o=this.context_;o.beginPath(),o.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);!r||!hr(this.extent_,r.getExtent())||(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hr(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(hr(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const o=e.getEnds(),l=e.getStride();r.beginPath();for(let c=0,d=o.length;c<d;++c)s=this.moveToLineTo_(i,s,o[c],l,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),o=e.getStride();n.beginPath();for(let l=0,c=s.length;l<c;++l){const d=s[l];i=this.drawRings_(r,i,d,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),$s(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:Wu;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:Zi(r||As)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),o=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),d=n.getMiterLimit(),h=s||$u;this.strokeState_={lineCap:i!==void 0?i:Wf,lineDash:this.pixelRatio_===1?h:h.map(f=>f*this.pixelRatio_),lineDashOffset:(o||Bu)*this.pixelRatio_,lineJoin:l!==void 0?l:Ul,lineWidth:(c!==void 0?c:Hu)*this.pixelRatio_,miterLimit:d!==void 0?d:Gu,strokeStyle:Zi(r||Uu)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/r,o[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const y=n.getColor();this.textFillState_={fillStyle:Zi(y||As)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const y=r.getColor(),x=r.getLineCap(),w=r.getLineDash(),C=r.getLineDashOffset(),b=r.getLineJoin(),R=r.getWidth(),T=r.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:Wf,lineDash:w||$u,lineDashOffset:C||Bu,lineJoin:b!==void 0?b:Ul,lineWidth:R!==void 0?R:Hu,miterLimit:T!==void 0?T:Gu,strokeStyle:Zi(y||Uu)}}const i=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),l=e.getRotateWithView(),c=e.getRotation(),d=e.getScaleArray(),h=e.getText(),f=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:i!==void 0?i:ek,textAlign:f!==void 0?f:Wu,textBaseline:p!==void 0?p:Hf},this.text_=h!==void 0?Array.isArray(h)?h.reduce((y,x,w)=>y+=w%2?" ":x,""):h:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=l!==void 0?l:!1,this.textRotation_=c!==void 0?c:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}}const Ki=.5;function X$(t,e,n,r,i,s,o){const l=t[0]*Ki,c=t[1]*Ki,d=mr(l,c);d.imageSmoothingEnabled=!1;const h=d.canvas,f=new H$(d,Ki,i,null,o),p=n.length,y=Math.floor((256*256*256-1)/p),x={};for(let C=1;C<=p;++C){const b=n[C-1],R=b.getStyleFunction()||r;if(!r)continue;let T=R(b,s);if(!T)continue;Array.isArray(T)||(T=[T]);const k=(C*y).toString(16).padStart(7,"#00000");for(let M=0,F=T.length;M<F;++M){const I=T[M],z=I.getGeometryFunction()(b);if(!z||!hr(i,z.getExtent()))continue;const G=I.clone(),V=G.getFill();V&&V.setColor(k);const H=G.getStroke();H&&(H.setColor(k),H.setLineDash(null)),G.setText(void 0);const B=I.getImage();if(B&&B.getOpacity()!==0){const D=B.getImageSize();if(!D)continue;const j=mr(D[0],D[1],void 0,{alpha:!1}),U=j.canvas;j.fillStyle=k,j.fillRect(0,0,U.width,U.height),G.setImage(new Ym({img:U,imgSize:D,anchor:B.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:B.getOrigin(),opacity:1,size:B.getSize(),scale:B.getScale(),rotation:B.getRotation(),rotateWithView:B.getRotateWithView()}))}const X=G.getZIndex()||0;let Z=x[X];Z||(Z={},x[X]=Z,Z.Polygon=[],Z.Circle=[],Z.LineString=[],Z.Point=[]);const Y=z.getType();if(Y==="GeometryCollection"){const D=z.getGeometriesArrayRecursive();for(let j=0,U=D.length;j<U;++j){const q=D[j];Z[q.getType().replace("Multi","")].push(q,G)}}else Z[Y.replace("Multi","")].push(z,G)}}const w=Object.keys(x).map(Number).sort(Ta);for(let C=0,b=w.length;C<b;++C){const R=x[w[C]];for(const T in R){const P=R[T];for(let k=0,M=P.length;k<M;k+=2){f.setStyle(P[k+1]);for(let F=0,I=e.length;F<I;++F)f.setTransform(e[F]),f.drawGeometry(P[k])}}}return d.getImageData(0,0,h.width,h.height)}function K$(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*Ki),s=Math.floor(Math.round(t[1])*Ki),o=(wn(i,0,n.width-1)+wn(s,0,n.height-1)*n.width)*4,l=n.data[o],c=n.data[o+1],h=n.data[o+2]+256*(c+256*l),f=Math.floor((256*256*256-1)/e.length);h&&h%f===0&&r.push(e[h/f-1])}return r}const Y$=.5,fk={Point:iB,LineString:tB,Polygon:oB,MultiPoint:sB,MultiLineString:nB,MultiPolygon:rB,GeometryCollection:eB,Circle:J$};function Z$(t,e){return parseInt(et(t),10)-parseInt(et(e),10)}function q$(t,e){const n=V0(t,e);return n*n}function V0(t,e){return Y$*t/e}function J$(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const c=t.getBuilder(n.getZIndex(),"Circle");c.setFillStrokeStyle(s,o),c.drawCircle(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}function Rb(t,e,n,r,i,s,o){let l=!1;const c=n.getImage();if(c){const d=c.getImageState();d==Mn.LOADED||d==Mn.ERROR?c.unlistenImageChange(i):(d==Mn.IDLE&&c.load(),c.listenImageChange(i),l=!0)}return Q$(t,e,n,r,s,o),l}function Q$(t,e,n,r,i,s){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(r,i);if(n.getRenderer())mk(t,l,n,e);else{const d=fk[l.getType()];d(t,l,n,e,s)}}function mk(t,e,n,r){if(e.getType()=="GeometryCollection"){const s=e.getGeometries();for(let o=0,l=s.length;o<l;++o)mk(t,s[o],n,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer())}function eB(t,e,n,r,i){const s=e.getGeometriesArray();let o,l;for(o=0,l=s.length;o<l;++o){const c=fk[s[o].getType()];c(t,s[o],n,r,i)}}function tB(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function nB(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawMultiLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function rB(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(o||s){const c=t.getBuilder(n.getZIndex(),"Polygon");c.setFillStrokeStyle(s,o),c.drawMultiPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}function iB(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=Mn.LOADED)return;let c=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(c=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawPoint(e,r)}else o&&o.getText()&&(l={})}const d=c.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawPoint(e,r)}if(o&&o.getText()){let c=t;i&&(c=i);const d=c.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function sB(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=Mn.LOADED)return;let c=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(c=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawMultiPoint(e,r)}else o&&o.getText()&&(l={})}const d=c.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawMultiPoint(e,r)}if(o&&o.getText()){let c=t;i&&(c=i);const d=c.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function oB(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const c=t.getBuilder(n.getZIndex(),"Polygon");c.setFillStrokeStyle(s,o),c.drawPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}class aB extends hk{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Gr(),this.wrappedRenderedExtent_=Gr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,o=s.center,l=s.resolution,c=s.projection,d=s.rotation,h=c.getExtent(),f=this.getLayer().getSource(),p=n.pixelRatio,y=n.viewHints,x=!(y[nr.ANIMATING]||y[nr.INTERACTING]),w=this.compositionContext_,C=Math.round(n.size[0]*p),b=Math.round(n.size[1]*p),R=f.getWrapX()&&c.canWrapX(),T=R?Yt(h):null,P=R?Math.ceil((i[2]-h[2])/T)+1:1;let k=R?Math.floor((i[0]-h[0])/T):0;do{const M=this.getRenderTransform(o,l,d,p,C,b,k*T);e.execute(w,1,M,d,x,void 0,r)}while(++k<P)}setupCompositionContext_(){if(this.opacity_!==1){const e=mr(this.context.canvas.width,this.context.canvas.height,Cb);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,Um(this.compositionContext_),Cb.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,n){const r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];Q3(this.pixelTransform,1/r,1/r),px(this.inversePixelTransform,this.pixelTransform);const s=_P(this.pixelTransform);this.useContainer(n,s,this.getBackground(e));const o=this.context,l=o.canvas,c=this.replayGroup_,d=this.declutterExecutorGroup;if((!c||c.isEmpty())&&(!d||d.isEmpty()))return null;const h=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);l.width!=h||l.height!=f?(l.width=h,l.height=f,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||o.clearRect(0,0,h,f),this.preRender(o,e);const p=e.viewState;p.projection,this.opacity_=i.opacity,this.setupCompositionContext_();let y=!1,x=!0;if(i.extent&&this.clipping){const w=xo(i.extent);x=hr(w,e.extent),y=x&&!ha(w,e.extent),y&&this.clipUnrotated(this.compositionContext_,e,w)}return x&&this.renderWorlds(c,e),y&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];On(this.pixelTransform,r);const i=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,l=this.renderedProjection_,c=this.wrappedRenderedExtent_,d=this.getLayer(),h=[],f=r[0]*Ki,p=r[1]*Ki;h.push(this.getRenderTransform(i,s,o,Ki,f,p,0).slice());const y=d.getSource(),x=l.getExtent();if(y.getWrapX()&&l.canWrapX()&&!ha(x,c)){let w=c[0];const C=Yt(x);let b=0,R;for(;w<x[0];)--b,R=C*b,h.push(this.getRenderTransform(i,s,o,Ki,f,p,R).slice()),w+=C;for(b=0,w=c[2];w>x[2];)++b,R=C*b,h.push(this.getRenderTransform(i,s,o,Ki,f,p,R).slice()),w-=C}this.hitDetectionImageData_=X$(r,h,this.renderedFeatures_,d.getStyleFunction(),c,s,o)}n(K$(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){if(!this.replayGroup_)return;const o=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),d={},h=function(y,x,w){const C=et(y),b=d[C];if(b){if(b!==!0&&w<b.distanceSq){if(w===0)return d[C]=!0,s.splice(s.lastIndexOf(b),1),i(y,c,x);b.geometry=x,b.distanceSq=w}}else{if(w===0)return d[C]=!0,i(y,c,x);s.push(d[C]={feature:y,layer:c,geometry:x,distanceSq:w,callback:i})}};let f;const p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(y=>f=y.forEachFeatureAtCoordinate(e,o,l,r,h,y===this.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(x=>x.value):null)),f}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[nr.ANIMATING],s=e.viewHints[nr.INTERACTING],o=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(this.ready&&!o&&i||!l&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const c=e.extent,d=e.viewState,h=d.projection,f=d.resolution,p=e.pixelRatio,y=n.getRevision(),x=n.getRenderBuffer();let w=n.getRenderOrder();w===void 0&&(w=Z$);const C=d.center.slice(),b=pd(c,x*f),R=b.slice(),T=[b.slice()],P=h.getExtent();if(r.getWrapX()&&h.canWrapX()&&!ha(P,e.extent)){const Z=Yt(P),Y=Math.max(Yt(b)/2,Z);b[0]=P[0]-Y,b[2]=P[2]+Y,MP(C,h);const D=RP(T[0],h);D[0]<P[0]&&D[2]<P[2]?T.push([D[0]+Z,D[1],D[2]+Z,D[3]]):D[0]>P[0]&&D[2]>P[2]&&T.push([D[0]-Z,D[1],D[2]-Z,D[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==y&&this.renderedRenderOrder_==w&&ha(this.wrappedRenderedExtent_,b))return $s(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const k=new wb(V0(f,p),b,f,p);let M;this.getLayer().getDeclutter()&&(M=new wb(V0(f,p),b,f,p));let F;for(let Z=0,Y=T.length;Z<Y;++Z)r.loadFeatures(T[Z],f,h);const I=q$(f,p);let z=!0;const G=Z=>{let Y;const D=Z.getStyleFunction()||n.getStyleFunction();if(D&&(Y=D(Z,f)),Y){const j=this.renderFeature(Z,I,Y,k,F,M);z=z&&!j}},V=Rx(b),H=r.getFeaturesInExtent(V);w&&H.sort(w);for(let Z=0,Y=H.length;Z<Y;++Z)G(H[Z]);this.renderedFeatures_=H,this.ready=z;const B=k.finish(),X=new Eb(b,f,p,r.getOverlaps(),B,n.getRenderBuffer());return M&&(this.declutterExecutorGroup=new Eb(b,f,p,r.getOverlaps(),M.finish(),n.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=y,this.renderedRenderOrder_=w,this.renderedExtent_=R,this.wrappedRenderedExtent_=b,this.renderedCenter_=C,this.renderedProjection_=h,this.replayGroup_=X,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,o){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let c=0,d=r.length;c<d;++c)l=Rb(i,e,r[c],n,this.boundHandleStyleImageChange_,s,o)||l;else l=Rb(i,e,r,n,this.boundHandleStyleImageChange_,s,o);return l}}class os extends I${constructor(e){super(e)}createRenderer(){return new aB(this)}}class z0{constructor(e){this.rbush_=new ak(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[et(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const o=e[i],l=n[i],c={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};r[i]=c,this.items_[et(l)]=c}this.rbush_.load(r)}remove(e){const n=et(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[et(n)],i=[r.minX,r.minY,r.maxX,r.maxY];Lu(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return Gl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Is(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class gk extends Di{constructor(e){super(),this.projection=Cn(e.projection),this.attributions_=Tb(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Tb(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Tb(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const jr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function lB(t,e){return[[-1/0,-1/0,1/0,1/0]]}let cB=!1;function uB(t,e,n,r,i,s,o){const l=new XMLHttpRequest;l.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(l.responseType="arraybuffer"),l.withCredentials=cB,l.onload=function(c){if(!l.status||l.status>=200&&l.status<300){const d=e.getType();let h;d=="json"||d=="text"?h=l.responseText:d=="xml"?(h=l.responseXML,h||(h=new DOMParser().parseFromString(l.responseText,"application/xml"))):d=="arraybuffer"&&(h=l.response),h?s(e.readFeatures(h,{extent:n,featureProjection:i}),e.readProjection(h)):o()}else o()},l.onerror=o,l.send()}function Pb(t,e){return function(n,r,i,s,o){const l=this;uB(t,e,n,r,i,function(c,d){l.addFeatures(c),s!==void 0&&s(c)},o||Bl)}}class co extends Li{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class Ns extends gk{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Bl,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(ot(this.format_,7),this.loader_=Pb(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:lB;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new z0:null,this.loadedExtentsRtree_=new z0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new $r(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=et(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new co(jr.ADDFEATURE,e))}setupChangeEvents_(e,n){this.featureChangeKeys_[e]=[pt(n,Qe.CHANGE,this.handleFeatureChange_,this),pt(n,$l.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,n){let r=!0;const i=n.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=n),r&&(ot(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,o=e.length;s<o;s++){const l=e[s],c=et(l);this.addToIndex_(c,l)&&r.push(l)}for(let s=0,o=r.length;s<o;s++){const l=r[s],c=et(l);this.setupChangeEvents_(c,l);const d=l.getGeometry();if(d){const h=d.getExtent();n.push(h),i.push(l)}else this.nullGeometryFeatures_[c]=l}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(jr.ADDFEATURE))for(let s=0,o=r.length;s<o;s++)this.dispatchEvent(new co(jr.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(jr.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(jr.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(_n.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(_n.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(Bt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new co(jr.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){if(i.getGeometry().intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Gl(this.nullGeometryFeatures_)||Ri(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=sz(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const o=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0];return n=n||Pa,this.featuresRtree_.forEachInExtent(c,function(d){if(n(d)){const h=d.getGeometry(),f=l;if(l=h.closestPointXY(r,i,o,l),l<f){s=d;const p=Math.sqrt(l);c[0]=r-p,c[1]=i-p,c[2]=r+p,c[3]=i+p}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=et(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const o=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const s=n.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new co(jr.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:et(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Gl(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let o=0,l=s.length;o<l;++o){const c=s[o];i.forEachInExtent(c,function(h){return ha(h.extent,c)})||(++this.loadingExtentsCount_,this.dispatchEvent(new co(jr.FEATURESLOADSTART)),this.loader_.call(this,c,n,r,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new co(jr.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new co(jr.FEATURESLOADERROR))}),i.insert(c,{extent:c.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if(Lu(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeature(e){if(!e)return;const n=et(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=et(e),r=this.featureChangeKeys_[n];if(!r)return;r.forEach(Bt),delete this.featureChangeKeys_[n];const i=e.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new co(jr.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}return n}setLoader(e){this.loader_=e}setUrl(e){ot(this.format_,7),this.url_=e,this.setLoader(Pb(e,this.format_))}}const He={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class pk extends Fm{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Qe.CHANGE)}release(){this.state===He.ERROR&&this.setState(He.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==He.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(e.getState()==He.LOADED){e.interimTile=null;break}else e.getState()==He.LOADING?n=e:e.getState()==He.IDLE?n.interimTile=e.interimTile:n=e;e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==He.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Je()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:sk(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class yk extends pk{constructor(e,n,r,i,s,o){super(e,n,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=He.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=He.ERROR,this.unlistenImage_(),this.image_=dB(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=He.LOADED:this.state=He.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==He.ERROR&&(this.state=He.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==He.IDLE&&(this.state=He.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=lk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function dB(){const t=mr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class hB{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],o=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class fB extends fx{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Je()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Po(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),px(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,o,l,c){let d;const h=n.viewState;function f(P,k,M,F){return s.call(o,k,P?M:null,F)}const p=h.projection,y=MP(e.slice(),p),x=[[0,0]];if(p.canWrapX()&&i){const P=p.getExtent(),k=Yt(P);x.push([-k,0],[k,0])}const w=n.layerStatesArray,C=w.length,b=[],R=[];for(let P=0;P<x.length;P++)for(let k=C-1;k>=0;--k){const M=w[k],F=M.layer;if(F.hasRenderer()&&Vx(M,h)&&l.call(c,F)){const I=F.getRenderer(),z=F.getSource();if(I&&z){const G=z.getWrapX()?y:e,V=f.bind(null,M.managed);R[0]=G[0]+x[P][0],R[1]=G[1]+x[P][1],d=I.forEachFeatureAtCoordinate(R,n,r,V,b)}if(d)return d}}if(b.length===0)return;const T=1/b.length;return b.forEach((P,k)=>P.distanceSq+=k*T),b.sort((P,k)=>P.distanceSq-k.distanceSq),b.some(P=>d=P.callback(P.feature,P.layer,P.geometry)),d}hasFeatureAtCoordinate(e,n,r,i,s,o){return this.forEachFeatureAtCoordinate(e,n,r,i,Pa,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Je()}scheduleExpireIconCache(e){Kf.canExpireCache()&&e.postRenderFunctions.push(mB)}}function mB(t,e){Kf.expire()}class gB extends fB{constructor(e){super(e),this.fontChangeListenerKey_=pt(bs,$l.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Wm+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new dk(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){Bt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(So.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let s=null;for(let o=0,l=n.length;o<l;++o){const c=n[o];e.layerIndex=o;const d=c.layer,h=d.getSourceState();if(!Vx(c,r)||h!="ready"&&h!="undefined"){d.unrender();continue}const f=d.render(e,s);f&&(f!==s&&(this.children_.push(f),s=f),"getDeclutter"in d&&i.push(d))}for(let o=i.length-1;o>=0;--o)i[o].renderDeclutter(e);qz(this.element_,this.children_),this.dispatchRenderEvent(So.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}class po extends Li{constructor(e,n){super(e),this.layer=n}}const Py={LAYERS:"layers"};class cc extends ik{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Py.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new $r(r.slice(),{unique:!0}):ot(typeof r.getArray=="function",43):r=new $r(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Bt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(pt(e,_n.ADD,this.handleLayersAdd_,this),pt(e,_n.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(Bt);lc(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new po("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[pt(e,$l.PROPERTYCHANGE,this.handleLayerChange_,this),pt(e,Qe.CHANGE,this.handleLayerChange_,this)];e instanceof cc&&n.push(pt(e,"addlayer",this.handleLayerGroupAdd_,this),pt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[et(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new po("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new po("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new po("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=et(n);this.listenerKeys_[r].forEach(Bt),delete this.listenerKeys_[r],this.dispatchEvent(new po("removelayer",n)),this.changed()}getLayers(){return this.get(Py.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new po("removelayer",r[i]))}this.set(Py.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let o=r,l=n.length;o<l;o++){const c=n[o];c.opacity*=i.opacity,c.visible=c.visible&&i.visible,c.maxResolution=Math.min(c.maxResolution,i.maxResolution),c.minResolution=Math.max(c.minResolution,i.minResolution),c.minZoom=Math.max(c.minZoom,i.minZoom),c.maxZoom=Math.min(c.maxZoom,i.maxZoom),i.extent!==void 0&&(c.extent!==void 0?c.extent=wu(c.extent,i.extent):c.extent=i.extent),c.zIndex===void 0&&(c.zIndex=s)}return n}getSourceState(){return"ready"}}class Rl extends Li{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class fo extends Rl{constructor(e,n,r,i,s,o){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Ft={SINGLECLICK:"singleclick",CLICK:Qe.CLICK,DBLCLICK:Qe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},$0={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class pB extends Fm{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=pt(r,$0.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=pt(r,$0.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Qe.TOUCHMOVE,this.boundHandleTouchMove_,xP?{passive:!1}:!1)}emulateClick_(e){let n=new fo(Ft.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new fo(Ft.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new fo(Ft.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==Ft.POINTERUP||n.type==Ft.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==Ft.POINTERDOWN||n.type==Ft.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new fo(Ft.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Bt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new fo(Ft.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(pt(r,Ft.POINTERMOVE,this.handlePointerMove_,this),pt(r,Ft.POINTERUP,this.handlePointerUp_,this),pt(this.element_,Ft.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(pt(this.element_.getRootNode(),Ft.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new fo(Ft.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new fo(Ft.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Bt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Qe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Bt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Bt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Es={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},tr={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Yf=1/0;class yB{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,lc(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){ot(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=Yf?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],o=r[e],l=e;for(;e<i>>1;){const c=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<i&&r[d]<r[c]?d:c;n[e]=n[h],r[e]=r[h],e=h}n[e]=s,r[e]=o,this.siftDown_(l,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],o=i[n];for(;n>e;){const l=this.getParentIndex_(n);if(i[l]>o)r[n]=r[l],i[n]=i[l],n=l;else break}r[n]=s,i[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let o,l,c;for(l=0;l<s;++l)o=n[l],c=e(o),c==Yf?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=c,n[i++]=o);n.length=i,r.length=i,this.heapify_()}}class vB extends yB{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Qe.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===He.LOADED||r===He.ERROR||r===He.EMPTY){r!==He.ERROR&&n.removeEventListener(Qe.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,o;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),i=s.getState(),i===He.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,s.load())}}function xB(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Yf;const s=t.viewState.center,o=r[0]-s[0],l=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(o*o+l*l)/i}class zx extends Di{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Uf(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Uf(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)Bt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Bl&&this.listenerKeys.push(pt(e,Es.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class _B extends zx{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const l=e.label!==void 0?e.label:"i";typeof l=="string"?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=i):this.label_=l;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener(Qe.CLICK,this.handleClick_.bind(this),!1);const d=n+" "+Wm+" "+Fx+(this.collapsed_&&this.collapsible_?" "+lb:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=d,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!$s(n,this.renderedAttributions_)){JP(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const o=document.createElement("li");o.innerHTML=n[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(lb),this.collapsed_?ab(this.collapseLabel_,this.label_):ab(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class wB extends zx{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(Qe.CLICK,this.handleClick_.bind(this),!1);const l=n+" "+Wm+" "+Fx,c=this.element;c.className=l,c.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Xh)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:kr}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(Xh);!s&&r===0?this.element.classList.add(Xh):s&&r!==0&&this.element.classList.remove(Xh)}this.label_.style.transform=i}this.rotation_=r}}class CB extends zx{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",l=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",c=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(Qe.CLICK,this.handleClick_.bind(this,r),!1);const f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=d,f.appendChild(typeof l=="string"?document.createTextNode(l):l),f.addEventListener(Qe.CLICK,this.handleClick_.bind(this,-r),!1);const p=n+" "+Wm+" "+Fx,y=this.element;y.className=p,y.appendChild(h),y.appendChild(f),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:kr})):r.setZoom(s)}}}function SB(t){t=t||{};const e=new $r;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new CB(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new wB(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new _B(t.attributionOptions)),e}const kb={ACTIVE:"active"};class uc extends Di{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(kb.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(kb.ACTIVE,e)}setMap(e){this.map_=e}}function bB(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:g$,center:t.getConstrainedCenter(i)})}}function $x(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:r!==void 0?r:250,easing:kr})}class EB extends uc{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Ft.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_,l=i.getView();$x(l,o,s,this.duration_),r.preventDefault(),n=!0}return!n}}class dc extends uc{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ft.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ft.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==Ft.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==Ft.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Bx(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function B0(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const RB=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},TB=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},PB=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},vk=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?PB(t):!0},xk=Pa,kB=function(t){return t.type==Ft.CLICK},_k=function(t){const e=t.originalEvent;return e.button==0&&!(K3&&Y3&&e.ctrlKey)},Ab=md,wk=function(t){return t.type==Ft.SINGLECLICK},Ck=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Sk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},bk=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Rf=function(t){const e=t.originalEvent;return ot(e!==void 0,56),e.pointerType=="mouse"},Ek=function(t){const e=t.originalEvent;return ot(e!==void 0,56),e.isPrimary&&e.button===0};class AB extends dc{constructor(e){super({stopDown:md}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:B0(Ck,Ek);this.condition_=e.onFocusOnly?B0(vk,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(Bx(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],l=e.map.getView();AP(s,l.getResolution()),wx(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),l=n.getPixelFromCoordinateInternal(o),c=n.getCoordinateFromPixelInternal([l[0]-i*Math.cos(s),l[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(c),duration:500,easing:kr})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Rk extends dc{constructor(e){e=e||{},super({stopDown:md}),this.condition_=e.condition?e.condition:TB,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Rf(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===Ox)return;const i=n.getSize(),s=e.pixel,o=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=o}handleUpEvent(e){return Rf(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Rf(e)&&_k(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class MB extends fx{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new rr([i])}getGeometry(){return this.geometry_}}const Jh={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class ky extends Li{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class IB extends dc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new MB(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:_k,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ky(Jh.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new ky(n?Jh.BOXEND:Jh.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ky(Jh.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class NB extends IB{constructor(e){e=e||{};const n=e.condition?e.condition:Sk;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),o=r.getResolutionForExtentInternal(s),l=r.getResolution()/o;i=i.clone(),i.scale(l*l)}r.fitInternal(i,{duration:this.duration_,easing:kr})}}const ta={LEFT:37,UP:38,RIGHT:39,DOWN:40};class FB extends uc{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return Ck(n)&&bk(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Qe.KEYDOWN){const r=e.originalEvent,i=r.keyCode;if(this.condition_(e)&&(i==ta.DOWN||i==ta.LEFT||i==ta.RIGHT||i==ta.UP)){const o=e.map.getView(),l=o.getResolution()*this.pixelDelta_;let c=0,d=0;i==ta.DOWN?d=-l:i==ta.LEFT?c=-l:i==ta.RIGHT?c=l:d=l;const h=[c,d];wx(h,o.getRotation()),bB(o,h,this.duration_),r.preventDefault(),n=!0}}return!n}}class jB extends uc{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:bk,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Qe.KEYDOWN||e.type==Qe.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,o=i==="+"?this.delta_:-this.delta_,l=s.getView();$x(l,o,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class LB extends uc{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:xk;this.condition_=e.onFocusOnly?B0(vk,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Qe.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==Qe.WHEEL&&(s=i.deltaY,H3&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=vP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const l=r.getView();if(this.mode_==="trackpad"&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const c=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),c),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-wn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),$x(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class DB extends dc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=md),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=s;const o=e.map,l=o.getView();l.getConstraints().rotation!==Ox&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Bx(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class OB extends dc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=md),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,o=r.clientY-i.clientY,l=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/l),this.lastDistance_=l;const c=e.map,d=c.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Bx(this.targetPointers))),c.render(),d.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Tk(t){t=t||{};const e=new $r,n=new hB(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new Rk),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new EB({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new AB({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new DB),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new OB({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new FB),e.push(new jB({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new LB({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new NB({duration:t.zoomDuration})),e}function Pk(t){if(t instanceof Km){t.setMapInternal(null);return}t instanceof cc&&t.getLayers().forEach(Pk)}function kk(t,e){if(t instanceof Km){t.setMapInternal(e);return}if(t instanceof cc){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)kk(n[r],e)}}let VB=class extends Di{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=zB(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:vP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Qi(),this.pixelToCoordinateTransform_=Qi(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||SB(),this.interactions=n.interactions||Tk({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new vB(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(tr.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(tr.VIEW,this.handleViewChanged_),this.addChangeListener(tr.SIZE,this.handleSizeChanged_),this.addChangeListener(tr.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof Xi)&&e.view.then(function(i){r.setView(new Xi(i))}),this.controls.addEventListener(_n.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(_n.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(_n.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(_n.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(_n.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(_n.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){kk(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,o=r.layerFilter!==void 0?r.layerFilter:Pa,l=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,l,n,null,o,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof cc?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:Pa,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,o,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],o=r.height/i[1],l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-r.left)/s,(l.clientY-r.top)/o]}getTarget(){return this.get(tr.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Ou(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?On(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(tr.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof $r){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=An(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?On(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(tr.SIZE)}getView(){return this.get(tr.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return xB(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new fo(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===$0.POINTERDOWN||r===Qe.WHEEL||r===Qe.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===i?i.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const o=e.viewHints;if(o[nr.ANIMATING]||o[nr.INTERACTING]){const l=Date.now()-e.time>8;i=l?0:8,s=l?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(So.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(So.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Rl(Es.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Rl(Es.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)Bt(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Qe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Qe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Uf(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new gB(this)),this.mapBrowserEventHandler_=new pB(this,this.moveTolerance_);for(const s in Ft)this.mapBrowserEventHandler_.addEventListener(Ft[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Qe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Qe.WHEEL,this.boundHandleBrowserEvent_,xP?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[pt(r,Qe.KEYDOWN,this.handleBrowserEvent,this),pt(r,Qe.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Bt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Bt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=pt(e,$l.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=pt(e,Qe.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Bt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new po("addlayer",e)),this.layerGroupPropertyListenerKeys_=[pt(e,$l.PROPERTYCHANGE,this.render,this),pt(e,Qe.CHANGE,this.render,this),pt(e,"addlayer",this.handleLayerAdd_,this),pt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Pk(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&sb(n)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:A0(l.center,l.resolution,l.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:et(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=A0(l.nextCenter,l.nextResolution,c,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!vx(this.previousExtent_)&&!Lu(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Rl(Es.MOVESTART,this,i)),this.previousExtent_=yd(this.previousExtent_)),this.previousExtent_&&!s.viewHints[nr.ANIMATING]&&!s.viewHints[nr.INTERACTING]&&!Lu(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Rl(Es.MOVEEND,this,s)),wP(s.extent,this.previousExtent_))),this.dispatchEvent(new Rl(Es.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Es.LOADSTART)||this.hasListener(Es.LOADEND)||this.hasListener(So.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new po("removelayer",n)),this.set(tr.LAYERGROUP,e)}setSize(e){this.set(tr.SIZE,e)}setTarget(e){this.set(tr.TARGET,e)}setView(e){if(!e||e instanceof Xi){this.set(tr.VIEW,e);return}this.set(tr.VIEW,new Xi);const n=this;e.then(function(r){n.setView(new Xi(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[s,o],!sb(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&NP("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!$s(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}};function zB(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new cc({layers:t.layers});n[tr.LAYERGROUP]=r,n[tr.TARGET]=t.target,n[tr.VIEW]=t.view instanceof Xi?t.view:new Xi;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new $r(t.controls.slice()):(ot(typeof t.controls.getArray=="function",47),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new $r(t.interactions.slice()):(ot(typeof t.interactions.getArray=="function",48),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new $r(t.overlays.slice()):(ot(typeof t.overlays.getArray=="function",49),o=t.overlays):o=new $r,{controls:i,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}const Qn={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};let Zf=class extends Di{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Jz,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Qn.ELEMENT,this.handleElementChanged),this.addChangeListener(Qn.MAP,this.handleMapChanged),this.addChangeListener(Qn.OFFSET,this.handleOffsetChanged),this.addChangeListener(Qn.POSITION,this.handlePositionChanged),this.addChangeListener(Qn.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Qn.ELEMENT)}getId(){return this.id}getMap(){return this.get(Qn.MAP)||null}getOffset(){return this.get(Qn.OFFSET)}getPosition(){return this.get(Qn.POSITION)}getPositioning(){return this.get(Qn.POSITIONING)}handleElementChanged(){JP(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Uf(this.element),Bt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=pt(e,Es.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Qn.ELEMENT,e)}setMap(e){this.set(Qn.MAP,e)}setOffset(e){this.set(Qn.OFFSET,e)}setPosition(e){this.set(Qn.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Qn.POSITION))return;const r=this.getRect(n.getTargetElement(),n.getSize()),i=this.getElement(),s=this.getRect(i,[Yz(i),Zz(i)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!ha(r,s)){const l=s[0]-r[0],c=r[2]-s[2],d=s[1]-r[1],h=r[3]-s[3],f=[0,0];if(l<0?f[0]=l-o:c<0&&(f[0]=Math.abs(c)+o),d<0?f[1]=d-o:h<0&&(f[1]=Math.abs(h)+o),f[0]!==0||f[1]!==0){const p=n.getView().getCenterInternal(),y=n.getPixelFromCoordinateInternal(p);if(!y)return;const x=[y[0]+f[0],y[1]+f[1]],w=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(x),duration:w.duration,easing:w.easing})}}}getRect(e,n){const r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[i,s,i+n[0],s+n[1]]}setPositioning(e){this.set(Qn.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const r=e.getPixelFromCoordinate(n),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,n){const r=this.element.style,i=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const o=Math.round(e[0]+i[0])+"px",l=Math.round(e[1]+i[1])+"px";let c="0%",d="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?c="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(c="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?d="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(d="-50%");const h=`translate(${c}, ${d}) translate(${o}, ${l})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,r.transform=h)}getOptions(){return this.options}};class $B{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return ot(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return ot(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){ot(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}function Mb(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Zm(t,e,n){return t+"/"+e+"/"+n}function Ak(t){return Zm(t[0],t[1],t[2])}function BB(t){return t.split("/").map(Number)}function GB(t){return(t[1]<<t[0])+t[2]}function UB(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}class Mk extends $B{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=BB(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(Ak(i.tileCoord)),i.release())})}}class Gx{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function pl(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new Gx(t,e,n,r)}class qf extends OP{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Bt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,n=this.geometries_.length;e<n;++e)this.changeEventsKeys_.push(pt(this.geometries_[e],Qe.CHANGE,this.changed,this))}clone(){const e=new qf(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<za(this.getExtent(),e,n))return i;const s=this.geometries_;for(let o=0,l=s.length;o<l;++o)i=s[o].closestPointXY(e,n,r,i);return i}containsXY(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){yd(e);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)SP(e,n[r].getExtent());return e}getGeometries(){return Ib(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let s=0,o=r.length;s<o;++s){const l=r[s],c=l.getSimplifiedGeometry(e);n.push(c),c!==l&&(i=!0)}if(i){const s=new qf(null);return s.setGeometriesArray(n),s}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=ko(this.getExtent()));const i=this.geometries_;for(let s=0,o=i.length;s<o;++s)i[s].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(Ib(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Ib(t){const e=[];for(let n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}class Jf extends Ba{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{let i=this.getLayout();const s=e,o=[],l=[];for(let c=0,d=s.length;c<d;++c){const h=s[c];c===0&&(i=h.getLayout()),Ri(o,h.getFlatCoordinates()),l.push(o.length)}this.setFlatCoordinates(i,o),this.ends_=l}}appendLineString(e){this.flatCoordinates?Ri(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Jf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<za(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Px(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ax(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,Bz(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return Vu(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new ka(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o],d=new ka(e.slice(s,c),r);i.push(d),s=c}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let o=0,l=i.length;o<l;++o){const c=i[o],d=KP(n,r,c,s,.5);Ri(e,d),r=c}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=Mz(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new Jf(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return Oz(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Mx(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class qm extends Ba{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){this.flatCoordinates?Ri(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new qm(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<za(this.getExtent(),e,n))return i;const s=this.flatCoordinates,o=this.stride;for(let l=0,c=s.length;l<c;l+=o){const d=_a(e,n,s[l],s[l+1]);if(d<i){i=d;for(let h=0;h<o;++h)r[h]=s[l+h];r.length=o}}return i}getCoordinates(){return _o(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||n<=e?null:new Pr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,o=e.length;s<o;s+=r){const l=new Pr(e.slice(s,s+r),n);i.push(l)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const o=n[i],l=n[i+1];if(yx(e,o,l))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$m(this.flatCoordinates,0,e,this.stride),this.changed()}}function WB(t,e,n,r){const i=[];let s=Gr();for(let o=0,l=n.length;o<l;++o){const c=n[o];s=CP(t,e,c[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=c[c.length-1]}return i}class Qf extends Ba{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=this.getLayout();const s=e,o=[],l=[];for(let c=0,d=s.length;c<d;++c){const h=s[c];c===0&&(i=h.getLayout());const f=o.length,p=h.getEnds();for(let y=0,x=p.length;y<x;++y)p[y]+=f;Ri(o,h.getFlatCoordinates()),l.push(p)}n=i,e=o,r=l}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;Ri(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new Qf(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<za(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Tz(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Pz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Lz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return Fz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),rb(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,F0(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=WB(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Dz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new qm(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;$z(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=rb(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=Nz(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new Qf(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,o=r.length;s<o;++s)r[s]-=n;return new rr(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const c=r[o].slice(),d=c[c.length-1];if(s!==0)for(let f=0,p=c.length;f<p;++f)c[f]-=s;const h=new rr(n.slice(s,d),e,c);i.push(h),s=d}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return Vz(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=Az(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}const Nb=0,Su=1,Fb=[0,0,0,0],Dl=[],Ay={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class My extends Li{constructor(e,n,r){super(e),this.features=n,this.mapBrowserEvent=r}}class HB extends dc{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:Ek,this.defaultDeleteCondition_=function(r){return RB(r)&&wk(r)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:xk,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new z0,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new os({source:new Ns({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:KB(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let n;if(e.features?n=e.features:e.source&&(this.source_=e.source,n=new $r(this.source_.getFeatures()),this.source_.addEventListener(jr.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(jr.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!n)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(_n.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(_n.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const n=e.getGeometry();if(n){const i=this.SEGMENT_WRITERS_[n.getType()];i&&i(e,n)}const r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),e.addEventListener(Qe.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,n){if(!this.featuresBeingModified_){this.featuresBeingModified_=new $r;const r=this.featuresBeingModified_.getArray();for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0,c=o.length;l<c;++l){const d=o[l].feature;d&&!r.includes(d)&&this.featuresBeingModified_.push(d)}}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new My(Ay.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(Qe.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const n=this.rBush_,r=[];n.forEach(function(i){e===i.feature&&r.push(i)});for(let i=r.length-1;i>=0;--i){const s=r[i];for(let o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===s&&this.dragSegments_.splice(o,1);n.remove(s)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const n=e.target;this.removeFeature_(n),this.addFeature_(n)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,n){const r=n.getCoordinates(),i={feature:e,geometry:n,segment:[r,r]};this.rBush_.insert(n.getExtent(),i)}writeMultiPointGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i],l={feature:e,geometry:n,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(n.getExtent(),l)}}writeLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length-1;i<s;++i){const o=r.slice(i,i+2),l={feature:e,geometry:n,index:i,segment:o};this.rBush_.insert(yi(o),l)}}writeMultiLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length-1;l<c;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(yi(d),h)}}}writePolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length-1;l<c;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(yi(d),h)}}}writeMultiPolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length;l<c;++l){const d=o[l];for(let h=0,f=d.length-1;h<f;++h){const p=d.slice(h,h+2),y={feature:e,geometry:n,depth:[l,i],index:h,segment:p};this.rBush_.insert(yi(p),y)}}}}writeCircleGeometry_(e,n){const r=n.getCenter(),i={feature:e,geometry:n,index:Nb,segment:[r,r]},s={feature:e,geometry:n,index:Su,segment:[r,r]},o=[i,s];i.featureSegments=o,s.featureSegments=o,this.rBush_.insert(xu(r),i);let l=n;this.rBush_.insert(l.getExtent(),s)}writeGeometryCollectionGeometry_(e,n){const r=n.getGeometriesArray();for(let i=0;i<r.length;++i){const s=r[i],o=this.SEGMENT_WRITERS_[s.getType()];o(e,s)}}createOrUpdateVertexFeature_(e,n,r){let i=this.vertexFeature_;return i?i.getGeometry().setCoordinates(e):(i=new sr(new Pr(e)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i)),i.set("features",n),i.set("geometries",r),i}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let n;return!e.map.getView().getInteracting()&&e.type==Ft.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=Ft.SINGLECLICK||!this.ignoreNextSingleClick_?n=this.removePoint():n=!0),e.type==Ft.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!n}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const n=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],r=[],i=[];for(let s=0,o=this.dragSegments_.length;s<o;++s){const l=this.dragSegments_[s],c=l[0],d=c.feature;r.includes(d)||r.push(d);const h=c.geometry;i.includes(h)||i.push(h);const f=c.depth;let p;const y=c.segment,x=l[1];for(;n.length<h.getStride();)n.push(y[x][n.length]);switch(h.getType()){case"Point":p=n,y[0]=n,y[1]=n;break;case"MultiPoint":p=h.getCoordinates(),p[c.index]=n,y[0]=n,y[1]=n;break;case"LineString":p=h.getCoordinates(),p[c.index+x]=n,y[x]=n;break;case"MultiLineString":p=h.getCoordinates(),p[f[0]][c.index+x]=n,y[x]=n;break;case"Polygon":p=h.getCoordinates(),p[f[0]][c.index+x]=n,y[x]=n;break;case"MultiPolygon":p=h.getCoordinates(),p[f[1]][f[0]][c.index+x]=n,y[x]=n;break;case"Circle":if(y[0]=n,y[1]=n,c.index===Nb)this.changingFeature_=!0,h.setCenter(n),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let w=ZS(An(h.getCenter()),An(n));h.setRadius(w),this.changingFeature_=!1}break}p&&this.setGeometryCoordinates_(h,p)}this.createOrUpdateVertexFeature_(n,r,i)}handleDownEvent(e){if(!this.condition_(e))return!1;const n=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,n),this.dragSegments_.length=0,this.featuresBeingModified_=null;const r=this.vertexFeature_;if(r){e.map.getView().getProjection();const i=[],s=r.getGeometry().getCoordinates(),o=yi([s]),l=this.rBush_.getInExtent(o),c={};l.sort(XB);for(let d=0,h=l.length;d<h;++d){const f=l[d],p=f.segment;let y=et(f.geometry);const x=f.depth;if(x&&(y+="-"+x.join("-")),c[y]||(c[y]=new Array(2)),f.geometry.getType()==="Circle"&&f.index===Su){const w=Lb(n,f);_i(w,s)&&!c[y][0]&&(this.dragSegments_.push([f,0]),c[y][0]=f);continue}if(_i(p[0],s)&&!c[y][0]){this.dragSegments_.push([f,0]),c[y][0]=f;continue}if(_i(p[1],s)&&!c[y][1]){if(c[y][0]&&c[y][0].index===0){let w=f.geometry.getCoordinates();switch(f.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":w=w[x[1]];case"Polygon":if(f.index!==w[x[0]].length-2)continue;break}}this.dragSegments_.push([f,1]),c[y][1]=f;continue}et(p)in this.vertexSegments_&&!c[y][0]&&!c[y][1]&&this.insertVertexCondition_(e)&&i.push(f)}i.length&&this.willModifyFeatures_(e,[i]);for(let d=i.length-1;d>=0;--d)this.insertVertex_(i[d],s)}return!!this.vertexFeature_}handleUpEvent(e){for(let n=this.dragSegments_.length-1;n>=0;--n){const r=this.dragSegments_[n][0],i=r.geometry;if(i.getType()==="Circle"){const s=i.getCenter(),o=r.featureSegments[0],l=r.featureSegments[1];o.segment[0]=s,o.segment[1]=s,l.segment[0]=s,l.segment[1]=s,this.rBush_.update(xu(s),o);let c=i;this.rBush_.update(c.getExtent(),l)}else this.rBush_.update(yi(r.segment),r)}return this.featuresBeingModified_&&(this.dispatchEvent(new My(Ay.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,n,r){const i=r||n.getCoordinateFromPixel(e);n.getView().getProjection();const s=function(c,d){return jb(i,c)-jb(i,d)};let o,l;if(this.hitDetection_){const c=typeof this.hitDetection_=="object"?d=>d===this.hitDetection_:void 0;n.forEachFeatureAtPixel(e,(d,h,f)=>{const p=f||d.getGeometry();if(p.getType()==="Point"&&d instanceof sr&&this.features_.getArray().includes(d)){l=p;const y=l.getFlatCoordinates().slice(0,2);o=[{feature:d,geometry:l,segment:[y,y]}]}return!0},{layerFilter:c})}if(!o){const c=xo(xu(i,Fb)),d=n.getView().getResolution()*this.pixelTolerance_,h=Rx(pd(c,d,Fb));o=this.rBush_.getInExtent(h)}if(o&&o.length>0){const c=o.sort(s)[0],d=c.segment;let h=Lb(i,c);const f=n.getPixelFromCoordinate(h);let p=ZS(e,f);if(l||p<=this.pixelTolerance_){const y={};if(y[et(d)]=!0,this.snapToPointer_||(this.delta_[0]=h[0]-i[0],this.delta_[1]=h[1]-i[1]),c.geometry.getType()==="Circle"&&c.index===Su)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);else{const x=n.getPixelFromCoordinate(d[0]),w=n.getPixelFromCoordinate(d[1]),C=Du(f,x),b=Du(f,w);p=Math.sqrt(Math.min(C,b)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(h=C>b?d[1]:d[0]),this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);const R={};R[et(c.geometry)]=!0;for(let T=1,P=o.length;T<P;++T){const k=o[T].segment;if(_i(d[0],k[0])&&_i(d[1],k[1])||_i(d[0],k[1])&&_i(d[1],k[0])){const M=et(o[T].geometry);M in R||(R[M]=!0,y[et(k)]=!0)}else break}}this.vertexSegments_=y;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,n){const r=e.segment,i=e.feature,s=e.geometry,o=e.depth,l=e.index;let c;for(;n.length<s.getStride();)n.push(0);switch(s.getType()){case"MultiLineString":c=s.getCoordinates(),c[o[0]].splice(l+1,0,n);break;case"Polygon":c=s.getCoordinates(),c[o[0]].splice(l+1,0,n);break;case"MultiPolygon":c=s.getCoordinates(),c[o[1]][o[0]].splice(l+1,0,n);break;case"LineString":c=s.getCoordinates(),c.splice(l+1,0,n);break;default:return}this.setGeometryCoordinates_(s,c);const d=this.rBush_;d.remove(e),this.updateSegmentIndices_(s,l,o,1);const h={segment:[r[0],n],feature:i,geometry:s,depth:o,index:l};d.insert(yi(h.segment),h),this.dragSegments_.push([h,1]);const f={segment:[n,r[1]],feature:i,geometry:s,depth:o,index:l+1};d.insert(yi(f.segment),f),this.dragSegments_.push([f,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Ft.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const n=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new My(Ay.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,n}return!1}removeVertex_(){const e=this.dragSegments_,n={};let r=!1,i,s,o,l,c,d,h,f,p,y,x;for(c=e.length-1;c>=0;--c)o=e[c],y=o[0],x=et(y.feature),y.depth&&(x+="-"+y.depth.join("-")),x in n||(n[x]={}),o[1]===0?(n[x].right=y,n[x].index=y.index):o[1]==1&&(n[x].left=y,n[x].index=y.index+1);for(x in n){switch(p=n[x].right,h=n[x].left,d=n[x].index,f=d-1,h!==void 0?y=h:y=p,f<0&&(f=0),l=y.geometry,s=l.getCoordinates(),i=s,r=!1,l.getType()){case"MultiLineString":s[y.depth[0]].length>2&&(s[y.depth[0]].splice(d,1),r=!0);break;case"LineString":s.length>2&&(s.splice(d,1),r=!0);break;case"MultiPolygon":i=i[y.depth[1]];case"Polygon":i=i[y.depth[0]],i.length>4&&(d==i.length-1&&(d=0),i.splice(d,1),r=!0,d===0&&(i.pop(),i.push(i[0]),f=i.length-1));break}if(r){this.setGeometryCoordinates_(l,s);const w=[];if(h!==void 0&&(this.rBush_.remove(h),w.push(h.segment[0])),p!==void 0&&(this.rBush_.remove(p),w.push(p.segment[1])),h!==void 0&&p!==void 0){const C={depth:y.depth,feature:y.feature,geometry:y.geometry,index:f,segment:w};this.rBush_.insert(yi(C.segment),C)}this.updateSegmentIndices_(l,d,y.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return r}setGeometryCoordinates_(e,n){this.changingFeature_=!0,e.setCoordinates(n),this.changingFeature_=!1}updateSegmentIndices_(e,n,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(s){s.geometry===e&&(r===void 0||s.depth===void 0||$s(s.depth,r))&&s.index>n&&(s.index+=i)})}}function XB(t,e){return t.index-e.index}function jb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"){let s=r;if(e.index===Su){const o=Du(s.getCenter(),An(t)),l=Math.sqrt(o)-s.getRadius();return l*l}}const i=An(t);return Dl[0]=An(e.segment[0]),Dl[1]=An(e.segment[1]),yz(i,Dl)}function Lb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"&&e.index===Su)return Ou(r.getClosestPoint(An(t)));const i=An(t);return Dl[0]=An(e.segment[0]),Dl[1]=An(e.segment[1]),Ou(kP(i,Dl))}function KB(){const t=rk();return function(e,n){return t.Point}}const YB={SELECT:"select"};class ZB extends Li{constructor(e,n,r,i){super(e),this.selected=n,this.deselected=r,this.mapBrowserEvent=i}}const Qh={};let qB=class Ik extends uc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:wk,this.addCondition_=e.addCondition?e.addCondition:Ab,this.removeCondition_=e.removeCondition?e.removeCondition:Ab,this.toggleCondition_=e.toggleCondition?e.toggleCondition:Sk,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:Pa,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:JB(),this.features_=e.features||new $r;let n;if(e.layers)if(typeof e.layers=="function")n=e.layers;else{const r=e.layers;n=function(i){return r.includes(i)}}else n=Pa;this.layerFilter_=n,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,n){this.featureLayerAssociation_[et(e)]=n}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[et(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(_n.ADD,this.boundAddFeature_),this.features_.addEventListener(_n.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(_n.ADD,this.boundAddFeature_),this.features_.removeEventListener(_n.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const n=e.element;if(this.style_&&this.applySelectedStyle_(n),!this.getLayer(n)){const r=this.getMap().getAllLayers().find(function(i){if(i instanceof os&&i.getSource()&&i.getSource().hasFeature(n))return i});r&&this.addFeatureLayerAssociation_(n,r)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const n=et(e);n in Qh||(Qh[n]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const n=this.getMap().getInteractions().getArray();for(let i=n.length-1;i>=0;--i){const s=n[i];if(s!==this&&s instanceof Ik&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const r=et(e);e.setStyle(Qh[r]),delete Qh[r]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[et(e)]}handleEvent(e){if(!this.condition_(e))return!0;const n=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),s=!n&&!r&&!i,o=e.map,l=this.getFeatures(),c=[],d=[];if(s){lc(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof sr)||!this.filter_(h,f)))return this.addFeatureLayerAssociation_(h,f),d.push(h),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=l.getLength()-1;h>=0;--h){const f=l.item(h),p=d.indexOf(f);p>-1?d.splice(p,1):(l.remove(f),c.push(f))}d.length!==0&&l.extend(d)}else{o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof sr)||!this.filter_(h,f)))return(n||i)&&!l.getArray().includes(h)?(this.addFeatureLayerAssociation_(h,f),d.push(h)):(r||i)&&l.getArray().includes(h)&&(c.push(h),this.removeFeatureLayerAssociation_(h)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=c.length-1;h>=0;--h)l.remove(c[h]);l.extend(d)}return(d.length>0||c.length>0)&&this.dispatchEvent(new ZB(YB.SELECT,d,c,e)),!0}};function JB(){const t=rk();return Ri(t.Polygon,t.LineString),Ri(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}const ef={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class QB extends Km{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(ef.PRELOAD)}setPreload(e){this.set(ef.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ef.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ef.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const eG=.5,tG=10,Db=.25;class nG{constructor(e,n,r,i,s,o){this.sourceProj_=e,this.targetProj_=n;let l={};const c=Bf(this.targetProj_,this.sourceProj_);this.transformInv_=function(R){const T=R[0]+"/"+R[1];return l[T]||(l[T]=c(R)),l[T]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Yt(i)==Yt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Yt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Yt(this.targetProj_.getExtent()):null;const d=$a(r),h=Om(r),f=Dm(r),p=Lm(r),y=this.transformInv_(d),x=this.transformInv_(h),w=this.transformInv_(f),C=this.transformInv_(p),b=tG+(o?Math.max(0,Math.ceil(Math.log2(k0(r)/(o*o*256*256)))):0);if(this.addQuad_(d,h,f,p,y,x,w,C,b),this.wrapsXInSource_){let R=1/0;this.triangles_.forEach(function(T,P,k){R=Math.min(R,T.source[0][0],T.source[1][0],T.source[2][0])}),this.triangles_.forEach(T=>{if(Math.max(T.source[0][0],T.source[1][0],T.source[2][0])-R>this.sourceWorldWidth_/2){const P=[[T.source[0][0],T.source[0][1]],[T.source[1][0],T.source[1][1]],[T.source[2][0],T.source[2][1]]];P[0][0]-R>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-R>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-R>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);const k=Math.min(P[0][0],P[1][0],P[2][0]);Math.max(P[0][0],P[1][0],P[2][0])-k<this.sourceWorldWidth_/2&&(T.source=P)}})}l={}}addTriangle_(e,n,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[e,n,r]})}addQuad_(e,n,r,i,s,o,l,c,d){const h=yi([s,o,l,c]),f=this.sourceWorldWidth_?Yt(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&f>.5&&f<1;let x=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=yi([e,n,r,i]);x=Yt(C)/this.targetWorldWidth_>Db||x}!y&&this.sourceProj_.isGlobal()&&f&&(x=f>Db||x)}if(!x&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!hr(h,this.maxSourceExtent_))return;let w=0;if(!x&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1]))){if(d>0)x=!0;else if(w=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(d>0){if(!x){const C=[(e[0]+r[0])/2,(e[1]+r[1])/2],b=this.transformInv_(C);let R;y?R=(Ca(s[0],p)+Ca(l[0],p))/2-Ca(b[0],p):R=(s[0]+l[0])/2-b[0];const T=(s[1]+l[1])/2-b[1];x=R*R+T*T>this.errorThresholdSquared_}if(x){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const C=[(n[0]+r[0])/2,(n[1]+r[1])/2],b=this.transformInv_(C),R=[(i[0]+e[0])/2,(i[1]+e[1])/2],T=this.transformInv_(R);this.addQuad_(e,n,C,R,s,o,b,T,d-1),this.addQuad_(R,C,r,i,T,b,l,c,d-1)}else{const C=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(C),R=[(r[0]+i[0])/2,(r[1]+i[1])/2],T=this.transformInv_(R);this.addQuad_(e,C,R,i,s,b,T,c,d-1),this.addQuad_(C,n,r,R,b,o,l,T,d-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(e,r,i,s,l,c),(w&14)==0&&this.addTriangle_(e,r,n,s,l,o),w&&((w&13)==0&&this.addTriangle_(n,i,e,o,c,s),(w&7)==0&&this.addTriangle_(n,i,r,o,c,l))}calculateSourceExtent(){const e=Gr();return this.triangles_.forEach(function(n,r,i){const s=n.source;_u(e,s[0]),_u(e,s[1]),_u(e,s[2])}),e}getTriangles(){return this.triangles_}}let Iy;const Ol=[];function Ob(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Ny(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function rG(){if(Iy===void 0){const t=mr(6,6,Ol);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Ob(t,4,5,4,0),Ob(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Iy=Ny(e,0)||Ny(e,4)||Ny(e,8),Um(t),Ol.push(t.canvas)}return Iy}function Vb(t,e,n,r){const i=Ex(n,e,t);let s=JS(e,r,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const l=t.getMetersPerUnit();l!==void 0&&(s/=l);const c=t.getExtent();if(!c||jm(c,i)){const d=JS(t,s,i)/s;isFinite(d)&&d>0&&(s/=d)}return s}function iG(t,e,n,r){const i=ko(n);let s=Vb(t,e,i,r);return(!isFinite(s)||s<=0)&&EP(n,function(o){return s=Vb(t,e,o,r),isFinite(s)&&s>0}),s}function sG(t,e,n,r,i,s,o,l,c,d,h,f){const p=mr(Math.round(n*t),Math.round(n*e),Ol);if(f||(p.imageSmoothingEnabled=!1),c.length===0)return p.canvas;p.scale(n,n);function y(P){return Math.round(P*n)/n}p.globalCompositeOperation="lighter";const x=Gr();c.forEach(function(P,k,M){SP(x,P.extent)});const w=Yt(x),C=ss(x),b=mr(Math.round(n*w/r),Math.round(n*C/r),Ol);f||(b.imageSmoothingEnabled=!1);const R=n/r;c.forEach(function(P,k,M){const F=P.extent[0]-x[0],I=-(P.extent[3]-x[3]),z=Yt(P.extent),G=ss(P.extent);P.image.width>0&&P.image.height>0&&b.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,F*R,I*R,z*R,G*R)});const T=$a(o);return l.getTriangles().forEach(function(P,k,M){const F=P.source,I=P.target;let z=F[0][0],G=F[0][1],V=F[1][0],H=F[1][1],B=F[2][0],X=F[2][1];const Z=y((I[0][0]-T[0])/s),Y=y(-(I[0][1]-T[1])/s),D=y((I[1][0]-T[0])/s),j=y(-(I[1][1]-T[1])/s),U=y((I[2][0]-T[0])/s),q=y(-(I[2][1]-T[1])/s),N=z,L=G;z=0,G=0,V-=N,H-=L,B-=N,X-=L;const re=[[V,H,0,0,D-Z],[B,X,0,0,U-Z],[0,0,V,H,j-Y],[0,0,B,X,q-Y]],se=pz(re);if(se){if(p.save(),p.beginPath(),rG()||!f){p.moveTo(D,j);const ce=4,ge=Z-D,ae=Y-j;for(let pe=0;pe<ce;pe++)p.lineTo(D+y((pe+1)*ge/ce),j+y(pe*ae/(ce-1))),pe!=ce-1&&p.lineTo(D+y((pe+1)*ge/ce),j+y((pe+1)*ae/(ce-1)));p.lineTo(U,q)}else p.moveTo(D,j),p.lineTo(Z,Y),p.lineTo(U,q);p.clip(),p.transform(se[0],se[2],se[1],se[3],Z,Y),p.translate(x[0]-N,x[3]-L),p.scale(r/n,-r/n),p.drawImage(b.canvas,0,0),p.restore()}}),Um(b),Ol.push(b.canvas),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,l.getTriangles().forEach(function(P,k,M){const F=P.target,I=(F[0][0]-T[0])/s,z=-(F[0][1]-T[1])/s,G=(F[1][0]-T[0])/s,V=-(F[1][1]-T[1])/s,H=(F[2][0]-T[0])/s,B=-(F[2][1]-T[1])/s;p.beginPath(),p.moveTo(G,V),p.lineTo(I,z),p.lineTo(H,B),p.closePath(),p.stroke()}),p.restore()),p.canvas}class G0 extends pk{constructor(e,n,r,i,s,o,l,c,d,h,f,p){super(s,He.IDLE,{interpolate:!!p}),this.renderEdges_=f!==void 0?f:!1,this.pixelRatio_=l,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const y=i.getTileCoordExtent(this.wrappedTileCoord_),x=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const C=x?wu(y,x):y;if(k0(C)===0){this.state=He.EMPTY;return}const b=e.getExtent();b&&(w?w=wu(w,b):w=b);const R=i.getResolution(this.wrappedTileCoord_[0]),T=iG(e,r,C,R);if(!isFinite(T)||T<=0){this.state=He.EMPTY;return}const P=h!==void 0?h:eG;if(this.triangulation_=new nG(e,r,C,w,T*P,R),this.triangulation_.getTriangles().length===0){this.state=He.EMPTY;return}this.sourceZ_=n.getZForResolution(T);let k=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(k[1]=wn(k[1],w[1],w[3]),k[3]=wn(k[3],w[1],w[3])):k=wu(k,w)),!k0(k))this.state=He.EMPTY;else{const M=n.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let F=M.minX;F<=M.maxX;F++)for(let I=M.minY;I<=M.maxY;I++){const z=d(this.sourceZ_,F,I,l);z&&this.sourceTiles_.push(z)}this.sourceTiles_.length===0&&(this.state=He.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==He.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=He.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],o=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=sG(i,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=He.LOADED}this.changed()}load(){if(this.state==He.IDLE){this.state=He.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==He.IDLE||r==He.LOADING){e++;const i=pt(n,Qe.CHANGE,function(s){const o=n.getState();(o==He.LOADED||o==He.ERROR||o==He.EMPTY)&&(Bt(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==He.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Bt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Um(this.canvas_.getContext("2d")),Ol.push(this.canvas_),this.canvas_=null),super.release()}}class oG extends hk{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Gr(),this.tmpTileRange_=new Gx(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==He.LOADED||r==He.EMPTY||r==He.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,o=i.viewState.projection,l=this.getLayer();let d=l.getSource().getTile(e,n,r,s,o);return d.getState()==He.ERROR&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(d)||(d=d.getInterimTile()),d}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=On(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!jm(s,i))return null;const o=n.pixelRatio,l=n.viewState.projection,c=n.viewState,d=r.getRenderSource(),h=d.getTileGridForProjection(c.projection),f=d.getTilePixelRatio(n.pixelRatio);for(let p=h.getZForResolution(c.resolution);p>=h.getMinZoom();--p){const y=h.getTileCoordForCoordAndZ(i,p),x=d.getTile(p,y[1],y[2],o,l);if(!(x instanceof yk||x instanceof G0)||x instanceof G0&&x.getState()===He.EMPTY)return null;if(x.getState()!==He.LOADED)continue;const w=h.getOrigin(p),C=zr(h.getTileSize(p)),b=h.getResolution(p),R=Math.floor(f*((i[0]-w[0])/b-y[1]*C[0])),T=Math.floor(f*((w[1]-i[1])/b-y[2]*C[1])),P=Math.round(f*d.getGutterForProjection(c.projection));return this.getImageData(x.getImage(),R+P,T+P)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,o=i.resolution,l=i.center,c=i.rotation,d=e.pixelRatio,h=this.getLayer(),f=h.getSource(),p=f.getRevision(),y=f.getTileGridForProjection(s),x=y.getZForResolution(o,f.zDirection),w=y.getResolution(x);let C=e.extent;const b=e.viewState.resolution,R=f.getTilePixelRatio(d),T=Math.round(Yt(C)/b*d),P=Math.round(ss(C)/b*d),k=r.extent&&xo(r.extent);k&&(C=wu(C,xo(r.extent)));const M=w*T/2/R,F=w*P/2/R,I=[l[0]-M,l[1]-F,l[0]+M,l[1]+F],z=y.getTileRangeForExtentAndZ(C,x),G={};G[x]={};const V=this.createLoadedTileFinder(f,s,G),H=this.tmpExtent,B=this.tmpTileRange_;this.newTiles_=!1;const X=c?M0(i.center,b,c,e.size):void 0;for(let re=z.minX;re<=z.maxX;++re)for(let se=z.minY;se<=z.maxY;++se){if(c&&!y.tileCoordIntersectsViewport([x,re,se],X))continue;const ce=this.getTile(x,re,se,e);if(this.isDrawableTile(ce)){const pe=et(this);if(ce.getState()==He.LOADED){G[x][ce.tileCoord.toString()]=ce;let _e=ce.inTransition(pe);_e&&r.opacity!==1&&(ce.endTransition(pe),_e=!1),!this.newTiles_&&(_e||!this.renderedTiles.includes(ce))&&(this.newTiles_=!0)}if(ce.getAlpha(pe,e.time)===1)continue}const ge=y.getTileCoordChildTileRange(ce.tileCoord,B,H);let ae=!1;ge&&(ae=V(x+1,ge)),ae||y.forEachTileCoordParentTileRange(ce.tileCoord,V,B,H)}const Z=w/o*d/R;Po(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,c,-T/2,-P/2);const Y=_P(this.pixelTransform);this.useContainer(n,Y,this.getBackground(e));const D=this.context,j=D.canvas;px(this.inversePixelTransform,this.pixelTransform),Po(this.tempTransform,T/2,P/2,Z,Z,0,-T/2,-P/2),j.width!=T||j.height!=P?(j.width=T,j.height=P):this.containerReused||D.clearRect(0,0,T,P),k&&this.clipUnrotated(D,e,k),f.getInterpolate()||(D.imageSmoothingEnabled=!1),this.preRender(D,e),this.renderedTiles.length=0;let U=Object.keys(G).map(Number);U.sort(Ta);let q,N,L;r.opacity===1&&(!this.containerReused||f.getOpaque(e.viewState.projection))?U=U.reverse():(q=[],N=[]);for(let re=U.length-1;re>=0;--re){const se=U[re],ce=f.getTilePixelSize(se,d,s),ae=y.getResolution(se)/w,pe=ce[0]*ae*Z,_e=ce[1]*ae*Z,Re=y.getTileCoordForCoordAndZ($a(I),se),$e=y.getTileCoordExtent(Re),Be=On(this.tempTransform,[R*($e[0]-I[0])/w,R*(I[3]-$e[3])/w]),yt=R*f.getGutterForProjection(s),mt=G[se];for(const Gt in mt){const Dt=mt[Gt],ft=Dt.tileCoord,zn=Re[1]-ft[1],_t=Math.round(Be[0]-(zn-1)*pe),$=Re[2]-ft[2],J=Math.round(Be[1]-($-1)*_e),te=Math.round(Be[0]-zn*pe),fe=Math.round(Be[1]-$*_e),he=_t-te,ie=J-fe,ye=x===se,De=ye&&Dt.getAlpha(et(this),e.time)!==1;let ze=!1;if(!De)if(q){L=[te,fe,te+he,fe,te+he,fe+ie,te,fe+ie];for(let wt=0,jt=q.length;wt<jt;++wt)if(x!==se&&se<N[wt]){const ht=q[wt];hr([te,fe,te+he,fe+ie],[ht[0],ht[3],ht[4],ht[7]])&&(ze||(D.save(),ze=!0),D.beginPath(),D.moveTo(L[0],L[1]),D.lineTo(L[2],L[3]),D.lineTo(L[4],L[5]),D.lineTo(L[6],L[7]),D.moveTo(ht[6],ht[7]),D.lineTo(ht[4],ht[5]),D.lineTo(ht[2],ht[3]),D.lineTo(ht[0],ht[1]),D.clip())}q.push(L),N.push(se)}else D.clearRect(te,fe,he,ie);this.drawTileImage(Dt,e,te,fe,he,ie,yt,ye),q&&!De?(ze&&D.restore(),this.renderedTiles.unshift(Dt)):this.renderedTiles.push(Dt),this.updateUsedTiles(e.usedTiles,f,Dt)}}return this.renderedRevision=p,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!Lu(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=d,this.renderedProjection=s,this.manageTilePyramid(e,f,y,d,s,C,x,h.getPreload()),this.scheduleExpireCache(e,f),this.postRender(D,e),r.extent&&D.restore(),D.imageSmoothingEnabled=!0,Y!==j.style.transform&&(j.style.transform=Y),this.container}drawTileImage(e,n,r,i,s,o,l,c){const d=this.getTileImage(e);if(!d)return;const h=et(this),f=n.layerStatesArray[n.layerIndex],p=f.opacity*(c?e.getAlpha(h,n.time):1),y=p!==this.context.globalAlpha;y&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(d,l,l,d.width-2*l,d.height-2*l,r,i,s,o),y&&this.context.restore(),p!==f.opacity?n.animate=!0:c&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=(function(i,s,o){const l=et(i);l in o.usedTiles&&i.expireCache(o.viewState.projection,o.usedTiles[l])}).bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=et(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,o,l,c,d){const h=et(n);h in e.wantedTiles||(e.wantedTiles[h]={});const f=e.wantedTiles[h],p=e.tileQueue,y=r.getMinZoom(),x=e.viewState.rotation,w=x?M0(e.viewState.center,e.viewState.resolution,x,e.size):void 0;let C=0,b,R,T,P,k,M;for(M=y;M<=l;++M)for(R=r.getTileRangeForExtentAndZ(o,M,R),T=r.getResolution(M),P=R.minX;P<=R.maxX;++P)for(k=R.minY;k<=R.maxY;++k)x&&!r.tileCoordIntersectsViewport([M,P,k],w)||(l-M<=c?(++C,b=n.getTile(M,P,k,i,s),b.getState()==He.IDLE&&(f[b.getKey()]=!0,p.isKeyQueued(b.getKey())||p.enqueue([b,h,r.getTileCoordCenter(b.tileCoord),T])),d!==void 0&&d(b)):n.useTile(M,P,k,s));n.updateCacheSize(C,s)}}class zb extends QB{constructor(e){super(e)}createRenderer(){return new oG(this)}}const Fy={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},yl=[0,0,0],uo=5;class Nk{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ot($3(this.resolutions_,function(i,s){return s-i}),17);let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ot(this.origins_.length==this.resolutions_.length,20));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=$a(r)),ot(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ot(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:jx,ot(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(i,s){const o=new Gx(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const l=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,o=i.maxX;s<=o;++s)for(let l=i.minY,c=i.maxY;l<=c;++l)r([n,s,l])}forEachTileCoordParentTileRange(e,n,r,i){let s,o,l,c=null,d=e[0]-1;for(this.zoomFactor_===2?(o=e[1],l=e[2]):c=this.getTileCoordExtent(e,i);d>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),l=Math.floor(l/2),s=pl(o,o,l,l,r)):s=this.getTileRangeForExtentAndZ(c,d,r),n(d,s))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return pl(s,s+1,o,o+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],o=e[2];if(n===i)return pl(s,o,s,o,r);if(this.zoomFactor_){const c=Math.pow(this.zoomFactor_,n-i),d=Math.floor(s*c),h=Math.floor(o*c);if(n<i)return pl(d,d,h,h,r);const f=Math.floor(c*(s+1))-1,p=Math.floor(c*(o+1))-1;return pl(d,f,h,p,r)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,n,r)}getTileRangeExtent(e,n,r){const i=this.getOrigin(e),s=this.getResolution(e),o=zr(this.getTileSize(e),this.tmpSize_),l=i[0]+n.minX*o[0]*s,c=i[0]+(n.maxX+1)*o[0]*s,d=i[1]+n.minY*o[1]*s,h=i[1]+(n.maxY+1)*o[1]*s;return Is(l,d,c,h,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,yl);const i=yl[1],s=yl[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,yl);const o=yl[1],l=yl[2];return pl(i,o,s,l,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=zr(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=zr(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*i,l=r[1]-(e[2]+1)*s[1]*i,c=o+s[0]*i,d=l+s[1]*i;return Is(o,l,c,d,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const o=this.getZForResolution(r),l=r/this.getResolution(o),c=this.getOrigin(o),d=zr(this.getTileSize(o),this.tmpSize_);let h=l*(e-c[0])/r/d[0],f=l*(c[1]-n)/r/d[1];return i?(h=Wh(h,uo)-1,f=Wh(f,uo)-1):(h=Uh(h,uo),f=Uh(f,uo)),Mb(o,h,f,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const o=this.getOrigin(r),l=this.getResolution(r),c=zr(this.getTileSize(r),this.tmpSize_);let d=(e-o[0])/l/c[0],h=(o[1]-n)/l/c[1];return i?(d=Wh(d,uo)-1,h=Wh(h,uo)-1):(d=Uh(d,uo),h=Uh(h,uo)),Mb(r,d,h,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=mx(this.resolutions_,e,n||0);return wn(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return UP(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}function Fk(t){let e=t.getDefaultTileGrid();return e||(e=cG(t),t.setDefaultTileGrid(e)),e}function aG(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=Ux(n);if(!jm(s,i)){const o=Yt(s),l=Math.ceil((s[0]-i[0])/o);return i[0]+=o*l,t.getTileCoordForCoordAndZ(i,r)}return e}function lG(t,e,n,r){r=r!==void 0?r:"top-left";const i=Lk(t,e,n);return new Nk({extent:t,origin:nz(t,r),resolutions:i,tileSize:n})}function jk(t){const e=t||{},n=e.extent||Cn("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Lk(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Nk(r)}function Lk(t,e,n,r){e=e!==void 0?e:l$,n=zr(n!==void 0?n:jx);const i=ss(t),s=Yt(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const o=e+1,l=new Array(o);for(let c=0;c<o;++c)l[c]=r/Math.pow(2,c);return l}function cG(t,e,n,r){const i=Ux(t);return lG(i,e,n,r)}function Ux(t){t=Cn(t);let e=t.getExtent();if(!e){const n=180*xx.degrees/t.getMetersPerUnit();e=Is(-n,-n,n,n)}return e}class uG extends gk{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&zr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new Mk(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let o=!0,l,c,d;for(let h=r.minX;h<=r.maxX;++h)for(let f=r.minY;f<=r.maxY;++f)c=Zm(n,h,f),d=!1,s.containsKey(c)&&(l=s.get(c),d=l.getState()===He.LOADED,d&&(d=i(l)!==!1)),d||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return Je()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Fk(e)}getTileCacheForProjection(e){const n=this.getProjection();return ot(n===null||ca(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),o=zr(i.getTileSize(e),this.tmpSize);return s==1?o:Gz(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=aG(r,e,n)),UB(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class dG extends Li{constructor(e,n){super(e),this.tile=n}}function hG(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,l,c){if(o)return t.replace(n,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const d=o[0],h=e.getFullTileRange(d);return ot(h,55),(h.getHeight()-o[2]-1).toString()})}}function fG(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=hG(t[i],e);return mG(r)}function mG(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=GB(e),s=Ca(i,t.length);return t[s](e,n,r)}}function gG(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class Wx extends uG{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Wx.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=et(n),i=n.getState();let s;i==He.LOADING?(this.tileLoadingKeys_[r]=!0,s=Fy.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==He.ERROR?Fy.TILELOADERROR:i==He.LOADED?Fy.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new dG(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=gG(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(fG(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=Zm(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class pG extends Wx{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:yG,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:yk,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!ca(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!ca(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||ca(n,e)))return this.tileGrid;const r=et(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Fk(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||ca(n,e))return this.tileCache;const r=et(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new Mk(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,o){const l=[e,n,r],c=this.getTileCoordForTileUrlFunction(l,s),d=c?this.tileUrlFunction(c,i,s):void 0,h=new this.tileClass(l,d!==void 0?He.IDLE:He.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(Qe.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,n,r,i,s){const o=this.getProjection();if(!o||!s||ca(o,s))return this.getTileInternal(e,n,r,i,o||s);const l=this.getTileCacheForProjection(s),c=[e,n,r];let d;const h=Ak(c);l.containsKey(h)&&(d=l.get(h));const f=this.getKey();if(d&&d.key==f)return d;const p=this.getTileGridForProjection(o),y=this.getTileGridForProjection(s),x=this.getTileCoordForTileUrlFunction(c,s),w=new G0(o,p,s,y,c,x,this.getTilePixelRatio(i),this.getGutter(),(C,b,R,T)=>this.getTileInternal(C,b,R,T,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return w.key=f,d?(w.interimTile=d,w.refreshInterimChain(),l.replace(h,w)):l.set(h,w),w}getTileInternal(e,n,r,i,s){let o=null;const l=Zm(e,n,r),c=this.getKey();if(!this.tileCache.containsKey(l))o=this.createTile_(e,n,r,i,s,c),this.tileCache.set(l,o);else if(o=this.tileCache.get(l),o.key!=c){const d=o;o=this.createTile_(e,n,r,i,s,c),d.getState()==He.IDLE?o.interimTile=d.interimTile:o.interimTile=d,o.refreshInterimChain(),this.tileCache.replace(l,o)}return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=Cn(e);if(r){const i=et(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function yG(t,e){t.getImage().src=e}class Dk extends pG{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:jk({extent:Ux(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const vG='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class xG extends Dk{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[vG];const r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}}let jy=null,Ly=null;function _G(t,[e,n]){jy=new zb({source:new xG,visible:!1,title:"OSM Base",preload:1/0}),Ly=new zb({source:new Dk({url:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}",attributions:"UB  Satlite",tileGrid:jk({extent:Cn("EPSG:3857").getExtent(),tileSize:256}),maxZoom:21}),visible:!0,title:"MapTiler Satellite",preload:1/0});const r=new VB({target:t,layers:[Ly,jy],view:new Xi({center:zm([n,e]),zoom:14,maxZoom:21,minZoom:4,rotation:0,constrainRotation:!1}),controls:[],interactions:Tk().extend([new Rk({condition:i=>Rf(i)&&i.originalEvent.button===1})])});return window._ol_map_instance=r,window.osm=jy,window.esriSat=Ly,r}function Ao([t,e]){return zm([t,e])}function $b(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Jm(...t){return e=>{let n=!1;const r=t.map(i=>{const s=$b(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():$b(t[i],null)}}}}function at(...t){return _.useCallback(Jm(...t),t)}function Aa(t){const e=wG(t),n=_.forwardRef((r,i)=>{const{children:s,...o}=r,l=_.Children.toArray(s),c=l.find(SG);if(c){const d=c.props.children,h=l.map(f=>f===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:f);return g.jsx(e,{...o,ref:i,children:_.isValidElement(d)?_.cloneElement(d,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Ok=Aa("Slot");function wG(t){const e=_.forwardRef((n,r)=>{const{children:i,...s}=n;if(_.isValidElement(i)){const o=EG(i),l=bG(s,i.props);return i.type!==_.Fragment&&(l.ref=r?Jm(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Vk=Symbol("radix.slottable");function CG(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Vk,e}function SG(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vk}function bG(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function EG(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $k(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zk(t))&&(r&&(r+=" "),r+=e);return r}const Bb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Gb=$k,Hx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Gb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],f=s==null?void 0:s[d];if(h===null)return null;const p=Bb(h)||Bb(f);return i[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(x=>{let[w,C]=x;return Array.isArray(C)?C.includes({...s,...l}[w]):{...s,...l}[w]===C})?[...d,f,p]:d},[]);return Gb(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},Xx="-",RG=t=>{const e=PG(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Xx);return l[0]===""&&l.length!==1&&l.shift(),Bk(l,e)||TG(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Bk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Bk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Xx);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Ub=/^\[(.+)\]$/,TG=t=>{if(Ub.test(t)){const e=Ub.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},PG=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)U0(n[i],r,i,e);return r},U0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Wb(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(kG(i)){U0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{U0(o,Wb(e,s),n,r)})})},Wb=(t,e)=>{let n=t;return e.split(Xx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},kG=t=>t.isThemeGetter,AG=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},W0="!",H0=":",MG=H0.length,IG=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,c=0,d;for(let x=0;x<i.length;x++){let w=i[x];if(o===0&&l===0){if(w===H0){s.push(i.slice(c,x)),c=x+MG;continue}if(w==="/"){d=x;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const h=s.length===0?i:i.substring(c),f=NG(h),p=f!==h,y=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:y}};if(e){const i=e+H0,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},NG=t=>t.endsWith(W0)?t.substring(0,t.length-1):t.startsWith(W0)?t.substring(1):t,FG=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},jG=t=>({cache:AG(t.cacheSize),parseClassName:IG(t),sortModifiers:FG(t),...RG(t)}),LG=/\s+/,DG=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(LG);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:f,modifiers:p,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:w}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let C=!!w,b=r(C?x.substring(0,w):x);if(!b){if(!C){c=h+(c.length>0?" "+c:c);continue}if(b=r(x),!b){c=h+(c.length>0?" "+c:c);continue}C=!1}const R=s(p).join(":"),T=y?R+W0:R,P=T+b;if(o.includes(P))continue;o.push(P);const k=i(b,C);for(let M=0;M<k.length;++M){const F=k[M];o.push(T+F)}c=h+(c.length>0?" "+c:c)}return c};function OG(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Gk(e))&&(r&&(r+=" "),r+=n);return r}const Gk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Gk(t[r]))&&(n&&(n+=" "),n+=e);return n};function VG(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=jG(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=DG(c,n);return i(c,h),h}return function(){return s(OG.apply(null,arguments))}}const Rn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Uk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Wk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zG=/^\d+\/\d+$/,$G=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=t=>zG.test(t),st=t=>!!t&&!Number.isNaN(Number(t)),ho=t=>!!t&&Number.isInteger(Number(t)),Dy=t=>t.endsWith("%")&&st(t.slice(0,-1)),_s=t=>$G.test(t),HG=()=>!0,XG=t=>BG.test(t)&&!GG.test(t),Hk=()=>!1,KG=t=>UG.test(t),YG=t=>WG.test(t),ZG=t=>!Me(t)&&!Ie(t),qG=t=>hc(t,Yk,Hk),Me=t=>Uk.test(t),na=t=>hc(t,Zk,XG),Oy=t=>hc(t,n6,st),Hb=t=>hc(t,Xk,Hk),JG=t=>hc(t,Kk,YG),tf=t=>hc(t,qk,KG),Ie=t=>Wk.test(t),lu=t=>fc(t,Zk),QG=t=>fc(t,r6),Xb=t=>fc(t,Xk),e6=t=>fc(t,Yk),t6=t=>fc(t,Kk),nf=t=>fc(t,qk,!0),hc=(t,e,n)=>{const r=Uk.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},fc=(t,e,n=!1)=>{const r=Wk.exec(t);return r?r[1]?e(r[1]):n:!1},Xk=t=>t==="position"||t==="percentage",Kk=t=>t==="image"||t==="url",Yk=t=>t==="length"||t==="size"||t==="bg-size",Zk=t=>t==="length",n6=t=>t==="number",r6=t=>t==="family-name",qk=t=>t==="shadow",i6=()=>{const t=Rn("color"),e=Rn("font"),n=Rn("text"),r=Rn("font-weight"),i=Rn("tracking"),s=Rn("leading"),o=Rn("breakpoint"),l=Rn("container"),c=Rn("spacing"),d=Rn("radius"),h=Rn("shadow"),f=Rn("inset-shadow"),p=Rn("text-shadow"),y=Rn("drop-shadow"),x=Rn("blur"),w=Rn("perspective"),C=Rn("aspect"),b=Rn("ease"),R=Rn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...P(),Ie,Me],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],I=()=>[Ie,Me,c],z=()=>[vl,"full","auto",...I()],G=()=>[ho,"none","subgrid",Ie,Me],V=()=>["auto",{span:["full",ho,Ie,Me]},ho,Ie,Me],H=()=>[ho,"auto",Ie,Me],B=()=>["auto","min","max","fr",Ie,Me],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...I()],D=()=>[vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],j=()=>[t,Ie,Me],U=()=>[...P(),Xb,Hb,{position:[Ie,Me]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",e6,qG,{size:[Ie,Me]}],L=()=>[Dy,lu,na],re=()=>["","none","full",d,Ie,Me],se=()=>["",st,lu,na],ce=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[st,Dy,Xb,Hb],pe=()=>["","none",x,Ie,Me],_e=()=>["none",st,Ie,Me],Re=()=>["none",st,Ie,Me],$e=()=>[st,Ie,Me],Be=()=>[vl,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_s],breakpoint:[_s],color:[HG],container:[_s],"drop-shadow":[_s],ease:["in","out","in-out"],font:[ZG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_s],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_s],shadow:[_s],spacing:["px",st],text:[_s],"text-shadow":[_s],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vl,Me,Ie,C]}],container:["container"],columns:[{columns:[st,Me,Ie,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[ho,"auto",Ie,Me]}],basis:[{basis:[vl,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[st,vl,"auto","initial","none",Me]}],grow:[{grow:["",st,Ie,Me]}],shrink:[{shrink:["",st,Ie,Me]}],order:[{order:[ho,"first","last","none",Ie,Me]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[l,"screen",...D()]}],"min-w":[{"min-w":[l,"screen","none",...D()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",n,lu,na]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,Oy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dy,Me]}],"font-family":[{font:[QG,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ie,Me]}],"line-clamp":[{"line-clamp":[st,"none",Ie,Oy]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",Ie,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[st,"from-font","auto",Ie,na]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[st,"auto",Ie,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ho,Ie,Me],radial:["",Ie,Me],conic:[ho,Ie,Me]},t6,JG]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[st,Ie,Me]}],"outline-w":[{outline:["",st,lu,na]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,nf,tf]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",f,nf,tf]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[st,na]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",p,nf,tf]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[st,Ie,Me]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[st]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Ie,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[st]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Me]}],filter:[{filter:["","none",Ie,Me]}],blur:[{blur:pe()}],brightness:[{brightness:[st,Ie,Me]}],contrast:[{contrast:[st,Ie,Me]}],"drop-shadow":[{"drop-shadow":["","none",y,nf,tf]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",st,Ie,Me]}],"hue-rotate":[{"hue-rotate":[st,Ie,Me]}],invert:[{invert:["",st,Ie,Me]}],saturate:[{saturate:[st,Ie,Me]}],sepia:[{sepia:["",st,Ie,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Me]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[st,Ie,Me]}],"backdrop-contrast":[{"backdrop-contrast":[st,Ie,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",st,Ie,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[st,Ie,Me]}],"backdrop-invert":[{"backdrop-invert":["",st,Ie,Me]}],"backdrop-opacity":[{"backdrop-opacity":[st,Ie,Me]}],"backdrop-saturate":[{"backdrop-saturate":[st,Ie,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",st,Ie,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[st,"initial",Ie,Me]}],ease:[{ease:["linear","initial",b,Ie,Me]}],delay:[{delay:[st,Ie,Me]}],animate:[{animate:["none",R,Ie,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ie,Me]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ie,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Me]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[st,lu,na,Oy]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},s6=VG(i6);function Ve(...t){return s6($k(t))}function o6(){const[t,e]=_.useState(0);return _.useEffect(()=>{const n=()=>e(window.innerWidth);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}const Tl={xs:640,sm:850,md:1040,lg:1200,xl:1390,xxl:1540},a6=Hx("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-8",xs:"h-4 px-2 py-2",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),it=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Ok:"button";return g.jsx(o,{className:Ve(a6({variant:e,size:n,className:t})),ref:s,...i})});it.displayName="Button";function ua({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i,confirmText:s="Aceptar",cancelText:o="Cancelar",children:l=null,confirmVariant:c="default",confirmColor:d="bg-black hover:bg-gray-700",cancelVariant:h="outline",icon:f=null,size:p="md"}){if(_.useEffect(()=>{if(t){const x=setTimeout(()=>{if(!l){const w=document.querySelector(".modal-footer-confirm-button");w&&w.focus()}},50);return()=>clearTimeout(x)}},[t,l]),!t)return null;const y={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",xxxxl:"max-w-4xl",full:"max-w-full"};return Va.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onKeyDown:x=>{x.key==="Escape"&&(i==null||i())},tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:g.jsx("div",{className:`bg-white p-4 rounded-xl shadow-xl w-full relative ${y[p]||y.md}`,children:l||g.jsxs(g.Fragment,{children:[g.jsxs("h2",{id:"modal-title",className:"text-lg font-bold mb-2 flex items-center gap-2",children:[f&&g.jsx("span",{className:"mr-1",children:f}),e]}),n&&g.jsx("p",{id:"modal-description",className:"text-sm text-gray-700 mb-4",children:n}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(it,{variant:h,onClick:i,className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:o}),g.jsx(it,{variant:c,onClick:r,className:`gap-2 ${d} text-white shadow-md w-full sm:w-auto modal-footer-confirm-button`,children:s})]})]})})}),document.body)}function Kx({isOpen:t,message:e,onClose:n}){return _.useEffect(()=>{if(t){const r=setTimeout(()=>{const i=document.querySelector(".modal-info-confirm-button");i&&i.focus()},50);return()=>clearTimeout(r)}},[t]),t?Va.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg w-full max-w-sm text-center",role:"dialog","aria-modal":"true","aria-labelledby":"info-modal-title","aria-describedby":"info-modal-description",children:[g.jsx("h2",{id:"info-modal-title",className:"sr-only",children:"Informacin"}),g.jsx("p",{id:"info-modal-description",className:"text-sm text-gray-700 mb-4",children:e}),g.jsx(it,{onClick:n,className:"modal-info-confirm-button w-full sm:w-auto",children:"OK"})]})}),document.body):null}class l6{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?Cn(n.dataProjection):this.readProjection(e);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=Cn(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return Je()}readFeature(e,n){return Je()}readFeatures(e,n){return Je()}readGeometry(e,n){return Je()}readProjection(e){return Je()}writeFeature(e,n){return Je()}writeFeatures(e,n){return Je()}writeGeometry(e,n){return Je()}}function Jk(t,e,n){const r=n?Cn(n.featureProjection):null,i=n?Cn(n.dataProjection):null;let s;if(r&&i&&!ca(r,i)?s=(e?t.clone():t).transform(e?r:i,e?i:r):s=t,e&&n&&n.decimals!==void 0){const o=Math.pow(10,n.decimals),l=function(c){for(let d=0,h=c.length;d<h;++d)c[d]=Math.round(c[d]*o)/o;return c};s===t&&(s=t.clone()),s.applyTransform(l)}return s}class c6 extends l6{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(rf(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(rf(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return Je()}readFeaturesFromObject(e,n){return Je()}readGeometry(e,n){return this.readGeometryFromObject(rf(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return Je()}readProjection(e){return this.readProjectionFromObject(rf(e))}readProjectionFromObject(e){return Je()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return Je()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return Je()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return Je()}}function rf(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}else if(t!==null)return t;return null}class Qk extends c6{constructor(e){e=e||{},super(),this.dataProjection=Cn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Cn(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};const i=X0(r.geometry,n),s=new sr;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&s.setGeometryName(r.geometry_name),s.setGeometry(i),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,n){const r=e;let i=null;if(r.type==="FeatureCollection"){const s=e;i=[];const o=s.features;for(let l=0,c=o.length;l<c;++l)i.push(this.readFeatureFromObject(o[l],n))}else i=[this.readFeatureFromObject(e,n)];return i}readGeometryFromObject(e,n){return X0(e,n)}readProjectionFromObject(e){const n=e.crs;let r;return n?n.type=="name"?r=Cn(n.properties.name):n.type==="EPSG"?r=Cn("EPSG:"+n.properties.code):ot(!1,36):r=this.dataProjection,r}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;const s=e.getProperties(),o=e.getGeometry();return o&&(r.geometry=K0(o,n),delete s[e.getGeometryName()]),Gl(s)||(r.properties=s),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,s=e.length;i<s;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return K0(e,this.adaptOptions(n))}}function X0(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=d6(t);break}case"LineString":{n=h6(t);break}case"Polygon":{n=p6(t);break}case"MultiPoint":{n=m6(t);break}case"MultiLineString":{n=f6(t);break}case"MultiPolygon":{n=g6(t);break}case"GeometryCollection":{n=u6(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Jk(n,!1,e)}function u6(t,e){const n=t.geometries.map(function(r){return X0(r,e)});return new qf(n)}function d6(t){return new Pr(t.coordinates)}function h6(t){return new ka(t.coordinates)}function f6(t){return new Jf(t.coordinates)}function m6(t){return new qm(t.coordinates)}function g6(t){return new Qf(t.coordinates)}function p6(t){return new rr(t.coordinates)}function K0(t,e){t=Jk(t,!0,e);const n=t.getType();let r;switch(n){case"Point":{r=C6(t);break}case"LineString":{r=v6(t);break}case"Polygon":{r=S6(t,e);break}case"MultiPoint":{r=_6(t);break}case"MultiLineString":{r=x6(t);break}case"MultiPolygon":{r=w6(t,e);break}case"GeometryCollection":{r=y6(t,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function y6(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return K0(r,e)})}}function v6(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function x6(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function _6(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function w6(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function C6(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function S6(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}const Si={modeRef:{current:null},onFinishCallback:{current:null}};function b6(){const[t,e]=_.useState(null),[n,r]=_.useState(0),[i,s]=_.useState("Click para colocar el primer vrtice");return{polygonMode:t,setMode:c=>{Si.modeRef.current=c,e(c)},resetPolygonState:()=>{Si.modeRef.current=null,Si.onFinishCallback.current=null,e(null),r(0),s("Click para colocar el primer vrtice")},area:n,setArea:r,tooltipText:i,setTooltipText:s}}function bu(t){if(!t)return 0;try{return Vm(t,{projection:"EPSG:3857"})}catch{return 0}}const ir={base:new on({stroke:new yn({color:"#FFFFFF",width:5}),fill:new kn({color:"rgba(255, 255, 255, 0.05)"})}),draw:new on({stroke:new yn({color:"#FF4D00",width:4,lineDash:[0,0,10,10]}),fill:new kn({color:"rgba(255, 77, 0, 0.2)"})}),edit:new on({stroke:new yn({color:"#00FFFF",width:4,lineDash:[0,0,10,10]}),fill:new kn({color:"rgba(0, 255, 255, 0.15)"})}),vertexEdit:new on({image:new Or({radius:6,fill:new kn({color:"#00FFFF"}),stroke:new yn({color:"#FFFFFF",width:3})})}),vertexIntermediate:new on({image:new Or({radius:4.5,fill:new kn({color:"#777777"}),stroke:new yn({color:"#FFFFFF",width:2.5})})}),vertexDelete:new on({image:new Or({radius:6,fill:new kn({color:"#860000"}),stroke:new yn({color:"#FF0000",width:4})})}),vertexDraw:new on({image:new Or({radius:6,fill:new kn({color:"#FF4D00"}),stroke:new yn({color:"#FFFFFF",width:3})})}),previewVertex:new on({image:new Or({radius:6,fill:new kn({color:"#777777"}),stroke:new yn({color:"#FFFFFF",width:3})})}),previewVertexSnap:new on({image:new Or({radius:6,fill:new kn({color:"#FFFFFF"}),stroke:new yn({color:"#FF4D00",width:3})})}),previewLine:new on({stroke:new yn({color:"#FF8300",width:4,lineDash:[0,0,10,10]})})};function Yx({mapRef:t,parcelas:e,formData:n,clearEdit:r,activateEditMode:i,getCreatedFeature:s,setFormData:o,setAreaCampo:l,setAreaParcela:c,enabled:d=!0,modoVisualizacionCampo:h=!1,onSelectFeature:f=null}){const p=_.useRef(null),y=_.useRef([]),x=()=>{const b=t.current;b&&(y.current.forEach(R=>b.removeLayer(R)),y.current=[],b.getLayers().getArray().forEach(R=>{var P;((P=R.getStyle)==null?void 0:P.call(R))===ir.edit&&b.removeLayer(R)}))},w=b=>{var P;if(["draw","draw-edit"].includes(Si.modeRef.current))return;const R=t.current;if(!R)return;const T=s();if((P=T==null?void 0:T.getGeometry())!=null&&P.intersectsCoordinate(b.coordinate)){r(),i(T);return}R.forEachFeatureAtPixel(b.pixel,k=>{if(!k||!k.getGeometry())return;const M=k.getGeometry().getType();if(M!=="Polygon"&&M!=="MultiPolygon")return;const F=k.getId()||k.get("parcela_id"),I=n.campo_id,z=(e[I]||[]).find(G=>G.id==F);if(z){o(h?G=>({...G,parcela_id:z.id}):{campo_id:I,parcela_id:z.id,nombre:z.nombre||"",descripcion:z.descripcion||""});try{const G=k.clone();G.setId(z.id),i(G);try{const V=k.clone();V.setId(z.id),i(V),typeof f=="function"&&f(V,z)}catch(V){console.error("Error al clonar feature:",V)}}catch(G){console.error("Error al clonar feature:",G)}}})},C=()=>{const b=t.current;if(!b||!n.campo_id)return;r(),x(),p.current&&(b.un("click",p.current),p.current=null),h||(b.on("click",w),p.current=w);const R=e[n.campo_id]||[],T=new Qk;let P=0;if(h){R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const F=new Ns({features:[M]}),I=new os({source:F,style:ir.base});b.addLayer(I),y.current.push(I),P+=bu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),c(0);return}if(n.parcela_id===""||n.parcela_id==="temporal")R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const F=new Ns({features:[M]}),I=new os({source:F,style:ir.base});b.addLayer(I),y.current.push(I),P+=bu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),c(0);else{const k=R.find(M=>M.id==n.parcela_id);if(k)try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id),i(M);const F=bu(M.getGeometry());c(F),typeof f=="function"&&f(M,k)}catch(M){console.error("Error leyendo feature seleccionada:",M)}}};return _.useEffect(()=>{if(d)return C(),()=>{x(),p.current&&t.current&&(t.current.un("click",p.current),p.current=null)}},[n.campo_id,n.parcela_id,e]),{setFeaturesOnMap:C,clearParcelas:x}}function Zx(t){_.useEffect(()=>()=>{typeof t=="function"&&t()},[])}const _d=_.createContext(null);function E6({children:t}){const e=_.useRef(null),[n,r]=_.useState(!1),i=_.useCallback(()=>{const s=document.getElementById("map");s&&e.current&&(e.current.setTarget(null),e.current=null,s.innerHTML="",r(!1))},[]);return _.useEffect(()=>{const s=new ResizeObserver(()=>{const l=document.getElementById("map");(l==null?void 0:l.offsetWidth)>0&&(l==null?void 0:l.offsetHeight)>0&&!e.current&&r(!0)}),o=document.getElementById("map");return o&&s.observe(o),()=>s.disconnect()},[]),g.jsx(_d.Provider,{value:{mapRef:e,ready:n,resetMap:i},children:g.jsxs("div",{className:"relative w-full h-full flex-grow overflow-hidden",children:[g.jsx("div",{id:"map",className:"absolute inset-0 z-0",children:g.jsx("div",{id:"popup-cluster-container",className:"min-w-[250px]"})}),n&&t]})})}const wd=_.createContext();function R6({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(null);return g.jsx(wd.Provider,{value:{campoSeleccionado:e,setCampoSeleccionado:n,lastCampoId:r,setLastCampoId:i},children:t})}const T6=Hx("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qx({className:t,variant:e,...n}){return g.jsx("div",{className:Ve(T6({variant:e}),t),...n})}function Vy({metadata:t,onClose:e}){var C;if(!t)return null;const{nombre:n,raza:r,sexo:i,peso:s,tipo:o,estado_reproductivo:l,especie:c,campo:d,parcela:h,numero_identificacion:f,ubicacion_sensor:p,fecha_nacimiento:y,temperatura_corporal_actual:x,collar_asignado:w}=t;return g.jsxs("div",{className:"space-y-1 p-4 rounded-xl bg-white max-h-[355px] overflow-y-auto",role:"dialog","aria-label":`Informacin de ${n??"animal"}`,tabIndex:0,onClick:b=>b.stopPropagation(),children:[g.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(zs,{size:20})}),g.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-blue-700 break-words",children:[g.jsx(Ro,{size:20})," ",n||"Animal"," (",f,")"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsx(pi,{icon:ax,label:"Campo",value:d,color:"text-blue-600"}),g.jsx(pi,{icon:OT,label:"Parcela",value:h,color:"text-blue-400"}),g.jsx(pi,{icon:jT,label:"Especie",value:c,color:"text-pink-600"}),g.jsx(pi,{icon:F4,label:"Tipo",value:o,color:"text-yellow-600"}),g.jsx(pi,{icon:b4,label:"Raza",value:r,color:"text-orange-600"}),g.jsx(pi,{icon:jV,label:"Peso",value:`${s} kg`,color:"text-emerald-600"}),g.jsx(pi,{icon:cV,label:"Nacimiento",value:y,color:"text-cyan-600"}),g.jsx(pi,{icon:Q4,label:"Sensor",value:p,color:"text-rose-600"}),g.jsx(pi,{icon:K4,label:"Sexo",value:i,color:"text-indigo-600"}),g.jsx(pi,{icon:B4,label:"Temperatura",value:x??"N/A",color:"text-red-600"}),g.jsx(pi,{icon:$V,label:"Estado Reproductivo",value:l,color:"text-violet-600"})]}),w&&g.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[g.jsx("h4",{className:"text-gray-700 text-center font-semibold mb-2",children:" Collar asignado"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(eV,{size:16,className:Ve("mt-1","text-cyan-600")}),g.jsx("strong",{children:"ID:"})," ",w.collar_id]}),g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(GT,{size:16,className:Ve("mt-1","text-purple-600")}),g.jsx("strong",{children:"Cdigo:"})," ",w.codigo]}),g.jsxs("div",{className:"flex items-start gap-2 break-words",children:[g.jsx(KO,{size:16,className:Ve("mt-1","text-red-600")}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("strong",{children:"ltima actividad:"})," ",(C=w.ultima_actividad)==null?void 0:C.split(".")[0]]})]}),g.jsx("div",{className:"flex items-start gap-2",children:P6(w.estado,w.bateria)})]})]})]})}function pi({icon:t,label:e,value:n,color:r="text-gray-700"}){return g.jsxs("div",{className:"flex items-start gap-2 break-words",children:[g.jsx(t,{size:16,className:Ve("mt-1",r)}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:"font-medium text-gray-700 leading-tight",children:[e,":"]}),g.jsx("span",{className:"text-gray-800 leading-tight break-words whitespace-pre-wrap",children:n})]})]})}function P6(t,e){const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(sc,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(ix,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(sx,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(Fu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(CircleDotDashed,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(Fu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batera";break;case"defectuoso":i=g.jsx(Vn,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(qx,{className:Ve("flex items-center gap-1 px-2.5 py-1 rounded-md text-xs font-medium whitespace-nowrap",o),children:[i,s]})}const tn=_.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Ve("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));tn.displayName="Input";function k6({features:t=[],onClose:e=()=>{},onSelectAnimal:n=()=>{}}){const[r,i]=_.useState(""),s=_.useMemo(()=>t.map(o=>o.get("metadata")).filter(Boolean).filter(o=>{var c,d,h,f,p;const l=r.toLowerCase();return((c=o.nombre)==null?void 0:c.toLowerCase().includes(l))||((d=o.numero_identificacion)==null?void 0:d.toLowerCase().includes(l))||((h=o.especie)==null?void 0:h.toLowerCase().includes(l))||((f=o.raza)==null?void 0:f.toLowerCase().includes(l))||((p=o.estado_reproductivo)==null?void 0:p.toLowerCase().includes(l))}),[t,r]);return _.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),g.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 p-3 w-[280px] max-h-[300px] overflow-auto",children:[g.jsx("button",{onClick:e,className:"absolute top-1 right-1 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(zs,{size:20})}),g.jsx("div",{className:"flex justify-between items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Animales en esta zona"})}),g.jsx(tn,{value:r,onChange:o=>i(o.target.value),placeholder:"Buscar por nombre, ID, especie...",className:"mb-2 text-sm"}),s.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1",children:s.map(o=>g.jsx("li",{children:g.jsxs(it,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>{const l=t.find(c=>{var d;return((d=c.get("metadata"))==null?void 0:d.animal_id)===o.animal_id});l&&n(l)},children:[g.jsx(Ro,{size:16,className:"text-cyan-600"})," ",o.nombre," (",o.numero_identificacion,") - ",o.especie]})},o.animal_id))})]})}function Kb(t={}){const{baseColor:e="#f97316",iconUrl:n=null}=t,r={};return i=>{const s=i.get("features");if((s==null?void 0:s.length)>1){const d=s.length;return r[d]||(r[d]=new on({image:new Or({radius:10+Math.min(d,30)*.4,fill:new kn({color:e}),stroke:new yn({color:"#ffffff",width:2})}),text:new Xm({text:d.toString(),font:"bold 12px sans-serif",fill:new kn({color:"#ffffff"}),stroke:new yn({color:"#000000",width:2})})})),r[d]}const c=(i.get("metadata")||{}).is_outside===!0?"#e60000":e;return n?new on({image:new Ym({src:n,scale:.5,anchor:[.5,1]})}):new on({image:new Or({radius:6,fill:new kn({color:c}),stroke:new yn({color:"#ffffff",width:1.5})})})}}class A6 extends Ns{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(n){const r=n.getGeometry();return ot(r.getType()=="Point",10),r},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,n,r){this.source.loadFeatures(e,n,r),n!==this.resolution&&(this.resolution=n,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(Qe.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(Qe.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,n){const r=e===0?0:Math.min(n,e)/e,i=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=n,this.interpolationRatio=r,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Gr(),n=this.distance*this.resolution,r=this.source.getFeatures(),i={};for(let s=0,o=r.length;s<o;s++){const l=r[s];if(!(et(l)in i)){const c=this.geometryFunction(l);if(c){const d=c.getCoordinates();xu(d,e),pd(e,n,e);const h=this.source.getFeaturesInExtent(e).filter(function(f){const p=et(f);return p in i?!1:(i[p]=!0,!0)});this.features.push(this.createCluster(h,e))}}}}createCluster(e,n){const r=[0,0];for(let l=e.length-1;l>=0;--l){const c=this.geometryFunction(e[l]);c?PP(r,c.getCoordinates()):e.splice(l,1)}AP(r,1/e.length);const i=ko(n),s=this.interpolationRatio,o=new Pr([r[0]*(1-s)+i[0]*s,r[1]*(1-s)+i[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new sr({geometry:o,features:e})}}function M6(t=[]){const e=[],n=new Map;return t.forEach(r=>{if((r==null?void 0:r.lon)==null||(r==null?void 0:r.lat)==null)return;const i=new sr({geometry:new Pr(zm([r.lon,r.lat])),metadata:r});r.__feature=i,i.setId(`a-${r.animal_id}`),n.set(r.animal_id,i),e.push(i)}),{features:e,featureMap:n}}function Yb({map:t,settings:e,inside:n=[]}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef(new Map);return _.useEffect(()=>{if(!t)return;const o=new Ns,l=new A6({distance:e.distance||50,source:o});return r.current=o,i.current=l,()=>{o.clear(),l.setSource(null)}},[t,e.distance]),_.useEffect(()=>{const o=r.current;if(!o)return;const{features:l,featureMap:c}=M6(n);s.current=c,o.clear(),o.addFeatures(l)},[n]),{vectorSource:r.current,clusterSource:i.current,featuresMapRef:s}}function I6({map:t,inside:e=[],outside:n=[],insideRef:r,outsideRef:i,settings:s={distance:50,baseColor:"orange"},setExplodedFeatures:o}){const l=_.useRef(),c=_.useRef(),d="popup-cluster-container",h=Yb({map:t,settings:s,inside:e}),f=Yb({map:t,settings:s,inside:n});return r&&(r.current=h.featuresMapRef),i&&(i.current=f.featuresMapRef),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=new os({source:h.clusterSource,style:Kb({...s,baseColor:"#f97316",iconUrl:s.iconUrl}),zIndex:10}),y=new os({source:f.clusterSource,style:Kb({...s,baseColor:"#e60000"}),zIndex:9});return t.addLayer(p),t.addLayer(y),()=>{t.removeLayer(p),t.removeLayer(y)}},[t,h.clusterSource,f.clusterSource]),_.useEffect(()=>{if(!t)return;let p=document.getElementById(d);p||(p=document.createElement("div"),p.id=d,p.className="absolute z-5",document.body.appendChild(p));const y=new Zf({element:p,positioning:"top-center",offset:[0,12],autoPan:{animation:{duration:200}}});return t.addOverlay(y),l.current=y,c.current||(c.current=gT.createRoot(p)),()=>{var x;t.removeOverlay(y),(x=c.current)==null||x.unmount(),c.current=null,p==null||p.remove()}},[t]),_.useEffect(()=>{if(!t||!l.current||!c.current)return;const p=y=>{const x=t.forEachFeatureAtPixel(y.pixel,b=>b);if(!x)return;const w=x.get("features"),C=t.getView().getZoom();if((w==null?void 0:w.length)>1){const b=x.getGeometry().getCoordinates();t.getView().animate({center:b,duration:500}),l.current.setPosition(b),c.current.render(g.jsx(k6,{features:w,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:b,duration:500})},onSelectAnimal:R=>{const T=R.getGeometry().getCoordinates();l.current.setPosition(T),c.current.render(g.jsx(Vy,{metadata:R.get("metadata"),onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:[T[0],T[1]-60],duration:500})}})),o&&o(w),t.getView().animate({center:[T[0],T[1]-60],zoom:C<17?18:C,duration:500})}}))}else if((w==null?void 0:w.length)===1){const b=w[0],R=b.getGeometry().getCoordinates(),T=b.get("metadata");t.getView().animate({center:[R[0],R[1]-60],zoom:C<17?18:C,duration:500}),l.current.setPosition(R),c.current.render(g.jsx(Vy,{metadata:T,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:R,zoom:C>17?16:C,duration:500})}}))}};return t.on("singleclick",p),()=>t.un("singleclick",p)},[t,o]),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=()=>{const x=t.getView().getZoom()>=15.5?0:s.distance||50;h.clusterSource.setDistance(x),f.clusterSource.setDistance(x)};return p(),t.getView().on("change:resolution",p),()=>t.getView().un("change:resolution",p)},[t,h.clusterSource,f.clusterSource,s.distance]),_.useEffect(()=>{if(!t||!l.current||!c.current)return;const p=y=>{if(!y)return;const x=y.getGeometry().getCoordinates(),w=y.get("metadata"),C=t.getView().getZoom();t.getView().animate({center:[x[0],x[1]-60],zoom:C<17?18:C,duration:500}),l.current.setPosition(x),c.current.render(g.jsx(Vy,{metadata:w,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:x,zoom:C>17?16:C,duration:500})}}))};return window.ClusterPopup={open:p,close:()=>{l.current&&c.current&&(l.current.setPosition(void 0),c.current.render(null))}},()=>{var y;((y=window.ClusterPopup)==null?void 0:y.open)===p&&delete window.ClusterPopup}},[t]),null}async function N6(){const t=await fetch("/api/animals/");if(!t.ok)throw new Error("Error al cargar animales");return await t.json()}async function F6(t){const e=await fetch(`/api/animals/${t}/entities`);if(!e.ok)throw new Error("Error al cargar clusters de animales");return await e.json()}async function j6(){const t=await fetch("/api/animals/options");if(!t.ok)throw new Error("Error al cargar las opciones");return await t.json()}async function L6(t){const e=await fetch(`/api/animals/${t}/complete_sheet`);if(!e.ok)throw new Error("Error al cargar ficha completa");return await e.json()}async function D6(t){const e=await fetch("/api/animals/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear animal")}return await e.json()}async function O6(t,e){const n=await fetch(`/api/animals/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar animal")}return await n.json()}async function V6(t){const e=await fetch(`/api/animals/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar animal");return await e.json()}async function eA(){const t=await fetch("/api/animals/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de animales.")}return t.blob()}async function z6(t,e={}){const n=new URLSearchParams({type:t});e.globalFilter&&n.append("globalFilter",e.globalFilter),e.ids&&e.ids.length>0&&n.append("ids",e.ids.join(","));const r=await fetch(`/api/animals/export?${n.toString()}`);if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al exportar animales.")}return r.blob()}async function $6(t){const e=new FormData;e.append("file",t);const n=await fetch("/api/animals/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar animales.")}return await n.json()}function B6(t=1e4,e){const[n,r]=_.useState([]),[i,s]=_.useState([]);return _.useEffect(()=>{if(!e)return;const o=async()=>{try{const c=await F6(e);r(c.inside||[]),s(c.outside||[])}catch(c){console.error("Error al obtener animales:",c)}};o();const l=setInterval(o,t);return()=>clearInterval(l)},[e,t]),{inside:n,outside:i}}async function Ma(){const t=await fetch("/api/parcelas/init");if(!t.ok)throw new Error("Error al cargar datos");return await t.json()}async function G6(){const t=await fetch("/api/parcelas/animales/resumen");if(!t.ok)throw new Error("Error al cargar resumen de parcelas");return await t.json()}async function U6(t){const e=await fetch("/api/parcelas/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al guardar")}return await e.json()}async function W6(t,e,n="",r="",i){const s=await fetch(`/api/parcelas/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geojson:e,nombre:n,descripcion:r,area:i})});if(!s.ok){const o=await s.json();throw new Error(o.message||"Error al actualizar")}return await s.json()}async function H6(t){const e=await fetch(`/api/parcelas/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar la parcela");return await e.json()}function X6({inside:t=[],outside:e=[],featuresMapRef:n}){const[r,i]=_.useState(!1),[s,o]=_.useState(""),l=_.useMemo(()=>[...t,...e].filter(Boolean).map(d=>({label:`${d.nombre||"Animal"} (${d.numero_identificacion||"sin ID"})`,value:String(d.animal_id),full:d})).filter(d=>{var p,y,x,w,C;const h=s.toLowerCase(),f=d.full;return((p=f.nombre)==null?void 0:p.toLowerCase().includes(h))||((y=f.numero_identificacion)==null?void 0:y.toLowerCase().includes(h))||((x=f.especie)==null?void 0:x.toLowerCase().includes(h))||((w=f.raza)==null?void 0:w.toLowerCase().includes(h))||((C=f.estado_reproductivo)==null?void 0:C.toLowerCase().includes(h))}),[t,e,s]),c=d=>{var f,p,y;const h=(p=(f=n==null?void 0:n.current)==null?void 0:f.get)==null?void 0:p.call(f,Number(d));h&&((y=window.ClusterPopup)!=null&&y.open)?window.ClusterPopup.open(h):console.warn("No se encontr el animal en featuresMapRef o no est definido ClusterPopup."),i(!1)};return _.useEffect(()=>{const d=h=>{h.key==="Escape"&&i(!1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),g.jsxs("div",{className:"absolute top-16 mt-2 right-4 z-40 flex items-center gap-2",children:[g.jsx("button",{onClick:()=>{var d;i(!r),(d=window.ClusterPopup)!=null&&d.close&&window.ClusterPopup.close()},className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(Ro,{className:"h-6 w-6 text-gray-800"})}),r&&g.jsxs("div",{className:"absolute right-16 top-0 bg-white rounded-xl shadow-xl border border-gray-200 p-3 w-[280px] max-h-[360px] overflow-auto z-50",children:[g.jsx("button",{onClick:()=>i(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(zs,{size:18})}),g.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Buscar animal"}),g.jsx(tn,{value:s,onChange:d=>o(d.target.value),placeholder:"Nombre, ID, especie...",className:"mb-3 text-sm"}),l.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1 pr-1",children:l.map(d=>g.jsx("li",{children:g.jsxs(it,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>c(d.value),children:[g.jsx(Ro,{size:16,className:"text-cyan-600 mr-2"}),d.label," - ",d.full.especie]})},d.value))})]})]})}function K6(){const[t,e]=_.useState(!1),[n,r]=_.useState(""),[i,s]=_.useState({}),{mapRef:o,ready:l}=_.useContext(_d),{campoSeleccionado:c,setCampoSeleccionado:d,lastCampoId:h}=_.useContext(wd),{campos:f,parcelas:p,formData:y,setFormData:x,setAreaCampo:w,setAreaParcela:C}=Qv(),b=_.useRef(new Map),R=_.useRef(),T=_.useRef(),{setFeaturesOnMap:P,clearParcelas:k}=Yx({mapRef:o,parcelas:p,formData:y,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:x,setAreaCampo:w,setAreaParcela:C,enabled:!0,modoVisualizacionCampo:!0});Zx(()=>k()),_.useEffect(()=>{Ma().then(I=>s(I.parcelas)).catch(I=>console.error("Error al cargar parcelas:",I))},[]);const{inside:M,outside:F}=B6(1e4,y.campo_id);return _.useEffect(()=>{!l||!y.campo_id||P()},[l,y.campo_id,y.parcela_id,p]),_.useEffect(()=>{!y.campo_id&&!c&&h&&f[h]&&(d(h),x(I=>({...I,campo_id:h,parcela_id:"",nombre:"",descripcion:""})),C(0))},[]),_.useEffect(()=>{c||!y.campo_id||!f[y.campo_id]||(d(y.campo_id),o.current.getView().animate({center:Ao([f[y.campo_id].lon,f[y.campo_id].lat]),duration:800,easing:kr}))},[y.campo_id,c]),_.useEffect(()=>{var V,H;const I=new Map,z=(V=R.current)==null?void 0:V.current,G=(H=T.current)==null?void 0:H.current;if(z)for(const[B,X]of z.entries())I.set(B,X);if(G)for(const[B,X]of G.entries())I.set(B,X);b.current=I},[M,F]),g.jsxs(g.Fragment,{children:[g.jsx(Kx,{isOpen:t,message:n,onClose:()=>e(!1)}),g.jsx(I6,{map:o.current,inside:M,outside:F,insideRef:R,outsideRef:T,settings:{distance:50,baseColor:"orange"}}),g.jsx(X6,{mapRef:o,inside:M,outside:F,featuresMapRef:b})]})}function Y6({onFinish:t,onUndo:e,onStart:n,onCancel:r,canFinish:i,closedBySnap:s,firstVertexDraw:o,open:l,setOpen:c,finished:d}){const h=()=>{const f=!l;c(f),f&&(n==null||n())};return g.jsxs(g.Fragment,{children:[!l&&g.jsx("button",{onClick:h,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Dibujar polgono",children:g.jsx(O4,{className:"w-6 h-6 text-gray-800"})}),l&&g.jsxs("div",{className:"flex flex-row-reverse gap-1 items-center",children:[g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar",children:g.jsx(zs,{className:"w-6 h-6"})}),!d&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:e,disabled:!o,className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${o?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Deshacer ltimo punto",children:g.jsx(W4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:t,disabled:!(i||s),className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${i||s?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Finalizar dibujo",children:g.jsx(ic,{className:"w-6 h-6"})})]})]})]})}function Z6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo"}),g.jsx("select",{name:"campo_id",value:e.campo_id,onChange:r=>{n(r),window.dispatchEvent(new Event("cerrarPopupResumen"))},className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del rea"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:14,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripcin de la parcela"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]})]})}function q6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo existente"}),g.jsxs("select",{name:"campo_id",value:e.campo_id,onChange:n,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:[g.jsx("option",{value:"",children:"-- Crear nuevo campo --"}),Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del campo"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:16,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripcin del campo"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsx("input",{type:"hidden",name:"lat",value:e.lat}),g.jsx("input",{type:"hidden",name:"lon",value:e.lon})]})}function J6({mode:t="edit",isDeleteMode:e=!1,onToggleDeleteMode:n=()=>{},onCancel:r=()=>{},onSave:i=()=>{},showDelete:s=!0,showCancel:o=!0,showSave:l=!0}){return["edit","draw-edit"].includes(t)?g.jsxs(g.Fragment,{children:[s&&g.jsx("button",{onClick:n,className:`p-3 rounded-full shadow-md flex items-center justify-center ${e?"bg-red-600":"bg-white"}`,title:"Eliminar vrtices",children:g.jsx(Vn,{className:"w-6 h-6"})}),o&&g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar edicin",children:g.jsx(zs,{className:"w-6 h-6"})}),l&&g.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Guardar cambios",children:g.jsx(BT,{className:"w-6 h-6"})})]}):null}const Jx=_.createContext({});function Qx(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const e_=typeof window<"u",tA=e_?_.useLayoutEffect:_.useEffect,Qm=_.createContext(null);function t_(t,e){t.indexOf(e)===-1&&t.push(e)}function n_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fs=(t,e,n)=>n>e?e:n<t?t:n;let r_=()=>{};const js={},nA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rA(t){return typeof t=="object"&&t!==null}const iA=t=>/^0[^.\s]+$/u.test(t);function i_(t){let e;return()=>(e===void 0&&(e=t()),e)}const ni=t=>t,Q6=(t,e)=>n=>e(t(n)),Cd=(...t)=>t.reduce(Q6),Yu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class s_{constructor(){this.subscriptions=[]}add(e){return t_(this.subscriptions,e),()=>n_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const es=t=>t*1e3,ts=t=>t/1e3;function sA(t,e){return e?t*(1e3/e):0}const oA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eU=1e-7,tU=12;function nU(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=oA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>eU&&++l<tU);return o}function Sd(t,e,n,r){if(t===e&&n===r)return ni;const i=s=>nU(s,0,1,t,n);return s=>s===0||s===1?s:oA(i(s),e,r)}const aA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lA=t=>e=>1-t(1-e),cA=Sd(.33,1.53,.69,.99),o_=lA(cA),uA=aA(o_),dA=t=>(t*=2)<1?.5*o_(t):.5*(2-Math.pow(2,-10*(t-1))),a_=t=>1-Math.sin(Math.acos(t)),hA=lA(a_),fA=aA(a_),rU=Sd(.42,0,1,1),iU=Sd(0,0,.58,1),mA=Sd(.42,0,.58,1),sU=t=>Array.isArray(t)&&typeof t[0]!="number",gA=t=>Array.isArray(t)&&typeof t[0]=="number",oU={linear:ni,easeIn:rU,easeInOut:mA,easeOut:iU,circIn:a_,circInOut:fA,circOut:hA,backIn:o_,backInOut:uA,backOut:cA,anticipate:dA},aU=t=>typeof t=="string",Zb=t=>{if(gA(t)){r_(t.length===4);const[e,n,r,i]=t;return Sd(e,n,r,i)}else if(aU(t))return oU[t];return t},sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],qb={value:null};function lU(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(f){o.has(f)&&(h.schedule(f),t()),c++,f(l)}const h={schedule:(f,p=!1,y=!1)=>{const w=y&&i?n:r;return p&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),e&&qb.value&&qb.value.frameloop[e].push(c),c=0,n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const cU=40;function pA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=sf.reduce((T,P)=>(T[P]=lU(s,e?P:void 0),T),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:f,preRender:p,render:y,postRender:x}=o,w=()=>{const T=js.useManualTiming?i.timestamp:performance.now();n=!1,js.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,cU),1)),i.timestamp=T,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),p.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},C=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:sf.reduce((T,P)=>{const k=o[P];return T[P]=(M,F=!1,I=!1)=>(n||C(),k.schedule(M,F,I)),T},{}),cancel:T=>{for(let P=0;P<sf.length;P++)o[sf[P]].cancel(T)},state:i,steps:o}}const{schedule:rn,cancel:Mo,state:Hn,steps:zy}=pA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0);let Tf;function uU(){Tf=void 0}const Er={now:()=>(Tf===void 0&&Er.set(Hn.isProcessing||js.useManualTiming?Hn.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(uU)}},yA=t=>e=>typeof e=="string"&&e.startsWith(t),l_=yA("--"),dU=yA("var(--"),c_=t=>dU(t)?hU.test(t.split("/*")[0].trim()):!1,hU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zu={...mc,transform:t=>Fs(0,1,t)},of={...mc,default:1},Eu=t=>Math.round(t*1e5)/1e5,u_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fU(t){return t==null}const mU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,d_=(t,e)=>n=>!!(typeof n=="string"&&mU.test(n)&&n.startsWith(t)||e&&!fU(n)&&Object.prototype.hasOwnProperty.call(n,e)),vA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(u_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},gU=t=>Fs(0,255,t),$y={...mc,transform:t=>Math.round(gU(t))},pa={test:d_("rgb","red"),parse:vA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$y.transform(t)+", "+$y.transform(e)+", "+$y.transform(n)+", "+Eu(Zu.transform(r))+")"};function pU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Y0={test:d_("#"),parse:pU,transform:pa.transform},bd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mo=bd("deg"),ns=bd("%"),Ze=bd("px"),yU=bd("vh"),vU=bd("vw"),Jb={...ns,parse:t=>ns.parse(t)/100,transform:t=>ns.transform(t*100)},Ml={test:d_("hsl","hue"),parse:vA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ns.transform(Eu(e))+", "+ns.transform(Eu(n))+", "+Eu(Zu.transform(r))+")"},vn={test:t=>pa.test(t)||Y0.test(t)||Ml.test(t),parse:t=>pa.test(t)?pa.parse(t):Ml.test(t)?Ml.parse(t):Y0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pa.transform(t):Ml.transform(t),getAnimatableNone:t=>{const e=vn.parse(t);return e.alpha=0,vn.transform(e)}},xU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _U(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(u_))==null?void 0:e.length)||0)+(((n=t.match(xU))==null?void 0:n.length)||0)>0}const xA="number",_A="color",wU="var",CU="var(",Qb="${}",SU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(SU,c=>(vn.test(c)?(r.color.push(s),i.push(_A),n.push(vn.parse(c))):c.startsWith(CU)?(r.var.push(s),i.push(wU),n.push(c)):(r.number.push(s),i.push(xA),n.push(parseFloat(c))),++s,Qb)).split(Qb);return{values:n,split:l,indexes:r,types:i}}function wA(t){return qu(t).values}function CA(t){const{split:e,types:n}=qu(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===xA?s+=Eu(i[o]):l===_A?s+=vn.transform(i[o]):s+=i[o]}return s}}const bU=t=>typeof t=="number"?0:vn.test(t)?vn.getAnimatableNone(t):t;function EU(t){const e=wA(t);return CA(t)(e.map(bU))}const Io={test:_U,parse:wA,createTransformer:CA,getAnimatableNone:EU};function By(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=By(c,l,t+1/3),s=By(c,l,t),o=By(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function em(t,e){return n=>n>0?e:t}const nn=(t,e,n)=>t+(e-t)*n,Gy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},TU=[Y0,pa,Ml],PU=t=>TU.find(e=>e.test(t));function eE(t){const e=PU(t);if(!e)return!1;let n=e.parse(t);return e===Ml&&(n=RU(n)),n}const tE=(t,e)=>{const n=eE(t),r=eE(e);if(!n||!r)return em(t,e);const i={...n};return s=>(i.red=Gy(n.red,r.red,s),i.green=Gy(n.green,r.green,s),i.blue=Gy(n.blue,r.blue,s),i.alpha=nn(n.alpha,r.alpha,s),pa.transform(i))},Z0=new Set(["none","hidden"]);function kU(t,e){return Z0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function AU(t,e){return n=>nn(t,e,n)}function h_(t){return typeof t=="number"?AU:typeof t=="string"?c_(t)?em:vn.test(t)?tE:NU:Array.isArray(t)?SA:typeof t=="object"?vn.test(t)?tE:MU:em}function SA(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>h_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function MU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=h_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function IU(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const NU=(t,e)=>{const n=Io.createTransformer(e),r=qu(t),i=qu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Z0.has(t)&&!i.values.length||Z0.has(e)&&!r.values.length?kU(t,e):Cd(SA(IU(r,i),i.values),n):em(t,e)};function bA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nn(t,e,n):h_(t)(t,e)}const FU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rn.update(e,n),stop:()=>Mo(e),now:()=>Hn.isProcessing?Hn.timestamp:Er.now()}},EA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tm=2e4;function f_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tm;)e+=n,r=t.next(e);return e>=tm?1/0:e}function jU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(f_(r),tm);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ts(i)}}const LU=5;function RA(t,e,n){const r=Math.max(e-LU,0);return sA(n-t(r),e-r)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nE=.001;function DU({duration:t=an.duration,bounce:e=an.bounce,velocity:n=an.velocity,mass:r=an.mass}){let i,s,o=1-e;o=Fs(an.minDamping,an.maxDamping,o),t=Fs(an.minDuration,an.maxDuration,ts(t)),o<1?(i=d=>{const h=d*o,f=h*t,p=h-n,y=q0(d,o),x=Math.exp(-f);return nE-p/y*x},s=d=>{const f=d*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-f),w=q0(Math.pow(d,2),o);return(-i(d)+nE>0?-1:1)*((p-y)*x)/w}):(i=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-.001+h*f},s=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=VU(i,s,l);if(t=es(t),isNaN(c))return{stiffness:an.stiffness,damping:an.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const OU=12;function VU(t,e,n){let r=n;for(let i=1;i<OU;i++)r=r-t(r)/e(r);return r}function q0(t,e){return t*Math.sqrt(1-e*e)}const zU=["duration","bounce"],$U=["stiffness","damping","mass"];function rE(t,e){return e.some(n=>t[n]!==void 0)}function BU(t){let e={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...t};if(!rE(t,$U)&&rE(t,zU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:an.mass,stiffness:i,damping:s}}else{const n=DU(t);e={...e,...n,mass:an.mass},e.isResolvedFromDuration=!0}return e}function nm(t=an.visualDuration,e=an.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=BU({...n,velocity:-ts(n.velocity||0)}),x=p||0,w=d/(2*Math.sqrt(c*h)),C=o-s,b=ts(Math.sqrt(c/h)),R=Math.abs(C)<5;r||(r=R?an.restSpeed.granular:an.restSpeed.default),i||(i=R?an.restDelta.granular:an.restDelta.default);let T;if(w<1){const k=q0(b,w);T=M=>{const F=Math.exp(-w*b*M);return o-F*((x+w*b*C)/k*Math.sin(k*M)+C*Math.cos(k*M))}}else if(w===1)T=k=>o-Math.exp(-b*k)*(C+(x+b*C)*k);else{const k=b*Math.sqrt(w*w-1);T=M=>{const F=Math.exp(-w*b*M),I=Math.min(k*M,300);return o-F*((x+w*b*C)*Math.sinh(I)+k*C*Math.cosh(I))/k}}const P={calculatedDuration:y&&f||null,next:k=>{const M=T(k);if(y)l.done=k>=f;else{let F=k===0?x:0;w<1&&(F=k===0?es(x):RA(T,k,M));const I=Math.abs(F)<=r,z=Math.abs(o-M)<=i;l.done=I&&z}return l.value=l.done?o:M,l},toString:()=>{const k=Math.min(f_(P),tm),M=EA(F=>P.next(k*F).value,k,30);return k+"ms "+M},toTransition:()=>{}};return P}nm.applyToOptions=t=>{const e=jU(t,100,nm);return t.ease=e.ease,t.duration=es(e.duration),t.type="keyframes",t};function J0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=I=>l!==void 0&&I<l||c!==void 0&&I>c,x=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let w=n*e;const C=f+w,b=o===void 0?C:o(C);b!==C&&(w=b-f);const R=I=>-w*Math.exp(-I/r),T=I=>b+R(I),P=I=>{const z=R(I),G=T(I);p.done=Math.abs(z)<=d,p.value=p.done?b:G};let k,M;const F=I=>{y(p.value)&&(k=I,M=nm({keyframes:[p.value,x(p.value)],velocity:RA(T,I,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return F(0),{calculatedDuration:null,next:I=>{let z=!1;return!M&&k===void 0&&(z=!0,P(I),F(I)),k!==void 0&&I>=k?M.next(I-k):(!z&&P(I),p)}}}function GU(t,e,n){const r=[],i=n||js.mix||bA,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ni:e;l=Cd(c,l)}r.push(l)}return r}function UU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(r_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=GU(e,r,i),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=Yu(t[f],t[f+1],h);return l[f](p)};return n?h=>d(Fs(t[0],t[s-1],h)):d}function WU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Yu(0,e,r);t.push(nn(n,1,i))}}function HU(t){const e=[0];return WU(e,t.length-1),e}function XU(t,e){return t.map(n=>n*e)}function KU(t,e){return t.map(()=>e||mA).splice(0,t.length-1)}function Ru({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sU(r)?r.map(Zb):Zb(r),s={done:!1,value:e[0]},o=XU(n&&n.length===e.length?n:HU(e),t),l=UU(o,e,{ease:Array.isArray(i)?i:KU(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const YU=t=>t!==null;function m_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(YU),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const ZU={decay:J0,inertia:J0,tween:Ru,keyframes:Ru,spring:nm};function TA(t){typeof t.type=="string"&&(t.type=ZU[t.type])}class g_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const qU=t=>t/100;class p_ extends g_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Er.now()&&this.tick(Er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;TA(e);const{type:n=Ru,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Ru;c!==Ru&&typeof l[0]!="number"&&(this.mixKeyframes=Cd(qU,bA(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=f_(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:y,type:x,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,P=r;if(f){const I=Math.min(this.currentTime,i)/l;let z=Math.floor(I),G=I%1;!G&&I>=1&&(G=1),G===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(p==="reverse"?(G=1-G,y&&(G-=y/l)):p==="mirror"&&(P=o)),T=Fs(0,1,G)*l}const k=R?{done:!1,value:h[0]}:P.next(T);s&&(k.value=s(k.value));let{done:M}=k;!R&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return F&&x!==J0&&(k.value=m_(h,this.options,C,this.speed)),w&&w(k.value),F&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return ts(this.calculatedDuration)}get time(){return ts(this.currentTime)}set time(e){var n;e=es(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ts(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=FU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function JU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ya=t=>t*180/Math.PI,Q0=t=>{const e=ya(Math.atan2(t[1],t[0]));return ev(e)},QU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Q0,rotateZ:Q0,skewX:t=>ya(Math.atan(t[1])),skewY:t=>ya(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ev=t=>(t=t%360,t<0&&(t+=360),t),iE=Q0,sE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),oE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sE,scaleY:oE,scale:t=>(sE(t)+oE(t))/2,rotateX:t=>ev(ya(Math.atan2(t[6],t[5]))),rotateY:t=>ev(ya(Math.atan2(-t[2],t[0]))),rotateZ:iE,rotate:iE,skewX:t=>ya(Math.atan(t[4])),skewY:t=>ya(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tv(t){return t.includes("scale")?1:0}function nv(t,e){if(!t||t==="none")return tv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=eW,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QU,i=l}if(!i)return tv(e);const s=r[e],o=i[1].split(",").map(nW);return typeof s=="function"?s(o):o[s]}const tW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return nv(n,e)};function nW(t){return parseFloat(t.trim())}const gc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pc=new Set(gc),aE=t=>t===mc||t===Ze,rW=new Set(["x","y","z"]),iW=gc.filter(t=>!rW.has(t));function sW(t){const e=[];return iW.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>nv(e,"x"),y:(t,{transform:e})=>nv(e,"y")};ba.translateX=ba.x;ba.translateY=ba.y;const Ea=new Set;let rv=!1,iv=!1,sv=!1;function PA(){if(iv){const t=Array.from(Ea).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=sW(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}iv=!1,rv=!1,Ea.forEach(t=>t.complete(sv)),Ea.clear()}function kA(){Ea.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iv=!0)})}function oW(){sv=!0,kA(),PA(),sv=!1}class y_{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ea.add(this),rv||(rv=!0,rn.read(kA),rn.resolveKeyframes(PA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}JU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ea.delete(this)}cancel(){this.state==="scheduled"&&(Ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aW=t=>t.startsWith("--");function lW(t,e,n){aW(e)?t.style.setProperty(e,n):t.style[e]=n}const cW=i_(()=>window.ScrollTimeline!==void 0),uW={};function dW(t,e){const n=i_(t);return()=>uW[e]??n()}const AA=dW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,lE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function MA(t,e){if(t)return typeof t=="function"?AA()?EA(t,e):"ease-out":gA(t)?gu(t):Array.isArray(t)?t.map(n=>MA(n,e)||lE.easeOut):lE[t]}function hW(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const f=MA(l,i);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(h,p)}function IA(t){return typeof t=="function"&&"applyToOptions"in t}function fW({type:t,...e}){return IA(t)&&AA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mW extends g_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,r_(typeof e.type!="string");const d=fW(e);this.animation=hW(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=m_(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):lW(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ts(Number(e))}get time(){return ts(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=es(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&cW()?(this.animation.timeline=e,ni):n(this)}}const NA={anticipate:dA,backInOut:uA,circInOut:fA};function gW(t){return t in NA}function pW(t){typeof t.ease=="string"&&gW(t.ease)&&(t.ease=NA[t.ease])}const cE=10;class yW extends mW{constructor(e){pW(e),TA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new p_({...o,autoplay:!1}),c=es(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-cE).value,l.sample(c).value,cE),l.stop()}}const uE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Io.test(t)||t==="0")&&!t.startsWith("url("));function vW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xW(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=uE(i,e),l=uE(s,e);return!o||!l?!1:vW(t)||(n==="spring"||IA(n))&&r}function v_(t){return rA(t)&&"offsetHeight"in t}const _W=new Set(["opacity","clipPath","filter","transform"]),wW=i_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CW(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!v_((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return wW()&&n&&_W.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const SW=40;class bW extends g_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...f}){var x;super(),this.stop=()=>{var w,C;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Er.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||y_;this.keyframeResolver=new y(l,(w,C,b)=>this.onKeyframesResolved(w,C,p,!b),c,d,h),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=Er.now(),xW(e,s,o,l)||((js.instantAnimations||!c)&&(h==null||h(m_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>SW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&CW(p)?new yW({...p,element:p.motionValue.owner.current}):new p_(p);y.finished.then(()=>this.notifyFinished()).catch(ni),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),oW()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const EW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RW(t){const e=EW.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function FA(t,e,n=1){const[r,i]=RW(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return nA(o)?parseFloat(o):o}return c_(i)?FA(i,e,n+1):i}function x_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const jA=new Set(["width","height","top","left","right","bottom",...gc]),TW={test:t=>t==="auto",parse:t=>t},LA=t=>e=>e.test(t),DA=[mc,Ze,ns,mo,vU,yU,TW],dE=t=>DA.find(LA(t));function PW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iA(t):!0}const kW=new Set(["brightness","contrast","saturate","opacity"]);function AW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(u_)||[];if(!r)return t;const i=n.replace(r,"");let s=kW.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const MW=/\b([a-z-]*)\(.*?\)/gu,ov={...Io,getAnimatableNone:t=>{const e=t.match(MW);return e?e.map(AW).join(" "):t}},hE={...mc,transform:Math.round},IW={rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:mo,skewX:mo,skewY:mo,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:Zu,originX:Jb,originY:Jb,originZ:Ze},__={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...IW,zIndex:hE,fillOpacity:Zu,strokeOpacity:Zu,numOctaves:hE},NW={...__,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:ov,WebkitFilter:ov},OA=t=>NW[t];function VA(t,e){let n=OA(t);return n!==ov&&(n=Io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FW=new Set(["auto","none","0"]);function jW(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!FW.has(s)&&qu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=VA(n,i)}class LW extends y_{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),c_(d))){const h=FA(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!jA.has(r)||e.length!==2)return;const[i,s]=e,o=dE(i),l=dE(s);if(o!==l)if(aE(o)&&aE(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else ba[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||PW(e[i]))&&r.push(i);r.length&&jW(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ba[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ba[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function DW(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const zA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,fE=30,OW=t=>!isNaN(parseFloat(t));class VW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,l;const s=Er.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new s_);const r=this.events[e].add(n);return e==="change"?()=>{r(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fE);return sA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wl(t,e){return new VW(t,e)}const{schedule:w_}=pA(queueMicrotask,!1),vi={x:!1,y:!1};function $A(){return vi.x||vi.y}function zW(t){return t==="x"||t==="y"?vi[t]?null:(vi[t]=!0,()=>{vi[t]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function BA(t,e){const n=DW(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function mE(t){return!(t.pointerType==="touch"||$A())}function $W(t,e,n={}){const[r,i,s]=BA(t,n),o=l=>{if(!mE(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=f=>{mE(f)&&(d(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const GA=(t,e)=>e?t===e?!0:GA(t,e.parentElement):!1,C_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GW(t){return BW.has(t.tagName)||t.tabIndex!==-1}const Pf=new WeakSet;function gE(t){return e=>{e.key==="Enter"&&t(e)}}function Uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UW=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gE(()=>{if(Pf.has(n))return;Uy(n,"down");const i=gE(()=>{Uy(n,"up")}),s=()=>Uy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function pE(t){return C_(t)&&!$A()}function WW(t,e,n={}){const[r,i,s]=BA(t,n),o=l=>{const c=l.currentTarget;if(!pE(l))return;Pf.add(c);const d=e(c,l),h=(y,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Pf.has(c)&&Pf.delete(c),pE(y)&&typeof d=="function"&&d(y,{success:x})},f=y=>{h(y,c===window||c===document||n.useGlobalTarget||GA(c,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),v_(l)&&(l.addEventListener("focus",d=>UW(d,i)),!GW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function UA(t){return rA(t)&&"ownerSVGElement"in t}function HW(t){return UA(t)&&t.tagName==="svg"}const ar=t=>!!(t&&t.getVelocity),XW=[...DA,vn,Io],KW=t=>XW.find(LA(t)),S_=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class YW extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=v_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZW({children:t,isPresent:e,anchorX:n}){const r=_.useId(),i=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(S_);return _.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=s.current;if(e||!i.current||!l||!c)return;const p=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),g.jsx(YW,{isPresent:e,childRef:i,sizeRef:s,children:_.cloneElement(t,{ref:i})})}const qW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const c=Qx(JW),d=_.useId();let h=!0,f=_.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const y of c.values())if(!y)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return s&&h&&(f={...f}),_.useMemo(()=>{c.forEach((p,y)=>c.set(y,!1))},[n]),_.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(ZW,{isPresent:n,anchorX:l,children:t})),g.jsx(Qm.Provider,{value:f,children:t})};function JW(){return new Map}function WA(t=!0){const e=_.useContext(Qm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const o=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const af=t=>t.key||"";function yE(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const QW=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=WA(o),h=_.useMemo(()=>yE(t),[t]),f=o&&!c?[]:h.map(af),p=_.useRef(!0),y=_.useRef(h),x=Qx(()=>new Map),[w,C]=_.useState(h),[b,R]=_.useState(h);tA(()=>{p.current=!1,y.current=h;for(let k=0;k<b.length;k++){const M=af(b[k]);f.includes(M)?x.delete(M):x.get(M)!==!0&&x.set(M,!1)}},[b,f.length,f.join("-")]);const T=[];if(h!==w){let k=[...h];for(let M=0;M<b.length;M++){const F=b[M],I=af(F);f.includes(I)||(k.splice(M,0,F),T.push(F))}return s==="wait"&&T.length&&(k=T),R(yE(k)),C(h),null}const{forceRender:P}=_.useContext(Jx);return g.jsx(g.Fragment,{children:b.map(k=>{const M=af(k),F=o&&!c?!1:h===b||f.includes(M),I=()=>{if(x.has(M))x.set(M,!0);else return;let z=!0;x.forEach(G=>{G||(z=!1)}),z&&(P==null||P(),R(y.current),o&&(d==null||d()),r&&r())};return g.jsx(qW,{isPresent:F,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:F?void 0:I,anchorX:l,children:k},M)})})},HA=_.createContext({strict:!1}),vE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hl={};for(const t in vE)Hl[t]={isEnabled:e=>vE[t].some(n=>!!e[n])};function e8(t){for(const e in t)Hl[e]={...Hl[e],...t[e]}}const t8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||t8.has(t)}let XA=t=>!rm(t);function n8(t){typeof t=="function"&&(XA=e=>e.startsWith("on")?!rm(e):t(e))}try{n8(require("@emotion/is-prop-valid").default)}catch{}function r8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(XA(i)||n===!0&&rm(i)||!e&&!rm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function i8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const eg=_.createContext({});function tg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ju(t){return typeof t=="string"||Array.isArray(t)}const b_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E_=["initial",...b_];function ng(t){return tg(t.animate)||E_.some(e=>Ju(t[e]))}function KA(t){return!!(ng(t)||t.variants)}function s8(t,e){if(ng(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ju(n)?n:void 0,animate:Ju(r)?r:void 0}}return t.inherit!==!1?e:{}}function o8(t){const{initial:e,animate:n}=s8(t,_.useContext(eg));return _.useMemo(()=>({initial:e,animate:n}),[xE(e),xE(n)])}function xE(t){return Array.isArray(t)?t.join(" "):t}const a8=Symbol.for("motionComponentSymbol");function Il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function l8(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Il(n)&&(n.current=r))},[e])}const R_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),c8="framerAppearId",YA="data-"+R_(c8),ZA=_.createContext({});function u8(t,e,n,r,i){var w,C;const{visualElement:s}=_.useContext(eg),o=_.useContext(HA),l=_.useContext(Qm),c=_.useContext(S_).reducedMotion,d=_.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,f=_.useContext(ZA);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&d8(d.current,n,i,f);const p=_.useRef(!1);_.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const y=n[YA],x=_.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,y)));return tA(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),w_.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),_.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,y)}),x.current=!1))}),h}function d8(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:qA(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Il(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function qA(t){if(t)return t.options.allowProjection!==!1?t.projection:qA(t.parent)}function h8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&e8(t);function s(l,c){let d;const h={..._.useContext(S_),...l,layoutId:f8(l)},{isStatic:f}=h,p=o8(l),y=r(l,f);if(!f&&e_){m8();const x=g8(h);d=x.MeasureLayout,p.visualElement=u8(i,y,h,e,x.ProjectionNode)}return g.jsxs(eg.Provider,{value:p,children:[d&&p.visualElement?g.jsx(d,{visualElement:p.visualElement,...h}):null,n(i,l,l8(y,p.visualElement,c),y,f,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=_.forwardRef(s);return o[a8]=i,o}function f8({layoutId:t}){const e=_.useContext(Jx).id;return e&&t!==void 0?e+"-"+t:t}function m8(t,e){_.useContext(HA).strict}function g8(t){const{drag:e,layout:n}=Hl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Qu={};function p8(t){for(const e in t)Qu[e]=t[e],l_(e)&&(Qu[e].isCSSVariable=!0)}function JA(t,{layout:e,layoutId:n}){return pc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qu[t]||t==="opacity")}const y8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v8=gc.length;function x8(t,e,n){let r="",i=!0;for(let s=0;s<v8;s++){const o=gc[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=zA(l,__[o]);if(!c){i=!1;const h=y8[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function T_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(pc.has(c)){o=!0;continue}else if(l_(c)){i[c]=d;continue}else{const h=zA(d,__[c]);c.startsWith("origin")?(l=!0,s[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=x8(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${d} ${h}`}}const P_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QA(t,e,n){for(const r in e)!ar(e[r])&&!JA(r,n)&&(t[r]=e[r])}function _8({transformTemplate:t},e){return _.useMemo(()=>{const n=P_();return T_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function w8(t,e){const n=t.style||{},r={};return QA(r,n,t),Object.assign(r,_8(t,e)),r}function C8(t,e){const n={},r=w8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const S8={offset:"stroke-dashoffset",array:"stroke-dasharray"},b8={offset:"strokeDashoffset",array:"strokeDasharray"};function E8(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?S8:b8;t[s.offset]=Ze.transform(-r);const o=Ze.transform(e),l=Ze.transform(n);t[s.array]=`${o} ${l}`}function eM(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,d,h){if(T_(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&E8(f,i,s,o,!1)}const tM=()=>({...P_(),attrs:{}}),nM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function R8(t,e,n,r){const i=_.useMemo(()=>{const s=tM();return eM(s,e,nM(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};QA(s,t.style,t),i.style={...s,...i.style}}return i}const T8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k_(t){return typeof t!="string"||t.includes("-")?!1:!!(T8.indexOf(t)>-1||/[A-Z]/u.test(t))}function P8(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(k_(n)?R8:C8)(r,s,o,n),d=r8(r,typeof n=="string",t),h=n!==_.Fragment?{...d,...c,ref:i}:{},{children:f}=r,p=_.useMemo(()=>ar(f)?f.get():f,[f]);return _.createElement(n,{...h,children:p})}}function _E(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function A_(t,e,n,r){if(typeof e=="function"){const[i,s]=_E(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=_E(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function kf(t){return ar(t)?t.get():t}function k8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:A8(n,r,i,t),renderState:e()}}const rM=t=>(e,n)=>{const r=_.useContext(eg),i=_.useContext(Qm),s=()=>k8(t,e,r,i);return n?s():Qx(s)};function A8(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=kf(s[p]);let{initial:o,animate:l}=t;const c=ng(t),d=KA(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!tg(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const x=A_(t,p[y]);if(x){const{transitionEnd:w,transition:C,...b}=x;for(const R in b){let T=b[R];if(Array.isArray(T)){const P=h?T.length-1:0;T=T[P]}T!==null&&(i[R]=T)}for(const R in w)i[R]=w[R]}}}return i}function M_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ar(r[o])||e.style&&ar(e.style[o])||JA(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const M8={useVisualState:rM({scrapeMotionValuesFromProps:M_,createRenderState:P_})};function iM(t,e,n){const r=M_(t,e,n);for(const i in t)if(ar(t[i])||ar(e[i])){const s=gc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const I8={useVisualState:rM({scrapeMotionValuesFromProps:iM,createRenderState:tM})};function N8(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...k_(r)?I8:M8,preloadedFeatures:t,useRender:P8(i),createVisualElement:e,Component:r};return h8(o)}}function ed(t,e,n){const r=t.getProps();return A_(r,e,n!==void 0?n:r.custom,t)}const av=t=>Array.isArray(t);function F8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wl(n))}function j8(t){return av(t)?t[t.length-1]||0:t}function L8(t,e){const n=ed(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=j8(s[o]);F8(t,o,l)}}function D8(t){return!!(ar(t)&&t.add)}function lv(t,e){const n=t.getValue("willChange");if(D8(n))return n.add(e);if(!n&&js.WillChange){const r=new js.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function sM(t){return t.props[YA]}const O8=t=>t!==null;function V8(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(O8),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const z8={type:"spring",stiffness:500,damping:25,restSpeed:10},$8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),B8={type:"keyframes",duration:.8},G8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U8=(t,{keyframes:e})=>e.length>2?B8:pc.has(t)?t.startsWith("scale")?$8(e[1]):z8:G8;function W8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const I_=(t,e,n,r={},i,s)=>o=>{const l=x_(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-es(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};W8(l)||Object.assign(h,U8(t,h)),h.duration&&(h.duration=es(h.duration)),h.repeatDelay&&(h.repeatDelay=es(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),(js.instantAnimations||js.skipAnimations)&&(f=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!s&&e.get()!==void 0){const p=V8(h.keyframes,l);if(p!==void 0){rn.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new p_(h):new bW(h)};function H8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function oM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),p=l[h];if(p===void 0||d&&H8(d,h))continue;const y={delay:n,...x_(s||{},h)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=sM(t);if(b){const R=window.MotionHandoffAnimation(b,h,rn);R!==null&&(y.startTime=R,w=!0)}}lv(t,h),f.start(I_(h,f,p,t.shouldReduceMotion&&jA.has(h)?{type:!1}:y,t,w));const C=f.animation;C&&c.push(C)}return o&&Promise.all(c).then(()=>{rn.update(()=>{o&&L8(t,o)})}),c}function cv(t,e,n={}){var c;const r=ed(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(oM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return X8(t,e,h+d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function X8(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(K8).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(cv(d,e,{...s,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function K8(t,e){return t.sortNodePosition(e)}function Y8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>cv(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=cv(t,e,n);else{const i=typeof e=="function"?ed(t,e,n.custom):e;r=Promise.all(oM(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function aM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Z8=E_.length;function lM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Z8;n++){const r=E_[n],i=t.props[r];(Ju(i)||i===!1)&&(e[r]=i)}return e}const q8=[...b_].reverse(),J8=b_.length;function Q8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Y8(t,n,r)))}function eH(t){let e=Q8(t),n=wE(),r=!0;const i=c=>(d,h)=>{var p;const f=ed(t,h,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:x,...w}=f;d={...d,...w,...x}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,h=lM(t.parent)||{},f=[],p=new Set;let y={},x=1/0;for(let C=0;C<J8;C++){const b=q8[C],R=n[b],T=d[b]!==void 0?d[b]:h[b],P=Ju(T),k=b===c?R.isActive:null;k===!1&&(x=C);let M=T===h[b]&&T!==d[b]&&P;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),R.protectedKeys={...y},!R.isActive&&k===null||!T&&!R.prevProp||tg(T)||typeof T=="boolean")continue;const F=tH(R.prevProp,T);let I=F||b===c&&R.isActive&&!M&&P||C>x&&P,z=!1;const G=Array.isArray(T)?T:[T];let V=G.reduce(i(b),{});k===!1&&(V={});const{prevResolvedValues:H={}}=R,B={...H,...V},X=D=>{I=!0,p.has(D)&&(z=!0,p.delete(D)),R.needsAnimating[D]=!0;const j=t.getValue(D);j&&(j.liveStyle=!1)};for(const D in B){const j=V[D],U=H[D];if(y.hasOwnProperty(D))continue;let q=!1;av(j)&&av(U)?q=!aM(j,U):q=j!==U,q?j!=null?X(D):p.add(D):j!==void 0&&p.has(D)?X(D):R.protectedKeys[D]=!0}R.prevProp=T,R.prevResolvedValues=V,R.isActive&&(y={...y,...V}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&F)||z)&&f.push(...G.map(D=>({animation:D,options:{type:b}})))}if(p.size){const C={};if(typeof d.initial!="boolean"){const b=ed(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(C.transition=b.transition)}p.forEach(b=>{const R=t.getBaseTarget(b),T=t.getValue(b);T&&(T.liveStyle=!0),C[b]=R??null}),f.push({animation:C})}let w=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function l(c,d){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=wE(),r=!0}}}function tH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aM(e,t):!1}function ra(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wE(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nH extends Oo{constructor(e){super(e),e.animationState||(e.animationState=eH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let rH=0;class iH extends Oo{constructor(){super(...arguments),this.id=rH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sH={animation:{Feature:nH},exit:{Feature:iH}};function td(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ed(t){return{point:{x:t.pageX,y:t.pageY}}}const oH=t=>e=>C_(e)&&t(e,Ed(e));function Tu(t,e,n,r){return td(t,e,oH(n),r)}function cM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function aH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const uM=1e-4,cH=1-uM,uH=1+uM,dM=.01,dH=0-dM,hH=0+dM;function fr(t){return t.max-t.min}function fH(t,e,n){return Math.abs(t-e)<=n}function CE(t,e,n,r=.5){t.origin=r,t.originPoint=nn(e.min,e.max,t.origin),t.scale=fr(n)/fr(e),t.translate=nn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=cH&&t.scale<=uH||isNaN(t.scale))&&(t.scale=1),(t.translate>=dH&&t.translate<=hH||isNaN(t.translate))&&(t.translate=0)}function Pu(t,e,n,r){CE(t.x,e.x,n.x,r?r.originX:void 0),CE(t.y,e.y,n.y,r?r.originY:void 0)}function SE(t,e,n){t.min=n.min+e.min,t.max=t.min+fr(e)}function mH(t,e,n){SE(t.x,e.x,n.x),SE(t.y,e.y,n.y)}function bE(t,e,n){t.min=e.min-n.min,t.max=t.min+fr(e)}function ku(t,e,n){bE(t.x,e.x,n.x),bE(t.y,e.y,n.y)}const EE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nl=()=>({x:EE(),y:EE()}),RE=()=>({min:0,max:0}),dn=()=>({x:RE(),y:RE()});function Qr(t){return[t("x"),t("y")]}function Wy(t){return t===void 0||t===1}function uv({scale:t,scaleX:e,scaleY:n}){return!Wy(t)||!Wy(e)||!Wy(n)}function oa(t){return uv(t)||hM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hM(t){return TE(t.x)||TE(t.y)}function TE(t){return t&&t!=="0%"}function im(t,e,n){const r=t-n,i=e*r;return n+i}function PE(t,e,n,r,i){return i!==void 0&&(t=im(t,i,r)),im(t,n,r)+e}function dv(t,e=0,n=1,r,i){t.min=PE(t.min,e,n,r,i),t.max=PE(t.max,e,n,r,i)}function fM(t,{x:e,y:n}){dv(t.x,e.translate,e.scale,e.originPoint),dv(t.y,n.translate,n.scale,n.originPoint)}const kE=.999999999999,AE=1.0000000000001;function gH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&jl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fM(t,o)),r&&oa(s.latestValues)&&jl(t,s.latestValues))}e.x<AE&&e.x>kE&&(e.x=1),e.y<AE&&e.y>kE&&(e.y=1)}function Fl(t,e){t.min=t.min+e,t.max=t.max+e}function ME(t,e,n,r,i=.5){const s=nn(t.min,t.max,i);dv(t,e,n,s,r)}function jl(t,e){ME(t.x,e.x,e.scaleX,e.scale,e.originX),ME(t.y,e.y,e.scaleY,e.scale,e.originY)}function mM(t,e){return cM(lH(t.getBoundingClientRect(),e))}function pH(t,e,n){const r=mM(t,n),{scroll:i}=e;return i&&(Fl(r.x,i.offset.x),Fl(r.y,i.offset.y)),r}const gM=({current:t})=>t?t.ownerDocument.defaultView:null,IE=(t,e)=>Math.abs(t-e);function yH(t,e){const n=IE(t.x,e.x),r=IE(t.y,e.y);return Math.sqrt(n**2+r**2)}class pM{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=yH(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:x}=f,{timestamp:w}=Hn;this.history.push({...x,timestamp:w});const{onStart:C,onMove:b}=this.handlers;p||(C&&C(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Hy(p,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Xy(f.type==="pointercancel"?this.lastMoveEventInfo:Hy(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,C),x&&x(f,C)},!C_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ed(e),l=Hy(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Hn;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Xy(l,this.history)),this.removeListeners=Cd(Tu(this.contextWindow,"pointermove",this.handlePointerMove),Tu(this.contextWindow,"pointerup",this.handlePointerUp),Tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}}function Hy(t,e){return e?{point:e(t.point)}:t}function NE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xy({point:t},e){return{point:t,delta:NE(t,yM(e)),offset:NE(t,vH(e)),velocity:xH(e,.1)}}function vH(t){return t[0]}function yM(t){return t[t.length-1]}function xH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=yM(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>es(e)));)n--;if(!r)return{x:0,y:0};const s=ts(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _H(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?nn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?nn(n,t,r.max):Math.min(t,n)),t}function FE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wH(t,{top:e,left:n,bottom:r,right:i}){return{x:FE(t.x,n,i),y:FE(t.y,e,r)}}function jE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function CH(t,e){return{x:jE(t.x,e.x),y:jE(t.y,e.y)}}function SH(t,e){let n=.5;const r=fr(t),i=fr(e);return i>r?n=Yu(e.min,e.max-r,t.min):r>i&&(n=Yu(t.min,t.max-i,e.min)),Fs(0,1,n)}function bH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hv=.35;function EH(t=hv){return t===!1?t=0:t===!0&&(t=hv),{x:LE(t,"left","right"),y:LE(t,"top","bottom")}}function LE(t,e,n){return{min:DE(t,e),max:DE(t,n)}}function DE(t,e){return typeof t=="number"?t:t[e]||0}const RH=new WeakMap;class TH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ed(h).point)},s=(h,f)=>{const{drag:p,dragPropagation:y,onDragStart:x}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zW(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qr(C=>{let b=this.getAxisMotionValue(C).get()||0;if(ns.test(b)){const{projection:R}=this.visualElement;if(R&&R.layout){const T=R.layout.layoutBox[C];T&&(b=fr(T)*(parseFloat(b)/100))}}this.originPoint[C]=b}),x&&rn.postRender(()=>x(h,f)),lv(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:x,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:C}=f;if(y&&this.currentDirection===null){this.currentDirection=PH(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,C),this.updateAxis("y",f.point,C),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>this.stop(h,f),c=()=>Qr(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new pM(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:gM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&rn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!lf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_H(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=wH(r.layoutBox,e):this.constraints=!1,this.elastic=EH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Il(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=pH(r,i.root,this.visualElement.getTransformPagePoint());let o=CH(i.layout.layoutBox,s);if(n){const l=n(aH(o));this.hasMutatedConstraints=!!l,l&&(o=cM(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Qr(h=>{if(!lf(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return lv(this.visualElement,e),r.start(I_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qr(n=>{const{drag:r}=this.getProps();if(!lf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-nn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Il(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=SH({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qr(o=>{if(!lf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(nn(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;RH.set(this.visualElement,this);const e=this.visualElement.current,n=Tu(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Il(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rn.read(r);const o=td(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Qr(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=hv,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function lf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kH extends Oo{constructor(e){super(e),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new TH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const OE=t=>(e,n)=>{t&&rn.postRender(()=>t(e,n))};class AH extends Oo{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(e){this.session=new pM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OE(e),onStart:OE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&rn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ze.test(t))t=parseFloat(t);else return t;const n=VE(t,e.target.x),r=VE(t,e.target.y);return`${n}% ${r}%`}},MH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Io.parse(t);if(i.length>5)return r;const s=Io.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=nn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class IH extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;p8(NH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||rn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),w_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vM(t){const[e,n]=WA(),r=_.useContext(Jx);return g.jsx(IH,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(ZA),isPresent:e,safeToRemove:n})}const NH={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:MH};function FH(t,e,n){const r=ar(t)?t:Wl(t);return r.start(I_("",r,e,n)),r.animation}const jH=(t,e)=>t.depth-e.depth;class LH{constructor(){this.children=[],this.isDirty=!1}add(e){t_(this.children,e),this.isDirty=!0}remove(e){n_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jH),this.isDirty=!1,this.children.forEach(e)}}function DH(t,e){const n=Er.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mo(r),t(s-e))};return rn.setup(r,!0),()=>Mo(r)}const xM=["TopLeft","TopRight","BottomLeft","BottomRight"],OH=xM.length,zE=t=>typeof t=="string"?parseFloat(t):t,$E=t=>typeof t=="number"||Ze.test(t);function VH(t,e,n,r,i,s){i?(t.opacity=nn(0,n.opacity??1,zH(r)),t.opacityExit=nn(e.opacity??1,0,$H(r))):s&&(t.opacity=nn(e.opacity??1,n.opacity??1,r));for(let o=0;o<OH;o++){const l=`border${xM[o]}Radius`;let c=BE(e,l),d=BE(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||$E(c)===$E(d)?(t[l]=Math.max(nn(zE(c),zE(d),r),0),(ns.test(d)||ns.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=nn(e.rotate||0,n.rotate||0,r))}function BE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zH=_M(0,.5,hA),$H=_M(.5,.95,ni);function _M(t,e,n){return r=>r<t?0:r>e?1:n(Yu(t,e,r))}function GE(t,e){t.min=e.min,t.max=e.max}function Jr(t,e){GE(t.x,e.x),GE(t.y,e.y)}function UE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function WE(t,e,n,r,i){return t-=e,t=im(t,1/n,r),i!==void 0&&(t=im(t,1/i,r)),t}function BH(t,e=0,n=1,r=.5,i,s=t,o=t){if(ns.test(e)&&(e=parseFloat(e),e=nn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=nn(s.min,s.max,r);t===s&&(l-=e),t.min=WE(t.min,e,n,l,i),t.max=WE(t.max,e,n,l,i)}function HE(t,e,[n,r,i],s,o){BH(t,e[n],e[r],e[i],e.scale,s,o)}const GH=["x","scaleX","originX"],UH=["y","scaleY","originY"];function XE(t,e,n,r){HE(t.x,e,GH,n?n.x:void 0,r?r.x:void 0),HE(t.y,e,UH,n?n.y:void 0,r?r.y:void 0)}function KE(t){return t.translate===0&&t.scale===1}function wM(t){return KE(t.x)&&KE(t.y)}function YE(t,e){return t.min===e.min&&t.max===e.max}function WH(t,e){return YE(t.x,e.x)&&YE(t.y,e.y)}function ZE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CM(t,e){return ZE(t.x,e.x)&&ZE(t.y,e.y)}function qE(t){return fr(t.x)/fr(t.y)}function JE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class HH{constructor(){this.members=[]}add(e){t_(this.members,e),e.scheduleRender()}remove(e){if(n_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:p,skewX:y,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Ky=["","X","Y","Z"],KH={visibility:"hidden"},YH=1e3;let ZH=0;function Yy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SM(r)}function bM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=ZH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QH),this.nodes.forEach(r9),this.nodes.forEach(i9),this.nodes.forEach(e9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new LH)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new s_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UA(o)&&!HW(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=DH(f,250),Af.hasAnimatedSinceResize&&(Af.hasAnimatedSinceResize=!1,this.nodes.forEach(tR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||c9,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=d.getProps(),b=!this.targetLayout||!CM(this.targetLayout,y),R=!f&&p;if(this.options.layoutRoot||this.resumeFrom||R||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...x_(x,"layout"),onPlay:w,onComplete:C};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(h,R)}else f||tR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eR);return}this.isUpdating||this.nodes.forEach(eR),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(n9),this.nodes.forEach(qH),this.nodes.forEach(JH),this.clearAllSnapshots();const l=Er.now();Hn.delta=Fs(0,1e3/60,l-Hn.timestamp),Hn.timestamp=l,Hn.isProcessing=!0,zy.update.process(Hn),zy.preRender.process(Hn),zy.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(t9),this.sharedNodes.forEach(o9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fr(this.snapshot.measuredBox.x)&&!fr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!wM(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||oa(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),u9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return dn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(d9))){const{scroll:h}=this.root;h&&(Fl(l.x,h.offset.x),Fl(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=dn();if(Jr(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Jr(l,o),Fl(l.x,f.offset.x),Fl(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=dn();Jr(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&jl(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oa(h.latestValues)&&jl(c,h.latestValues)}return oa(this.latestValues)&&jl(c,this.latestValues),c}removeTransform(o){const l=dn();Jr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!oa(d.latestValues))continue;uv(d.latestValues)&&d.updateSnapshot();const h=dn(),f=d.measurePageBox();Jr(h,f),XE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return oa(this.latestValues)&&XE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),ku(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jr(this.target,this.layout.layoutBox),fM(this.target,this.targetDelta)):Jr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),ku(this.relativeTargetOrigin,this.target,y.target),Jr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uv(this.parent.latestValues)||hM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Jr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;gH(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=dn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UE(this.prevProjectionDelta.x,this.projectionDelta.x),UE(this.prevProjectionDelta.y,this.projectionDelta.y)),Pu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!JE(this.projectionDelta.x,this.prevProjectionDelta.x)||!JE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nl(),this.projectionDelta=Nl(),this.projectionDeltaWithTransform=Nl()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=Nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=dn(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=y!==x,C=this.getStack(),b=!C||C.members.length<=1,R=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(l9));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const k=P/1e3;nR(f.x,o.x,k),nR(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ku(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),a9(this.relativeTarget,this.relativeTargetOrigin,p,k),T&&WH(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=dn()),Jr(T,this.relativeTarget)),w&&(this.animationValues=h,VH(h,d,this.latestValues,k,R,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wl(0)),this.currentAnimation=FH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&EM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||dn();const f=fr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=fr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Jr(l,c),jl(l,h),Pu(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new HH),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Yy("z",o,d,this.animationValues);for(let h=0;h<Ky.length;h++)Yy(`rotate${Ky[h]}`,o,d,this.animationValues),Yy(`skew${Ky[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return KH;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=kf(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=kf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=XH(this.projectionDeltaWithTransform,this.treeScale,h),c&&(l.transform=c(h,l.transform));const{x:f,y:p}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Qu){if(h[y]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:C}=Qu[y],b=l.transform==="none"?h[y]:x(h[y],d);if(w){const R=w.length;for(let T=0;T<R;T++)l[w[T]]=b}else C?this.options.visualElement.renderState.vars[y]=b:l[y]=b}return this.options.layoutId&&(l.pointerEvents=d===this?kf(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(QE),this.root.sharedNodes.clear()}}}function qH(t){t.updateLayout()}function JH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Qr(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=fr(p);p.min=r[f].min,p.max=p.min+y}):EM(s,e.layoutBox,r)&&Qr(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=fr(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const l=Nl();Pu(l,r,e.layoutBox);const c=Nl();o?Pu(c,t.applyTransform(i,!0),e.measuredBox):Pu(c,r,e.layoutBox);const d=!wM(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const x=dn();ku(x,e.layoutBox,p.layoutBox);const w=dn();ku(w,r,y.layoutBox),CM(x,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function QH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function e9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function t9(t){t.clearSnapshot()}function QE(t){t.clearMeasurements()}function eR(t){t.isLayoutDirty=!1}function n9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function r9(t){t.resolveTargetDelta()}function i9(t){t.calcProjection()}function s9(t){t.resetSkewAndRotation()}function o9(t){t.removeLeadSnapshot()}function nR(t,e,n){t.translate=nn(e.translate,0,n),t.scale=nn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rR(t,e,n,r){t.min=nn(e.min,n.min,r),t.max=nn(e.max,n.max,r)}function a9(t,e,n,r){rR(t.x,e.x,n.x,r),rR(t.y,e.y,n.y,r)}function l9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const c9={duration:.45,ease:[.4,0,.1,1]},iR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sR=iR("applewebkit/")&&!iR("chrome/")?Math.round:ni;function oR(t){t.min=sR(t.min),t.max=sR(t.max)}function u9(t){oR(t.x),oR(t.y)}function EM(t,e,n){return t==="position"||t==="preserve-aspect"&&!fH(qE(e),qE(n),.2)}function d9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const h9=bM({attachResizeListener:(t,e)=>td(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zy={current:void 0},RM=bM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zy.current){const t=new h9({});t.mount(window),t.setOptions({layoutScroll:!0}),Zy.current=t}return Zy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),f9={pan:{Feature:AH},drag:{Feature:kH,ProjectionNode:RM,MeasureLayout:vM}};function aR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&rn.postRender(()=>s(e,Ed(e)))}class m9 extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=$W(e,(n,r)=>(aR(this.node,r,"Start"),i=>aR(this.node,i,"End"))))}unmount(){}}class g9 extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cd(td(this.node.current,"focus",()=>this.onFocus()),td(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&rn.postRender(()=>s(e,Ed(e)))}class p9 extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=WW(e,(n,r)=>(lR(this.node,r,"Start"),(i,{success:s})=>lR(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fv=new WeakMap,qy=new WeakMap,y9=t=>{const e=fv.get(t.target);e&&e(t)},v9=t=>{t.forEach(y9)};function x9({root:t,...e}){const n=t||document;qy.has(n)||qy.set(n,{});const r=qy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(v9,{root:t,...e})),r[i]}function _9(t,e,n){const r=x9(e);return fv.set(t,n),r.observe(t),()=>{fv.delete(t),r.unobserve(t)}}const w9={some:0,all:1};class C9 extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:w9[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return _9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(S9(e,n))&&this.startObserver()}unmount(){}}function S9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const b9={inView:{Feature:C9},tap:{Feature:p9},focus:{Feature:g9},hover:{Feature:m9}},E9={layout:{ProjectionNode:RM,MeasureLayout:vM}},mv={current:null},TM={current:!1};function R9(){if(TM.current=!0,!!e_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mv.current=t.matches;t.addListener(e),e()}else mv.current=!1}const T9=new WeakMap;function P9(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ar(i))t.addValue(r,i);else if(ar(s))t.addValue(r,Wl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Wl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class k9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Er.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,rn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=ng(n),this.isVariantNode=KA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&ar(y)&&y.set(c[p],!1)}}mount(e){this.current=e,T9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),TM.current||R9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&rn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hl){const n=Hl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cR.length;r++){const i=cR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=P9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(nA(r)||iA(r))?r=parseFloat(r):!KW(r)&&Io.test(n)&&(r=VA(e,n)),this.setBaseTarget(e,ar(r)?r.get():r)),ar(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=A_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ar(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new s_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class PM extends k9{constructor(){super(...arguments),this.KeyframeResolver=LW}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ar(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kM(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function A9(t){return window.getComputedStyle(t)}class M9 extends PM{constructor(){super(...arguments),this.type="html",this.renderInstance=kM}readValueFromInstance(e,n){var r;if(pc.has(n))return(r=this.projection)!=null&&r.isProjecting?tv(n):tW(e,n);{const i=A9(e),s=(l_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mM(e,n)}build(e,n,r){T_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return M_(e,n,r)}}const AM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I9(t,e,n,r){kM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(AM.has(i)?i:R_(i),e.attrs[i])}class N9 extends PM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pc.has(n)){const r=OA(n);return r&&r.default||0}return n=AM.has(n)?n:R_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iM(e,n,r)}build(e,n,r){eM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){I9(e,n,r,i)}mount(e){this.isSVGTag=nM(e.tagName),super.mount(e)}}const F9=(t,e)=>k_(t)?new N9(e):new M9(e,{allowProjection:t!==_.Fragment}),j9=N8({...sH,...b9,...f9,...E9},F9),L9=i8(j9);function D9({resumen:t,visible:e,onClose:n}){return t?g.jsx(QW,{children:e&&g.jsx(L9.div,{initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{duration:.2,ease:"easeOut"},className:`absolute bottom-20 left-20 right-20 md:left-20
                        z-20 flex justify-center px-4 sm:bottom-20`,children:g.jsxs("div",{className:"relative bg-white w-full max-w-[400px] max-h-[45vh] overflow-y-auto rounded-2xl shadow-xl p-4 border border-gray-300 dark:bg-zinc-900 dark:text-white",children:[g.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-1 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700",title:"Cerrar",children:g.jsx(zs,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-xl font-bold mb-2 break-words",children:t.nombre}),g.jsxs("p",{className:"text-sm",children:["Animales: ",g.jsx("strong",{children:t.total_animales})]}),g.jsxs("p",{className:"text-sm",children:["Collares: ",g.jsx("strong",{children:t.total_collares})]}),t.tipos&&g.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(t.tipos).map(([r,i])=>g.jsxs("div",{className:"break-words",children:[g.jsxs("h3",{className:"font-semibold text-sm mt-2",children:[r," (",i.cantidad,")"]}),g.jsxs("p",{className:"text-xs",children:["Razas: ",Object.entries(i.por_raza).map(([s,o])=>`${s} (${o})`).join(", ")]}),g.jsxs("p",{className:"text-xs",children:["Sexos: ",Object.entries(i.por_sexo).map(([s,o])=>`${s} (${o})`).join(", ")]})]},r))})]})})}):null}function O9(t,{setMode:e,setArea:n,setTooltipText:r}){const i=_.useRef([]),s=_.useRef([]),o=_.useRef(null),l=_.useRef(null),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=_.useRef(null),y=_.useRef(!1),[x,w]=_.useState(!1),[C,b]=_.useState(!1),[R,T]=_.useState(!1),P=15,k=()=>{i.current=[],s.current=[],o.current=null,l.current=null,p.current=null,w(!1),n(0),b(!1),T(!1),r("")},M=_.useRef(N=>{y.current&&Si.modeRef.current==="draw"&&i.current.length>=3&&(b(!0),Y(),N.preventDefault())}).current,F=N=>{if(!h.current||i.current.length===0)return;o.current&&h.current.removeFeature(o.current);const L=i.current[i.current.length-1],re=new ka([L,N]);o.current=new sr(re),o.current.setStyle(ir.previewLine),h.current.addFeature(o.current)},I=(N,L)=>{h.current&&(l.current?l.current.getGeometry().setCoordinates(N):(l.current=new sr(new Pr(N)),h.current.addFeature(l.current)),l.current.setStyle(L?ir.previewVertexSnap:ir.previewVertex))},z=N=>{const L=new sr(new Pr(N));L.setStyle(ir.vertexDraw),s.current.push(L),h.current.addFeature(L)},G=()=>{if(!h.current||i.current.length<2)return;h.current.getFeatures().forEach(L=>{L.getGeometry()instanceof rr&&h.current.removeFeature(L)});const N=new sr(new rr([i.current]));N.setStyle(ir.draw),h.current.addFeature(N)},V=()=>{const N=t.current;if(!N||i.current.length<3){c.current&&(N.removeOverlay(c.current),c.current=null),n(0);return}const L=new rr([i.current]),re=Vm(L,{projection:"EPSG:3857"});n(re);const se=`${(re/1e4).toFixed(2)} ha`,ce=L.getInteriorPoint().getCoordinates();if(!c.current){const ge=document.createElement("div");ge.className="area-label",ge.textContent=se,c.current=new Zf({element:ge,positioning:"center-center",stopEvent:!1}),N.addOverlay(c.current)}c.current.getElement().textContent=se,c.current.setPosition(ce)},H=(N,L)=>{const re=t.current;if(re){if(!d.current){const se=document.createElement("div");se.className="map-tooltip",d.current=new Zf({element:se,offset:[0,-15],positioning:"bottom-center",className:"ol-tooltip-text"}),re.addOverlay(d.current)}d.current.getElement().textContent=N,d.current.setPosition(L)}},B=_.useRef(N=>{if(!y.current||Si.modeRef.current!=="draw")return;const L=t.current,re=N.coordinate,se=i.current[0];if(se&&L.getPixelFromCoordinate(re)&&L.getPixelFromCoordinate(se)&&Jy(L.getPixelFromCoordinate(re),L.getPixelFromCoordinate(se))<P&&i.current.length>=3){i.current.push(se),b(!0),Y();return}i.current.push(re),z(re),G(),V(),i.current.length>0?T(!0):T(!1);const ae=i.current.length===1?"Click para continuar dibujando":"Click para cerrar polgono";r(ae),H(ae,re),w(i.current.length>=3)}).current,X=_.useRef(N=>{if(!y.current||Si.modeRef.current!=="draw")return;const L=t.current,re=N.coordinate,se=i.current[0],ge=(se?Jy(L.getPixelFromCoordinate(re),L.getPixelFromCoordinate(se)):1/0)<P,ae=ge?"Click sobre el primer punto para cerrar":i.current.length===0?"Click para colocar el primer vrtice":"Click para continuar dibujando";r(ae),H(ae,re),F(re),I(re,ge)}).current,Z=()=>{const N=t.current;N&&(D(),f.current&&N.removeLayer(f.current),h.current=new Ns,f.current=new os({source:h.current}),N.addLayer(f.current),N.on("click",B),N.on("pointermove",X),N.on("dblclick",M),k(),e("draw"),r("Click para colocar el primer vrtice"),document.body.classList.add("draw-mode"),c.current&&(N.removeOverlay(c.current),c.current=null),d.current&&(N.removeOverlay(d.current),d.current=null),y.current=!0)},Y=()=>{const N=t.current;if(!N||i.current.length<3)return;const L=i.current[0],re=i.current[i.current.length-1];L&&re&&Jy(L,re)>1&&i.current.push(L),h.current&&(s.current.forEach(ce=>h.current.removeFeature(ce)),o.current&&h.current.removeFeature(o.current),l.current&&h.current.removeFeature(l.current),h.current.getFeatures().forEach(ce=>{ce.getGeometry()instanceof rr&&h.current.removeFeature(ce)}));const se=new rr([i.current]);p.current=new sr(se),h.current.addFeature(p.current),d.current&&(N.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),r(""),i.current=[],s.current=[],o.current=null,l.current=null,w(!1),typeof Si.onFinishCallback.current=="function"&&Si.onFinishCallback.current(p.current)},D=()=>{const N=t.current;N&&(N.on("click",B),N.on("pointermove",X),N.on("dblclick",M),k(),d.current&&(N.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),e(null),r(""),c.current&&(N.removeOverlay(c.current),c.current=null),f.current&&(N.removeLayer(f.current),f.current=null,h.current=null),document.body.classList.remove("draw-mode"),y.current=!1)},j=()=>D(),U=()=>{if(!i.current.length)return;i.current.pop();const N=s.current.pop();if(N&&h.current&&h.current.removeFeature(N),o.current&&h.current&&(h.current.removeFeature(o.current),o.current=null),h.current&&h.current.getFeatures().forEach(L=>{L.getGeometry()instanceof rr&&h.current.removeFeature(L)}),i.current.length>=2){const L=new sr(new rr([i.current]));L.setStyle(ir.draw),h.current.addFeature(L)}if(i.current.length>=1&&d.current){const L=d.current.getPosition();L&&F(L)}V(),T(i.current.length>0),w(i.current.length>=3)},q=()=>p.current||null;return _.useEffect(()=>D,[]),{enableDraw:Z,disableDraw:D,cancelDraw:j,endPolygon:Y,removeLastPoint:U,getCreatedFeature:q,canFinish:x,closedBySnap:C,firstVertexDraw:R}}function Jy(t,e){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function V9(t,{setMode:e},n=()=>{}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef([]),o=_.useRef([]),l=_.useRef(!1),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=(M,F="edit")=>{const I=t.current;if(!I||!M)return;C();const z=M.getGeometry();if(!z)return;e(F);let G;if(z.getType()==="Polygon"){const D=z.getCoordinates();G=Array.isArray(D[0])?D[0]:[]}else if(z.getType()==="MultiPolygon"){const D=z.getCoordinates();G=Array.isArray(D[0][0])?D[0][0]:[]}else{console.error("Tipo no soportado:",z.getType());return}if(G.length<3)return;const V=new Ns,H=new os({source:V,style:ir.edit});r.current=H,I.addLayer(H);const B=M.clone();B.setStyle(ir.edit),V.addFeature(B),h.current=B,I.getLayers().forEach(D=>{var U,q;const j=(U=D.getSource)==null?void 0:U.call(D);j&&((q=j.hasFeature)!=null&&q.call(j,M))&&j.removeFeature(M)}),i.current=new os({source:new Ns,style:null}),I.addLayer(i.current);const X=new HB({source:V});c.current=X;const Z=D=>{I.forEachFeatureAtPixel(D.pixel,j=>{j.get("insertAfter")!==void 0&&(i.current.getSource().removeFeature(j),o.current=o.current.filter(U=>U!==j))})};I.on("pointerdown",Z),c.current._pointerDownHandler=Z,I.getOverlays().getArray().forEach(D=>{const j=D.getElement();j&&j.className.includes("area-label")&&I.removeOverlay(D)});const Y=()=>{var re;const D=B.getGeometry();if(!D||D.getType()!=="Polygon")return;const j=(re=D.getCoordinates())==null?void 0:re[0];if(!j||j.length<3)return;const U=new rr([j]),N=`${(Vm(U,{projection:"EPSG:3857"})/1e4).toFixed(2)} ha`,L=U.getInteriorPoint().getCoordinates();if(!f.current){const se=document.createElement("div");se.className="area-label",se.textContent=N,f.current=new Zf({element:se,positioning:"center-center",stopEvent:!1}),I.addOverlay(f.current)}f.current.getElement().textContent=N,f.current.setPosition(L)};X.on("modifyend",D=>{const j=D.features.item(0);if(!j)return;const U=j.getGeometry(),q=k(U);y(q),n(P(q)),Y()}),B.getGeometry().on("change",()=>{const D=B.getGeometry(),j=k(D);y(j),n(P(j)),Y()}),I.addInteraction(X),y(G),n(P(G)),Y()},y=M=>{var G;const F=t.current,I=(G=i.current)==null?void 0:G.getSource();if(!F||!I||!Array.isArray(M)||M.length<2)return;I.clear(),s.current=[],o.current=[];const z=M.slice(0,-1);z.forEach((V,H)=>{const B=new sr(new Pr(V));B.set("vertexIndex",H),B.setStyle(l.current?ir.vertexDelete:ir.vertexEdit),I.addFeature(B),s.current.push(B)});for(let V=0;V<z.length;V++){const H=z[V],B=z[(V+1)%z.length],X=[(H[0]+B[0])/2,(H[1]+B[1])/2],Z=new sr(new Pr(X));Z.set("insertAfter",V),Z.setStyle(ir.vertexIntermediate),I.addFeature(Z),o.current.push(Z)}},x=()=>{var G;const M=t.current,F=(G=r.current)==null?void 0:G.getSource(),I=R();if(!M||!F||!I)return;l.current=!0;const z=new qB({condition:kB,layers:[i.current],filter:V=>V.getGeometry().getType()==="Point"});s.current.forEach(V=>{V.setStyle(ir.vertexDelete)}),z.on("select",V=>{const H=V.selected[0],B=H==null?void 0:H.get("vertexIndex");if(B===void 0)return;const X=T();X.length<=4||(X.splice(B,1),X[X.length-1]=X[0],I.getGeometry().setCoordinates([X]),y(X),n(P(X)))}),d.current=z,M.addInteraction(z)},w=()=>{const M=t.current;if(!M||!d.current)return;M.removeInteraction(d.current),d.current=null,l.current=!1,s.current.forEach(I=>{I.setStyle(ir.vertexEdit)}),R()&&y(T())},C=()=>{const M=t.current;if(M){if(r.current&&(M.removeLayer(r.current),r.current=null),i.current&&(M.removeLayer(i.current),i.current=null),c.current){M.removeInteraction(c.current);const F=c.current._pointerDownHandler;F&&M.un("pointerdown",F),c.current=null}d.current&&(M.removeInteraction(d.current),d.current=null),f.current&&(M.removeOverlay(f.current),f.current=null),s.current=[],o.current=[],l.current=!1,h.current=null,e(null)}},b=()=>h.current||null,R=()=>{var M,F;return((F=(M=r.current)==null?void 0:M.getSource())==null?void 0:F.getFeatures().find(I=>I.getGeometry().getType()==="Polygon"))||null},T=()=>{const M=R();return k(M==null?void 0:M.getGeometry())},P=M=>M.map(F=>{const[I,z]=LP(F);return{lat:z,lng:I}}),k=M=>{if(!M||typeof M.getCoordinates!="function")return[];const F=M.getCoordinates();return M.getType()==="Polygon"&&Array.isArray(F)&&Array.isArray(F[0])?F[0]:M.getType()==="MultiPolygon"&&Array.isArray(F)&&Array.isArray(F[0])&&Array.isArray(F[0][0])?F[0][0]:[]};return{activateEditMode:p,clearEdit:C,getEditedFeature:b,activateDeleteMode:x,disableDeleteMode:w}}function z9(t,e=()=>{}){const n=b6(),r=O9(t,{setMode:n.setMode,setArea:n.setArea,setTooltipText:n.setTooltipText}),i=V9(t,{setMode:n.setMode},e);return{...n,...r,...i}}function $9(){const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[h,f]=_.useState(""),[p,y]=_.useState(!1),[x,w]=_.useState(!1),[C,b]=_.useState(null),[R,T]=_.useState([]),[P,k]=_.useState(!1),{mapRef:M,ready:F}=_.useContext(_d),{campoSeleccionado:I,setCampoSeleccionado:z,lastCampoId:G}=_.useContext(wd),{campos:V,parcelas:H,formData:B,setFormData:X,setParcelas:Z,setAreaCampo:Y,setAreaParcela:D}=Qv(),{enableDraw:j,disableDraw:U,cancelDraw:q,endPolygon:N,removeLastPoint:L,canFinish:re,closedBySnap:se,firstVertexDraw:ce,activateDeleteMode:ge,disableDeleteMode:ae,activateEditMode:pe,clearEdit:_e,getEditedFeature:Re,getCreatedFeature:$e,polygonMode:Be}=z9(M,()=>{var ye;const ie=(ye=Re())==null?void 0:ye.getGeometry();ie&&D(bu(ie))}),{setFeaturesOnMap:yt,clearParcelas:mt}=Yx({mapRef:M,parcelas:H,formData:B,clearEdit:_e,activateEditMode:pe,getCreatedFeature:$e,setFormData:X,setAreaCampo:Y,setAreaParcela:D,onSelectFeature:(ie,ye)=>{b(R.find(De=>De.parcela_id===ye.id)||null),w(!1)}});Zx(()=>{_e(),U(),ae(),X(ie=>({...ie,parcela_id:"",nombre:"",descripcion:""}))});const Gt=()=>{_e(),U(),ae(),mt(),l(!1),r(!1),e(!1)},Dt=()=>["edit","draw-edit"].includes(Si.modeRef.current)?Re():$e(),ft=ie=>{const{name:ye,value:De}=ie.target;if(ye==="campo_id"){if(De===B.campo_id)return;Gt();const ze=V[De];ze&&M.current&&M.current.getView().animate({center:Ao([ze.lon,ze.lat]),duration:800,easing:kr}),z(De),X({campo_id:De,parcela_id:"",nombre:"",descripcion:""}),D(0)}else X(ze=>({...ze,[ye]:De}))},zn=async()=>{if(!B.campo_id||!B.nombre){f("Todos los campos son obligatorios."),d(!0);return}const ie=Dt();if(!ie){f("Debe crear o seleccionar una parcela."),d(!0);return}const ye=new Qk,De=ie.clone();De.getGeometry().transform("EPSG:3857","EPSG:4326");const ze=ye.writeFeatureObject(De,{featureProjection:"EPSG:4326"});try{B.parcela_id?await W6(B.parcela_id,ze,B.nombre,B.descripcion):await U6({campo_id:B.campo_id,nombre:B.nombre,descripcion:B.descripcion,perimetro_geojson:ze});const wt=await Ma();Z(wt.parcelas),X(jt=>({...jt,parcela_id:"",nombre:"",descripcion:""})),Gt(),D(0),w(!1),b(null)}catch(wt){console.error("Error al guardar:",wt)}},_t=()=>{B.parcela_id&&y(!0)},$=async()=>{y(!1),w(!1);try{await H6(B.parcela_id);const ie=await Ma();Z(ie.parcelas),X(ye=>({...ye,parcela_id:"",nombre:"",descripcion:""})),D(0)}catch(ie){console.error("Error al eliminar parcela:",ie)}},J=()=>{N(),l(!0),r(!0)},te=()=>{q(),_e(),l(!1),r(!1)},fe=()=>{_e(),ae(),e(!1),l(!1),r(!1),w(!1),b(null),X(ie=>({...ie,parcela_id:"",nombre:"",descripcion:""})),D(0)},he=()=>{s(ie=>!ie),i||window.dispatchEvent(new Event("closeCampoSelector"))};return _.useEffect(()=>{Gt(),Si.onFinishCallback.current=ie=>{if(ie){l(!0),r(!0),pe(ie,"draw-edit"),X(De=>({...De,parcela_id:""}));const ye=ie.getGeometry();ye&&D(bu(ye))}}},[]),_.useEffect(()=>{!F||!B.campo_id||yt()},[F,B.campo_id,B.parcela_id,H]),_.useEffect(()=>{I&&I!==B.campo_id&&V[I]&&(X(ie=>({...ie,campo_id:I,parcela_id:"",nombre:"",descripcion:""})),D(0))},[I]),_.useEffect(()=>{!B.campo_id&&!I&&G&&V[G]&&(z(G),X(ie=>({...ie,campo_id:G,parcela_id:"",nombre:"",descripcion:""})),D(0))},[]),_.useEffect(()=>{I||!B.campo_id||!V[B.campo_id]||(z(B.campo_id),M.current.getView().animate({center:Ao([V[B.campo_id].lon,V[B.campo_id].lat]),duration:800,easing:kr}))},[B.campo_id,I]),_.useEffect(()=>{const ie=()=>s(!1);return window.addEventListener("closeForm",ie),()=>window.removeEventListener("closeForm",ie)},[]),_.useEffect(()=>{(async()=>{if(k(!1),!!B.campo_id)try{const ye=await G6(B.campo_id);T(ye),k(!0)}catch(ye){console.error("Error al cargar resumen de parcelas:",ye),k(!0)}})()},[B.campo_id]),_.useEffect(()=>{const ie=()=>{w(!1),b(null)};return window.addEventListener("cerrarPopupResumen",ie),()=>{window.removeEventListener("cerrarPopupResumen",ie)}},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[B.parcela_id&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>w(ie=>!ie),className:`bg-white p-3 rounded-full shadow-md transition-colors ${C?"hover:bg-gray-100":"opacity-50 cursor-not-allowed"}`,disabled:!C,title:C?"Ver resumen":"Seleccion una parcela primero",children:g.jsx(sc,{className:"w-6 h-6"})}),g.jsx("button",{onClick:_t,className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(o4,{className:"w-6 h-6"})})]}),g.jsx("button",{className:"bg-white p-3 rounded-full shadow-md transition-all duration-300",onClick:he,children:g.jsx(l4,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${i?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx(Z6,{campos:V,formData:B,onChange:ft})}),g.jsxs("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:[g.jsx(J6,{mode:Be,isDeleteMode:t,onToggleDeleteMode:()=>{e(ie=>!ie),t?ae():ge()},onCancel:fe,onSave:zn,showCancel:B.parcela_id!==""}),B.parcela_id===""&&i&&g.jsx(Y6,{open:n,setOpen:r,onStart:j,onFinish:J,onUndo:L,onCancel:te,canFinish:re,closedBySnap:se,firstVertexDraw:ce,finished:o})]}),g.jsx(D9,{visible:x,resumen:C,onClose:()=>w(!1)}),g.jsx(Kx,{isOpen:c,message:h,onClose:()=>d(!1)}),g.jsx(ua,{isOpen:p,title:"Eliminar parcela",message:"Esta accin eliminar la parcela seleccionada. Deses continuar?",onCancel:()=>y(!1),onConfirm:$,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})}async function B9(t){const e=await fetch("/map/api/campos/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear campo")}return await e.json()}async function G9(t,e){const n=await fetch(`/map/api/campos/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar campo")}return await n.json()}async function U9(t){const e=await fetch(`/map/api/campos/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar el campo");return await e.json()}function uR(t){const e=new sr({geometry:new Pr(t)});e.setStyle(new on({image:new Ym({src:"/dist/map_pin.svg",anchor:[.5,1],scale:1})}));const n=new Ns({features:[e]}),r=new os({source:n,zIndex:1e3});return{feature:e,layer:r}}function W9(t){const e=document.createElement("div");e.className="ripple-effect",e.style.left=`${t.clientX}px`,e.style.top=`${t.clientY}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),600)}function H9(t){const e=_.useRef(null);return{colocarMarcadorGps:(s,o)=>{if(!t.current||!(s!=null&&s.coordinate))return;W9(s.originalEvent);const l=s.coordinate,[c,d]=LP(l);o(f=>({...f,lat:d,lon:c})),e.current&&t.current.removeLayer(e.current);const{layer:h}=uR(l);e.current=h,t.current.addLayer(h)},moverMarcadorGps:(s,o)=>{var p,y,x,w;if(!t.current)return;const l=zm([s,o]),c=(x=(y=(p=e.current)==null?void 0:p.getSource())==null?void 0:y.getFeatures())==null?void 0:x[0],d=(w=c==null?void 0:c.getGeometry())==null?void 0:w.getCoordinates();if(d&&Math.abs(d[0]-l[0])<.001&&Math.abs(d[1]-l[1])<.001)return;e.current&&t.current.removeLayer(e.current);const{layer:f}=uR(l);e.current=f,t.current.addLayer(f)},limpiarMarcadorGps:()=>{e.current&&t.current&&(t.current.removeLayer(e.current),e.current=null)},markerLayerRef:e}}function X9(){const[t,e]=_.useState({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(""),{mapRef:h,ready:f}=_.useContext(_d),{campoSeleccionado:p,setCampoSeleccionado:y,setLastCampoId:x}=_.useContext(wd),{campos:w,parcelas:C,setFormData:b,setCampos:R,setParcelas:T,setAreaCampo:P,setAreaParcela:k}=Qv(),{colocarMarcadorGps:M,moverMarcadorGps:F,limpiarMarcadorGps:I}=H9(h),{setFeaturesOnMap:z,clearParcelas:G}=Yx({mapRef:h,parcelas:C,formData:t,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:e,setAreaCampo:P,setAreaParcela:k,enabled:!0,modoVisualizacionCampo:!0});Zx(()=>{I(),G()});const V=D=>{const{name:j,value:U}=D.target;if(j==="campo_id"&&U===""){p&&x(p),I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}if(j==="campo_id"){if(U===""){I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}const q=w[U];q&&(y(U),e({campo_id:U,nombre:q.nombre,descripcion:q.descripcion||"",lat:q.lat,lon:q.lon}),b(N=>({...N,campo_id:U,parcela_id:"",nombre:"",descripcion:""})),r(!0),h.current&&(h.current.getView().animate({center:Ao([q.lon,q.lat]),duration:800,easing:kr}),F(q.lon,q.lat)));return}e(q=>({...q,[j]:U}))},H=async()=>{const{campo_id:D,nombre:j,descripcion:U,lat:q,lon:N}=t;if(!j||!U||!q||!N){d("Todos los campos son obligatorios."),l(!0);return}try{D?await G9(D,{nombre:j,descripcion:U,lat:q,lon:N}):await B9({nombre:j,descripcion:U,lat:q,lon:N});const L=await Ma();R(L.campos),T(L.parcelas);const re=Object.entries(L.campos).find(([se,ce])=>ce.nombre===j&&ce.lat===q&&ce.lon===N);if(re){const[se,ce]=re;y(se),e({campo_id:se,nombre:ce.nombre,descripcion:ce.descripcion||"",lat:ce.lat,lon:ce.lon}),B(ce)}}catch(L){console.error("Error al guardar campo:",L)}},B=D=>{h.current&&(h.current.getView().animate({center:Ao([D.lon,D.lat]),duration:800,easing:kr}),F(D.lon,D.lat))},X=()=>s(!0),Z=async()=>{if(s(!1),!!t.campo_id)try{await U9(t.campo_id);const D=await Ma();R(D.campos),T(D.parcelas),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),I()}catch(D){console.error("Error al eliminar campo:",D)}};_.useEffect(()=>{!f||!t.campo_id||z()},[f,t.campo_id,C]),_.useEffect(()=>{t.lat&&t.lon&&f&&h.current&&F(t.lon,t.lat)},[t.lat,t.lon,f]),_.useEffect(()=>{if(!f||!h.current)return;const D=h.current,j=U=>M(U,e);return D.on("click",j),()=>D.un("click",j)},[f]),_.useEffect(()=>{if(p&&p!==t.campo_id&&w[p]){const D=w[p];e({campo_id:p,nombre:D.nombre,descripcion:D.descripcion||"",lat:D.lat,lon:D.lon}),f&&h.current&&F(D.lon,D.lat)}},[p]);const Y=()=>{r(D=>!D),n||window.dispatchEvent(new CustomEvent("closeCampoSelector"))};return _.useEffect(()=>{const D=()=>r(!1);return window.addEventListener("closeForm",D),()=>window.removeEventListener("closeForm",D)},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[t.campo_id&&g.jsx("button",{onClick:X,title:"Eliminar campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(h4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:Y,title:"Mostrar formulario",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(u4,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${n?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx(q6,{campos:w,formData:t,onChange:V})}),(n||t.campo_id!=="")&&g.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:g.jsx("button",{onClick:H,className:"bg-white p-3 rounded-full shadow-md",title:"Guardar campo",children:g.jsx(BT,{className:"w-6 h-6"})})}),g.jsx(ua,{isOpen:i,title:"Eliminar campo",message:"Esta accin no se puede deshacer. Deses continuar?",onCancel:()=>s(!1),onConfirm:Z,confirmLabel:"Eliminar",cancelLabel:"Cancelar"}),g.jsx(Kx,{isOpen:o,message:c,onClose:()=>l(!1)})]})}async function K9(){const t=await fetch("/api/collares/");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener todos los collares.")}return await t.json()}async function Y9(){const t=await fetch("/api/collares/available");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los collares disponibles.")}return await t.json()}async function Z9(t){const e=await fetch(`/api/collares/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al eliminar collar.")}return await e.json()}const q9=async t=>{const e=await fetch("/api/collares/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear collares en lote.")}return e.json()},J9=async(t,e)=>{const n=await fetch(`/api/collares/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar collar.")}return n.json()},Q9=async t=>{const e=await fetch(`/api/collares/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al obtener detalles del collar.")}return e.json()},dR=async(t,e)=>{const n=await fetch(`/api/collares/${t}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({animal_id:e})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al manejar la asignacin del collar.")}return n.json()};async function e7(){const t=await fetch("/api/collares/estados");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los estados de collar.")}return await t.json()}async function MM(){const t=await fetch("/api/collares/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de collares.")}return t.blob()}async function t7(t,e={}){const n=new URLSearchParams({type:t});e.globalFilter&&n.append("globalFilter",e.globalFilter),e.ids&&e.ids.length>0&&n.append("ids",e.ids.join(","));const r=await fetch(`/api/collares/export?${n.toString()}`);if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al exportar collares.")}return r.blob()}async function n7(t){const e=new FormData;e.append("file",t);const n=await fetch("/api/collares/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar collares.")}return await n.json()}var Rd=t=>t.type==="checkbox",va=t=>t instanceof Date,dr=t=>t==null;const IM=t=>typeof t=="object";var fn=t=>!dr(t)&&!Array.isArray(t)&&IM(t)&&!va(t),NM=t=>fn(t)&&t.target?Rd(t.target)?t.target.checked:t.target.value:t,r7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,FM=(t,e)=>t.has(r7(e)),i7=t=>{const e=t.constructor&&t.constructor.prototype;return fn(e)&&e.hasOwnProperty("isPrototypeOf")},N_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Un(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(N_&&(t instanceof Blob||r))&&(n||fn(t)))if(e=n?[]:{},!n&&!i7(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Un(t[i]));else return t;return e}var rg=t=>Array.isArray(t)?t.filter(Boolean):[],hn=t=>t===void 0,Ce=(t,e,n)=>{if(!e||!fn(t))return n;const r=rg(e.split(/[,[\].]+?/)).reduce((i,s)=>dr(i)?i:i[s],t);return hn(r)||r===t?hn(t[e])?n:t[e]:r},Lr=t=>typeof t=="boolean",F_=t=>/^\w*$/.test(t),jM=t=>rg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Pt=(t,e,n)=>{let r=-1;const i=F_(e)?[e]:jM(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=fn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const sm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},bi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ws={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},LM=le.createContext(null),ig=()=>le.useContext(LM),s7=t=>{const{children:e,...n}=t;return le.createElement(LM.Provider,{value:n},e)};var DM=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==bi.all&&(e._proxyFormState[o]=!r||bi.all),n&&(n[o]=!0),t[o]}});return i};const j_=typeof window<"u"?_.useLayoutEffect:_.useEffect;function o7(t){const e=ig(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,l]=le.useState(n._formState),c=le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return j_(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,s]),le.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),le.useMemo(()=>DM(o,n,c.current,!1),[o,n])}var qi=t=>typeof t=="string",OM=(t,e,n,r,i)=>qi(t)?(r&&e.watch.add(t),Ce(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Ce(n,s))):(r&&(e.watchAll=!0),n);function a7(t){const e=ig(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},l=le.useRef(i),[c,d]=le.useState(n._getWatch(r,l.current));return j_(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:h=>!s&&d(OM(r,n._names,h.values||n._formValues,!1,l.current))}),[r,n,s,o]),le.useEffect(()=>n._removeUnmounted()),c}function l7(t){const e=ig(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=FM(i._names.array,n),l=a7({control:i,name:n,defaultValue:Ce(i._formValues,n,Ce(i._defaultValues,n,t.defaultValue)),exact:!0}),c=o7({control:i,name:n,exact:!0}),d=le.useRef(t),h=le.useRef(i.register(n,{...t.rules,value:l,...Lr(t.disabled)?{disabled:t.disabled}:{}})),f=le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ce(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ce(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ce(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ce(c.errors,n)}}),[c,n]),p=le.useCallback(C=>h.current.onChange({target:{value:NM(C),name:n},type:sm.CHANGE}),[n]),y=le.useCallback(()=>h.current.onBlur({target:{value:Ce(i._formValues,n),name:n},type:sm.BLUR}),[n,i._formValues]),x=le.useCallback(C=>{const b=Ce(i._fields,n);b&&C&&(b._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:R=>C.setCustomValidity(R),reportValidity:()=>C.reportValidity()})},[i._fields,n]),w=le.useMemo(()=>({name:n,value:l,...Lr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p,onBlur:y,ref:x}),[n,r,c.disabled,p,y,x,l]);return le.useEffect(()=>{const C=i._options.shouldUnregister||s;i.register(n,{...d.current.rules,...Lr(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(R,T)=>{const P=Ce(i._fields,R);P&&P._f&&(P._f.mount=T)};if(b(n,!0),C){const R=Un(Ce(i._options.defaultValues,n));Pt(i._defaultValues,n,R),hn(Ce(i._formValues,n))&&Pt(i._formValues,n,R)}return!o&&i.register(n),()=>{(o?C&&!i._state.action:C)?i.unregister(n):b(n,!1)}},[n,i,o,s]),le.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),le.useMemo(()=>({field:w,formState:c,fieldState:f}),[w,c,f])}const c7=t=>t.render(l7(t));var VM=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Au=t=>Array.isArray(t)?t:[t],hR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},gv=t=>dr(t)||!IM(t);function vo(t,e){if(gv(t)||gv(e))return t===e;if(va(t)&&va(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(va(s)&&va(o)||fn(s)&&fn(o)||Array.isArray(s)&&Array.isArray(o)?!vo(s,o):s!==o)return!1}}return!0}var Sr=t=>fn(t)&&!Object.keys(t).length,L_=t=>t.type==="file",Ei=t=>typeof t=="function",om=t=>{if(!N_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zM=t=>t.type==="select-multiple",D_=t=>t.type==="radio",u7=t=>D_(t)||Rd(t),Qy=t=>om(t)&&t.isConnected;function d7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=hn(t)?r++:t[e[r++]];return t}function h7(t){for(const e in t)if(t.hasOwnProperty(e)&&!hn(t[e]))return!1;return!0}function Tn(t,e){const n=Array.isArray(e)?e:F_(e)?[e]:jM(e),r=n.length===1?t:d7(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(fn(r)&&Sr(r)||Array.isArray(r)&&h7(r))&&Tn(t,n.slice(0,-1)),t}var $M=t=>{for(const e in t)if(Ei(t[e]))return!0;return!1};function am(t,e={}){const n=Array.isArray(t);if(fn(t)||n)for(const r in t)Array.isArray(t[r])||fn(t[r])&&!$M(t[r])?(e[r]=Array.isArray(t[r])?[]:{},am(t[r],e[r])):dr(t[r])||(e[r]=!0);return e}function BM(t,e,n){const r=Array.isArray(t);if(fn(t)||r)for(const i in t)Array.isArray(t[i])||fn(t[i])&&!$M(t[i])?hn(e)||gv(n[i])?n[i]=Array.isArray(t[i])?am(t[i],[]):{...am(t[i])}:BM(t[i],dr(e)?{}:e[i],n[i]):n[i]=!vo(t[i],e[i]);return n}var uu=(t,e)=>BM(t,e,am(e));const fR={value:!1,isValid:!1},mR={value:!0,isValid:!0};var GM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!hn(t[0].attributes.value)?hn(t[0].value)||t[0].value===""?mR:{value:t[0].value,isValid:!0}:mR:fR}return fR},UM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>hn(t)?t:e?t===""?NaN:t&&+t:n&&qi(t)?new Date(t):r?r(t):t;const gR={isValid:!1,value:null};var WM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,gR):gR;function pR(t){const e=t.ref;return L_(e)?e.files:D_(e)?WM(t.refs).value:zM(e)?[...e.selectedOptions].map(({value:n})=>n):Rd(e)?GM(t.refs).value:UM(hn(e.value)?t.ref.value:e.value,t)}var f7=(t,e,n,r)=>{const i={};for(const s of t){const o=Ce(e,s);o&&Pt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},lm=t=>t instanceof RegExp,du=t=>hn(t)?t:lm(t)?t.source:fn(t)?lm(t.value)?t.value.source:t.value:t,yR=t=>({isOnSubmit:!t||t===bi.onSubmit,isOnBlur:t===bi.onBlur,isOnChange:t===bi.onChange,isOnAll:t===bi.all,isOnTouch:t===bi.onTouched});const vR="AsyncFunction";var m7=t=>!!t&&!!t.validate&&!!(Ei(t.validate)&&t.validate.constructor.name===vR||fn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vR)),g7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),xR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Mu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Ce(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Mu(l,e))break}else if(fn(l)&&Mu(l,e))break}}};function _R(t,e,n){const r=Ce(t,n);if(r||F_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Ce(e,s),l=Ce(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var p7=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Sr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||bi.all))},y7=(t,e,n)=>!t||!e||t===e||Au(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),v7=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,x7=(t,e)=>!rg(Ce(t,e)).length&&Tn(t,e),_7=(t,e,n)=>{const r=Au(Ce(t,n));return Pt(r,"root",e[n]),Pt(t,n,r),t},Mf=t=>qi(t);function wR(t,e,n="validate"){if(Mf(t)||Array.isArray(t)&&t.every(Mf)||Lr(t)&&!t)return{type:n,message:Mf(t)?t:"",ref:e}}var xl=t=>fn(t)&&!lm(t)?t:{value:t,message:""},CR=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:f,max:p,pattern:y,validate:x,name:w,valueAsNumber:C,mount:b}=t._f,R=Ce(n,w);if(!b||e.has(w))return{};const T=l?l[0]:o,P=H=>{i&&T.reportValidity&&(T.setCustomValidity(Lr(H)?"":H||""),T.reportValidity())},k={},M=D_(o),F=Rd(o),I=M||F,z=(C||L_(o))&&hn(o.value)&&hn(R)||om(o)&&o.value===""||R===""||Array.isArray(R)&&!R.length,G=VM.bind(null,w,r,k),V=(H,B,X,Z=ws.maxLength,Y=ws.minLength)=>{const D=H?B:X;k[w]={type:H?Z:Y,message:D,ref:o,...G(H?Z:Y,D)}};if(s?!Array.isArray(R)||!R.length:c&&(!I&&(z||dr(R))||Lr(R)&&!R||F&&!GM(l).isValid||M&&!WM(l).isValid)){const{value:H,message:B}=Mf(c)?{value:!!c,message:c}:xl(c);if(H&&(k[w]={type:ws.required,message:B,ref:T,...G(ws.required,B)},!r))return P(B),k}if(!z&&(!dr(f)||!dr(p))){let H,B;const X=xl(p),Z=xl(f);if(!dr(R)&&!isNaN(R)){const Y=o.valueAsNumber||R&&+R;dr(X.value)||(H=Y>X.value),dr(Z.value)||(B=Y<Z.value)}else{const Y=o.valueAsDate||new Date(R),D=q=>new Date(new Date().toDateString()+" "+q),j=o.type=="time",U=o.type=="week";qi(X.value)&&R&&(H=j?D(R)>D(X.value):U?R>X.value:Y>new Date(X.value)),qi(Z.value)&&R&&(B=j?D(R)<D(Z.value):U?R<Z.value:Y<new Date(Z.value))}if((H||B)&&(V(!!H,X.message,Z.message,ws.max,ws.min),!r))return P(k[w].message),k}if((d||h)&&!z&&(qi(R)||s&&Array.isArray(R))){const H=xl(d),B=xl(h),X=!dr(H.value)&&R.length>+H.value,Z=!dr(B.value)&&R.length<+B.value;if((X||Z)&&(V(X,H.message,B.message),!r))return P(k[w].message),k}if(y&&!z&&qi(R)){const{value:H,message:B}=xl(y);if(lm(H)&&!R.match(H)&&(k[w]={type:ws.pattern,message:B,ref:o,...G(ws.pattern,B)},!r))return P(B),k}if(x){if(Ei(x)){const H=await x(R,n),B=wR(H,T);if(B&&(k[w]={...B,...G(ws.validate,B.message)},!r))return P(B.message),k}else if(fn(x)){let H={};for(const B in x){if(!Sr(H)&&!r)break;const X=wR(await x[B](R,n),T,B);X&&(H={...X,...G(B,X.message)},P(X.message),r&&(k[w]=H))}if(!Sr(H)&&(k[w]={ref:T,...H},!r))return k}}return P(!0),k};const w7={mode:bi.onSubmit,reValidateMode:bi.onChange,shouldFocusError:!0};function C7(t={}){let e={...w7,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ei(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=fn(e.defaultValues)||fn(e.values)?Un(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Un(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const p={array:hR(),state:hR()},y=e.criteriaMode===bi.all,x=$=>J=>{clearTimeout(d),d=setTimeout($,J)},w=async $=>{if(!e.disabled&&(h.isValid||f.isValid||$)){const J=e.resolver?Sr((await F()).errors):await z(r,!0);J!==n.isValid&&p.state.next({isValid:J})}},C=($,J)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(l.mount)).forEach(te=>{te&&(J?Pt(n.validatingFields,te,J):Tn(n.validatingFields,te))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Sr(n.validatingFields)}))},b=($,J=[],te,fe,he=!0,ie=!0)=>{if(fe&&te&&!e.disabled){if(o.action=!0,ie&&Array.isArray(Ce(r,$))){const ye=te(Ce(r,$),fe.argA,fe.argB);he&&Pt(r,$,ye)}if(ie&&Array.isArray(Ce(n.errors,$))){const ye=te(Ce(n.errors,$),fe.argA,fe.argB);he&&Pt(n.errors,$,ye),x7(n.errors,$)}if((h.touchedFields||f.touchedFields)&&ie&&Array.isArray(Ce(n.touchedFields,$))){const ye=te(Ce(n.touchedFields,$),fe.argA,fe.argB);he&&Pt(n.touchedFields,$,ye)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=uu(i,s)),p.state.next({name:$,isDirty:V($,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Pt(s,$,J)},R=($,J)=>{Pt(n.errors,$,J),p.state.next({errors:n.errors})},T=$=>{n.errors=$,p.state.next({errors:n.errors,isValid:!1})},P=($,J,te,fe)=>{const he=Ce(r,$);if(he){const ie=Ce(s,$,hn(te)?Ce(i,$):te);hn(ie)||fe&&fe.defaultChecked||J?Pt(s,$,J?ie:pR(he._f)):X($,ie),o.mount&&w()}},k=($,J,te,fe,he)=>{let ie=!1,ye=!1;const De={name:$};if(!e.disabled){if(!te||fe){(h.isDirty||f.isDirty)&&(ye=n.isDirty,n.isDirty=De.isDirty=V(),ie=ye!==De.isDirty);const ze=vo(Ce(i,$),J);ye=!!Ce(n.dirtyFields,$),ze?Tn(n.dirtyFields,$):Pt(n.dirtyFields,$,!0),De.dirtyFields=n.dirtyFields,ie=ie||(h.dirtyFields||f.dirtyFields)&&ye!==!ze}if(te){const ze=Ce(n.touchedFields,$);ze||(Pt(n.touchedFields,$,te),De.touchedFields=n.touchedFields,ie=ie||(h.touchedFields||f.touchedFields)&&ze!==te)}ie&&he&&p.state.next(De)}return ie?De:{}},M=($,J,te,fe)=>{const he=Ce(n.errors,$),ie=(h.isValid||f.isValid)&&Lr(J)&&n.isValid!==J;if(e.delayError&&te?(c=x(()=>R($,te)),c(e.delayError)):(clearTimeout(d),c=null,te?Pt(n.errors,$,te):Tn(n.errors,$)),(te?!vo(he,te):he)||!Sr(fe)||ie){const ye={...fe,...ie&&Lr(J)?{isValid:J}:{},errors:n.errors,name:$};n={...n,...ye},p.state.next(ye)}},F=async $=>{C($,!0);const J=await e.resolver(s,e.context,f7($||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C($),J},I=async $=>{const{errors:J}=await F($);if($)for(const te of $){const fe=Ce(J,te);fe?Pt(n.errors,te,fe):Tn(n.errors,te)}else n.errors=J;return J},z=async($,J,te={valid:!0})=>{for(const fe in $){const he=$[fe];if(he){const{_f:ie,...ye}=he;if(ie){const De=l.array.has(ie.name),ze=he._f&&m7(he._f);ze&&h.validatingFields&&C([fe],!0);const wt=await CR(he,l.disabled,s,y,e.shouldUseNativeValidation&&!J,De);if(ze&&h.validatingFields&&C([fe]),wt[ie.name]&&(te.valid=!1,J))break;!J&&(Ce(wt,ie.name)?De?_7(n.errors,wt,ie.name):Pt(n.errors,ie.name,wt[ie.name]):Tn(n.errors,ie.name))}!Sr(ye)&&await z(ye,J,te)}}return te.valid},G=()=>{for(const $ of l.unMount){const J=Ce(r,$);J&&(J._f.refs?J._f.refs.every(te=>!Qy(te)):!Qy(J._f.ref))&&ae($)}l.unMount=new Set},V=($,J)=>!e.disabled&&($&&J&&Pt(s,$,J),!vo(q(),i)),H=($,J,te)=>OM($,l,{...o.mount?s:hn(J)?i:qi($)?{[$]:J}:J},te,J),B=$=>rg(Ce(o.mount?s:i,$,e.shouldUnregister?Ce(i,$,[]):[])),X=($,J,te={})=>{const fe=Ce(r,$);let he=J;if(fe){const ie=fe._f;ie&&(!ie.disabled&&Pt(s,$,UM(J,ie)),he=om(ie.ref)&&dr(J)?"":J,zM(ie.ref)?[...ie.ref.options].forEach(ye=>ye.selected=he.includes(ye.value)):ie.refs?Rd(ie.ref)?ie.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(he)?ye.checked=!!he.find(De=>De===ye.value):ye.checked=he===ye.value||!!he)}):ie.refs.forEach(ye=>ye.checked=ye.value===he):L_(ie.ref)?ie.ref.value="":(ie.ref.value=he,ie.ref.type||p.state.next({name:$,values:Un(s)})))}(te.shouldDirty||te.shouldTouch)&&k($,he,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&U($)},Z=($,J,te)=>{for(const fe in J){if(!J.hasOwnProperty(fe))return;const he=J[fe],ie=$+"."+fe,ye=Ce(r,ie);(l.array.has($)||fn(he)||ye&&!ye._f)&&!va(he)?Z(ie,he,te):X(ie,he,te)}},Y=($,J,te={})=>{const fe=Ce(r,$),he=l.array.has($),ie=Un(J);Pt(s,$,ie),he?(p.array.next({name:$,values:Un(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&te.shouldDirty&&p.state.next({name:$,dirtyFields:uu(i,s),isDirty:V($,ie)})):fe&&!fe._f&&!dr(ie)?Z($,ie,te):X($,ie,te),xR($,l)&&p.state.next({...n}),p.state.next({name:o.mount?$:void 0,values:Un(s)})},D=async $=>{o.mount=!0;const J=$.target;let te=J.name,fe=!0;const he=Ce(r,te),ie=ze=>{fe=Number.isNaN(ze)||va(ze)&&isNaN(ze.getTime())||vo(ze,Ce(s,te,ze))},ye=yR(e.mode),De=yR(e.reValidateMode);if(he){let ze,wt;const jt=J.type?pR(he._f):NM($),ht=$.type===sm.BLUR||$.type===sm.FOCUS_OUT,$n=!g7(he._f)&&!e.resolver&&!Ce(n.errors,te)&&!he._f.deps||v7(ht,Ce(n.touchedFields,te),n.isSubmitted,De,ye),Oe=xR(te,l,ht);Pt(s,te,jt),ht?(he._f.onBlur&&he._f.onBlur($),c&&c(0)):he._f.onChange&&he._f.onChange($);const we=k(te,jt,ht),Et=!Sr(we)||Oe;if(!ht&&p.state.next({name:te,type:$.type,values:Un(s)}),$n)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?ht&&w():ht||w()),Et&&p.state.next({name:te,...Oe?{}:we});if(!ht&&Oe&&p.state.next({...n}),e.resolver){const{errors:Rt}=await F([te]);if(ie(jt),fe){const ln=_R(n.errors,r,te),Lt=_R(Rt,r,ln.name||te);ze=Lt.error,te=Lt.name,wt=Sr(Rt)}}else C([te],!0),ze=(await CR(he,l.disabled,s,y,e.shouldUseNativeValidation))[te],C([te]),ie(jt),fe&&(ze?wt=!1:(h.isValid||f.isValid)&&(wt=await z(r,!0)));fe&&(he._f.deps&&U(he._f.deps),M(te,wt,ze,we))}},j=($,J)=>{if(Ce(n.errors,J)&&$.focus)return $.focus(),1},U=async($,J={})=>{let te,fe;const he=Au($);if(e.resolver){const ie=await I(hn($)?$:he);te=Sr(ie),fe=$?!he.some(ye=>Ce(ie,ye)):te}else $?(fe=(await Promise.all(he.map(async ie=>{const ye=Ce(r,ie);return await z(ye&&ye._f?{[ie]:ye}:ye)}))).every(Boolean),!(!fe&&!n.isValid)&&w()):fe=te=await z(r);return p.state.next({...!qi($)||(h.isValid||f.isValid)&&te!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:te}:{},errors:n.errors}),J.shouldFocus&&!fe&&Mu(r,j,$?he:l.mount),fe},q=$=>{const J={...o.mount?s:i};return hn($)?J:qi($)?Ce(J,$):$.map(te=>Ce(J,te))},N=($,J)=>({invalid:!!Ce((J||n).errors,$),isDirty:!!Ce((J||n).dirtyFields,$),error:Ce((J||n).errors,$),isValidating:!!Ce(n.validatingFields,$),isTouched:!!Ce((J||n).touchedFields,$)}),L=$=>{$&&Au($).forEach(J=>Tn(n.errors,J)),p.state.next({errors:$?n.errors:{}})},re=($,J,te)=>{const fe=(Ce(r,$,{_f:{}})._f||{}).ref,he=Ce(n.errors,$)||{},{ref:ie,message:ye,type:De,...ze}=he;Pt(n.errors,$,{...ze,...J,ref:fe}),p.state.next({name:$,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&fe&&fe.focus&&fe.focus()},se=($,J)=>Ei($)?p.state.subscribe({next:te=>$(H(void 0,J),te)}):H($,J,!0),ce=$=>p.state.subscribe({next:J=>{y7($.name,J.name,$.exact)&&p7(J,$.formState||h,ft,$.reRenderRoot)&&$.callback({values:{...s},...n,...J})}}).unsubscribe,ge=$=>(o.mount=!0,f={...f,...$.formState},ce({...$,formState:f})),ae=($,J={})=>{for(const te of $?Au($):l.mount)l.mount.delete(te),l.array.delete(te),J.keepValue||(Tn(r,te),Tn(s,te)),!J.keepError&&Tn(n.errors,te),!J.keepDirty&&Tn(n.dirtyFields,te),!J.keepTouched&&Tn(n.touchedFields,te),!J.keepIsValidating&&Tn(n.validatingFields,te),!e.shouldUnregister&&!J.keepDefaultValue&&Tn(i,te);p.state.next({values:Un(s)}),p.state.next({...n,...J.keepDirty?{isDirty:V()}:{}}),!J.keepIsValid&&w()},pe=({disabled:$,name:J})=>{(Lr($)&&o.mount||$||l.disabled.has(J))&&($?l.disabled.add(J):l.disabled.delete(J))},_e=($,J={})=>{let te=Ce(r,$);const fe=Lr(J.disabled)||Lr(e.disabled);return Pt(r,$,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:$}},name:$,mount:!0,...J}}),l.mount.add($),te?pe({disabled:Lr(J.disabled)?J.disabled:e.disabled,name:$}):P($,!0,J.value),{...fe?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:du(J.min),max:du(J.max),minLength:du(J.minLength),maxLength:du(J.maxLength),pattern:du(J.pattern)}:{},name:$,onChange:D,onBlur:D,ref:he=>{if(he){_e($,J),te=Ce(r,$);const ie=hn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,ye=u7(ie),De=te._f.refs||[];if(ye?De.find(ze=>ze===ie):ie===te._f.ref)return;Pt(r,$,{_f:{...te._f,...ye?{refs:[...De.filter(Qy),ie,...Array.isArray(Ce(i,$))?[{}]:[]],ref:{type:ie.type,name:$}}:{ref:ie}}}),P($,!1,void 0,ie)}else te=Ce(r,$,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(FM(l.array,$)&&o.action)&&l.unMount.add($)}}},Re=()=>e.shouldFocusError&&Mu(r,j,l.mount),$e=$=>{Lr($)&&(p.state.next({disabled:$}),Mu(r,(J,te)=>{const fe=Ce(r,te);fe&&(J.disabled=fe._f.disabled||$,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(he=>{he.disabled=fe._f.disabled||$}))},0,!1))},Be=($,J)=>async te=>{let fe;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let he=Un(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:ye}=await F();n.errors=ie,he=ye}else await z(r);if(l.disabled.size)for(const ie of l.disabled)Pt(he,ie,void 0);if(Tn(n.errors,"root"),Sr(n.errors)){p.state.next({errors:{}});try{await $(he,te)}catch(ie){fe=ie}}else J&&await J({...n.errors},te),Re(),setTimeout(Re);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},yt=($,J={})=>{Ce(r,$)&&(hn(J.defaultValue)?Y($,Un(Ce(i,$))):(Y($,J.defaultValue),Pt(i,$,Un(J.defaultValue))),J.keepTouched||Tn(n.touchedFields,$),J.keepDirty||(Tn(n.dirtyFields,$),n.isDirty=J.defaultValue?V($,Un(Ce(i,$))):V()),J.keepError||(Tn(n.errors,$),h.isValid&&w()),p.state.next({...n}))},mt=($,J={})=>{const te=$?Un($):i,fe=Un(te),he=Sr($),ie=he?i:fe;if(J.keepDefaultValues||(i=te),!J.keepValues){if(J.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(uu(i,s))]);for(const De of Array.from(ye))Ce(n.dirtyFields,De)?Pt(ie,De,Ce(s,De)):Y(De,Ce(ie,De))}else{if(N_&&hn($))for(const ye of l.mount){const De=Ce(r,ye);if(De&&De._f){const ze=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(om(ze)){const wt=ze.closest("form");if(wt){wt.reset();break}}}}for(const ye of l.mount)Y(ye,Ce(ie,ye))}s=Un(ie),p.array.next({values:{...ie}}),p.state.next({values:{...ie}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:he?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!vo($,i)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:J.keepDirtyValues?J.keepDefaultValues&&s?uu(i,s):n.dirtyFields:J.keepDefaultValues&&$?uu(i,$):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Gt=($,J)=>mt(Ei($)?$(s):$,J),Dt=($,J={})=>{const te=Ce(r,$),fe=te&&te._f;if(fe){const he=fe.refs?fe.refs[0]:fe.ref;he.focus&&(he.focus(),J.shouldSelect&&Ei(he.select)&&he.select())}},ft=$=>{n={...n,...$}},_t={control:{register:_e,unregister:ae,getFieldState:N,handleSubmit:Be,setError:re,_subscribe:ce,_runSchema:F,_focusError:Re,_getWatch:H,_getDirty:V,_setValid:w,_setFieldArray:b,_setDisabledField:pe,_setErrors:T,_getFieldArray:B,_reset:mt,_resetDefaultValues:()=>Ei(e.defaultValues)&&e.defaultValues().then($=>{Gt($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:$e,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:ge,trigger:U,register:_e,handleSubmit:Be,watch:se,setValue:Y,getValues:q,reset:Gt,resetField:yt,clearErrors:L,unregister:ae,setError:re,setFocus:Dt,getFieldState:N};return{..._t,formControl:_t}}function O_(t={}){const e=le.useRef(void 0),n=le.useRef(void 0),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:Ei(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ei(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:C7(t),formState:r},t.formControl&&t.defaultValues&&!Ei(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,j_(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),le.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),le.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),le.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),le.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),le.useEffect(()=>{t.values&&!vo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),le.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=DM(r,s),e.current}const SR=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ce(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},HM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?SR(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>SR(i,n,t))}},S7=(t,e)=>{e.shouldUseNativeValidation&&HM(t,e);const n={};for(const r in t){const i=Ce(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(b7(e.names||Object.keys(t),r)){const o=Object.assign({},Ce(n,r));Pt(o,"root",s),Pt(n,r,o)}else Pt(n,r,s)}return n},b7=(t,e)=>{const n=bR(e);return t.some(r=>bR(r).match(`^${n}\\.\\d+`))};function bR(t){return t.replace(/\]|\[/g,"")}function E7(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=VM(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function V_(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&HM({},s),{errors:{},values:n.raw?Object.assign({},r):d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:S7(E7(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}}var bt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(bt||(bt={}));var ER;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ER||(ER={}));const Fe=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yo=t=>{switch(typeof t){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(t)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(t)?Fe.array:t===null?Fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Fe.promise:typeof Map<"u"&&t instanceof Map?Fe.map:typeof Set<"u"&&t instanceof Set?Fe.set:typeof Date<"u"&&t instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},xe=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ls extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Ls))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ls.create=t=>new Ls(t);const pv=(t,e)=>{let n;switch(t.code){case xe.invalid_type:t.received===Fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,bt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${bt.joinValues(t.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${bt.joinValues(t.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${bt.joinValues(t.options)}, received '${t.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:bt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case xe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case xe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=e.defaultError,bt.assertNever(t)}return{message:n}};let R7=pv;function T7(){return R7}const P7=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Pe(t,e){const n=T7(),r=P7({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===pv?void 0:pv].filter(i=>!!i)});t.common.issues.push(r)}class Ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return tt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ur.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return tt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const tt=Object.freeze({status:"aborted"}),pu=t=>({status:"dirty",value:t}),ii=t=>({status:"valid",value:t}),RR=t=>t.status==="aborted",TR=t=>t.status==="dirty",Xl=t=>t.status==="valid",cm=t=>typeof Promise<"u"&&t instanceof Promise;var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));class No{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PR=(t,e)=>{if(Xl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ls(t.common.issues);return this._error=n,this._error}}};function ut(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class xt{get description(){return this._def.description}_getType(e){return yo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:yo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ur,ctx:{common:e.parent.common,data:e.data,parsedType:yo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(cm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yo(e)},i=this._parseSync({data:e,path:r.path,parent:r});return PR(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Xl(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Xl(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yo(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(cm(i)?i:Promise.resolve(i));return PR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:xe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Zl({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return bo.create(this,this._def)}nullable(){return ql.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return rs.create(this)}promise(){return fm.create(this,this._def)}or(e){return dm.create([this,e],this._def)}and(e){return hm.create(this,e,this._def)}transform(e){return new Zl({...ut(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wv({...ut(this._def),innerType:this,defaultValue:n,typeName:nt.ZodDefault})}brand(){return new q7({typeName:nt.ZodBranded,type:this,...ut(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Cv({...ut(this._def),innerType:this,catchValue:n,typeName:nt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return z_.create(this,e)}readonly(){return Sv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const k7=/^c[^\s-]{8,}$/i,A7=/^[0-9a-z]+$/,M7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,I7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N7=/^[a-z0-9_-]{21}$/i,F7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,j7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,L7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,D7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let e0;const O7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,z7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,G7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,XM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",U7=new RegExp(`^${XM}$`);function KM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function W7(t){return new RegExp(`^${KM(t)}$`)}function H7(t){let e=`${XM}T${KM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function X7(t,e){return!!((e==="v4"||!e)&&O7.test(t)||(e==="v6"||!e)&&z7.test(t))}function K7(t,e){if(!F7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Y7(t,e){return!!((e==="v4"||!e)&&V7.test(t)||(e==="v6"||!e)&&$7.test(t))}class Ps extends xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const s=this._getOrReturnCtx(e);return Pe(s,{code:xe.invalid_type,expected:Fe.string,received:s.parsedType}),tt}const r=new Ur;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Pe(i,{code:xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Pe(i,{code:xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")L7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"email",code:xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")e0||(e0=new RegExp(D7,"u")),e0.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"emoji",code:xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")I7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"uuid",code:xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")N7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"nanoid",code:xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")k7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid",code:xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")A7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cuid2",code:xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")M7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ulid",code:xe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Pe(i,{validation:"url",code:xe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"regex",code:xe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?H7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?U7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?W7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?j7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"duration",code:xe.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?X7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"ip",code:xe.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?K7(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"jwt",code:xe.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Y7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"cidr",code:xe.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?B7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"base64",code:xe.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?G7.test(e.data)||(i=this._getOrReturnCtx(e,i),Pe(i,{validation:"base64url",code:xe.invalid_string,message:s.message}),r.dirty()):bt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:xe.invalid_string,...Le.errToObj(r)})}_addCheck(e){return new Ps({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Le.errToObj(n)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new Ps({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ps({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ps({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ps.create=t=>new Ps({checks:[],typeName:nt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ut(t)});function Z7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Ia extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const s=this._getOrReturnCtx(e);return Pe(s,{code:xe.invalid_type,expected:Fe.number,received:s.parsedType}),tt}let r;const i=new Ur;for(const s of this._def.checks)s.kind==="int"?bt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Z7(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.not_finite,message:s.message}),i.dirty()):bt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new Ia({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new Ia({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&bt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ia.create=t=>new Ia({checks:[],typeName:nt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ut(t)});class Na extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let r;const i=new Ur;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Pe(r,{code:xe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):bt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Pe(n,{code:xe.invalid_type,expected:Fe.bigint,received:n.parsedType}),tt}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new Na({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new Na({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Na.create=t=>new Na({checks:[],typeName:nt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ut(t)});class um extends xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Fe.boolean,received:r.parsedType}),tt}return ii(e.data)}}um.create=t=>new um({typeName:nt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ut(t)});class Kl extends xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const s=this._getOrReturnCtx(e);return Pe(s,{code:xe.invalid_type,expected:Fe.date,received:s.parsedType}),tt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Pe(s,{code:xe.invalid_date}),tt}const r=new Ur;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Pe(i,{code:xe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):bt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Kl.create=t=>new Kl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:nt.ZodDate,...ut(t)});class kR extends xt{_parse(e){if(this._getType(e)!==Fe.symbol){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Fe.symbol,received:r.parsedType}),tt}return ii(e.data)}}kR.create=t=>new kR({typeName:nt.ZodSymbol,...ut(t)});class yv extends xt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Fe.undefined,received:r.parsedType}),tt}return ii(e.data)}}yv.create=t=>new yv({typeName:nt.ZodUndefined,...ut(t)});class vv extends xt{_parse(e){if(this._getType(e)!==Fe.null){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Fe.null,received:r.parsedType}),tt}return ii(e.data)}}vv.create=t=>new vv({typeName:nt.ZodNull,...ut(t)});class AR extends xt{constructor(){super(...arguments),this._any=!0}_parse(e){return ii(e.data)}}AR.create=t=>new AR({typeName:nt.ZodAny,...ut(t)});class MR extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ii(e.data)}}MR.create=t=>new MR({typeName:nt.ZodUnknown,...ut(t)});class Fo extends xt{_parse(e){const n=this._getOrReturnCtx(e);return Pe(n,{code:xe.invalid_type,expected:Fe.never,received:n.parsedType}),tt}}Fo.create=t=>new Fo({typeName:nt.ZodNever,...ut(t)});class IR extends xt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Fe.void,received:r.parsedType}),tt}return ii(e.data)}}IR.create=t=>new IR({typeName:nt.ZodVoid,...ut(t)});class rs extends xt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Fe.array)return Pe(n,{code:xe.invalid_type,expected:Fe.array,received:n.parsedType}),tt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Pe(n,{code:o?xe.too_big:xe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Pe(n,{code:xe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Pe(n,{code:xe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new No(n,o,n.path,l)))).then(o=>Ur.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new No(n,o,n.path,l)));return Ur.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new rs({...this._def,minLength:{value:e,message:Le.toString(n)}})}max(e,n){return new rs({...this._def,maxLength:{value:e,message:Le.toString(n)}})}length(e,n){return new rs({...this._def,exactLength:{value:e,message:Le.toString(n)}})}nonempty(e){return this.min(1,e)}}rs.create=(t,e)=>new rs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...ut(e)});function Pl(t){if(t instanceof xn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=bo.create(Pl(r))}return new xn({...t._def,shape:()=>e})}else return t instanceof rs?new rs({...t._def,type:Pl(t.element)}):t instanceof bo?bo.create(Pl(t.unwrap())):t instanceof ql?ql.create(Pl(t.unwrap())):t instanceof Fa?Fa.create(t.items.map(e=>Pl(e))):t}class xn extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=bt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Fe.object){const d=this._getOrReturnCtx(e);return Pe(d,{code:xe.invalid_type,expected:Fe.object,received:d.parsedType}),tt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fo&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=s[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new No(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Fo){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Pe(i,{code:xe.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new No(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,p=await h.value;d.push({key:f,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Ur.mergeObjectSync(r,d)):Ur.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new xn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Le.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(e){return new xn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xn({...this._def,catchall:e})}pick(e){const n={};for(const r of bt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new xn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of bt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new xn({...this._def,shape:()=>n})}deepPartial(){return Pl(this)}partial(e){const n={};for(const r of bt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new xn({...this._def,shape:()=>n})}required(e){const n={};for(const r of bt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof bo;)s=s._def.innerType;n[r]=s}return new xn({...this._def,shape:()=>n})}keyof(){return YM(bt.objectKeys(this.shape))}}xn.create=(t,e)=>new xn({shape:()=>t,unknownKeys:"strip",catchall:Fo.create(),typeName:nt.ZodObject,...ut(e)});xn.strictCreate=(t,e)=>new xn({shape:()=>t,unknownKeys:"strict",catchall:Fo.create(),typeName:nt.ZodObject,...ut(e)});xn.lazycreate=(t,e)=>new xn({shape:t,unknownKeys:"strip",catchall:Fo.create(),typeName:nt.ZodObject,...ut(e)});class dm extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Ls(l.ctx.common.issues));return Pe(n,{code:xe.invalid_union,unionErrors:o}),tt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Ls(c));return Pe(n,{code:xe.invalid_union,unionErrors:l}),tt}}get options(){return this._def.options}}dm.create=(t,e)=>new dm({options:t,typeName:nt.ZodUnion,...ut(e)});function xv(t,e){const n=yo(t),r=yo(e);if(t===e)return{valid:!0,data:t};if(n===Fe.object&&r===Fe.object){const i=bt.objectKeys(e),s=bt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=xv(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Fe.array&&r===Fe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=xv(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Fe.date&&r===Fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class hm extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(RR(s)||RR(o))return tt;const l=xv(s.value,o.value);return l.valid?((TR(s)||TR(o))&&n.dirty(),{status:n.value,value:l.data}):(Pe(r,{code:xe.invalid_intersection_types}),tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}hm.create=(t,e,n)=>new hm({left:t,right:e,typeName:nt.ZodIntersection,...ut(n)});class Fa extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.array)return Pe(r,{code:xe.invalid_type,expected:Fe.array,received:r.parsedType}),tt;if(r.data.length<this._def.items.length)return Pe(r,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&r.data.length>this._def.items.length&&(Pe(r,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new No(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ur.mergeArray(n,o)):Ur.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Fa({...this._def,rest:e})}}Fa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fa({items:t,typeName:nt.ZodTuple,rest:null,...ut(e)})};class NR extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.map)return Pe(r,{code:xe.invalid_type,expected:Fe.map,received:r.parsedType}),tt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new No(r,l,r.path,[d,"key"])),value:s._parse(new No(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return tt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}NR.create=(t,e,n)=>new NR({valueType:e,keyType:t,typeName:nt.ZodMap,...ut(n)});class nd extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.set)return Pe(r,{code:xe.invalid_type,expected:Fe.set,received:r.parsedType}),tt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Pe(r,{code:xe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Pe(r,{code:xe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return tt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>s._parse(new No(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new nd({...this._def,minSize:{value:e,message:Le.toString(n)}})}max(e,n){return new nd({...this._def,maxSize:{value:e,message:Le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}nd.create=(t,e)=>new nd({valueType:t,minSize:null,maxSize:null,typeName:nt.ZodSet,...ut(e)});class FR extends xt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}FR.create=(t,e)=>new FR({getter:t,typeName:nt.ZodLazy,...ut(e)});class _v extends xt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Pe(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}_v.create=(t,e)=>new _v({value:t,typeName:nt.ZodLiteral,...ut(e)});function YM(t,e){return new Yl({values:t,typeName:nt.ZodEnum,...ut(e)})}class Yl extends xt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Pe(n,{expected:bt.joinValues(r),received:n.parsedType,code:xe.invalid_type}),tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Pe(n,{received:n.data,code:xe.invalid_enum_value,options:r}),tt}return ii(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Yl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Yl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Yl.create=YM;class jR extends xt{_parse(e){const n=bt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const i=bt.objectValues(n);return Pe(r,{expected:bt.joinValues(i),received:r.parsedType,code:xe.invalid_type}),tt}if(this._cache||(this._cache=new Set(bt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=bt.objectValues(n);return Pe(r,{received:r.data,code:xe.invalid_enum_value,options:i}),tt}return ii(e.data)}get enum(){return this._def.values}}jR.create=(t,e)=>new jR({values:t,typeName:nt.ZodNativeEnum,...ut(e)});class fm extends xt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Pe(n,{code:xe.invalid_type,expected:Fe.promise,received:n.parsedType}),tt;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return ii(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fm.create=(t,e)=>new fm({type:t,typeName:nt.ZodPromise,...ut(e)});class Zl extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Pe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return tt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?tt:c.status==="dirty"||n.value==="dirty"?pu(c.value):c});{if(n.value==="aborted")return tt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?tt:l.status==="dirty"||n.value==="dirty"?pu(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Xl(o))return tt;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Xl(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):tt);bt.assertNever(i)}}Zl.create=(t,e,n)=>new Zl({schema:t,typeName:nt.ZodEffects,effect:e,...ut(n)});Zl.createWithPreprocess=(t,e,n)=>new Zl({schema:e,effect:{type:"preprocess",transform:t},typeName:nt.ZodEffects,...ut(n)});class bo extends xt{_parse(e){return this._getType(e)===Fe.undefined?ii(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bo.create=(t,e)=>new bo({innerType:t,typeName:nt.ZodOptional,...ut(e)});class ql extends xt{_parse(e){return this._getType(e)===Fe.null?ii(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ql.create=(t,e)=>new ql({innerType:t,typeName:nt.ZodNullable,...ut(e)});class wv extends xt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wv.create=(t,e)=>new wv({innerType:t,typeName:nt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ut(e)});class Cv extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return cm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ls(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ls(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Cv.create=(t,e)=>new Cv({innerType:t,typeName:nt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ut(e)});class LR extends xt{_parse(e){if(this._getType(e)!==Fe.nan){const r=this._getOrReturnCtx(e);return Pe(r,{code:xe.invalid_type,expected:Fe.nan,received:r.parsedType}),tt}return{status:"valid",value:e.data}}}LR.create=t=>new LR({typeName:nt.ZodNaN,...ut(t)});class q7 extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class z_ extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?tt:s.status==="dirty"?(n.dirty(),pu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?tt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new z_({in:e,out:n,typeName:nt.ZodPipeline})}}class Sv extends xt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Xl(i)&&(i.value=Object.freeze(i.value)),i);return cm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Sv.create=(t,e)=>new Sv({innerType:t,typeName:nt.ZodReadonly,...ut(e)});var nt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(nt||(nt={}));const Ts=Ps.create,ZM=Ia.create;Na.create;um.create;Kl.create;const J7=yv.create,Q7=vv.create;Fo.create;rs.create;const $_=xn.create,eX=dm.create;hm.create;Fa.create;const tX=_v.create;Yl.create;fm.create;bo.create;ql.create;const Wn={string:t=>Ps.create({...t,coerce:!0}),number:t=>Ia.create({...t,coerce:!0}),boolean:t=>um.create({...t,coerce:!0}),bigint:t=>Na.create({...t,coerce:!0}),date:t=>Kl.create({...t,coerce:!0})};function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function nX(t,e){const n=_.createContext(e),r=s=>{const{children:o,...l}=s,c=_.useMemo(()=>l,Object.values(l));return g.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=_.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function si(t,e=[]){let n=[];function r(s,o){const l=_.createContext(o),c=n.length;n=[...n,o];const d=f=>{var b;const{scope:p,children:y,...x}=f,w=((b=p==null?void 0:p[t])==null?void 0:b[c])||l,C=_.useMemo(()=>x,Object.values(x));return g.jsx(w.Provider,{value:C,children:y})};d.displayName=s+"Provider";function h(f,p){var w;const y=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,x=_.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,rX(i,...e)]}function rX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function B_(t){const e=t+"CollectionProvider",[n,r]=si(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:C,children:b}=w,R=le.useRef(null),T=le.useRef(new Map).current;return g.jsx(i,{scope:C,itemMap:T,collectionRef:R,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=Aa(l),d=le.forwardRef((w,C)=>{const{scope:b,children:R}=w,T=s(l,b),P=at(C,T.collectionRef);return g.jsx(c,{ref:P,children:R})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Aa(h),y=le.forwardRef((w,C)=>{const{scope:b,children:R,...T}=w,P=le.useRef(null),k=at(C,P),M=s(h,b);return le.useEffect(()=>(M.itemMap.set(P,{ref:P,...T}),()=>void M.itemMap.delete(P))),g.jsx(p,{[f]:"",ref:k,children:R})});y.displayName=h;function x(w){const C=s(t+"CollectionConsumer",w);return le.useCallback(()=>{const R=C.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${f}]`));return Array.from(C.itemMap.values()).sort((M,F)=>T.indexOf(M.ref.current)-T.indexOf(F.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},x,r]}var Kn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},iX=fT[" useId ".trim().toString()]||(()=>{}),sX=0;function Ti(t){const[e,n]=_.useState(iX());return Kn(()=>{n(r=>r??String(sX++))},[t]),e?`radix-${e}`:""}var oX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=oX.reduce((t,e)=>{const n=Aa(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function qM(t,e){t&&Va.flushSync(()=>t.dispatchEvent(e))}function Xn(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var aX=fT[" useInsertionEffect ".trim().toString()]||Kn;function Ds({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=lX({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=_.useCallback(h=>{var f;if(l){const p=cX(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else s(h)},[l,t,s,o]);return[c,d]}function lX({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),s=_.useRef(e);return aX(()=>{s.current=e},[e]),_.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function cX(t){return typeof t=="function"}var uX=_.createContext(void 0);function Td(t){const e=_.useContext(uX);return t||e||"ltr"}var t0="rovingFocusGroup.onEntryFocus",dX={bubbles:!1,cancelable:!0},Pd="RovingFocusGroup",[bv,JM,hX]=B_(Pd),[fX,sg]=si(Pd,[hX]),[mX,gX]=fX(Pd),QM=_.forwardRef((t,e)=>g.jsx(bv.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(bv.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(pX,{...t,ref:e})})}));QM.displayName=Pd;var pX=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=_.useRef(null),y=at(e,p),x=Td(s),[w,C]=Ds({prop:o,defaultProp:l??null,onChange:c,caller:Pd}),[b,R]=_.useState(!1),T=Xn(d),P=JM(n),k=_.useRef(!1),[M,F]=_.useState(0);return _.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(t0,T),()=>I.removeEventListener(t0,T)},[T]),g.jsx(mX,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:w,onItemFocus:_.useCallback(I=>C(I),[C]),onItemShiftTab:_.useCallback(()=>R(!0),[]),onFocusableItemAdd:_.useCallback(()=>F(I=>I+1),[]),onFocusableItemRemove:_.useCallback(()=>F(I=>I-1),[]),children:g.jsx(Ye.div,{tabIndex:b||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{k.current=!0}),onFocus:Se(t.onFocus,I=>{const z=!k.current;if(I.target===I.currentTarget&&z&&!b){const G=new CustomEvent(t0,dX);if(I.currentTarget.dispatchEvent(G),!G.defaultPrevented){const V=P().filter(Y=>Y.focusable),H=V.find(Y=>Y.active),B=V.find(Y=>Y.id===w),Z=[H,B,...V].filter(Boolean).map(Y=>Y.ref.current);nI(Z,h)}}k.current=!1}),onBlur:Se(t.onBlur,()=>R(!1))})})}),eI="RovingFocusGroupItem",tI=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=Ti(),d=s||c,h=gX(eI,n),f=h.currentTabStopId===d,p=JM(n),{onFocusableItemAdd:y,onFocusableItemRemove:x,currentTabStopId:w}=h;return _.useEffect(()=>{if(r)return y(),()=>x()},[r,y,x]),g.jsx(bv.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:g.jsx(Ye.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Se(t.onMouseDown,C=>{r?h.onItemFocus(d):C.preventDefault()}),onFocus:Se(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Se(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){h.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const b=xX(C,h.orientation,h.dir);if(b!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let T=p().filter(P=>P.focusable).map(P=>P.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const P=T.indexOf(C.currentTarget);T=h.loop?_X(T,P+1):T.slice(P+1)}setTimeout(()=>nI(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});tI.displayName=eI;var yX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xX(t,e,n){const r=vX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yX[r]}function nI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function _X(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rI=QM,iI=tI;function wX(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var lr=t=>{const{present:e,children:n}=t,r=CX(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=at(r.ref,SX(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};lr.displayName="Presence";function CX(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),o=t?"mounted":"unmounted",[l,c]=wX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=cf(r.current);s.current=l==="mounted"?d:"none"},[l]),Kn(()=>{const d=r.current,h=i.current;if(h!==t){const p=s.current,y=cf(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Kn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const w=cf(r.current).includes(y.animationName);if(y.target===e&&w&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},p=y=>{y.target===e&&(s.current=cf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function cf(t){return(t==null?void 0:t.animationName)||"none"}function SX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var og="Tabs",[bX,hte]=si(og,[sg]),sI=sg(),[EX,G_]=bX(og),oI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=Td(l),[f,p]=Ds({prop:r,onChange:i,defaultProp:s??"",caller:og});return g.jsx(EX,{scope:n,baseId:Ti(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:g.jsx(Ye.div,{dir:h,"data-orientation":o,...d,ref:e})})});oI.displayName=og;var aI="TabsList",lI=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=G_(aI,n),o=sI(n);return g.jsx(rI,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(Ye.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});lI.displayName=aI;var cI="TabsTrigger",uI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=G_(cI,n),l=sI(n),c=fI(o.baseId,r),d=mI(o.baseId,r),h=r===o.value;return g.jsx(iI,{asChild:!0,...l,focusable:!i,active:h,children:g.jsx(Ye.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Se(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Se(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Se(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!i&&f&&o.onValueChange(r)})})})});uI.displayName=cI;var dI="TabsContent",hI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=G_(dI,n),c=fI(l.baseId,r),d=mI(l.baseId,r),h=r===l.value,f=_.useRef(h);return _.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(lr,{present:i||h,children:({present:p})=>g.jsx(Ye.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});hI.displayName=dI;function fI(t,e){return`${t}-trigger-${e}`}function mI(t,e){return`${t}-content-${e}`}var RX=oI,gI=lI,pI=uI,yI=hI;const TX=RX,vI=_.forwardRef(({className:t,...e},n)=>g.jsx(gI,{ref:n,className:Ve("inline-flex h-9 items-center justify-center rounded-xl bg-muted p-1 text-muted-foreground",t),...e}));vI.displayName=gI.displayName;const If=_.forwardRef(({className:t,...e},n)=>g.jsx(pI,{ref:n,className:Ve("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));If.displayName=pI.displayName;const Nf=_.forwardRef(({className:t,...e},n)=>g.jsx(yI,{ref:n,className:Ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Nf.displayName=yI.displayName;function Ev(t,[e,n]){return Math.min(n,Math.max(e,t))}function PX(t,e=globalThis==null?void 0:globalThis.document){const n=Xn(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var kX="DismissableLayer",Rv="dismissableLayer.update",AX="dismissableLayer.pointerDownOutside",MX="dismissableLayer.focusOutside",DR,xI=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kd=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=_.useContext(xI),[h,f]=_.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),x=at(e,F=>f(F)),w=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(C),R=h?w.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,P=R>=b,k=FX(F=>{const I=F.target,z=[...d.branches].some(G=>G.contains(I));!P||z||(i==null||i(F),o==null||o(F),F.defaultPrevented||l==null||l())},p),M=jX(F=>{const I=F.target;[...d.branches].some(G=>G.contains(I))||(s==null||s(F),o==null||o(F),F.defaultPrevented||l==null||l())},p);return PX(F=>{R===d.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},p),_.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(DR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),OR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=DR)}},[h,p,n,d]),_.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),OR())},[h,d]),_.useEffect(()=>{const F=()=>y({});return document.addEventListener(Rv,F),()=>document.removeEventListener(Rv,F)},[]),g.jsx(Ye.div,{...c,ref:x,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,k.onPointerDownCapture)})});kd.displayName=kX;var IX="DismissableLayerBranch",NX=_.forwardRef((t,e)=>{const n=_.useContext(xI),r=_.useRef(null),i=at(e,r);return _.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Ye.div,{...t,ref:i})});NX.displayName=IX;function FX(t,e=globalThis==null?void 0:globalThis.document){const n=Xn(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){_I(AX,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jX(t,e=globalThis==null?void 0:globalThis.document){const n=Xn(t),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&_I(MX,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OR(){const t=new CustomEvent(Rv);document.dispatchEvent(t)}function _I(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?qM(i,s):i.dispatchEvent(s)}var n0=0;function U_(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VR()),document.body.insertAdjacentElement("beforeend",t[1]??VR()),n0++,()=>{n0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),n0--}},[])}function VR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var r0="focusScope.autoFocusOnMount",i0="focusScope.autoFocusOnUnmount",zR={bubbles:!1,cancelable:!0},LX="FocusScope",ag=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=_.useState(null),d=Xn(i),h=Xn(s),f=_.useRef(null),p=at(e,w=>c(w)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let w=function(T){if(y.paused||!l)return;const P=T.target;l.contains(P)?f.current=P:go(f.current,{select:!0})},C=function(T){if(y.paused||!l)return;const P=T.relatedTarget;P!==null&&(l.contains(P)||go(f.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&go(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const R=new MutationObserver(b);return l&&R.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),R.disconnect()}}},[r,l,y.paused]),_.useEffect(()=>{if(l){BR.add(y);const w=document.activeElement;if(!l.contains(w)){const b=new CustomEvent(r0,zR);l.addEventListener(r0,d),l.dispatchEvent(b),b.defaultPrevented||(DX(BX(wI(l)),{select:!0}),document.activeElement===w&&go(l))}return()=>{l.removeEventListener(r0,d),setTimeout(()=>{const b=new CustomEvent(i0,zR);l.addEventListener(i0,h),l.dispatchEvent(b),b.defaultPrevented||go(w??document.body,{select:!0}),l.removeEventListener(i0,h),BR.remove(y)},0)}}},[l,d,h,y]);const x=_.useCallback(w=>{if(!n&&!r||y.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(C&&b){const R=w.currentTarget,[T,P]=OX(R);T&&P?!w.shiftKey&&b===P?(w.preventDefault(),n&&go(T,{select:!0})):w.shiftKey&&b===T&&(w.preventDefault(),n&&go(P,{select:!0})):b===R&&w.preventDefault()}},[n,r,y.paused]);return g.jsx(Ye.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});ag.displayName=LX;function DX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(go(r,{select:e}),document.activeElement!==n)return}function OX(t){const e=wI(t),n=$R(e,t),r=$R(e.reverse(),t);return[n,r]}function wI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function $R(t,e){for(const n of t)if(!VX(n,{upTo:e}))return n}function VX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zX(t){return t instanceof HTMLInputElement&&"select"in t}function go(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zX(t)&&e&&t.select()}}var BR=$X();function $X(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=GR(t,e),t.unshift(e)},remove(e){var n;t=GR(t,e),(n=t[0])==null||n.resume()}}}function GR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function BX(t){return t.filter(e=>e.tagName!=="A")}const GX=["top","right","bottom","left"],jo=Math.min,Vr=Math.max,mm=Math.round,uf=Math.floor,is=t=>({x:t,y:t}),UX={left:"right",right:"left",bottom:"top",top:"bottom"},WX={start:"end",end:"start"};function Tv(t,e,n){return Vr(t,jo(e,n))}function Os(t,e){return typeof t=="function"?t(e):t}function Vs(t){return t.split("-")[0]}function yc(t){return t.split("-")[1]}function W_(t){return t==="x"?"y":"x"}function H_(t){return t==="y"?"height":"width"}const HX=new Set(["top","bottom"]);function Ji(t){return HX.has(Vs(t))?"y":"x"}function X_(t){return W_(Ji(t))}function XX(t,e,n){n===void 0&&(n=!1);const r=yc(t),i=X_(t),s=H_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=gm(o)),[o,gm(o)]}function KX(t){const e=gm(t);return[Pv(t),e,Pv(e)]}function Pv(t){return t.replace(/start|end/g,e=>WX[e])}const UR=["left","right"],WR=["right","left"],YX=["top","bottom"],ZX=["bottom","top"];function qX(t,e,n){switch(t){case"top":case"bottom":return n?e?WR:UR:e?UR:WR;case"left":case"right":return e?YX:ZX;default:return[]}}function JX(t,e,n,r){const i=yc(t);let s=qX(Vs(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Pv)))),s}function gm(t){return t.replace(/left|right|bottom|top/g,e=>UX[e])}function QX(t){return{top:0,right:0,bottom:0,left:0,...t}}function CI(t){return typeof t!="number"?QX(t):{top:t,right:t,bottom:t,left:t}}function pm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function HR(t,e,n){let{reference:r,floating:i}=t;const s=Ji(e),o=X_(e),l=H_(o),c=Vs(e),d=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(yc(e)){case"start":y[o]-=p*(n&&d?-1:1);break;case"end":y[o]+=p*(n&&d?-1:1);break}return y}const eK=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=HR(d,r,c),p=r,y={},x=0;for(let w=0;w<l.length;w++){const{name:C,fn:b}=l[w],{x:R,y:T,data:P,reset:k}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=R??h,f=T??f,y={...y,[C]:{...y[C],...P}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:h,y:f}=HR(d,p,c)),w=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:y}};async function rd(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=Os(e,t),x=CI(y),C=l[p?f==="floating"?"reference":"floating":f],b=pm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),R=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),P=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},k=pm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:T,strategy:c}):R);return{top:(b.top-k.top+x.top)/P.y,bottom:(k.bottom-b.bottom+x.bottom)/P.y,left:(b.left-k.left+x.left)/P.x,right:(k.right-b.right+x.right)/P.x}}const tK=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Os(t,e)||{};if(d==null)return{};const f=CI(h),p={x:n,y:r},y=X_(i),x=H_(y),w=await o.getDimensions(d),C=y==="y",b=C?"top":"left",R=C?"bottom":"right",T=C?"clientHeight":"clientWidth",P=s.reference[x]+s.reference[y]-p[y]-s.floating[x],k=p[y]-s.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let F=M?M[T]:0;(!F||!await(o.isElement==null?void 0:o.isElement(M)))&&(F=l.floating[T]||s.floating[x]);const I=P/2-k/2,z=F/2-w[x]/2-1,G=jo(f[b],z),V=jo(f[R],z),H=G,B=F-w[x]-V,X=F/2-w[x]/2+I,Z=Tv(H,X,B),Y=!c.arrow&&yc(i)!=null&&X!==Z&&s.reference[x]/2-(X<H?G:V)-w[x]/2<0,D=Y?X<H?X-H:X-B:0;return{[y]:p[y]+D,data:{[y]:Z,centerOffset:X-Z-D,...Y&&{alignmentOffset:D}},reset:Y}}}),nK=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...C}=Os(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Vs(i),R=Ji(l),T=Vs(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=p||(T||!w?[gm(l)]:KX(l)),M=x!=="none";!p&&M&&k.push(...JX(l,w,x,P));const F=[l,...k],I=await rd(e,C),z=[];let G=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&z.push(I[b]),f){const X=XX(i,o,P);z.push(I[X[0]],I[X[1]])}if(G=[...G,{placement:i,overflows:z}],!z.every(X=>X<=0)){var V,H;const X=(((V=s.flip)==null?void 0:V.index)||0)+1,Z=F[X];if(Z&&(!(f==="alignment"?R!==Ji(Z):!1)||G.every(j=>j.overflows[0]>0&&Ji(j.placement)===R)))return{data:{index:X,overflows:G},reset:{placement:Z}};let Y=(H=G.filter(D=>D.overflows[0]<=0).sort((D,j)=>D.overflows[1]-j.overflows[1])[0])==null?void 0:H.placement;if(!Y)switch(y){case"bestFit":{var B;const D=(B=G.filter(j=>{if(M){const U=Ji(j.placement);return U===R||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:B[0];D&&(Y=D);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function XR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function KR(t){return GX.some(e=>t[e]>=0)}const rK=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Os(t,e);switch(r){case"referenceHidden":{const s=await rd(e,{...i,elementContext:"reference"}),o=XR(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:KR(o)}}}case"escaped":{const s=await rd(e,{...i,altBoundary:!0}),o=XR(s,n.floating);return{data:{escapedOffsets:o,escaped:KR(o)}}}default:return{}}}}},SI=new Set(["left","top"]);async function iK(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Vs(n),l=yc(n),c=Ji(n)==="y",d=SI.has(o)?-1:1,h=s&&c?-1:1,f=Os(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(y=l==="end"?x*-1:x),c?{x:y*h,y:p*d}:{x:p*d,y:y*h}}const sK=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await iK(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},oK=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:C=>{let{x:b,y:R}=C;return{x:b,y:R}}},...c}=Os(t,e),d={x:n,y:r},h=await rd(e,c),f=Ji(Vs(i)),p=W_(f);let y=d[p],x=d[f];if(s){const C=p==="y"?"top":"left",b=p==="y"?"bottom":"right",R=y+h[C],T=y-h[b];y=Tv(R,y,T)}if(o){const C=f==="y"?"top":"left",b=f==="y"?"bottom":"right",R=x+h[C],T=x-h[b];x=Tv(R,x,T)}const w=l.fn({...e,[p]:y,[f]:x});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:s,[f]:o}}}}}},aK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Os(t,e),h={x:n,y:r},f=Ji(i),p=W_(f);let y=h[p],x=h[f];const w=Os(l,e),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const T=p==="y"?"height":"width",P=s.reference[p]-s.floating[T]+C.mainAxis,k=s.reference[p]+s.reference[T]-C.mainAxis;y<P?y=P:y>k&&(y=k)}if(d){var b,R;const T=p==="y"?"width":"height",P=SI.has(Vs(i)),k=s.reference[f]-s.floating[T]+(P&&((b=o.offset)==null?void 0:b[f])||0)+(P?0:C.crossAxis),M=s.reference[f]+s.reference[T]+(P?0:((R=o.offset)==null?void 0:R[f])||0)-(P?C.crossAxis:0);x<k?x=k:x>M&&(x=M)}return{[p]:y,[f]:x}}}},lK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Os(t,e),h=await rd(e,d),f=Vs(i),p=yc(i),y=Ji(i)==="y",{width:x,height:w}=s.floating;let C,b;f==="top"||f==="bottom"?(C=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,C=p==="end"?"top":"bottom");const R=w-h.top-h.bottom,T=x-h.left-h.right,P=jo(w-h[C],R),k=jo(x-h[b],T),M=!e.middlewareData.shift;let F=P,I=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=R),M&&!p){const G=Vr(h.left,0),V=Vr(h.right,0),H=Vr(h.top,0),B=Vr(h.bottom,0);y?I=x-2*(G!==0||V!==0?G+V:Vr(h.left,h.right)):F=w-2*(H!==0||B!==0?H+B:Vr(h.top,h.bottom))}await c({...e,availableWidth:I,availableHeight:F});const z=await o.getDimensions(l.floating);return x!==z.width||w!==z.height?{reset:{rects:!0}}:{}}}};function lg(){return typeof window<"u"}function vc(t){return bI(t)?(t.nodeName||"").toLowerCase():"#document"}function Br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ls(t){var e;return(e=(bI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bI(t){return lg()?t instanceof Node||t instanceof Br(t).Node:!1}function Ai(t){return lg()?t instanceof Element||t instanceof Br(t).Element:!1}function as(t){return lg()?t instanceof HTMLElement||t instanceof Br(t).HTMLElement:!1}function YR(t){return!lg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Br(t).ShadowRoot}const cK=new Set(["inline","contents"]);function Ad(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!cK.has(i)}const uK=new Set(["table","td","th"]);function dK(t){return uK.has(vc(t))}const hK=[":popover-open",":modal"];function cg(t){return hK.some(e=>{try{return t.matches(e)}catch{return!1}})}const fK=["transform","translate","scale","rotate","perspective"],mK=["transform","translate","scale","rotate","perspective","filter"],gK=["paint","layout","strict","content"];function K_(t){const e=Y_(),n=Ai(t)?Mi(t):t;return fK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||mK.some(r=>(n.willChange||"").includes(r))||gK.some(r=>(n.contain||"").includes(r))}function pK(t){let e=Lo(t);for(;as(e)&&!Jl(e);){if(K_(e))return e;if(cg(e))return null;e=Lo(e)}return null}function Y_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yK=new Set(["html","body","#document"]);function Jl(t){return yK.has(vc(t))}function Mi(t){return Br(t).getComputedStyle(t)}function ug(t){return Ai(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YR(t)&&t.host||ls(t);return YR(e)?e.host:e}function EI(t){const e=Lo(t);return Jl(e)?t.ownerDocument?t.ownerDocument.body:t.body:as(e)&&Ad(e)?e:EI(e)}function id(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=EI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Br(i);if(s){const l=kv(o);return e.concat(o,o.visualViewport||[],Ad(i)?i:[],l&&n?id(l):[])}return e.concat(i,id(i,[],n))}function kv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RI(t){const e=Mi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=as(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=mm(n)!==s||mm(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function Z_(t){return Ai(t)?t:t.contextElement}function Vl(t){const e=Z_(t);if(!as(e))return is(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=RI(e);let o=(s?mm(n.width):n.width)/r,l=(s?mm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vK=is(0);function TI(t){const e=Br(t);return!Y_()||!e.visualViewport?vK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Br(t)?!1:e}function ja(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Z_(t);let o=is(1);e&&(r?Ai(r)&&(o=Vl(r)):o=Vl(t));const l=xK(s,n,r)?TI(s):is(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const p=Br(s),y=r&&Ai(r)?Br(r):r;let x=p,w=kv(x);for(;w&&r&&y!==x;){const C=Vl(w),b=w.getBoundingClientRect(),R=Mi(w),T=b.left+(w.clientLeft+parseFloat(R.paddingLeft))*C.x,P=b.top+(w.clientTop+parseFloat(R.paddingTop))*C.y;c*=C.x,d*=C.y,h*=C.x,f*=C.y,c+=T,d+=P,x=Br(w),w=kv(x)}}return pm({width:h,height:f,x:c,y:d})}function q_(t,e){const n=ug(t).scrollLeft;return e?e.left+n:ja(ls(t)).left+n}function PI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:q_(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function _K(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ls(r),l=e?cg(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=is(1);const h=is(0),f=as(r);if((f||!f&&!s)&&((vc(r)!=="body"||Ad(o))&&(c=ug(r)),as(r))){const y=ja(r);d=Vl(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=o&&!f&&!s?PI(o,c,!0):is(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function wK(t){return Array.from(t.getClientRects())}function CK(t){const e=ls(t),n=ug(t),r=t.ownerDocument.body,i=Vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+q_(t);const l=-n.scrollTop;return Mi(r).direction==="rtl"&&(o+=Vr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function SK(t,e){const n=Br(t),r=ls(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=Y_();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}const bK=new Set(["absolute","fixed"]);function EK(t,e){const n=ja(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=as(t)?Vl(t):is(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function ZR(t,e,n){let r;if(e==="viewport")r=SK(t,n);else if(e==="document")r=CK(ls(t));else if(Ai(e))r=EK(e,n);else{const i=TI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return pm(r)}function kI(t,e){const n=Lo(t);return n===e||!Ai(n)||Jl(n)?!1:Mi(n).position==="fixed"||kI(n,e)}function RK(t,e){const n=e.get(t);if(n)return n;let r=id(t,[],!1).filter(l=>Ai(l)&&vc(l)!=="body"),i=null;const s=Mi(t).position==="fixed";let o=s?Lo(t):t;for(;Ai(o)&&!Jl(o);){const l=Mi(o),c=K_(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&bK.has(i.position)||Ad(o)&&!c&&kI(t,o))?r=r.filter(h=>h!==o):i=l,o=Lo(o)}return e.set(t,r),r}function TK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?cg(e)?[]:RK(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const f=ZR(e,h,i);return d.top=Vr(f.top,d.top),d.right=jo(f.right,d.right),d.bottom=jo(f.bottom,d.bottom),d.left=Vr(f.left,d.left),d},ZR(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PK(t){const{width:e,height:n}=RI(t);return{width:e,height:n}}function kK(t,e,n){const r=as(e),i=ls(e),s=n==="fixed",o=ja(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=is(0);function d(){c.x=q_(i)}if(r||!r&&!s)if((vc(e)!=="body"||Ad(i))&&(l=ug(e)),r){const y=ja(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?PI(i,l):is(0),f=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function s0(t){return Mi(t).position==="static"}function qR(t,e){if(!as(t)||Mi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ls(t)===n&&(n=n.ownerDocument.body),n}function AI(t,e){const n=Br(t);if(cg(t))return n;if(!as(t)){let i=Lo(t);for(;i&&!Jl(i);){if(Ai(i)&&!s0(i))return i;i=Lo(i)}return n}let r=qR(t,e);for(;r&&dK(r)&&s0(r);)r=qR(r,e);return r&&Jl(r)&&s0(r)&&!K_(r)?n:r||pK(t)||n}const AK=async function(t){const e=this.getOffsetParent||AI,n=this.getDimensions,r=await n(t.floating);return{reference:kK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MK(t){return Mi(t).direction==="rtl"}const IK={convertOffsetParentRelativeRectToViewportRelativeRect:_K,getDocumentElement:ls,getClippingRect:TK,getOffsetParent:AI,getElementRects:AK,getClientRects:wK,getDimensions:PK,getScale:Vl,isElement:Ai,isRTL:MK};function MI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NK(t,e){let n=null,r;const i=ls(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=d;if(l||e(),!p||!y)return;const x=uf(f),w=uf(i.clientWidth-(h+p)),C=uf(i.clientHeight-(f+y)),b=uf(h),T={rootMargin:-x+"px "+-w+"px "+-C+"px "+-b+"px",threshold:Vr(0,jo(1,c))||1};let P=!0;function k(M){const F=M[0].intersectionRatio;if(F!==c){if(!P)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!MI(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(k,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(t)}return o(!0),s}function FK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Z_(t),h=i||s?[...d?id(d):[],...id(e)]:[];h.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=d&&l?NK(d,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(b=>{let[R]=b;R&&R.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let x,w=c?ja(t):null;c&&C();function C(){const b=ja(t);w&&!MI(w,b)&&n(),w=b,x=requestAnimationFrame(C)}return n(),()=>{var b;h.forEach(R=>{i&&R.removeEventListener("scroll",n),s&&R.removeEventListener("resize",n)}),f==null||f(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const jK=sK,LK=oK,DK=nK,OK=lK,VK=rK,JR=tK,zK=aK,$K=(t,e,n)=>{const r=new Map,i={platform:IK,...n},s={...i.platform,_c:r};return eK(t,e,{...i,platform:s})};var BK=typeof document<"u",GK=function(){},Ff=BK?_.useLayoutEffect:GK;function ym(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ym(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ym(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function II(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QR(t,e){const n=II(t);return Math.round(e*n)/n}function o0(t){const e=_.useRef(t);return Ff(()=>{e.current=t}),e}function UK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=_.useState(r);ym(p,r)||y(r);const[x,w]=_.useState(null),[C,b]=_.useState(null),R=_.useCallback(j=>{j!==M.current&&(M.current=j,w(j))},[]),T=_.useCallback(j=>{j!==F.current&&(F.current=j,b(j))},[]),P=s||x,k=o||C,M=_.useRef(null),F=_.useRef(null),I=_.useRef(h),z=c!=null,G=o0(c),V=o0(i),H=o0(d),B=_.useCallback(()=>{if(!M.current||!F.current)return;const j={placement:e,strategy:n,middleware:p};V.current&&(j.platform=V.current),$K(M.current,F.current,j).then(U=>{const q={...U,isPositioned:H.current!==!1};X.current&&!ym(I.current,q)&&(I.current=q,Va.flushSync(()=>{f(q)}))})},[p,e,n,V,H]);Ff(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[d]);const X=_.useRef(!1);Ff(()=>(X.current=!0,()=>{X.current=!1}),[]),Ff(()=>{if(P&&(M.current=P),k&&(F.current=k),P&&k){if(G.current)return G.current(P,k,B);B()}},[P,k,B,G,z]);const Z=_.useMemo(()=>({reference:M,floating:F,setReference:R,setFloating:T}),[R,T]),Y=_.useMemo(()=>({reference:P,floating:k}),[P,k]),D=_.useMemo(()=>{const j={position:n,left:0,top:0};if(!Y.floating)return j;const U=QR(Y.floating,h.x),q=QR(Y.floating,h.y);return l?{...j,transform:"translate("+U+"px, "+q+"px)",...II(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,l,Y.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:B,refs:Z,elements:Y,floatingStyles:D}),[h,B,Z,Y,D])}const WK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?JR({element:r.current,padding:i}).fn(n):{}:r?JR({element:r,padding:i}).fn(n):{}}}},HK=(t,e)=>({...jK(t),options:[t,e]}),XK=(t,e)=>({...LK(t),options:[t,e]}),KK=(t,e)=>({...zK(t),options:[t,e]}),YK=(t,e)=>({...DK(t),options:[t,e]}),ZK=(t,e)=>({...OK(t),options:[t,e]}),qK=(t,e)=>({...VK(t),options:[t,e]}),JK=(t,e)=>({...WK(t),options:[t,e]});var QK="Arrow",NI=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(Ye.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});NI.displayName=QK;var eY=NI;function J_(t){const[e,n]=_.useState(void 0);return Kn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Q_="Popper",[FI,xc]=si(Q_),[tY,jI]=FI(Q_),LI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return g.jsx(tY,{scope:e,anchor:r,onAnchorChange:i,children:n})};LI.displayName=Q_;var DI="PopperAnchor",OI=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=jI(DI,n),o=_.useRef(null),l=at(e,o);return _.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Ye.div,{...i,ref:l})});OI.displayName=DI;var ew="PopperContent",[nY,rY]=FI(ew),VI=_.forwardRef((t,e)=>{var ae,pe,_e,Re,$e,Be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:x,...w}=t,C=jI(ew,n),[b,R]=_.useState(null),T=at(e,yt=>R(yt)),[P,k]=_.useState(null),M=J_(P),F=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,z=r+(s!=="center"?"-"+s:""),G=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},V=Array.isArray(d)?d:[d],H=V.length>0,B={padding:G,boundary:V.filter(sY),altBoundary:H},{refs:X,floatingStyles:Z,placement:Y,isPositioned:D,middlewareData:j}=UK({strategy:"fixed",placement:z,whileElementsMounted:(...yt)=>FK(...yt,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[HK({mainAxis:i+I,alignmentAxis:o}),c&&XK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?KK():void 0,...B}),c&&YK({...B}),ZK({...B,apply:({elements:yt,rects:mt,availableWidth:Gt,availableHeight:Dt})=>{const{width:ft,height:zn}=mt.reference,_t=yt.floating.style;_t.setProperty("--radix-popper-available-width",`${Gt}px`),_t.setProperty("--radix-popper-available-height",`${Dt}px`),_t.setProperty("--radix-popper-anchor-width",`${ft}px`),_t.setProperty("--radix-popper-anchor-height",`${zn}px`)}}),P&&JK({element:P,padding:l}),oY({arrowWidth:F,arrowHeight:I}),p&&qK({strategy:"referenceHidden",...B})]}),[U,q]=BI(Y),N=Xn(x);Kn(()=>{D&&(N==null||N())},[D,N]);const L=(ae=j.arrow)==null?void 0:ae.x,re=(pe=j.arrow)==null?void 0:pe.y,se=((_e=j.arrow)==null?void 0:_e.centerOffset)!==0,[ce,ge]=_.useState();return Kn(()=>{b&&ge(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:D?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Re=j.transformOrigin)==null?void 0:Re.x,($e=j.transformOrigin)==null?void 0:$e.y].join(" "),...((Be=j.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(nY,{scope:n,placedSide:U,onArrowChange:k,arrowX:L,arrowY:re,shouldHideArrow:se,children:g.jsx(Ye.div,{"data-side":U,"data-align":q,...w,ref:T,style:{...w.style,animation:D?void 0:"none"}})})})});VI.displayName=ew;var zI="PopperArrow",iY={top:"bottom",right:"left",bottom:"top",left:"right"},$I=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=rY(zI,r),o=iY[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(eY,{...i,ref:n,style:{...i.style,display:"block"}})})});$I.displayName=zI;function sY(t){return t!==null}var oY=t=>({name:"transformOrigin",options:t,fn(e){var C,b,R;const{placement:n,rects:r,middlewareData:i}=e,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=BI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,y=(((R=i.arrow)==null?void 0:R.y)??0)+c/2;let x="",w="";return d==="bottom"?(x=o?f:`${p}px`,w=`${-c}px`):d==="top"?(x=o?f:`${p}px`,w=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,w=o?f:`${y}px`):d==="left"&&(x=`${r.floating.width+c}px`,w=o?f:`${y}px`),{data:{x,y:w}}}});function BI(t){const[e,n="center"]=t.split("-");return[e,n]}var tw=LI,nw=OI,rw=VI,iw=$I,aY="Portal",Md=_.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=_.useState(!1);Kn(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?NT.createPortal(g.jsx(Ye.div,{...r,ref:e}),o):null});Md.displayName=aY;function sw(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var GI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lY="VisuallyHidden",UI=_.forwardRef((t,e)=>g.jsx(Ye.span,{...t,ref:e,style:{...GI,...t.style}}));UI.displayName=lY;var cY=UI,uY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_l=new WeakMap,df=new WeakMap,hf={},a0=0,WI=function(t){return t&&(t.host||WI(t.parentNode))},dY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=WI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hY=function(t,e,n,r){var i=dY(e,Array.isArray(t)?t:[t]);hf[n]||(hf[n]=new WeakMap);var s=hf[n],o=[],l=new Set,c=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(r),x=y!==null&&y!=="false",w=(_l.get(p)||0)+1,C=(s.get(p)||0)+1;_l.set(p,w),s.set(p,C),o.push(p),w===1&&x&&df.set(p,!0),C===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),l.clear(),a0++,function(){o.forEach(function(f){var p=_l.get(f)-1,y=s.get(f)-1;_l.set(f,p),s.set(f,y),p||(df.has(f)||f.removeAttribute(r),df.delete(f)),y||f.removeAttribute(n)}),a0--,a0||(_l=new WeakMap,_l=new WeakMap,df=new WeakMap,hf={})}},ow=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=uY(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),hY(r,i,n,"aria-hidden")):function(){return null}},Yi=function(){return Yi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yi.apply(this,arguments)};function HI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fY(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var jf="right-scroll-bar-position",Lf="width-before-scroll-bar",mY="with-scroll-bars-hidden",gY="--removed-body-scroll-bar-size";function l0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pY(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var yY=typeof window<"u"?_.useLayoutEffect:_.useEffect,eT=new WeakMap;function vY(t,e){var n=pY(null,function(r){return t.forEach(function(i){return l0(i,r)})});return yY(function(){var r=eT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||l0(l,null)}),s.forEach(function(l){i.has(l)||l0(l,o)})}eT.set(n,t)},[t]),n}function xY(t){return t}function _Y(t,e){e===void 0&&(e=xY);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var h=o;o=[],h.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function wY(t){t===void 0&&(t={});var e=_Y(null);return e.options=Yi({async:!0,ssr:!1},t),e}var XI=function(t){var e=t.sideCar,n=HI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Yi({},n))};XI.isSideCarExport=!0;function CY(t,e){return t.useMedium(e),XI}var KI=wY(),c0=function(){},dg=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:c0,onWheelCapture:c0,onTouchMoveCapture:c0}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noRelative,x=t.noIsolation,w=t.inert,C=t.allowPinchZoom,b=t.as,R=b===void 0?"div":b,T=t.gapMode,P=HI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,M=vY([n,e]),F=Yi(Yi({},P),i);return _.createElement(_.Fragment,null,h&&_.createElement(k,{sideCar:KI,removeScrollBar:d,shards:f,noRelative:y,noIsolation:x,inert:w,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:T}),o?_.cloneElement(_.Children.only(l),Yi(Yi({},F),{ref:M})):_.createElement(R,Yi({},F,{className:c,ref:M}),l))});dg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dg.classNames={fullWidth:Lf,zeroRight:jf};var SY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=SY();return e&&t.setAttribute("nonce",e),t}function EY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var TY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=bY())&&(EY(e,n),RY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},PY=function(){var t=TY();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},YI=function(){var t=PY(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},kY={left:0,top:0,right:0,gap:0},u0=function(t){return parseInt(t||"",10)||0},AY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[u0(n),u0(r),u0(i)]},MY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kY;var e=AY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},IY=YI(),zl="data-scroll-locked",NY=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(zl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Lf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(jf," .").concat(jf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lf," .").concat(Lf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zl,`] {
    `).concat(gY,": ").concat(l,`px;
  }
`)},tT=function(){var t=parseInt(document.body.getAttribute(zl)||"0",10);return isFinite(t)?t:0},FY=function(){_.useEffect(function(){return document.body.setAttribute(zl,(tT()+1).toString()),function(){var t=tT()-1;t<=0?document.body.removeAttribute(zl):document.body.setAttribute(zl,t.toString())}},[])},jY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;FY();var s=_.useMemo(function(){return MY(i)},[i]);return _.createElement(IY,{styles:NY(s,!e,i,n?"":"!important")})},Av=!1;if(typeof window<"u")try{var ff=Object.defineProperty({},"passive",{get:function(){return Av=!0,!0}});window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{Av=!1}var wl=Av?{passive:!1}:!1,LY=function(t){return t.tagName==="TEXTAREA"},ZI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!LY(t)&&n[e]==="visible")},DY=function(t){return ZI(t,"overflowY")},OY=function(t){return ZI(t,"overflowX")},nT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=qI(t,r);if(i){var s=JI(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},VY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},zY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qI=function(t,e){return t==="v"?DY(e):OY(e)},JI=function(t,e){return t==="v"?VY(e):zY(e)},$Y=function(t,e){return t==="h"&&e==="rtl"?-1:1},BY=function(t,e,n,r,i){var s=$Y(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),d=!1,h=o>0,f=0,p=0;do{if(!l)break;var y=JI(t,l),x=y[0],w=y[1],C=y[2],b=w-C-s*x;(x||b)&&qI(t,l)&&(f+=b,p+=x);var R=l.parentNode;l=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},mf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rT=function(t){return[t.deltaX,t.deltaY]},iT=function(t){return t&&"current"in t?t.current:t},GY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},UY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},WY=0,Cl=[];function HY(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(WY++)[0],s=_.useState(YI)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=fY([t.lockRef.current],(t.shards||[]).map(iT),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=mf(w),R=n.current,T="deltaX"in w?w.deltaX:R[0]-b[0],P="deltaY"in w?w.deltaY:R[1]-b[1],k,M=w.target,F=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in w&&F==="h"&&M.type==="range")return!1;var I=nT(F,M);if(!I)return!0;if(I?k=F:(k=F==="v"?"h":"v",I=nT(F,M)),!I)return!1;if(!r.current&&"changedTouches"in w&&(T||P)&&(r.current=k),!k)return!0;var z=r.current||k;return BY(z,C,w,z==="h"?T:P)},[]),c=_.useCallback(function(w){var C=w;if(!(!Cl.length||Cl[Cl.length-1]!==s)){var b="deltaY"in C?rT(C):mf(C),R=e.current.filter(function(k){return k.name===C.type&&(k.target===C.target||C.target===k.shadowParent)&&GY(k.delta,b)})[0];if(R&&R.should){C.cancelable&&C.preventDefault();return}if(!R){var T=(o.current.shards||[]).map(iT).filter(Boolean).filter(function(k){return k.contains(C.target)}),P=T.length>0?l(C,T[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),d=_.useCallback(function(w,C,b,R){var T={name:w,delta:C,target:b,should:R,shadowParent:XY(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),h=_.useCallback(function(w){n.current=mf(w),r.current=void 0},[]),f=_.useCallback(function(w){d(w.type,rT(w),w.target,l(w,t.lockRef.current))},[]),p=_.useCallback(function(w){d(w.type,mf(w),w.target,l(w,t.lockRef.current))},[]);_.useEffect(function(){return Cl.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,wl),document.addEventListener("touchmove",c,wl),document.addEventListener("touchstart",h,wl),function(){Cl=Cl.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,wl),document.removeEventListener("touchmove",c,wl),document.removeEventListener("touchstart",h,wl)}},[]);var y=t.removeScrollBar,x=t.inert;return _.createElement(_.Fragment,null,x?_.createElement(s,{styles:UY(i)}):null,y?_.createElement(jY,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function XY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const KY=CY(KI,HY);var hg=_.forwardRef(function(t,e){return _.createElement(dg,Yi({},t,{ref:e,sideCar:KY}))});hg.classNames=dg.classNames;var YY=[" ","Enter","ArrowUp","ArrowDown"],ZY=[" ","Enter"],La="Select",[fg,mg,qY]=B_(La),[_c,fte]=si(La,[qY,xc]),gg=xc(),[JY,Vo]=_c(La),[QY,eZ]=_c(La),QI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:y,form:x}=t,w=gg(e),[C,b]=_.useState(null),[R,T]=_.useState(null),[P,k]=_.useState(!1),M=Td(d),[F,I]=Ds({prop:r,defaultProp:i??!1,onChange:s,caller:La}),[z,G]=Ds({prop:o,defaultProp:l,onChange:c,caller:La}),V=_.useRef(null),H=C?x||!!C.closest("form"):!0,[B,X]=_.useState(new Set),Z=Array.from(B).map(Y=>Y.props.value).join(";");return g.jsx(tw,{...w,children:g.jsxs(JY,{required:y,scope:e,trigger:C,onTriggerChange:b,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:Ti(),value:z,onValueChange:G,open:F,onOpenChange:I,dir:M,triggerPointerDownPosRef:V,disabled:p,children:[g.jsx(fg.Provider,{scope:e,children:g.jsx(QY,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(Y=>{X(D=>new Set(D).add(Y))},[]),onNativeOptionRemove:_.useCallback(Y=>{X(D=>{const j=new Set(D);return j.delete(Y),j})},[]),children:n})}),H?g.jsxs(S2,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:z,onChange:Y=>G(Y.target.value),disabled:p,form:x,children:[z===void 0?g.jsx("option",{value:""}):null,Array.from(B)]},Z):null]})})};QI.displayName=La;var e2="SelectTrigger",t2=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=gg(n),o=Vo(e2,n),l=o.disabled||r,c=at(e,o.onTriggerChange),d=mg(n),h=_.useRef("touch"),[f,p,y]=E2(w=>{const C=d().filter(T=>!T.disabled),b=C.find(T=>T.value===o.value),R=R2(C,w,b);R!==void 0&&o.onValueChange(R.value)}),x=w=>{l||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return g.jsx(nw,{asChild:!0,...s,children:g.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":b2(o.value)?"":void 0,...i,ref:c,onClick:Se(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&x(w)}),onPointerDown:Se(i.onPointerDown,w=>{h.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(x(w),w.preventDefault())}),onKeyDown:Se(i.onKeyDown,w=>{const C=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(C&&w.key===" ")&&YY.includes(w.key)&&(x(),w.preventDefault())})})})});t2.displayName=e2;var n2="SelectValue",r2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=Vo(n2,n),{onValueNodeHasChildrenChange:d}=c,h=s!==void 0,f=at(e,c.onValueNodeChange);return Kn(()=>{d(h)},[d,h]),g.jsx(Ye.span,{...l,ref:f,style:{pointerEvents:"none"},children:b2(c.value)?g.jsx(g.Fragment,{children:o}):s})});r2.displayName=n2;var tZ="SelectIcon",i2=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(Ye.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});i2.displayName=tZ;var nZ="SelectPortal",s2=t=>g.jsx(Md,{asChild:!0,...t});s2.displayName=nZ;var Da="SelectContent",o2=_.forwardRef((t,e)=>{const n=Vo(Da,t.__scopeSelect),[r,i]=_.useState();if(Kn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Va.createPortal(g.jsx(a2,{scope:t.__scopeSelect,children:g.jsx(fg.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(l2,{...t,ref:e})});o2.displayName=Da;var xi=10,[a2,zo]=_c(Da),rZ="SelectContentImpl",iZ=Aa("SelectContent.RemoveScroll"),l2=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:x,hideWhenDetached:w,avoidCollisions:C,...b}=t,R=Vo(Da,n),[T,P]=_.useState(null),[k,M]=_.useState(null),F=at(e,ae=>P(ae)),[I,z]=_.useState(null),[G,V]=_.useState(null),H=mg(n),[B,X]=_.useState(!1),Z=_.useRef(!1);_.useEffect(()=>{if(T)return ow(T)},[T]),U_();const Y=_.useCallback(ae=>{const[pe,..._e]=H().map(Be=>Be.ref.current),[Re]=_e.slice(-1),$e=document.activeElement;for(const Be of ae)if(Be===$e||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===pe&&k&&(k.scrollTop=0),Be===Re&&k&&(k.scrollTop=k.scrollHeight),Be==null||Be.focus(),document.activeElement!==$e))return},[H,k]),D=_.useCallback(()=>Y([I,T]),[Y,I,T]);_.useEffect(()=>{B&&D()},[B,D]);const{onOpenChange:j,triggerPointerDownPosRef:U}=R;_.useEffect(()=>{if(T){let ae={x:0,y:0};const pe=Re=>{var $e,Be;ae={x:Math.abs(Math.round(Re.pageX)-((($e=U.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Be=U.current)==null?void 0:Be.y)??0))}},_e=Re=>{ae.x<=10&&ae.y<=10?Re.preventDefault():T.contains(Re.target)||j(!1),document.removeEventListener("pointermove",pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",_e,{capture:!0})}}},[T,j,U]),_.useEffect(()=>{const ae=()=>j(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[j]);const[q,N]=E2(ae=>{const pe=H().filter($e=>!$e.disabled),_e=pe.find($e=>$e.ref.current===document.activeElement),Re=R2(pe,ae,_e);Re&&setTimeout(()=>Re.ref.current.focus())}),L=_.useCallback((ae,pe,_e)=>{const Re=!Z.current&&!_e;(R.value!==void 0&&R.value===pe||Re)&&(z(ae),Re&&(Z.current=!0))},[R.value]),re=_.useCallback(()=>T==null?void 0:T.focus(),[T]),se=_.useCallback((ae,pe,_e)=>{const Re=!Z.current&&!_e;(R.value!==void 0&&R.value===pe||Re)&&V(ae)},[R.value]),ce=r==="popper"?Mv:c2,ge=ce===Mv?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:x,hideWhenDetached:w,avoidCollisions:C}:{};return g.jsx(a2,{scope:n,content:T,viewport:k,onViewportChange:M,itemRefCallback:L,selectedItem:I,onItemLeave:re,itemTextRefCallback:se,focusSelectedItem:D,selectedItemText:G,position:r,isPositioned:B,searchRef:q,children:g.jsx(hg,{as:iZ,allowPinchZoom:!0,children:g.jsx(ag,{asChild:!0,trapped:R.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Se(i,ae=>{var pe;(pe=R.trigger)==null||pe.focus({preventScroll:!0}),ae.preventDefault()}),children:g.jsx(kd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:g.jsx(ce,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ae=>ae.preventDefault(),...b,...ge,onPlaced:()=>X(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Se(b.onKeyDown,ae=>{const pe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!pe&&ae.key.length===1&&N(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Re=H().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const $e=ae.target,Be=Re.indexOf($e);Re=Re.slice(Be+1)}setTimeout(()=>Y(Re)),ae.preventDefault()}})})})})})})});l2.displayName=rZ;var sZ="SelectItemAlignedPosition",c2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Vo(Da,n),o=zo(Da,n),[l,c]=_.useState(null),[d,h]=_.useState(null),f=at(e,F=>h(F)),p=mg(n),y=_.useRef(!1),x=_.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:b,focusSelectedItem:R}=o,T=_.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&w&&C&&b){const F=s.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),G=b.getBoundingClientRect();if(s.dir!=="rtl"){const $e=G.left-I.left,Be=z.left-$e,yt=F.left-Be,mt=F.width+yt,Gt=Math.max(mt,I.width),Dt=window.innerWidth-xi,ft=Ev(Be,[xi,Math.max(xi,Dt-Gt)]);l.style.minWidth=mt+"px",l.style.left=ft+"px"}else{const $e=I.right-G.right,Be=window.innerWidth-z.right-$e,yt=window.innerWidth-F.right-Be,mt=F.width+yt,Gt=Math.max(mt,I.width),Dt=window.innerWidth-xi,ft=Ev(Be,[xi,Math.max(xi,Dt-Gt)]);l.style.minWidth=mt+"px",l.style.right=ft+"px"}const V=p(),H=window.innerHeight-xi*2,B=w.scrollHeight,X=window.getComputedStyle(d),Z=parseInt(X.borderTopWidth,10),Y=parseInt(X.paddingTop,10),D=parseInt(X.borderBottomWidth,10),j=parseInt(X.paddingBottom,10),U=Z+Y+B+j+D,q=Math.min(C.offsetHeight*5,U),N=window.getComputedStyle(w),L=parseInt(N.paddingTop,10),re=parseInt(N.paddingBottom,10),se=F.top+F.height/2-xi,ce=H-se,ge=C.offsetHeight/2,ae=C.offsetTop+ge,pe=Z+Y+ae,_e=U-pe;if(pe<=se){const $e=V.length>0&&C===V[V.length-1].ref.current;l.style.bottom="0px";const Be=d.clientHeight-w.offsetTop-w.offsetHeight,yt=Math.max(ce,ge+($e?re:0)+Be+D),mt=pe+yt;l.style.height=mt+"px"}else{const $e=V.length>0&&C===V[0].ref.current;l.style.top="0px";const yt=Math.max(se,Z+w.offsetTop+($e?L:0)+ge)+_e;l.style.height=yt+"px",w.scrollTop=pe-se+w.offsetTop}l.style.margin=`${xi}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,s.trigger,s.valueNode,l,d,w,C,b,s.dir,r]);Kn(()=>T(),[T]);const[P,k]=_.useState();Kn(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const M=_.useCallback(F=>{F&&x.current===!0&&(T(),R==null||R(),x.current=!1)},[T,R]);return g.jsx(aZ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:g.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:g.jsx(Ye.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});c2.displayName=sZ;var oZ="SelectPopperPosition",Mv=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xi,...s}=t,o=gg(n);return g.jsx(rw,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mv.displayName=oZ;var[aZ,aw]=_c(Da,{}),Iv="SelectViewport",u2=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=zo(Iv,n),o=aw(Iv,n),l=at(e,s.onViewportChange),c=_.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(fg.Slot,{scope:n,children:g.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Se(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const x=window.innerHeight-xi*2,w=parseFloat(f.style.minHeight),C=parseFloat(f.style.height),b=Math.max(w,C);if(b<x){const R=b+y,T=Math.min(x,R),P=R-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});u2.displayName=Iv;var d2="SelectGroup",[lZ,cZ]=_c(d2),uZ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ti();return g.jsx(lZ,{scope:n,id:i,children:g.jsx(Ye.div,{role:"group","aria-labelledby":i,...r,ref:e})})});uZ.displayName=d2;var h2="SelectLabel",f2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=cZ(h2,n);return g.jsx(Ye.div,{id:i.id,...r,ref:e})});f2.displayName=h2;var vm="SelectItem",[dZ,m2]=_c(vm),g2=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=Vo(vm,n),c=zo(vm,n),d=l.value===r,[h,f]=_.useState(s??""),[p,y]=_.useState(!1),x=at(e,R=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,R,r,i)}),w=Ti(),C=_.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(dZ,{scope:n,value:r,disabled:i,textId:w,isSelected:d,onItemTextChange:_.useCallback(R=>{f(T=>T||((R==null?void 0:R.textContent)??"").trim())},[]),children:g.jsx(fg.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:g.jsx(Ye.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Se(o.onFocus,()=>y(!0)),onBlur:Se(o.onBlur,()=>y(!1)),onClick:Se(o.onClick,()=>{C.current!=="mouse"&&b()}),onPointerUp:Se(o.onPointerUp,()=>{C.current==="mouse"&&b()}),onPointerDown:Se(o.onPointerDown,R=>{C.current=R.pointerType}),onPointerMove:Se(o.onPointerMove,R=>{var T;C.current=R.pointerType,i?(T=c.onItemLeave)==null||T.call(c):C.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(o.onPointerLeave,R=>{var T;R.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:Se(o.onKeyDown,R=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&R.key===" "||(ZY.includes(R.key)&&b(),R.key===" "&&R.preventDefault())})})})})});g2.displayName=vm;var yu="SelectItemText",p2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Vo(yu,n),l=zo(yu,n),c=m2(yu,n),d=eZ(yu,n),[h,f]=_.useState(null),p=at(e,b=>f(b),c.onItemTextChange,b=>{var R;return(R=l.itemTextRefCallback)==null?void 0:R.call(l,b,c.value,c.disabled)}),y=h==null?void 0:h.textContent,x=_.useMemo(()=>g.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=d;return Kn(()=>(w(x),()=>C(x)),[w,C,x]),g.jsxs(g.Fragment,{children:[g.jsx(Ye.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Va.createPortal(s.children,o.valueNode):null]})});p2.displayName=yu;var y2="SelectItemIndicator",v2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m2(y2,n).isSelected?g.jsx(Ye.span,{"aria-hidden":!0,...r,ref:e}):null});v2.displayName=y2;var Nv="SelectScrollUpButton",x2=_.forwardRef((t,e)=>{const n=zo(Nv,t.__scopeSelect),r=aw(Nv,t.__scopeSelect),[i,s]=_.useState(!1),o=at(e,r.onScrollButtonChange);return Kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(w2,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});x2.displayName=Nv;var Fv="SelectScrollDownButton",_2=_.forwardRef((t,e)=>{const n=zo(Fv,t.__scopeSelect),r=aw(Fv,t.__scopeSelect),[i,s]=_.useState(!1),o=at(e,r.onScrollButtonChange);return Kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;s(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(w2,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});_2.displayName=Fv;var w2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=zo("SelectScrollButton",n),o=_.useRef(null),l=mg(n),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Kn(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),g.jsx(Ye.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Se(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Se(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Se(i.onPointerLeave,()=>{c()})})}),hZ="SelectSeparator",C2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(Ye.div,{"aria-hidden":!0,...r,ref:e})});C2.displayName=hZ;var jv="SelectArrow",fZ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=gg(n),s=Vo(jv,n),o=zo(jv,n);return s.open&&o.position==="popper"?g.jsx(iw,{...i,...r,ref:e}):null});fZ.displayName=jv;var mZ="SelectBubbleInput",S2=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),s=at(r,i),o=sw(e);return _.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),g.jsx(Ye.select,{...n,style:{...GI,...n.style},ref:s,defaultValue:e})});S2.displayName=mZ;function b2(t){return t===""||t===void 0}function E2(t){const e=Xn(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function R2(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=gZ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function gZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var pZ=QI,T2=t2,yZ=r2,vZ=i2,xZ=s2,P2=o2,_Z=u2,k2=f2,A2=g2,wZ=p2,CZ=v2,M2=x2,I2=_2,N2=C2;const wi=pZ,Ci=yZ,ei=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(T2,{ref:r,className:Ve("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(vZ,{asChild:!0,children:g.jsx(dd,{className:"h-4 w-4 opacity-50"})})]}));ei.displayName=T2.displayName;const F2=_.forwardRef(({className:t,...e},n)=>g.jsx(M2,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(ox,{className:"h-4 w-4"})}));F2.displayName=M2.displayName;const j2=_.forwardRef(({className:t,...e},n)=>g.jsx(I2,{ref:n,className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(dd,{className:"h-4 w-4"})}));j2.displayName=I2.displayName;const ti=_.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx(xZ,{children:g.jsxs(P2,{ref:i,className:Ve("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[g.jsx(F2,{}),g.jsx(_Z,{className:Ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(j2,{})]})}));ti.displayName=P2.displayName;const SZ=_.forwardRef(({className:t,...e},n)=>g.jsx(k2,{ref:n,className:Ve("px-2 py-1.5 text-sm font-semibold",t),...e}));SZ.displayName=k2.displayName;const Pn=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(A2,{ref:r,className:Ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(CZ,{children:g.jsx(ic,{className:"h-4 w-4"})})}),g.jsx(wZ,{children:e})]}));Pn.displayName=A2.displayName;const bZ=_.forwardRef(({className:t,...e},n)=>g.jsx(N2,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",t),...e}));bZ.displayName=N2.displayName;var[pg,mte]=si("Tooltip",[xc]),yg=xc(),L2="TooltipProvider",EZ=700,Lv="tooltip.open",[RZ,lw]=pg(L2),D2=t=>{const{__scopeTooltip:e,delayDuration:n=EZ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),g.jsx(RZ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};D2.displayName=L2;var sd="Tooltip",[TZ,Id]=pg(sd),O2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=lw(sd,t.__scopeTooltip),d=yg(e),[h,f]=_.useState(null),p=Ti(),y=_.useRef(0),x=o??c.disableHoverableContent,w=l??c.delayDuration,C=_.useRef(!1),[b,R]=Ds({prop:r,defaultProp:i??!1,onChange:F=>{F?(c.onOpen(),document.dispatchEvent(new CustomEvent(Lv))):c.onClose(),s==null||s(F)},caller:sd}),T=_.useMemo(()=>b?C.current?"delayed-open":"instant-open":"closed",[b]),P=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,C.current=!1,R(!0)},[R]),k=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,R(!1)},[R]),M=_.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{C.current=!0,R(!0),y.current=0},w)},[w,R]);return _.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),g.jsx(tw,{...d,children:g.jsx(TZ,{scope:e,contentId:p,open:b,stateAttribute:T,trigger:h,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?M():P()},[c.isOpenDelayedRef,M,P]),onTriggerLeave:_.useCallback(()=>{x?k():(window.clearTimeout(y.current),y.current=0)},[k,x]),onOpen:P,onClose:k,disableHoverableContent:x,children:n})})};O2.displayName=sd;var Dv="TooltipTrigger",V2=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Id(Dv,n),s=lw(Dv,n),o=yg(n),l=_.useRef(null),c=at(e,l,i.onTriggerChange),d=_.useRef(!1),h=_.useRef(!1),f=_.useCallback(()=>d.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(nw,{asChild:!0,...o,children:g.jsx(Ye.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Se(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Se(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Se(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Se(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Se(t.onBlur,i.onClose),onClick:Se(t.onClick,i.onClose)})})});V2.displayName=Dv;var cw="TooltipPortal",[PZ,kZ]=pg(cw,{forceMount:void 0}),z2=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=Id(cw,e);return g.jsx(PZ,{scope:e,forceMount:n,children:g.jsx(lr,{present:n||s.open,children:g.jsx(Md,{asChild:!0,container:i,children:r})})})};z2.displayName=cw;var Ql="TooltipContent",$2=_.forwardRef((t,e)=>{const n=kZ(Ql,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Id(Ql,t.__scopeTooltip);return g.jsx(lr,{present:r||o.open,children:o.disableHoverableContent?g.jsx(B2,{side:i,...s,ref:e}):g.jsx(AZ,{side:i,...s,ref:e})})}),AZ=_.forwardRef((t,e)=>{const n=Id(Ql,t.__scopeTooltip),r=lw(Ql,t.__scopeTooltip),i=_.useRef(null),s=at(e,i),[o,l]=_.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:f}=r,p=_.useCallback(()=>{l(null),f(!1)},[f]),y=_.useCallback((x,w)=>{const C=x.currentTarget,b={x:x.clientX,y:x.clientY},R=jZ(b,C.getBoundingClientRect()),T=LZ(b,R),P=DZ(w.getBoundingClientRect()),k=VZ([...T,...P]);l(k),f(!0)},[f]);return _.useEffect(()=>()=>p(),[p]),_.useEffect(()=>{if(c&&h){const x=C=>y(C,h),w=C=>y(C,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",w)}}},[c,h,y,p]),_.useEffect(()=>{if(o){const x=w=>{const C=w.target,b={x:w.clientX,y:w.clientY},R=(c==null?void 0:c.contains(C))||(h==null?void 0:h.contains(C)),T=!OZ(b,o);R?p():T&&(p(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,o,d,p]),g.jsx(B2,{...t,ref:s})}),[MZ,IZ]=pg(sd,{isInside:!1}),NZ=CG("TooltipContent"),B2=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=Id(Ql,n),d=yg(n),{onClose:h}=c;return _.useEffect(()=>(document.addEventListener(Lv,h),()=>document.removeEventListener(Lv,h)),[h]),_.useEffect(()=>{if(c.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),g.jsx(kd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:g.jsxs(rw,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(NZ,{children:r}),g.jsx(MZ,{scope:n,isInside:!0,children:g.jsx(cY,{id:c.contentId,role:"tooltip",children:i||r})})]})})});$2.displayName=Ql;var G2="TooltipArrow",FZ=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=yg(n);return IZ(G2,n).isInside?null:g.jsx(iw,{...i,...r,ref:e})});FZ.displayName=G2;function jZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function LZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function DZ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function OZ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function VZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zZ(e)}function zZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var $Z=D2,BZ=O2,GZ=V2,UZ=z2,U2=$2;const WZ=$Z,HZ=BZ,XZ=GZ,W2=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(UZ,{children:g.jsx(U2,{ref:r,sideOffset:e,className:Ve("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n})}));W2.displayName=U2.displayName;var vg="Switch",[KZ,gte]=si(vg),[YZ,ZZ]=KZ(vg),H2=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,y]=_.useState(null),x=at(e,T=>y(T)),w=_.useRef(!1),C=p?h||!!p.closest("form"):!0,[b,R]=Ds({prop:i,defaultProp:s??!1,onChange:d,caller:vg});return g.jsxs(YZ,{scope:n,checked:b,disabled:l,children:[g.jsx(Ye.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Z2(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:Se(t.onClick,T=>{R(P=>!P),C&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),C&&g.jsx(Y2,{control:p,bubbles:!w.current,name:r,value:c,checked:b,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});H2.displayName=vg;var X2="SwitchThumb",K2=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=ZZ(X2,n);return g.jsx(Ye.span,{"data-state":Z2(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});K2.displayName=X2;var qZ="SwitchBubbleInput",Y2=_.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=_.useRef(null),l=at(o,s),c=sw(n),d=J_(e);return _.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const x=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(x)}},[c,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y2.displayName=qZ;function Z2(t){return t?"checked":"unchecked"}var JZ=H2,QZ=K2;const q2=_.forwardRef(({className:t,icon:e,...n},r)=>g.jsx(JZ,{className:Ve("relative peer inline-flex h-10 w-20 shrink-0 cursor-pointer items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n,ref:r,children:g.jsx(QZ,{className:Ve("pointer-events-none absolute left-1 flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-lg transition-transform duration-200","data-[state=checked]:translate-x-9"),children:e})}));q2.displayName="Switch";var eq="Label",J2=_.forwardRef((t,e)=>g.jsx(Ye.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));J2.displayName=eq;var Q2=J2;const tq=Hx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xg=_.forwardRef(({className:t,...e},n)=>g.jsx(Q2,{ref:n,className:Ve(tq(),t),...e}));xg.displayName=Q2.displayName;const uw=s7,eN=_.createContext({}),$t=({...t})=>g.jsx(eN.Provider,{value:{name:t.name},children:g.jsx(c7,{...t})}),_g=()=>{const t=_.useContext(eN),e=_.useContext(tN),{getFieldState:n,formState:r}=ig(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},tN=_.createContext({}),It=_.forwardRef(({className:t,...e},n)=>{const r=_.useId();return g.jsx(tN.Provider,{value:{id:r},children:g.jsx("div",{ref:n,className:Ve("space-y-2",t),...e})})});It.displayName="FormItem";const Xt=_.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=_g();return g.jsx(xg,{ref:n,className:Ve(r&&"text-destructive",t),htmlFor:i,...e})});Xt.displayName="FormLabel";const Nt=_.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=_g();return g.jsx(Ok,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Nt.displayName="FormControl";const Hi=_.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=_g();return g.jsx("p",{ref:n,id:r,className:Ve("text-[0.8rem] text-muted-foreground",t),...e})});Hi.displayName="FormDescription";const Kt=_.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=_g(),o=i?String((i==null?void 0:i.message)??""):e;return o?g.jsx("p",{ref:r,id:s,className:Ve("text-[0.8rem] font-medium text-destructive",t),...n,children:o}):null});Kt.displayName="FormMessage";const nq=$_({animal_id:ZM().optional(),nombre:Ts().min(1,"El nombre es obligatorio."),especie_id:Wn.number().optional().nullable(),tipo_id:Wn.number().optional().nullable(),raza_id:Wn.number().optional().nullable(),sexo_id:Wn.number().min(1,"El sexo es obligatorio.").optional(),fecha_nacimiento:Ts().optional(),peso:Wn.number().min(0).optional().nullable(),altura_cruz:Wn.number().min(0).optional().nullable(),longitud_tronco:Wn.number().min(0).optional().nullable(),perimetro_toracico:Wn.number().min(0).optional().nullable(),ancho_grupa:Wn.number().min(0).optional().nullable(),longitud_grupa:Wn.number().min(0).optional().nullable(),estado_reproductivo_id:Wn.number().optional().nullable(),numero_partos:Wn.number().min(0).optional().nullable(),intervalo_partos:Wn.number().min(0).optional().nullable(),fertilidad:Wn.number().min(0).max(100).optional().nullable(),ubicacion_sensor:Ts().optional().nullable(),parcela_id:Wn.number().optional().nullable()});function rq({animal:t={},modoEdicion:e,parcelas:n=[],animalOptions:r={},onCancel:i,onSave:s}){var w,C,b,R,T,P,k,M,F,I,z,G;const o=O_({resolver:V_(nq),defaultValues:{...t,especie_id:t.especie_id!=null?t.especie_id.toString():"",tipo_id:t.tipo_id!=null?t.tipo_id.toString():"",raza_id:t.raza_id!=null?t.raza_id.toString():"",sexo_id:t.sexo_id!=null?parseInt(t.sexo_id):1,estado_reproductivo_id:t.estado_reproductivo_id!=null?t.estado_reproductivo_id.toString():"",parcela_id:t.parcela_id!=null?t.parcela_id.toString():"",peso:((w=t.peso)==null?void 0:w.toString())||"",altura_cruz:((C=t.altura_cruz)==null?void 0:C.toString())||"",longitud_tronco:((b=t.longitud_tronco)==null?void 0:b.toString())||"",perimetro_toracico:((R=t.perimetro_toracico)==null?void 0:R.toString())||"",ancho_grupa:((T=t.ancho_grupa)==null?void 0:T.toString())||"",longitud_grupa:((P=t.longitud_grupa)==null?void 0:P.toString())||"",numero_partos:((k=t.numero_partos)==null?void 0:k.toString())||"",intervalo_partos:((M=t.intervalo_partos)==null?void 0:M.toString())||"",fertilidad:((F=t.fertilidad)==null?void 0:F.toString())||"50",fecha_nacimiento:t.fecha_nacimiento?new Date(t.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:t.ubicacion_sensor||""}}),l=o.watch("especie_id"),c=o.watch("tipo_id"),d=o.watch("sexo_id"),h=d===2;_.useEffect(()=>{var V;if(l&&d){const H=(V=r.estados_reproductivos)==null?void 0:V.filter(X=>X.sexo_id===d&&X.especie_id===parseInt(l)),B=o.getValues("estado_reproductivo_id");B&&!H.some(X=>X.id.toString()===B)&&o.setValue("estado_reproductivo_id","")}},[l,d,r.estados_reproductivos,o]);const f=((I=r.tipos)==null?void 0:I.filter(V=>l?V.especie_id===parseInt(l):!0))||[],p=((z=r.razas)==null?void 0:z.filter(V=>(!l||V.especie_id===parseInt(l))&&(!c||V.tipo_id===parseInt(c))))||[],y=((G=r.estados_reproductivos)==null?void 0:G.filter(V=>V.sexo_id===d&&(!l||V.especie_id===parseInt(l))))||[],x=V=>{const H={...V};["especie_id","tipo_id","raza_id","sexo_id","estado_reproductivo_id","parcela_id"].forEach(B=>{H[B]=H[B]===""?null:parseInt(H[B])}),["peso","altura_cruz","longitud_tronco","perimetro_toracico","ancho_grupa","longitud_grupa","numero_partos","intervalo_partos","fertilidad"].forEach(B=>{H[B]=H[B]!==""?parseFloat(H[B]):null}),s(H)};return g.jsx(WZ,{children:g.jsx(uw,{...o,children:g.jsxs("form",{onSubmit:o.handleSubmit(x),className:"max-h-[85vh] overflow-y-auto bg-white p-4 sm:p-6 lg:p-8 rounded-xl w-full max-w-4xl mx-auto",children:[g.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold text-gray-800 mb-4 sm:mb-6 text-center",children:e?"Editar Registro de Animal":"Nuevo Registro de Animal"}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center mb-6 sm:mb-8",children:"Completa la informacin detallada para el animal."}),g.jsxs(TX,{defaultValue:"general",className:"space-y-8",children:[g.jsxs(vI,{className:"flex flex-wrap gap-2 w-full p-2 rounded-lg",children:[g.jsxs(If,{value:"general",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-md py-2 px-4",children:[g.jsx(Ro,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"General"})]}),g.jsxs(If,{value:"zoometria",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-md py-2 px-4",children:[g.jsx(kS,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Zoometra"})]}),g.jsxs(If,{value:"reproduccion",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-md py-2 px-4",children:[g.jsx(TS,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Reproduccin"})]})]}),g.jsxs(Nf,{value:"general",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(Ro,{className:"h-5 w-5"})," Informacin General"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"nombre",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Nombre"}),g.jsx(Nt,{children:g.jsx(tn,{...V,placeholder:"Ej: Camila"})}),g.jsx(Hi,{children:"Nombre comn del animal."}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"numero_identificacion",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Nmero de Identificacin"}),g.jsx(Nt,{children:g.jsx(tn,{...V,disabled:!0})}),g.jsx(Hi,{children:"Identificador nico del animal."}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"parcela_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Parcela Actual"}),g.jsxs(wi,{onValueChange:V.onChange,value:V.value,children:[g.jsx(Nt,{children:g.jsx(ei,{children:g.jsx(Ci,{placeholder:"Seleccionar parcela"})})}),g.jsx(ti,{children:n.map(H=>g.jsx(Pn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(Hi,{children:"Ubicacin actual del animal."}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"especie_id",render:({field:V})=>{var H;return g.jsxs(It,{children:[g.jsx(Xt,{children:"Especie de Animal"}),g.jsxs(wi,{value:V.value,onValueChange:B=>{V.onChange(B),o.setValue("tipo_id",""),o.setValue("raza_id","")},children:[g.jsx(Nt,{children:g.jsx(ei,{children:g.jsx(Ci,{placeholder:"Seleccione la especie"})})}),g.jsx(ti,{children:(H=r.especies)==null?void 0:H.map(B=>g.jsx(Pn,{value:B.id.toString(),children:B.nombre},B.id))})]}),g.jsx(Hi,{children:"Clasificacin de la especie."}),g.jsx(Kt,{})]})}})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"tipo_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Tipo de Animal"}),g.jsxs(wi,{onValueChange:H=>{V.onChange(H),o.setValue("raza_id","")},value:V.value,disabled:!l,children:[g.jsx(Nt,{children:g.jsx(ei,{children:g.jsx(Ci,{placeholder:"Seleccione el tipo"})})}),g.jsx(ti,{children:f.map(H=>g.jsx(Pn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(Hi,{children:"Clasificacin del tipo."}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"raza_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Raza de Animal"}),g.jsxs(wi,{onValueChange:V.onChange,value:V.value,disabled:!l||!c,children:[g.jsx(Nt,{children:g.jsx(ei,{children:g.jsx(Ci,{placeholder:"Seleccione la raza"})})}),g.jsx(ti,{children:p.map(H=>g.jsx(Pn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(Hi,{children:"Clasificacin de la raza."}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx($t,{control:o.control,name:"fecha_nacimiento",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Fecha de Nacimiento"}),g.jsx(Nt,{children:g.jsx(tn,{type:"date",...V})}),g.jsx(Hi,{children:"Fecha en formato AAAA-MM-DD."}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx($t,{control:o.control,name:"ubicacion_sensor",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Ubicacin del Sensor"}),g.jsxs(wi,{onValueChange:V.onChange,value:V.value,children:[g.jsx(Nt,{children:g.jsx(ei,{children:g.jsx(Ci,{placeholder:"Seleccionar ubicacin"})})}),g.jsxs(ti,{children:[g.jsx(Pn,{value:"cuello",children:"Cuello"}),g.jsx(Pn,{value:"pata",children:"Pata"}),g.jsx(Pn,{value:"cola",children:"Cola"}),g.jsx(Pn,{value:"implante",children:"Implante (interna)"}),g.jsx(Pn,{value:"ninguno",children:"Ninguno"})]})]}),g.jsx(Kt,{})]})})})]})]}),g.jsxs(Nf,{value:"zoometria",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(kS,{className:"h-5 w-5"})," Medidas Corporales (Zoometra)"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"peso",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Peso (kg)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tn,{type:"number",...V,placeholder:"Ej: 500.5"}),g.jsxs(HZ,{children:[g.jsx(XZ,{asChild:!0,children:g.jsx(sc,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(W2,{children:g.jsx("p",{children:"Peso del animal en kilogramos."})})]})]})}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"altura_cruz",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Altura a la Cruz (cm)"}),g.jsx(Nt,{children:g.jsx(tn,{type:"number",...V,placeholder:"Ej: 150"})}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"longitud_tronco",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Longitud del Tronco (cm)"}),g.jsx(Nt,{children:g.jsx(tn,{type:"number",...V})}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"perimetro_toracico",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Permetro Torcico (cm)"}),g.jsx(Nt,{children:g.jsx(tn,{type:"number",...V})}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"ancho_grupa",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Ancho de Grupa (cm)"}),g.jsx(Nt,{children:g.jsx(tn,{type:"number",...V})}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx($t,{control:o.control,name:"longitud_grupa",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Longitud de Grupa (cm)"}),g.jsx(Nt,{children:g.jsx(tn,{type:"number",...V})}),g.jsx(Kt,{})]})})})]})]}),g.jsxs(Nf,{value:"reproduccion",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(TS,{className:"h-8 w-8"})," Datos Reproductivos"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx($t,{control:o.control,name:"sexo_id",render:({field:V})=>g.jsxs(It,{className:"flex flex-col",children:[g.jsx(Xt,{className:"mb-2",children:"Sexo"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(q2,{id:"sexo-switch",checked:V.value===2,onCheckedChange:H=>{const B=H?2:1;V.onChange(B),B===2&&(o.setValue("numero_partos",null),o.setValue("intervalo_partos",null),o.setValue("fertilidad",null))},className:Ve(V.value===2?"bg-blue-500":"bg-pink-500"),icon:V.value===2?g.jsx(x4,{className:"h-5 w-5 text-blue-600"}):g.jsx(Z4,{className:"h-5 w-5 text-pink-600"})}),g.jsx("span",{children:V.value===2?"Macho":"Hembra"})]})}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx($t,{control:o.control,name:"estado_reproductivo_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Estado Reproductivo"}),g.jsxs(wi,{onValueChange:V.onChange,value:V.value,disabled:!l&&!V.value||y.length===0&&!V.value,children:[g.jsx(Nt,{children:g.jsx(ei,{children:g.jsx(Ci,{placeholder:"Seleccionar estado"})})}),g.jsx(ti,{children:y.map(H=>g.jsx(Pn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx($t,{control:o.control,name:"numero_partos",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Nmero de Partos"}),g.jsx(Nt,{children:g.jsx(tn,{type:"number",...V,disabled:h,placeholder:h?"Solo para hembras":"Ej: 1"})}),g.jsx(Hi,{children:"Nmero de partos registrados."}),g.jsx(Kt,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx($t,{control:o.control,name:"intervalo_partos",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Intervalo entre Partos (das)"}),g.jsx(Nt,{children:g.jsx(tn,{type:"number",...V,disabled:h,placeholder:h?"Solo para hembras":"Ej: 365"})}),g.jsx(Kt,{})]})})})]})]})]}),g.jsxs("div",{className:"pt-8 flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-4 border-t border-gray-200 mt-8",children:[g.jsx(it,{type:"button",variant:"outline",onClick:i,className:"flex items-center gap-2 px-6 py-3 rounded-md border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(it,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-md bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(DT,{className:"h-5 w-5"}),"Guardar Animal"]})]})]})})})}const iq=$_({collar_id:ZM().optional(),codigo:Ts().min(1,"El cdigo es obligatorio."),estado:Ts().min(1,"El estado es obligatorio."),bateria:Wn.number().min(0).max(100).optional().nullable(),animal_id:eX([tX("UNASSIGNED"),Ts().regex(/^\d+$/,"ID de animal invlido. Debe ser un nmero.").transform(Number),Q7(),J7()]).optional().nullable(),original_animal_id:Ts().optional().nullable(),original_estado:Ts().optional().nullable()});function sq({collar:t={},animals:e=[],onCancel:n,onSave:r,collarStatesOptions:i=[]}){const s=O_({resolver:V_(iq),defaultValues:{codigo:t.codigo||"",...t,estado:t.estado||"disponible",bateria:t.bateria,animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_estado:t.estado||"disponible"}}),{handleSubmit:o,formState:{errors:l},watch:c,setValue:d}=s,h=c("estado")==="activo",f=c("estado")==="defectuoso",p=_.useMemo(()=>{var C;if(t.estado&&t.estado.toLowerCase()==="activo")return[{id:(C=i.find(b=>b.nombre.toLowerCase()==="activo"))==null?void 0:C.id,nombre:"activo"}];const w=["activo","sin bateria"];return i.filter(b=>!w.includes(b.nombre.toLowerCase()))},[i,t.estado]),y=w=>{let C=g.jsx(sc,{className:"h-4 w-4"}),b="N/A",R="bg-gray-100 text-gray-700";return typeof w=="number"&&(w>=70?(C=g.jsx(ix,{className:"h-4 w-4 text-green-600"}),R="bg-green-100 text-green-800"):w>=30?(C=g.jsx(sx,{className:"h-4 w-4 text-yellow-500"}),R="bg-yellow-100 text-yellow-800"):(C=g.jsx(Fu,{className:"h-4 w-4 text-red-700"}),R="bg-red-100 text-red-800"),b=`${w}%`),g.jsxs(qx,{className:Ve("flex items-center gap-1 px-2.5 py-1 rounded-md text-xs font-medium",R),children:[C,b]})};_.useEffect(()=>{f&&d("animal_id","UNASSIGNED",{shouldValidate:!0})},[f,d]),_.useEffect(()=>{Object.keys(l).length>0&&(l.collar_id&&(console.error("Detalle del error de collar_id:",l.collar_id.message),console.error("Valor actual de collar_id en el formulario:",s.getValues("collar_id"))),l.estado&&console.error("Error estado:",l.estado.message),l.bateria&&console.error("Error bateria:",l.bateria.message),l.animal_id&&console.error("Error animal_id:",l.animal_id.message))},[l,s]);const x=w=>{const C={collar_id:w.collar_id,estado:w.estado,bateria:t.bateria,animal_id:w.animal_id};C.estado==="sin bateria"&&(C.bateria=0),r({...C,original_animal_id:w.original_animal_id,original_estado:w.original_estado,codigo:w.codigo})};return g.jsx(uw,{...s,children:g.jsxs("form",{onSubmit:o(x),className:"space-y-6 p-4",children:[g.jsx($t,{control:s.control,name:"collar_id",render:({field:w})=>g.jsxs(It,{className:"hidden",children:[g.jsx(Nt,{children:g.jsx(tn,{type:"hidden",...w,value:w.value!==void 0?String(w.value):""})}),g.jsx(Kt,{})]})}),g.jsx($t,{control:s.control,name:"original_animal_id",render:({field:w})=>g.jsx(It,{className:"hidden",children:g.jsx(Nt,{children:g.jsx(tn,{type:"hidden",...w})})})}),g.jsx($t,{control:s.control,name:"original_estado",render:({field:w})=>g.jsx(It,{className:"hidden",children:g.jsx(Nt,{children:g.jsx(tn,{type:"hidden",...w})})})}),g.jsx($t,{control:s.control,name:"codigo",render:({field:w})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Cdigo del Collar"}),g.jsx(Nt,{children:g.jsx(tn,{...w,disabled:!0})}),g.jsx(Kt,{})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx($t,{control:s.control,name:"estado",render:({field:w})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Estado del Collar"}),g.jsxs(wi,{onValueChange:w.onChange,value:w.value,disabled:h,children:[g.jsx(Nt,{children:g.jsx(ei,{children:g.jsx(Ci,{placeholder:"Seleccionar estado"})})}),g.jsx(ti,{children:p.map(C=>g.jsx(Pn,{value:C.nombre,children:C.nombre.charAt(0).toUpperCase()+C.nombre.slice(1)},C.id))})]}),g.jsx(Kt,{})]})}),g.jsxs(It,{children:[g.jsx(Xt,{children:"Nivel de Batera"}),g.jsx(Nt,{children:g.jsx("div",{className:"flex items-center h-10",children:y(t.bateria)})})]})]}),g.jsx($t,{control:s.control,name:"animal_id",render:({field:w})=>g.jsxs(It,{children:[g.jsx(Xt,{children:"Asignar a Animal"}),g.jsxs(wi,{onValueChange:w.onChange,value:w.value,disabled:f,children:[g.jsx(Nt,{children:g.jsx(ei,{children:g.jsx(Ci,{placeholder:"Seleccionar animal (opcional)"})})}),g.jsxs(ti,{children:[g.jsx(Pn,{value:"UNASSIGNED",children:g.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[g.jsx(L4,{className:"h-4 w-4"})," Desasignar"]})}),e.map(C=>g.jsxs(Pn,{value:C.animal_id.toString(),children:[C.nombre," (",C.numero_identificacion,")",C.collar_asignado&&C.collar_asignado.id!==t.collar_id&&g.jsxs("span",{className:"italic ml-2",children:[" - Collar asignado (",C.collar_asignado.codigo,")"]})]},C.animal_id))]})]}),g.jsx(Hi,{children:"Asigna este collar a un animal especfico. Un collar solo puede estar asignado a un animal a la vez. Si el animal ya tiene un collar, este ser desasignado automticamente."}),g.jsx(Kt,{})]})}),g.jsxs("div",{className:"flex justify-end gap-4 mt-6 border-t pt-4",children:[g.jsx(it,{type:"button",variant:"outline",onClick:n,className:"flex items-center gap-2 px-6 py-3 rounded-md border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(it,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-md bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(DT,{className:"h-5 w-5"}),"Guardar Collar"]})]})]})})}const Ov=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ve("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Ov.displayName="Card";const oq=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ve("flex flex-col space-y-1.5 p-6",t),...e}));oq.displayName="CardHeader";const aq=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ve("font-semibold leading-none tracking-tight",t),...e}));aq.displayName="CardTitle";const lq=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ve("text-sm text-muted-foreground",t),...e}));lq.displayName="CardDescription";const Vv=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ve("p-6 pt-0",t),...e}));Vv.displayName="CardContent";const cq=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ve("flex items-center p-6 pt-0",t),...e}));cq.displayName="CardFooter";function uq(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const dq=t=>{switch(t){case"success":return mq;case"info":return pq;case"warning":return gq;case"error":return yq;default:return null}},hq=Array(12).fill(0),fq=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},hq.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),mq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),pq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xq=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let zv=1;class _q{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:zv++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],le.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(Cq(d)&&!d.ok){s=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,x=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...x})}else if(d instanceof Error){s=!1;const f=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,x=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...x})}else if(n.success!==void 0){s=!1;const f=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,x=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...x})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!le.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...y})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||zv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const br=new _q,wq=(t,e)=>{const n=(e==null?void 0:e.id)||zv++;return br.addToast({title:t,...e,id:n}),n},Cq=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Sq=wq,bq=()=>br.toasts,Eq=()=>br.getActiveToasts(),Tt=Object.assign(Sq,{success:br.success,info:br.info,warning:br.warning,error:br.error,custom:br.custom,message:br.message,promise:br.promise,dismiss:br.dismiss,loading:br.loading},{getHistory:bq,getToasts:Eq});uq("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function gf(t){return t.label!==void 0}const Rq=3,Tq="24px",Pq="16px",sT=4e3,kq=356,Aq=14,Mq=45,Iq=200;function Wi(...t){return t.filter(Boolean).join(" ")}function Nq(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Fq=t=>{var e,n,r,i,s,o,l,c,d;const{invert:h,toast:f,unstyled:p,interacting:y,setHeights:x,visibleToasts:w,heights:C,index:b,toasts:R,expanded:T,removeToast:P,defaultRichColors:k,closeButton:M,style:F,cancelButtonStyle:I,actionButtonStyle:z,className:G="",descriptionClassName:V="",duration:H,position:B,gap:X,expandByDefault:Z,classNames:Y,icons:D,closeButtonAriaLabel:j="Close toast"}=t,[U,q]=le.useState(null),[N,L]=le.useState(null),[re,se]=le.useState(!1),[ce,ge]=le.useState(!1),[ae,pe]=le.useState(!1),[_e,Re]=le.useState(!1),[$e,Be]=le.useState(!1),[yt,mt]=le.useState(0),[Gt,Dt]=le.useState(0),ft=le.useRef(f.duration||H||sT),zn=le.useRef(null),_t=le.useRef(null),$=b===0,J=b+1<=w,te=f.type,fe=f.dismissible!==!1,he=f.className||"",ie=f.descriptionClassName||"",ye=le.useMemo(()=>C.findIndex(be=>be.toastId===f.id)||0,[C,f.id]),De=le.useMemo(()=>{var be;return(be=f.closeButton)!=null?be:M},[f.closeButton,M]),ze=le.useMemo(()=>f.duration||H||sT,[f.duration,H]),wt=le.useRef(0),jt=le.useRef(0),ht=le.useRef(0),$n=le.useRef(null),[Oe,we]=B.split("-"),Et=le.useMemo(()=>C.reduce((be,dt,Ot)=>Ot>=ye?be:be+dt.height,0),[C,ye]),Rt=xq(),ln=f.invert||h,Lt=te==="loading";jt.current=le.useMemo(()=>ye*X+Et,[ye,Et]),le.useEffect(()=>{ft.current=ze},[ze]),le.useEffect(()=>{se(!0)},[]),le.useEffect(()=>{const be=_t.current;if(be){const dt=be.getBoundingClientRect().height;return Dt(dt),x(Ot=>[{toastId:f.id,height:dt,position:f.position},...Ot]),()=>x(Ot=>Ot.filter(kt=>kt.toastId!==f.id))}},[x,f.id]),le.useLayoutEffect(()=>{if(!re)return;const be=_t.current,dt=be.style.height;be.style.height="auto";const Ot=be.getBoundingClientRect().height;be.style.height=dt,Dt(Ot),x(kt=>kt.find(gt=>gt.toastId===f.id)?kt.map(gt=>gt.toastId===f.id?{...gt,height:Ot}:gt):[{toastId:f.id,height:Ot,position:f.position},...kt])},[re,f.title,f.description,x,f.id,f.jsx,f.action,f.cancel]);const Ut=le.useCallback(()=>{ge(!0),mt(jt.current),x(be=>be.filter(dt=>dt.toastId!==f.id)),setTimeout(()=>{P(f)},Iq)},[f,P,x,jt]);le.useEffect(()=>{if(f.promise&&te==="loading"||f.duration===1/0||f.type==="loading")return;let be;return T||y||Rt?(()=>{if(ht.current<wt.current){const kt=new Date().getTime()-wt.current;ft.current=ft.current-kt}ht.current=new Date().getTime()})():(()=>{ft.current!==1/0&&(wt.current=new Date().getTime(),be=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Ut()},ft.current))})(),()=>clearTimeout(be)},[T,y,f,te,Rt,Ut]),le.useEffect(()=>{f.delete&&(Ut(),f.onDismiss==null||f.onDismiss.call(f,f))},[Ut,f.delete]);function Sn(){var be;if(D!=null&&D.loading){var dt;return le.createElement("div",{className:Wi(Y==null?void 0:Y.loader,f==null||(dt=f.classNames)==null?void 0:dt.loader,"sonner-loader"),"data-visible":te==="loading"},D.loading)}return le.createElement(fq,{className:Wi(Y==null?void 0:Y.loader,f==null||(be=f.classNames)==null?void 0:be.loader),visible:te==="loading"})}const lt=f.icon||(D==null?void 0:D[te])||dq(te);var gn,ai;return le.createElement("li",{tabIndex:0,ref:_t,className:Wi(G,he,Y==null?void 0:Y.toast,f==null||(e=f.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[te],f==null||(n=f.classNames)==null?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":(gn=f.richColors)!=null?gn:k,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":re,"data-promise":!!f.promise,"data-swiped":$e,"data-removed":ce,"data-visible":J,"data-y-position":Oe,"data-x-position":we,"data-index":b,"data-front":$,"data-swiping":ae,"data-dismissible":fe,"data-type":te,"data-invert":ln,"data-swipe-out":_e,"data-swipe-direction":N,"data-expanded":!!(T||Z&&re),style:{"--index":b,"--toasts-before":b,"--z-index":R.length-b,"--offset":`${ce?yt:jt.current}px`,"--initial-height":Z?"auto":`${Gt}px`,...F,...f.style},onDragEnd:()=>{pe(!1),q(null),$n.current=null},onPointerDown:be=>{Lt||!fe||(zn.current=new Date,mt(jt.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(pe(!0),$n.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,dt,Ot;if(_e||!fe)return;$n.current=null;const kt=Number(((be=_t.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),In=Number(((dt=_t.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((Ot=zn.current)==null?void 0:Ot.getTime()),Jt=U==="x"?kt:In,Ar=Math.abs(Jt)/gt;if(Math.abs(Jt)>=Mq||Ar>.11){mt(jt.current),f.onDismiss==null||f.onDismiss.call(f,f),L(U==="x"?kt>0?"right":"left":In>0?"down":"up"),Ut(),Re(!0);return}else{var Ct,Vt;(Ct=_t.current)==null||Ct.style.setProperty("--swipe-amount-x","0px"),(Vt=_t.current)==null||Vt.style.setProperty("--swipe-amount-y","0px")}Be(!1),pe(!1),q(null)},onPointerMove:be=>{var dt,Ot,kt;if(!$n.current||!fe||((dt=window.getSelection())==null?void 0:dt.toString().length)>0)return;const gt=be.clientY-$n.current.y,Jt=be.clientX-$n.current.x;var Ar;const Ct=(Ar=t.swipeDirections)!=null?Ar:Nq(B);!U&&(Math.abs(Jt)>1||Math.abs(gt)>1)&&q(Math.abs(Jt)>Math.abs(gt)?"x":"y");let Vt={x:0,y:0};const Nn=pr=>1/(1.5+Math.abs(pr)/20);if(U==="y"){if(Ct.includes("top")||Ct.includes("bottom"))if(Ct.includes("top")&&gt<0||Ct.includes("bottom")&&gt>0)Vt.y=gt;else{const pr=gt*Nn(gt);Vt.y=Math.abs(pr)<Math.abs(gt)?pr:gt}}else if(U==="x"&&(Ct.includes("left")||Ct.includes("right")))if(Ct.includes("left")&&Jt<0||Ct.includes("right")&&Jt>0)Vt.x=Jt;else{const pr=Jt*Nn(Jt);Vt.x=Math.abs(pr)<Math.abs(Jt)?pr:Jt}(Math.abs(Vt.x)>0||Math.abs(Vt.y)>0)&&Be(!0),(Ot=_t.current)==null||Ot.style.setProperty("--swipe-amount-x",`${Vt.x}px`),(kt=_t.current)==null||kt.style.setProperty("--swipe-amount-y",`${Vt.y}px`)}},De&&!f.jsx&&te!=="loading"?le.createElement("button",{"aria-label":j,"data-disabled":Lt,"data-close-button":!0,onClick:Lt||!fe?()=>{}:()=>{Ut(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Wi(Y==null?void 0:Y.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(ai=D==null?void 0:D.close)!=null?ai:vq):null,(te||f.icon||f.promise)&&f.icon!==null&&((D==null?void 0:D[te])!==null||f.icon)?le.createElement("div",{"data-icon":"",className:Wi(Y==null?void 0:Y.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Sn():null,f.type!=="loading"?lt:null):null,le.createElement("div",{"data-content":"",className:Wi(Y==null?void 0:Y.content,f==null||(s=f.classNames)==null?void 0:s.content)},le.createElement("div",{"data-title":"",className:Wi(Y==null?void 0:Y.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?le.createElement("div",{"data-description":"",className:Wi(V,ie,Y==null?void 0:Y.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),le.isValidElement(f.cancel)?f.cancel:f.cancel&&gf(f.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:be=>{gf(f.cancel)&&fe&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,be),Ut())},className:Wi(Y==null?void 0:Y.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,le.isValidElement(f.action)?f.action:f.action&&gf(f.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||z,onClick:be=>{gf(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,be),!be.defaultPrevented&&Ut())},className:Wi(Y==null?void 0:Y.actionButton,f==null||(d=f.classNames)==null?void 0:d.actionButton)},f.action.label):null)};function oT(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function jq(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",l=s?Pq:Tq;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}const Lq=le.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:y,style:x,visibleToasts:w=Rq,toastOptions:C,dir:b=oT(),gap:R=Aq,icons:T,containerAriaLabel:P="Notifications"}=e,[k,M]=le.useState([]),F=le.useMemo(()=>Array.from(new Set([i].concat(k.filter(N=>N.position).map(N=>N.position)))),[k,i]),[I,z]=le.useState([]),[G,V]=le.useState(!1),[H,B]=le.useState(!1),[X,Z]=le.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=le.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=le.useRef(null),U=le.useRef(!1),q=le.useCallback(N=>{M(L=>{var re;return(re=L.find(se=>se.id===N.id))!=null&&re.delete||br.dismiss(N.id),L.filter(({id:se})=>se!==N.id)})},[]);return le.useEffect(()=>br.subscribe(N=>{if(N.dismiss){requestAnimationFrame(()=>{M(L=>L.map(re=>re.id===N.id?{...re,delete:!0}:re))});return}setTimeout(()=>{NT.flushSync(()=>{M(L=>{const re=L.findIndex(se=>se.id===N.id);return re!==-1?[...L.slice(0,re),{...L[re],...N},...L.slice(re+1)]:[N,...L]})})})}),[k]),le.useEffect(()=>{if(f!=="system"){Z(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:L})=>{Z(L?"dark":"light")})}catch{N.addListener(({matches:re})=>{try{Z(re?"dark":"light")}catch(se){console.error(se)}})}},[f]),le.useEffect(()=>{k.length<=1&&V(!1)},[k]),le.useEffect(()=>{const N=L=>{var re;if(s.every(ge=>L[ge]||L.code===ge)){var ce;V(!0),(ce=Y.current)==null||ce.focus()}L.code==="Escape"&&(document.activeElement===Y.current||(re=Y.current)!=null&&re.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),le.useEffect(()=>{if(Y.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,U.current=!1)}},[Y.current]),le.createElement("section",{ref:n,"aria-label":`${P} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((N,L)=>{var re;const[se,ce]=N.split("-");return k.length?le.createElement("ol",{key:N,dir:b==="auto"?oT():b,tabIndex:-1,ref:Y,className:c,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":se,"data-x-position":ce,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--width":`${kq}px`,"--gap":`${R}px`,...x,...jq(d,h)},onBlur:ge=>{U.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(U.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||U.current||(U.current=!0,j.current=ge.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{H||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},k.filter(ge=>!ge.position&&L===0||ge.position===N).map((ge,ae)=>{var pe,_e;return le.createElement(Fq,{key:ge.id,icons:T,index:ae,toast:ge,defaultRichColors:p,duration:(pe=C==null?void 0:C.duration)!=null?pe:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:w,closeButton:(_e=C==null?void 0:C.closeButton)!=null?_e:l,interacting:H,position:N,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:q,toasts:k.filter(Re=>Re.position==ge.position),heights:I.filter(Re=>Re.position==ge.position),setHeights:z,expandByDefault:o,gap:R,expanded:G,swipeDirections:e.swipeDirections})})):null}))});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Dq(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Co(t,e){return typeof t=="function"?t(e):t}function Wr(t,e){return n=>{e.setState(r=>({...r,[t]:Co(n,r[t])}))}}function wg(t){return t instanceof Function}function Oq(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Vq(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function Xe(t,e,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(s);if(!(l.length!==r.length||l.some((h,f)=>r[f]!==h)))return i;r=l;let d;if(n.key&&n.debug&&(d=Date.now()),i=e(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-d)*100)/100,p=f/16,y=(x,w)=>{for(x=String(x);x.length<w;)x=" "+x;return x};console.info(`%c ${y(f,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Ke(t,e,n,r){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function zq(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Xe(()=>[t,n,e,s],(o,l,c,d)=>({table:o,column:l,row:c,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Ke(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function $q(t,e,n,r){var i,s;const l={...t._getDefaultColumnDef(),...e},c=l.accessorKey;let d=(i=(s=l.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:c&&(c.includes(".")?h=p=>{let y=p;for(const w of c.split(".")){var x;y=(x=y)==null?void 0:x[w]}return y}:h=p=>p[l.accessorKey]),!d)throw new Error;let f={id:`${String(d)}`,accessorFn:h,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Xe(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(y=>y.getFlatColumns())]},Ke(t.options,"debugColumns")),getLeafColumns:Xe(()=>[t._getOrderColumnsFn()],p=>{var y;if((y=f.columns)!=null&&y.length){let x=f.columns.flatMap(w=>w.getLeafColumns());return p(x)}return[f]},Ke(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(f,t);return f}const er="debugHeaders";function aT(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const Bq={createTable:t=>{t.getHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const l=(s=r==null?void 0:r.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?s:[],c=(o=i==null?void 0:i.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?o:[],d=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return pf(e,[...l,...d,...c],t)},Ke(t.options,er)),t.getCenterHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),pf(e,n,t,"center")),Ke(t.options,er)),t.getLeftHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return pf(e,s,t,"left")},Ke(t.options,er)),t.getRightHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return pf(e,s,t,"right")},Ke(t.options,er)),t.getFooterGroups=Xe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ke(t.options,er)),t.getLeftFooterGroups=Xe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ke(t.options,er)),t.getCenterFooterGroups=Xe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ke(t.options,er)),t.getRightFooterGroups=Xe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ke(t.options,er)),t.getFlatHeaders=Xe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,er)),t.getLeftFlatHeaders=Xe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,er)),t.getCenterFlatHeaders=Xe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,er)),t.getRightFlatHeaders=Xe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,er)),t.getCenterLeafHeaders=Xe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,er)),t.getLeftLeafHeaders=Xe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,er)),t.getRightLeafHeaders=Xe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,er)),t.getLeafHeaders=Xe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,l,c,d;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(d=r[0])==null?void 0:d.headers)!=null?c:[]].map(h=>h.getLeafHeaders()).flat()},Ke(t.options,er))}};function pf(t,e,n,r){var i,s;let o=0;const l=function(p,y){y===void 0&&(y=1),o=Math.max(o,y),p.filter(x=>x.getIsVisible()).forEach(x=>{var w;(w=x.columns)!=null&&w.length&&l(x.columns,y+1)},0)};l(t);let c=[];const d=(p,y)=>{const x={depth:y,id:[r,`${y}`].filter(Boolean).join("_"),headers:[]},w=[];p.forEach(C=>{const b=[...w].reverse()[0],R=C.column.depth===x.depth;let T,P=!1;if(R&&C.column.parent?T=C.column.parent:(T=C.column,P=!0),b&&(b==null?void 0:b.column)===T)b.subHeaders.push(C);else{const k=aT(n,T,{id:[r,y,T.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${w.filter(M=>M.column===T).length}`:void 0,depth:y,index:w.length});k.subHeaders.push(C),w.push(k)}x.headers.push(C),C.headerGroup=x}),c.push(x),y>0&&d(w,y-1)},h=e.map((p,y)=>aT(n,p,{depth:o,index:y}));d(h,o-1),c.reverse();const f=p=>p.filter(x=>x.column.getIsVisible()).map(x=>{let w=0,C=0,b=[0];x.subHeaders&&x.subHeaders.length?(b=[],f(x.subHeaders).forEach(T=>{let{colSpan:P,rowSpan:k}=T;w+=P,b.push(k)})):w=1;const R=Math.min(...b);return C=C+R,x.colSpan=w,x.rowSpan=C,{colSpan:w,rowSpan:C}});return f((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const dw=(t,e,n,r,i,s,o)=>{let l={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return l._valuesCache[c]=d.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var d;return(d=l.getValue(c))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Vq(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;c.push(h),d=h}return c.reverse()},getAllCells:Xe(()=>[t.getAllLeafColumns()],c=>c.map(d=>zq(t,l,d,d.id)),Ke(t.options,"debugRows")),_getAllCellsByColumnId:Xe(()=>[l.getAllCells()],c=>c.reduce((d,h)=>(d[h.column.id]=h,d),{}),Ke(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const d=t._features[c];d==null||d.createRow==null||d.createRow(l,t)}return l},Gq={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},nN=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};nN.autoRemove=t=>Pi(t);const rN=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};rN.autoRemove=t=>Pi(t);const iN=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};iN.autoRemove=t=>Pi(t);const sN=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};sN.autoRemove=t=>Pi(t);const oN=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});oN.autoRemove=t=>Pi(t)||!(t!=null&&t.length);const aN=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});aN.autoRemove=t=>Pi(t)||!(t!=null&&t.length);const lN=(t,e,n)=>t.getValue(e)===n;lN.autoRemove=t=>Pi(t);const cN=(t,e,n)=>t.getValue(e)==n;cN.autoRemove=t=>Pi(t);const hw=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};hw.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const l=s;s=o,o=l}return[s,o]};hw.autoRemove=t=>Pi(t)||Pi(t[0])&&Pi(t[1]);const Rs={includesString:nN,includesStringSensitive:rN,equalsString:iN,arrIncludes:sN,arrIncludesAll:oN,arrIncludesSome:aN,equals:lN,weakEquals:cN,inNumberRange:hw};function Pi(t){return t==null||t===""}const Uq={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Wr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?Rs.includesString:typeof r=="number"?Rs.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Rs.equals:Array.isArray(r)?Rs.arrIncludes:Rs.weakEquals},t.getFilterFn=()=>{var n,r;return wg(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Rs[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r==null?void 0:r.find(h=>h.id===t.id),o=Co(n,s?s.value:void 0);if(lT(i,o,t)){var l;return(l=r==null?void 0:r.filter(h=>h.id!==t.id))!=null?l:[]}const c={id:t.id,value:o};if(s){var d;return(d=r==null?void 0:r.map(h=>h.id===t.id?c:h))!=null?d:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Co(e,i))==null?void 0:s.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(lT(c,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function lT(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Wq=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),Hq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},Xq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Kq=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},Yq=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},Zq=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!Oq(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},qq=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Jq=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Qq=(t,e)=>e.length,d0={sum:Wq,min:Hq,max:Xq,extent:Kq,mean:Yq,median:Zq,unique:qq,uniqueCount:Jq,count:Qq},eJ={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Wr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return d0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return d0.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return wg(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:d0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function tJ(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const nJ={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Wr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Xe(n=>[Iu(e,n)],n=>n.findIndex(r=>r.id===t.id),Ke(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Iu(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=Iu(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Xe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],l=[...i];for(;l.length&&o.length;){const c=o.shift(),d=l.findIndex(h=>h.id===c);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return tJ(s,n,r)},Ke(t.options,"debugTable"))}},h0=()=>({left:[],right:[]}),rJ={getInitialState:t=>({columnPinning:h0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Wr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var l,c;return{left:((l=i==null?void 0:i.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var d,h;return{left:[...((d=i==null?void 0:i.left)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},Ke(e.options,"debugRows")),t.getLeftVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Ke(e.options,"debugRows")),t.getRightVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Ke(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?h0():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:h0())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Ke(t.options,"debugColumns")),t.getRightLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Ke(t.options,"debugColumns")),t.getCenterLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},Ke(t.options,"debugColumns"))}};function iJ(t){return t||(typeof document<"u"?document:null)}const yf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},f0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),sJ={getDefaultColumnDef:()=>yf,getInitialState:t=>({columnSizing:{},columnSizingInfo:f0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Wr("columnSizing",t),onColumnSizingInfoChange:Wr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:yf.minSize,(r=s??t.columnDef.size)!=null?r:yf.size),(i=t.columnDef.maxSize)!=null?i:yf.maxSize)},t.getStart=Xe(n=>[n,Iu(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),Ke(e.options,"debugColumns")),t.getAfter=Xe(n=>[n,Iu(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),Ke(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),m0(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],c=m0(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(b,R)=>{typeof R=="number"&&(e.setColumnSizingInfo(T=>{var P,k;const M=e.options.columnResizeDirection==="rtl"?-1:1,F=(R-((P=T==null?void 0:T.startOffset)!=null?P:0))*M,I=Math.max(F/((k=T==null?void 0:T.startSize)!=null?k:0),-.999999);return T.columnSizingStart.forEach(z=>{let[G,V]=z;d[G]=Math.round(Math.max(V+V*I,0)*100)/100}),{...T,deltaOffset:F,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||b==="end")&&e.setColumnSizing(T=>({...T,...d})))},f=b=>h("move",b),p=b=>{h("end",b),e.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=iJ(n),x={moveHandler:b=>f(b.clientX),upHandler:b=>{y==null||y.removeEventListener("mousemove",x.moveHandler),y==null||y.removeEventListener("mouseup",x.upHandler),p(b.clientX)}},w={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),f(b.touches[0].clientX),!1),upHandler:b=>{var R;y==null||y.removeEventListener("touchmove",w.moveHandler),y==null||y.removeEventListener("touchend",w.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),p((R=b.touches[0])==null?void 0:R.clientX)}},C=oJ()?{passive:!1}:!1;m0(s)?(y==null||y.addEventListener("touchmove",w.moveHandler,C),y==null||y.addEventListener("touchend",w.upHandler,C)):(y==null||y.addEventListener("mousemove",x.moveHandler,C),y==null||y.addEventListener("mouseup",x.upHandler,C)),e.setColumnSizingInfo(b=>({...b,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?f0():(n=t.initialState.columnSizingInfo)!=null?n:f0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let vf=null;function oJ(){if(typeof vf=="boolean")return vf;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return vf=t,vf}function m0(t){return t.type==="touchstart"}const aJ={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Wr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Xe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ke(e.options,"debugRows")),t.getVisibleCells=Xe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Ke(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Xe(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Ke(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Iu(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const lJ={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},cJ={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Wr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Rs.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return wg(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Rs[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},uJ={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Wr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:l,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},$v=0,Bv=10,g0=()=>({pageIndex:$v,pageSize:Bv}),dJ={getInitialState:t=>({...t,pagination:{...g0(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Wr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>Co(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?g0():(i=t.initialState.pagination)!=null?i:g0())},t.setPageIndex=r=>{t.setPagination(i=>{let s=Co(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?$v:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:$v)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?Bv:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:Bv)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,Co(r,i.pageSize)),o=i.pageSize*i.pageIndex,l=Math.floor(o/s);return{...i,pageIndex:l,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let o=Co(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=Xe(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},Ke(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},p0=()=>({top:[],bottom:[]}),hJ={getInitialState:t=>({rowPinning:p0(),...t}),getDefaultOptions:t=>({onRowPinningChange:Wr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(c=>{let{id:d}=c;return d}):[],o=i?t.getParentRows().map(c=>{let{id:d}=c;return d}):[],l=new Set([...o,t.id,...s]);e.setRowPinning(c=>{var d,h;if(n==="bottom"){var f,p;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(w=>!(l!=null&&l.has(w))),bottom:[...((p=c==null?void 0:c.bottom)!=null?p:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)]}}if(n==="top"){var y,x;return{top:[...((y=c==null?void 0:c.top)!=null?y:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)],bottom:((x=c==null?void 0:c.bottom)!=null?x:[]).filter(w=>!(l!=null&&l.has(w)))}}return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(w=>!(l!=null&&l.has(w))),bottom:((h=c==null?void 0:c.bottom)!=null?h:[]).filter(w=>!(l!=null&&l.has(w)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=s==null?void 0:s.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?p0():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:p0())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ke(t.options,"debugRows")),t.getBottomRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ke(t.options,"debugRows")),t.getCenterRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},Ke(t.options,"debugRows"))}},fJ={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Wr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{Gv(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?y0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getFilteredSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?y0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getGroupedSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?y0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const l={...s};return Gv(l,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return fw(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Uv(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Uv(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Gv=(t,e,n,r,i)=>{var s;const o=i.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>Gv(t,l.id,n,r,i))};function y0(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,l){return o.map(c=>{var d;const h=fw(c,n);if(h&&(r.push(c),i[c.id]=c),(d=c.subRows)!=null&&d.length&&(c={...c,subRows:s(c.subRows)}),h)return c}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function fw(t,e){var n;return(n=e[t.id])!=null?n:!1}function Uv(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(fw(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const l=Uv(o,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const Wv=/([0-9]+)/gm,mJ=(t,e,n)=>uN(Do(t.getValue(n)).toLowerCase(),Do(e.getValue(n)).toLowerCase()),gJ=(t,e,n)=>uN(Do(t.getValue(n)),Do(e.getValue(n))),pJ=(t,e,n)=>mw(Do(t.getValue(n)).toLowerCase(),Do(e.getValue(n)).toLowerCase()),yJ=(t,e,n)=>mw(Do(t.getValue(n)),Do(e.getValue(n))),vJ=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},xJ=(t,e,n)=>mw(t.getValue(n),e.getValue(n));function mw(t,e){return t===e?0:t>e?1:-1}function Do(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function uN(t,e){const n=t.split(Wv).filter(Boolean),r=e.split(Wv).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),l=parseInt(s,10),c=[o,l].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const hu={alphanumeric:mJ,alphanumericCaseSensitive:gJ,text:pJ,textCaseSensitive:yJ,datetime:vJ,basic:xJ},_J={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Wr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return hu.datetime;if(typeof s=="string"&&(r=!0,s.split(Wv).length>1))return hu.alphanumeric}return r?hu.text:hu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return wg(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:hu[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(y=>y.id===t.id),c=o==null?void 0:o.findIndex(y=>y.id===t.id);let d=[],h,f=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?l?h="toggle":h="add":o!=null&&o.length&&c!==o.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||i||(h="remove")),h==="add"){var p;d=[...o,{id:t.id,desc:f}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=o.map(y=>y.id===t.id?{...y,desc:f}:y):h==="remove"?d=o.filter(y=>y.id!==t.id):d=[{id:t.id,desc:f}];return d})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},wJ=[Bq,aJ,nJ,rJ,Gq,Uq,lJ,cJ,_J,eJ,uJ,dJ,hJ,fJ,sJ];function CJ(t){var e,n;const r=[...wJ,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((p,y)=>Object.assign(p,y.getDefaultOptions==null?void 0:y.getDefaultOptions(i)),{}),o=p=>i.options.mergeOptions?i.options.mergeOptions(s,p):{...s,...p};let c={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(p=>{var y;c=(y=p.getInitialState==null?void 0:p.getInitialState(c))!=null?y:c});const d=[];let h=!1;const f={_features:r,options:{...s,...t},initialState:c,_queue:p=>{d.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const y=Co(p,i.options);i.options=o(y)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,y,x)=>{var w;return(w=i.options.getRowId==null?void 0:i.options.getRowId(p,y,x))!=null?w:`${x?[x.id,y].join("."):y}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,y)=>{let x=(y?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!x&&(x=i.getCoreRowModel().rowsById[p],!x))throw new Error;return x},_getDefaultColumnDef:Xe(()=>[i.options.defaultColumn],p=>{var y;return p=(y=p)!=null?y:{},{header:x=>{const w=x.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:x=>{var w,C;return(w=(C=x.renderValue())==null||C.toString==null?void 0:C.toString())!=null?w:null},...i._features.reduce((x,w)=>Object.assign(x,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...p}},Ke(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Xe(()=>[i._getColumnDefs()],p=>{const y=function(x,w,C){return C===void 0&&(C=0),x.map(b=>{const R=$q(i,b,C,w),T=b;return R.columns=T.columns?y(T.columns,R,C+1):[],R})};return y(p)},Ke(t,"debugColumns")),getAllFlatColumns:Xe(()=>[i.getAllColumns()],p=>p.flatMap(y=>y.getFlatColumns()),Ke(t,"debugColumns")),_getAllFlatColumnsById:Xe(()=>[i.getAllFlatColumns()],p=>p.reduce((y,x)=>(y[x.id]=x,y),{}),Ke(t,"debugColumns")),getAllLeafColumns:Xe(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,y)=>{let x=p.flatMap(w=>w.getLeafColumns());return y(x)},Ke(t,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,f);for(let p=0;p<i._features.length;p++){const y=i._features[p];y==null||y.createTable==null||y.createTable(i)}return i}function dN(){return t=>Xe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const l=[];for(let d=0;d<i.length;d++){const h=dw(t,t._getRowId(i[d],d,o),i[d],d,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var c;h.originalSubRows=t.options.getSubRows(i[d],d),(c=h.originalSubRows)!=null&&c.length&&(h.subRows=r(h.originalSubRows,s+1,h))}}return l};return n.rows=r(e),n},Ke(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function SJ(){return t=>Xe(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,n,r)=>!n.rows.length||e!==!0&&!Object.keys(e??{}).length||!r?n:hN(n),Ke(t.options,"debugTable"))}function hN(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function fN(t,e,n){return n.options.filterFromLeafRows?bJ(t,e,n):EJ(t,e,n)}function bJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,d){d===void 0&&(d=0);const h=[];for(let p=0;p<c.length;p++){var f;let y=c[p];const x=dw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);if(x.columnFilters=y.columnFilters,(f=y.subRows)!=null&&f.length&&d<o){if(x.subRows=l(y.subRows,d+1),y=x,e(y)&&!x.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}if(e(y)||x.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}}else y=x,e(y)&&(h.push(y),s[y.id]=y,i.push(y))}return h};return{rows:l(t),flatRows:i,rowsById:s}}function EJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,d){d===void 0&&(d=0);const h=[];for(let p=0;p<c.length;p++){let y=c[p];if(e(y)){var f;if((f=y.subRows)!=null&&f.length&&d<o){const w=dw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);w.subRows=l(y.subRows,d+1),y=w}h.push(y),i.push(y),s[y.id]=y}}return h};return{rows:l(t),flatRows:i,rowsById:s}}function RJ(){return(t,e)=>Xe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter,t.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(l=>l.id).filter(l=>l!==e),i?"__global__":void 0].filter(Boolean),o=l=>{for(let c=0;c<s.length;c++)if(l.columnFilters[s[c]]===!1)return!1;return!0};return fN(n.rows,o,t)},Ke(t.options,"debugTable"))}function mN(){return t=>Xe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<e.flatRows.length;p++)e.flatRows[p].columnFilters={},e.flatRows[p].columnFiltersMeta={};return e}const i=[],s=[];(n??[]).forEach(p=>{var y;const x=t.getColumn(p.id);if(!x)return;const w=x.getFilterFn();w&&i.push({id:p.id,filterFn:w,resolvedValue:(y=w.resolveFilterValue==null?void 0:w.resolveFilterValue(p.value))!=null?y:p.value})});const o=(n??[]).map(p=>p.id),l=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(p=>{var y;s.push({id:p.id,filterFn:l,resolvedValue:(y=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?y:r})}));let d,h;for(let p=0;p<e.flatRows.length;p++){const y=e.flatRows[p];if(y.columnFilters={},i.length)for(let x=0;x<i.length;x++){d=i[x];const w=d.id;y.columnFilters[w]=d.filterFn(y,w,d.resolvedValue,C=>{y.columnFiltersMeta[w]=C})}if(s.length){for(let x=0;x<s.length;x++){h=s[x];const w=h.id;if(h.filterFn(y,w,h.resolvedValue,C=>{y.columnFiltersMeta[w]=C})){y.columnFilters.__global__=!0;break}}y.columnFilters.__global__!==!0&&(y.columnFilters.__global__=!1)}}const f=p=>{for(let y=0;y<o.length;y++)if(p.columnFilters[o[y]]===!1)return!1;return!0};return fN(e.rows,f,t)},Ke(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function gN(t){return e=>Xe(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:l,rowsById:c}=r;const d=i*s,h=d+i;o=o.slice(d,h);let f;e.options.paginateExpandedRows?f={rows:o,flatRows:l,rowsById:c}:f=hN({rows:o,flatRows:l,rowsById:c}),f.flatRows=[];const p=y=>{f.flatRows.push(y),y.subRows.length&&y.subRows.forEach(p)};return f.rows.forEach(p),f},Ke(e.options,"debugTable"))}function pN(){return t=>Xe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(c=>{var d;return(d=t.getColumn(c.id))==null?void 0:d.getCanSort()}),o={};s.forEach(c=>{const d=t.getColumn(c.id);d&&(o[c.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=c=>{const d=c.map(h=>({...h}));return d.sort((h,f)=>{for(let y=0;y<s.length;y+=1){var p;const x=s[y],w=o[x.id],C=w.sortUndefined,b=(p=x==null?void 0:x.desc)!=null?p:!1;let R=0;if(C){const T=h.getValue(x.id),P=f.getValue(x.id),k=T===void 0,M=P===void 0;if(k||M){if(C==="first")return k?-1:1;if(C==="last")return k?1:-1;R=k&&M?0:k?C:-C}}if(R===0&&(R=w.sortingFn(h,f,x.id)),R!==0)return b&&(R*=-1),w.invertSorting&&(R*=-1),R}return h.index-f.index}),d.forEach(h=>{var f;i.push(h),(f=h.subRows)!=null&&f.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:i,rowsById:n.rowsById}},Ke(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function TJ(t,e){return t?PJ(t)?_.createElement(t,e):t:null}function PJ(t){return kJ(t)||typeof t=="function"||AJ(t)}function kJ(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function AJ(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function yN(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=_.useState(()=>({current:CJ(e)})),[r,i]=_.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}function vN({globalFilter:t,setGlobalFilter:e}){return g.jsx(tn,{placeholder:"Buscar...",value:t||"",onChange:n=>e(n.target.value),className:"w-full max-w-sm"})}function xN({column:t}){var r,i,s,o;if(!t.getCanFilter())return null;const e=t.columnDef.header||t.id;if(["tipo","especie","sexo","raza","parcela"].includes(t.id)){const l=Array.from(new Set((o=(s=(i=(r=t.getFacetedRowModel())==null?void 0:r.rows)==null?void 0:i.map(c=>c.getValue(t.id)))==null?void 0:s.filter(c=>c!=null&&c!==""))==null?void 0:o.map(c=>String(c).trim()))).sort((c,d)=>c.localeCompare(d));return g.jsxs(wi,{value:t.getFilterValue()||"",onValueChange:c=>t.setFilterValue(c==="all"?"":c),children:[g.jsx(ei,{className:"w-full h-8 text-xs text-center",children:g.jsx(Ci,{placeholder:`${e}`})}),g.jsxs(ti,{children:[g.jsx(Pn,{value:"all",children:"Todas"}),l.map(c=>g.jsx(Pn,{value:c,children:c},c))]})]})}return g.jsx(tn,{value:t.getFilterValue()||"",onChange:l=>t.setFilterValue(l.target.value),placeholder:`${e}`,className:"w-full h-8 text-xs text-center"})}function _N({table:t}){return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs(it,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la primera pgina"}),g.jsx(yV,{className:"h-4 w-4"})]}),g.jsxs(it,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la pgina anterior"}),g.jsx(fV,{className:"h-4 w-4"})]}),g.jsxs("div",{className:"flex-center text-sm font-medium whitespace-nowrap",children:[t.getState().pagination.pageIndex+1," de ",t.getPageCount()]}),g.jsxs(it,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la pgina siguiente"}),g.jsx(LT,{className:"h-4 w-4"})]}),g.jsxs(it,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la ltima pgina"}),g.jsx(xV,{className:"h-4 w-4"})]})]})}function wN({table:t}){return g.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:g.jsxs(wi,{value:String(t.getState().pagination.pageSize),onValueChange:e=>t.setPageSize(Number(e)),children:[g.jsx(ei,{className:"h-8 w-[70px]",children:g.jsx(Ci,{placeholder:t.getState().pagination.pageSize})}),g.jsx(ti,{children:[10,20,50,100].map(e=>g.jsx(Pn,{value:String(e),children:e},e))})]})})}var Cg="Checkbox",[MJ,pte]=si(Cg),[IJ,gw]=MJ(Cg);function NJ(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:f}=t,[p,y]=Ds({prop:n,defaultProp:i??!1,onChange:c,caller:Cg}),[x,w]=_.useState(null),[C,b]=_.useState(null),R=_.useRef(!1),T=x?!!o||!!x.closest("form"):!0,P={checked:p,disabled:s,setChecked:y,control:x,setControl:w,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:R,required:d,defaultChecked:Eo(i)?!1:i,isFormControl:T,bubbleInput:C,setBubbleInput:b};return g.jsx(IJ,{scope:e,...P,children:FJ(f)?f(P):r})}var CN="CheckboxTrigger",SN=_.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:l,checked:c,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:y,bubbleInput:x}=gw(CN,t),w=at(i,h),C=_.useRef(c);return _.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const R=()=>f(C.current);return b.addEventListener("reset",R),()=>b.removeEventListener("reset",R)}},[s,f]),g.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Eo(c)?"mixed":c,"aria-required":d,"data-state":PN(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:w,onKeyDown:Se(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Se(n,b=>{f(R=>Eo(R)?!0:!R),x&&y&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});SN.displayName=CN;var pw=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:d,form:h,...f}=t;return g.jsx(NJ,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>g.jsxs(g.Fragment,{children:[g.jsx(SN,{...f,ref:e,__scopeCheckbox:n}),p&&g.jsx(TN,{__scopeCheckbox:n})]})})});pw.displayName=Cg;var bN="CheckboxIndicator",EN=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=gw(bN,n);return g.jsx(lr,{present:r||Eo(s.checked)||s.checked===!0,children:g.jsx(Ye.span,{"data-state":PN(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});EN.displayName=bN;var RN="CheckboxBubbleInput",TN=_.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:d,value:h,form:f,bubbleInput:p,setBubbleInput:y}=gw(RN,t),x=at(n,y),w=sw(s),C=J_(r);_.useEffect(()=>{const R=p;if(!R)return;const T=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(T,"checked").set,M=!i.current;if(w!==s&&k){const F=new Event("click",{bubbles:M});R.indeterminate=Eo(s),k.call(R,Eo(s)?!1:s),R.dispatchEvent(F)}},[p,w,s,i]);const b=_.useRef(Eo(s)?!1:s);return g.jsx(Ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:h,form:f,...e,tabIndex:-1,ref:x,style:{...e.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});TN.displayName=RN;function FJ(t){return typeof t=="function"}function Eo(t){return t==="indeterminate"}function PN(t){return Eo(t)?"indeterminate":t?"checked":"unchecked"}const kN=_.forwardRef(({className:t,...e},n)=>g.jsx(pw,{ref:n,className:Ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:g.jsx(EN,{className:Ve("flex items-center justify-center text-current"),children:g.jsx(ic,{className:"h-4 w-4"})})}));kN.displayName=pw.displayName;function AN({animal:t,columnVisibility:e={}}){if(!t)return g.jsx("div",{className:"text-center text-gray-500 py-4",children:"No hay datos detallados para mostrar."});const n=(r,i,s,o="")=>e[r]?null:g.jsxs("div",{children:[g.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",s!=null?`${s}${o}`:"-"]});return g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-1 gap-x-2 text-sm text-gray-700",children:[n("tipo","Tipo",t.tipo),n("raza","Raza",t.raza),n("sexo","Sexo",t.sexo),n("especie","Especie",t.especie),n("parcela","Parcela",t.parcela),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fecha Nacimiento:"})," ",t.fecha_nacimiento||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Peso:"})," ",t.peso!==void 0&&t.peso!==null?`${t.peso} kg`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Altura Cruz:"})," ",t.altura_cruz!==void 0&&t.altura_cruz!==null?`${t.altura_cruz} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Tronco:"})," ",t.longitud_tronco!==void 0&&t.longitud_tronco!==null?`${t.longitud_tronco} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Permetro Torcico:"})," ",t.perimetro_toracico!==void 0&&t.perimetro_toracico!==null?`${t.perimetro_toracico} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ancho Grupa:"})," ",t.ancho_grupa!==void 0&&t.ancho_grupa!==null?`${t.ancho_grupa} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Grupa:"})," ",t.longitud_grupa!==void 0&&t.longitud_grupa!==null?`${t.longitud_grupa} cm`:"-"]}),n("estado_reproductivo","Estado Reproductivo",t.estado_reproductivo_nombre),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Nmero Partos:"})," ",t.numero_partos!==void 0&&t.numero_partos!==null?t.numero_partos:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Intervalo Partos:"})," ",t.intervalo_partos!==void 0&&t.intervalo_partos!==null?`${t.intervalo_partos} das`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fertilidad:"})," ",t.fertilidad!==void 0&&t.fertilidad!==null?`${t.fertilidad}%`:"-"]}),t.collar_id&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Collar ID:"})," ",t.collar_id||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ubicacin Sensor:"})," ",t.ubicacion_sensor||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"ltima Latitud:"})," ",t.ultima_latitud!==void 0&&t.ultima_latitud!==null?t.ultima_latitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"ltima Longitud:"})," ",t.ultima_longitud!==void 0&&t.ultima_longitud!==null?t.ultima_longitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Temperatura Corporal:"})," ",t.temperatura_corporal!==void 0&&t.temperatura_corporal!==null?`${t.temperatura_corporal}C`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Hora Temperatura:"})," ",t.hora_temperatura||"-"]}),t.campo_id&&g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Campo ID:"})," ",t.campo_id]})]})]})}function jJ({row:t,onEdit:e,onDelete:n,isSelected:r,onToggleSelection:i,columnVisibility:s}){const[o,l]=_.useState(!1),c=h=>{h.stopPropagation(),l(f=>!f)},d=h=>{i&&i(t)};return g.jsxs("div",{className:`border-b ${r?"bg-blue-100":"bg-white"} transition-colors duration-100 ease-in-out`,children:[g.jsxs("div",{className:"p-3 flex justify-between items-center",children:[g.jsx(kN,{checked:r,onCheckedChange:d,"aria-label":"Seleccionar fila",className:"mr-3 flex-shrink-0"}),g.jsxs("div",{className:"flex-grow min-w-0 mr-2",children:[g.jsxs("div",{className:"font-semibold text-gray-900 truncate",children:[g.jsx("span",{className:"text-gray-500",children:"ID:"})," ",t.original.numero_identificacion||"-"]}),g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"Nombre:"})," ",t.original.nombre||"-"]})]}),g.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 ml-auto",children:[g.jsx(it,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),e(t.original.animal_id)},className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50","aria-label":"Editar animal",children:g.jsx(lx,{className:"h-4 w-4"})}),g.jsx(it,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),n(t.original)},className:"text-red-700 hover:text-red-800 hover:bg-red-50","aria-label":"Eliminar animal",children:g.jsx(la,{className:"h-4 w-4"})}),g.jsx(it,{size:"icon",variant:"ghost",onClick:c,"aria-label":o?"Colapsar detalles":"Expandir detalles",className:"text-gray-500 hover:bg-gray-100",children:o?g.jsx(ox,{className:"h-5 w-5"}):g.jsx(dd,{className:"h-5 w-5"})})]})]}),o&&g.jsx("div",{className:"p-3 pt-0 bg-gray-50 border-t border-gray-100",children:g.jsx(AN,{animal:t.original,columnVisibility:s})})]})}var Sg="Dialog",[MN,yte]=si(Sg),[LJ,Oi]=MN(Sg),IN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=_.useRef(null),c=_.useRef(null),[d,h]=Ds({prop:r,defaultProp:i??!1,onChange:s,caller:Sg});return g.jsx(LJ,{scope:e,triggerRef:l,contentRef:c,contentId:Ti(),titleId:Ti(),descriptionId:Ti(),open:d,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};IN.displayName=Sg;var NN="DialogTrigger",FN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Oi(NN,n),s=at(e,i.triggerRef);return g.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xw(i.open),...r,ref:s,onClick:Se(t.onClick,i.onOpenToggle)})});FN.displayName=NN;var yw="DialogPortal",[DJ,jN]=MN(yw,{forceMount:void 0}),LN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Oi(yw,e);return g.jsx(DJ,{scope:e,forceMount:n,children:_.Children.map(r,o=>g.jsx(lr,{present:n||s.open,children:g.jsx(Md,{asChild:!0,container:i,children:o})}))})};LN.displayName=yw;var xm="DialogOverlay",DN=_.forwardRef((t,e)=>{const n=jN(xm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Oi(xm,t.__scopeDialog);return s.modal?g.jsx(lr,{present:r||s.open,children:g.jsx(VJ,{...i,ref:e})}):null});DN.displayName=xm;var OJ=Aa("DialogOverlay.RemoveScroll"),VJ=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Oi(xm,n);return g.jsx(hg,{as:OJ,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Ye.div,{"data-state":xw(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Oa="DialogContent",ON=_.forwardRef((t,e)=>{const n=jN(Oa,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Oi(Oa,t.__scopeDialog);return g.jsx(lr,{present:r||s.open,children:s.modal?g.jsx(zJ,{...i,ref:e}):g.jsx($J,{...i,ref:e})})});ON.displayName=Oa;var zJ=_.forwardRef((t,e)=>{const n=Oi(Oa,t.__scopeDialog),r=_.useRef(null),i=at(e,n.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return ow(s)},[]),g.jsx(VN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault())})}),$J=_.forwardRef((t,e)=>{const n=Oi(Oa,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return g.jsx(VN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),VN=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Oi(Oa,n),c=_.useRef(null),d=at(e,c);return U_(),g.jsxs(g.Fragment,{children:[g.jsx(ag,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(kd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xw(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(BJ,{titleId:l.titleId}),g.jsx(UJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vw="DialogTitle",zN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Oi(vw,n);return g.jsx(Ye.h2,{id:i.titleId,...r,ref:e})});zN.displayName=vw;var $N="DialogDescription",BN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Oi($N,n);return g.jsx(Ye.p,{id:i.descriptionId,...r,ref:e})});BN.displayName=$N;var GN="DialogClose",UN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Oi(GN,n);return g.jsx(Ye.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,()=>i.onOpenChange(!1))})});UN.displayName=GN;function xw(t){return t?"open":"closed"}var WN="DialogTitleWarning",[vte,HN]=nX(WN,{contentName:Oa,titleName:vw,docsSlug:"dialog"}),BJ=({titleId:t})=>{const e=HN(WN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},GJ="DialogDescriptionWarning",UJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HN(GJ).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},WJ=IN,HJ=FN,XJ=LN,XN=DN,KN=ON,YN=zN,ZN=BN,KJ=UN;const qN=WJ,JN=HJ,YJ=XJ,QN=_.forwardRef(({className:t,...e},n)=>g.jsx(XN,{ref:n,className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));QN.displayName=XN.displayName;const _w=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(YJ,{children:[g.jsx(QN,{}),g.jsxs(KN,{ref:r,className:Ve("rounded-xl fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",t),...n,children:[e,g.jsxs(KJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(zs,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_w.displayName=KN.displayName;const ww=({className:t,...e})=>g.jsx("div",{className:Ve("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ww.displayName="DialogHeader";const eF=({className:t,...e})=>g.jsx("div",{className:Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});eF.displayName="DialogFooter";const Cw=_.forwardRef(({className:t,...e},n)=>g.jsx(YN,{ref:n,className:Ve("text-lg font-semibold leading-none tracking-tight",t),...e}));Cw.displayName=YN.displayName;const tF=_.forwardRef(({className:t,...e},n)=>g.jsx(ZN,{ref:n,className:Ve("text-sm text-muted-foreground",t),...e}));tF.displayName=ZN.displayName;function ZJ(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Sw="ScrollArea",[nF,xte]=si(Sw),[qJ,oi]=nF(Sw),rF=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,c]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(null),[y,x]=_.useState(null),[w,C]=_.useState(null),[b,R]=_.useState(0),[T,P]=_.useState(0),[k,M]=_.useState(!1),[F,I]=_.useState(!1),z=at(e,V=>c(V)),G=Td(i);return g.jsx(qJ,{scope:n,type:r,dir:G,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:y,onScrollbarXChange:x,scrollbarXEnabled:k,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:C,scrollbarYEnabled:F,onScrollbarYEnabledChange:I,onCornerWidthChange:R,onCornerHeightChange:P,children:g.jsx(Ye.div,{dir:G,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});rF.displayName=Sw;var iF="ScrollAreaViewport",sF=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=oi(iF,n),l=_.useRef(null),c=at(e,l,o.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});sF.displayName=iF;var cs="ScrollAreaScrollbar",bw=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=oi(cs,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return _.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?g.jsx(JJ,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(QJ,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(oF,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(Ew,{...r,ref:e}):null});bw.displayName=cs;var JJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=oi(cs,t.__scopeScrollArea),[s,o]=_.useState(!1);return _.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(lr,{present:n||s,children:g.jsx(oF,{"data-state":s?"visible":"hidden",...r,ref:e})})}),QJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=oi(cs,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Eg(()=>c("SCROLL_END"),100),[l,c]=ZJ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),_.useEffect(()=>{const d=i.viewport,h=s?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const y=d[h];f!==y&&(c("SCROLL"),o()),f=y};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,s,c,o]),g.jsx(lr,{present:n||l!=="hidden",children:g.jsx(Ew,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Se(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Se(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oF=_.forwardRef((t,e)=>{const n=oi(cs,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=_.useState(!1),l=t.orientation==="horizontal",c=Eg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return ec(n.viewport,c),ec(n.content,c),g.jsx(lr,{present:r||s,children:g.jsx(Ew,{"data-state":s?"visible":"hidden",...i,ref:e})})}),Ew=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=oi(cs,t.__scopeScrollArea),s=_.useRef(null),o=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=dF(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,y){return sQ(p,o.current,l,y)}return n==="horizontal"?g.jsx(eQ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,y=cT(p,l,i.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):n==="vertical"?g.jsx(tQ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,y=cT(p,l);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),eQ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=oi(cs,t.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),d=at(e,c,s.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),g.jsx(lF,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),fF(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wm(o.paddingLeft),paddingEnd:wm(o.paddingRight)}})}})}),tQ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=oi(cs,t.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),d=at(e,c,s.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),g.jsx(lF,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),fF(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wm(o.paddingTop),paddingEnd:wm(o.paddingBottom)}})}})}),[nQ,aF]=nF(cs),lF=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=t,y=oi(cs,n),[x,w]=_.useState(null),C=at(e,z=>w(z)),b=_.useRef(null),R=_.useRef(""),T=y.viewport,P=r.content-r.viewport,k=Xn(h),M=Xn(c),F=Eg(f,10);function I(z){if(b.current){const G=z.clientX-b.current.left,V=z.clientY-b.current.top;d({x:G,y:V})}}return _.useEffect(()=>{const z=G=>{const V=G.target;(x==null?void 0:x.contains(V))&&k(G,P)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[T,x,P,k]),_.useEffect(M,[r,M]),ec(x,F),ec(y.content,F),g.jsx(nQ,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:Xn(s),onThumbPointerUp:Xn(o),onThumbPositionChange:M,onThumbPointerDown:Xn(l),children:g.jsx(Ye.div,{...p,ref:C,style:{position:"absolute",...p.style},onPointerDown:Se(t.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),b.current=x.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),I(z))}),onPointerMove:Se(t.onPointerMove,I),onPointerUp:Se(t.onPointerUp,z=>{const G=z.target;G.hasPointerCapture(z.pointerId)&&G.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=R.current,y.viewport&&(y.viewport.style.scrollBehavior=""),b.current=null})})})}),_m="ScrollAreaThumb",cF=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=aF(_m,t.__scopeScrollArea);return g.jsx(lr,{present:n||i.hasThumb,children:g.jsx(rQ,{ref:e,...r})})}),rQ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=oi(_m,n),o=aF(_m,n),{onThumbPositionChange:l}=o,c=at(e,f=>o.onThumbChange(f)),d=_.useRef(void 0),h=Eg(()=>{d.current&&(d.current(),d.current=void 0)},100);return _.useEffect(()=>{const f=s.viewport;if(f){const p=()=>{if(h(),!d.current){const y=oQ(f,l);d.current=y,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,h,l]),g.jsx(Ye.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Se(t.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),x=f.clientX-y.left,w=f.clientY-y.top;o.onThumbPointerDown({x,y:w})}),onPointerUp:Se(t.onPointerUp,o.onThumbPointerUp)})});cF.displayName=_m;var Rw="ScrollAreaCorner",uF=_.forwardRef((t,e)=>{const n=oi(Rw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(iQ,{...t,ref:e}):null});uF.displayName=Rw;var iQ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=oi(Rw,n),[s,o]=_.useState(0),[l,c]=_.useState(0),d=!!(s&&l);return ec(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),ec(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?g.jsx(Ye.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function wm(t){return t?parseInt(t,10):0}function dF(t,e){const n=t/e;return isNaN(n)?0:n}function bg(t){const e=dF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function sQ(t,e,n,r="ltr"){const i=bg(n),s=i/2,o=e||s,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return hF([c,d],f)(t)}function cT(t,e,n="ltr"){const r=bg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Ev(t,c);return hF([0,o],[0,l])(d)}function hF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function fF(t,e){return t>0&&t<e}var oQ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Eg(t,e){const n=Xn(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ec(t,e){const n=Xn(e);Kn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var mF=rF,aQ=sF,lQ=uF;const Rg=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(mF,{ref:r,className:Ve("relative",t),...n,children:[g.jsx(aQ,{className:"h-full rounded-[inherit]",children:e}),g.jsx(gF,{}),g.jsx(lQ,{})]}));Rg.displayName=mF.displayName;const gF=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>g.jsx(bw,{ref:r,orientation:e,className:Ve("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:g.jsx(cF,{className:"relative flex-1 rounded-full bg-border"})}));gF.displayName=bw.displayName;function cQ({table:t,columnVisibility:e={}}){const n=t.getAllColumns().filter(o=>o.getCanFilter()&&o.id!=="acciones"),r=n.filter(o=>!e[o.id]&&o.id!=="numero_identificacion"&&o.id!=="nombre"),i=()=>{n.forEach(o=>{o.getIsFiltered()&&o.setFilterValue(void 0)}),t.setGlobalFilter("")},s=n.some(o=>o.getIsFiltered())||t.getState().globalFilter;return g.jsxs(qN,{children:[g.jsx(JN,{asChild:!0,children:g.jsxs(it,{variant:"outline",className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[g.jsx(zT,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Filtros"}),s&&g.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:"Activo"})]})}),g.jsxs(_w,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(ww,{className:"text-center",children:[g.jsx(Cw,{className:"text-lg font-semibold",children:"Filtros Avanzados"}),s&&g.jsx("div",{className:"w-full flex justify-center",children:g.jsxs(it,{variant:"ghost",size:"sm",onClick:i,className:"text-red-500 hover:bg-red-50 gap-1",children:[g.jsx(Vn,{className:"h-4 w-4"})," Limpiar todo"]})})]}),g.jsx(Rg,{className:"max-h-[70vh] py-2",children:g.jsx("div",{className:"flex flex-col items-center gap-4",children:r.length>0?r.map(o=>g.jsxs("div",{className:"p-4 rounded-md border border-gray-200 bg-gray-50 shadow-sm w-full",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 capitalize",children:o.id.replace(/_/g," ")}),o.getIsFiltered()&&g.jsx(it,{variant:"ghost",size:"icon",onClick:()=>o.setFilterValue(void 0),className:"text-red-500 hover:bg-red-50",children:g.jsx(Vn,{className:"h-4 w-4"})})]}),g.jsx(xN,{column:o}),o.getIsFiltered()&&g.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Filtro activo: ",g.jsx("code",{children:String(o.getFilterValue())})]})]},o.id)):g.jsx("p",{className:"text-center text-gray-500",children:"No hay filtros ocultos disponibles para esta vista."})})})]})]})}const uQ=Tl.xs;function dQ({data:t=[],columns:e=[],exportFilename:n="export.csv",onRowClick:r,onEditRow:i,onDeleteRow:s,globalFilter:o,setGlobalFilter:l,rowSelection:c,setRowSelection:d,sorting:h,setSorting:f,pagination:p,setPagination:y,columnVisibility:x,setColumnVisibility:w}){const[C,b]=_.useState(null),R=o6(),T=R<uQ,P=["sexo","tipo","raza","especie","parcela"];_.useEffect(()=>{const X={numero_identificacion:!0,nombre:!0,acciones:!0};X.sexo=R>=Tl.xxl,X.tipo=R>=Tl.xl,X.raza=R>=Tl.lg,X.especie=R>=Tl.md,X.parcela=R>=Tl.sm,T&&P.forEach(Z=>{X[Z]=!1}),w(X)},[R,T]);const k=_.useMemo(()=>P.some(X=>x[X]===!1),[x,P]),M=yN({data:t,columns:e,state:{globalFilter:o,rowSelection:c,sorting:h,pagination:p,columnVisibility:x},onGlobalFilterChange:l,onRowSelectionChange:d,onSortingChange:f,onPaginationChange:y,onColumnVisibilityChange:w,getCoreRowModel:dN(),getFilteredRowModel:mN(),getSortedRowModel:pN(),getPaginationRowModel:gN(),getExpandedRowModel:SJ(),getFacetedRowModel:RJ(),enableRowSelection:!0,meta:{showExpandableRows:T,columnVisibility:x}}),F=_.useCallback(()=>{d({}),b(null)},[]);_.useEffect(()=>{const X=Z=>{Z.key==="Escape"&&F()};return window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X)}},[F]);const I=(X,Z,Y)=>{if(!T){let D={...c};if(Y.shiftKey&&C!==null){const j=M.getRowModel().rows.map(N=>N.id),[U,q]=[C,Z].sort((N,L)=>N-L);for(let N=U;N<=q;N++)D[j[N]]=!0}else Y.ctrlKey||Y.metaKey?(D[X.id]=!D[X.id],b(Z)):(D[X.id]&&Object.keys(D).length===1?delete D[X.id]:D={[X.id]:!0},b(Z));d(D)}r&&r(X.original)},z=_.useCallback(X=>{d(Z=>({...Z,[X.id]:!Z[X.id]}))},[]),G=()=>{M.getIsAllPageRowsSelected()?M.toggleAllPageRowsSelected(!1):M.toggleAllPageRowsSelected(!0)},V=()=>M.getIsAllPageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx(zs,{className:"h-4 w-4"}),variant:"outline"}:M.getIsSomePageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx($T,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Pgina",icon:g.jsx(ic,{className:"h-4 w-4"}),variant:"outline"},H=M.getState().globalFilter||M.getAllColumns().some(X=>X.getIsFiltered()),B=V();return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(Ro,{className:"h-5 w-5 text-blue-600"}),"Animales Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(vN,{globalFilter:o,setGlobalFilter:l}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[M.getFilteredRowModel().rows.length>0&&g.jsxs(it,{onClick:G,variant:B.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[B.icon," ",g.jsx("span",{className:"hidden lg:inline",children:B.text})]}),!T&&H&&g.jsxs(it,{onClick:()=>{M.resetGlobalFilter(),M.getAllColumns().forEach(X=>X.setFilterValue(void 0)),d({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(Vn,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),(T||k)&&g.jsx(cQ,{table:M,columnVisibility:x})]})]}),g.jsx("div",{className:"overflow-hidden",children:T?g.jsx("div",{className:"space-y-2",children:M.getRowModel().rows.map(X=>g.jsx(jJ,{row:X,onEdit:()=>i(X.original.animal_id),onDelete:()=>s(X.original),isSelected:X.getIsSelected(),onToggleSelection:z,columnVisibility:M.options.meta.columnVisibility},X.id))}):g.jsxs("table",{className:"min-w-full table-fixed text-center",children:[g.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:M.getHeaderGroups().map(X=>g.jsx("tr",{children:X.headers.map(Z=>g.jsx("th",{className:"border-b p-2",children:Z.isPlaceholder?null:g.jsx("div",{className:"p-1 flex flex-col items-center justify-center space-y-1",children:g.jsxs("div",{className:"flex items-center justify-center w-full",children:[Z.column.getCanSort()&&g.jsx(it,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-gray-200 flex-shrink-0",onClick:Y=>{var D;Y.stopPropagation(),(D=Z.column.getToggleSortingHandler())==null||D(Y)},children:{asc:g.jsx(JO,{className:"h-4 w-4"}),desc:g.jsx(ZO,{className:"h-4 w-4"})}[Z.column.getIsSorted()??null]||g.jsx(zT,{className:"h-4 w-4"})}),Z.column.getCanFilter()&&g.jsx("div",{children:g.jsx(xN,{column:Z.column})})]})})},Z.id))},X.id))}),g.jsx("tbody",{children:M.getRowModel().rows.map(X=>g.jsxs(_.Fragment,{children:[g.jsx("tr",{onClick:Z=>I(X,X.index,Z),className:`transition-colors duration-100 ease-in-out
                                            ${X.getIsSelected()?"bg-blue-100 hover:bg-blue-200":"even:bg-gray-50 odd:bg-white hover:bg-gray-100"}`,children:X.getVisibleCells().map(Z=>g.jsx("td",{className:"border-b p-2",children:TJ(Z.column.columnDef.cell,Z.getContext())},Z.id))}),X.getIsExpanded()&&g.jsx("tr",{children:g.jsx("td",{colSpan:X.getVisibleCells().length,className:"p-3 bg-gray-100 border-b border-gray-200 text-left",children:g.jsx(AN,{animal:X.original,columnVisibility:M.options.meta.columnVisibility})})})]},X.id))})]})}),g.jsxs("div",{className:"flex justify-between mt-2 flex-wrap gap-2",children:[g.jsx(_N,{table:M}),Object.keys(c).length>0&&g.jsxs(it,{onClick:F,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(w0,{className:"h-4 w-4"})," Deseleccionar Todo"]}),g.jsx(wN,{table:M})]})]})}var hQ="Separator",uT="horizontal",fQ=["horizontal","vertical"],pF=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=uT,...i}=t,s=mQ(r)?r:uT,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(Ye.div,{"data-orientation":s,...l,...i,ref:e})});pF.displayName=hQ;function mQ(t){return fQ.includes(t)}var yF=pF;const vF=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>g.jsx(yF,{ref:i,decorative:n,orientation:e,className:Ve("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));vF.displayName=yF.displayName;var Hv=["Enter"," "],gQ=["ArrowDown","PageUp","Home"],xF=["ArrowUp","PageDown","End"],pQ=[...gQ,...xF],yQ={ltr:[...Hv,"ArrowRight"],rtl:[...Hv,"ArrowLeft"]},vQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nd="Menu",[od,xQ,_Q]=B_(Nd),[Ga,_F]=si(Nd,[_Q,xc,sg]),Tg=xc(),wF=sg(),[wQ,Ua]=Ga(Nd),[CQ,Fd]=Ga(Nd),CF=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=Tg(e),[c,d]=_.useState(null),h=_.useRef(!1),f=Xn(s),p=Td(i);return _.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),g.jsx(tw,{...l,children:g.jsx(wQ,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:g.jsx(CQ,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};CF.displayName=Nd;var SQ="MenuAnchor",Tw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Tg(n);return g.jsx(nw,{...i,...r,ref:e})});Tw.displayName=SQ;var Pw="MenuPortal",[bQ,SF]=Ga(Pw,{forceMount:void 0}),bF=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Ua(Pw,e);return g.jsx(bQ,{scope:e,forceMount:n,children:g.jsx(lr,{present:n||s.open,children:g.jsx(Md,{asChild:!0,container:i,children:r})})})};bF.displayName=Pw;var ri="MenuContent",[EQ,kw]=Ga(ri),EF=_.forwardRef((t,e)=>{const n=SF(ri,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ua(ri,t.__scopeMenu),o=Fd(ri,t.__scopeMenu);return g.jsx(od.Provider,{scope:t.__scopeMenu,children:g.jsx(lr,{present:r||s.open,children:g.jsx(od.Slot,{scope:t.__scopeMenu,children:o.modal?g.jsx(RQ,{...i,ref:e}):g.jsx(TQ,{...i,ref:e})})})})}),RQ=_.forwardRef((t,e)=>{const n=Ua(ri,t.__scopeMenu),r=_.useRef(null),i=at(e,r);return _.useEffect(()=>{const s=r.current;if(s)return ow(s)},[]),g.jsx(Aw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),TQ=_.forwardRef((t,e)=>{const n=Ua(ri,t.__scopeMenu);return g.jsx(Aw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),PQ=Aa("MenuContent.ScrollLock"),Aw=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:x,...w}=t,C=Ua(ri,n),b=Fd(ri,n),R=Tg(n),T=wF(n),P=xQ(n),[k,M]=_.useState(null),F=_.useRef(null),I=at(e,F,C.onContentChange),z=_.useRef(0),G=_.useRef(""),V=_.useRef(0),H=_.useRef(null),B=_.useRef("right"),X=_.useRef(0),Z=x?hg:_.Fragment,Y=x?{as:PQ,allowPinchZoom:!0}:void 0,D=U=>{var ae,pe;const q=G.current+U,N=P().filter(_e=>!_e.disabled),L=document.activeElement,re=(ae=N.find(_e=>_e.ref.current===L))==null?void 0:ae.textValue,se=N.map(_e=>_e.textValue),ce=zQ(se,q,re),ge=(pe=N.find(_e=>_e.textValue===ce))==null?void 0:pe.ref.current;(function _e(Re){G.current=Re,window.clearTimeout(z.current),Re!==""&&(z.current=window.setTimeout(()=>_e(""),1e3))})(q),ge&&setTimeout(()=>ge.focus())};_.useEffect(()=>()=>window.clearTimeout(z.current),[]),U_();const j=_.useCallback(U=>{var N,L;return B.current===((N=H.current)==null?void 0:N.side)&&BQ(U,(L=H.current)==null?void 0:L.area)},[]);return g.jsx(EQ,{scope:n,searchRef:G,onItemEnter:_.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:_.useCallback(U=>{var q;j(U)||((q=F.current)==null||q.focus(),M(null))},[j]),onTriggerLeave:_.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:V,onPointerGraceIntentChange:_.useCallback(U=>{H.current=U},[]),children:g.jsx(Z,{...Y,children:g.jsx(ag,{asChild:!0,trapped:i,onMountAutoFocus:Se(s,U=>{var q;U.preventDefault(),(q=F.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(kd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:g.jsx(rI,{asChild:!0,...T,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:Se(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(rw,{role:"menu","aria-orientation":"vertical","data-state":$F(C.open),"data-radix-menu-content":"",dir:b.dir,...R,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:Se(w.onKeyDown,U=>{const N=U.target.closest("[data-radix-menu-content]")===U.currentTarget,L=U.ctrlKey||U.altKey||U.metaKey,re=U.key.length===1;N&&(U.key==="Tab"&&U.preventDefault(),!L&&re&&D(U.key));const se=F.current;if(U.target!==se||!pQ.includes(U.key))return;U.preventDefault();const ge=P().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);xF.includes(U.key)&&ge.reverse(),OQ(ge)}),onBlur:Se(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(z.current),G.current="")}),onPointerMove:Se(t.onPointerMove,ad(U=>{const q=U.target,N=X.current!==U.clientX;if(U.currentTarget.contains(q)&&N){const L=U.clientX>X.current?"right":"left";B.current=L,X.current=U.clientX}}))})})})})})})});EF.displayName=ri;var kQ="MenuGroup",Mw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Ye.div,{role:"group",...r,ref:e})});Mw.displayName=kQ;var AQ="MenuLabel",RF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Ye.div,{...r,ref:e})});RF.displayName=AQ;var Cm="MenuItem",dT="menu.itemSelect",Pg=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=_.useRef(null),o=Fd(Cm,t.__scopeMenu),l=kw(Cm,t.__scopeMenu),c=at(e,s),d=_.useRef(!1),h=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(dT,{bubbles:!0,cancelable:!0});f.addEventListener(dT,y=>r==null?void 0:r(y),{once:!0}),qM(f,p),p.defaultPrevented?d.current=!1:o.onClose()}};return g.jsx(TF,{...i,ref:c,disabled:n,onClick:Se(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),d.current=!0},onPointerUp:Se(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Se(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Hv.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pg.displayName=Cm;var TF=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=kw(Cm,n),l=wF(n),c=_.useRef(null),d=at(e,c),[h,f]=_.useState(!1),[p,y]=_.useState("");return _.useEffect(()=>{const x=c.current;x&&y((x.textContent??"").trim())},[s.children]),g.jsx(od.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:g.jsx(iI,{asChild:!0,...l,focusable:!r,children:g.jsx(Ye.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:Se(t.onPointerMove,ad(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Se(t.onPointerLeave,ad(x=>o.onItemLeave(x))),onFocus:Se(t.onFocus,()=>f(!0)),onBlur:Se(t.onBlur,()=>f(!1))})})})}),MQ="MenuCheckboxItem",PF=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return g.jsx(NF,{scope:t.__scopeMenu,checked:n,children:g.jsx(Pg,{role:"menuitemcheckbox","aria-checked":Sm(n)?"mixed":n,...i,ref:e,"data-state":Nw(n),onSelect:Se(i.onSelect,()=>r==null?void 0:r(Sm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});PF.displayName=MQ;var kF="MenuRadioGroup",[IQ,NQ]=Ga(kF,{value:void 0,onValueChange:()=>{}}),AF=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Xn(r);return g.jsx(IQ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:g.jsx(Mw,{...i,ref:e})})});AF.displayName=kF;var MF="MenuRadioItem",IF=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=NQ(MF,t.__scopeMenu),s=n===i.value;return g.jsx(NF,{scope:t.__scopeMenu,checked:s,children:g.jsx(Pg,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Nw(s),onSelect:Se(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});IF.displayName=MF;var Iw="MenuItemIndicator",[NF,FQ]=Ga(Iw,{checked:!1}),FF=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=FQ(Iw,n);return g.jsx(lr,{present:r||Sm(s.checked)||s.checked===!0,children:g.jsx(Ye.span,{...i,ref:e,"data-state":Nw(s.checked)})})});FF.displayName=Iw;var jQ="MenuSeparator",jF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});jF.displayName=jQ;var LQ="MenuArrow",LF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Tg(n);return g.jsx(iw,{...i,...r,ref:e})});LF.displayName=LQ;var DQ="MenuSub",[_te,DF]=Ga(DQ),vu="MenuSubTrigger",OF=_.forwardRef((t,e)=>{const n=Ua(vu,t.__scopeMenu),r=Fd(vu,t.__scopeMenu),i=DF(vu,t.__scopeMenu),s=kw(vu,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},h=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>h,[h]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),g.jsx(Tw,{asChild:!0,...d,children:g.jsx(TF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$F(n.open),...t,ref:Jm(e,i.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Se(t.onPointerMove,ad(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Se(t.onPointerLeave,ad(f=>{var y,x;h();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const w=(x=n.content)==null?void 0:x.dataset.side,C=w==="right",b=C?-5:5,R=p[C?"left":"right"],T=p[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:R,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:R,y:p.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Se(t.onKeyDown,f=>{var y;const p=s.searchRef.current!=="";t.disabled||p&&f.key===" "||yQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});OF.displayName=vu;var VF="MenuSubContent",zF=_.forwardRef((t,e)=>{const n=SF(ri,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ua(ri,t.__scopeMenu),o=Fd(ri,t.__scopeMenu),l=DF(VF,t.__scopeMenu),c=_.useRef(null),d=at(e,c);return g.jsx(od.Provider,{scope:t.__scopeMenu,children:g.jsx(lr,{present:r||s.open,children:g.jsx(od.Slot,{scope:t.__scopeMenu,children:g.jsx(Aw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Se(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Se(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Se(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),p=vQ[o.dir].includes(h.key);f&&p&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});zF.displayName=VF;function $F(t){return t?"open":"closed"}function Sm(t){return t==="indeterminate"}function Nw(t){return Sm(t)?"indeterminate":t?"checked":"unchecked"}function OQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function VQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function zQ(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=VQ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function $Q(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function BQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return $Q(n,e)}function ad(t){return e=>e.pointerType==="mouse"?t(e):void 0}var GQ=CF,UQ=Tw,WQ=bF,HQ=EF,XQ=Mw,KQ=RF,YQ=Pg,ZQ=PF,qQ=AF,JQ=IF,QQ=FF,eee=jF,tee=LF,nee=OF,ree=zF,kg="DropdownMenu",[iee,wte]=si(kg,[_F]),gr=_F(),[see,BF]=iee(kg),GF=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=gr(e),d=_.useRef(null),[h,f]=Ds({prop:i,defaultProp:s??!1,onChange:o,caller:kg});return g.jsx(see,{scope:e,triggerId:Ti(),triggerRef:d,contentId:Ti(),open:h,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),modal:l,children:g.jsx(GQ,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};GF.displayName=kg;var UF="DropdownMenuTrigger",WF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=BF(UF,n),o=gr(n);return g.jsx(UQ,{asChild:!0,...o,children:g.jsx(Ye.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Jm(e,s.triggerRef),onPointerDown:Se(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Se(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});WF.displayName=UF;var oee="DropdownMenuPortal",HF=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gr(e);return g.jsx(WQ,{...r,...n})};HF.displayName=oee;var XF="DropdownMenuContent",KF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=BF(XF,n),s=gr(n),o=_.useRef(!1);return g.jsx(HQ,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Se(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Se(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KF.displayName=XF;var aee="DropdownMenuGroup",lee=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(XQ,{...i,...r,ref:e})});lee.displayName=aee;var cee="DropdownMenuLabel",YF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(KQ,{...i,...r,ref:e})});YF.displayName=cee;var uee="DropdownMenuItem",ZF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(YQ,{...i,...r,ref:e})});ZF.displayName=uee;var dee="DropdownMenuCheckboxItem",qF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(ZQ,{...i,...r,ref:e})});qF.displayName=dee;var hee="DropdownMenuRadioGroup",fee=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(qQ,{...i,...r,ref:e})});fee.displayName=hee;var mee="DropdownMenuRadioItem",JF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(JQ,{...i,...r,ref:e})});JF.displayName=mee;var gee="DropdownMenuItemIndicator",QF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(QQ,{...i,...r,ref:e})});QF.displayName=gee;var pee="DropdownMenuSeparator",ej=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(eee,{...i,...r,ref:e})});ej.displayName=pee;var yee="DropdownMenuArrow",vee=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(tee,{...i,...r,ref:e})});vee.displayName=yee;var xee="DropdownMenuSubTrigger",tj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(nee,{...i,...r,ref:e})});tj.displayName=xee;var _ee="DropdownMenuSubContent",nj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(ree,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nj.displayName=_ee;var wee=GF,Cee=WF,See=HF,rj=KF,ij=YF,sj=ZF,oj=qF,aj=JF,lj=QF,cj=ej,uj=tj,dj=nj;const bee=wee,Eee=Cee,Ree=_.forwardRef(({className:t,inset:e,children:n,...r},i)=>g.jsxs(uj,{ref:i,className:Ve("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,g.jsx(LT,{className:"ml-auto"})]}));Ree.displayName=uj.displayName;const Tee=_.forwardRef(({className:t,...e},n)=>g.jsx(dj,{ref:n,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));Tee.displayName=dj.displayName;const hj=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(See,{children:g.jsx(rj,{ref:r,sideOffset:e,className:Ve("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));hj.displayName=rj.displayName;const kl=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(sj,{ref:r,className:Ve("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));kl.displayName=sj.displayName;const Pee=_.forwardRef(({className:t,children:e,checked:n,...r},i)=>g.jsxs(oj,{ref:i,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(lj,{children:g.jsx(ic,{className:"h-4 w-4"})})}),e]}));Pee.displayName=oj.displayName;const kee=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(aj,{ref:r,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(lj,{children:g.jsx(MV,{className:"h-2 w-2 fill-current"})})}),e]}));kee.displayName=aj.displayName;const Aee=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(ij,{ref:r,className:Ve("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Aee.displayName=ij.displayName;const Xv=_.forwardRef(({className:t,...e},n)=>g.jsx(cj,{ref:n,className:Ve("-mx-1 my-1 h-px bg-muted",t),...e}));Xv.displayName=cj.displayName;function Mee({table:t=null,filename:e="data",entityType:n}){const r=(l,c)=>{const d=window.URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download=c,document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(d),Tt.success("Archivo exportado correctamente.")},i=async l=>{let c=[];if(l==="selected"&&t&&(c=t.getSelectedRowModel().rows.map(h=>h.original.id||h.original.animal_id),c.length===0)){Tt.warning("No hay filas seleccionadas para exportar.",{description:"Por favor, selecciona al menos una fila.",icon:g.jsx(aa,{className:"h-4 w-4 text-orange-500"})});return}const d={globalFilter:t?t.getState().globalFilter:null,ids:c};try{let h;if(n==="animals")h=await z6(l,d);else if(n==="collares")h=await t7(l,d);else throw new Error("Tipo de entidad no soportado para exportacin.");r(h,`${e}_${l}.csv`)}catch(h){console.error(`Error al exportar ${n} (${l}):`,h),Tt.error(`Error al exportar ${n}.`,{description:h.message,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},s=async()=>{try{let l;if(n==="animals")l=await eA();else if(n==="collares")l=await MM();else throw new Error("Tipo de entidad no soportado para plantilla.");r(l,`plantilla_${n}.csv`)}catch(l){console.error(`Error al descargar plantilla de ${n}:`,l),Tt.error("Error al descargar la plantilla.",{description:l.message,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},o=t&&typeof t=="object"&&t.getFilteredRowModel&&t.getRowModel&&t.getSelectedRowModel;return g.jsxs(bee,{children:[g.jsx(Eee,{asChild:!0,children:g.jsxs(it,{className:"gap-2 bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(NV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Exportar"})]})}),g.jsxs(hj,{align:"end",className:"w-[180px] bg-white",children:[g.jsx(kl,{onClick:()=>i("all"),children:"Exportar Todo"}),o&&g.jsxs(g.Fragment,{children:[g.jsx(kl,{onClick:()=>i("filtered"),children:"Exportar Filtrado"}),g.jsx(kl,{onClick:()=>i("page"),children:"Exportar Pgina"}),t.getIsSomeRowsSelected()||t.getIsAllRowsSelected()?g.jsxs(g.Fragment,{children:[g.jsx(Xv,{}),g.jsxs(kl,{onClick:()=>i("selected"),children:["Exportar Seleccionado (",t.getSelectedRowModel().rows.length,")"]})]}):null]}),g.jsx(Xv,{}),g.jsxs(kl,{onClick:s,className:"flex items-center gap-2",children:[g.jsx(VT,{className:"h-4 w-4 text-blue-600"})," Descargar Plantilla"]})]})]})}function Iee({entityType:t,onImportSuccess:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(null),h=y=>{const x=y.target.files?y.target.files[0]:null;s(x),d(null)},f=async()=>{if(!i){Tt.error("Por favor, selecciona un archivo CSV para importar.");return}l(!0),d(null);try{let y;if(t==="animals")y=await $6(i);else if(t==="collares")y=await n7(i);else throw new Error("Tipo de entidad no soportado para importacin.");d(y),y.status==="success"?(Tt.success("Importacin completada con xito.",{description:y.message,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})}),r(!1),s(null),e&&e()):y.status==="partial_success"?Tt.warning("Importacin completada con algunos errores.",{description:y.message,icon:g.jsx(aa,{className:"h-4 w-4 text-orange-500"}),duration:5e3}):Tt.error("La importacin fall.",{description:y.message||"Ocurri un error inesperado en el servidor.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}catch(y){console.error(`Error al importar ${t}:`,y),Tt.error("Error al iniciar la importacin.",{description:y.message,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})}),d({summary:{total_processed:0,created:0,updated:0,errors_count:1},errors:[{row:"N/A",errors:[{field:"Archivo",value:i==null?void 0:i.name,message:y.message}]}]})}finally{l(!1)}},p=async()=>{l(!0);try{let y;if(t==="animals")y=await eA();else if(t==="collares")y=await MM();else throw new Error("Tipo de entidad no soportado para plantilla.");const x=window.URL.createObjectURL(y),w=document.createElement("a");w.href=x,w.download=`plantilla_${t}.csv`,document.body.appendChild(w),w.click(),w.remove(),window.URL.revokeObjectURL(x),Tt.success(`Plantilla de ${t} descargada correctamente.`)}catch(y){console.error(`Error al descargar plantilla de ${t}:`,y),Tt.error("Error al descargar la plantilla.",{description:y.message,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}finally{l(!1)}};return g.jsxs(qN,{open:n,onOpenChange:r,children:[g.jsx(JN,{asChild:!0,children:g.jsxs(it,{className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(AS,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Importar"})]})}),g.jsxs(_w,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(ww,{children:[g.jsxs(Cw,{className:"flex items-center gap-2",children:[g.jsx(AS,{className:"h-6 w-6 text-yellow-700"})," Importar ",t==="animals"?"Animales":"Collares"]}),g.jsxs(tF,{children:["Sube un archivo CSV para importar o actualizar ",t==="animals"?"animales":"collares",".",g.jsxs(it,{variant:"link",onClick:p,className:"p-0 h-auto text-blue-600 hover:text-blue-800 flex items-center justify-start",disabled:o,children:[g.jsx(VT,{className:"h-4 w-4 mr-1"})," Descargar Plantilla"]})]})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[g.jsx(xg,{htmlFor:"file",className:"text-right",children:"Archivo CSV"}),g.jsx(tn,{id:"file",type:"file",accept:".csv",onChange:h,className:"col-span-3",disabled:o})]}),i&&g.jsx("p",{className:"text-sm text-muted-foreground text-center",children:g.jsx("span",{className:"font-semibold",children:i.name})}),c&&g.jsxs("div",{className:"mt-4 p-4 border rounded-md bg-gray-50",children:[g.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Resumen de Importacin"}),g.jsxs("p",{className:"text-sm",children:["Total procesados: ",c.summary.total_processed]}),g.jsxs("p",{className:"text-sm",children:["Creados: ",c.summary.created]}),g.jsxs("p",{className:"text-sm",children:["Actualizados: ",c.summary.updated]}),g.jsxs("p",{className:"text-sm font-semibold",children:["Errores: ",c.summary.errors_count]}),c.errors_count>0&&g.jsxs("div",{className:"mt-4",children:[g.jsxs("h5",{className:"font-semibold text-sm text-red-600 mb-2 flex items-center gap-1",children:[g.jsx(ZV,{className:"h-4 w-4"})," Detalles de Errores:"]}),g.jsx(Rg,{className:"h-40 border rounded-md p-2 bg-white",children:c.errors.map((y,x)=>g.jsxs("div",{className:"mb-2 text-xs text-red-700 border-b pb-1 last:border-b-0",children:[g.jsxs("p",{className:"font-bold",children:["Fila ",y.row,":"]}),g.jsx("ul",{className:"list-disc pl-4",children:y.errors.map((w,C)=>g.jsxs("li",{children:[g.jsxs("span",{className:"font-medium",children:[w.field,":"]})," ",w.message,' (Valor: "',w.value,'")']},C))})]},x))})]})]})]}),g.jsxs(eF,{className:"flex flex-col sm:flex-row justify-between sm:space-x-2",children:[g.jsx(it,{variant:"outline",onClick:()=>{r(!1),s(null),d(null)},className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:"Cerrar"}),g.jsxs(it,{onClick:f,disabled:!i||o,variant:"default",className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[o&&g.jsx(JV,{className:"mr-2 h-4 w-4 animate-spin"}),"Importar Archivo"]})]})]})]})}const Nee=$_({identificadorBase:Ts().min(1,"El identificador base es obligatorio.").max(4,"El identificador no puede exceder 4 caracteres."),cantidad:Wn.number().int().min(1,"La cantidad debe ser al menos 1.").max(500,"Mximo 500 collares por lote.")}),Fee=(t,e)=>{const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(sc,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(ix,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(sx,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(Fu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(bV,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(Fu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batera";break;case"defectuoso":i=g.jsx(Vn,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(qx,{className:Ve("flex items-center gap-1 px-2.5 py-1 rounded-md text-xs font-medium whitespace-nowrap max-w-[70%] truncate",o),children:[i,s]})};function jee({collares:t=[],onCreateBatch:e,onDelete:n,onEditCollar:r,fullCollarDataForExport:i=[],onImportSuccess:s,globalFilter:o,setGlobalFilter:l,rowSelection:c,setRowSelection:d,sorting:h,setSorting:f,pagination:p,setPagination:y,columnVisibility:x,setColumnVisibility:w}){const C=O_({resolver:V_(Nee),defaultValues:{identificadorBase:"",cantidad:1}}),b=_.useCallback(G=>{e(G.identificadorBase,G.cantidad),C.reset({identificadorBase:"",cantidad:1})},[e,C]),R=_.useMemo(()=>[{accessorKey:"id"},{accessorKey:"codigo"},{accessorKey:"prefijo"},{accessorKey:"estado"},{accessorKey:"bateria"},{accessorKey:"animal_id"},{accessorKey:"animal_nombre"}],[]),T=yN({data:t,columns:R,state:{globalFilter:o,rowSelection:c,sorting:h,pagination:p,columnVisibility:x},onGlobalFilterChange:l,onRowSelectionChange:d,onSortingChange:f,onPaginationChange:y,onColumnVisibilityChange:w,getCoreRowModel:dN(),getFilteredRowModel:mN(),getPaginationRowModel:gN(),getSortedRowModel:pN(),enableRowSelection:!0,globalFilterFn:(G,V,H)=>{var D,j,U;const B=String(H).toLowerCase(),X=((D=G.original.codigo)==null?void 0:D.toLowerCase())||"",Z=((j=G.original.estado)==null?void 0:j.toLowerCase())||"",Y=((U=G.original.animal_nombre)==null?void 0:U.toLowerCase())||"";return X.includes(B)||Z.includes(B)||Y.includes(B)}}),P=T.getRowModel().rows,k=_.useCallback(()=>{d({})},[]),M=_.useCallback(()=>{T.getIsAllPageRowsSelected()?T.toggleAllPageRowsSelected(!1):T.toggleAllPageRowsSelected(!0)},[T]),F=_.useCallback(()=>T.getIsAllPageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx(zs,{className:"h-4 w-4"}),variant:"outline"}:T.getIsSomePageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx($T,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Pgina",icon:g.jsx(ic,{className:"h-4 w-4"}),variant:"outline"},[T]),I=T.getState().globalFilter||T.getAllColumns().some(G=>G.getIsFiltered()),z=F();return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(RV,{className:"h-5 w-5 text-purple-600"}),"Registrar Nuevos Collares"]}),g.jsx(uw,{...C,children:g.jsxs("form",{onSubmit:C.handleSubmit(b),className:"flex flex-col md:flex-row md:items-end gap-4 flex-wrap",children:[g.jsx($t,{control:C.control,name:"identificadorBase",render:({field:G})=>g.jsxs(It,{className:"flex-grow min-w-[160px]",children:[g.jsx(Xt,{children:"Identificador Base"}),g.jsx(Nt,{children:g.jsx(tn,{placeholder:"Ej. AFGH",...G,className:C.formState.errors.identificadorBase?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(Kt,{})]})}),g.jsx($t,{control:C.control,name:"cantidad",render:({field:G})=>g.jsxs(It,{className:"w-full sm:w-40",children:[g.jsx(Xt,{children:"Cantidad"}),g.jsx(Nt,{children:g.jsx(tn,{type:"number",placeholder:"Ej. 100",...G,onChange:V=>G.onChange(V.target.value===""?"":Number(V.target.value)),className:C.formState.errors.cantidad?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(Kt,{})]})}),g.jsxs(it,{type:"submit",className:"flex-shrink-0 gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-sm h-10 px-4",children:[g.jsx(VV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Crear Collares"})]})]})})]}),g.jsx(vF,{}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(I4,{className:"h-5 w-5 text-purple-600"}),"Collares Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(vN,{globalFilter:o,setGlobalFilter:l}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[T.getFilteredRowModel().rows.length>0&&g.jsxs(it,{onClick:M,variant:z.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[z.icon," ",g.jsx("span",{className:"hidden lg:inline",children:z.text})]}),I&&g.jsxs(it,{onClick:()=>{T.resetGlobalFilter(),T.getAllColumns().forEach(G=>G.setFilterValue(void 0)),d({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(Vn,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),g.jsx(Mee,{table:T,filename:"collares",entityType:"collares"}),g.jsx(Iee,{entityType:"collares",onImportSuccess:s})]})]}),g.jsx(Rg,{className:"max-h-[80vh] w-full overflow-y-auto border rounded-xl p-3 bg-gray-50",children:P.length===0?g.jsxs("div",{className:"text-center text-gray-500 py-12",children:[g.jsx(w0,{className:"h-10 w-10 mx-auto mb-3 text-gray-400"}),g.jsx("p",{className:"text-lg font-medium",children:t.length>0&&T.getState().globalFilter?"No se encontraron collares con los filtros aplicados.":t.length>0?"No hay collares en esta pgina con la paginacin actual.":"No hay collares registrados."}),g.jsx("p",{className:"text-sm",children:t.length>0&&T.getState().globalFilter?"Intenta ajustar tu bsqueda.":t.length>0?"Ajusta las filas por pgina o navega a otra pgina.":"Utiliza el formulario de arriba para aadir uno."})]}):g.jsx("ul",{className:"grid w-full grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:P.map(G=>{const V=G.original,H=G.getIsSelected();return g.jsxs("li",{className:Ve("flex flex-col justify-between p-4 rounded-md bg-white border shadow-sm hover:shadow-md transition-shadow duration-150 min-h-[120px] cursor-pointer relative",H?"border-blue-500 ring-2 ring-blue-500 bg-blue-50":"border-gray-200"),onClick:G.getToggleSelectedHandler(),children:[g.jsxs("div",{className:"space-y-1 mb-2",children:[g.jsx("div",{className:"font-semibold text-gray-900 text-base flex items-center gap-2",children:g.jsxs("span",{children:["Cdigo: ",V.codigo]})}),g.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:V.animal_nombre?g.jsxs("span",{className:"flex items-center gap-1",children:["Asignado a: ",g.jsx("b",{className:"text-blue-700",children:V.animal_nombre})]}):g.jsx("span",{className:"text-muted-foreground italic",children:"No asignado"})})]}),g.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 mt-2",children:[Fee(V.estado,V.bateria),g.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[g.jsx(it,{size:"icon",variant:"ghost",onClick:B=>{B.stopPropagation(),r(V.id)},title:"Editar collar",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:g.jsx(lx,{className:"h-4 w-4"})}),g.jsx(it,{size:"icon",variant:"ghost",onClick:B=>{B.stopPropagation(),n(V)},title:"Eliminar collar",className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:g.jsx(la,{className:"h-4 w-4"})})]})]})]},V.id)})})}),g.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mt-4",children:[g.jsx(_N,{table:T}),Object.keys(c).length>0&&g.jsxs(it,{onClick:k,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(w0,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Deseleccionar Todo"})]}),g.jsx(wN,{table:T})]})]})]})}const Cs=Dq(),fj="animalTableState";function xf(){try{const t=JSON.parse(sessionStorage.getItem(fj));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnVisibility:{},rowSelection:{}}}}const mj="collarTableState";function _f(){try{const t=JSON.parse(sessionStorage.getItem(mj));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnVisibility:{},rowSelection:{}}}}function Lee(){var jt,ht,$n;const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState({tipos:[],razas:[],sexos:[],parcelas:[],especies:[],estados_reproductivos:[]}),[c,d]=_.useState([]),[h,f]=_.useState({}),[p,y]=_.useState({}),[x,w]=_.useState(!1),[C,b]=_.useState(!1),[R,T]=_.useState(!1),[P,k]=_.useState({abierto:!1,animalId:null}),[M,F]=_.useState([]),[I,z]=_.useState(null),[G,V]=_.useState({abierto:!1,animal:null}),[H,B]=_.useState({abierto:!1,collar:null}),X=_.useRef(null),Z=_.useRef(null),Y=_.useRef({animals:0,collares:0}),[D,j]=_.useState(xf().globalFilter),[U,q]=_.useState(xf().sorting),[N,L]=_.useState(xf().pagination),[re,se]=_.useState(xf().columnVisibility),[ce,ge]=_.useState({}),[ae,pe]=_.useState(_f().globalFilter),[_e,Re]=_.useState(_f().sorting),[$e,Be]=_.useState(_f().pagination),[yt,mt]=_.useState(_f().columnVisibility),[Gt,Dt]=_.useState({}),ft=_.useCallback(async()=>{X.current&&(Y.current.animals=X.current.scrollTop),Z.current&&(Y.current.collares=Z.current.scrollTop);try{const[Oe,we,Et,Rt,ln]=await Promise.all([N6(),K9(),Ma(),j6(),e7()]),Lt=new Map;we.forEach(lt=>{lt.animal_id&&Lt.set(lt.animal_id,{id:lt.id,codigo:lt.codigo,estado:lt.estado,bateria:lt.bateria,ultima_actividad:lt.ultima_actividad})});const Ut=Oe.map(lt=>{const gn=Lt.get(lt.animal_id);return{...lt,collar_asignado:gn||null,sexo_nombre:lt.sexo,especie_nombre:lt.especie,tipo_nombre:lt.tipo,raza_nombre:lt.raza,estado_reproductivo_nombre:lt.estado_reproductivo_nombre,parcela_nombre:lt.parcela_nombre,fecha_nacimiento:lt.fecha_nacimiento}});e(Ut),r(we);const Sn=Object.values(Et.parcelas||{}).flat();s(Sn),l(Rt),d(ln)}catch(Oe){console.error("Error al cargar datos iniciales:",Oe),Tt.error("Error al cargar los datos.",{description:"Por favor, intente recargar la pgina.",icon:g.jsx(aa,{className:"h-4 w-4 text-red-500"})})}finally{X.current&&(X.current.scrollTop=Y.current.animals),Z.current&&(Z.current.scrollTop=Y.current.collares)}},[]);_.useEffect(()=>{ft()},[ft]);const zn=()=>{f({}),w(!1),b(!0)},_t=_.useCallback(async Oe=>{var we,Et,Rt,ln,Lt,Ut,Sn,lt,gn,ai;try{const be=await L6(Oe),dt={...be,parcela_id:((we=be.parcela_id)==null?void 0:we.toString())||"",raza_id:be.raza_id!=null?be.raza_id.toString():"",sexo_id:be.sexo_id!=null?be.sexo_id:1,tipo_id:be.tipo_id!=null?be.tipo_id.toString():"",especie_id:be.especie_id!=null?be.especie_id.toString():"",estado_reproductivo_id:be.estado_reproductivo_id!=null?be.estado_reproductivo_id.toString():"",peso:((Et=be.peso)==null?void 0:Et.toString())||"",altura_cruz:((Rt=be.altura_cruz)==null?void 0:Rt.toString())||"",longitud_tronco:((ln=be.longitud_tronco)==null?void 0:ln.toString())||"",perimetro_toracico:((Lt=be.perimetro_toracico)==null?void 0:Lt.toString())||"",ancho_grupa:((Ut=be.ancho_grupa)==null?void 0:Ut.toString())||"",longitud_grupa:((Sn=be.longitud_grupa)==null?void 0:Sn.toString())||"",numero_partos:((lt=be.numero_partos)==null?void 0:lt.toString())||"",intervalo_partos:((gn=be.intervalo_partos)==null?void 0:gn.toString())||"",fertilidad:((ai=be.fertilidad)==null?void 0:ai.toString())||"50",fecha_nacimiento:be.fecha_nacimiento?new Date(be.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:be.ubicacion_sensor||""};f(dt),w(!0),b(!0)}catch(be){console.error("Error al cargar ficha de animal:",be),Tt.error("No se pudo cargar la ficha del animal.",{description:"Por favor, intente de nuevo.",icon:g.jsx(aa,{className:"h-4 w-4 text-red-500"})})}},[]),$=async Oe=>{try{x?(await O6(Oe.animal_id,Oe),Tt.success("Animal actualizado.",{description:`Los datos de ${Oe.nombre} han sido guardados.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})})):(await D6(Oe),Tt.success("Animal creado.",{description:`El animal ${Oe.nombre} ha sido aadido.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})})),b(!1),f({}),(x||Object.keys(h).length>0)&&await ft()}catch(we){console.error("Error al guardar animal:",we),Tt.error("Error al guardar el animal.",{description:we.message||"Hubo un problema al procesar la solicitud.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},J=async()=>{if(G.animal)try{await V6(G.animal.animal_id),Tt.success("Animal eliminado.",{description:`${G.animal.nombre} ha sido eliminado correctamente.`,icon:g.jsx(la,{className:"h-4 w-4 text-red-500"})}),V({abierto:!1,animal:null}),await ft()}catch(Oe){console.error("Error al eliminar animal:",Oe),Tt.error("Error al eliminar el animal.",{description:Oe.message||"No se pudo completar la eliminacin. Si est asignado a un collar, se desvincular automticamente.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},te=async(Oe,we)=>{try{await q9({identificador:Oe,cantidad:we}),Tt.success("Collares creados.",{description:`Se han registrado ${we} collares con identificador ${Oe}.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})}),await ft()}catch(Et){console.error("Error al crear collares en lote:",Et),Tt.error("Error al crear collares.",{description:Et.message||"Hubo un problema al procesar la solicitud de creacin masiva.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},fe=Oe=>{B({abierto:!0,collar:Oe})},he=async()=>{if(H.collar)try{await Z9(H.collar.id),Tt.success("Collar eliminado.",{description:`El collar con cdigo ${H.collar.codigo} ha sido eliminado.`,icon:g.jsx(la,{className:"h-4 w-4 text-red-500"})}),B({abierto:!1,collar:null}),await ft()}catch(Oe){console.error("Error al eliminar collar:",Oe),Tt.error("Error al eliminar el collar.",{description:Oe.message||"No se pudo completar la eliminacin. Si est asignado, se desvincular automticamente.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},ie=_.useCallback(async Oe=>{try{const we=await Q9(Oe);y({collar_id:we.id,codigo:we.codigo,estado:we.estado,bateria:we.bateria,animal_id:we.animal_id!=null?we.animal_id.toString():"UNASSIGNED",original_animal_id:we.animal_id!=null?we.animal_id.toString():"UNASSIGNED",original_estado:we.estado}),T(!0)}catch(we){console.error("Error al cargar detalles del collar:",we),Tt.error("No se pudo cargar la ficha del collar.",{description:"Verifique la conexin o intente de nuevo.",icon:g.jsx(aa,{className:"h-4 w-4 text-red-500"})})}},[]),ye=async Oe=>{try{const{collar_id:we,animal_id:Et,original_animal_id:Rt,original_estado:ln,...Lt}=Oe;let Ut=!1;const Sn=Lt.estado!==ln,lt=Lt.bateria!==p.bateria;(Sn||lt)&&(await J9(we,{estado:Lt.estado,bateria:Lt.bateria}),Ut=!0,Tt.success("Collar actualizado.",{description:`Los datos del collar ${Oe.codigo} han sido guardados.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})})),Et!==Rt?(await dR(we,Et==="UNASSIGNED"?null:Et),Ut=!0,Tt.success("Asignacin de collar actualizada.",{description:`La asignacin del collar ${Oe.codigo} ha sido modificada.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})})):!Sn&&!lt&&Tt.info("No se detectaron cambios en el collar.",{description:"No se realiz ninguna actualizacin.",icon:g.jsx(sc,{className:"h-4 w-4 text-blue-500"})}),Ut&&await ft(),T(!1),y({})}catch(we){console.error("Error al guardar collar:",we);const Et=we.message||"Hubo un problema al procesar la solicitud.";Tt.error("Error al guardar el collar.",{description:Et,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},De=_.useCallback(async Oe=>{try{const we=await Y9();F(we),z(null),k({abierto:!0,animalId:Oe})}catch(we){console.error("Error al cargar collares disponibles:",we),Tt.error("No se pudieron cargar collares disponibles para asignar.",{description:"Por favor, intente de nuevo.",icon:g.jsx(aa,{className:"h-4 w-4 text-red-500"})})}},[]),ze=async()=>{if(!I||!P.animalId){Tt.error("Debe seleccionar un collar para asignar.",{icon:g.jsx(aa,{className:"h-4 w-4 text-red-500"})});return}try{await dR(parseInt(I),P.animalId),Tt.success("Collar asignado.",{description:`Collar ${I} asignado al animal.`,icon:g.jsx(ia,{className:"h-4 w-4 text-green-500"})}),k({abierto:!1,animalId:null}),z(null),await ft()}catch(Oe){console.error("Error al asignar collar:",Oe),Tt.error("Error al asignar el collar.",{description:Oe.message||"Hubo un problema al procesar la asignacin.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},wt=_.useMemo(()=>{var Oe;return[Cs.accessor("numero_identificacion",{header:"ID"}),Cs.accessor("nombre",{header:"Nombre"}),Cs.accessor(we=>we.collar_asignado?we.collar_asignado.codigo:null,{id:"collar_info",header:"Collar",cell:({row:we})=>{const Et=we.original;return Et.collar_asignado?g.jsx(it,{onClick:Rt=>{Rt.stopPropagation(),ie(Et.collar_asignado.id)},className:"gap-2 h-auto bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto hover:underline",children:Et.collar_asignado.codigo}):g.jsxs(it,{onClick:Rt=>{Rt.stopPropagation(),De(Et.animal_id)},className:"gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(PS,{className:"h-3 w-3"})," ",g.jsx("span",{className:"hidden md:inline",children:"Asignar"})]})},filterFn:(we,Et,Rt)=>{var Lt;const ln=(Lt=we.original.collar_asignado)==null?void 0:Lt.codigo;return ln?ln.toLowerCase().startsWith(Rt.toLowerCase()):!1}}),Cs.accessor(we=>we.parcela?we.parcela:"-",{id:"parcela",header:"Parcela",enableColumnFilter:!0,meta:{filterOptions:o.parcelas.map(we=>we.nombre)}}),Cs.accessor(we=>we.especie?we.especie:"-",{id:"especie",header:"Especie",enableColumnFilter:!0,meta:{filterOptions:o.especies.map(we=>we.nombre)}}),Cs.accessor(we=>we.raza?we.raza:"-",{id:"raza",header:"Raza",enableColumnFilter:!0,meta:{filterOptions:o.razas.map(we=>we.nombre)}}),Cs.accessor(we=>we.tipo?we.tipo:"-",{id:"tipo",header:"Tipo",enableColumnFilter:!0,meta:{filterOptions:o.tipos.map(we=>we.nombre)}}),Cs.accessor(we=>we.sexo?we.sexo:"-",{id:"sexo",header:"Sexo",enableColumnFilter:!0,meta:{filterOptions:(Oe=o.sexos)==null?void 0:Oe.map(we=>we.nombre)}}),Cs.display({id:"acciones",header:"Funciones",enableColumnFilter:!1,cell:({row:we,table:Et})=>g.jsxs("div",{className:"flex gap-2 justify-center",children:[g.jsxs(it,{size:"icon",variant:"ghost",onClick:Rt=>{Rt.stopPropagation(),_t(we.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:[g.jsx(lx,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Editar animal"})]}),g.jsxs(it,{size:"icon",variant:"ghost",onClick:Rt=>{Rt.stopPropagation(),V({abierto:!0,animal:we.original})},className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:[g.jsx(la,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Eliminar animal"})]}),!Et.options.meta.showExpandableRows&&g.jsx(it,{size:"icon",variant:"ghost",onClick:Rt=>{Rt.stopPropagation(),we.toggleExpanded()},className:"text-gray-500 hover:bg-gray-100","aria-label":we.getIsExpanded()?"Colapsar detalles":"Expandir detalles",children:we.getIsExpanded()?g.jsx(ox,{className:"h-5 w-5"}):g.jsx(dd,{className:"h-5 w-5"})})]})})]},[o,_t,ie,De]);return _.useEffect(()=>{sessionStorage.setItem(fj,JSON.stringify({globalFilter:D,sorting:U,pagination:N,columnVisibility:re}))},[D,U,N,re]),_.useEffect(()=>{sessionStorage.setItem(mj,JSON.stringify({globalFilter:ae,sorting:_e,pagination:$e,columnVisibility:yt}))},[ae,_e,$e,yt]),g.jsxs("div",{className:"p-6 sm:p-8 md:p-10 lg:p-12 xl:p-16 bg-gray-50 min-h-screen",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:[g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(jT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-blue-600 mr-2 sm:mr-3 align-middle"}),"Gestin de Animales"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:[g.jsxs(it,{onClick:ft,variant:"outline",className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[g.jsx(P4,{className:"h-4 w-4"})," Recargar Datos"]}),g.jsxs(it,{onClick:zn,className:"gap-2 bg-blue-600 hover:bg-blue-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(PS,{className:"h-4 w-4"})," Nuevo Animal"]})]})]}),g.jsx("div",{className:"gap-4 sm:gap-6 lg:gap-8",children:g.jsx(Ov,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(Vv,{className:"p-4",ref:X,children:g.jsx(dQ,{data:t,columns:wt,exportFilename:"animales",fullData:t,onRowClick:Oe=>console.log("Seleccionado:",Oe.numero_identificacion),onEditRow:_t,onDeleteRow:Oe=>V({abierto:!0,animal:Oe}),globalFilter:D,setGlobalFilter:j,rowSelection:ce,setRowSelection:ge,sorting:U,setSorting:q,pagination:N,setPagination:L,columnVisibility:re,setColumnVisibility:se})})})}),g.jsx("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(GT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-purple-600 mr-2 sm:mr-3 align-middle"}),"Gestin de Collares"]})}),g.jsx("div",{className:"mb-4 gap-4 sm:gap-6 lg:gap-8",children:g.jsx(Ov,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(Vv,{ref:Z,children:g.jsx(jee,{collares:n,onCreateBatch:te,onDelete:fe,onEditCollar:ie,fullCollarDataForExport:n,collarStatesOptions:c,onImportSuccess:ft,globalFilter:ae,setGlobalFilter:pe,rowSelection:Gt,setRowSelection:Dt,sorting:_e,setSorting:Re,pagination:$e,setPagination:Be,columnVisibility:yt,setColumnVisibility:mt})})})}),g.jsx(ua,{isOpen:C,size:"xxxxl",children:g.jsx(rq,{animal:h,modoEdicion:x,parcelas:i,animalOptions:o,onCancel:()=>b(!1),onSave:$})}),g.jsx(ua,{isOpen:R,size:"xl",children:g.jsx(sq,{collar:p,animals:t,collarStatesOptions:c,onCancel:()=>T(!1),onSave:ye})}),g.jsx(ua,{isOpen:P.abierto,title:`Asignar Collar a ${P.animalId?(jt=t.find(Oe=>Oe.animal_id===P.animalId))==null?void 0:jt.nombre:"animal desconocido"}`,description:"Selecciona un collar disponible para asignar a este animal.",onCancel:()=>{k({abierto:!1,animalId:null}),z(null)},onConfirm:ze,confirmText:"Asignar Collar",confirmColor:"bg-purple-600 hover:bg-purple-700",cancelText:"Cancelar",icon:g.jsx(XV,{className:"h-6 w-6 text-purple-500"}),size:"sm",message:g.jsx("div",{className:"p-4 space-y-4",children:g.jsxs("div",{children:[g.jsx(xg,{htmlFor:"collar-select",className:"mb-2 block text-sm font-medium text-gray-700",children:"Seleccionar Collar"}),g.jsxs(wi,{onValueChange:z,value:I||"",disabled:M.length===0,children:[g.jsx(ei,{className:"w-full",children:g.jsx(Ci,{placeholder:M.length===0?"No hay collares disponibles":"Seleccionar collar"})}),g.jsx(ti,{children:M.length===0?g.jsx(Pn,{value:"no-available",disabled:!0,children:"No hay collares disponibles"}):M.map(Oe=>g.jsxs(Pn,{value:Oe.id.toString(),children:[Oe.codigo," (Batera: ",Oe.bateria,"%, Estado: ",Oe.estado,")"]},Oe.id))})]}),M.length===0&&g.jsx("p",{className:"text-sm text-red-500 mt-2",children:"No hay collares con estado 'disponible' para asignar."})]})})}),g.jsx(ua,{isOpen:H.abierto,title:"Confirmar Eliminacin de Collar",onConfirm:he,onCancel:()=>B({abierto:!1,collar:null}),confirmText:"Eliminar Collar",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(la,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["Ests seguro de que quieres eliminar el collar ",g.jsx("span",{className:"font-bold text-red-600",children:(ht=H.collar)==null?void 0:ht.codigo}),"?",g.jsx("br",{}),"Si este collar est asignado a un animal, se desvincular automticamente."]})}),g.jsx(ua,{isOpen:G.abierto,title:"Confirmar Eliminacin de Animal",onConfirm:J,onCancel:()=>V({abierto:!1,animal:null}),confirmText:"Eliminar Animal",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(la,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["Ests seguro de que quieres eliminar a ",g.jsx("span",{className:"font-bold text-red-600",children:($n=G.animal)==null?void 0:$n.nombre}),"?",g.jsx("br",{}),"Esta accin es irreversible y tambin desvincular cualquier collar asociado."]})})]})}function Dee({mapRef:t}){const e=_.useRef(null),n=_.useRef(!1),r=_.useRef({x:0,y:0}),i=_.useRef(0),s=_.useRef(0),o=.4;_.useEffect(()=>{if(!(t!=null&&t.current))return;const p=t.current.getView(),y=()=>{const x=p.getRotation();e.current&&(e.current.style.transform=`rotate(${-x}rad)`)};return y(),p.on("change:rotation",y),()=>p.un("change:rotation",y)},[t]);const l=(p,y)=>{const x=p-r.current.x,w=r.current.y-y;return Math.atan2(x,w)},c=p=>{if(!t.current)return;n.current=!0;const y=p.currentTarget.getBoundingClientRect();r.current={x:y.left+y.width/2,y:y.top+y.height/2},i.current=t.current.getView().getRotation(),s.current=l(p.clientX,p.clientY),window.addEventListener("mousemove",d),window.addEventListener("mouseup",h)},d=p=>{if(!n.current||!t.current)return;const x=l(p.clientX,p.clientY)-s.current,w=i.current+x*o;t.current.getView().setRotation(w)},h=()=>{n.current=!1,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)},f=()=>{!n.current&&t.current&&t.current.getView().setRotation(0)};return g.jsx("button",{title:"Brjula",className:"bg-white rounded-full p-3 shadow-md transition-transform select-none",onMouseDown:c,onClick:f,children:g.jsx("img",{ref:e,src:"/dist/compass.svg",alt:"Compass",className:"w-6 h-6 transition-transform pointer-events-none"})})}function Oee({mapRef:t,onToggleLayer:e=()=>{},onLocate:n=()=>{},onCenterCampo:r=()=>{}}){const i=_.useRef(null);return _.useEffect(()=>{if(!(t!=null&&t.current))return;const s=t.current.getView(),o=()=>{const l=s.getRotation();i.current&&(i.current.style.transform=`rotate(${-l}rad)`)};return s.on("change:rotation",o),()=>s.un("change:rotation",o)},[t]),g.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-col gap-2",children:[g.jsx("button",{onClick:e,title:"Cambiar capa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(WV,{className:"w-6 h-6 text-gray-800"})}),g.jsx("button",{onClick:r,title:"Centrar en campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(g4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:n,title:"Centrar mapa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(e4,{className:"w-6 h-6 text-gray-800"})}),g.jsx(Dee,{mapRef:t})]})}function Vee({campos:t={},campoId:e="",parcelaId:n="",parcelaNombre:r="",areaParcela:i=0,areaCampo:s=0,selectorOpen:o=!1,setSelectorOpen:l=()=>{},onSelectCampo:c=()=>{},mapRef:d=null}){const h=f=>{const p=t[f];p&&(d!=null&&d.current)&&d.current.getView().animate({center:Ao([p.lon,p.lat]),duration:800,easing:kr}),c(f),l(!1),window.dispatchEvent(new Event("cerrarPopupResumen"))};return _.useEffect(()=>{const f=()=>l(!1);return window.addEventListener("closeCampoSelector",f),()=>window.removeEventListener("closeCampoSelector",f)},[]),g.jsxs("div",{className:"relative","data-testid":"campo-selector",children:[g.jsxs("button",{onClick:()=>{l(f=>{const p=!f;return p&&window.dispatchEvent(new Event("closeForm")),p})},className:"flex items-center px-4 py-2 bg-black/60 backdrop-blur-md rounded-full shadow-lg text-white text-sm hover:bg-black/70 transition-all max-w-full",children:[g.jsxs("div",{className:"flex flex-col items-center min-w-[120px] max-w-[150px]",children:[g.jsx("span",{className:"text-xs text-gray-300 truncate",children:e&&t[e]?t[e].nombre:"Creando nuevo campo"}),n&&e?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-center gap-1 flex-wrap",children:[g.jsx(ax,{size:14,className:"text-cyan-400"}),g.jsx("span",{className:"text-sm truncate",children:r})]}),g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(i/1e4).toFixed(2)," ha"]})]}):e&&t[e]?g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(s/1e4).toFixed(2)," ha"]}):g.jsx("span",{className:"text-xs text-green-400 mt-0.5",children:"0.00 ha"})]}),g.jsx(dd,{size:16,className:"text-white"})]}),o&&g.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-md shadow-md text-sm overflow-hidden z-20 w-full",children:Object.entries(t).map(([f,p])=>g.jsx("button",{onClick:()=>h(f),disabled:f===e,className:"w-full px-4 py-2 text-left hover:bg-gray-100 disabled:text-gray-400 disabled:italic disabled:cursor-not-allowed",children:p.nombre},f))})]})}function zee(){const{mapRef:t,ready:e}=_.useContext(_d),{campoSeleccionado:n,setCampoSeleccionado:r,lastCampoId:i}=_.useContext(wd),[s,o]=_.useState({}),[l,c]=_.useState({}),[d,h]=_.useState({campo_id:"",parcela_id:"",nombre:"",descripcion:""}),[f,p]=_.useState(0),[y,x]=_.useState(0),[w,C]=_.useState(!1);return _.useEffect(()=>{async function b(){const R=await Ma();o(R.campos),c(R.parcelas);const T=R.campo_preferido_id||Object.keys(R.campos)[0],P=n??i??T;if(P){r(P),h(F=>({...F,campo_id:P}));const k=R.campos[P],M=_G("map",[k.lat,k.lon]);t.current=M}}b()},[]),_.useEffect(()=>{const b=()=>C(!1);return window.addEventListener("closeCampoSelector",b),()=>window.removeEventListener("closeCampoSelector",b)},[]),g.jsxs(g.Fragment,{children:[t.current&&g.jsx(Oee,{mapRef:t,onToggleLayer:()=>{const b=window.osm,R=window.esriSat;b&&R&&(b.setVisible(!b.getVisible()),R.setVisible(!R.getVisible()))},onCenterCampo:()=>{if(!t.current||!n||!s[n])return;const b=s[n];t.current.getView().animate({center:Ao([b.lon,b.lat]),duration:800,easing:kr})},onLocate:()=>{navigator.geolocation&&t.current&&navigator.geolocation.getCurrentPosition(b=>{const R=[b.coords.longitude,b.coords.latitude];t.current.getView().animate({center:Ao(R),duration:800,easing:kr})})}}),g.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:g.jsx(Vee,{campos:s,campoId:n,parcelaId:d.parcela_id,parcelaNombre:d.nombre,areaParcela:y,areaCampo:f,selectorOpen:w,setSelectorOpen:C,onSelectCampo:b=>{r(b),h(R=>({...R,campo_id:b,parcela_id:"",nombre:"",descripcion:""}))},mapRef:t})}),g.jsx(oO,{context:{campos:s,parcelas:l,formData:d,setFormData:h,setCampos:o,setParcelas:c,setAreaParcela:x,setAreaCampo:p}})]})}function hT(){const t=Fi(),{menuOpen:e,setMenuOpen:n}=j3(),r=t.pathname==="/login";return g.jsxs(g.Fragment,{children:[!r&&g.jsx(F3,{menuOpen:e,setMenuOpen:n}),g.jsxs(lO,{children:[g.jsx(Ss,{path:"/login",element:g.jsx(D3,{})}),g.jsx(Ss,{path:"/animales",element:g.jsxs(v0,{children:[" ",g.jsx(Lee,{})," "]})}),g.jsxs(Ss,{element:g.jsx(v0,{children:g.jsx(E6,{children:g.jsx(zee,{})})}),children:[g.jsx(Ss,{path:"/mapa",element:g.jsx(K6,{})}),g.jsx(Ss,{path:"/parcelas",element:g.jsx($9,{})}),g.jsx(Ss,{path:"/campos",element:g.jsx(X9,{})})]}),g.jsx(Ss,{path:"/alertas",element:g.jsx(v0,{children:g.jsx($ee,{label:"Alertas"})})}),g.jsx(Ss,{path:"*",element:g.jsx(RT,{to:"/login",replace:!0})})]}),!r&&g.jsx(L3,{setMenuOpen:n})]})}function $ee({label:t}){return g.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-100",children:g.jsx("h1",{className:"text-3xl font-bold",children:t})})}function v0({children:t}){const{isAuthenticated:e,loading:n}=Nm();return n?g.jsx("div",{className:"text-center text-blue-600 mt-10",children:"Verificando sesin..."}):e?t:g.jsx(RT,{to:"/login",replace:!0})}function Bee(){const{isAuthenticated:t,loading:e}=Nm();return e?g.jsx("div",{className:"p-4 text-green-950",children:"Verificando sesin..."}):t?g.jsxs(R6,{children:[g.jsx(Lq,{richColors:!0,position:"top-right"}),g.jsx(hT,{})]}):g.jsx(hT,{})}gT.createRoot(document.getElementById("root")).render(g.jsx(le.StrictMode,{children:g.jsx(IO,{children:g.jsx(N3,{children:g.jsx(Bee,{})})})}));
