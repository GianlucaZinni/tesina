(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function rx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hf={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function OS(){if(Op)return bl;Op=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:o}}return bl.Fragment=e,bl.jsx=t,bl.jsxs=t,bl}var Lp;function LS(){return Lp||(Lp=1,Hf.exports=OS()),Hf.exports}var F=LS(),Vf={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function DS(){if(Dp)return Ce;Dp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function p(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,C={};function S(A,k,I){this.props=A,this.context=k,this.refs=C,this.updater=I||x}S.prototype.isReactComponent={},S.prototype.setState=function(A,k){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,k,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function T(){}T.prototype=S.prototype;function w(A,k,I){this.props=A,this.context=k,this.refs=C,this.updater=I||x}var R=w.prototype=new T;R.constructor=w,v(R,S.prototype),R.isPureReactComponent=!0;var N=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function X(A,k,I,Q,ee,le){return I=le.ref,{$$typeof:r,type:A,key:k,ref:I!==void 0?I:null,props:le}}function q(A,k){return X(A.type,k,void 0,void 0,void 0,A.props)}function Z(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function ie(A){var k={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(I){return k[I]})}var re=/\/+/g;function se(A,k){return typeof A=="object"&&A!==null&&A.key!=null?ie(""+A.key):k.toString(36)}function oe(){}function ae(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(oe,oe):(A.status="pending",A.then(function(k){A.status==="pending"&&(A.status="fulfilled",A.value=k)},function(k){A.status==="pending"&&(A.status="rejected",A.reason=k)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function te(A,k,I,Q,ee){var le=typeof A;(le==="undefined"||le==="boolean")&&(A=null);var ce=!1;if(A===null)ce=!0;else switch(le){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(A.$$typeof){case r:case e:ce=!0;break;case m:return ce=A._init,te(ce(A._payload),k,I,Q,ee)}}if(ce)return ee=ee(A),ce=Q===""?"."+se(A,0):Q,N(ee)?(I="",ce!=null&&(I=ce.replace(re,"$&/")+"/"),te(ee,k,I,"",function(rt){return rt})):ee!=null&&(Z(ee)&&(ee=q(ee,I+(ee.key==null||A&&A.key===ee.key?"":(""+ee.key).replace(re,"$&/")+"/")+ce)),k.push(ee)),1;ce=0;var Me=Q===""?".":Q+":";if(N(A))for(var pe=0;pe<A.length;pe++)Q=A[pe],le=Me+se(Q,pe),ce+=te(Q,k,I,le,ee);else if(pe=p(A),typeof pe=="function")for(A=pe.call(A),pe=0;!(Q=A.next()).done;)Q=Q.value,le=Me+se(Q,pe++),ce+=te(Q,k,I,le,ee);else if(le==="object"){if(typeof A.then=="function")return te(ae(A),k,I,Q,ee);throw k=String(A),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ce}function L(A,k,I){if(A==null)return A;var Q=[],ee=0;return te(A,Q,"","",function(le){return k.call(I,le,ee++)}),Q}function P(A){if(A._status===-1){var k=A._result;k=k(),k.then(function(I){(A._status===0||A._status===-1)&&(A._status=1,A._result=I)},function(I){(A._status===0||A._status===-1)&&(A._status=2,A._result=I)}),A._status===-1&&(A._status=0,A._result=k)}if(A._status===1)return A._result.default;throw A._result}var K=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function ne(){}return Ce.Children={map:L,forEach:function(A,k,I){L(A,function(){k.apply(this,arguments)},I)},count:function(A){var k=0;return L(A,function(){k++}),k},toArray:function(A){return L(A,function(k){return k})||[]},only:function(A){if(!Z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ce.Component=S,Ce.Fragment=t,Ce.Profiler=a,Ce.PureComponent=w,Ce.StrictMode=i,Ce.Suspense=f,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(A){return O.H.useMemoCache(A)}},Ce.cache=function(A){return function(){return A.apply(null,arguments)}},Ce.cloneElement=function(A,k,I){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Q=v({},A.props),ee=A.key,le=void 0;if(k!=null)for(ce in k.ref!==void 0&&(le=void 0),k.key!==void 0&&(ee=""+k.key),k)!j.call(k,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&k.ref===void 0||(Q[ce]=k[ce]);var ce=arguments.length-2;if(ce===1)Q.children=I;else if(1<ce){for(var Me=Array(ce),pe=0;pe<ce;pe++)Me[pe]=arguments[pe+2];Q.children=Me}return X(A.type,ee,void 0,void 0,le,Q)},Ce.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},Ce.createElement=function(A,k,I){var Q,ee={},le=null;if(k!=null)for(Q in k.key!==void 0&&(le=""+k.key),k)j.call(k,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ee[Q]=k[Q]);var ce=arguments.length-2;if(ce===1)ee.children=I;else if(1<ce){for(var Me=Array(ce),pe=0;pe<ce;pe++)Me[pe]=arguments[pe+2];ee.children=Me}if(A&&A.defaultProps)for(Q in ce=A.defaultProps,ce)ee[Q]===void 0&&(ee[Q]=ce[Q]);return X(A,le,void 0,void 0,null,ee)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(A){return{$$typeof:h,render:A}},Ce.isValidElement=Z,Ce.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:P}},Ce.memo=function(A,k){return{$$typeof:g,type:A,compare:k===void 0?null:k}},Ce.startTransition=function(A){var k=O.T,I={};O.T=I;try{var Q=A(),ee=O.S;ee!==null&&ee(I,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ne,K)}catch(le){K(le)}finally{O.T=k}},Ce.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ce.use=function(A){return O.H.use(A)},Ce.useActionState=function(A,k,I){return O.H.useActionState(A,k,I)},Ce.useCallback=function(A,k){return O.H.useCallback(A,k)},Ce.useContext=function(A){return O.H.useContext(A)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(A,k){return O.H.useDeferredValue(A,k)},Ce.useEffect=function(A,k,I){var Q=O.H;if(typeof I=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(A,k)},Ce.useId=function(){return O.H.useId()},Ce.useImperativeHandle=function(A,k,I){return O.H.useImperativeHandle(A,k,I)},Ce.useInsertionEffect=function(A,k){return O.H.useInsertionEffect(A,k)},Ce.useLayoutEffect=function(A,k){return O.H.useLayoutEffect(A,k)},Ce.useMemo=function(A,k){return O.H.useMemo(A,k)},Ce.useOptimistic=function(A,k){return O.H.useOptimistic(A,k)},Ce.useReducer=function(A,k,I){return O.H.useReducer(A,k,I)},Ce.useRef=function(A){return O.H.useRef(A)},Ce.useState=function(A){return O.H.useState(A)},Ce.useSyncExternalStore=function(A,k,I){return O.H.useSyncExternalStore(A,k,I)},Ce.useTransition=function(){return O.H.useTransition()},Ce.version="19.1.0",Ce}var Np;function qd(){return Np||(Np=1,Vf.exports=DS()),Vf.exports}var D=qd();const NS=rx(D);var qf={exports:{}},Tl={},Zf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function FS(){return Fp||(Fp=1,function(r){function e(L,P){var K=L.length;L.push(P);e:for(;0<K;){var ne=K-1>>>1,A=L[ne];if(0<a(A,P))L[ne]=P,L[K]=A,K=ne;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var P=L[0],K=L.pop();if(K!==P){L[0]=K;e:for(var ne=0,A=L.length,k=A>>>1;ne<k;){var I=2*(ne+1)-1,Q=L[I],ee=I+1,le=L[ee];if(0>a(Q,K))ee<A&&0>a(le,Q)?(L[ne]=le,L[ee]=K,ne=ee):(L[ne]=Q,L[I]=K,ne=I);else if(ee<A&&0>a(le,K))L[ne]=le,L[ee]=K,ne=ee;else break e}}return P}function a(L,P){var K=L.sortIndex-P.sortIndex;return K!==0?K:L.id-P.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var f=[],g=[],m=1,y=null,p=3,x=!1,v=!1,C=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(L){for(var P=t(g);P!==null;){if(P.callback===null)i(g);else if(P.startTime<=L)i(g),P.sortIndex=P.expirationTime,e(f,P);else break;P=t(g)}}function O(L){if(C=!1,N(L),!v)if(t(f)!==null)v=!0,j||(j=!0,se());else{var P=t(g);P!==null&&te(O,P.startTime-L)}}var j=!1,X=-1,q=5,Z=-1;function ie(){return S?!0:!(r.unstable_now()-Z<q)}function re(){if(S=!1,j){var L=r.unstable_now();Z=L;var P=!0;try{e:{v=!1,C&&(C=!1,w(X),X=-1),x=!0;var K=p;try{t:{for(N(L),y=t(f);y!==null&&!(y.expirationTime>L&&ie());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,p=y.priorityLevel;var A=ne(y.expirationTime<=L);if(L=r.unstable_now(),typeof A=="function"){y.callback=A,N(L),P=!0;break t}y===t(f)&&i(f),N(L)}else i(f);y=t(f)}if(y!==null)P=!0;else{var k=t(g);k!==null&&te(O,k.startTime-L),P=!1}}break e}finally{y=null,p=K,x=!1}P=void 0}}finally{P?se():j=!1}}}var se;if(typeof R=="function")se=function(){R(re)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ae=oe.port2;oe.port1.onmessage=re,se=function(){ae.postMessage(null)}}else se=function(){T(re,0)};function te(L,P){X=T(function(){L(r.unstable_now())},P)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(L){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var K=p;p=P;try{return L()}finally{p=K}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(L,P){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=p;p=L;try{return P()}finally{p=K}},r.unstable_scheduleCallback=function(L,P,K){var ne=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,L){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=K+A,L={id:m++,callback:P,priorityLevel:L,startTime:K,expirationTime:A,sortIndex:-1},K>ne?(L.sortIndex=K,e(g,L),t(f)===null&&L===t(g)&&(C?(w(X),X=-1):C=!0,te(O,K-ne))):(L.sortIndex=A,e(f,L),v||x||(v=!0,j||(j=!0,se()))),L},r.unstable_shouldYield=ie,r.unstable_wrapCallback=function(L){var P=p;return function(){var K=p;p=P;try{return L.apply(this,arguments)}finally{p=K}}}}(Kf)),Kf}var Ip;function IS(){return Ip||(Ip=1,Zf.exports=FS()),Zf.exports}var Wf={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function zS(){if(zp)return It;zp=1;var r=qd();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:g,implementation:m}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,It.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(f,g,null,m)},It.flushSync=function(f){var g=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=m,i.d.f()}},It.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},It.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},It.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,y=h(m,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:p,fetchPriority:x}):m==="script"&&i.d.X(f,{crossOrigin:y,integrity:p,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},It.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},It.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,y=h(m,g.crossOrigin);i.d.L(f,m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},It.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},It.requestFormReset=function(f){i.d.r(f)},It.unstable_batchedUpdates=function(f,g){return f(g)},It.useFormState=function(f,g,m){return c.H.useFormState(f,g,m)},It.useFormStatus=function(){return c.H.useHostTransitionStatus()},It.version="19.1.0",It}var Pp;function ax(){if(Pp)return Wf.exports;Pp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wf.exports=zS(),Wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function PS(){if(kp)return Tl;kp=1;var r=IS(),e=qd(),t=ax();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,u=s;;){var d=l.return;if(d===null)break;var _=d.alternate;if(_===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===_.child){for(_=d.child;_;){if(_===l)return h(d),n;if(_===u)return h(d),s;_=_.sibling}throw Error(i(188))}if(l.return!==u.return)l=d,u=_;else{for(var E=!1,b=d.child;b;){if(b===l){E=!0,l=d,u=_;break}if(b===u){E=!0,u=d,l=_;break}b=b.sibling}if(!E){for(b=_.child;b;){if(b===l){E=!0,l=_,u=d;break}if(b===u){E=!0,u=_,l=d;break}b=b.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Symbol.for("react.client.reference");function ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===oe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case v:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case j:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case R:return(n.displayName||"Context")+".Provider";case w:return(n._context.displayName||"Context")+".Consumer";case N:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X:return s=n.displayName||null,s!==null?s:ae(n.type)||"Memo";case q:s=n._payload,n=n._init;try{return ae(n(s))}catch{}}return null}var te=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ne=[],A=-1;function k(n){return{current:n}}function I(n){0>A||(n.current=ne[A],ne[A]=null,A--)}function Q(n,s){A++,ne[A]=n.current,n.current=s}var ee=k(null),le=k(null),ce=k(null),Me=k(null);function pe(n,s){switch(Q(ce,s),Q(le,n),Q(ee,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?sp(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=sp(s),n=rp(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}I(ee),Q(ee,n)}function rt(){I(ee),I(le),I(ce)}function pn(n){n.memoizedState!==null&&Q(Me,n);var s=ee.current,l=rp(s,n.type);s!==l&&(Q(le,n),Q(ee,l))}function Nn(n){le.current===n&&(I(ee),I(le)),Me.current===n&&(I(Me),xl._currentValue=K)}var xn=Object.prototype.hasOwnProperty,Jn=r.unstable_scheduleCallback,Kt=r.unstable_cancelCallback,gi=r.unstable_shouldYield,Ee=r.unstable_requestPaint,De=r.unstable_now,Ct=r.unstable_getCurrentPriorityLevel,Ot=r.unstable_ImmediatePriority,nn=r.unstable_UserBlockingPriority,$n=r.unstable_NormalPriority,Lt=r.unstable_LowPriority,Xt=r.unstable_IdlePriority,sn=r.log,Fn=r.unstable_setDisableYieldValue,vn=null,Je=null;function bt(n){if(typeof sn=="function"&&Fn(n),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(vn,n)}catch{}}var at=Math.clz32?Math.clz32:Aa,fr=Math.log,Tt=Math.LN2;function Aa(n){return n>>>=0,n===0?32:31-(fr(n)/Tt|0)|0}var dr=256,gr=4194304;function ei(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function bs(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var d=0,_=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~_,u!==0?d=ei(u):(E&=b,E!==0?d=ei(E):l||(l=b&~n,l!==0&&(d=ei(l))))):(b=u&~_,b!==0?d=ei(b):E!==0?d=ei(E):l||(l=u&~n,l!==0&&(d=ei(l)))),d===0?0:s!==0&&s!==d&&(s&_)===0&&(_=d&-d,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:d}function mi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function fo(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var n=dr;return dr<<=1,(dr&4194048)===0&&(dr=256),n}function Ui(){var n=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),n}function _i(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function In(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function go(n,s,l,u,d,_){var E=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var b=n.entanglements,M=n.expirationTimes,B=n.hiddenUpdates;for(l=E&~l;0<l;){var W=31-at(l),$=1<<W;b[W]=0,M[W]=-1;var Y=B[W];if(Y!==null)for(B[W]=null,W=0;W<Y.length;W++){var H=Y[W];H!==null&&(H.lane&=-536870913)}l&=~$}u!==0&&Ma(n,u,0),_!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=_&~(E&~s))}function Ma(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-at(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function Dt(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-at(l),d=1<<u;d&s|n[u]&s&&(n[u]|=s),l&=~d}}function ti(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Nt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function En(){var n=P.p;return n!==0?n:(n=window.event,n===void 0?32:bp(n.type))}function Ht(n,s){var l=P.p;try{return P.p=n,s()}finally{P.p=l}}var rn=Math.random().toString(36).slice(2),$e="__reactFiber$"+rn,Ie="__reactProps$"+rn,ht="__reactContainer$"+rn,an="__reactEvents$"+rn,zc="__reactListeners$"+rn,Ev="__reactHandles$"+rn,Vg="__reactResources$"+rn,Oa="__reactMarker$"+rn;function Pc(n){delete n[$e],delete n[Ie],delete n[an],delete n[zc],delete n[Ev]}function _r(n){var s=n[$e];if(s)return s;for(var l=n.parentNode;l;){if(s=l[ht]||l[$e]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=up(n);n!==null;){if(l=n[$e])return l;n=up(n)}return s}n=l,l=n.parentNode}return null}function yr(n){if(n=n[$e]||n[ht]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function La(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function pr(n){var s=n[Vg];return s||(s=n[Vg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function yt(n){n[Oa]=!0}var qg=new Set,Zg={};function Ts(n,s){xr(n,s),xr(n+"Capture",s)}function xr(n,s){for(Zg[n]=s,n=0;n<s.length;n++)qg.add(s[n])}var Sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kg={},Wg={};function Cv(n){return xn.call(Wg,n)?!0:xn.call(Kg,n)?!1:Sv.test(n)?Wg[n]=!0:(Kg[n]=!0,!1)}function mo(n,s,l){if(Cv(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function _o(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function yi(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}var kc,Qg;function vr(n){if(kc===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);kc=s&&s[1]||"",Qg=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kc+n+Qg}var Gc=!1;function jc(n,s){if(!n||Gc)return"";Gc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var Y=H}Reflect.construct(n,[],$)}else{try{$.call()}catch(H){Y=H}n.call($.prototype)}}else{try{throw Error()}catch(H){Y=H}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&Y&&typeof H.stack=="string")return[H.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),E=_[0],b=_[1];if(E&&b){var M=E.split(`
`),B=b.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===B.length)for(u=M.length-1,d=B.length-1;1<=u&&0<=d&&M[u]!==B[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==B[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==B[d]){var W=`
`+M[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=d);break}}}finally{Gc=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?vr(l):""}function bv(n){switch(n.tag){case 26:case 27:case 5:return vr(n.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return jc(n.type,!1);case 11:return jc(n.type.render,!1);case 1:return jc(n.type,!0);case 31:return vr("Activity");default:return""}}function Jg(n){try{var s="";do s+=bv(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $g(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tv(n){var s=$g(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,_=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,_.call(this,E)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function yo(n){n._valueTracker||(n._valueTracker=Tv(n))}function em(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=$g(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function po(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Rv=/[\n"\\]/g;function Cn(n){return n.replace(Rv,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Uc(n,s,l,u,d,_,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Sn(s)):n.value!==""+Sn(s)&&(n.value=""+Sn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Bc(n,E,Sn(s)):l!=null?Bc(n,E,Sn(l)):u!=null&&n.removeAttribute("value"),d==null&&_!=null&&(n.defaultChecked=!!_),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Sn(b):n.removeAttribute("name")}function tm(n,s,l,u,d,_,E,b){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;l=l!=null?""+Sn(l):"",s=s!=null?""+Sn(s):l,b||s===n.value||(n.value=s),n.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Bc(n,s,l){s==="number"&&po(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Er(n,s,l,u){if(n=n.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=s.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Sn(l),s=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function nm(n,s,l){if(s!=null&&(s=""+Sn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Sn(l):""}function im(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(te(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Sn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function Sr(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var wv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sm(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||wv.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function rm(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&l[d]!==u&&sm(n,d,u)}else for(var _ in s)s.hasOwnProperty(_)&&sm(n,_,s[_])}function Yc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Av=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(n){return Mv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Xc=null;function Hc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Cr=null,br=null;function am(n){var s=yr(n);if(s&&(n=s.stateNode)){var l=n[Ie]||null;e:switch(n=s.stateNode,s.type){case"input":if(Uc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var d=u[Ie]||null;if(!d)throw Error(i(90));Uc(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&em(u)}break e;case"textarea":nm(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Er(n,!!l.multiple,s,!1)}}}var Vc=!1;function lm(n,s,l){if(Vc)return n(s,l);Vc=!0;try{var u=n(s);return u}finally{if(Vc=!1,(Cr!==null||br!==null)&&(su(),Cr&&(s=Cr,n=br,br=Cr=null,am(s),n)))for(s=0;s<n.length;s++)am(n[s])}}function Da(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Ie]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=!1;if(pi)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){qc=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{qc=!1}var Bi=null,Zc=null,vo=null;function om(){if(vo)return vo;var n,s=Zc,l=s.length,u,d="value"in Bi?Bi.value:Bi.textContent,_=d.length;for(n=0;n<l&&s[n]===d[n];n++);var E=l-n;for(u=1;u<=E&&s[l-u]===d[_-u];u++);return vo=d.slice(n,1<u?1-u:void 0)}function Eo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function So(){return!0}function um(){return!1}function Wt(n){function s(l,u,d,_,E){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(l=n[b],this[b]=l?l(_):_[b]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?So:um,this.isPropagationStopped=um,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),s}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Wt(Rs),Fa=m({},Rs,{view:0,detail:0}),Ov=Wt(Fa),Kc,Wc,Ia,bo=m({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ia&&(Ia&&n.type==="mousemove"?(Kc=n.screenX-Ia.screenX,Wc=n.screenY-Ia.screenY):Wc=Kc=0,Ia=n),Kc)},movementY:function(n){return"movementY"in n?n.movementY:Wc}}),cm=Wt(bo),Lv=m({},bo,{dataTransfer:0}),Dv=Wt(Lv),Nv=m({},Fa,{relatedTarget:0}),Qc=Wt(Nv),Fv=m({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Iv=Wt(Fv),zv=m({},Rs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pv=Wt(zv),kv=m({},Rs,{data:0}),hm=Wt(kv),Gv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Uv[n])?!!s[n]:!1}function Jc(){return Bv}var Yv=m({},Fa,{key:function(n){if(n.key){var s=Gv[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Eo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(n){return n.type==="keypress"?Eo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Eo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xv=Wt(Yv),Hv=m({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=Wt(Hv),Vv=m({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),qv=Wt(Vv),Zv=m({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kv=Wt(Zv),Wv=m({},bo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qv=Wt(Wv),Jv=m({},Rs,{newState:0,oldState:0}),$v=Wt(Jv),eE=[9,13,27,32],$c=pi&&"CompositionEvent"in window,za=null;pi&&"documentMode"in document&&(za=document.documentMode);var tE=pi&&"TextEvent"in window&&!za,dm=pi&&(!$c||za&&8<za&&11>=za),gm=" ",mm=!1;function _m(n,s){switch(n){case"keyup":return eE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Tr=!1;function nE(n,s){switch(n){case"compositionend":return ym(s);case"keypress":return s.which!==32?null:(mm=!0,gm);case"textInput":return n=s.data,n===gm&&mm?null:n;default:return null}}function iE(n,s){if(Tr)return n==="compositionend"||!$c&&_m(n,s)?(n=om(),vo=Zc=Bi=null,Tr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return dm&&s.locale!=="ko"?null:s.data;default:return null}}var sE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!sE[n.type]:s==="textarea"}function xm(n,s,l,u){Cr?br?br.push(u):br=[u]:Cr=u,s=cu(s,"onChange"),0<s.length&&(l=new Co("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Pa=null,ka=null;function rE(n){$y(n,0)}function To(n){var s=La(n);if(em(s))return n}function vm(n,s){if(n==="change")return s}var Em=!1;if(pi){var eh;if(pi){var th="oninput"in document;if(!th){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),th=typeof Sm.oninput=="function"}eh=th}else eh=!1;Em=eh&&(!document.documentMode||9<document.documentMode)}function Cm(){Pa&&(Pa.detachEvent("onpropertychange",bm),ka=Pa=null)}function bm(n){if(n.propertyName==="value"&&To(ka)){var s=[];xm(s,ka,n,Hc(n)),lm(rE,s)}}function aE(n,s,l){n==="focusin"?(Cm(),Pa=s,ka=l,Pa.attachEvent("onpropertychange",bm)):n==="focusout"&&Cm()}function lE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return To(ka)}function oE(n,s){if(n==="click")return To(s)}function uE(n,s){if(n==="input"||n==="change")return To(s)}function cE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ln=typeof Object.is=="function"?Object.is:cE;function Ga(n,s){if(ln(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!xn.call(s,d)||!ln(n[d],s[d]))return!1}return!0}function Tm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rm(n,s){var l=Tm(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tm(l)}}function wm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?wm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Am(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=po(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=po(n.document)}return s}function nh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var hE=pi&&"documentMode"in document&&11>=document.documentMode,Rr=null,ih=null,ja=null,sh=!1;function Mm(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sh||Rr==null||Rr!==po(u)||(u=Rr,"selectionStart"in u&&nh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ja&&Ga(ja,u)||(ja=u,u=cu(ih,"onSelect"),0<u.length&&(s=new Co("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Rr)))}function ws(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var wr={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},rh={},Om={};pi&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function As(n){if(rh[n])return rh[n];if(!wr[n])return n;var s=wr[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Om)return rh[n]=s[l];return n}var Lm=As("animationend"),Dm=As("animationiteration"),Nm=As("animationstart"),fE=As("transitionrun"),dE=As("transitionstart"),gE=As("transitioncancel"),Fm=As("transitionend"),Im=new Map,ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ah.push("scrollEnd");function zn(n,s){Im.set(n,s),Ts(s,[n])}var zm=new WeakMap;function bn(n,s){if(typeof n=="object"&&n!==null){var l=zm.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Jg(s)},zm.set(n,s),s)}return{value:n,source:s,stack:Jg(s)}}var Tn=[],Ar=0,lh=0;function Ro(){for(var n=Ar,s=lh=Ar=0;s<n;){var l=Tn[s];Tn[s++]=null;var u=Tn[s];Tn[s++]=null;var d=Tn[s];Tn[s++]=null;var _=Tn[s];if(Tn[s++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}_!==0&&Pm(l,d,_)}}function wo(n,s,l,u){Tn[Ar++]=n,Tn[Ar++]=s,Tn[Ar++]=l,Tn[Ar++]=u,lh|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function oh(n,s,l,u){return wo(n,s,l,u),Ao(n)}function Mr(n,s){return wo(n,null,null,s),Ao(n)}function Pm(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var d=!1,_=n.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(d=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,d&&s!==null&&(d=31-at(l),n=_.hiddenUpdates,u=n[d],u===null?n[d]=[s]:u.push(s),s.lane=l|536870912),_):null}function Ao(n){if(50<hl)throw hl=0,mf=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Or={};function mE(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(n,s,l,u){return new mE(n,s,l,u)}function uh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xi(n,s){var l=n.alternate;return l===null?(l=on(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function km(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Mo(n,s,l,u,d,_){var E=0;if(u=n,typeof n=="function")uh(n)&&(E=1);else if(typeof n=="string")E=yS(n,l,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=on(31,l,s,d),n.elementType=Z,n.lanes=_,n;case v:return Ms(l.children,d,_,s);case C:E=8,d|=24;break;case S:return n=on(12,l,s,d|2),n.elementType=S,n.lanes=_,n;case O:return n=on(13,l,s,d),n.elementType=O,n.lanes=_,n;case j:return n=on(19,l,s,d),n.elementType=j,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case R:E=10;break e;case w:E=9;break e;case N:E=11;break e;case X:E=14;break e;case q:E=16,u=null;break e}E=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=on(E,l,s,d),s.elementType=n,s.type=u,s.lanes=_,s}function Ms(n,s,l,u){return n=on(7,n,u,s),n.lanes=l,n}function ch(n,s,l){return n=on(6,n,null,s),n.lanes=l,n}function hh(n,s,l){return s=on(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Lr=[],Dr=0,Oo=null,Lo=0,Rn=[],wn=0,Os=null,vi=1,Ei="";function Ls(n,s){Lr[Dr++]=Lo,Lr[Dr++]=Oo,Oo=n,Lo=s}function Gm(n,s,l){Rn[wn++]=vi,Rn[wn++]=Ei,Rn[wn++]=Os,Os=n;var u=vi;n=Ei;var d=32-at(u)-1;u&=~(1<<d),l+=1;var _=32-at(s)+d;if(30<_){var E=d-d%5;_=(u&(1<<E)-1).toString(32),u>>=E,d-=E,vi=1<<32-at(s)+d|l<<d|u,Ei=_+n}else vi=1<<_|l<<d|u,Ei=n}function fh(n){n.return!==null&&(Ls(n,1),Gm(n,1,0))}function dh(n){for(;n===Oo;)Oo=Lr[--Dr],Lr[Dr]=null,Lo=Lr[--Dr],Lr[Dr]=null;for(;n===Os;)Os=Rn[--wn],Rn[wn]=null,Ei=Rn[--wn],Rn[wn]=null,vi=Rn[--wn],Rn[wn]=null}var Vt=null,We=null,Fe=!1,Ds=null,ni=!1,gh=Error(i(519));function Ns(n){var s=Error(i(418,""));throw Ya(bn(s,n)),gh}function jm(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[$e]=n,s[Ie]=u,l){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(l=0;l<dl.length;l++)Ae(dl[l],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":Ae("invalid",s),tm(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),yo(s);break;case"select":Ae("invalid",s);break;case"textarea":Ae("invalid",s),im(s,u.value,u.defaultValue,u.children),yo(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||ip(s.textContent,l)?(u.popover!=null&&(Ae("beforetoggle",s),Ae("toggle",s)),u.onScroll!=null&&Ae("scroll",s),u.onScrollEnd!=null&&Ae("scrollend",s),u.onClick!=null&&(s.onclick=hu),s=!0):s=!1,s||Ns(n)}function Um(n){for(Vt=n.return;Vt;)switch(Vt.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Vt=Vt.return}}function Ua(n){if(n!==Vt)return!1;if(!Fe)return Um(n),Fe=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Lf(n.type,n.memoizedProps)),l=!l),l&&We&&Ns(n),Um(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){We=kn(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}We=null}}else s===27?(s=We,ss(n.type)?(n=If,If=null,We=n):We=s):We=Vt?kn(n.stateNode.nextSibling):null;return!0}function Ba(){We=Vt=null,Fe=!1}function Bm(){var n=Ds;return n!==null&&($t===null?$t=n:$t.push.apply($t,n),Ds=null),n}function Ya(n){Ds===null?Ds=[n]:Ds.push(n)}var mh=k(null),Fs=null,Si=null;function Yi(n,s,l){Q(mh,s._currentValue),s._currentValue=l}function Ci(n){n._currentValue=mh.current,I(mh)}function _h(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function yh(n,s,l,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){var E=d.child;_=_.firstContext;e:for(;_!==null;){var b=_;_=d;for(var M=0;M<s.length;M++)if(b.context===s[M]){_.lanes|=l,b=_.alternate,b!==null&&(b.lanes|=l),_h(_.return,l,n),u||(E=null);break e}_=b.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=l,_=E.alternate,_!==null&&(_.lanes|=l),_h(E,l,n),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===n){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Xa(n,s,l,u){n=null;for(var d=s,_=!1;d!==null;){if(!_){if((d.flags&524288)!==0)_=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=d.type;ln(d.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(d===Me.current){if(E=d.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(xl):n=[xl])}d=d.return}n!==null&&yh(s,n,l,u),s.flags|=262144}function Do(n){for(n=n.firstContext;n!==null;){if(!ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Is(n){Fs=n,Si=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ft(n){return Ym(Fs,n)}function No(n,s){return Fs===null&&Is(n),Ym(n,s)}function Ym(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Si===null){if(n===null)throw Error(i(308));Si=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Si=Si.next=s;return l}var _E=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},yE=r.unstable_scheduleCallback,pE=r.unstable_NormalPriority,ft={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new _E,data:new Map,refCount:0}}function Ha(n){n.refCount--,n.refCount===0&&yE(pE,function(){n.controller.abort()})}var Va=null,xh=0,Nr=0,Fr=null;function xE(n,s){if(Va===null){var l=Va=[];xh=0,Nr=Sf(),Fr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return xh++,s.then(Xm,Xm),s}function Xm(){if(--xh===0&&Va!==null){Fr!==null&&(Fr.status="fulfilled");var n=Va;Va=null,Nr=0,Fr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function vE(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var Hm=L.S;L.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xE(n,s),Hm!==null&&Hm(n,s)};var zs=k(null);function vh(){var n=zs.current;return n!==null?n:Xe.pooledCache}function Fo(n,s){s===null?Q(zs,zs.current):Q(zs,s.pool)}function Vm(){var n=vh();return n===null?null:{parent:ft._currentValue,pool:n}}var qa=Error(i(460)),qm=Error(i(474)),Io=Error(i(542)),Eh={then:function(){}};function Zm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function zo(){}function Km(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(zo,zo),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Qm(n),n;default:if(typeof s.status=="string")s.then(zo,zo);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Qm(n),n}throw Za=s,qa}}var Za=null;function Wm(){if(Za===null)throw Error(i(459));var n=Za;return Za=null,n}function Qm(n){if(n===qa||n===Io)throw Error(i(483))}var Xi=!1;function Sh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vi(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ze&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Ao(n),Pm(n,null,l),s}return wo(n,u,s,l),Ao(n)}function Ka(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Dt(n,l)}}function bh(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?d=_=E:_=_.next=E,l=l.next}while(l!==null);_===null?d=_=s:_=_.next=s}else d=_=s;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var Th=!1;function Wa(){if(Th){var n=Fr;if(n!==null)throw n}}function Qa(n,s,l,u){Th=!1;var d=n.updateQueue;Xi=!1;var _=d.firstBaseUpdate,E=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var M=b,B=M.next;M.next=null,E===null?_=B:E.next=B,E=M;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=B:b.next=B,W.lastBaseUpdate=M))}if(_!==null){var $=d.baseState;E=0,W=B=M=null,b=_;do{var Y=b.lane&-536870913,H=Y!==b.lane;if(H?(Oe&Y)===Y:(u&Y)===Y){Y!==0&&Y===Nr&&(Th=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=n,ge=b;Y=s;var Ue=l;switch(ge.tag){case 1:if(_e=ge.payload,typeof _e=="function"){$=_e.call(Ue,$,Y);break e}$=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ge.payload,Y=typeof _e=="function"?_e.call(Ue,$,Y):_e,Y==null)break e;$=m({},$,Y);break e;case 2:Xi=!0}}Y=b.callback,Y!==null&&(n.flags|=64,H&&(n.flags|=8192),H=d.callbacks,H===null?d.callbacks=[Y]:H.push(Y))}else H={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(B=W=H,M=$):W=W.next=H,E|=Y;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;H=b,b=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);W===null&&(M=$),d.baseState=M,d.firstBaseUpdate=B,d.lastBaseUpdate=W,_===null&&(d.shared.lanes=0),es|=E,n.lanes=E,n.memoizedState=$}}function Jm(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function $m(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Jm(l[n],s)}var Ir=k(null),Po=k(0);function e_(n,s){n=Oi,Q(Po,n),Q(Ir,s),Oi=n|s.baseLanes}function Rh(){Q(Po,Oi),Q(Ir,Ir.current)}function wh(){Oi=Po.current,I(Ir),I(Po)}var qi=0,be=null,Ge=null,lt=null,ko=!1,zr=!1,Ps=!1,Go=0,Ja=0,Pr=null,EE=0;function et(){throw Error(i(321))}function Ah(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!ln(n[l],s[l]))return!1;return!0}function Mh(n,s,l,u,d,_){return qi=_,be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=n===null||n.memoizedState===null?P_:k_,Ps=!1,_=l(u,d),Ps=!1,zr&&(_=n_(s,l,u,d)),t_(n),_}function t_(n){L.H=Ho;var s=Ge!==null&&Ge.next!==null;if(qi=0,lt=Ge=be=null,ko=!1,Ja=0,Pr=null,s)throw Error(i(300));n===null||pt||(n=n.dependencies,n!==null&&Do(n)&&(pt=!0))}function n_(n,s,l,u){be=n;var d=0;do{if(zr&&(Pr=null),Ja=0,zr=!1,25<=d)throw Error(i(301));if(d+=1,lt=Ge=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}L.H=AE,_=s(l,u)}while(zr);return _}function SE(){var n=L.H,s=n.useState()[0];return s=typeof s.then=="function"?$a(s):s,n=n.useState()[0],(Ge!==null?Ge.memoizedState:null)!==n&&(be.flags|=1024),s}function Oh(){var n=Go!==0;return Go=0,n}function Lh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Dh(n){if(ko){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ko=!1}qi=0,lt=Ge=be=null,zr=!1,Ja=Go=0,Pr=null}function Qt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?be.memoizedState=lt=n:lt=lt.next=n,lt}function ot(){if(Ge===null){var n=be.alternate;n=n!==null?n.memoizedState:null}else n=Ge.next;var s=lt===null?be.memoizedState:lt.next;if(s!==null)lt=s,Ge=n;else{if(n===null)throw be.alternate===null?Error(i(467)):Error(i(310));Ge=n,n={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},lt===null?be.memoizedState=lt=n:lt=lt.next=n}return lt}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $a(n){var s=Ja;return Ja+=1,Pr===null&&(Pr=[]),n=Km(Pr,n,s),s=be,(lt===null?s.memoizedState:lt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?P_:k_),n}function jo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return $a(n);if(n.$$typeof===R)return Ft(n)}throw Error(i(438,String(n)))}function Fh(n){var s=null,l=be.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Nh(),be.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=ie;return s.index++,l}function bi(n,s){return typeof s=="function"?s(n):s}function Uo(n){var s=ot();return Ih(s,Ge,n)}function Ih(n,s,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var d=n.baseQueue,_=u.pending;if(_!==null){if(d!==null){var E=d.next;d.next=_.next,_.next=E}s.baseQueue=d=_,u.pending=null}if(_=n.baseState,d===null)n.memoizedState=_;else{s=d.next;var b=E=null,M=null,B=s,W=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Oe&$)===$:(qi&$)===$){var Y=B.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Nr&&(W=!0);else if((qi&Y)===Y){B=B.next,Y===Nr&&(W=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=$,E=_):M=M.next=$,be.lanes|=Y,es|=Y;$=B.action,Ps&&l(_,$),_=B.hasEagerState?B.eagerState:l(_,$)}else Y={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=Y,E=_):M=M.next=Y,be.lanes|=$,es|=$;B=B.next}while(B!==null&&B!==s);if(M===null?E=_:M.next=b,!ln(_,n.memoizedState)&&(pt=!0,W&&(l=Fr,l!==null)))throw l;n.memoizedState=_,n.baseState=E,n.baseQueue=M,u.lastRenderedState=_}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function zh(n){var s=ot(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,d=l.pending,_=s.memoizedState;if(d!==null){l.pending=null;var E=d=d.next;do _=n(_,E.action),E=E.next;while(E!==d);ln(_,s.memoizedState)||(pt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,u]}function i_(n,s,l){var u=be,d=ot(),_=Fe;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=s();var E=!ln((Ge||d).memoizedState,l);E&&(d.memoizedState=l,pt=!0),d=d.queue;var b=a_.bind(null,u,d,n);if(el(2048,8,b,[n]),d.getSnapshot!==s||E||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,kr(9,Bo(),r_.bind(null,u,d,l,s),null),Xe===null)throw Error(i(349));_||(qi&124)!==0||s_(u,s,l)}return l}function s_(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=be.updateQueue,s===null?(s=Nh(),be.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function r_(n,s,l,u){s.value=l,s.getSnapshot=u,l_(s)&&o_(n)}function a_(n,s,l){return l(function(){l_(s)&&o_(n)})}function l_(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!ln(n,l)}catch{return!0}}function o_(n){var s=Mr(n,2);s!==null&&dn(s,n,2)}function Ph(n){var s=Qt();if(typeof n=="function"){var l=n;if(n=l(),Ps){bt(!0);try{l()}finally{bt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:n},s}function u_(n,s,l,u){return n.baseState=l,Ih(n,Ge,typeof u=="function"?u:bi)}function CE(n,s,l,u,d){if(Xo(n))throw Error(i(485));if(n=s.action,n!==null){var _={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};L.T!==null?l(!0):_.isTransition=!1,u(_),l=s.pending,l===null?(_.next=s.pending=_,c_(s,_)):(_.next=l.next,s.pending=l.next=_)}}function c_(n,s){var l=s.action,u=s.payload,d=n.state;if(s.isTransition){var _=L.T,E={};L.T=E;try{var b=l(d,u),M=L.S;M!==null&&M(E,b),h_(n,s,b)}catch(B){kh(n,s,B)}finally{L.T=_}}else try{_=l(d,u),h_(n,s,_)}catch(B){kh(n,s,B)}}function h_(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){f_(n,s,u)},function(u){return kh(n,s,u)}):f_(n,s,l)}function f_(n,s,l){s.status="fulfilled",s.value=l,d_(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,c_(n,l)))}function kh(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,d_(s),s=s.next;while(s!==u)}n.action=null}function d_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function g_(n,s){return s}function m_(n,s){if(Fe){var l=Xe.formState;if(l!==null){e:{var u=be;if(Fe){if(We){t:{for(var d=We,_=ni;d.nodeType!==8;){if(!_){d=null;break t}if(d=kn(d.nextSibling),d===null){d=null;break t}}_=d.data,d=_==="F!"||_==="F"?d:null}if(d){We=kn(d.nextSibling),u=d.data==="F!";break e}}Ns(u)}u=!1}u&&(s=l[0])}}return l=Qt(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:s},l.queue=u,l=F_.bind(null,be,u),u.dispatch=l,u=Ph(!1),_=Yh.bind(null,be,!1,u.queue),u=Qt(),d={state:s,dispatch:null,action:n,pending:null},u.queue=d,l=CE.bind(null,be,d,_,l),d.dispatch=l,u.memoizedState=n,[s,l,!1]}function __(n){var s=ot();return y_(s,Ge,n)}function y_(n,s,l){if(s=Ih(n,s,g_)[0],n=Uo(bi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=$a(s)}catch(E){throw E===qa?Io:E}else u=s;s=ot();var d=s.queue,_=d.dispatch;return l!==s.memoizedState&&(be.flags|=2048,kr(9,Bo(),bE.bind(null,d,l),null)),[u,_,n]}function bE(n,s){n.action=s}function p_(n){var s=ot(),l=Ge;if(l!==null)return y_(s,l,n);ot(),s=s.memoizedState,l=ot();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function kr(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=be.updateQueue,s===null&&(s=Nh(),be.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Bo(){return{destroy:void 0,resource:void 0}}function x_(){return ot().memoizedState}function Yo(n,s,l,u){var d=Qt();u=u===void 0?null:u,be.flags|=n,d.memoizedState=kr(1|s,Bo(),l,u)}function el(n,s,l,u){var d=ot();u=u===void 0?null:u;var _=d.memoizedState.inst;Ge!==null&&u!==null&&Ah(u,Ge.memoizedState.deps)?d.memoizedState=kr(s,_,l,u):(be.flags|=n,d.memoizedState=kr(1|s,_,l,u))}function v_(n,s){Yo(8390656,8,n,s)}function E_(n,s){el(2048,8,n,s)}function S_(n,s){return el(4,2,n,s)}function C_(n,s){return el(4,4,n,s)}function b_(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function T_(n,s,l){l=l!=null?l.concat([n]):null,el(4,4,b_.bind(null,s,n),l)}function Gh(){}function R_(n,s){var l=ot();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Ah(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function w_(n,s){var l=ot();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Ah(s,u[1]))return u[0];if(u=n(),Ps){bt(!0);try{n()}finally{bt(!1)}}return l.memoizedState=[u,s],u}function jh(n,s,l){return l===void 0||(qi&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=Oy(),be.lanes|=n,es|=n,l)}function A_(n,s,l,u){return ln(l,s)?l:Ir.current!==null?(n=jh(n,l,u),ln(n,s)||(pt=!0),n):(qi&42)===0?(pt=!0,n.memoizedState=l):(n=Oy(),be.lanes|=n,es|=n,s)}function M_(n,s,l,u,d){var _=P.p;P.p=_!==0&&8>_?_:8;var E=L.T,b={};L.T=b,Yh(n,!1,s,l);try{var M=d(),B=L.S;if(B!==null&&B(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=vE(M,u);tl(n,s,W,fn(n))}else tl(n,s,u,fn(n))}catch($){tl(n,s,{then:function(){},status:"rejected",reason:$},fn())}finally{P.p=_,L.T=E}}function TE(){}function Uh(n,s,l,u){if(n.tag!==5)throw Error(i(476));var d=O_(n).queue;M_(n,d,s,K,l===null?TE:function(){return L_(n),l(u)})}function O_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:K},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function L_(n){var s=O_(n).next.queue;tl(n,s,{},fn())}function Bh(){return Ft(xl)}function D_(){return ot().memoizedState}function N_(){return ot().memoizedState}function RE(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=fn();n=Hi(l);var u=Vi(s,n,l);u!==null&&(dn(u,s,l),Ka(u,s,l)),s={cache:ph()},n.payload=s;return}s=s.return}}function wE(n,s,l){var u=fn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xo(n)?I_(s,l):(l=oh(n,s,l,u),l!==null&&(dn(l,n,u),z_(l,s,u)))}function F_(n,s,l){var u=fn();tl(n,s,l,u)}function tl(n,s,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xo(n))I_(s,d);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var E=s.lastRenderedState,b=_(E,l);if(d.hasEagerState=!0,d.eagerState=b,ln(b,E))return wo(n,s,d,0),Xe===null&&Ro(),!1}catch{}finally{}if(l=oh(n,s,d,u),l!==null)return dn(l,n,u),z_(l,s,u),!0}return!1}function Yh(n,s,l,u){if(u={lane:2,revertLane:Sf(),action:u,hasEagerState:!1,eagerState:null,next:null},Xo(n)){if(s)throw Error(i(479))}else s=oh(n,l,u,2),s!==null&&dn(s,n,2)}function Xo(n){var s=n.alternate;return n===be||s!==null&&s===be}function I_(n,s){zr=ko=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function z_(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Dt(n,l)}}var Ho={readContext:Ft,use:jo,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},P_={readContext:Ft,use:jo,useCallback:function(n,s){return Qt().memoizedState=[n,s===void 0?null:s],n},useContext:Ft,useEffect:v_,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Yo(4194308,4,b_.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Yo(4194308,4,n,s)},useInsertionEffect:function(n,s){Yo(4,2,n,s)},useMemo:function(n,s){var l=Qt();s=s===void 0?null:s;var u=n();if(Ps){bt(!0);try{n()}finally{bt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Qt();if(l!==void 0){var d=l(s);if(Ps){bt(!0);try{l(s)}finally{bt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=wE.bind(null,be,n),[u.memoizedState,n]},useRef:function(n){var s=Qt();return n={current:n},s.memoizedState=n},useState:function(n){n=Ph(n);var s=n.queue,l=F_.bind(null,be,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Gh,useDeferredValue:function(n,s){var l=Qt();return jh(l,n,s)},useTransition:function(){var n=Ph(!1);return n=M_.bind(null,be,n.queue,!0,!1),Qt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=be,d=Qt();if(Fe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Xe===null)throw Error(i(349));(Oe&124)!==0||s_(u,s,l)}d.memoizedState=l;var _={value:l,getSnapshot:s};return d.queue=_,v_(a_.bind(null,u,_,n),[n]),u.flags|=2048,kr(9,Bo(),r_.bind(null,u,_,l,s),null),l},useId:function(){var n=Qt(),s=Xe.identifierPrefix;if(Fe){var l=Ei,u=vi;l=(u&~(1<<32-at(u)-1)).toString(32)+l,s=""+s+"R"+l,l=Go++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=EE++,s=""+s+"r"+l.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Bh,useFormState:m_,useActionState:m_,useOptimistic:function(n){var s=Qt();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Yh.bind(null,be,!0,l),l.dispatch=s,[n,s]},useMemoCache:Fh,useCacheRefresh:function(){return Qt().memoizedState=RE.bind(null,be)}},k_={readContext:Ft,use:jo,useCallback:R_,useContext:Ft,useEffect:E_,useImperativeHandle:T_,useInsertionEffect:S_,useLayoutEffect:C_,useMemo:w_,useReducer:Uo,useRef:x_,useState:function(){return Uo(bi)},useDebugValue:Gh,useDeferredValue:function(n,s){var l=ot();return A_(l,Ge.memoizedState,n,s)},useTransition:function(){var n=Uo(bi)[0],s=ot().memoizedState;return[typeof n=="boolean"?n:$a(n),s]},useSyncExternalStore:i_,useId:D_,useHostTransitionStatus:Bh,useFormState:__,useActionState:__,useOptimistic:function(n,s){var l=ot();return u_(l,Ge,n,s)},useMemoCache:Fh,useCacheRefresh:N_},AE={readContext:Ft,use:jo,useCallback:R_,useContext:Ft,useEffect:E_,useImperativeHandle:T_,useInsertionEffect:S_,useLayoutEffect:C_,useMemo:w_,useReducer:zh,useRef:x_,useState:function(){return zh(bi)},useDebugValue:Gh,useDeferredValue:function(n,s){var l=ot();return Ge===null?jh(l,n,s):A_(l,Ge.memoizedState,n,s)},useTransition:function(){var n=zh(bi)[0],s=ot().memoizedState;return[typeof n=="boolean"?n:$a(n),s]},useSyncExternalStore:i_,useId:D_,useHostTransitionStatus:Bh,useFormState:p_,useActionState:p_,useOptimistic:function(n,s){var l=ot();return Ge!==null?u_(l,Ge,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:N_},Gr=null,nl=0;function Vo(n){var s=nl;return nl+=1,Gr===null&&(Gr=[]),Km(Gr,n,s)}function il(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function qo(n,s){throw s.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function G_(n){var s=n._init;return s(n._payload)}function j_(n){function s(G,z){if(n){var U=G.deletions;U===null?(G.deletions=[z],G.flags|=16):U.push(z)}}function l(G,z){if(!n)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function u(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function d(G,z){return G=xi(G,z),G.index=0,G.sibling=null,G}function _(G,z,U){return G.index=U,n?(U=G.alternate,U!==null?(U=U.index,U<z?(G.flags|=67108866,z):U):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function E(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function b(G,z,U,J){return z===null||z.tag!==6?(z=ch(U,G.mode,J),z.return=G,z):(z=d(z,U),z.return=G,z)}function M(G,z,U,J){var ue=U.type;return ue===v?W(G,z,U.props.children,J,U.key):z!==null&&(z.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===q&&G_(ue)===z.type)?(z=d(z,U.props),il(z,U),z.return=G,z):(z=Mo(U.type,U.key,U.props,null,G.mode,J),il(z,U),z.return=G,z)}function B(G,z,U,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==U.containerInfo||z.stateNode.implementation!==U.implementation?(z=hh(U,G.mode,J),z.return=G,z):(z=d(z,U.children||[]),z.return=G,z)}function W(G,z,U,J,ue){return z===null||z.tag!==7?(z=Ms(U,G.mode,J,ue),z.return=G,z):(z=d(z,U),z.return=G,z)}function $(G,z,U){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ch(""+z,G.mode,U),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case p:return U=Mo(z.type,z.key,z.props,null,G.mode,U),il(U,z),U.return=G,U;case x:return z=hh(z,G.mode,U),z.return=G,z;case q:var J=z._init;return z=J(z._payload),$(G,z,U)}if(te(z)||se(z))return z=Ms(z,G.mode,U,null),z.return=G,z;if(typeof z.then=="function")return $(G,Vo(z),U);if(z.$$typeof===R)return $(G,No(G,z),U);qo(G,z)}return null}function Y(G,z,U,J){var ue=z!==null?z.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ue!==null?null:b(G,z,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case p:return U.key===ue?M(G,z,U,J):null;case x:return U.key===ue?B(G,z,U,J):null;case q:return ue=U._init,U=ue(U._payload),Y(G,z,U,J)}if(te(U)||se(U))return ue!==null?null:W(G,z,U,J,null);if(typeof U.then=="function")return Y(G,z,Vo(U),J);if(U.$$typeof===R)return Y(G,z,No(G,U),J);qo(G,U)}return null}function H(G,z,U,J,ue){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return G=G.get(U)||null,b(z,G,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case p:return G=G.get(J.key===null?U:J.key)||null,M(z,G,J,ue);case x:return G=G.get(J.key===null?U:J.key)||null,B(z,G,J,ue);case q:var Te=J._init;return J=Te(J._payload),H(G,z,U,J,ue)}if(te(J)||se(J))return G=G.get(U)||null,W(z,G,J,ue,null);if(typeof J.then=="function")return H(G,z,U,Vo(J),ue);if(J.$$typeof===R)return H(G,z,U,No(z,J),ue);qo(z,J)}return null}function _e(G,z,U,J){for(var ue=null,Te=null,he=z,me=z=0,vt=null;he!==null&&me<U.length;me++){he.index>me?(vt=he,he=null):vt=he.sibling;var Ne=Y(G,he,U[me],J);if(Ne===null){he===null&&(he=vt);break}n&&he&&Ne.alternate===null&&s(G,he),z=_(Ne,z,me),Te===null?ue=Ne:Te.sibling=Ne,Te=Ne,he=vt}if(me===U.length)return l(G,he),Fe&&Ls(G,me),ue;if(he===null){for(;me<U.length;me++)he=$(G,U[me],J),he!==null&&(z=_(he,z,me),Te===null?ue=he:Te.sibling=he,Te=he);return Fe&&Ls(G,me),ue}for(he=u(he);me<U.length;me++)vt=H(he,G,me,U[me],J),vt!==null&&(n&&vt.alternate!==null&&he.delete(vt.key===null?me:vt.key),z=_(vt,z,me),Te===null?ue=vt:Te.sibling=vt,Te=vt);return n&&he.forEach(function(us){return s(G,us)}),Fe&&Ls(G,me),ue}function ge(G,z,U,J){if(U==null)throw Error(i(151));for(var ue=null,Te=null,he=z,me=z=0,vt=null,Ne=U.next();he!==null&&!Ne.done;me++,Ne=U.next()){he.index>me?(vt=he,he=null):vt=he.sibling;var us=Y(G,he,Ne.value,J);if(us===null){he===null&&(he=vt);break}n&&he&&us.alternate===null&&s(G,he),z=_(us,z,me),Te===null?ue=us:Te.sibling=us,Te=us,he=vt}if(Ne.done)return l(G,he),Fe&&Ls(G,me),ue;if(he===null){for(;!Ne.done;me++,Ne=U.next())Ne=$(G,Ne.value,J),Ne!==null&&(z=_(Ne,z,me),Te===null?ue=Ne:Te.sibling=Ne,Te=Ne);return Fe&&Ls(G,me),ue}for(he=u(he);!Ne.done;me++,Ne=U.next())Ne=H(he,G,me,Ne.value,J),Ne!==null&&(n&&Ne.alternate!==null&&he.delete(Ne.key===null?me:Ne.key),z=_(Ne,z,me),Te===null?ue=Ne:Te.sibling=Ne,Te=Ne);return n&&he.forEach(function(MS){return s(G,MS)}),Fe&&Ls(G,me),ue}function Ue(G,z,U,J){if(typeof U=="object"&&U!==null&&U.type===v&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case p:e:{for(var ue=U.key;z!==null;){if(z.key===ue){if(ue=U.type,ue===v){if(z.tag===7){l(G,z.sibling),J=d(z,U.props.children),J.return=G,G=J;break e}}else if(z.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===q&&G_(ue)===z.type){l(G,z.sibling),J=d(z,U.props),il(J,U),J.return=G,G=J;break e}l(G,z);break}else s(G,z);z=z.sibling}U.type===v?(J=Ms(U.props.children,G.mode,J,U.key),J.return=G,G=J):(J=Mo(U.type,U.key,U.props,null,G.mode,J),il(J,U),J.return=G,G=J)}return E(G);case x:e:{for(ue=U.key;z!==null;){if(z.key===ue)if(z.tag===4&&z.stateNode.containerInfo===U.containerInfo&&z.stateNode.implementation===U.implementation){l(G,z.sibling),J=d(z,U.children||[]),J.return=G,G=J;break e}else{l(G,z);break}else s(G,z);z=z.sibling}J=hh(U,G.mode,J),J.return=G,G=J}return E(G);case q:return ue=U._init,U=ue(U._payload),Ue(G,z,U,J)}if(te(U))return _e(G,z,U,J);if(se(U)){if(ue=se(U),typeof ue!="function")throw Error(i(150));return U=ue.call(U),ge(G,z,U,J)}if(typeof U.then=="function")return Ue(G,z,Vo(U),J);if(U.$$typeof===R)return Ue(G,z,No(G,U),J);qo(G,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,z!==null&&z.tag===6?(l(G,z.sibling),J=d(z,U),J.return=G,G=J):(l(G,z),J=ch(U,G.mode,J),J.return=G,G=J),E(G)):l(G,z)}return function(G,z,U,J){try{nl=0;var ue=Ue(G,z,U,J);return Gr=null,ue}catch(he){if(he===qa||he===Io)throw he;var Te=on(29,he,null,G.mode);return Te.lanes=J,Te.return=G,Te}finally{}}}var jr=j_(!0),U_=j_(!1),An=k(null),ii=null;function Zi(n){var s=n.alternate;Q(dt,dt.current&1),Q(An,n),ii===null&&(s===null||Ir.current!==null||s.memoizedState!==null)&&(ii=n)}function B_(n){if(n.tag===22){if(Q(dt,dt.current),Q(An,n),ii===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(ii=n)}}else Ki()}function Ki(){Q(dt,dt.current),Q(An,An.current)}function Ti(n){I(An),ii===n&&(ii=null),I(dt)}var dt=k(0);function Zo(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ff(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Xh(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:m({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Hh={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=fn(),d=Hi(u);d.payload=s,l!=null&&(d.callback=l),s=Vi(n,d,u),s!==null&&(dn(s,n,u),Ka(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=fn(),d=Hi(u);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=Vi(n,d,u),s!==null&&(dn(s,n,u),Ka(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=fn(),u=Hi(l);u.tag=2,s!=null&&(u.callback=s),s=Vi(n,u,l),s!==null&&(dn(s,n,l),Ka(s,n,l))}};function Y_(n,s,l,u,d,_,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,_,E):s.prototype&&s.prototype.isPureReactComponent?!Ga(l,u)||!Ga(d,_):!0}function X_(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&Hh.enqueueReplaceState(s,s.state,null)}function ks(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=m({},l));for(var d in n)l[d]===void 0&&(l[d]=n[d])}return l}var Ko=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function H_(n){Ko(n)}function V_(n){console.error(n)}function q_(n){Ko(n)}function Wo(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Z_(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Vh(n,s,l){return l=Hi(l),l.tag=3,l.payload={element:null},l.callback=function(){Wo(n,s)},l}function K_(n){return n=Hi(n),n.tag=3,n}function W_(n,s,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var _=u.value;n.payload=function(){return d(_)},n.callback=function(){Z_(s,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Z_(s,l,u),typeof d!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function ME(n,s,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Xa(s,l,d,!0),l=An.current,l!==null){switch(l.tag){case 13:return ii===null?yf():l.alternate===null&&Qe===0&&(Qe=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===Eh?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),xf(n,u,d)),!1;case 22:return l.flags|=65536,u===Eh?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),xf(n,u,d)),!1}throw Error(i(435,l.tag))}return xf(n,u,d),yf(),!1}if(Fe)return s=An.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==gh&&(n=Error(i(422),{cause:u}),Ya(bn(n,l)))):(u!==gh&&(s=Error(i(423),{cause:u}),Ya(bn(s,l))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=bn(u,l),d=Vh(n.stateNode,u,d),bh(n,d),Qe!==4&&(Qe=2)),!1;var _=Error(i(520),{cause:u});if(_=bn(_,l),cl===null?cl=[_]:cl.push(_),Qe!==4&&(Qe=2),s===null)return!0;u=bn(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=d&-d,l.lanes|=n,n=Vh(l.stateNode,u,n),bh(l,n),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ts===null||!ts.has(_))))return l.flags|=65536,d&=-d,l.lanes|=d,d=K_(d),W_(d,n,l,u),bh(l,d),!1}l=l.return}while(l!==null);return!1}var Q_=Error(i(461)),pt=!1;function Rt(n,s,l,u){s.child=n===null?U_(s,null,l,u):jr(s,n.child,l,u)}function J_(n,s,l,u,d){l=l.render;var _=s.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Is(s),u=Mh(n,s,l,E,_,d),b=Oh(),n!==null&&!pt?(Lh(n,s,d),Ri(n,s,d)):(Fe&&b&&fh(s),s.flags|=1,Rt(n,s,u,d),s.child)}function $_(n,s,l,u,d){if(n===null){var _=l.type;return typeof _=="function"&&!uh(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,ey(n,s,_,u,d)):(n=Mo(l.type,null,u,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,!ef(n,d)){var E=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ga,l(E,u)&&n.ref===s.ref)return Ri(n,s,d)}return s.flags|=1,n=xi(_,u),n.ref=s.ref,n.return=s,s.child=n}function ey(n,s,l,u,d){if(n!==null){var _=n.memoizedProps;if(Ga(_,u)&&n.ref===s.ref)if(pt=!1,s.pendingProps=u=_,ef(n,d))(n.flags&131072)!==0&&(pt=!0);else return s.lanes=n.lanes,Ri(n,s,d)}return qh(n,s,l,u,d)}function ty(n,s,l){var u=s.pendingProps,d=u.children,_=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=_!==null?_.baseLanes|l:l,n!==null){for(d=s.child=n.child,_=0;d!==null;)_=_|d.lanes|d.childLanes,d=d.sibling;s.childLanes=_&~u}else s.childLanes=0,s.child=null;return ny(n,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fo(s,_!==null?_.cachePool:null),_!==null?e_(s,_):Rh(),B_(s);else return s.lanes=s.childLanes=536870912,ny(n,s,_!==null?_.baseLanes|l:l,l)}else _!==null?(Fo(s,_.cachePool),e_(s,_),Ki(),s.memoizedState=null):(n!==null&&Fo(s,null),Rh(),Ki());return Rt(n,s,d,l),s.child}function ny(n,s,l,u){var d=vh();return d=d===null?null:{parent:ft._currentValue,pool:d},s.memoizedState={baseLanes:l,cachePool:d},n!==null&&Fo(s,null),Rh(),B_(s),n!==null&&Xa(n,s,u,!0),null}function Qo(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function qh(n,s,l,u,d){return Is(s),l=Mh(n,s,l,u,void 0,d),u=Oh(),n!==null&&!pt?(Lh(n,s,d),Ri(n,s,d)):(Fe&&u&&fh(s),s.flags|=1,Rt(n,s,l,d),s.child)}function iy(n,s,l,u,d,_){return Is(s),s.updateQueue=null,l=n_(s,u,l,d),t_(n),u=Oh(),n!==null&&!pt?(Lh(n,s,_),Ri(n,s,_)):(Fe&&u&&fh(s),s.flags|=1,Rt(n,s,l,_),s.child)}function sy(n,s,l,u,d){if(Is(s),s.stateNode===null){var _=Or,E=l.contextType;typeof E=="object"&&E!==null&&(_=Ft(E)),_=new l(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Hh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},Sh(s),E=l.contextType,_.context=typeof E=="object"&&E!==null?Ft(E):Or,_.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Xh(s,l,E,u),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&Hh.enqueueReplaceState(_,_.state,null),Qa(s,u,_,d),Wa(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){_=s.stateNode;var b=s.memoizedProps,M=ks(l,b);_.props=M;var B=_.context,W=l.contextType;E=Or,typeof W=="object"&&W!==null&&(E=Ft(W));var $=l.getDerivedStateFromProps;W=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b||B!==E)&&X_(s,_,u,E),Xi=!1;var Y=s.memoizedState;_.state=Y,Qa(s,u,_,d),Wa(),B=s.memoizedState,b||Y!==B||Xi?(typeof $=="function"&&(Xh(s,l,$,u),B=s.memoizedState),(M=Xi||Y_(s,l,M,u,Y,B,E))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=B),_.props=u,_.state=B,_.context=E,u=M):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,Ch(n,s),E=s.memoizedProps,W=ks(l,E),_.props=W,$=s.pendingProps,Y=_.context,B=l.contextType,M=Or,typeof B=="object"&&B!==null&&(M=Ft(B)),b=l.getDerivedStateFromProps,(B=typeof b=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==$||Y!==M)&&X_(s,_,u,M),Xi=!1,Y=s.memoizedState,_.state=Y,Qa(s,u,_,d),Wa();var H=s.memoizedState;E!==$||Y!==H||Xi||n!==null&&n.dependencies!==null&&Do(n.dependencies)?(typeof b=="function"&&(Xh(s,l,b,u),H=s.memoizedState),(W=Xi||Y_(s,l,W,u,Y,H,M)||n!==null&&n.dependencies!==null&&Do(n.dependencies))?(B||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,H,M),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,H,M)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=H),_.props=u,_.state=H,_.context=M,u=W):(typeof _.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),u=!1)}return _=u,Qo(n,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,n!==null&&u?(s.child=jr(s,n.child,null,d),s.child=jr(s,null,l,d)):Rt(n,s,l,d),s.memoizedState=_.state,n=s.child):n=Ri(n,s,d),n}function ry(n,s,l,u){return Ba(),s.flags|=256,Rt(n,s,l,u),s.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(n){return{baseLanes:n,cachePool:Vm()}}function Wh(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Mn),n}function ay(n,s,l){var u=s.pendingProps,d=!1,_=(s.flags&128)!==0,E;if((E=_)||(E=n!==null&&n.memoizedState===null?!1:(dt.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Fe){if(d?Zi(s):Ki(),Fe){var b=We,M;if(M=b){e:{for(M=b,b=ni;M.nodeType!==8;){if(!b){b=null;break e}if(M=kn(M.nextSibling),M===null){b=null;break e}}b=M}b!==null?(s.memoizedState={dehydrated:b,treeContext:Os!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},M=on(18,null,null,0),M.stateNode=b,M.return=s,s.child=M,Vt=s,We=null,M=!0):M=!1}M||Ns(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Ff(b)?s.lanes=32:s.lanes=536870912,null;Ti(s)}return b=u.children,u=u.fallback,d?(Ki(),d=s.mode,b=Jo({mode:"hidden",children:b},d),u=Ms(u,d,l,null),b.return=s,u.return=s,b.sibling=u,s.child=b,d=s.child,d.memoizedState=Kh(l),d.childLanes=Wh(n,E,l),s.memoizedState=Zh,u):(Zi(s),Qh(s,b))}if(M=n.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(_)s.flags&256?(Zi(s),s.flags&=-257,s=Jh(n,s,l)):s.memoizedState!==null?(Ki(),s.child=n.child,s.flags|=128,s=null):(Ki(),d=u.fallback,b=s.mode,u=Jo({mode:"visible",children:u.children},b),d=Ms(d,b,l,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,jr(s,n.child,null,l),u=s.child,u.memoizedState=Kh(l),u.childLanes=Wh(n,E,l),s.memoizedState=Zh,s=d);else if(Zi(s),Ff(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var B=E.dgst;E=B,u=Error(i(419)),u.stack="",u.digest=E,Ya({value:u,source:null,stack:null}),s=Jh(n,s,l)}else if(pt||Xa(n,s,l,!1),E=(l&n.childLanes)!==0,pt||E){if(E=Xe,E!==null&&(u=l&-l,u=(u&42)!==0?1:ti(u),u=(u&(E.suspendedLanes|l))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Mr(n,u),dn(E,n,u),Q_;b.data==="$?"||yf(),s=Jh(n,s,l)}else b.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,We=kn(b.nextSibling),Vt=s,Fe=!0,Ds=null,ni=!1,n!==null&&(Rn[wn++]=vi,Rn[wn++]=Ei,Rn[wn++]=Os,vi=n.id,Ei=n.overflow,Os=s),s=Qh(s,u.children),s.flags|=4096);return s}return d?(Ki(),d=u.fallback,b=s.mode,M=n.child,B=M.sibling,u=xi(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,B!==null?d=xi(B,d):(d=Ms(d,b,l,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,b=n.child.memoizedState,b===null?b=Kh(l):(M=b.cachePool,M!==null?(B=ft._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=Vm(),b={baseLanes:b.baseLanes|l,cachePool:M}),d.memoizedState=b,d.childLanes=Wh(n,E,l),s.memoizedState=Zh,u):(Zi(s),l=n.child,n=l.sibling,l=xi(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=l,s.memoizedState=null,l)}function Qh(n,s){return s=Jo({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Jo(n,s){return n=on(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Jh(n,s,l){return jr(s,n.child,null,l),n=Qh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ly(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),_h(n.return,s,l)}function $h(n,s,l,u,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=d)}function oy(n,s,l){var u=s.pendingProps,d=u.revealOrder,_=u.tail;if(Rt(n,s,u.children,l),u=dt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ly(n,l,s);else if(n.tag===19)ly(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Q(dt,u),d){case"forwards":for(l=s.child,d=null;l!==null;)n=l.alternate,n!==null&&Zo(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),$h(s,!1,d,l,_);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Zo(n)===null){s.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}$h(s,!0,l,null,_);break;case"together":$h(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ri(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),es|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Xa(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=xi(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=xi(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function ef(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Do(n)))}function OE(n,s,l){switch(s.tag){case 3:pe(s,s.stateNode.containerInfo),Yi(s,ft,n.memoizedState.cache),Ba();break;case 27:case 5:pn(s);break;case 4:pe(s,s.stateNode.containerInfo);break;case 10:Yi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Zi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?ay(n,s,l):(Zi(s),n=Ri(n,s,l),n!==null?n.sibling:null);Zi(s);break;case 19:var d=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Xa(n,s,l,!1),u=(l&s.childLanes)!==0),d){if(u)return oy(n,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(dt,dt.current),u)break;return null;case 22:case 23:return s.lanes=0,ty(n,s,l);case 24:Yi(s,ft,n.memoizedState.cache)}return Ri(n,s,l)}function uy(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)pt=!0;else{if(!ef(n,l)&&(s.flags&128)===0)return pt=!1,OE(n,s,l);pt=(n.flags&131072)!==0}else pt=!1,Fe&&(s.flags&1048576)!==0&&Gm(s,Lo,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")uh(u)?(n=ks(u,n),s.tag=1,s=sy(null,s,u,n,l)):(s.tag=0,s=qh(null,s,u,n,l));else{if(u!=null){if(d=u.$$typeof,d===N){s.tag=11,s=J_(null,s,u,n,l);break e}else if(d===X){s.tag=14,s=$_(null,s,u,n,l);break e}}throw s=ae(u)||u,Error(i(306,s,""))}}return s;case 0:return qh(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,d=ks(u,s.pendingProps),sy(n,s,u,d,l);case 3:e:{if(pe(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var _=s.memoizedState;d=_.element,Ch(n,s),Qa(s,u,null,l);var E=s.memoizedState;if(u=E.cache,Yi(s,ft,u),u!==_.cache&&yh(s,[ft],l,!0),Wa(),u=E.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=ry(n,s,u,l);break e}else if(u!==d){d=bn(Error(i(424)),s),Ya(d),s=ry(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(We=kn(n.firstChild),Vt=s,Fe=!0,Ds=null,ni=!0,l=U_(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ba(),u===d){s=Ri(n,s,l);break e}Rt(n,s,u,l)}s=s.child}return s;case 26:return Qo(n,s),n===null?(l=dp(s.type,null,s.pendingProps,null))?s.memoizedState=l:Fe||(l=s.type,n=s.pendingProps,u=fu(ce.current).createElement(l),u[$e]=s,u[Ie]=n,At(u,l,n),yt(u),s.stateNode=u):s.memoizedState=dp(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return pn(s),n===null&&Fe&&(u=s.stateNode=cp(s.type,s.pendingProps,ce.current),Vt=s,ni=!0,d=We,ss(s.type)?(If=d,We=kn(u.firstChild)):We=d),Rt(n,s,s.pendingProps.children,l),Qo(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Fe&&((d=u=We)&&(u=sS(u,s.type,s.pendingProps,ni),u!==null?(s.stateNode=u,Vt=s,We=kn(u.firstChild),ni=!1,d=!0):d=!1),d||Ns(s)),pn(s),d=s.type,_=s.pendingProps,E=n!==null?n.memoizedProps:null,u=_.children,Lf(d,_)?u=null:E!==null&&Lf(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=Mh(n,s,SE,null,null,l),xl._currentValue=d),Qo(n,s),Rt(n,s,u,l),s.child;case 6:return n===null&&Fe&&((n=l=We)&&(l=rS(l,s.pendingProps,ni),l!==null?(s.stateNode=l,Vt=s,We=null,n=!0):n=!1),n||Ns(s)),null;case 13:return ay(n,s,l);case 4:return pe(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=jr(s,null,u,l):Rt(n,s,u,l),s.child;case 11:return J_(n,s,s.type,s.pendingProps,l);case 7:return Rt(n,s,s.pendingProps,l),s.child;case 8:return Rt(n,s,s.pendingProps.children,l),s.child;case 12:return Rt(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Yi(s,s.type,u.value),Rt(n,s,u.children,l),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Is(s),d=Ft(d),u=u(d),s.flags|=1,Rt(n,s,u,l),s.child;case 14:return $_(n,s,s.type,s.pendingProps,l);case 15:return ey(n,s,s.type,s.pendingProps,l);case 19:return oy(n,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},n===null?(l=Jo(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=xi(n.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return ty(n,s,l);case 24:return Is(s),u=Ft(ft),n===null?(d=vh(),d===null&&(d=Xe,_=ph(),d.pooledCache=_,_.refCount++,_!==null&&(d.pooledCacheLanes|=l),d=_),s.memoizedState={parent:u,cache:d},Sh(s),Yi(s,ft,d)):((n.lanes&l)!==0&&(Ch(n,s),Qa(s,null,null,l),Wa()),d=n.memoizedState,_=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Yi(s,ft,u)):(u=_.cache,Yi(s,ft,u),u!==d.cache&&yh(s,[ft],l,!0))),Rt(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function wi(n){n.flags|=4}function cy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pp(s)){if(s=An.current,s!==null&&((Oe&4194048)===Oe?ii!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||s!==ii))throw Za=Eh,qm;n.flags|=8192}}function $o(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ui():536870912,n.lanes|=s,Xr|=s)}function sl(n,s){if(!Fe)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ke(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function LE(n,s,l){var u=s.pendingProps;switch(dh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(s),null;case 1:return Ke(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ci(ft),rt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ua(s)?wi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bm())),Ke(s),null;case 26:return l=s.memoizedState,n===null?(wi(s),l!==null?(Ke(s),cy(s,l)):(Ke(s),s.flags&=-16777217)):l?l!==n.memoizedState?(wi(s),Ke(s),cy(s,l)):(Ke(s),s.flags&=-16777217):(n.memoizedProps!==u&&wi(s),Ke(s),s.flags&=-16777217),null;case 27:Nn(s),l=ce.current;var d=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&wi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Ke(s),null}n=ee.current,Ua(s)?jm(s):(n=cp(d,u,l),s.stateNode=n,wi(s))}return Ke(s),null;case 5:if(Nn(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&wi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Ke(s),null}if(n=ee.current,Ua(s))jm(s);else{switch(d=fu(ce.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}n[$e]=s,n[Ie]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=n;e:switch(At(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&wi(s)}}return Ke(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&wi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=ce.current,Ua(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,d=Vt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[$e]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||ip(n.nodeValue,l)),n||Ns(s)}else n=fu(n).createTextNode(u),n[$e]=s,s.stateNode=n}return Ke(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ua(s),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[$e]=s}else Ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ke(s),d=!1}else d=Bm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Ti(s),s):(Ti(s),null)}if(Ti(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==d&&(u.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),$o(s,s.updateQueue),Ke(s),null;case 4:return rt(),n===null&&Rf(s.stateNode.containerInfo),Ke(s),null;case 10:return Ci(s.type),Ke(s),null;case 19:if(I(dt),d=s.memoizedState,d===null)return Ke(s),null;if(u=(s.flags&128)!==0,_=d.rendering,_===null)if(u)sl(d,!1);else{if(Qe!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(_=Zo(n),_!==null){for(s.flags|=128,sl(d,!1),n=_.updateQueue,s.updateQueue=n,$o(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)km(l,n),l=l.sibling;return Q(dt,dt.current&1|2),s.child}n=n.sibling}d.tail!==null&&De()>nu&&(s.flags|=128,u=!0,sl(d,!1),s.lanes=4194304)}else{if(!u)if(n=Zo(_),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,$o(s,n),sl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!Fe)return Ke(s),null}else 2*De()-d.renderingStartTime>nu&&l!==536870912&&(s.flags|=128,u=!0,sl(d,!1),s.lanes=4194304);d.isBackwards?(_.sibling=s.child,s.child=_):(n=d.last,n!==null?n.sibling=_:s.child=_,d.last=_)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=De(),s.sibling=null,n=dt.current,Q(dt,u?n&1|2:n&1),s):(Ke(s),null);case 22:case 23:return Ti(s),wh(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Ke(s),s.subtreeFlags&6&&(s.flags|=8192)):Ke(s),l=s.updateQueue,l!==null&&$o(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&I(zs),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ci(ft),Ke(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function DE(n,s){switch(dh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ci(ft),rt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Nn(s),null;case 13:if(Ti(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ba()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return I(dt),null;case 4:return rt(),null;case 10:return Ci(s.type),null;case 22:case 23:return Ti(s),wh(),n!==null&&I(zs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ci(ft),null;case 25:return null;default:return null}}function hy(n,s){switch(dh(s),s.tag){case 3:Ci(ft),rt();break;case 26:case 27:case 5:Nn(s);break;case 4:rt();break;case 13:Ti(s);break;case 19:I(dt);break;case 10:Ci(s.type);break;case 22:case 23:Ti(s),wh(),n!==null&&I(zs);break;case 24:Ci(ft)}}function rl(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&n)===n){u=void 0;var _=l.create,E=l.inst;u=_(),E.destroy=u}l=l.next}while(l!==d)}}catch(b){Ye(s,s.return,b)}}function Wi(n,s,l){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var _=d.next;u=_;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,d=s;var M=l,B=b;try{B()}catch(W){Ye(d,M,W)}}}u=u.next}while(u!==_)}}catch(W){Ye(s,s.return,W)}}function fy(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{$m(s,l)}catch(u){Ye(n,n.return,u)}}}function dy(n,s,l){l.props=ks(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Ye(n,s,u)}}function al(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(d){Ye(n,s,d)}}function si(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){Ye(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Ye(n,s,d)}else l.current=null}function gy(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){Ye(n,n.return,d)}}function tf(n,s,l){try{var u=n.stateNode;$E(u,n.type,l,s),u[Ie]=s}catch(d){Ye(n,n.return,d)}}function my(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ss(n.type)||n.tag===4}function nf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||my(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ss(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sf(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=hu));else if(u!==4&&(u===27&&ss(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(sf(n,s,l),n=n.sibling;n!==null;)sf(n,s,l),n=n.sibling}function eu(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&ss(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(eu(n,s,l),n=n.sibling;n!==null;)eu(n,s,l),n=n.sibling}function _y(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);At(s,u,l),s[$e]=n,s[Ie]=l}catch(_){Ye(n,n.return,_)}}var Ai=!1,tt=!1,rf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,xt=null;function NE(n,s){if(n=n.containerInfo,Mf=pu,n=Am(n),nh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var E=0,b=-1,M=-1,B=0,W=0,$=n,Y=null;t:for(;;){for(var H;$!==l||d!==0&&$.nodeType!==3||(b=E+d),$!==_||u!==0&&$.nodeType!==3||(M=E+u),$.nodeType===3&&(E+=$.nodeValue.length),(H=$.firstChild)!==null;)Y=$,$=H;for(;;){if($===n)break t;if(Y===l&&++B===d&&(b=E),Y===_&&++W===u&&(M=E),(H=$.nextSibling)!==null)break;$=Y,Y=$.parentNode}$=H}l=b===-1||M===-1?null:{start:b,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Of={focusedElem:n,selectionRange:l},pu=!1,xt=s;xt!==null;)if(s=xt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,xt=n;else for(;xt!==null;){switch(s=xt,_=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,l=s,d=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var _e=ks(l.type,d,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(_e,_),u.__reactInternalSnapshotBeforeUpdate=n}catch(ge){Ye(l,l.return,ge)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Nf(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,xt=n;break}xt=s.return}}function py(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(n,l),u&4&&rl(5,l);break;case 1:if(Qi(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(E){Ye(l,l.return,E)}else{var d=ks(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ye(l,l.return,E)}}u&64&&fy(l),u&512&&al(l,l.return);break;case 3:if(Qi(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{$m(n,s)}catch(E){Ye(l,l.return,E)}}break;case 27:s===null&&u&4&&_y(l);case 26:case 5:Qi(n,l),s===null&&u&4&&gy(l),u&512&&al(l,l.return);break;case 12:Qi(n,l);break;case 13:Qi(n,l),u&4&&Ey(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=BE.bind(null,l),aS(n,l))));break;case 22:if(u=l.memoizedState!==null||Ai,!u){s=s!==null&&s.memoizedState!==null||tt,d=Ai;var _=tt;Ai=u,(tt=s)&&!_?Ji(n,l,(l.subtreeFlags&8772)!==0):Qi(n,l),Ai=d,tt=_}break;case 30:break;default:Qi(n,l)}}function xy(n){var s=n.alternate;s!==null&&(n.alternate=null,xy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Pc(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var qe=null,Jt=!1;function Mi(n,s,l){for(l=l.child;l!==null;)vy(n,s,l),l=l.sibling}function vy(n,s,l){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(vn,l)}catch{}switch(l.tag){case 26:tt||si(l,s),Mi(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tt||si(l,s);var u=qe,d=Jt;ss(l.type)&&(qe=l.stateNode,Jt=!1),Mi(n,s,l),ml(l.stateNode),qe=u,Jt=d;break;case 5:tt||si(l,s);case 6:if(u=qe,d=Jt,qe=null,Mi(n,s,l),qe=u,Jt=d,qe!==null)if(Jt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(_){Ye(l,s,_)}else try{qe.removeChild(l.stateNode)}catch(_){Ye(l,s,_)}break;case 18:qe!==null&&(Jt?(n=qe,op(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Cl(n)):op(qe,l.stateNode));break;case 4:u=qe,d=Jt,qe=l.stateNode.containerInfo,Jt=!0,Mi(n,s,l),qe=u,Jt=d;break;case 0:case 11:case 14:case 15:tt||Wi(2,l,s),tt||Wi(4,l,s),Mi(n,s,l);break;case 1:tt||(si(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&dy(l,s,u)),Mi(n,s,l);break;case 21:Mi(n,s,l);break;case 22:tt=(u=tt)||l.memoizedState!==null,Mi(n,s,l),tt=u;break;default:Mi(n,s,l)}}function Ey(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Cl(n)}catch(l){Ye(s,s.return,l)}}function FE(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new yy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new yy),s;default:throw Error(i(435,n.tag))}}function af(n,s){var l=FE(n);s.forEach(function(u){var d=YE.bind(null,n,u);l.has(u)||(l.add(u),u.then(d,d))})}function un(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],_=n,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ss(b.type)){qe=b.stateNode,Jt=!1;break e}break;case 5:qe=b.stateNode,Jt=!1;break e;case 3:case 4:qe=b.stateNode.containerInfo,Jt=!0;break e}b=b.return}if(qe===null)throw Error(i(160));vy(_,E,d),qe=null,Jt=!1,_=d.alternate,_!==null&&(_.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Sy(s,n),s=s.sibling}var Pn=null;function Sy(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:un(s,n),cn(n),u&4&&(Wi(3,n,n.return),rl(3,n),Wi(5,n,n.return));break;case 1:un(s,n),cn(n),u&512&&(tt||l===null||si(l,l.return)),u&64&&Ai&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=Pn;if(un(s,n),cn(n),u&512&&(tt||l===null||si(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":_=d.getElementsByTagName("title")[0],(!_||_[Oa]||_[$e]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=d.createElement(u),d.head.insertBefore(_,d.querySelector("head > title"))),At(_,u,l),_[$e]=n,yt(_),u=_;break e;case"link":var E=_p("link","href",d).get(u+(l.href||""));if(E){for(var b=0;b<E.length;b++)if(_=E[b],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(b,1);break t}}_=d.createElement(u),At(_,u,l),d.head.appendChild(_);break;case"meta":if(E=_p("meta","content",d).get(u+(l.content||""))){for(b=0;b<E.length;b++)if(_=E[b],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(b,1);break t}}_=d.createElement(u),At(_,u,l),d.head.appendChild(_);break;default:throw Error(i(468,u))}_[$e]=n,yt(_),u=_}n.stateNode=u}else yp(d,n.type,n.stateNode);else n.stateNode=mp(d,u,n.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?yp(d,n.type,n.stateNode):mp(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&tf(n,n.memoizedProps,l.memoizedProps)}break;case 27:un(s,n),cn(n),u&512&&(tt||l===null||si(l,l.return)),l!==null&&u&4&&tf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(un(s,n),cn(n),u&512&&(tt||l===null||si(l,l.return)),n.flags&32){d=n.stateNode;try{Sr(d,"")}catch(H){Ye(n,n.return,H)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,tf(n,d,l!==null?l.memoizedProps:d)),u&1024&&(rf=!0);break;case 6:if(un(s,n),cn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(H){Ye(n,n.return,H)}}break;case 3:if(mu=null,d=Pn,Pn=du(s.containerInfo),un(s,n),Pn=d,cn(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Cl(s.containerInfo)}catch(H){Ye(n,n.return,H)}rf&&(rf=!1,Cy(n));break;case 4:u=Pn,Pn=du(n.stateNode.containerInfo),un(s,n),cn(n),Pn=u;break;case 12:un(s,n),cn(n);break;case 13:un(s,n),cn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ff=De()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,af(n,u)));break;case 22:d=n.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,B=Ai,W=tt;if(Ai=B||d,tt=W||M,un(s,n),tt=W,Ai=B,cn(n),u&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(l===null||M||Ai||tt||Gs(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){M=l=s;try{if(_=M.stateNode,d)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=M.stateNode;var $=M.memoizedProps.style,Y=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(H){Ye(M,M.return,H)}}}else if(s.tag===6){if(l===null){M=s;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(H){Ye(M,M.return,H)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,af(n,l))));break;case 19:un(s,n),cn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,af(n,u)));break;case 30:break;case 21:break;default:un(s,n),cn(n)}}function cn(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(my(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,_=nf(n);eu(n,_,d);break;case 5:var E=l.stateNode;l.flags&32&&(Sr(E,""),l.flags&=-33);var b=nf(n);eu(n,b,E);break;case 3:case 4:var M=l.stateNode.containerInfo,B=nf(n);sf(n,B,M);break;default:throw Error(i(161))}}catch(W){Ye(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Cy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Cy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Qi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)py(n,s.alternate,s),s=s.sibling}function Gs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Wi(4,s,s.return),Gs(s);break;case 1:si(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&dy(s,s.return,l),Gs(s);break;case 27:ml(s.stateNode);case 26:case 5:si(s,s.return),Gs(s);break;case 22:s.memoizedState===null&&Gs(s);break;case 30:Gs(s);break;default:Gs(s)}n=n.sibling}}function Ji(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=n,_=s,E=_.flags;switch(_.tag){case 0:case 11:case 15:Ji(d,_,l),rl(4,_);break;case 1:if(Ji(d,_,l),u=_,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Ye(u,u.return,B)}if(u=_,d=u.updateQueue,d!==null){var b=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Jm(M[d],b)}catch(B){Ye(u,u.return,B)}}l&&E&64&&fy(_),al(_,_.return);break;case 27:_y(_);case 26:case 5:Ji(d,_,l),l&&u===null&&E&4&&gy(_),al(_,_.return);break;case 12:Ji(d,_,l);break;case 13:Ji(d,_,l),l&&E&4&&Ey(d,_);break;case 22:_.memoizedState===null&&Ji(d,_,l),al(_,_.return);break;case 30:break;default:Ji(d,_,l)}s=s.sibling}}function lf(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Ha(l))}function of(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ha(n))}function ri(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)by(n,s,l,u),s=s.sibling}function by(n,s,l,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ri(n,s,l,u),d&2048&&rl(9,s);break;case 1:ri(n,s,l,u);break;case 3:ri(n,s,l,u),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ha(n)));break;case 12:if(d&2048){ri(n,s,l,u),n=s.stateNode;try{var _=s.memoizedProps,E=_.id,b=_.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Ye(s,s.return,M)}}else ri(n,s,l,u);break;case 13:ri(n,s,l,u);break;case 23:break;case 22:_=s.stateNode,E=s.alternate,s.memoizedState!==null?_._visibility&2?ri(n,s,l,u):ll(n,s):_._visibility&2?ri(n,s,l,u):(_._visibility|=2,Ur(n,s,l,u,(s.subtreeFlags&10256)!==0)),d&2048&&lf(E,s);break;case 24:ri(n,s,l,u),d&2048&&of(s.alternate,s);break;default:ri(n,s,l,u)}}function Ur(n,s,l,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=n,E=s,b=l,M=u,B=E.flags;switch(E.tag){case 0:case 11:case 15:Ur(_,E,b,M,d),rl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ur(_,E,b,M,d):ll(_,E):(W._visibility|=2,Ur(_,E,b,M,d)),d&&B&2048&&lf(E.alternate,E);break;case 24:Ur(_,E,b,M,d),d&&B&2048&&of(E.alternate,E);break;default:Ur(_,E,b,M,d)}s=s.sibling}}function ll(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,d=u.flags;switch(u.tag){case 22:ll(l,u),d&2048&&lf(u.alternate,u);break;case 24:ll(l,u),d&2048&&of(u.alternate,u);break;default:ll(l,u)}s=s.sibling}}var ol=8192;function Br(n){if(n.subtreeFlags&ol)for(n=n.child;n!==null;)Ty(n),n=n.sibling}function Ty(n){switch(n.tag){case 26:Br(n),n.flags&ol&&n.memoizedState!==null&&xS(Pn,n.memoizedState,n.memoizedProps);break;case 5:Br(n);break;case 3:case 4:var s=Pn;Pn=du(n.stateNode.containerInfo),Br(n),Pn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=ol,ol=16777216,Br(n),ol=s):Br(n));break;default:Br(n)}}function Ry(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ul(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];xt=u,Ay(u,n)}Ry(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(n),n=n.sibling}function wy(n){switch(n.tag){case 0:case 11:case 15:ul(n),n.flags&2048&&Wi(9,n,n.return);break;case 3:ul(n);break;case 12:ul(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,tu(n)):ul(n);break;default:ul(n)}}function tu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];xt=u,Ay(u,n)}Ry(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Wi(8,s,s.return),tu(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,tu(s));break;default:tu(s)}n=n.sibling}}function Ay(n,s){for(;xt!==null;){var l=xt;switch(l.tag){case 0:case 11:case 15:Wi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ha(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,xt=u;else e:for(l=n;xt!==null;){u=xt;var d=u.sibling,_=u.return;if(xy(u),u===l){xt=null;break e}if(d!==null){d.return=_,xt=d;break e}xt=_}}}var IE={getCacheForType:function(n){var s=Ft(ft),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},zE=typeof WeakMap=="function"?WeakMap:Map,ze=0,Xe=null,we=null,Oe=0,Pe=0,hn=null,$i=!1,Yr=!1,uf=!1,Oi=0,Qe=0,es=0,js=0,cf=0,Mn=0,Xr=0,cl=null,$t=null,hf=!1,ff=0,nu=1/0,iu=null,ts=null,wt=0,ns=null,Hr=null,Vr=0,df=0,gf=null,My=null,hl=0,mf=null;function fn(){if((ze&2)!==0&&Oe!==0)return Oe&-Oe;if(L.T!==null){var n=Nr;return n!==0?n:Sf()}return En()}function Oy(){Mn===0&&(Mn=(Oe&536870912)===0||Fe?mr():536870912);var n=An.current;return n!==null&&(n.flags|=32),Mn}function dn(n,s,l){(n===Xe&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)&&(qr(n,0),is(n,Oe,Mn,!1)),In(n,l),((ze&2)===0||n!==Xe)&&(n===Xe&&((ze&2)===0&&(js|=l),Qe===4&&is(n,Oe,Mn,!1)),ai(n))}function Ly(n,s,l){if((ze&6)!==0)throw Error(i(327));var u=!l&&(s&124)===0&&(s&n.expiredLanes)===0||mi(n,s),d=u?GE(n,s):pf(n,s,!0),_=u;do{if(d===0){Yr&&!u&&is(n,s,0,!1);break}else{if(l=n.current.alternate,_&&!PE(l)){d=pf(n,s,!1),_=!1;continue}if(d===2){if(_=s,n.errorRecoveryDisabledLanes&_)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=n;d=cl;var M=b.current.memoizedState.isDehydrated;if(M&&(qr(b,E).flags|=256),E=pf(b,E,!1),E!==2){if(uf&&!M){b.errorRecoveryDisabledLanes|=_,js|=_,d=4;break e}_=$t,$t=d,_!==null&&($t===null?$t=_:$t.push.apply($t,_))}d=E}if(_=!1,d!==2)continue}}if(d===1){qr(n,0),is(n,s,0,!0);break}e:{switch(u=n,_=d,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:is(u,s,Mn,!$i);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=ff+300-De(),10<d)){if(is(u,s,Mn,!$i),bs(u,0,!0)!==0)break e;u.timeoutHandle=ap(Dy.bind(null,u,l,$t,iu,hf,s,Mn,js,Xr,$i,_,2,-0,0),d);break e}Dy(u,l,$t,iu,hf,s,Mn,js,Xr,$i,_,0,-0,0)}}break}while(!0);ai(n)}function Dy(n,s,l,u,d,_,E,b,M,B,W,$,Y,H){if(n.timeoutHandle=-1,$=s.subtreeFlags,($&8192||($&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:pS},Ty(s),$=vS(),$!==null)){n.cancelPendingCommit=$(Gy.bind(null,n,s,_,l,u,d,E,b,M,W,1,Y,H)),is(n,_,E,!B);return}Gy(n,s,_,l,u,d,E,b,M)}function PE(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],_=d.getSnapshot;d=d.value;try{if(!ln(_(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(n,s,l,u){s&=~cf,s&=~js,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var d=s;0<d;){var _=31-at(d),E=1<<_;u[_]=-1,d&=~E}l!==0&&Ma(n,l,s)}function su(){return(ze&6)===0?(fl(0),!1):!0}function _f(){if(we!==null){if(Pe===0)var n=we.return;else n=we,Si=Fs=null,Dh(n),Gr=null,nl=0,n=we;for(;n!==null;)hy(n.alternate,n),n=n.return;we=null}}function qr(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,tS(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),_f(),Xe=n,we=l=xi(n.current,null),Oe=s,Pe=0,hn=null,$i=!1,Yr=mi(n,s),uf=!1,Xr=Mn=cf=js=es=Qe=0,$t=cl=null,hf=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var d=31-at(u),_=1<<d;s|=n[d],u&=~_}return Oi=s,Ro(),l}function Ny(n,s){be=null,L.H=Ho,s===qa||s===Io?(s=Wm(),Pe=3):s===qm?(s=Wm(),Pe=4):Pe=s===Q_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,hn=s,we===null&&(Qe=1,Wo(n,bn(s,n.current)))}function Fy(){var n=L.H;return L.H=Ho,n===null?Ho:n}function Iy(){var n=L.A;return L.A=IE,n}function yf(){Qe=4,$i||(Oe&4194048)!==Oe&&An.current!==null||(Yr=!0),(es&134217727)===0&&(js&134217727)===0||Xe===null||is(Xe,Oe,Mn,!1)}function pf(n,s,l){var u=ze;ze|=2;var d=Fy(),_=Iy();(Xe!==n||Oe!==s)&&(iu=null,qr(n,s)),s=!1;var E=Qe;e:do try{if(Pe!==0&&we!==null){var b=we,M=hn;switch(Pe){case 8:_f(),E=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(s=!0);var B=Pe;if(Pe=0,hn=null,Zr(n,b,M,B),l&&Yr){E=0;break e}break;default:B=Pe,Pe=0,hn=null,Zr(n,b,M,B)}}kE(),E=Qe;break}catch(W){Ny(n,W)}while(!0);return s&&n.shellSuspendCounter++,Si=Fs=null,ze=u,L.H=d,L.A=_,we===null&&(Xe=null,Oe=0,Ro()),E}function kE(){for(;we!==null;)zy(we)}function GE(n,s){var l=ze;ze|=2;var u=Fy(),d=Iy();Xe!==n||Oe!==s?(iu=null,nu=De()+500,qr(n,s)):Yr=mi(n,s);e:do try{if(Pe!==0&&we!==null){s=we;var _=hn;t:switch(Pe){case 1:Pe=0,hn=null,Zr(n,s,_,1);break;case 2:case 9:if(Zm(_)){Pe=0,hn=null,Py(s);break}s=function(){Pe!==2&&Pe!==9||Xe!==n||(Pe=7),ai(n)},_.then(s,s);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Zm(_)?(Pe=0,hn=null,Py(s)):(Pe=0,hn=null,Zr(n,s,_,7));break;case 5:var E=null;switch(we.tag){case 26:E=we.memoizedState;case 5:case 27:var b=we;if(!E||pp(E)){Pe=0,hn=null;var M=b.sibling;if(M!==null)we=M;else{var B=b.return;B!==null?(we=B,ru(B)):we=null}break t}}Pe=0,hn=null,Zr(n,s,_,5);break;case 6:Pe=0,hn=null,Zr(n,s,_,6);break;case 8:_f(),Qe=6;break e;default:throw Error(i(462))}}jE();break}catch(W){Ny(n,W)}while(!0);return Si=Fs=null,L.H=u,L.A=d,ze=l,we!==null?0:(Xe=null,Oe=0,Ro(),Qe)}function jE(){for(;we!==null&&!gi();)zy(we)}function zy(n){var s=uy(n.alternate,n,Oi);n.memoizedProps=n.pendingProps,s===null?ru(n):we=s}function Py(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=iy(l,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=iy(l,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:Dh(s);default:hy(l,s),s=we=km(s,Oi),s=uy(l,s,Oi)}n.memoizedProps=n.pendingProps,s===null?ru(n):we=s}function Zr(n,s,l,u){Si=Fs=null,Dh(s),Gr=null,nl=0;var d=s.return;try{if(ME(n,d,s,l,Oe)){Qe=1,Wo(n,bn(l,n.current)),we=null;return}}catch(_){if(d!==null)throw we=d,_;Qe=1,Wo(n,bn(l,n.current)),we=null;return}s.flags&32768?(Fe||u===1?n=!0:Yr||(Oe&536870912)!==0?n=!1:($i=n=!0,(u===2||u===9||u===3||u===6)&&(u=An.current,u!==null&&u.tag===13&&(u.flags|=16384))),ky(s,n)):ru(s)}function ru(n){var s=n;do{if((s.flags&32768)!==0){ky(s,$i);return}n=s.return;var l=LE(s.alternate,s,Oi);if(l!==null){we=l;return}if(s=s.sibling,s!==null){we=s;return}we=s=n}while(s!==null);Qe===0&&(Qe=5)}function ky(n,s){do{var l=DE(n.alternate,n);if(l!==null){l.flags&=32767,we=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){we=n;return}we=n=l}while(n!==null);Qe=6,we=null}function Gy(n,s,l,u,d,_,E,b,M){n.cancelPendingCommit=null;do au();while(wt!==0);if((ze&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=lh,go(n,l,_,E,b,M),n===Xe&&(we=Xe=null,Oe=0),Hr=s,ns=n,Vr=l,df=_,gf=d,My=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,XE($n,function(){return Xy(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,d=P.p,P.p=2,E=ze,ze|=4;try{NE(n,s,l)}finally{ze=E,P.p=d,L.T=u}}wt=1,jy(),Uy(),By()}}function jy(){if(wt===1){wt=0;var n=ns,s=Hr,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var u=P.p;P.p=2;var d=ze;ze|=4;try{Sy(s,n);var _=Of,E=Am(n.containerInfo),b=_.focusedElem,M=_.selectionRange;if(E!==b&&b&&b.ownerDocument&&wm(b.ownerDocument.documentElement,b)){if(M!==null&&nh(b)){var B=M.start,W=M.end;if(W===void 0&&(W=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(W,b.value.length);else{var $=b.ownerDocument||document,Y=$&&$.defaultView||window;if(Y.getSelection){var H=Y.getSelection(),_e=b.textContent.length,ge=Math.min(M.start,_e),Ue=M.end===void 0?ge:Math.min(M.end,_e);!H.extend&&ge>Ue&&(E=Ue,Ue=ge,ge=E);var G=Rm(b,ge),z=Rm(b,Ue);if(G&&z&&(H.rangeCount!==1||H.anchorNode!==G.node||H.anchorOffset!==G.offset||H.focusNode!==z.node||H.focusOffset!==z.offset)){var U=$.createRange();U.setStart(G.node,G.offset),H.removeAllRanges(),ge>Ue?(H.addRange(U),H.extend(z.node,z.offset)):(U.setEnd(z.node,z.offset),H.addRange(U))}}}}for($=[],H=b;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var J=$[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}pu=!!Mf,Of=Mf=null}finally{ze=d,P.p=u,L.T=l}}n.current=s,wt=2}}function Uy(){if(wt===2){wt=0;var n=ns,s=Hr,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var u=P.p;P.p=2;var d=ze;ze|=4;try{py(n,s.alternate,s)}finally{ze=d,P.p=u,L.T=l}}wt=3}}function By(){if(wt===4||wt===3){wt=0,Ee();var n=ns,s=Hr,l=Vr,u=My;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wt=5:(wt=0,Hr=ns=null,Yy(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ts=null),Nt(l),s=s.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(vn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=L.T,d=P.p,P.p=2,L.T=null;try{for(var _=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];_(b.value,{componentStack:b.stack})}}finally{L.T=s,P.p=d}}(Vr&3)!==0&&au(),ai(n),d=n.pendingLanes,(l&4194090)!==0&&(d&42)!==0?n===mf?hl++:(hl=0,mf=n):hl=0,fl(0)}}function Yy(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ha(s)))}function au(n){return jy(),Uy(),By(),Xy()}function Xy(){if(wt!==5)return!1;var n=ns,s=df;df=0;var l=Nt(Vr),u=L.T,d=P.p;try{P.p=32>l?32:l,L.T=null,l=gf,gf=null;var _=ns,E=Vr;if(wt=0,Hr=ns=null,Vr=0,(ze&6)!==0)throw Error(i(331));var b=ze;if(ze|=4,wy(_.current),by(_,_.current,E,l),ze=b,fl(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(vn,_)}catch{}return!0}finally{P.p=d,L.T=u,Yy(n,s)}}function Hy(n,s,l){s=bn(l,s),s=Vh(n.stateNode,s,2),n=Vi(n,s,2),n!==null&&(In(n,2),ai(n))}function Ye(n,s,l){if(n.tag===3)Hy(n,n,l);else for(;s!==null;){if(s.tag===3){Hy(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ts===null||!ts.has(u))){n=bn(l,n),l=K_(2),u=Vi(s,l,2),u!==null&&(W_(l,u,s,n),In(u,2),ai(u));break}}s=s.return}}function xf(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new zE;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(l)||(uf=!0,d.add(l),n=UE.bind(null,n,s,l),s.then(n,n))}function UE(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Xe===n&&(Oe&l)===l&&(Qe===4||Qe===3&&(Oe&62914560)===Oe&&300>De()-ff?(ze&2)===0&&qr(n,0):cf|=l,Xr===Oe&&(Xr=0)),ai(n)}function Vy(n,s){s===0&&(s=Ui()),n=Mr(n,s),n!==null&&(In(n,s),ai(n))}function BE(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Vy(n,l)}function YE(n,s){var l=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Vy(n,l)}function XE(n,s){return Jn(n,s)}var lu=null,Kr=null,vf=!1,ou=!1,Ef=!1,Us=0;function ai(n){n!==Kr&&n.next===null&&(Kr===null?lu=Kr=n:Kr=Kr.next=n),ou=!0,vf||(vf=!0,VE())}function fl(n,s){if(!Ef&&ou){Ef=!0;do for(var l=!1,u=lu;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var _=0;else{var E=u.suspendedLanes,b=u.pingedLanes;_=(1<<31-at(42|n)+1)-1,_&=d&~(E&~b),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Wy(u,_))}else _=Oe,_=bs(u,u===Xe?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||mi(u,_)||(l=!0,Wy(u,_));u=u.next}while(l);Ef=!1}}function HE(){qy()}function qy(){ou=vf=!1;var n=0;Us!==0&&(eS()&&(n=Us),Us=0);for(var s=De(),l=null,u=lu;u!==null;){var d=u.next,_=Zy(u,s);_===0?(u.next=null,l===null?lu=d:l.next=d,d===null&&(Kr=l)):(l=u,(n!==0||(_&3)!==0)&&(ou=!0)),u=d}fl(n)}function Zy(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var E=31-at(_),b=1<<E,M=d[E];M===-1?((b&l)===0||(b&u)!==0)&&(d[E]=fo(b,s)):M<=s&&(n.expiredLanes|=b),_&=~b}if(s=Xe,l=Oe,l=bs(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Kt(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||mi(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&Kt(u),Nt(l)){case 2:case 8:l=nn;break;case 32:l=$n;break;case 268435456:l=Xt;break;default:l=$n}return u=Ky.bind(null,n),l=Jn(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&Kt(u),n.callbackPriority=2,n.callbackNode=null,2}function Ky(n,s){if(wt!==0&&wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(au()&&n.callbackNode!==l)return null;var u=Oe;return u=bs(n,n===Xe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Ly(n,u,s),Zy(n,De()),n.callbackNode!=null&&n.callbackNode===l?Ky.bind(null,n):null)}function Wy(n,s){if(au())return null;Ly(n,s,!0)}function VE(){nS(function(){(ze&6)!==0?Jn(Ot,HE):qy()})}function Sf(){return Us===0&&(Us=mr()),Us}function Qy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:xo(""+n)}function Jy(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function qE(n,s,l,u,d){if(s==="submit"&&l&&l.stateNode===d){var _=Qy((d[Ie]||null).action),E=u.submitter;E&&(s=(s=E[Ie]||null)?Qy(s.formAction):E.getAttribute("formAction"),s!==null&&(_=s,E=null));var b=new Co("action","action",null,u,d);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Us!==0){var M=E?Jy(d,E):new FormData(d);Uh(l,{pending:!0,data:M,method:d.method,action:_},null,M)}}else typeof _=="function"&&(b.preventDefault(),M=E?Jy(d,E):new FormData(d),Uh(l,{pending:!0,data:M,method:d.method,action:_},_,M))},currentTarget:d}]})}}for(var Cf=0;Cf<ah.length;Cf++){var bf=ah[Cf],ZE=bf.toLowerCase(),KE=bf[0].toUpperCase()+bf.slice(1);zn(ZE,"on"+KE)}zn(Lm,"onAnimationEnd"),zn(Dm,"onAnimationIteration"),zn(Nm,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(fE,"onTransitionRun"),zn(dE,"onTransitionStart"),zn(gE,"onTransitionCancel"),zn(Fm,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function $y(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],d=u.event;u=u.listeners;e:{var _=void 0;if(s)for(var E=u.length-1;0<=E;E--){var b=u[E],M=b.instance,B=b.currentTarget;if(b=b.listener,M!==_&&d.isPropagationStopped())break e;_=b,d.currentTarget=B;try{_(d)}catch(W){Ko(W)}d.currentTarget=null,_=M}else for(E=0;E<u.length;E++){if(b=u[E],M=b.instance,B=b.currentTarget,b=b.listener,M!==_&&d.isPropagationStopped())break e;_=b,d.currentTarget=B;try{_(d)}catch(W){Ko(W)}d.currentTarget=null,_=M}}}}function Ae(n,s){var l=s[an];l===void 0&&(l=s[an]=new Set);var u=n+"__bubble";l.has(u)||(ep(s,n,2,!1),l.add(u))}function Tf(n,s,l){var u=0;s&&(u|=4),ep(l,n,u,s)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Rf(n){if(!n[uu]){n[uu]=!0,qg.forEach(function(l){l!=="selectionchange"&&(WE.has(l)||Tf(l,!1,n),Tf(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[uu]||(s[uu]=!0,Tf("selectionchange",!1,s))}}function ep(n,s,l,u){switch(bp(s)){case 2:var d=CS;break;case 8:d=bS;break;default:d=jf}l=d.bind(null,s,l,n),d=void 0,!qc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(s,l,{capture:!0,passive:d}):n.addEventListener(s,l,!0):d!==void 0?n.addEventListener(s,l,{passive:d}):n.addEventListener(s,l,!1)}function wf(n,s,l,u,d){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===d)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;b!==null;){if(E=_r(b),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=_=E;continue e}b=b.parentNode}}u=u.return}lm(function(){var B=_,W=Hc(l),$=[];e:{var Y=Im.get(n);if(Y!==void 0){var H=Co,_e=n;switch(n){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":H=Xv;break;case"focusin":_e="focus",H=Qc;break;case"focusout":_e="blur",H=Qc;break;case"beforeblur":case"afterblur":H=Qc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=qv;break;case Lm:case Dm:case Nm:H=Iv;break;case Fm:H=Kv;break;case"scroll":case"scrollend":H=Ov;break;case"wheel":H=Qv;break;case"copy":case"cut":case"paste":H=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=fm;break;case"toggle":case"beforetoggle":H=$v}var ge=(s&4)!==0,Ue=!ge&&(n==="scroll"||n==="scrollend"),G=ge?Y!==null?Y+"Capture":null:Y;ge=[];for(var z=B,U;z!==null;){var J=z;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||G===null||(J=Da(z,G),J!=null&&ge.push(gl(z,J,U))),Ue)break;z=z.return}0<ge.length&&(Y=new H(Y,_e,null,l,W),$.push({event:Y,listeners:ge}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",Y&&l!==Xc&&(_e=l.relatedTarget||l.fromElement)&&(_r(_e)||_e[ht]))break e;if((H||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,H?(_e=l.relatedTarget||l.toElement,H=B,_e=_e?_r(_e):null,_e!==null&&(Ue=o(_e),ge=_e.tag,_e!==Ue||ge!==5&&ge!==27&&ge!==6)&&(_e=null)):(H=null,_e=B),H!==_e)){if(ge=cm,J="onMouseLeave",G="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(ge=fm,J="onPointerLeave",G="onPointerEnter",z="pointer"),Ue=H==null?Y:La(H),U=_e==null?Y:La(_e),Y=new ge(J,z+"leave",H,l,W),Y.target=Ue,Y.relatedTarget=U,J=null,_r(W)===B&&(ge=new ge(G,z+"enter",_e,l,W),ge.target=U,ge.relatedTarget=Ue,J=ge),Ue=J,H&&_e)t:{for(ge=H,G=_e,z=0,U=ge;U;U=Wr(U))z++;for(U=0,J=G;J;J=Wr(J))U++;for(;0<z-U;)ge=Wr(ge),z--;for(;0<U-z;)G=Wr(G),U--;for(;z--;){if(ge===G||G!==null&&ge===G.alternate)break t;ge=Wr(ge),G=Wr(G)}ge=null}else ge=null;H!==null&&tp($,Y,H,ge,!1),_e!==null&&Ue!==null&&tp($,Ue,_e,ge,!0)}}e:{if(Y=B?La(B):window,H=Y.nodeName&&Y.nodeName.toLowerCase(),H==="select"||H==="input"&&Y.type==="file")var ue=vm;else if(pm(Y))if(Em)ue=uE;else{ue=lE;var Te=aE}else H=Y.nodeName,!H||H.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?B&&Yc(B.elementType)&&(ue=vm):ue=oE;if(ue&&(ue=ue(n,B))){xm($,ue,l,W);break e}Te&&Te(n,Y,B),n==="focusout"&&B&&Y.type==="number"&&B.memoizedProps.value!=null&&Bc(Y,"number",Y.value)}switch(Te=B?La(B):window,n){case"focusin":(pm(Te)||Te.contentEditable==="true")&&(Rr=Te,ih=B,ja=null);break;case"focusout":ja=ih=Rr=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Mm($,l,W);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Mm($,l,W)}var he;if($c)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Tr?_m(n,l)&&(me="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(me="onCompositionStart");me&&(dm&&l.locale!=="ko"&&(Tr||me!=="onCompositionStart"?me==="onCompositionEnd"&&Tr&&(he=om()):(Bi=W,Zc="value"in Bi?Bi.value:Bi.textContent,Tr=!0)),Te=cu(B,me),0<Te.length&&(me=new hm(me,n,null,l,W),$.push({event:me,listeners:Te}),he?me.data=he:(he=ym(l),he!==null&&(me.data=he)))),(he=tE?nE(n,l):iE(n,l))&&(me=cu(B,"onBeforeInput"),0<me.length&&(Te=new hm("onBeforeInput","beforeinput",null,l,W),$.push({event:Te,listeners:me}),Te.data=he)),qE($,n,B,l,W)}$y($,s)})}function gl(n,s,l){return{instance:n,listener:s,currentTarget:l}}function cu(n,s){for(var l=s+"Capture",u=[];n!==null;){var d=n,_=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||_===null||(d=Da(n,l),d!=null&&u.unshift(gl(n,d,_)),d=Da(n,s),d!=null&&u.push(gl(n,d,_))),n.tag===3)return u;n=n.return}return[]}function Wr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function tp(n,s,l,u,d){for(var _=s._reactName,E=[];l!==null&&l!==u;){var b=l,M=b.alternate,B=b.stateNode;if(b=b.tag,M!==null&&M===u)break;b!==5&&b!==26&&b!==27||B===null||(M=B,d?(B=Da(l,_),B!=null&&E.unshift(gl(l,B,M))):d||(B=Da(l,_),B!=null&&E.push(gl(l,B,M)))),l=l.return}E.length!==0&&n.push({event:s,listeners:E})}var QE=/\r\n?/g,JE=/\u0000|\uFFFD/g;function np(n){return(typeof n=="string"?n:""+n).replace(QE,`
`).replace(JE,"")}function ip(n,s){return s=np(s),np(n)===s}function hu(){}function je(n,s,l,u,d,_){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Sr(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Sr(n,""+u);break;case"className":_o(n,"class",u);break;case"tabIndex":_o(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_o(n,l,u);break;case"style":rm(n,u,_);break;case"data":if(s!=="object"){_o(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=xo(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&je(n,s,"name",d.name,d,null),je(n,s,"formEncType",d.formEncType,d,null),je(n,s,"formMethod",d.formMethod,d,null),je(n,s,"formTarget",d.formTarget,d,null)):(je(n,s,"encType",d.encType,d,null),je(n,s,"method",d.method,d,null),je(n,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=xo(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=hu);break;case"onScroll":u!=null&&Ae("scroll",n);break;case"onScrollEnd":u!=null&&Ae("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=xo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Ae("beforetoggle",n),Ae("toggle",n),mo(n,"popover",u);break;case"xlinkActuate":yi(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yi(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yi(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yi(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yi(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yi(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yi(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":mo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Av.get(l)||l,mo(n,l,u))}}function Af(n,s,l,u,d,_){switch(l){case"style":rm(n,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Sr(n,u):(typeof u=="number"||typeof u=="bigint")&&Sr(n,""+u);break;case"onScroll":u!=null&&Ae("scroll",n);break;case"onScrollEnd":u!=null&&Ae("scrollend",n);break;case"onClick":u!=null&&(n.onclick=hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zg.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),_=n[Ie]||null,_=_!=null?_[l]:null,typeof _=="function"&&n.removeEventListener(s,_,d),typeof u=="function")){typeof _!="function"&&_!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,d);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):mo(n,l,u)}}}function At(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",n),Ae("load",n);var u=!1,d=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var E=l[_];if(E!=null)switch(_){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:je(n,s,_,E,l,null)}}d&&je(n,s,"srcSet",l.srcSet,l,null),u&&je(n,s,"src",l.src,l,null);return;case"input":Ae("invalid",n);var b=_=E=d=null,M=null,B=null;for(u in l)if(l.hasOwnProperty(u)){var W=l[u];if(W!=null)switch(u){case"name":d=W;break;case"type":E=W;break;case"checked":M=W;break;case"defaultChecked":B=W;break;case"value":_=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:je(n,s,u,W,l,null)}}tm(n,_,b,M,B,E,d,!1),yo(n);return;case"select":Ae("invalid",n),u=E=_=null;for(d in l)if(l.hasOwnProperty(d)&&(b=l[d],b!=null))switch(d){case"value":_=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:je(n,s,d,b,l,null)}s=_,l=E,n.multiple=!!u,s!=null?Er(n,!!u,s,!1):l!=null&&Er(n,!!u,l,!0);return;case"textarea":Ae("invalid",n),_=d=u=null;for(E in l)if(l.hasOwnProperty(E)&&(b=l[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":d=b;break;case"children":_=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:je(n,s,E,b,l,null)}im(n,u,d,_),yo(n);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(u=l[M],u!=null))switch(M){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:je(n,s,M,u,l,null)}return;case"dialog":Ae("beforetoggle",n),Ae("toggle",n),Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":Ae("load",n);break;case"video":case"audio":for(u=0;u<dl.length;u++)Ae(dl[u],n);break;case"image":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"embed":case"source":case"link":Ae("error",n),Ae("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in l)if(l.hasOwnProperty(B)&&(u=l[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:je(n,s,B,u,l,null)}return;default:if(Yc(s)){for(W in l)l.hasOwnProperty(W)&&(u=l[W],u!==void 0&&Af(n,s,W,u,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(u=l[b],u!=null&&je(n,s,b,u,l,null))}function $E(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,_=null,E=null,b=null,M=null,B=null,W=null;for(H in l){var $=l[H];if(l.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":M=$;default:u.hasOwnProperty(H)||je(n,s,H,null,u,$)}}for(var Y in u){var H=u[Y];if($=l[Y],u.hasOwnProperty(Y)&&(H!=null||$!=null))switch(Y){case"type":_=H;break;case"name":d=H;break;case"checked":B=H;break;case"defaultChecked":W=H;break;case"value":E=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:H!==$&&je(n,s,Y,H,u,$)}}Uc(n,E,b,M,B,W,_,d);return;case"select":H=E=b=Y=null;for(_ in l)if(M=l[_],l.hasOwnProperty(_)&&M!=null)switch(_){case"value":break;case"multiple":H=M;default:u.hasOwnProperty(_)||je(n,s,_,null,u,M)}for(d in u)if(_=u[d],M=l[d],u.hasOwnProperty(d)&&(_!=null||M!=null))switch(d){case"value":Y=_;break;case"defaultValue":b=_;break;case"multiple":E=_;default:_!==M&&je(n,s,d,_,u,M)}s=b,l=E,u=H,Y!=null?Er(n,!!l,Y,!1):!!u!=!!l&&(s!=null?Er(n,!!l,s,!0):Er(n,!!l,l?[]:"",!1));return;case"textarea":H=Y=null;for(b in l)if(d=l[b],l.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:je(n,s,b,null,u,d)}for(E in u)if(d=u[E],_=l[E],u.hasOwnProperty(E)&&(d!=null||_!=null))switch(E){case"value":Y=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==_&&je(n,s,E,d,u,_)}nm(n,Y,H);return;case"option":for(var _e in l)if(Y=l[_e],l.hasOwnProperty(_e)&&Y!=null&&!u.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:je(n,s,_e,null,u,Y)}for(M in u)if(Y=u[M],H=l[M],u.hasOwnProperty(M)&&Y!==H&&(Y!=null||H!=null))switch(M){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:je(n,s,M,Y,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in l)Y=l[ge],l.hasOwnProperty(ge)&&Y!=null&&!u.hasOwnProperty(ge)&&je(n,s,ge,null,u,Y);for(B in u)if(Y=u[B],H=l[B],u.hasOwnProperty(B)&&Y!==H&&(Y!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:je(n,s,B,Y,u,H)}return;default:if(Yc(s)){for(var Ue in l)Y=l[Ue],l.hasOwnProperty(Ue)&&Y!==void 0&&!u.hasOwnProperty(Ue)&&Af(n,s,Ue,void 0,u,Y);for(W in u)Y=u[W],H=l[W],!u.hasOwnProperty(W)||Y===H||Y===void 0&&H===void 0||Af(n,s,W,Y,u,H);return}}for(var G in l)Y=l[G],l.hasOwnProperty(G)&&Y!=null&&!u.hasOwnProperty(G)&&je(n,s,G,null,u,Y);for($ in u)Y=u[$],H=l[$],!u.hasOwnProperty($)||Y===H||Y==null&&H==null||je(n,s,$,Y,u,H)}var Mf=null,Of=null;function fu(n){return n.nodeType===9?n:n.ownerDocument}function sp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rp(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Lf(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Df=null;function eS(){var n=window.event;return n&&n.type==="popstate"?n===Df?!1:(Df=n,!0):(Df=null,!1)}var ap=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(n){return lp.resolve(null).then(n).catch(iS)}:ap;function iS(n){setTimeout(function(){throw n})}function ss(n){return n==="head"}function op(n,s){var l=s,u=0,d=0;do{var _=l.nextSibling;if(n.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<u&&8>u){l=u;var E=n.ownerDocument;if(l&1&&ml(E.documentElement),l&2&&ml(E.body),l&4)for(l=E.head,ml(l),E=l.firstChild;E;){var b=E.nextSibling,M=E.nodeName;E[Oa]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=b}}if(d===0){n.removeChild(_),Cl(s);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:u=l.charCodeAt(0)-48;else u=0;l=_}while(l);Cl(s)}function Nf(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Nf(l),Pc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function sS(n,s,l,u){for(;n.nodeType===1;){var d=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Oa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var _=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=kn(n.nextSibling),n===null)break}return null}function rS(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=kn(n.nextSibling),n===null))return null;return n}function Ff(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function aS(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function kn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var If=null;function up(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function cp(n,s,l){switch(s=fu(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ml(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Pc(n)}var On=new Map,hp=new Set;function du(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Li=P.d;P.d={f:lS,r:oS,D:uS,C:cS,L:hS,m:fS,X:gS,S:dS,M:mS};function lS(){var n=Li.f(),s=su();return n||s}function oS(n){var s=yr(n);s!==null&&s.tag===5&&s.type==="form"?L_(s):Li.r(n)}var Qr=typeof document>"u"?null:document;function fp(n,s,l){var u=Qr;if(u&&typeof s=="string"&&s){var d=Cn(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),hp.has(d)||(hp.add(d),n={rel:n,crossOrigin:l,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),At(s,"link",n),yt(s),u.head.appendChild(s)))}}function uS(n){Li.D(n),fp("dns-prefetch",n,null)}function cS(n,s){Li.C(n,s),fp("preconnect",n,s)}function hS(n,s,l){Li.L(n,s,l);var u=Qr;if(u&&n&&s){var d='link[rel="preload"][as="'+Cn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Cn(l.imageSizes)+'"]')):d+='[href="'+Cn(n)+'"]';var _=d;switch(s){case"style":_=Jr(n);break;case"script":_=$r(n)}On.has(_)||(n=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),On.set(_,n),u.querySelector(d)!==null||s==="style"&&u.querySelector(_l(_))||s==="script"&&u.querySelector(yl(_))||(s=u.createElement("link"),At(s,"link",n),yt(s),u.head.appendChild(s)))}}function fS(n,s){Li.m(n,s);var l=Qr;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Cn(u)+'"][href="'+Cn(n)+'"]',_=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$r(n)}if(!On.has(_)&&(n=m({rel:"modulepreload",href:n},s),On.set(_,n),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yl(_)))return}u=l.createElement("link"),At(u,"link",n),yt(u),l.head.appendChild(u)}}}function dS(n,s,l){Li.S(n,s,l);var u=Qr;if(u&&n){var d=pr(u).hoistableStyles,_=Jr(n);s=s||"default";var E=d.get(_);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(_l(_)))b.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},l),(l=On.get(_))&&zf(n,l);var M=E=u.createElement("link");yt(M),At(M,"link",n),M._p=new Promise(function(B,W){M.onload=B,M.onerror=W}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,gu(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:b},d.set(_,E)}}}function gS(n,s){Li.X(n,s);var l=Qr;if(l&&n){var u=pr(l).hoistableScripts,d=$r(n),_=u.get(d);_||(_=l.querySelector(yl(d)),_||(n=m({src:n,async:!0},s),(s=On.get(d))&&Pf(n,s),_=l.createElement("script"),yt(_),At(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(d,_))}}function mS(n,s){Li.M(n,s);var l=Qr;if(l&&n){var u=pr(l).hoistableScripts,d=$r(n),_=u.get(d);_||(_=l.querySelector(yl(d)),_||(n=m({src:n,async:!0,type:"module"},s),(s=On.get(d))&&Pf(n,s),_=l.createElement("script"),yt(_),At(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(d,_))}}function dp(n,s,l,u){var d=(d=ce.current)?du(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Jr(l.href),l=pr(d).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Jr(l.href);var _=pr(d).hoistableStyles,E=_.get(n);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,E),(_=d.querySelector(_l(n)))&&!_._p&&(E.instance=_,E.state.loading=5),On.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},On.set(n,l),_||_S(d,n,l,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$r(l),l=pr(d).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Jr(n){return'href="'+Cn(n)+'"'}function _l(n){return'link[rel="stylesheet"]['+n+"]"}function gp(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function _S(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),At(s,"link",l),yt(s),n.head.appendChild(s))}function $r(n){return'[src="'+Cn(n)+'"]'}function yl(n){return"script[async]"+n}function mp(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Cn(l.href)+'"]');if(u)return s.instance=u,yt(u),u;var d=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),yt(u),At(u,"style",d),gu(u,l.precedence,n),s.instance=u;case"stylesheet":d=Jr(l.href);var _=n.querySelector(_l(d));if(_)return s.state.loading|=4,s.instance=_,yt(_),_;u=gp(l),(d=On.get(d))&&zf(u,d),_=(n.ownerDocument||n).createElement("link"),yt(_);var E=_;return E._p=new Promise(function(b,M){E.onload=b,E.onerror=M}),At(_,"link",u),s.state.loading|=4,gu(_,l.precedence,n),s.instance=_;case"script":return _=$r(l.src),(d=n.querySelector(yl(_)))?(s.instance=d,yt(d),d):(u=l,(d=On.get(_))&&(u=m({},l),Pf(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),yt(d),At(d,"link",u),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,gu(u,l.precedence,n));return s.instance}function gu(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,_=d,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===s)_=b;else if(_!==d)break}_?_.parentNode.insertBefore(n,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function zf(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Pf(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var mu=null;function _p(n,s,l){if(mu===null){var u=new Map,d=mu=new Map;d.set(l,u)}else d=mu,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),d=0;d<l.length;d++){var _=l[d];if(!(_[Oa]||_[$e]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(s)||"";E=n+E;var b=u.get(E);b?b.push(_):u.set(E,[_])}}return u}function yp(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function yS(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function pp(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var pl=null;function pS(){}function xS(n,s,l){if(pl===null)throw Error(i(475));var u=pl;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Jr(l.href),_=n.querySelector(_l(d));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=_u.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=_,yt(_);return}_=n.ownerDocument||n,l=gp(l),(d=On.get(d))&&zf(l,d),_=_.createElement("link"),yt(_);var E=_;E._p=new Promise(function(b,M){E.onload=b,E.onerror=M}),At(_,"link",l),s.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=_u.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function vS(){if(pl===null)throw Error(i(475));var n=pl;return n.stylesheets&&n.count===0&&kf(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&kf(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function _u(){if(this.count--,this.count===0){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yu=null;function kf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yu=new Map,s.forEach(ES,n),yu=null,_u.call(n))}function ES(n,s){if(!(s.state.loading&4)){var l=yu.get(n);if(l)var u=l.get(null);else{l=new Map,yu.set(n,l);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<d.length;_++){var E=d[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}d=s.instance,E=d.getAttribute("data-precedence"),_=l.get(E)||u,_===u&&l.set(null,d),l.set(E,d),this.count++,u=_u.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),_?_.parentNode.insertBefore(d,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var xl={$$typeof:R,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function SS(n,s,l,u,d,_,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function xp(n,s,l,u,d,_,E,b,M,B,W,$){return n=new SS(n,s,l,E,b,M,B,$),s=1,_===!0&&(s|=24),_=on(3,null,null,s),n.current=_,_.stateNode=n,s=ph(),s.refCount++,n.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:s},Sh(_),n}function vp(n){return n?(n=Or,n):Or}function Ep(n,s,l,u,d,_){d=vp(d),u.context===null?u.context=d:u.pendingContext=d,u=Hi(s),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Vi(n,u,s),l!==null&&(dn(l,n,s),Ka(l,n,s))}function Sp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Gf(n,s){Sp(n,s),(n=n.alternate)&&Sp(n,s)}function Cp(n){if(n.tag===13){var s=Mr(n,67108864);s!==null&&dn(s,n,67108864),Gf(n,67108864)}}var pu=!0;function CS(n,s,l,u){var d=L.T;L.T=null;var _=P.p;try{P.p=2,jf(n,s,l,u)}finally{P.p=_,L.T=d}}function bS(n,s,l,u){var d=L.T;L.T=null;var _=P.p;try{P.p=8,jf(n,s,l,u)}finally{P.p=_,L.T=d}}function jf(n,s,l,u){if(pu){var d=Uf(u);if(d===null)wf(n,s,u,xu,l),Tp(n,u);else if(RS(d,n,s,l,u))u.stopPropagation();else if(Tp(n,u),s&4&&-1<TS.indexOf(n)){for(;d!==null;){var _=yr(d);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=ei(_.pendingLanes);if(E!==0){var b=_;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var M=1<<31-at(E);b.entanglements[1]|=M,E&=~M}ai(_),(ze&6)===0&&(nu=De()+500,fl(0))}}break;case 13:b=Mr(_,2),b!==null&&dn(b,_,2),su(),Gf(_,2)}if(_=Uf(u),_===null&&wf(n,s,u,xu,l),_===d)break;d=_}d!==null&&u.stopPropagation()}else wf(n,s,u,null,l)}}function Uf(n){return n=Hc(n),Bf(n)}var xu=null;function Bf(n){if(xu=null,n=_r(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return xu=n,null}function bp(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case Ot:return 2;case nn:return 8;case $n:case Lt:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var Yf=!1,rs=null,as=null,ls=null,vl=new Map,El=new Map,os=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(n,s){switch(n){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(s.pointerId)}}function Sl(n,s,l,u,d,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[d]},s!==null&&(s=yr(s),s!==null&&Cp(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function RS(n,s,l,u,d){switch(s){case"focusin":return rs=Sl(rs,n,s,l,u,d),!0;case"dragenter":return as=Sl(as,n,s,l,u,d),!0;case"mouseover":return ls=Sl(ls,n,s,l,u,d),!0;case"pointerover":var _=d.pointerId;return vl.set(_,Sl(vl.get(_)||null,n,s,l,u,d)),!0;case"gotpointercapture":return _=d.pointerId,El.set(_,Sl(El.get(_)||null,n,s,l,u,d)),!0}return!1}function Rp(n){var s=_r(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){n.blockedOn=s,Ht(n.priority,function(){if(l.tag===13){var u=fn();u=ti(u);var d=Mr(l,u);d!==null&&dn(d,l,u),Gf(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Uf(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Xc=u,l.target.dispatchEvent(u),Xc=null}else return s=yr(l),s!==null&&Cp(s),n.blockedOn=l,!1;s.shift()}return!0}function wp(n,s,l){vu(n)&&l.delete(s)}function wS(){Yf=!1,rs!==null&&vu(rs)&&(rs=null),as!==null&&vu(as)&&(as=null),ls!==null&&vu(ls)&&(ls=null),vl.forEach(wp),El.forEach(wp)}function Eu(n,s){n.blockedOn===s&&(n.blockedOn=null,Yf||(Yf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wS)))}var Su=null;function Ap(n){Su!==n&&(Su=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Su===n&&(Su=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],d=n[s+2];if(typeof u!="function"){if(Bf(u||l)===null)continue;break}var _=yr(l);_!==null&&(n.splice(s,3),s-=3,Uh(_,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function Cl(n){function s(M){return Eu(M,n)}rs!==null&&Eu(rs,n),as!==null&&Eu(as,n),ls!==null&&Eu(ls,n),vl.forEach(s),El.forEach(s);for(var l=0;l<os.length;l++){var u=os[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<os.length&&(l=os[0],l.blockedOn===null);)Rp(l),l.blockedOn===null&&os.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],_=l[u+1],E=d[Ie]||null;if(typeof _=="function")E||Ap(l);else if(E){var b=null;if(_&&_.hasAttribute("formAction")){if(d=_,E=_[Ie]||null)b=E.formAction;else if(Bf(d)!==null)continue}else b=E.action;typeof b=="function"?l[u+1]=b:(l.splice(u,3),u-=3),Ap(l)}}}function Xf(n){this._internalRoot=n}Cu.prototype.render=Xf.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=fn();Ep(l,u,n,s,null,null)},Cu.prototype.unmount=Xf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ep(n.current,2,null,n,null,null),su(),s[ht]=null}};function Cu(n){this._internalRoot=n}Cu.prototype.unstable_scheduleHydration=function(n){if(n){var s=En();n={blockedOn:null,target:n,priority:s};for(var l=0;l<os.length&&s!==0&&s<os[l].priority;l++);os.splice(l,0,n),l===0&&Rp(n)}};var Mp=e.version;if(Mp!=="19.1.0")throw Error(i(527,Mp,"19.1.0"));P.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var AS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{vn=bu.inject(AS),Je=bu}catch{}}return Tl.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,u="",d=H_,_=V_,E=q_,b=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=xp(n,1,!1,null,null,l,u,d,_,E,b,null),n[ht]=s.current,Rf(n),new Xf(s)},Tl.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var u=!1,d="",_=H_,E=V_,b=q_,M=null,B=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks),l.formState!==void 0&&(B=l.formState)),s=xp(n,1,!0,s,l??null,u,d,_,E,b,M,B),s.context=vp(null),l=s.current,u=fn(),u=ti(u),d=Hi(u),d.callback=null,Vi(l,d,u),l=u,s.current.lanes=l,In(s,l),ai(s),n[ht]=s.current,Rf(n),new Cu(s)},Tl.version="19.1.0",Tl}var Gp;function kS(){if(Gp)return qf.exports;Gp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qf.exports=PS(),qf.exports}var GS=kS();const jS=rx(GS);var Rl={},jp;function US(){if(jp)return Rl;jp=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=c,Rl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function c(p,x){const v=new o,C=p.length;if(C<2)return v;const S=(x==null?void 0:x.decode)||m;let T=0;do{const w=p.indexOf("=",T);if(w===-1)break;const R=p.indexOf(";",T),N=R===-1?C:R;if(w>N){T=p.lastIndexOf(";",w-1)+1;continue}const O=h(p,T,w),j=f(p,w,O),X=p.slice(O,j);if(v[X]===void 0){let q=h(p,w+1,N),Z=f(p,N,q);const ie=S(p.slice(q,Z));v[X]=ie}T=N+1}while(T<C);return v}function h(p,x,v){do{const C=p.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<v);return v}function f(p,x,v){for(;x>v;){const C=p.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return v}function g(p,x,v){const C=(v==null?void 0:v.encode)||encodeURIComponent;if(!r.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=C(x);if(!e.test(S))throw new TypeError(`argument val is invalid: ${x}`);let T=p+"="+S;if(!v)return T;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);T+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);T+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);T+="; Path="+v.path}if(v.expires){if(!y(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);T+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(T+="; HttpOnly"),v.secure&&(T+="; Secure"),v.partitioned&&(T+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return T}function m(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function y(p){return a.call(p)==="[object Date]"}return Rl}US();var Up="popstate";function BS(r={}){function e(i,a){let{pathname:o,search:c,hash:h}=i.location;return vd("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:kl(a)}return XS(e,t,null,r)}function Ze(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YS(){return Math.random().toString(36).substring(2,10)}function Bp(r,e){return{usr:r.state,key:r.key,idx:e}}function vd(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:t,key:e&&e.key||i||YS()}}function kl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function pa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function XS(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",f=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function y(){h="POP";let S=m(),T=S==null?null:S-g;g=S,f&&f({action:h,location:C.location,delta:T})}function p(S,T){h="PUSH";let w=vd(C.location,S,T);g=m()+1;let R=Bp(w,g),N=C.createHref(w);try{c.pushState(R,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(N)}o&&f&&f({action:h,location:C.location,delta:1})}function x(S,T){h="REPLACE";let w=vd(C.location,S,T);g=m();let R=Bp(w,g),N=C.createHref(w);c.replaceState(R,"",N),o&&f&&f({action:h,location:C.location,delta:0})}function v(S){let T=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof S=="string"?S:kl(S);return w=w.replace(/ $/,"%20"),Ze(T,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,T)}let C={get action(){return h},get location(){return r(a,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Up,y),f=S,()=>{a.removeEventListener(Up,y),f=null}},createHref(S){return e(a,S)},createURL:v,encodeLocation(S){let T=v(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:x,go(S){return c.go(S)}};return C}function lx(r,e,t="/"){return HS(r,e,t,!1)}function HS(r,e,t,i){let a=typeof e=="string"?pa(e):e,o=ki(a.pathname||"/",t);if(o==null)return null;let c=ox(r);VS(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=iC(o);h=tC(c[f],g,i)}return h}function ox(r,e=[],t=[],i=""){let a=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Ze(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=zi([i,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ox(o.children,e,m,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:$S(g,o.index),routesMeta:m})};return r.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,c);else for(let f of ux(o.path))a(o,c,f)}),e}function ux(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=ux(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>r.startsWith("/")&&f===""?"/":f)}function VS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:eC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var qS=/^:[\w-]+$/,ZS=3,KS=2,WS=1,QS=10,JS=-2,Yp=r=>r==="*";function $S(r,e){let t=r.split("/"),i=t.length;return t.some(Yp)&&(i+=JS),e&&(i+=KS),t.filter(a=>!Yp(a)).reduce((a,o)=>a+(qS.test(o)?ZS:o===""?WS:QS),i)}function eC(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function tC(r,e,t=!1){let{routesMeta:i}=r,a={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Zu({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),p=f.route;if(!y&&g&&t&&!i[i.length-1].route.index&&(y=Zu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:zi([o,y.pathname]),pathnameBase:lC(zi([o,y.pathnameBase])),route:p}),y.pathnameBase!=="/"&&(o=zi([o,y.pathnameBase]))}return c}function Zu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=nC(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:m,isOptional:y},p)=>{if(m==="*"){let v=h[p]||"";c=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const x=h[p];return y&&!x?g[m]=void 0:g[m]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:r}}function nC(r,e=!1,t=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function iC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function sC(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?pa(r):r;return{pathname:t?t.startsWith("/")?t:rC(t,e):e,search:oC(i),hash:uC(a)}}function rC(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Qf(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aC(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zd(r){let e=aC(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Kd(r,e,t,i=!1){let a;typeof r=="string"?a=pa(r):(a={...r},Ze(!a.pathname||!a.pathname.includes("?"),Qf("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),Qf("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),Qf("#","search","hash",a)));let o=r===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let y=e.length-1;if(!i&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),y-=1;a.pathname=p.join("/")}h=y>=0?e[y]:"/"}let f=sC(a,h),g=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),lC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function cC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var cx=["POST","PUT","PATCH","DELETE"];new Set(cx);var hC=["GET",...cx];new Set(hC);var xa=D.createContext(null);xa.displayName="DataRouter";var cc=D.createContext(null);cc.displayName="DataRouterState";var hx=D.createContext({isTransitioning:!1});hx.displayName="ViewTransition";var fC=D.createContext(new Map);fC.displayName="Fetchers";var dC=D.createContext(null);dC.displayName="Await";var Vn=D.createContext(null);Vn.displayName="Navigation";var $l=D.createContext(null);$l.displayName="Location";var qn=D.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var Wd=D.createContext(null);Wd.displayName="RouteError";function gC(r,{relative:e}={}){Ze(va(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=D.useContext(Vn),{hash:a,pathname:o,search:c}=to(r,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:zi([t,o])),i.createHref({pathname:h,search:c,hash:a})}function va(){return D.useContext($l)!=null}function Zn(){return Ze(va(),"useLocation() may be used only in the context of a <Router> component."),D.useContext($l).location}var fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dx(r){D.useContext(Vn).static||D.useLayoutEffect(r)}function eo(){let{isDataRoute:r}=D.useContext(qn);return r?AC():mC()}function mC(){Ze(va(),"useNavigate() may be used only in the context of a <Router> component.");let r=D.useContext(xa),{basename:e,navigator:t}=D.useContext(Vn),{matches:i}=D.useContext(qn),{pathname:a}=Zn(),o=JSON.stringify(Zd(i)),c=D.useRef(!1);return dx(()=>{c.current=!0}),D.useCallback((f,g={})=>{if(Hn(c.current,fx),!c.current)return;if(typeof f=="number"){t.go(f);return}let m=Kd(f,JSON.parse(o),a,g.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:zi([e,m.pathname])),(g.replace?t.replace:t.push)(m,g.state,g)},[e,t,o,a,r])}var gx=D.createContext(null);function Qd(){return D.useContext(gx)}function _C(r){let e=D.useContext(qn).outlet;return e&&D.createElement(gx.Provider,{value:r},e)}function to(r,{relative:e}={}){let{matches:t}=D.useContext(qn),{pathname:i}=Zn(),a=JSON.stringify(Zd(t));return D.useMemo(()=>Kd(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function yC(r,e){return mx(r,e)}function mx(r,e,t,i){var w;Ze(va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=D.useContext(Vn),{matches:c}=D.useContext(qn),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",m=h?h.pathnameBase:"/",y=h&&h.route;{let R=y&&y.path||"";_x(g,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let p=Zn(),x;if(e){let R=typeof e=="string"?pa(e):e;Ze(m==="/"||((w=R.pathname)==null?void 0:w.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${R.pathname}" was given in the \`location\` prop.`),x=R}else x=p;let v=x.pathname||"/",C=v;if(m!=="/"){let R=m.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=!o&&t&&t.matches&&t.matches.length>0?t.matches:lx(r,{pathname:C});Hn(y||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Hn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=SC(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:zi([m,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:zi([m,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,t,i);return e&&T?D.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function pC(){let r=wC(),e=cC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:a},t):null,c)}var xC=D.createElement(pC,null),vC=class extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?D.createElement(qn.Provider,{value:this.props.routeContext},D.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EC({routeContext:r,match:e,children:t}){let i=D.useContext(xa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(qn.Provider,{value:r},t)}function SC(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Ze(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:m,errors:y}=t,p=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||p){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,g,m)=>{let y,p=!1,x=null,v=null;t&&(y=o&&g.route.id?o[g.route.id]:void 0,x=g.route.errorElement||xC,c&&(h<0&&m===0?(_x("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):h===m&&(p=!0,v=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,m+1)),S=()=>{let T;return y?T=x:p?T=v:g.route.Component?T=D.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=f,D.createElement(EC,{match:g,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:T})};return t&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?D.createElement(vC,{location:t.location,revalidation:t.revalidation,component:x,error:y,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}function Jd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CC(r){let e=D.useContext(xa);return Ze(e,Jd(r)),e}function bC(r){let e=D.useContext(cc);return Ze(e,Jd(r)),e}function TC(r){let e=D.useContext(qn);return Ze(e,Jd(r)),e}function $d(r){let e=TC(r),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function RC(){return $d("useRouteId")}function wC(){var i;let r=D.useContext(Wd),e=bC("useRouteError"),t=$d("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function AC(){let{router:r}=CC("useNavigate"),e=$d("useNavigate"),t=D.useRef(!1);return dx(()=>{t.current=!0}),D.useCallback(async(a,o={})=>{Hn(t.current,fx),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var Xp={};function _x(r,e,t){!e&&!Xp[r]&&(Xp[r]=!0,Hn(!1,t))}D.memo(MC);function MC({routes:r,future:e,state:t}){return mx(r,void 0,t,e)}function yx({to:r,replace:e,state:t,relative:i}){Ze(va(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(Vn);Hn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(qn),{pathname:c}=Zn(),h=eo(),f=Kd(r,Zd(o),c,i==="path"),g=JSON.stringify(f);return D.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:i})},[h,g,i,e,t]),null}function OC(r){return _C(r.context)}function oi(r){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LC({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1}){Ze(!va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=pa(t));let{pathname:f="/",search:g="",hash:m="",state:y=null,key:p="default"}=t,x=D.useMemo(()=>{let v=ki(f,c);return v==null?null:{location:{pathname:v,search:g,hash:m,state:y,key:p},navigationType:i}},[c,f,g,m,y,p,i]);return Hn(x!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:D.createElement(Vn.Provider,{value:h},D.createElement($l.Provider,{children:e,value:x}))}function DC({children:r,location:e}){return yC(Ed(r),e)}function Ed(r,e=[]){let t=[];return D.Children.forEach(r,(i,a)=>{if(!D.isValidElement(i))return;let o=[...e,a];if(i.type===D.Fragment){t.push.apply(t,Ed(i.props.children,o));return}Ze(i.type===oi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ed(i.props.children,o)),t.push(c)}),t}var Uu="get",Bu="application/x-www-form-urlencoded";function hc(r){return r!=null&&typeof r.tagName=="string"}function NC(r){return hc(r)&&r.tagName.toLowerCase()==="button"}function FC(r){return hc(r)&&r.tagName.toLowerCase()==="form"}function IC(r){return hc(r)&&r.tagName.toLowerCase()==="input"}function zC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function PC(r,e){return r.button===0&&(!e||e==="_self")&&!zC(r)}var Tu=null;function kC(){if(Tu===null)try{new FormData(document.createElement("form"),0),Tu=!1}catch{Tu=!0}return Tu}var GC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(r){return r!=null&&!GC.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bu}"`),null):r}function jC(r,e){let t,i,a,o,c;if(FC(r)){let h=r.getAttribute("action");i=h?ki(h,e):null,t=r.getAttribute("method")||Uu,a=Jf(r.getAttribute("enctype"))||Bu,o=new FormData(r)}else if(NC(r)||IC(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||h.getAttribute("action");if(i=f?ki(f,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||Uu,a=Jf(r.getAttribute("formenctype"))||Jf(h.getAttribute("enctype"))||Bu,o=new FormData(h,r),!kC()){let{name:g,type:m,value:y}=r;if(m==="image"){let p=g?`${g}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else g&&o.append(g,y)}}else{if(hc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uu,i=null,a=Bu,c=r}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:c}}function eg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function UC(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function YC(r,e,t){let i=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await UC(o,t);return c.links?c.links():[]}return[]}));return qC(i.flat(1).filter(BC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hp(r,e,t,i,a,o){let c=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>{var m;return t[g].pathname!==f.pathname||((m=t[g].route.path)==null?void 0:m.endsWith("*"))&&t[g].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?e.filter((f,g)=>{var y;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function XC(r,e,{includeHydrateFallback:t}={}){return HC(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function HC(r){return[...new Set(r)]}function VC(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function qC(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let o=JSON.stringify(VC(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}var ZC=new Set([100,101,204,205]);function KC(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&ki(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function px(){let r=D.useContext(xa);return eg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function WC(){let r=D.useContext(cc);return eg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tg=D.createContext(void 0);tg.displayName="FrameworkContext";function xx(){let r=D.useContext(tg);return eg(r,"You must render this element inside a <HydratedRouter> element"),r}function QC(r,e){let t=D.useContext(tg),[i,a]=D.useState(!1),[o,c]=D.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:y}=e,p=D.useRef(null);D.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let C=T=>{T.forEach(w=>{c(w.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[r]),D.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let x=()=>{a(!0)},v=()=>{a(!1),c(!1)};return t?r!=="intent"?[o,p,{}]:[o,p,{onFocus:wl(h,x),onBlur:wl(f,v),onMouseEnter:wl(g,x),onMouseLeave:wl(m,v),onTouchStart:wl(y,x)}]:[!1,p,{}]}function wl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function JC({page:r,...e}){let{router:t}=px(),i=D.useMemo(()=>lx(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?D.createElement(eb,{page:r,matches:i,...e}):null}function $C(r){let{manifest:e,routeModules:t}=xx(),[i,a]=D.useState([]);return D.useEffect(()=>{let o=!1;return YC(r,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[r,e,t]),i}function eb({page:r,matches:e,...t}){let i=Zn(),{manifest:a,routeModules:o}=xx(),{basename:c}=px(),{loaderData:h,matches:f}=WC(),g=D.useMemo(()=>Hp(r,e,f,a,i,"data"),[r,e,f,a,i]),m=D.useMemo(()=>Hp(r,e,f,a,i,"assets"),[r,e,f,a,i]),y=D.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let v=new Set,C=!1;if(e.forEach(T=>{var R;let w=a.routes[T.route.id];!w||!w.hasLoader||(!g.some(N=>N.route.id===T.route.id)&&T.route.id in h&&((R=o[T.route.id])!=null&&R.shouldRevalidate)||w.hasClientLoader?C=!0:v.add(T.route.id))}),v.size===0)return[];let S=KC(r,c);return C&&v.size>0&&S.searchParams.set("_routes",e.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[c,h,i,a,g,e,r,o]),p=D.useMemo(()=>XC(m,a),[m,a]),x=$C(m);return D.createElement(D.Fragment,null,y.map(v=>D.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),p.map(v=>D.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),x.map(({key:v,link:C})=>D.createElement("link",{key:v,...C})))}function tb(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.5.2")}catch{}function nb({basename:r,children:e,window:t}){let i=D.useRef();i.current==null&&(i.current=BS({window:t,v5Compat:!0}));let a=i.current,[o,c]=D.useState({action:a.action,location:a.location}),h=D.useCallback(f=>{D.startTransition(()=>c(f))},[c]);return D.useLayoutEffect(()=>a.listen(h),[a,h]),D.createElement(LC,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:a})}var Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sx=D.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:m,viewTransition:y,...p},x){let{basename:v}=D.useContext(Vn),C=typeof g=="string"&&Ex.test(g),S,T=!1;if(typeof g=="string"&&C&&(S=g,vx))try{let Z=new URL(window.location.href),ie=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),re=ki(ie.pathname,v);ie.origin===Z.origin&&re!=null?g=re+ie.search+ie.hash:T=!0}catch{Hn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=gC(g,{relative:a}),[R,N,O]=QC(i,p),j=ab(g,{replace:c,state:h,target:f,preventScrollReset:m,relative:a,viewTransition:y});function X(Z){e&&e(Z),Z.defaultPrevented||j(Z)}let q=D.createElement("a",{...p,...O,href:S||w,onClick:T||o?e:X,ref:tb(x,N),target:f,"data-discover":!C&&t==="render"?"true":void 0});return R&&!C?D.createElement(D.Fragment,null,q,D.createElement(JC,{page:w})):q});Sx.displayName="Link";var ib=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...g},m){let y=to(c,{relative:g.relative}),p=Zn(),x=D.useContext(cc),{navigator:v,basename:C}=D.useContext(Vn),S=x!=null&&hb(y)&&h===!0,T=v.encodeLocation?v.encodeLocation(y).pathname:y.pathname,w=p.pathname,R=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(w=w.toLowerCase(),R=R?R.toLowerCase():null,T=T.toLowerCase()),R&&C&&(R=ki(R,C)||R);const N=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=w===T||!a&&w.startsWith(T)&&w.charAt(N)==="/",j=R!=null&&(R===T||!a&&R.startsWith(T)&&R.charAt(T.length)==="/"),X={isActive:O,isPending:j,isTransitioning:S},q=O?e:void 0,Z;typeof i=="function"?Z=i(X):Z=[i,O?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ie=typeof o=="function"?o(X):o;return D.createElement(Sx,{...g,"aria-current":q,className:Z,ref:m,style:ie,to:c,viewTransition:h},typeof f=="function"?f(X):f)});ib.displayName="NavLink";var sb=D.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:c=Uu,action:h,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:y,...p},x)=>{let v=ub(),C=cb(h,{relative:g}),S=c.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&Ex.test(h),w=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let N=R.nativeEvent.submitter,O=(N==null?void 0:N.getAttribute("formmethod"))||c;v(N||R.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:a,state:o,relative:g,preventScrollReset:m,viewTransition:y})};return D.createElement("form",{ref:x,method:S,action:C,onSubmit:i?f:w,...p,"data-discover":!T&&r==="render"?"true":void 0})});sb.displayName="Form";function rb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cx(r){let e=D.useContext(xa);return Ze(e,rb(r)),e}function ab(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=eo(),f=Zn(),g=to(r,{relative:o});return D.useCallback(m=>{if(PC(m,e)){m.preventDefault();let y=t!==void 0?t:kl(f)===kl(g);h(r,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,g,t,i,e,r,a,o,c])}var lb=0,ob=()=>`__${String(++lb)}__`;function ub(){let{router:r}=Cx("useSubmit"),{basename:e}=D.useContext(Vn),t=RC();return D.useCallback(async(i,a={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=jC(i,e);if(a.navigate===!1){let m=a.fetcherKey||ob();await r.fetch(m,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function cb(r,{relative:e}={}){let{basename:t}=D.useContext(Vn),i=D.useContext(qn);Ze(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...to(r||".",{relative:e})},c=Zn();if(r==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(m=>m==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();o.search=m?`?${m}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:zi([t,o.pathname])),kl(o)}function hb(r,e={}){let t=D.useContext(hx);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Cx("useViewTransitionState"),a=to(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ki(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ki(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Zu(a.pathname,c)!=null||Zu(a.pathname,o)!=null}new TextEncoder;[...ZC];var bx=ax();/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),db=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Vp=r=>{const e=db(r);return e.charAt(0).toUpperCase()+e.slice(1)},Tx=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),gb=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=D.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},f)=>D.createElement("svg",{ref:f,...mb,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:Tx("lucide",a),...!o&&!gb(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,m])=>D.createElement(g,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(r,e)=>{const t=D.forwardRef(({className:i,...a},o)=>D.createElement(_b,{ref:o,iconNode:e,className:Tx(`lucide-${fb(Vp(r))}`,`lucide-${r}`,i),...a}));return t.displayName=Vp(r),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pb=st("bell",yb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vb=st("check",xb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sb=st("chevron-down",Eb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bb=st("circle-x",Cb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"1n2rgs"}],["path",{d:"M6 8h4",key:"utf9t1"}],["path",{d:"M6 18h4",key:"12yh4b"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"3ha7mj"}],["path",{d:"M14 8h4",key:"1r8wg2"}],["path",{d:"M14 18h4",key:"1t3kbu"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"dfd4e2"}]],Rb=st("fence",Tb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ab=st("layers",wb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ob=st("locate-fixed",Mb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Db=st("log-out",Lb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Fb=st("map-pin-minus-inside",Nb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],zb=st("map-pin-plus-inside",Ib);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],kb=st("map-pin-plus",Pb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077",key:"y0ewhp"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m21.5 15.5-5 5",key:"11iqnx"}],["path",{d:"m21.5 20.5-5-5",key:"1bylgx"}]],jb=st("map-pin-x",Gb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rx=st("map-pin",Ub);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Yb=st("map-pinned",Bb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Hb=st("menu",Xb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],qb=st("paw-print",Vb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Kb=st("ruler",Zb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wx=st("save",Wb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],Jb=st("spline-pointer",Qb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],eT=st("undo",$b);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ax=st("x",tT);function Mx(r,e){return function(){return r.apply(e,arguments)}}const{toString:nT}=Object.prototype,{getPrototypeOf:ng}=Object,{iterator:fc,toStringTag:Ox}=Symbol,dc=(r=>e=>{const t=nT.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=r=>(r=r.toLowerCase(),e=>dc(e)===r),gc=r=>e=>typeof e===r,{isArray:Ea}=Array,Gl=gc("undefined");function iT(r){return r!==null&&!Gl(r)&&r.constructor!==null&&!Gl(r.constructor)&&en(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Lx=Kn("ArrayBuffer");function sT(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Lx(r.buffer),e}const rT=gc("string"),en=gc("function"),Dx=gc("number"),mc=r=>r!==null&&typeof r=="object",aT=r=>r===!0||r===!1,Yu=r=>{if(dc(r)!=="object")return!1;const e=ng(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ox in r)&&!(fc in r)},lT=Kn("Date"),oT=Kn("File"),uT=Kn("Blob"),cT=Kn("FileList"),hT=r=>mc(r)&&en(r.pipe),fT=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||en(r.append)&&((e=dc(r))==="formdata"||e==="object"&&en(r.toString)&&r.toString()==="[object FormData]"))},dT=Kn("URLSearchParams"),[gT,mT,_T,yT]=["ReadableStream","Request","Response","Headers"].map(Kn),pT=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function no(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let i,a;if(typeof r!="object"&&(r=[r]),Ea(r))for(i=0,a=r.length;i<a;i++)e.call(null,r[i],i,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),c=o.length;let h;for(i=0;i<c;i++)h=o[i],e.call(null,r[h],h,r)}}function Nx(r,e){e=e.toLowerCase();const t=Object.keys(r);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const Vs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fx=r=>!Gl(r)&&r!==Vs;function Sd(){const{caseless:r}=Fx(this)&&this||{},e={},t=(i,a)=>{const o=r&&Nx(e,a)||a;Yu(e[o])&&Yu(i)?e[o]=Sd(e[o],i):Yu(i)?e[o]=Sd({},i):Ea(i)?e[o]=i.slice():e[o]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&no(arguments[i],t);return e}const xT=(r,e,t,{allOwnKeys:i}={})=>(no(e,(a,o)=>{t&&en(a)?r[o]=Mx(a,t):r[o]=a},{allOwnKeys:i}),r),vT=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),ET=(r,e,t,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},ST=(r,e,t,i)=>{let a,o,c;const h={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),o=a.length;o-- >0;)c=a[o],(!i||i(c,r,e))&&!h[c]&&(e[c]=r[c],h[c]=!0);r=t!==!1&&ng(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},CT=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const i=r.indexOf(e,t);return i!==-1&&i===t},bT=r=>{if(!r)return null;if(Ea(r))return r;let e=r.length;if(!Dx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},TT=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&ng(Uint8Array)),RT=(r,e)=>{const i=(r&&r[fc]).call(r);let a;for(;(a=i.next())&&!a.done;){const o=a.value;e.call(r,o[0],o[1])}},wT=(r,e)=>{let t;const i=[];for(;(t=r.exec(e))!==null;)i.push(t);return i},AT=Kn("HTMLFormElement"),MT=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),qp=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),OT=Kn("RegExp"),Ix=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),i={};no(t,(a,o)=>{let c;(c=e(a,o,r))!==!1&&(i[o]=c||a)}),Object.defineProperties(r,i)},LT=r=>{Ix(r,(e,t)=>{if(en(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=r[t];if(en(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},DT=(r,e)=>{const t={},i=a=>{a.forEach(o=>{t[o]=!0})};return Ea(r)?i(r):i(String(r).split(e)),t},NT=()=>{},FT=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function IT(r){return!!(r&&en(r.append)&&r[Ox]==="FormData"&&r[fc])}const zT=r=>{const e=new Array(10),t=(i,a)=>{if(mc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const o=Ea(i)?[]:{};return no(i,(c,h)=>{const f=t(c,a+1);!Gl(f)&&(o[h]=f)}),e[a]=void 0,o}}return i};return t(r,0)},PT=Kn("AsyncFunction"),kT=r=>r&&(mc(r)||en(r))&&en(r.then)&&en(r.catch),zx=((r,e)=>r?setImmediate:e?((t,i)=>(Vs.addEventListener("message",({source:a,data:o})=>{a===Vs&&o===t&&i.length&&i.shift()()},!1),a=>{i.push(a),Vs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",en(Vs.postMessage)),GT=typeof queueMicrotask<"u"?queueMicrotask.bind(Vs):typeof process<"u"&&process.nextTick||zx,jT=r=>r!=null&&en(r[fc]),V={isArray:Ea,isArrayBuffer:Lx,isBuffer:iT,isFormData:fT,isArrayBufferView:sT,isString:rT,isNumber:Dx,isBoolean:aT,isObject:mc,isPlainObject:Yu,isReadableStream:gT,isRequest:mT,isResponse:_T,isHeaders:yT,isUndefined:Gl,isDate:lT,isFile:oT,isBlob:uT,isRegExp:OT,isFunction:en,isStream:hT,isURLSearchParams:dT,isTypedArray:TT,isFileList:cT,forEach:no,merge:Sd,extend:xT,trim:pT,stripBOM:vT,inherits:ET,toFlatObject:ST,kindOf:dc,kindOfTest:Kn,endsWith:CT,toArray:bT,forEachEntry:RT,matchAll:wT,isHTMLForm:AT,hasOwnProperty:qp,hasOwnProp:qp,reduceDescriptors:Ix,freezeMethods:LT,toObjectSet:DT,toCamelCase:MT,noop:NT,toFiniteNumber:FT,findKey:Nx,global:Vs,isContextDefined:Fx,isSpecCompliantForm:IT,toJSONObject:zT,isAsyncFn:PT,isThenable:kT,setImmediate:zx,asap:GT,isIterable:jT};function Se(r,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}V.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Px=Se.prototype,kx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{kx[r]={value:r}});Object.defineProperties(Se,kx);Object.defineProperty(Px,"isAxiosError",{value:!0});Se.from=(r,e,t,i,a,o)=>{const c=Object.create(Px);return V.toFlatObject(r,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Se.call(c,r.message,e,t,i,a),c.cause=r,c.name=r.name,o&&Object.assign(c,o),c};const UT=null;function Cd(r){return V.isPlainObject(r)||V.isArray(r)}function Gx(r){return V.endsWith(r,"[]")?r.slice(0,-2):r}function Zp(r,e,t){return r?r.concat(e).map(function(a,o){return a=Gx(a),!t&&o?"["+a+"]":a}).join(t?".":""):e}function BT(r){return V.isArray(r)&&!r.some(Cd)}const YT=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function _c(r,e,t){if(!V.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=V.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,S){return!V.isUndefined(S[C])});const i=t.metaTokens,a=t.visitor||m,o=t.dots,c=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(a))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(V.isDate(v))return v.toISOString();if(!f&&V.isBlob(v))throw new Se("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(v)||V.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,C,S){let T=v;if(v&&!S&&typeof v=="object"){if(V.endsWith(C,"{}"))C=i?C:C.slice(0,-2),v=JSON.stringify(v);else if(V.isArray(v)&&BT(v)||(V.isFileList(v)||V.endsWith(C,"[]"))&&(T=V.toArray(v)))return C=Gx(C),T.forEach(function(R,N){!(V.isUndefined(R)||R===null)&&e.append(c===!0?Zp([C],N,o):c===null?C:C+"[]",g(R))}),!1}return Cd(v)?!0:(e.append(Zp(S,C,o),g(v)),!1)}const y=[],p=Object.assign(YT,{defaultVisitor:m,convertValue:g,isVisitable:Cd});function x(v,C){if(!V.isUndefined(v)){if(y.indexOf(v)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(v),V.forEach(v,function(T,w){(!(V.isUndefined(T)||T===null)&&a.call(e,T,V.isString(w)?w.trim():w,C,p))===!0&&x(T,C?C.concat(w):[w])}),y.pop()}}if(!V.isObject(r))throw new TypeError("data must be an object");return x(r),e}function Kp(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ig(r,e){this._pairs=[],r&&_c(r,this,e)}const jx=ig.prototype;jx.append=function(e,t){this._pairs.push([e,t])};jx.toString=function(e){const t=e?function(i){return e.call(this,i,Kp)}:Kp;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function XT(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ux(r,e,t){if(!e)return r;const i=t&&t.encode||XT;V.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let o;if(a?o=a(e,t):o=V.isURLSearchParams(e)?e.toString():new ig(e,t).toString(i),o){const c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class Wp{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Bx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HT=typeof URLSearchParams<"u"?URLSearchParams:ig,VT=typeof FormData<"u"?FormData:null,qT=typeof Blob<"u"?Blob:null,ZT={isBrowser:!0,classes:{URLSearchParams:HT,FormData:VT,Blob:qT},protocols:["http","https","file","blob","url","data"]},sg=typeof window<"u"&&typeof document<"u",bd=typeof navigator=="object"&&navigator||void 0,KT=sg&&(!bd||["ReactNative","NativeScript","NS"].indexOf(bd.product)<0),WT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QT=sg&&window.location.href||"http://localhost",JT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sg,hasStandardBrowserEnv:KT,hasStandardBrowserWebWorkerEnv:WT,navigator:bd,origin:QT},Symbol.toStringTag,{value:"Module"})),Yt={...JT,...ZT};function $T(r,e){return _c(r,new Yt.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,o){return Yt.isNode&&V.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function eR(r){return V.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tR(r){const e={},t=Object.keys(r);let i;const a=t.length;let o;for(i=0;i<a;i++)o=t[i],e[o]=r[o];return e}function Yx(r){function e(t,i,a,o){let c=t[o++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=o>=t.length;return c=!c&&V.isArray(a)?a.length:c,f?(V.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!h):((!a[c]||!V.isObject(a[c]))&&(a[c]=[]),e(t,i,a[c],o)&&V.isArray(a[c])&&(a[c]=tR(a[c])),!h)}if(V.isFormData(r)&&V.isFunction(r.entries)){const t={};return V.forEachEntry(r,(i,a)=>{e(eR(i),a,t,0)}),t}return null}function nR(r,e,t){if(V.isString(r))try{return(e||JSON.parse)(r),V.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(r)}const io={transitional:Bx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,o=V.isObject(e);if(o&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return a?JSON.stringify(Yx(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return $T(e,this.formSerializer).toString();if((h=V.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return _c(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||a?(t.setContentType("application/json",!1),nR(e)):e}],transformResponse:[function(e){const t=this.transitional||io.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(i&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?Se.from(h,Se.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],r=>{io.headers[r]={}});const iR=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sR=r=>{const e={};let t,i,a;return r&&r.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!t||e[t]&&iR[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Qp=Symbol("internals");function Al(r){return r&&String(r).trim().toLowerCase()}function Xu(r){return r===!1||r==null?r:V.isArray(r)?r.map(Xu):String(r)}function rR(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(r);)e[i[1]]=i[2];return e}const aR=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function $f(r,e,t,i,a){if(V.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!V.isString(e)){if(V.isString(i))return e.indexOf(i)!==-1;if(V.isRegExp(i))return i.test(e)}}function lR(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function oR(r,e){const t=V.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+t,{value:function(a,o,c){return this[i].call(this,e,a,o,c)},configurable:!0})})}let tn=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function o(h,f,g){const m=Al(f);if(!m)throw new Error("header name must be a non-empty string");const y=V.findKey(a,m);(!y||a[y]===void 0||g===!0||g===void 0&&a[y]!==!1)&&(a[y||f]=Xu(h))}const c=(h,f)=>V.forEach(h,(g,m)=>o(g,m,f));if(V.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(V.isString(e)&&(e=e.trim())&&!aR(e))c(sR(e),t);else if(V.isObject(e)&&V.isIterable(e)){let h={},f,g;for(const m of e){if(!V.isArray(m))throw TypeError("Object iterator must return a key-value pair");h[g=m[0]]=(f=h[g])?V.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}c(h,t)}else e!=null&&o(t,e,i);return this}get(e,t){if(e=Al(e),e){const i=V.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return rR(a);if(V.isFunction(t))return t.call(this,a,i);if(V.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Al(e),e){const i=V.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||$f(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function o(c){if(c=Al(c),c){const h=V.findKey(i,c);h&&(!t||$f(i,i[h],h,t))&&(delete i[h],a=!0)}}return V.isArray(e)?e.forEach(o):o(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const o=t[i];(!e||$f(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const t=this,i={};return V.forEach(this,(a,o)=>{const c=V.findKey(i,o);if(c){t[c]=Xu(a),delete t[o];return}const h=e?lR(o):String(o).trim();h!==o&&delete t[o],t[h]=Xu(a),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return V.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&V.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[Qp]=this[Qp]={accessors:{}}).accessors,a=this.prototype;function o(c){const h=Al(c);i[h]||(oR(a,c),i[h]=!0)}return V.isArray(e)?e.forEach(o):o(e),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(tn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[t]=i}}});V.freezeMethods(tn);function ed(r,e){const t=this||io,i=e||t,a=tn.from(i.headers);let o=i.data;return V.forEach(r,function(h){o=h.call(t,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function Xx(r){return!!(r&&r.__CANCEL__)}function Sa(r,e,t){Se.call(this,r??"canceled",Se.ERR_CANCELED,e,t),this.name="CanceledError"}V.inherits(Sa,Se,{__CANCEL__:!0});function Hx(r,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?r(t):e(new Se("Request failed with status code "+t.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function uR(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function cR(r,e){r=r||10;const t=new Array(r),i=new Array(r);let a=0,o=0,c;return e=e!==void 0?e:1e3,function(f){const g=Date.now(),m=i[o];c||(c=g),t[a]=f,i[a]=g;let y=o,p=0;for(;y!==a;)p+=t[y++],y=y%r;if(a=(a+1)%r,a===o&&(o=(o+1)%r),g-c<e)return;const x=m&&g-m;return x?Math.round(p*1e3/x):void 0}}function hR(r,e){let t=0,i=1e3/e,a,o;const c=(g,m=Date.now())=>{t=m,a=null,o&&(clearTimeout(o),o=null),r.apply(null,g)};return[(...g)=>{const m=Date.now(),y=m-t;y>=i?c(g,m):(a=g,o||(o=setTimeout(()=>{o=null,c(a)},i-y)))},()=>a&&c(a)]}const Ku=(r,e,t=3)=>{let i=0;const a=cR(50,250);return hR(o=>{const c=o.loaded,h=o.lengthComputable?o.total:void 0,f=c-i,g=a(f),m=c<=h;i=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:g||void 0,estimated:g&&h&&m?(h-c)/g:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};r(y)},t)},Jp=(r,e)=>{const t=r!=null;return[i=>e[0]({lengthComputable:t,total:r,loaded:i}),e[1]]},$p=r=>(...e)=>V.asap(()=>r(...e)),fR=Yt.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Yt.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,dR=Yt.hasStandardBrowserEnv?{write(r,e,t,i,a,o){const c=[r+"="+encodeURIComponent(e)];V.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),V.isString(i)&&c.push("path="+i),V.isString(a)&&c.push("domain="+a),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gR(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function mR(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Vx(r,e,t){let i=!gR(e);return r&&(i||t==!1)?mR(r,e):e}const e0=r=>r instanceof tn?{...r}:r;function ir(r,e){e=e||{};const t={};function i(g,m,y,p){return V.isPlainObject(g)&&V.isPlainObject(m)?V.merge.call({caseless:p},g,m):V.isPlainObject(m)?V.merge({},m):V.isArray(m)?m.slice():m}function a(g,m,y,p){if(V.isUndefined(m)){if(!V.isUndefined(g))return i(void 0,g,y,p)}else return i(g,m,y,p)}function o(g,m){if(!V.isUndefined(m))return i(void 0,m)}function c(g,m){if(V.isUndefined(m)){if(!V.isUndefined(g))return i(void 0,g)}else return i(void 0,m)}function h(g,m,y){if(y in e)return i(g,m);if(y in r)return i(void 0,g)}const f={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(g,m,y)=>a(e0(g),e0(m),y,!0)};return V.forEach(Object.keys(Object.assign({},r,e)),function(m){const y=f[m]||a,p=y(r[m],e[m],m);V.isUndefined(p)&&y!==h||(t[m]=p)}),t}const qx=r=>{const e=ir({},r);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:o,headers:c,auth:h}=e;e.headers=c=tn.from(c),e.url=Ux(Vx(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(V.isFormData(t)){if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[g,...m]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...m].join("; "))}}if(Yt.hasStandardBrowserEnv&&(i&&V.isFunction(i)&&(i=i(e)),i||i!==!1&&fR(e.url))){const g=a&&o&&dR.read(o);g&&c.set(a,g)}return e},_R=typeof XMLHttpRequest<"u",yR=_R&&function(r){return new Promise(function(t,i){const a=qx(r);let o=a.data;const c=tn.from(a.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:g}=a,m,y,p,x,v;function C(){x&&x(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function T(){if(!S)return;const R=tn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),O={data:!h||h==="text"||h==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:R,config:r,request:S};Hx(function(X){t(X),C()},function(X){i(X),C()},O),S=null}"onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(i(new Se("Request aborted",Se.ECONNABORTED,r,S)),S=null)},S.onerror=function(){i(new Se("Network Error",Se.ERR_NETWORK,r,S)),S=null},S.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const O=a.transitional||Bx;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),i(new Se(N,O.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,r,S)),S=null},o===void 0&&c.setContentType(null),"setRequestHeader"in S&&V.forEach(c.toJSON(),function(N,O){S.setRequestHeader(O,N)}),V.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),h&&h!=="json"&&(S.responseType=a.responseType),g&&([p,v]=Ku(g,!0),S.addEventListener("progress",p)),f&&S.upload&&([y,x]=Ku(f),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(m=R=>{S&&(i(!R||R.type?new Sa(null,r,S):R),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const w=uR(a.url);if(w&&Yt.protocols.indexOf(w)===-1){i(new Se("Unsupported protocol "+w+":",Se.ERR_BAD_REQUEST,r));return}S.send(o||null)})},pR=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let i=new AbortController,a;const o=function(g){if(!a){a=!0,h();const m=g instanceof Error?g:this.reason;i.abort(m instanceof Se?m:new Sa(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,o(new Se(`timeout ${e} of ms exceeded`,Se.ETIMEDOUT))},e);const h=()=>{r&&(c&&clearTimeout(c),c=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),r=null)};r.forEach(g=>g.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>V.asap(h),f}},xR=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let i=0,a;for(;i<t;)a=i+e,yield r.slice(i,a),i=a},vR=async function*(r,e){for await(const t of ER(r))yield*xR(t,e)},ER=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},t0=(r,e,t,i)=>{const a=vR(r,e);let o=0,c,h=f=>{c||(c=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:g,value:m}=await a.next();if(g){h(),f.close();return}let y=m.byteLength;if(t){let p=o+=y;t(p)}f.enqueue(new Uint8Array(m))}catch(g){throw h(g),g}},cancel(f){return h(f),a.return()}},{highWaterMark:2})},yc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Zx=yc&&typeof ReadableStream=="function",SR=yc&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Kx=(r,...e)=>{try{return!!r(...e)}catch{return!1}},CR=Zx&&Kx(()=>{let r=!1;const e=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),n0=64*1024,Td=Zx&&Kx(()=>V.isReadableStream(new Response("").body)),Wu={stream:Td&&(r=>r.body)};yc&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Wu[e]&&(Wu[e]=V.isFunction(r[e])?t=>t[e]():(t,i)=>{throw new Se(`Response type '${e}' is not supported`,Se.ERR_NOT_SUPPORT,i)})})})(new Response);const bR=async r=>{if(r==null)return 0;if(V.isBlob(r))return r.size;if(V.isSpecCompliantForm(r))return(await new Request(Yt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(V.isArrayBufferView(r)||V.isArrayBuffer(r))return r.byteLength;if(V.isURLSearchParams(r)&&(r=r+""),V.isString(r))return(await SR(r)).byteLength},TR=async(r,e)=>{const t=V.toFiniteNumber(r.getContentLength());return t??bR(e)},RR=yc&&(async r=>{let{url:e,method:t,data:i,signal:a,cancelToken:o,timeout:c,onDownloadProgress:h,onUploadProgress:f,responseType:g,headers:m,withCredentials:y="same-origin",fetchOptions:p}=qx(r);g=g?(g+"").toLowerCase():"text";let x=pR([a,o&&o.toAbortSignal()],c),v;const C=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let S;try{if(f&&CR&&t!=="get"&&t!=="head"&&(S=await TR(m,i))!==0){let O=new Request(e,{method:"POST",body:i,duplex:"half"}),j;if(V.isFormData(i)&&(j=O.headers.get("content-type"))&&m.setContentType(j),O.body){const[X,q]=Jp(S,Ku($p(f)));i=t0(O.body,n0,X,q)}}V.isString(y)||(y=y?"include":"omit");const T="credentials"in Request.prototype;v=new Request(e,{...p,signal:x,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:i,duplex:"half",credentials:T?y:void 0});let w=await fetch(v);const R=Td&&(g==="stream"||g==="response");if(Td&&(h||R&&C)){const O={};["status","statusText","headers"].forEach(Z=>{O[Z]=w[Z]});const j=V.toFiniteNumber(w.headers.get("content-length")),[X,q]=h&&Jp(j,Ku($p(h),!0))||[];w=new Response(t0(w.body,n0,X,()=>{q&&q(),C&&C()}),O)}g=g||"text";let N=await Wu[V.findKey(Wu,g)||"text"](w,r);return!R&&C&&C(),await new Promise((O,j)=>{Hx(O,j,{data:N,headers:tn.from(w.headers),status:w.status,statusText:w.statusText,config:r,request:v})})}catch(T){throw C&&C(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,r,v),{cause:T.cause||T}):Se.from(T,T&&T.code,r,v)}}),Rd={http:UT,xhr:yR,fetch:RR};V.forEach(Rd,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const i0=r=>`- ${r}`,wR=r=>V.isFunction(r)||r===null||r===!1,Wx={getAdapter:r=>{r=V.isArray(r)?r:[r];const{length:e}=r;let t,i;const a={};for(let o=0;o<e;o++){t=r[o];let c;if(i=t,!wR(t)&&(i=Rd[(c=String(t)).toLowerCase()],i===void 0))throw new Se(`Unknown adapter '${c}'`);if(i)break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(i0).join(`
`):" "+i0(o[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Rd};function td(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Sa(null,r)}function s0(r){return td(r),r.headers=tn.from(r.headers),r.data=ed.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Wx.getAdapter(r.adapter||io.adapter)(r).then(function(i){return td(r),i.data=ed.call(r,r.transformResponse,i),i.headers=tn.from(i.headers),i},function(i){return Xx(i)||(td(r),i&&i.response&&(i.response.data=ed.call(r,r.transformResponse,i.response),i.response.headers=tn.from(i.response.headers))),Promise.reject(i)})}const Qx="1.9.0",pc={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{pc[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const r0={};pc.transitional=function(e,t,i){function a(o,c){return"[Axios v"+Qx+"] Transitional option '"+o+"'"+c+(i?". "+i:"")}return(o,c,h)=>{if(e===!1)throw new Se(a(c," has been removed"+(t?" in "+t:"")),Se.ERR_DEPRECATED);return t&&!r0[c]&&(r0[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,c,h):!0}};pc.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function AR(r,e,t){if(typeof r!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let a=i.length;for(;a-- >0;){const o=i[a],c=e[o];if(c){const h=r[o],f=h===void 0||c(h,o,r);if(f!==!0)throw new Se("option "+o+" must be "+f,Se.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Se("Unknown option "+o,Se.ERR_BAD_OPTION)}}const Hu={assertOptions:AR,validators:pc},li=Hu.validators;let Qs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Wp,response:new Wp}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ir(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:o}=t;i!==void 0&&Hu.assertOptions(i,{silentJSONParsing:li.transitional(li.boolean),forcedJSONParsing:li.transitional(li.boolean),clarifyTimeoutError:li.transitional(li.boolean)},!1),a!=null&&(V.isFunction(a)?t.paramsSerializer={serialize:a}:Hu.assertOptions(a,{encode:li.function,serialize:li.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Hu.assertOptions(t,{baseUrl:li.spelling("baseURL"),withXsrfToken:li.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=o&&V.merge(o.common,o[t.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),t.headers=tn.concat(c,o);const h=[];let f=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(f=f&&C.synchronous,h.unshift(C.fulfilled,C.rejected))});const g=[];this.interceptors.response.forEach(function(C){g.push(C.fulfilled,C.rejected)});let m,y=0,p;if(!f){const v=[s0.bind(this),void 0];for(v.unshift.apply(v,h),v.push.apply(v,g),p=v.length,m=Promise.resolve(t);y<p;)m=m.then(v[y++],v[y++]);return m}p=h.length;let x=t;for(y=0;y<p;){const v=h[y++],C=h[y++];try{x=v(x)}catch(S){C.call(this,S);break}}try{m=s0.call(this,x)}catch(v){return Promise.reject(v)}for(y=0,p=g.length;y<p;)m=m.then(g[y++],g[y++]);return m}getUri(e){e=ir(this.defaults,e);const t=Vx(e.baseURL,e.url,e.allowAbsoluteUrls);return Ux(t,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){Qs.prototype[e]=function(t,i){return this.request(ir(i||{},{method:e,url:t,data:(i||{}).data}))}});V.forEach(["post","put","patch"],function(e){function t(i){return function(o,c,h){return this.request(ir(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Qs.prototype[e]=t(),Qs.prototype[e+"Form"]=t(!0)});let MR=class Jx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(a=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](a);i._listeners=null}),this.promise.then=a=>{let o;const c=new Promise(h=>{i.subscribe(h),o=h}).then(a);return c.cancel=function(){i.unsubscribe(o)},c},e(function(o,c,h){i.reason||(i.reason=new Sa(o,c,h),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Jx(function(a){e=a}),cancel:e}}};function OR(r){return function(t){return r.apply(null,t)}}function LR(r){return V.isObject(r)&&r.isAxiosError===!0}const wd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wd).forEach(([r,e])=>{wd[e]=r});function $x(r){const e=new Qs(r),t=Mx(Qs.prototype.request,e);return V.extend(t,Qs.prototype,e,{allOwnKeys:!0}),V.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return $x(ir(r,a))},t}const it=$x(io);it.Axios=Qs;it.CanceledError=Sa;it.CancelToken=MR;it.isCancel=Xx;it.VERSION=Qx;it.toFormData=_c;it.AxiosError=Se;it.Cancel=it.CanceledError;it.all=function(e){return Promise.all(e)};it.spread=OR;it.isAxiosError=LR;it.mergeConfig=ir;it.AxiosHeaders=tn;it.formToJSON=r=>Yx(V.isHTMLForm(r)?new FormData(r):r);it.getAdapter=Wx.getAdapter;it.HttpStatusCode=wd;it.default=it;const{Axios:fO,AxiosError:dO,CanceledError:gO,isCancel:mO,CancelToken:_O,VERSION:yO,all:pO,Cancel:xO,isAxiosError:vO,spread:EO,toFormData:SO,AxiosHeaders:CO,HttpStatusCode:bO,formToJSON:TO,getAdapter:RO,mergeConfig:wO}=it,rg=it.create({baseURL:"http://127.0.0.1:5000",withCredentials:!0,headers:{"Content-Type":"application/json"}}),DR=async r=>{try{return(await rg.post("/api/user/login",r,{withCredentials:!0})).data}catch(e){throw e.response?new Error(e.response.data.message||"Error de autenticacin."):new Error("No se pudo conectar con el servidor.")}},NR=async()=>{try{return(await rg.post("/api/user/logout",{},{withCredentials:!0})).data}catch{throw new Error("Error al cerrar sesin.")}},FR=async()=>{try{return(await rg.get("/api/user/session",{withCredentials:!0})).data}catch(r){if(r.response&&r.response.status===401)return{authenticated:!1};throw new Error("Error al verificar sesin.")}},e1=D.createContext(null),xc=()=>D.useContext(e1);function IR({children:r}){const[e,t]=D.useState(null),[i,a]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const f=await FR();f.authenticated?t(f.user):t(null)}catch(f){console.log(" No autenticado:",f.message),t(null)}finally{a(!1)}})()},[]);const o=async h=>{const f=await DR(h);return f.status==="ok"&&t(f.user),f},c=async()=>{await NR(),t(null)};return F.jsx(e1.Provider,{value:{user:e,login:o,logout:c,isAuthenticated:!!e,loading:i},children:r})}function zR({menuOpen:r,setMenuOpen:e}){Zn();const t=eo(),{logout:i}=xc(),[a,o]=D.useState({width:window.innerWidth,height:window.innerHeight}),c=g=>{e(!1),setTimeout(()=>{t(g,{replace:!0})},100)},h=g=>{g.stopPropagation()},f=async()=>{await i(),t("/login",{replace:!0})};return D.useEffect(()=>{const g=()=>{o({width:window.innerWidth,height:window.innerHeight})},m=y=>{y.key==="Escape"&&e(!1)};return window.addEventListener("resize",g),document.addEventListener("keydown",m),()=>{window.removeEventListener("resize",g),document.removeEventListener("keydown",m)}},[e]),F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:F.jsx("button",{onClick:()=>e(!0),className:"bg-white rounded-full p-3 shadow-md",children:F.jsx(Hb,{className:"w-6 h-6 text-gray-800"})})}),r&&F.jsxs("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-md z-50 transition-all duration-300 ease-in-out animate-slide-in-left",onClick:()=>e(!1),children:[F.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-6 text-lg text-gray-700 hover:text-red-600",children:""}),F.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-4 text-center",onClick:h,children:[[["Mapa","/mapa"],["Parcelas","/parcelas"],["Campos","/campos"],["Collares","/collares"],["Alertas","/alertas"],["Animales","/animales"]].map(([g,m])=>F.jsx("button",{onClick:()=>c(m),className:`w-full text-gray-800 font-semibold hover:text-green-600 transition-all\r
                                    text-xl sm:text-2xl md:text-3xl lg:text-4xl menu-button`,children:g},m)),F.jsxs("button",{onClick:f,className:"mt-10 text-red-600 hover:text-red-800 flex items-center gap-2 text-lg",children:[F.jsx(Db,{className:"w-5 h-5"}),"Cerrar sesin"]})]})]},a.width)]})}function PR(){const[r,e]=D.useState(!1);return{menuOpen:r,setMenuOpen:e}}function Ml({label:r,icon:e,path:t,current:i,navigate:a,full:o=!1,onClick:c}){const h=()=>{a(t),c&&c()};return F.jsxs("button",{onClick:h,className:`h-full w-full flex flex-col items-center justify-center flex-1 py-1
                        ${i===t?"text-green-600 font-semibold":"text-gray-700"}
                        transition-all`,children:[F.jsx("span",{className:"text-lg",children:e}),F.jsx("span",{className:"text-[10px] min-[400px]:block hidden leading-none",children:r})]})}function kR({setMenuOpen:r}){const e=Zn(),t=eo(),i=a=>{r(!1),setTimeout(()=>{t(a,{replace:!0})},100)};return F.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-16 z-50 bg-white border-t flex justify-around items-center",children:[F.jsx(Ml,{label:"Campos",icon:F.jsx(Rb,{}),path:"/campos",current:e.pathname,navigate:i}),F.jsx(Ml,{label:"Parcelas",icon:F.jsx(Kb,{}),path:"/parcelas",current:e.pathname,navigate:i}),F.jsx(Ml,{label:"Mapa",icon:F.jsx(Rx,{}),path:"/mapa",current:e.pathname,navigate:i}),F.jsx(Ml,{label:"Alertas",icon:F.jsx(pb,{}),path:"/alertas",current:e.pathname,navigate:i}),F.jsx(Ml,{label:"Animales",icon:F.jsx(qb,{}),path:"/animales",current:e.pathname,navigate:i})]})}function GR(){const{login:r,isAuthenticated:e,loading:t}=xc(),i=eo(),[a,o]=D.useState({username:"",password:""}),[c,h]=D.useState(null),[f,g]=D.useState(!1);D.useEffect(()=>{!t&&e&&i("/mapa",{replace:!0})},[t,e,i]);const m=p=>{o({...a,[p.target.name]:p.target.value})},y=async p=>{p.preventDefault(),g(!0),h(null);try{await r(a),i("/mapa")}catch(x){h(x.message||"Error de autenticacin"),g(!1)}};return t?F.jsx("div",{className:"text-center mt-10",children:"Verificando sesin..."}):F.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:F.jsxs("form",{onSubmit:y,className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-md border",children:[F.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Iniciar Sesin"}),c&&F.jsx("p",{className:"text-red-600 text-sm mb-4",children:c}),F.jsxs("div",{className:"mb-4",children:[F.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Usuario"}),F.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:a.username,onChange:m,required:!0,className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),F.jsxs("div",{className:"mb-6",children:[F.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),F.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:a.password,onChange:m,required:!0,className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),F.jsx("button",{type:"submit",disabled:f,className:"w-full py-2 px-4 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none",children:f?"Ingresando...":"Ingresar"})]})})}async function da(){const r=await fetch("/config/api/parcelas/init");if(!r.ok)throw new Error("Error al cargar datos");return await r.json()}async function jR(r){const e=await fetch("/config/api/parcelas/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok){const t=await e.json();throw new Error(t.message||"Error al guardar")}return await e.json()}async function t1(r,e,t="",i="",a){const o=await fetch(`/config/api/parcelas/${r}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geojson:e,nombre:t,descripcion:i,area:a})});if(!o.ok){const c=await o.json();throw new Error(c.message||"Error al actualizar")}return await o.json()}async function UR(r){const e=await fetch(`/config/api/parcelas/${r}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar la parcela");return await e.json()}const BR={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class n1 extends Error{constructor(e){const t=BR[e];super(t),this.code=e,this.name="AssertionError",this.message=t}}class Wn{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const ga={PROPERTYCHANGE:"propertychange"};class ag{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function YR(r,e,t){let i,a;t=t||sr;let o=0,c=r.length,h=!1;for(;o<c;)i=o+(c-o>>1),a=+t(r[i],e),a<0?o=i+1:(c=i,h=!a);return h?o:~o}function sr(r,e){return r>e?1:r<e?-1:0}function lg(r,e,t){const i=r.length;if(r[0]<=e)return 0;if(e<=r[i-1])return i-1;let a;if(t>0){for(a=1;a<i;++a)if(r[a]<e)return a-1}else if(t<0){for(a=1;a<i;++a)if(r[a]<=e)return a}else for(a=1;a<i;++a){if(r[a]==e)return a;if(r[a]<e)return typeof t=="function"?t(e,r[a-1],r[a])>0?a-1:a:r[a-1]-e<e-r[a]?a-1:a}return i-1}function XR(r,e,t){for(;e<t;){const i=r[e];r[e]=r[t],r[t]=i,++e,--t}}function Xn(r,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let a=0;a<i;a++)r[r.length]=t[a]}function ji(r,e){const t=r.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(r[i]!==e[i])return!1;return!0}function HR(r,e,t){const i=e||sr;return r.every(function(a,o){if(o===0)return!0;const c=i(r[o-1],a);return!(c>0||c===0)})}function rr(){return!0}function so(){return!1}function ma(){}function VR(r){let e=!1,t,i,a;return function(){const o=Array.prototype.slice.call(arguments);return(!e||this!==a||!ji(o,i))&&(e=!0,a=this,i=o,t=r.apply(this,arguments)),t}}function Ca(r){for(const e in r)delete r[e]}function _a(r){let e;for(e in r)return!1;return!e}class vc extends ag{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),a=i[e]||(i[e]=[]);a.includes(t)||a.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,a=this.listeners_&&this.listeners_[i];if(!a)return;const o=t?new Wn(e):e;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in c||(c[i]=0,h[i]=0),++c[i];let f;for(let g=0,m=a.length;g<m;++g)if("handleEvent"in a[g]?f=a[g].handleEvent(o):f=a[g].call(this,o),f===!1||o.propagationStopped){f=!1;break}if(--c[i]===0){let g=h[i];for(delete h[i];g--;)this.removeEventListener(i,ma);delete c[i]}return f}disposeInternal(){this.listeners_&&Ca(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){const i=this.listeners_&&this.listeners_[e];if(i){const a=i.indexOf(t);a!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[a]=ma,++this.pendingRemovals_[e]):(i.splice(a,1),i.length===0&&delete this.listeners_[e]))}}}const xe={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Le(r,e,t,i,a){if(i&&i!==r&&(t=t.bind(i)),a){const c=t;t=function(){r.removeEventListener(e,t),c.apply(this,arguments)}}const o={target:r,type:e,listener:t};return r.addEventListener(e,t),o}function Qu(r,e,t,i){return Le(r,e,t,i,!0)}function He(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Ca(r))}class ro extends vc{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(xe.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,a=new Array(i);for(let o=0;o<i;++o)a[o]=Le(this,e[o],t);return a}return Le(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const a=e.length;i=new Array(a);for(let o=0;o<a;++o)i[o]=Qu(this,e[o],t)}else i=Qu(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)qR(i);else if(Array.isArray(e))for(let a=0,o=e.length;a<o;++a)this.removeEventListener(e[a],t);else this.removeEventListener(e,t)}}ro.prototype.on;ro.prototype.once;ro.prototype.un;function qR(r){if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)He(r[e]);else He(r)}function ye(){throw new Error("Unimplemented abstract method.")}let ZR=0;function ve(r){return r.ol_uid||(r.ol_uid=String(++ZR))}class a0 extends Wn{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class Qn extends ro{constructor(e){super(),this.on,this.once,this.un,ve(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new a0(i,e,t)),i=ga.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new a0(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const a=this.values_||(this.values_={});if(i)a[e]=t;else{const o=a[e];a[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],_a(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const ut={ADD:"add",REMOVE:"remove"},l0={LENGTH:"length"};class Ru extends Wn{constructor(e,t,i){super(e),this.element=t,this.index=i}}class yn extends Qn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,a=this.array_.length;i<a;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,a=t.length;i<a;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(l0.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Ru(ut.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,a=t.length;i<a;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Ru(ut.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const a=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Ru(ut.REMOVE,a,e)),this.dispatchEvent(new Ru(ut.ADD,t,e))}updateLength_(){this.set(l0.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===e&&i!==t)throw new n1(58)}}function Re(r,e){if(!r)throw new n1(e)}class Bt extends Qn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new Bt(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(He(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Le(e,xe.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?KR(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function KR(r){if(typeof r=="function")return r;let e;return Array.isArray(r)?e=r:(Re(typeof r.getZIndex=="function",41),e=[r]),function(){return e}}const vs=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",WR=vs.includes("firefox"),QR=vs.includes("safari")&&!vs.includes("chrom");QR&&(vs.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(vs));const JR=vs.includes("webkit")&&!vs.includes("edge"),$R=vs.includes("macintosh"),i1=typeof devicePixelRatio<"u"?devicePixelRatio:1,og=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,ew=typeof Image<"u"&&Image.prototype.decode,s1=function(){let r=!1;try{const e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return r}();new Array(6);function fi(){return[1,0,0,1,0,0]}function tw(r,e,t,i,a,o,c){return r[0]=e,r[1]=t,r[2]=i,r[3]=a,r[4]=o,r[5]=c,r}function nw(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function St(r,e){const t=e[0],i=e[1];return e[0]=r[0]*t+r[2]*i+r[4],e[1]=r[1]*t+r[3]*i+r[5],e}function iw(r,e,t){return tw(r,e,0,0,t,0,0)}function Es(r,e,t,i,a,o,c,h){const f=Math.sin(o),g=Math.cos(o);return r[0]=i*g,r[1]=a*f,r[2]=-i*f,r[3]=a*g,r[4]=c*i*g-h*i*f+e,r[5]=c*a*f+h*a*g+t,r}function ug(r,e){const t=sw(e);Re(t!==0,32);const i=e[0],a=e[1],o=e[2],c=e[3],h=e[4],f=e[5];return r[0]=c/t,r[1]=-a/t,r[2]=-o/t,r[3]=i/t,r[4]=(o*f-c*h)/t,r[5]=-(i*f-a*h)/t,r}function sw(r){return r[0]*r[3]-r[1]*r[2]}let o0;function r1(r){const e="matrix("+r.join(", ")+")";if(og)return e;const t=o0||(o0=document.createElement("div"));return t.style.transform=e,t.style.transform}const Et={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function jn(r){const e=Ln();for(let t=0,i=r.length;t<i;++t)Fl(e,r[t]);return e}function Ec(r,e,t){return t?(t[0]=r[0]-e,t[1]=r[1]-e,t[2]=r[2]+e,t[3]=r[3]+e,t):[r[0]-e,r[1]-e,r[2]+e,r[3]+e]}function a1(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r.slice()}function ur(r,e,t){let i,a;return e<r[0]?i=r[0]-e:r[2]<e?i=e-r[2]:i=0,t<r[1]?a=r[1]-t:r[3]<t?a=t-r[3]:a=0,i*i+a*a}function Sc(r,e){return cg(r,e[0],e[1])}function qs(r,e){return r[0]<=e[0]&&e[2]<=r[2]&&r[1]<=e[1]&&e[3]<=r[3]}function cg(r,e,t){return r[0]<=e&&e<=r[2]&&r[1]<=t&&t<=r[3]}function Ad(r,e){const t=r[0],i=r[1],a=r[2],o=r[3],c=e[0],h=e[1];let f=Et.UNKNOWN;return c<t?f=f|Et.LEFT:c>a&&(f=f|Et.RIGHT),h<i?f=f|Et.BELOW:h>o&&(f=f|Et.ABOVE),f===Et.UNKNOWN&&(f=Et.INTERSECTING),f}function Ln(){return[1/0,1/0,-1/0,-1/0]}function Gi(r,e,t,i,a){return a?(a[0]=r,a[1]=e,a[2]=t,a[3]=i,a):[r,e,t,i]}function ao(r){return Gi(1/0,1/0,-1/0,-1/0,r)}function Vu(r,e){const t=r[0],i=r[1];return Gi(t,i,t,i,e)}function l1(r,e,t,i,a){const o=ao(a);return u1(o,r,e,t,i)}function jl(r,e){return r[0]==e[0]&&r[2]==e[2]&&r[1]==e[1]&&r[3]==e[3]}function o1(r,e){return e[0]<r[0]&&(r[0]=e[0]),e[2]>r[2]&&(r[2]=e[2]),e[1]<r[1]&&(r[1]=e[1]),e[3]>r[3]&&(r[3]=e[3]),r}function Fl(r,e){e[0]<r[0]&&(r[0]=e[0]),e[0]>r[2]&&(r[2]=e[0]),e[1]<r[1]&&(r[1]=e[1]),e[1]>r[3]&&(r[3]=e[1])}function u1(r,e,t,i,a){for(;t<i;t+=a)rw(r,e[t],e[t+1]);return r}function rw(r,e,t){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}function c1(r,e){let t;return t=e(Cc(r)),t||(t=e(bc(r)),t)||(t=e(Tc(r)),t)||(t=e(cr(r)),t)?t:!1}function Md(r){let e=0;return hg(r)||(e=Ve(r)*di(r)),e}function Cc(r){return[r[0],r[1]]}function bc(r){return[r[2],r[1]]}function ar(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function aw(r,e){let t;return e==="bottom-left"?t=Cc(r):e==="bottom-right"?t=bc(r):e==="top-left"?t=cr(r):e==="top-right"?t=Tc(r):Re(!1,13),t}function Od(r,e,t,i,a){const[o,c,h,f,g,m,y,p]=Ld(r,e,t,i);return Gi(Math.min(o,h,g,y),Math.min(c,f,m,p),Math.max(o,h,g,y),Math.max(c,f,m,p),a)}function Ld(r,e,t,i){const a=e*i[0]/2,o=e*i[1]/2,c=Math.cos(t),h=Math.sin(t),f=a*c,g=a*h,m=o*c,y=o*h,p=r[0],x=r[1];return[p-f+y,x-g-m,p-f-y,x-g+m,p+f-y,x+g+m,p+f+y,x+g-m,p-f+y,x-g-m]}function di(r){return r[3]-r[1]}function Il(r,e,t){const i=t||Ln();return qt(r,e)?(r[0]>e[0]?i[0]=r[0]:i[0]=e[0],r[1]>e[1]?i[1]=r[1]:i[1]=e[1],r[2]<e[2]?i[2]=r[2]:i[2]=e[2],r[3]<e[3]?i[3]=r[3]:i[3]=e[3]):ao(i),i}function cr(r){return[r[0],r[3]]}function Tc(r){return[r[2],r[3]]}function Ve(r){return r[2]-r[0]}function qt(r,e){return r[0]<=e[2]&&r[2]>=e[0]&&r[1]<=e[3]&&r[3]>=e[1]}function hg(r){return r[2]<r[0]||r[3]<r[1]}function lw(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r}function ow(r,e,t){let i=!1;const a=Ad(r,e),o=Ad(r,t);if(a===Et.INTERSECTING||o===Et.INTERSECTING)i=!0;else{const c=r[0],h=r[1],f=r[2],g=r[3],m=e[0],y=e[1],p=t[0],x=t[1],v=(x-y)/(p-m);let C,S;o&Et.ABOVE&&!(a&Et.ABOVE)&&(C=p-(x-g)/v,i=C>=c&&C<=f),!i&&o&Et.RIGHT&&!(a&Et.RIGHT)&&(S=x-(p-f)*v,i=S>=h&&S<=g),!i&&o&Et.BELOW&&!(a&Et.BELOW)&&(C=p-(x-h)/v,i=C>=c&&C<=f),!i&&o&Et.LEFT&&!(a&Et.LEFT)&&(S=x-(p-c)*v,i=S>=h&&S<=g)}return i}function h1(r,e){const t=e.getExtent(),i=ar(r);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const a=Ve(t),c=Math.floor((i[0]-t[0])/a)*a;r[0]-=c,r[2]-=c}return r}function uw(r,e){if(e.canWrapX()){const t=e.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[t[0],r[1],t[2],r[3]]];h1(r,e);const i=Ve(t);if(Ve(r)>i)return[[t[0],r[1],t[2],r[3]]];if(r[0]<t[0])return[[r[0]+i,r[1],t[2],r[3]],[t[0],r[1],r[2],r[3]]];if(r[2]>t[2])return[[r[0],r[1],t[2],r[3]],[t[0],r[1],r[2]-i,r[3]]]}return[r]}const fg={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class f1{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||fg[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const lo=6378137,ua=Math.PI*lo,cw=[-ua,-ua,ua,ua],hw=[-180,-85,180,85],wu=lo*Math.log(Math.tan(Math.PI/2));class ea extends f1{constructor(e){super({code:e,units:"m",extent:cw,global:!0,worldExtent:hw,getPointResolution:function(t,i){return t/Math.cosh(i[1]/lo)}})}}const u0=[new ea("EPSG:3857"),new ea("EPSG:102100"),new ea("EPSG:102113"),new ea("EPSG:900913"),new ea("http://www.opengis.net/def/crs/EPSG/0/3857"),new ea("http://www.opengis.net/gml/srs/epsg.xml#3857")];function fw(r,e,t){const i=r.length;t=t>1?t:2,e===void 0&&(t>2?e=r.slice():e=new Array(i));for(let a=0;a<i;a+=t){e[a]=ua*r[a]/180;let o=lo*Math.log(Math.tan(Math.PI*(+r[a+1]+90)/360));o>wu?o=wu:o<-wu&&(o=-wu),e[a+1]=o}return e}function dw(r,e,t){const i=r.length;t=t>1?t:2,e===void 0&&(t>2?e=r.slice():e=new Array(i));for(let a=0;a<i;a+=t)e[a]=180*r[a]/ua,e[a+1]=360*Math.atan(Math.exp(r[a+1]/lo))/Math.PI-90;return e}const gw=6378137,c0=[-180,-90,180,90],mw=Math.PI*gw/180;class Bs extends f1{constructor(e,t){super({code:e,units:"degrees",extent:c0,axisOrientation:t,global:!0,metersPerUnit:mw,worldExtent:c0})}}const h0=[new Bs("CRS:84"),new Bs("EPSG:4326","neu"),new Bs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Bs("urn:ogc:def:crs:OGC:2:84"),new Bs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Bs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Bs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Dd={};function _w(r){return Dd[r]||Dd[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function yw(r,e){Dd[r]=e}let ca={};function Ju(r,e,t){const i=r.getCode(),a=e.getCode();i in ca||(ca[i]={}),ca[i][a]=t}function pw(r,e){let t;return r in ca&&e in ca[r]&&(t=ca[r][e]),t}function ct(r,e,t){return Math.min(Math.max(r,e),t)}function xw(r,e,t,i,a,o){const c=a-t,h=o-i;if(c!==0||h!==0){const f=((r-t)*c+(e-i)*h)/(c*c+h*h);f>1?(t=a,i=o):f>0&&(t+=c*f,i+=h*f)}return Js(r,e,t,i)}function Js(r,e,t,i){const a=t-r,o=i-e;return a*a+o*o}function vw(r){const e=r.length;for(let i=0;i<e;i++){let a=i,o=Math.abs(r[i][i]);for(let h=i+1;h<e;h++){const f=Math.abs(r[h][i]);f>o&&(o=f,a=h)}if(o===0)return null;const c=r[a];r[a]=r[i],r[i]=c;for(let h=i+1;h<e;h++){const f=-r[h][i]/r[i][i];for(let g=i;g<e+1;g++)i==g?r[h][g]=0:r[h][g]+=f*r[i][g]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=r[i][e]/r[i][i];for(let a=i-1;a>=0;a--)r[a][e]-=r[a][i]*t[i]}return t}function $s(r){return r*Math.PI/180}function er(r,e){const t=r%e;return t*e<0?t+e:t}function mn(r,e,t){return r+t*(e-r)}function dg(r,e){const t=Math.pow(10,e);return Math.round(r*t)/t}function Au(r,e){return Math.floor(dg(r,e))}function Mu(r,e){return Math.ceil(dg(r,e))}function Ew(r,e){return r[0]+=+e[0],r[1]+=+e[1],r}function d1(r,e){const t=r[0],i=r[1],a=e[0],o=e[1],c=a[0],h=a[1],f=o[0],g=o[1],m=f-c,y=g-h,p=m===0&&y===0?0:(m*(t-c)+y*(i-h))/(m*m+y*y||0);let x,v;return p<=0?(x=c,v=h):p>=1?(x=f,v=g):(x=c+p*m,v=h+p*y),[x,v]}function Un(r,e){let t=!0;for(let i=r.length-1;i>=0;--i)if(r[i]!=e[i]){t=!1;break}return t}function gg(r,e){const t=Math.cos(e),i=Math.sin(e),a=r[0]*t-r[1]*i,o=r[1]*t+r[0]*i;return r[0]=a,r[1]=o,r}function Sw(r,e){return r[0]*=e,r[1]*=e,r}function Ul(r,e){const t=r[0]-e[0],i=r[1]-e[1];return t*t+i*i}function f0(r,e){return Math.sqrt(Ul(r,e))}function Cw(r,e){return Ul(r,d1(r,e))}function g1(r,e){if(e.canWrapX()){const t=Ve(e.getExtent()),i=bw(r,e,t);i&&(r[0]-=i*t)}return r}function bw(r,e,t){const i=e.getExtent();let a=0;return e.canWrapX()&&(r[0]<i[0]||r[0]>i[2])&&(t=t||Ve(i),a=Math.floor((r[0]-i[0])/t)),a}const m1=63710088e-1;function d0(r,e,t){t=t||m1;const i=$s(r[1]),a=$s(e[1]),o=(a-i)/2,c=$s(e[0]-r[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(i)*Math.cos(a);return 2*t*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function Ou(r,e){let t=0;const i=r.length;let a=r[i-1][0],o=r[i-1][1];for(let c=0;c<i;c++){const h=r[c][0],f=r[c][1];t+=$s(h-a)*(2+Math.sin($s(o))+Math.sin($s(f))),a=h,o=f}return t*e*e/2}function Rc(r,e){e=e||{};const t=e.radius||m1,i=e.projection||"EPSG:3857",a=r.getType();a!=="GeometryCollection"&&(r=r.clone().transform(i,"EPSG:4326"));let o=0,c,h,f,g,m,y;switch(a){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(c=r.getCoordinates(),o=Math.abs(Ou(c[0],t)),f=1,g=c.length;f<g;++f)o-=Math.abs(Ou(c[f],t));break}case"MultiPolygon":{for(c=r.getCoordinates(),f=0,g=c.length;f<g;++f)for(h=c[f],o+=Math.abs(Ou(h[0],t)),m=1,y=h.length;m<y;++m)o-=Math.abs(Ou(h[m],t));break}case"GeometryCollection":{const p=r.getGeometries();for(f=0,g=p.length;f<g;++f)o+=Rc(p[f],e);break}default:throw new Error("Unsupported geometry type: "+a)}return o}function _1(...r){console.warn(...r)}let Nd=!0;function y1(r){Nd=!1}function mg(r,e){if(e!==void 0){for(let t=0,i=r.length;t<i;++t)e[t]=r[t];e=e}else e=r.slice();return e}function p1(r,e){if(e!==void 0&&r!==e){for(let t=0,i=r.length;t<i;++t)e[t]=r[t];r=e}return r}function Tw(r){yw(r.getCode(),r),Ju(r,r,mg)}function Rw(r){r.forEach(Tw)}function _t(r){return typeof r=="string"?_w(r):r||null}function g0(r,e,t,i){r=_t(r);let a;const o=r.getPointResolutionFunc();if(o)a=o(e,t);else{const c=r.getUnits();if(c=="degrees"||i=="degrees")a=e;else{const h=pg(r,_t("EPSG:4326"));if(h===p1&&c!=="degrees")a=e*r.getMetersPerUnit();else{let g=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];g=h(g,g,2);const m=d0(g.slice(0,2),g.slice(2,4)),y=d0(g.slice(4,6),g.slice(6,8));a=(m+y)/2}const f=r.getMetersPerUnit();f!==void 0&&(a/=f)}}return a}function m0(r){Rw(r),r.forEach(function(e){r.forEach(function(t){e!==t&&Ju(e,t,mg)})})}function ww(r,e,t,i){r.forEach(function(a){e.forEach(function(o){Ju(a,o,t),Ju(o,a,i)})})}function _g(r,e){if(r){if(typeof r=="string")return _t(r)}else return _t(e);return r}function yg(r,e){return y1(),xg(r,"EPSG:4326","EPSG:3857")}function x1(r,e){const t=xg(r,"EPSG:3857","EPSG:4326"),i=t[0];return(i<-180||i>180)&&(t[0]=er(i+180,360)-180),t}function Hs(r,e){if(r===e)return!0;const t=r.getUnits()===e.getUnits();return(r.getCode()===e.getCode()||pg(r,e)===mg)&&t}function pg(r,e){const t=r.getCode(),i=e.getCode();let a=pw(t,i);return a||(a=p1),a}function $u(r,e){const t=_t(r),i=_t(e);return pg(t,i)}function xg(r,e,t){return $u(e,t)(r,void 0,r.length)}function Bl(r,e){return r}function gt(r,e){return Nd&&!Un(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(Nd=!1,_1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function vg(r,e){return r}function _s(r,e){return r}function Aw(){m0(u0),m0(h0),ww(h0,u0,fw,dw)}Aw();function tr(r,e,t,i,a,o){o=o||[];let c=0;for(let h=e;h<t;h+=i){const f=r[h],g=r[h+1];o[c++]=a[0]*f+a[2]*g+a[4],o[c++]=a[1]*f+a[3]*g+a[5]}return o&&o.length!=c&&(o.length=c),o}function v1(r,e,t,i,a,o,c){c=c||[];const h=Math.cos(a),f=Math.sin(a),g=o[0],m=o[1];let y=0;for(let p=e;p<t;p+=i){const x=r[p]-g,v=r[p+1]-m;c[y++]=g+x*h-v*f,c[y++]=m+x*f+v*h;for(let C=p+2;C<p+i;++C)c[y++]=r[C]}return c&&c.length!=y&&(c.length=y),c}function Mw(r,e,t,i,a,o,c,h){h=h||[];const f=c[0],g=c[1];let m=0;for(let y=e;y<t;y+=i){const p=r[y]-f,x=r[y+1]-g;h[m++]=f+a*p,h[m++]=g+o*x;for(let v=y+2;v<y+i;++v)h[m++]=r[v]}return h&&h.length!=m&&(h.length=m),h}function Ow(r,e,t,i,a,o,c){c=c||[];let h=0;for(let f=e;f<t;f+=i){c[h++]=r[f]+a,c[h++]=r[f+1]+o;for(let g=f+2;g<f+i;++g)c[h++]=r[g]}return c&&c.length!=h&&(c.length=h),c}const _0=fi();class E1 extends Qn{constructor(){super(),this.extent_=Ln(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=VR(function(e,t,i){if(!i)return this.getSimplifiedGeometry(t);const a=this.clone();return a.applyTransform(i),a.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return ye()}closestPointXY(e,t,i,a){return ye()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ye()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&ao(t),this.extentRevision_=this.getRevision()}return lw(this.extent_,e)}rotate(e,t){ye()}scale(e,t,i){ye()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ye()}getType(){return ye()}applyTransform(e){ye()}intersectsExtent(e){return ye()}translate(e,t){ye()}transform(e,t){const i=_t(e),a=i.getUnits()=="tile-pixels"?function(o,c,h){const f=i.getExtent(),g=i.getWorldExtent(),m=di(g)/di(f);return Es(_0,g[0],g[3],m,-m,0,0,0),tr(o,0,o.length,h,_0,c),$u(i,t)(o,c,h)}:$u(i,t);return this.applyTransform(a),this}}class hr extends E1{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return l1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ye()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=y0(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){ye()}setLayout(e,t,i){let a;if(e)a=y0(e);else{for(let o=0;o<i;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}a=t.length,e=Lw(a)}this.layout=e,this.stride=a}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const a=this.getStride();v1(i,0,i.length,a,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=ar(this.getExtent()));const a=this.getFlatCoordinates();if(a){const o=this.getStride();Mw(a,0,a.length,o,e,t,i,a),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const a=this.getStride();Ow(i,0,i.length,a,e,t,i),this.changed()}}}function Lw(r){let e;return r==2?e="XY":r==3?e="XYZ":r==4&&(e="XYZM"),e}function y0(r){let e;return r=="XY"?e=2:r=="XYZ"||r=="XYM"?e=3:r=="XYZM"&&(e=4),e}function Dw(r,e,t){const i=r.getFlatCoordinates();if(!i)return null;const a=r.getStride();return tr(i,0,i.length,a,e,t)}function p0(r,e,t,i,a,o,c){const h=r[e],f=r[e+1],g=r[t]-h,m=r[t+1]-f;let y;if(g===0&&m===0)y=e;else{const p=((a-h)*g+(o-f)*m)/(g*g+m*m);if(p>1)y=t;else if(p>0){for(let x=0;x<i;++x)c[x]=mn(r[e+x],r[t+x],p);c.length=i;return}else y=e}for(let p=0;p<i;++p)c[p]=r[y+p];c.length=i}function Eg(r,e,t,i,a){let o=r[e],c=r[e+1];for(e+=i;e<t;e+=i){const h=r[e],f=r[e+1],g=Js(o,c,h,f);g>a&&(a=g),o=h,c=f}return a}function Sg(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){const h=t[o];a=Eg(r,e,h,i,a),e=h}return a}function Nw(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){const h=t[o];a=Sg(r,e,h,i,a),e=h[h.length-1]}return a}function Cg(r,e,t,i,a,o,c,h,f,g,m){if(e==t)return g;let y,p;if(a===0){if(p=Js(c,h,r[e],r[e+1]),p<g){for(y=0;y<i;++y)f[y]=r[e+y];return f.length=i,p}return g}m=m||[NaN,NaN];let x=e+i;for(;x<t;)if(p0(r,x-i,x,i,c,h,m),p=Js(c,h,m[0],m[1]),p<g){for(g=p,y=0;y<i;++y)f[y]=m[y];f.length=i,x+=i}else x+=i*Math.max((Math.sqrt(p)-Math.sqrt(g))/a|0,1);if(o&&(p0(r,t-i,e,i,c,h,m),p=Js(c,h,m[0],m[1]),p<g)){for(g=p,y=0;y<i;++y)f[y]=m[y];f.length=i}return g}function bg(r,e,t,i,a,o,c,h,f,g,m){m=m||[NaN,NaN];for(let y=0,p=t.length;y<p;++y){const x=t[y];g=Cg(r,e,x,i,a,o,c,h,f,g,m),e=x}return g}function Fw(r,e,t,i,a,o,c,h,f,g,m){m=m||[NaN,NaN];for(let y=0,p=t.length;y<p;++y){const x=t[y];g=bg(r,e,x,i,a,o,c,h,f,g,m),e=x[x.length-1]}return g}function Iw(r,e,t,i){for(let a=0,o=t.length;a<o;++a)r[e++]=t[a];return e}function wc(r,e,t,i){for(let a=0,o=t.length;a<o;++a){const c=t[a];for(let h=0;h<i;++h)r[e++]=c[h]}return e}function Tg(r,e,t,i,a){a=a||[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=wc(r,e,t[c],i);a[o++]=f,e=f}return a.length=o,a}function zw(r,e,t,i,a){a=a||[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=Tg(r,e,t[c],i,a[o]);f.length===0&&(f[0]=e),a[o++]=f,e=f[f.length-1]}return a.length=o,a}function Rg(r,e,t,i,a,o,c){const h=(t-e)/i;if(h<3){for(;e<t;e+=i)o[c++]=r[e],o[c++]=r[e+1];return c}const f=new Array(h);f[0]=1,f[h-1]=1;const g=[e,t-i];let m=0;for(;g.length>0;){const y=g.pop(),p=g.pop();let x=0;const v=r[p],C=r[p+1],S=r[y],T=r[y+1];for(let w=p+i;w<y;w+=i){const R=r[w],N=r[w+1],O=xw(R,N,v,C,S,T);O>x&&(m=w,x=O)}x>a&&(f[(m-e)/i]=1,p+i<m&&g.push(p,m),m+i<y&&g.push(m,y))}for(let y=0;y<h;++y)f[y]&&(o[c++]=r[e+y*i],o[c++]=r[e+y*i+1]);return c}function Pw(r,e,t,i,a,o,c,h){for(let f=0,g=t.length;f<g;++f){const m=t[f];c=Rg(r,e,m,i,a,o,c),h.push(c),e=m}return c}function Xs(r,e){return e*Math.round(r/e)}function kw(r,e,t,i,a,o,c){if(e==t)return c;let h=Xs(r[e],a),f=Xs(r[e+1],a);e+=i,o[c++]=h,o[c++]=f;let g,m;do if(g=Xs(r[e],a),m=Xs(r[e+1],a),e+=i,e==t)return o[c++]=g,o[c++]=m,c;while(g==h&&m==f);for(;e<t;){const y=Xs(r[e],a),p=Xs(r[e+1],a);if(e+=i,y==g&&p==m)continue;const x=g-h,v=m-f,C=y-h,S=p-f;if(x*S==v*C&&(x<0&&C<x||x==C||x>0&&C>x)&&(v<0&&S<v||v==S||v>0&&S>v)){g=y,m=p;continue}o[c++]=g,o[c++]=m,h=g,f=m,g=y,m=p}return o[c++]=g,o[c++]=m,c}function S1(r,e,t,i,a,o,c,h){for(let f=0,g=t.length;f<g;++f){const m=t[f];c=kw(r,e,m,i,a,o,c),h.push(c),e=m}return c}function Gw(r,e,t,i,a,o,c,h){for(let f=0,g=t.length;f<g;++f){const m=t[f],y=[];c=S1(r,e,m,i,a,o,c,y),h.push(y),e=m[m.length-1]}return c}function ys(r,e,t,i,a){a=a!==void 0?a:[];let o=0;for(let c=e;c<t;c+=i)a[o++]=r.slice(c,c+i);return a.length=o,a}function Yl(r,e,t,i,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=t[c];a[o++]=ys(r,e,f,i,a[o]),e=f}return a.length=o,a}function Fd(r,e,t,i,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=t[c];a[o++]=f.length===1&&f[0]===e?[]:Yl(r,e,f,i,a[o]),e=f[f.length-1]}return a.length=o,a}function C1(r,e,t,i){let a=0,o=r[t-i],c=r[t-i+1];for(;e<t;e+=i){const h=r[e],f=r[e+1];a+=c*h-o*f,o=h,c=f}return a/2}function b1(r,e,t,i){let a=0;for(let o=0,c=t.length;o<c;++o){const h=t[o];a+=C1(r,e,h,i),e=h}return a}function jw(r,e,t,i){let a=0;for(let o=0,c=t.length;o<c;++o){const h=t[o];a+=b1(r,e,h,i),e=h[h.length-1]}return a}class Xl extends hr{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Xl(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,a){return a<ur(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Eg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Cg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,a))}getArea(){return C1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Rg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Xl(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wc(this.flatCoordinates,0,e,this.stride),this.changed()}}class Dn extends hr{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Dn(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,a){const o=this.flatCoordinates,c=Js(e,t,o[0],o[1]);if(c<a){const h=this.stride;for(let f=0;f<h;++f)i[f]=o[f];return i.length=h,c}return a}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return Vu(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return cg(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Iw(this.flatCoordinates,0,e,this.stride),this.changed()}}function Uw(r,e,t,i,a){return!c1(a,function(c){return!Zs(r,e,t,i,c[0],c[1])})}function Zs(r,e,t,i,a,o){let c=0,h=r[t-i],f=r[t-i+1];for(;e<t;e+=i){const g=r[e],m=r[e+1];f<=o?m>o&&(g-h)*(o-f)-(a-h)*(m-f)>0&&c++:m<=o&&(g-h)*(o-f)-(a-h)*(m-f)<0&&c--,h=g,f=m}return c!==0}function wg(r,e,t,i,a,o){if(t.length===0||!Zs(r,e,t[0],i,a,o))return!1;for(let c=1,h=t.length;c<h;++c)if(Zs(r,t[c-1],t[c],i,a,o))return!1;return!0}function Bw(r,e,t,i,a,o){if(t.length===0)return!1;for(let c=0,h=t.length;c<h;++c){const f=t[c];if(wg(r,e,f,i,a,o))return!0;e=f[f.length-1]}return!1}function T1(r,e,t,i,a,o,c){let h,f,g,m,y,p,x;const v=a[o+1],C=[];for(let w=0,R=t.length;w<R;++w){const N=t[w];for(m=r[N-i],p=r[N-i+1],h=e;h<N;h+=i)y=r[h],x=r[h+1],(v<=p&&x<=v||p<=v&&v<=x)&&(g=(v-p)/(x-p)*(y-m)+m,C.push(g)),m=y,p=x}let S=NaN,T=-1/0;for(C.sort(sr),m=C[0],h=1,f=C.length;h<f;++h){y=C[h];const w=Math.abs(y-m);w>T&&(g=(m+y)/2,wg(r,e,t,i,g,v)&&(S=g,T=w)),m=y}return isNaN(S)&&(S=a[o]),c?(c.push(S,v,T),c):[S,v,T]}function Yw(r,e,t,i,a){let o=[];for(let c=0,h=t.length;c<h;++c){const f=t[c];o=T1(r,e,f,i,a,2*c,o),e=f[f.length-1]}return o}function R1(r,e,t,i,a){let o;for(e+=i;e<t;e+=i)if(o=a(r.slice(e-i,e),r.slice(e,e+i)),o)return o;return!1}function Ac(r,e,t,i,a){const o=u1(Ln(),r,e,t,i);return qt(a,o)?qs(a,o)||o[0]>=a[0]&&o[2]<=a[2]||o[1]>=a[1]&&o[3]<=a[3]?!0:R1(r,e,t,i,function(c,h){return ow(a,c,h)}):!1}function Xw(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){if(Ac(r,e,t[o],i,a))return!0;e=t[o]}return!1}function w1(r,e,t,i,a){return!!(Ac(r,e,t,i,a)||Zs(r,e,t,i,a[0],a[1])||Zs(r,e,t,i,a[0],a[3])||Zs(r,e,t,i,a[2],a[1])||Zs(r,e,t,i,a[2],a[3]))}function A1(r,e,t,i,a){if(!w1(r,e,t[0],i,a))return!1;if(t.length===1)return!0;for(let o=1,c=t.length;o<c;++o)if(Uw(r,t[o-1],t[o],i,a)&&!Ac(r,t[o-1],t[o],i,a))return!1;return!0}function Hw(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){const h=t[o];if(A1(r,e,h,i,a))return!0;e=h[h.length-1]}return!1}function Vw(r,e,t,i){for(;e<t-i;){for(let a=0;a<i;++a){const o=r[e+a];r[e+a]=r[t-i+a],r[t-i+a]=o}e+=i,t-=i}}function M1(r,e,t,i){let a=0,o=r[t-i],c=r[t-i+1];for(;e<t;e+=i){const h=r[e],f=r[e+1];a+=(h-o)*(f+c),o=h,c=f}return a===0?void 0:a>0}function O1(r,e,t,i,a){a=a!==void 0?a:!1;for(let o=0,c=t.length;o<c;++o){const h=t[o],f=M1(r,e,h,i);if(o===0){if(a&&f||!a&&!f)return!1}else if(a&&!f||!a&&f)return!1;e=h}return!0}function qw(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){const h=t[o];if(!O1(r,e,h,i,a))return!1;h.length&&(e=h[h.length-1])}return!0}function Id(r,e,t,i,a){a=a!==void 0?a:!1;for(let o=0,c=t.length;o<c;++o){const h=t[o],f=M1(r,e,h,i);(o===0?a&&f||!a&&!f:a&&!f||!a&&f)&&Vw(r,e,h,i),e=h}return e}function x0(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o)e=Id(r,e,t[o],i,a);return e}class jt extends hr{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Xn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new jt(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,a){return a<ur(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Sg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,a))}containsXY(e,t){return wg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return b1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Id(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Yl(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=ar(this.getExtent());this.flatInteriorPoint_=T1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Dn(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Xl(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,a=[];let o=0;for(let c=0,h=i.length;c<h;++c){const f=i[c],g=new Xl(t.slice(o,f),e);a.push(g),o=f}return a}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;O1(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Id(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=S1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new jt(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return A1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Tg(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function v0(r){const e=r[0],t=r[1],i=r[2],a=r[3],o=[e,t,e,a,i,a,i,t,e,t];return new jt(o,"XY",[o.length])}const xs={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class kt{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new kt({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}function L1(r,e,t,i,a,o,c){let h,f;const g=(t-e)/i;if(g===1)h=e;else if(g===2)h=e,f=a;else if(g!==0){let m=r[e],y=r[e+1],p=0;const x=[0];for(let S=e+i;S<t;S+=i){const T=r[S],w=r[S+1];p+=Math.sqrt((T-m)*(T-m)+(w-y)*(w-y)),x.push(p),m=T,y=w}const v=a*p,C=YR(x,v);C<0?(f=(v-x[-C-2])/(x[-C-1]-x[-C-2]),h=e+(-C-2)*i):h=e+C*i}c=c>1?c:2,o=o||new Array(c);for(let m=0;m<c;++m)o[m]=h===void 0?NaN:f===void 0?r[h+m]:mn(r[h+m],r[h+i+m],f);return o}function zd(r,e,t,i,a,o){if(t==e)return null;let c;if(a<r[e+i-1])return o?(c=r.slice(e,e+i),c[i-1]=a,c):null;if(r[t-1]<a)return o?(c=r.slice(t-i,t),c[i-1]=a,c):null;if(a==r[e+i-1])return r.slice(e,e+i);let h=e/i,f=t/i;for(;h<f;){const p=h+f>>1;a<r[(p+1)*i-1]?f=p:h=p+1}const g=r[h*i-1];if(a==g)return r.slice((h-1)*i,(h-1)*i+i);const m=r[(h+1)*i-1],y=(a-g)/(m-g);c=[];for(let p=0;p<i-1;++p)c.push(mn(r[(h-1)*i+p],r[h*i+p],y));return c.push(a),c}function Zw(r,e,t,i,a,o,c){if(c)return zd(r,e,t[t.length-1],i,a,o);let h;if(a<r[i-1])return o?(h=r.slice(0,i),h[i-1]=a,h):null;if(r[r.length-1]<a)return o?(h=r.slice(r.length-i),h[i-1]=a,h):null;for(let f=0,g=t.length;f<g;++f){const m=t[f];if(e!=m){if(a<r[e+i-1])return null;if(a<=r[m-1])return zd(r,e,m,i,a,!1);e=m}}return null}function D1(r,e,t,i){let a=r[e],o=r[e+1],c=0;for(let h=e+i;h<t;h+=i){const f=r[h],g=r[h+1];c+=Math.sqrt((f-a)*(f-a)+(g-o)*(g-o)),a=f,o=g}return c}class lr extends hr{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){this.flatCoordinates?Xn(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new lr(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,a){return a<ur(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Eg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Cg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,a))}forEachSegment(e){return R1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,zd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return L1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return D1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=Rg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new lr(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Ac(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wc(this.flatCoordinates,0,e,this.stride),this.changed()}}class Mt{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Mt({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const mt={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function E0(r){return r[0]>0&&r[1]>0}function Kw(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function _n(r,e){return Array.isArray(r)?r:(e===void 0?e=[r,r]:(e[0]=r,e[1]=r),e)}class Mc{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=_n(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Mc({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ye()}getImage(e){return ye()}getHitDetectionImage(){return ye()}getPixelRatio(e){return 1}getImageState(){return ye()}getImageSize(){return ye()}getOrigin(){return ye()}getSize(){return ye()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=_n(e)}listenImageChange(e){ye()}load(){ye()}unlistenImageChange(e){ye()}}const Ww=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Qw=/^([a-z]*)$|^hsla?\(.*\)$/i;function N1(r){return typeof r=="string"?r:F1(r)}function Jw(r){const e=document.createElement("div");if(e.style.color=r,e.style.color!==""){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}const $w=function(){const e={};let t=0;return function(i){let a;if(e.hasOwnProperty(i))a=e[i];else{if(t>=1024){let o=0;for(const c in e)(o++&3)===0&&(delete e[c],--t)}a=e2(i),e[i]=a,++t}return a}}();function ec(r){return Array.isArray(r)?r:$w(r)}function e2(r){let e,t,i,a,o;if(Qw.exec(r)&&(r=Jw(r)),Ww.exec(r)){const c=r.length-1;let h;c<=4?h=1:h=2;const f=c===4||c===8;e=parseInt(r.substr(1+0*h,h),16),t=parseInt(r.substr(1+1*h,h),16),i=parseInt(r.substr(1+2*h,h),16),f?a=parseInt(r.substr(1+3*h,h),16):a=255,h==1&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,f&&(a=(a<<4)+a)),o=[e,t,i,a/255]}else r.startsWith("rgba(")?(o=r.slice(5,-1).split(",").map(Number),S0(o)):r.startsWith("rgb(")?(o=r.slice(4,-1).split(",").map(Number),o.push(1),S0(o)):Re(!1,14);return o}function S0(r){return r[0]=ct(r[0]+.5|0,0,255),r[1]=ct(r[1]+.5|0,0,255),r[2]=ct(r[2]+.5|0,0,255),r[3]=ct(r[3],0,1),r}function F1(r){let e=r[0];e!=(e|0)&&(e=e+.5|0);let t=r[1];t!=(t|0)&&(t=t+.5|0);let i=r[2];i!=(i|0)&&(i=i+.5|0);const a=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+e+","+t+","+i+","+a+")"}function hi(r){return Array.isArray(r)?F1(r):r}function Zt(r,e,t,i){let a;return t&&t.length?a=t.shift():og?a=new OffscreenCanvas(r||300,e||300):a=document.createElement("canvas"),r&&(a.width=r),e&&(a.height=e),a.getContext("2d",i)}function Oc(r){const e=r.canvas;e.width=1,e.height=1,r.clearRect(0,0,1,1)}function t2(r){let e=r.offsetWidth;const t=getComputedStyle(r);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function n2(r){let e=r.offsetHeight;const t=getComputedStyle(r);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function C0(r,e){const t=e.parentNode;t&&t.replaceChild(r,e)}function tc(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function I1(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function i2(r,e){const t=r.childNodes;for(let i=0;;++i){const a=t[i],o=e[i];if(!a&&!o)break;if(a!==o){if(!a){r.appendChild(o);continue}if(!o){r.removeChild(a),--i;continue}r.insertBefore(o,a)}}}const Lu="ol-hidden",s2="ol-selectable",Lc="ol-unselectable",Ag="ol-control",b0="ol-collapsed",r2=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),T0=["style","variant","weight","size","lineHeight","family"],z1=function(r){const e=r.match(r2);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,a=T0.length;i<a;++i){const o=e[i+1];o!==void 0&&(t[T0[i]]=o)}return t.families=t.family.split(/,\s?/),t},P1="10px sans-serif",Pi="#000",nc="round",Hl=[],Vl=0,ya="round",ql=10,Zl="#000",Kl="center",ic="middle",Ks=[0,0,0,0],Wl=1,Fi=new Qn;let ra=null,Pd;const kd={},a2=function(){const e="32px ",t=["monospace","serif"],i=t.length,a="wmytzilWMYTZIL@#/&?$%10";let o,c;function h(g,m,y){let p=!0;for(let x=0;x<i;++x){const v=t[x];if(c=sc(g+" "+m+" "+e+v,a),y!=v){const C=sc(g+" "+m+" "+e+y+","+v,a);p=p&&C!=c}}return!!p}function f(){let g=!0;const m=Fi.getKeys();for(let y=0,p=m.length;y<p;++y){const x=m[y];Fi.get(x)<100&&(h.apply(this,x.split(`
`))?(Ca(kd),ra=null,Pd=void 0,Fi.set(x,100)):(Fi.set(x,Fi.get(x)+1,!0),g=!1))}g&&(clearInterval(o),o=void 0)}return function(g){const m=z1(g);if(!m)return;const y=m.families;for(let p=0,x=y.length;p<x;++p){const v=y[p],C=m.style+`
`+m.weight+`
`+v;Fi.get(C)===void 0&&(Fi.set(C,100,!0),h(m.style,m.weight,v)||(Fi.set(C,0,!0),o===void 0&&(o=setInterval(f,32))))}}}(),l2=function(){let r;return function(e){let t=kd[e];if(t==null){if(og){const i=z1(e),a=k1(e,"g");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(a.actualBoundingBoxAscent+a.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=e,document.body.appendChild(r),t=r.offsetHeight,document.body.removeChild(r);kd[e]=t}return t}}();function k1(r,e){return ra||(ra=Zt(1,1)),r!=Pd&&(ra.font=r,Pd=ra.font),ra.measureText(e)}function sc(r,e){return k1(r,e).width}function R0(r,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((a,o)=>Math.max(a,sc(r,o)),0);return t[e]=i,i}function o2(r,e){const t=[],i=[],a=[];let o=0,c=0,h=0,f=0;for(let g=0,m=e.length;g<=m;g+=2){const y=e[g];if(y===`
`||g===m){o=Math.max(o,c),a.push(c),c=0,h+=f;continue}const p=e[g+1]||r.font,x=sc(p,y);t.push(x),c+=x;const v=l2(p);i.push(v),f=Math.max(f,v)}return{width:o,height:h,widths:t,heights:i,lineWidths:a}}function u2(r,e,t,i,a,o,c,h,f,g,m){r.save(),t!==1&&(r.globalAlpha*=t),e&&r.setTransform.apply(r,e),i.contextInstructions?(r.translate(f,g),r.scale(m[0],m[1]),c2(i,r)):m[0]<0||m[1]<0?(r.translate(f,g),r.scale(m[0],m[1]),r.drawImage(i,a,o,c,h,0,0,c,h)):r.drawImage(i,a,o,c,h,f,g,c*m[0],h*m[1]),r.restore()}function c2(r,e){const t=r.contextInstructions;for(let i=0,a=t.length;i<a;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class Dc extends Mc{constructor(e){const t=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:t,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),t=new Dc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_;if(!e)return null;const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let t=this.canvas_[e];if(!t){const i=this.renderOptions_,a=Zt(i.size*e,i.size*e);this.draw_(i,a,e),t=a.canvas,this.canvas_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return mt.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let a=this.radius_,o=this.radius2_===void 0?a:this.radius2_;if(a<o){const j=a;a=o,o=j}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,f=o*Math.sin(h),g=Math.sqrt(o*o-f*f),m=a-g,y=Math.sqrt(f*f+m*m),p=y/f;if(e==="miter"&&p<=i)return p*t;const x=t/2/p,v=t/2*(m/y),S=Math.sqrt((a+x)*(a+x)+v*v)-a;if(this.radius2_===void 0||e==="bevel")return S*2;const T=a*Math.sin(h),w=Math.sqrt(a*a-T*T),R=o-w,O=Math.sqrt(T*T+R*R)/T;if(O<=i){const j=O*t/2-o-a;return 2*Math.max(S,j)}return S*2}createRenderOptions(){let e=ya,t=0,i=null,a=0,o,c=0;this.stroke_&&(o=this.stroke_.getColor(),o===null&&(o=Zl),o=hi(o),c=this.stroke_.getWidth(),c===void 0&&(c=Wl),i=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=ya),t=this.stroke_.getMiterLimit(),t===void 0&&(t=ql));const h=this.calculateLineJoinSize_(e,c,t),f=Math.max(this.radius_,this.radius2_||0),g=Math.ceil(2*f+h);return{strokeStyle:o,strokeWidth:c,size:g,lineDash:i,lineDashOffset:a,lineJoin:e,miterLimit:t}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let a=this.fill_.getColor();a===null&&(a=Pi),t.fillStyle=hi(a),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let t=this.fill_.getColor(),i=0;if(typeof t=="string"&&(t=ec(t)),t===null?i=1:Array.isArray(t)&&(i=t.length===4?t[3]:1),i===0){const a=Zt(e.size,e.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(e,a)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const a=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/t;for(let h=0;h<t;h++){const f=o+h*c,g=h%2===0?i:a;e.lineTo(g*Math.cos(f),g*Math.sin(f))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Pi,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}class Bn extends Dc{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new Bn({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}class nt{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=w0,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new nt({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=w0,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function h2(r){let e;if(typeof r=="function")e=r;else{let t;Array.isArray(r)?t=r:(Re(typeof r.getZIndex=="function",41),t=[r]),e=function(){return t}}return e}let nd=null;function f2(r,e){if(!nd){const t=new kt({color:"rgba(255,255,255,0.4)"}),i=new Mt({color:"#3399CC",width:1.25});nd=[new nt({image:new Bn({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return nd}function G1(){const r={},e=[255,255,255,1],t=[0,153,255,1],i=3;return r.Polygon=[new nt({fill:new kt({color:[255,255,255,.5]})})],r.MultiPolygon=r.Polygon,r.LineString=[new nt({stroke:new Mt({color:e,width:i+2})}),new nt({stroke:new Mt({color:t,width:i})})],r.MultiLineString=r.LineString,r.Circle=r.Polygon.concat(r.LineString),r.Point=[new nt({image:new Bn({radius:i*2,fill:new kt({color:t}),stroke:new Mt({color:e,width:i/2})}),zIndex:1/0})],r.MultiPoint=r.Point,r.GeometryCollection=r.Polygon.concat(r.LineString,r.Point),r}function w0(r){return r.getGeometry()}const d2="#333";class Mg{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=_n(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new kt({color:d2}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new Mg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=_n(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const ke={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class j1 extends Qn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[ke.OPACITY]=e.opacity!==void 0?e.opacity:1,Re(typeof t[ke.OPACITY]=="number",64),t[ke.VISIBLE]=e.visible!==void 0?e.visible:!0,t[ke.Z_INDEX]=e.zIndex,t[ke.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[ke.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[ke.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[ke.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=ct(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return ye()}getLayerStatesArray(e){return ye()}getExtent(){return this.get(ke.EXTENT)}getMaxResolution(){return this.get(ke.MAX_RESOLUTION)}getMinResolution(){return this.get(ke.MIN_RESOLUTION)}getMinZoom(){return this.get(ke.MIN_ZOOM)}getMaxZoom(){return this.get(ke.MAX_ZOOM)}getOpacity(){return this.get(ke.OPACITY)}getSourceState(){return ye()}getVisible(){return this.get(ke.VISIBLE)}getZIndex(){return this.get(ke.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(ke.EXTENT,e)}setMaxResolution(e){this.set(ke.MAX_RESOLUTION,e)}setMinResolution(e){this.set(ke.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(ke.MAX_ZOOM,e)}setMinZoom(e){this.set(ke.MIN_ZOOM,e)}setOpacity(e){Re(typeof e=="number",64),this.set(ke.OPACITY,e)}setVisible(e){this.set(ke.VISIBLE,e)}setZIndex(e){this.set(ke.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Gt={ANIMATING:0,INTERACTING:1},Gn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},g2=42,Og=256;function A0(r,e,t){return function(i,a,o,c,h){if(!i)return;if(!a&&!e)return i;const f=e?0:o[0]*a,g=e?0:o[1]*a,m=h?h[0]:0,y=h?h[1]:0;let p=r[0]+f/2+m,x=r[2]-f/2+m,v=r[1]+g/2+y,C=r[3]-g/2+y;p>x&&(p=(x+p)/2,x=p),v>C&&(v=(C+v)/2,C=v);let S=ct(i[0],p,x),T=ct(i[1],v,C);if(c&&t&&a){const w=30*a;S+=-w*Math.log(1+Math.max(0,p-i[0])/w)+w*Math.log(1+Math.max(0,i[0]-x)/w),T+=-w*Math.log(1+Math.max(0,v-i[1])/w)+w*Math.log(1+Math.max(0,i[1]-C)/w)}return[S,T]}}function m2(r){return r}function Lg(r,e,t,i){const a=Ve(e)/t[0],o=di(e)/t[1];return i?Math.min(r,Math.max(a,o)):Math.min(r,Math.min(a,o))}function Dg(r,e,t){let i=Math.min(r,e);const a=50;return i*=Math.log(1+a*Math.max(0,r/e-1))/a+1,t&&(i=Math.max(i,t),i/=Math.log(1+a*Math.max(0,t/r-1))/a+1),ct(i,t/2,e*2)}function _2(r,e,t,i){return e=e!==void 0?e:!0,function(a,o,c,h){if(a!==void 0){const f=r[0],g=r[r.length-1],m=t?Lg(f,t,c,i):f;if(h)return e?Dg(a,m,g):ct(a,g,m);const y=Math.min(m,a),p=Math.floor(lg(r,y,o));return r[p]>m&&p<r.length-1?r[p+1]:r[p]}}}function y2(r,e,t,i,a,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(c,h,f,g){if(c!==void 0){const m=a?Lg(e,a,f,o):e;if(g)return i?Dg(c,m,t):ct(c,t,m);const y=1e-9,p=Math.ceil(Math.log(e/m)/Math.log(r)-y),x=-h*(.5-y)+.5,v=Math.min(m,c),C=Math.floor(Math.log(e/v)/Math.log(r)+x),S=Math.max(p,C),T=e/Math.pow(r,S);return ct(T,t,m)}}}function M0(r,e,t,i,a){return t=t!==void 0?t:!0,function(o,c,h,f){if(o!==void 0){const g=i?Lg(r,i,h,a):r;return!t||!f?ct(o,e,g):Dg(o,g,e)}}}function Ng(r){if(r!==void 0)return 0}function O0(r){if(r!==void 0)return r}function p2(r){const e=2*Math.PI/r;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function x2(r){return r=r||$s(5),function(e,t){if(t)return e;if(e!==void 0)return Math.abs(e)<=r?0:e}}function U1(r){return Math.pow(r,3)}function ba(r){return 1-U1(1-r)}function v2(r){return 3*r*r-2*r*r*r}function E2(r){return r}const id=0;class ui extends Qn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=_g(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&y1(),e.center&&(e.center=gt(e.center,this.projection_)),e.extent&&(e.extent=_s(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const h in Gn)delete t[h];this.setProperties(t,!0);const i=C2(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const a=S2(e),o=i.constraint,c=b2(e);this.constraints_={center:a,resolution:o,rotation:c},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const a=e||[0,0,0,0];t=t||[0,0,0,0];const o=this.getResolution(),c=o/2*(a[3]-t[3]+t[1]-a[1]),h=o/2*(a[0]-t[0]+t[2]-a[2]);this.setCenterInternal([i[0]+c,i[1]-h])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let a=arguments[i];a.center&&(a=Object.assign({},a),a.center=gt(a.center,this.getProjection())),a.anchor&&(a=Object.assign({},a),a.anchor=gt(a.anchor,this.getProjection())),t[i]=a}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let a=0;for(;a<t&&!this.isDef();++a){const m=arguments[a];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(a===t){i&&Du(i,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,f=this.targetRotation_;const g=[];for(;a<t;++a){const m=arguments[a],y={start:o,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||v2,callback:i};if(m.center&&(y.sourceCenter=c,y.targetCenter=m.center.slice(),c=y.targetCenter),m.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(m.zoom),h=y.targetResolution):m.resolution&&(y.sourceResolution=h,y.targetResolution=m.resolution,h=y.targetResolution),m.rotation!==void 0){y.sourceRotation=f;const p=er(m.rotation-f+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=f+p,f=y.targetRotation}T2(y)?y.complete=!0:o+=y.duration,g.push(y)}this.animations_.push(g),this.setHint(Gt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Gt.ANIMATING]>0}getInteracting(){return this.hints_[Gt.INTERACTING]>0}cancelAnimations(){this.setHint(Gt.ANIMATING,-this.hints_[Gt.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const a=this.animations_[t];if(a[0].callback&&Du(a[0].callback,!1),!e)for(let o=0,c=a.length;o<c;++o){const h=a[o];if(!h.complete){e=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const a=this.animations_[i];let o=!0;for(let c=0,h=a.length;c<h;++c){const f=a[c];if(f.complete)continue;const g=e-f.start;let m=f.duration>0?g/f.duration:1;m>=1?(f.complete=!0,m=1):o=!1;const y=f.easing(m);if(f.sourceCenter){const p=f.sourceCenter[0],x=f.sourceCenter[1],v=f.targetCenter[0],C=f.targetCenter[1];this.nextCenter_=f.targetCenter;const S=p+y*(v-p),T=x+y*(C-x);this.targetCenter_=[S,T]}if(f.sourceResolution&&f.targetResolution){const p=y===1?f.targetResolution:f.sourceResolution+y*(f.targetResolution-f.sourceResolution);if(f.anchor){const x=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(p,0,x,!0);this.targetCenter_=this.calculateCenterZoom(v,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){const p=y===1?er(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+y*(f.targetRotation-f.sourceRotation);if(f.anchor){const x=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(x,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),t=!0,!f.complete)break}if(o){this.animations_[i]=null,this.setHint(Gt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=a[0].callback;c&&Du(c,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const a=this.getCenterInternal();return a!==void 0&&(i=[a[0]-t[0],a[1]-t[1]],gg(i,e-this.getRotation()),Ew(i,t)),i}calculateCenterZoom(e,t){let i;const a=this.getCenterInternal(),o=this.getResolution();if(a!==void 0&&o!==void 0){const c=t[0]-e*(t[0]-a[0])/o,h=t[1]-e*(t[1]-a[1])/o;i=[c,h]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],a=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(a*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(a*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Bl(e,this.getProjection())}getCenterInternal(){return this.get(Gn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return vg(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Re(t,1);const i=this.getResolution();Re(i!==void 0,2);const a=this.getRotation();return Re(a!==void 0,3),Od(t,i,a,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Gn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(_s(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=Ve(e)/t[0],a=di(e)/t[1];return Math.max(i,a)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,a=Math.log(t/i)/Math.log(e);return function(o){return t/Math.pow(e,o*a)}}getRotation(){return this.get(Gn.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,o=Math.log(i/a)/t;return function(c){return Math.log(i/c)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let a=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();a=sd(a,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],t,i)}return{center:a.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,a;if(this.resolutions_){const o=lg(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?a=2:a=i/this.resolutions_[o+1]}else i=this.maxResolution_,a=this.zoomFactor_;return t+Math.log(i/e)/Math.log(a)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=ct(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,ct(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Re(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){Re(!hg(e),25);const a=_s(e,this.getProjection());i=v0(a)}else if(e.getType()==="Circle"){const a=_s(e.getExtent(),this.getProjection());i=v0(a),i.rotate(this.getRotation(),ar(a))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),a=Math.sin(-t),o=e.getFlatCoordinates(),c=e.getStride();let h=1/0,f=1/0,g=-1/0,m=-1/0;for(let y=0,p=o.length;y<p;y+=c){const x=o[y]*i-o[y+1]*a,v=o[y]*a+o[y+1]*i;h=Math.min(h,x),f=Math.min(f,v),g=Math.max(g,x),m=Math.max(m,v)}return[h,f,g,m]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const a=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1;let c;t.minResolution!==void 0?c=t.minResolution:t.maxZoom!==void 0?c=this.getResolutionForZoom(t.maxZoom):c=0;const h=this.rotatedExtentForGeometry(e);let f=this.getResolutionForExtentInternal(h,[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]);f=isNaN(f)?c:Math.max(f,c),f=this.getConstrainedResolution(f,o?0:1);const g=this.getRotation(),m=Math.sin(g),y=Math.cos(g),p=ar(h);p[0]+=(a[1]-a[3])/2*f,p[1]+=(a[0]-a[2])/2*f;const x=p[0]*y-p[1]*m,v=p[1]*y+p[0]*m,C=this.getConstrainedCenter([x,v],f),S=t.callback?t.callback:ma;t.duration!==void 0?this.animateInternal({resolution:f,center:C,duration:t.duration,easing:t.easing},S):(this.targetResolution_=f,this.targetCenter_=C,this.applyTargetState_(!1,!0),Du(S,!0))}centerOn(e,t,i){this.centerOnInternal(gt(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(sd(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,a){let o;const c=this.padding_;if(c&&e){const h=this.getViewportSizeMinusPadding_(-i),f=sd(e,a,[h[0]/2+c[3],h[1]/2+c[0]],t,i);o=[e[0]-f[0],e[1]-f[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=Bl(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&gt(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,a,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=gt(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(a,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&gt(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,a=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(a),c=this.constraints_.resolution(this.targetResolution_,0,o,i),h=this.constraints_.center(this.targetCenter_,c,o,i,this.calculateCenterShift(this.targetCenter_,c,a,o));this.get(Gn.ROTATION)!==a&&this.set(Gn.ROTATION,a),this.get(Gn.RESOLUTION)!==c&&(this.set(Gn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Gn.CENTER)||!Un(this.get(Gn.CENTER),h))&&this.set(Gn.CENTER,h),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const a=t||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,a,c),f=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(e===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=f,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!Un(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:f,resolution:h,duration:e,easing:ba,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Gt.INTERACTING,1)}endInteraction(e,t,i){i=i&&gt(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(Gt.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Du(r,e){setTimeout(function(){r(e)},0)}function S2(r){if(r.extent!==void 0){const t=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return A0(r.extent,r.constrainOnlyCenter,t)}const e=_g(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,A0(t,!1,!1)}return m2}function C2(r){let e,t,i,c=r.minZoom!==void 0?r.minZoom:id,h=r.maxZoom!==void 0?r.maxZoom:28;const f=r.zoomFactor!==void 0?r.zoomFactor:2,g=r.multiWorld!==void 0?r.multiWorld:!1,m=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,y=r.showFullExtent!==void 0?r.showFullExtent:!1,p=_g(r.projection,"EPSG:3857"),x=p.getExtent();let v=r.constrainOnlyCenter,C=r.extent;if(!g&&!C&&p.isGlobal()&&(v=!1,C=x),r.resolutions!==void 0){const S=r.resolutions;t=S[c],i=S[h]!==void 0?S[h]:S[S.length-1],r.constrainResolution?e=_2(S,m,!v&&C,y):e=M0(t,i,m,!v&&C,y)}else{const T=(x?Math.max(Ve(x),di(x)):360*fg.degrees/p.getMetersPerUnit())/Og/Math.pow(2,id),w=T/Math.pow(2,28-id);t=r.maxResolution,t!==void 0?c=0:t=T/Math.pow(f,c),i=r.minResolution,i===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?i=t/Math.pow(f,h):i=T/Math.pow(f,h):i=w),h=c+Math.floor(Math.log(t/i)/Math.log(f)),i=t/Math.pow(f,h-c),r.constrainResolution?e=y2(f,t,i,m,!v&&C,y):e=M0(t,i,m,!v&&C,y)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:c,zoomFactor:f}}function b2(r){if(r.enableRotation!==void 0?r.enableRotation:!0){const t=r.constrainRotation;return t===void 0||t===!0?x2():t===!1?O0:typeof t=="number"?p2(t):O0}return Ng}function T2(r){return!(r.sourceCenter&&r.targetCenter&&!Un(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function sd(r,e,t,i,a){const o=Math.cos(-a);let c=Math.sin(-a),h=r[0]*o-r[1]*c,f=r[1]*o+r[0]*c;h+=(e[0]/2-t[0])*i,f+=(t[1]-e[1]/2)*i,c=-c;const g=h*o-f*c,m=f*o+h*c;return[g,m]}class Nc extends j1{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ke.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(ke.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(He(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Le(e,xe.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;e instanceof ui?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e;const i=this.getExtent();return this.getVisible()&&Fg(this.getLayerState(),t.viewState)&&(!i||qt(i,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const i=this.getSource();if(i&&(t=i.getAttributions()),!t)return[];const a=e instanceof ui?e.getViewStateAndExtent():e;let o=t(a);return Array.isArray(o)||(o=[o]),o}render(e,t){const i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,t)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(ke.MAP,e)}getMapInternal(){return this.get(ke.MAP)}setMap(e){this.mapPrecomposeKey_&&(He(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(He(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Le(e,xs.PRECOMPOSE,function(t){const a=t.frameState.layerStatesArray,o=this.getLayerState(!1);Re(!a.some(function(c){return c.layer===o.layer}),67),a.push(o)},this),this.mapRenderKey_=Le(this,xe.CHANGE,e.render,e),this.changed())}setSource(e){this.set(ke.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Fg(r,e){if(!r.visible)return!1;const t=e.resolution;if(t<r.minResolution||t>=r.maxResolution)return!1;const i=e.zoom;return i>r.minZoom&&i<=r.maxZoom}function R2(r,e,t,i,a){B1(r,e,t||0,i||r.length-1,a||w2)}function B1(r,e,t,i,a){for(;i>t;){if(i-t>600){var o=i-t+1,c=e-t+1,h=Math.log(o),f=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*f*(o-f)/o)*(c-o/2<0?-1:1),m=Math.max(t,Math.floor(e-c*f/o+g)),y=Math.min(i,Math.floor(e+(o-c)*f/o+g));B1(r,e,m,y,a)}var p=r[e],x=t,v=i;for(Ol(r,t,e),a(r[i],p)>0&&Ol(r,t,i);x<v;){for(Ol(r,x,v),x++,v--;a(r[x],p)<0;)x++;for(;a(r[v],p)>0;)v--}a(r[t],p)===0?Ol(r,t,v):(v++,Ol(r,v,i)),v<=e&&(t=v+1),e<=v&&(i=v-1)}}function Ol(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}function w2(r,e){return r<e?-1:r>e?1:0}let Y1=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Fu(e,t))return i;const a=this.toBBox,o=[];for(;t;){for(let c=0;c<t.children.length;c++){const h=t.children[c],f=t.leaf?a(h):h;Fu(e,f)&&(t.leaf?i.push(h):ad(e,f)?this._all(h,i):o.push(h))}t=o.pop()}return i}collides(e){let t=this.data;if(!Fu(e,t))return!1;const i=[];for(;t;){for(let a=0;a<t.children.length;a++){const o=t.children[a],c=t.leaf?this.toBBox(o):o;if(Fu(e,c)){if(t.leaf||ad(e,c))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=aa([]),this}remove(e,t){if(!e)return this;let i=this.data;const a=this.toBBox(e),o=[],c=[];let h,f,g;for(;i||o.length;){if(i||(i=o.pop(),f=o[o.length-1],h=c.pop(),g=!0),i.leaf){const m=A2(e,i.children,t);if(m!==-1)return i.children.splice(m,1),o.push(i),this._condense(o),this}!g&&!i.leaf&&ad(i,a)?(o.push(i),c.push(h),h=0,f=i,i=i.children[0]):f?(h++,i=f.children[h],g=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,a){const o=i-t+1;let c=this._maxEntries,h;if(o<=c)return h=aa(e.slice(t,i+1)),ta(h,this.toBBox),h;a||(a=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,a-1))),h=aa([]),h.leaf=!1,h.height=a;const f=Math.ceil(o/c),g=f*Math.ceil(Math.sqrt(c));L0(e,t,i,g,this.compareMinX);for(let m=t;m<=i;m+=g){const y=Math.min(m+g-1,i);L0(e,m,y,f,this.compareMinY);for(let p=m;p<=y;p+=f){const x=Math.min(p+f-1,y);h.children.push(this._build(e,p,x,a-1))}}return ta(h,this.toBBox),h}_chooseSubtree(e,t,i,a){for(;a.push(t),!(t.leaf||a.length-1===i);){let o=1/0,c=1/0,h;for(let f=0;f<t.children.length;f++){const g=t.children[f],m=rd(g),y=L2(e,g)-m;y<c?(c=y,o=m<o?m:o,h=g):y===c&&m<o&&(o=m,h=g)}t=h||t.children[0]}return t}_insert(e,t,i){const a=i?e:this.toBBox(e),o=[],c=this._chooseSubtree(a,this.data,t,o);for(c.children.push(e),Nl(c,a);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(a,o,t)}_split(e,t){const i=e[t],a=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,a);const c=this._chooseSplitIndex(i,o,a),h=aa(i.children.splice(c,i.children.length-c));h.height=i.height,h.leaf=i.leaf,ta(i,this.toBBox),ta(h,this.toBBox),t?e[t-1].children.push(h):this._splitRoot(i,h)}_splitRoot(e,t){this.data=aa([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ta(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let a,o=1/0,c=1/0;for(let h=t;h<=i-t;h++){const f=Dl(e,0,h,this.toBBox),g=Dl(e,h,i,this.toBBox),m=D2(f,g),y=rd(f)+rd(g);m<o?(o=m,a=h,c=y<c?y:c):m===o&&y<c&&(c=y,a=h)}return a||i-t}_chooseSplitAxis(e,t,i){const a=e.leaf?this.compareMinX:M2,o=e.leaf?this.compareMinY:O2,c=this._allDistMargin(e,t,i,a),h=this._allDistMargin(e,t,i,o);c<h&&e.children.sort(a)}_allDistMargin(e,t,i,a){e.children.sort(a);const o=this.toBBox,c=Dl(e,0,t,o),h=Dl(e,i-t,i,o);let f=Nu(c)+Nu(h);for(let g=t;g<i-t;g++){const m=e.children[g];Nl(c,e.leaf?o(m):m),f+=Nu(c)}for(let g=i-t-1;g>=t;g--){const m=e.children[g];Nl(h,e.leaf?o(m):m),f+=Nu(h)}return f}_adjustParentBBoxes(e,t,i){for(let a=i;a>=0;a--)Nl(t[a],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():ta(e[t],this.toBBox)}};function A2(r,e,t){if(!t)return e.indexOf(r);for(let i=0;i<e.length;i++)if(t(r,e[i]))return i;return-1}function ta(r,e){Dl(r,0,r.children.length,e,r)}function Dl(r,e,t,i,a){a||(a=aa(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let o=e;o<t;o++){const c=r.children[o];Nl(a,r.leaf?i(c):c)}return a}function Nl(r,e){return r.minX=Math.min(r.minX,e.minX),r.minY=Math.min(r.minY,e.minY),r.maxX=Math.max(r.maxX,e.maxX),r.maxY=Math.max(r.maxY,e.maxY),r}function M2(r,e){return r.minX-e.minX}function O2(r,e){return r.minY-e.minY}function rd(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function Nu(r){return r.maxX-r.minX+(r.maxY-r.minY)}function L2(r,e){return(Math.max(e.maxX,r.maxX)-Math.min(e.minX,r.minX))*(Math.max(e.maxY,r.maxY)-Math.min(e.minY,r.minY))}function D2(r,e){const t=Math.max(r.minX,e.minX),i=Math.max(r.minY,e.minY),a=Math.min(r.maxX,e.maxX),o=Math.min(r.maxY,e.maxY);return Math.max(0,a-t)*Math.max(0,o-i)}function ad(r,e){return r.minX<=e.minX&&r.minY<=e.minY&&e.maxX<=r.maxX&&e.maxY<=r.maxY}function Fu(r,e){return e.minX<=r.maxX&&e.minY<=r.maxY&&e.maxX>=r.minX&&e.maxY>=r.minY}function aa(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function L0(r,e,t,i,a){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;const c=e+Math.ceil((t-e)/i/2)*i;R2(r,c,e,t,a),o.push(e,c,c,t)}}class N2{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const a=D0(e,t,i);return a in this.cache_?this.cache_[a]:null}set(e,t,i,a){const o=D0(e,t,i);this.cache_[o]=a,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function D0(r,e,t){const i=t?N1(t):"null";return e+":"+r+":"+i}const rc=new N2;function X1(r,e,t){const i=r;let a=!0,o=!1,c=!1;const h=[Qu(i,xe.LOAD,function(){c=!0,o||e()})];return i.src&&ew?(o=!0,i.decode().then(function(){a&&e()}).catch(function(f){a&&(c?e():t())})):h.push(Qu(i,xe.ERROR,t)),function(){a=!1,h.forEach(He)}}let Ll=null;class F2 extends vc{constructor(e,t,i,a,o,c){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=a,this.canvas_={},this.color_=c,this.unlisten_=null,this.imageState_=o,this.size_=i,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===mt.LOADED){Ll||(Ll=Zt(1,1,void 0,{willReadFrequently:!0})),Ll.drawImage(this.image_,0,0);try{Ll.getImageData(0,0,1,1),this.tainted_=!1}catch{Ll=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(xe.CHANGE)}handleImageError_(){this.imageState_=mt.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=mt.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=Zt(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===mt.IDLE){this.image_||this.initializeImage_(),this.imageState_=mt.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=X1(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==mt.LOADED)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const a=i.getContext("2d");a.scale(e,e),a.drawImage(t,0,0),a.globalCompositeOperation="multiply",a.fillStyle=N1(this.color_),a.fillRect(0,0,i.width/e,i.height/e),a.globalCompositeOperation="destination-in",a.drawImage(t,0,0),this.canvas_[e]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function I2(r,e,t,i,a,o){let c=rc.get(e,i,o);return c||(c=new F2(r,e,t,i,a,o),rc.set(e,i,o,c)),c}class oo extends Mc{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,a=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:a,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const c=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let h=e.src;Re(!(h!==void 0&&c),4),Re(!c||c&&this.imgSize_,5),(h===void 0||h.length===0)&&c&&(h=c.src||ve(c)),Re(h!==void 0&&h.length>0,6),Re(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const f=e.src!==void 0?mt.IDLE:mt.LOADED;if(this.color_=e.color!==void 0?ec(e.color):null,this.iconImage_=I2(c,h,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,f,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.width_=e.width,this.height_=e.height,this.width_!==void 0||this.height_!==void 0){const g=this.getImage(1),m=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};g.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):g.addEventListener("load",m)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(this.width_!==void 0||this.height_!==void 0)&&(e=void 0),new oo({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,t){const i=this.getImage(1);e!==void 0&&t!==void 0?super.setScale([e/i.width,t/i.height]):e!==void 0?super.setScale([e/i.width,e/i.width]):t!==void 0?super.setScale([t/i.height,t/i.height]):super.setScale([1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const a=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!a)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=a[0]),this.anchorYUnits_=="fraction"&&(e[1]*=a[1])}if(this.anchorOrigin_!="top-left"){if(!a)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+a[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+a[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const t=this.getImage(1);if(t){const i=Array.isArray(e)?e[0]:e;i!==void 0&&(this.width_=i*t.width);const a=Array.isArray(e)?e[1]:e;a!==void 0&&(this.height_=a*t.height)}}listenImageChange(e){this.iconImage_.addEventListener(xe.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(xe.CHANGE,e)}}function N0(r){return new nt({fill:Ql(r,""),stroke:Jl(r,""),text:z2(r),image:P2(r)})}function Ql(r,e){const t=r[e+"fill-color"];if(t)return new kt({color:t})}function Jl(r,e){const t=r[e+"stroke-width"],i=r[e+"stroke-color"];if(!(!t&&!i))return new Mt({width:t,color:i,lineCap:r[e+"stroke-line-cap"],lineJoin:r[e+"stroke-line-join"],lineDash:r[e+"stroke-line-dash"],lineDashOffset:r[e+"stroke-line-dash-offset"],miterLimit:r[e+"stroke-miter-limit"]})}function z2(r){const e=r["text-value"];return e?new Mg({text:e,font:r["text-font"],maxAngle:r["text-max-angle"],offsetX:r["text-offset-x"],offsetY:r["text-offset-y"],overflow:r["text-overflow"],placement:r["text-placement"],repeat:r["text-repeat"],scale:r["text-scale"],rotateWithView:r["text-rotate-with-view"],rotation:r["text-rotation"],textAlign:r["text-align"],justify:r["text-justify"],textBaseline:r["text-baseline"],padding:r["text-padding"],fill:Ql(r,"text-"),backgroundFill:Ql(r,"text-background-"),stroke:Jl(r,"text-"),backgroundStroke:Jl(r,"text-background-")}):void 0}function P2(r){const e=r["icon-src"],t=r["icon-img"];if(e||t)return new oo({src:e,img:t,imgSize:r["icon-img-size"],anchor:r["icon-anchor"],anchorOrigin:r["icon-anchor-origin"],anchorXUnits:r["icon-anchor-x-units"],anchorYUnits:r["icon-anchor-y-units"],color:r["icon-color"],crossOrigin:r["icon-cross-origin"],offset:r["icon-offset"],displacement:r["icon-displacement"],opacity:r["icon-opacity"],scale:r["icon-scale"],rotation:r["icon-rotation"],rotateWithView:r["icon-rotate-with-view"],size:r["icon-size"],declutterMode:r["icon-declutter-mode"]});const i=r["shape-points"];if(i){const o="shape-";return new Dc({points:i,fill:Ql(r,o),stroke:Jl(r,o),radius:r["shape-radius"],radius1:r["shape-radius1"],radius2:r["shape-radius2"],angle:r["shape-angle"],displacement:r["shape-displacement"],rotation:r["shape-rotation"],rotateWithView:r["shape-rotate-with-view"],scale:r["shape-scale"],declutterMode:r["shape-declutter-mode"]})}const a=r["circle-radius"];if(a){const o="circle-";return new Bn({radius:a,fill:Ql(r,o),stroke:Jl(r,o),displacement:r["circle-displacement"],scale:r["circle-scale"],rotation:r["circle-rotation"],rotateWithView:r["circle-rotate-with-view"],declutterMode:r["circle-declutter-mode"]})}}const F0={RENDER_ORDER:"renderOrder"};class k2 extends Nc{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(F0.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new Y1(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(F0.RENDER_ORDER,e)}setStyle(e){let t;if(e===void 0)t=f2;else if(e===null)t=null;else if(typeof e=="function")t=e;else if(e instanceof nt)t=e;else if(Array.isArray(e)){const i=e.length,a=new Array(i);for(let o=0;o<i;++o){const c=e[o];c instanceof nt?a[o]=c:a[o]=N0(c)}t=a}else t=N0(e);this.style_=t,this.styleFunction_=e===null?void 0:h2(this.style_),this.changed()}}const fe={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Iu=[fe.FILL],ps=[fe.STROKE],Ws=[fe.BEGIN_PATH],I0=[fe.CLOSE_PATH];class H1{drawCustom(e,t,i,a){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}class uo extends H1{constructor(e,t,i,a){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=a,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,f=e.length;h<f;h+=t)a[0]=e[h],a[1]=e[h+1],Sc(i,a)&&(o[c++]=a[0],o[c++]=a[1]);return c}appendFlatLineCoordinates(e,t,i,a,o,c){const h=this.coordinates;let f=h.length;const g=this.getBufferedMaxExtent();c&&(t+=a);let m=e[t],y=e[t+1];const p=this.tmpCoordinate_;let x=!0,v,C,S;for(v=t+a;v<i;v+=a)p[0]=e[v],p[1]=e[v+1],S=Ad(g,p),S!==C?(x&&(h[f++]=m,h[f++]=y,x=!1),h[f++]=p[0],h[f++]=p[1]):S===Et.INTERSECTING?(h[f++]=p[0],h[f++]=p[1],x=!1):x=!0,m=p[0],y=p[1],C=S;return(o&&x||v===t+a)&&(h[f++]=m,h[f++]=y),f}drawCustomCoordinates_(e,t,i,a,o){for(let c=0,h=i.length;c<h;++c){const f=i[c],g=this.appendFlatLineCoordinates(e,t,f,a,!1,!1);o.push(g),t=f}return t}drawCustom(e,t,i,a){this.beginGeometry(e,t);const o=e.getType(),c=e.getStride(),h=this.coordinates.length;let f,g,m,y,p;switch(o){case"MultiPolygon":f=e.getOrientedFlatCoordinates(),y=[];const x=e.getEndss();p=0;for(let v=0,C=x.length;v<C;++v){const S=[];p=this.drawCustomCoordinates_(f,p,x[v],c,S),y.push(S)}this.instructions.push([fe.CUSTOM,h,y,e,i,Fd]),this.hitDetectionInstructions.push([fe.CUSTOM,h,y,e,a||i,Fd]);break;case"Polygon":case"MultiLineString":m=[],f=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(f,0,e.getEnds(),c,m),this.instructions.push([fe.CUSTOM,h,m,e,i,Yl]),this.hitDetectionInstructions.push([fe.CUSTOM,h,m,e,a||i,Yl]);break;case"LineString":case"Circle":f=e.getFlatCoordinates(),g=this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1),this.instructions.push([fe.CUSTOM,h,g,e,i,ys]),this.hitDetectionInstructions.push([fe.CUSTOM,h,g,e,a||i,ys]);break;case"MultiPoint":f=e.getFlatCoordinates(),g=this.appendFlatPointCoordinates(f,c),g>h&&(this.instructions.push([fe.CUSTOM,h,g,e,i,ys]),this.hitDetectionInstructions.push([fe.CUSTOM,h,g,e,a||i,ys]));break;case"Point":f=e.getFlatCoordinates(),this.coordinates.push(f[0],f[1]),g=this.coordinates.length,this.instructions.push([fe.CUSTOM,h,g,e,i]),this.hitDetectionInstructions.push([fe.CUSTOM,h,g,e,a||i]);break}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[fe.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[fe.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let a,o,c=-1;for(t=0;t<i;++t)a=e[t],o=a[0],o==fe.END_GEOMETRY?c=t:o==fe.BEGIN_GEOMETRY&&(a[2]=t,XR(this.hitDetectionInstructions,c,t),c=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const a=e.getColor();i.fillStyle=hi(a||Pi)}else i.fillStyle=void 0;if(t){const a=t.getColor();i.strokeStyle=hi(a||Zl);const o=t.getLineCap();i.lineCap=o!==void 0?o:nc;const c=t.getLineDash();i.lineDash=c?c.slice():Hl;const h=t.getLineDashOffset();i.lineDashOffset=h||Vl;const f=t.getLineJoin();i.lineJoin=f!==void 0?f:ya;const g=t.getWidth();i.lineWidth=g!==void 0?g:Wl;const m=t.getMiterLimit();i.miterLimit=m!==void 0?m:ql,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[fe.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(!0),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[fe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,a=e.lineCap,o=e.lineDash,c=e.lineDashOffset,h=e.lineJoin,f=e.lineWidth,g=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=a||o!=e.currentLineDash&&!ji(e.currentLineDash,o)||e.currentLineDashOffset!=c||e.currentLineJoin!=h||e.currentLineWidth!=f||e.currentMiterLimit!=g)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=a,e.currentLineDash=o,e.currentLineDashOffset=c,e.currentLineJoin=h,e.currentLineWidth=f,e.currentMiterLimit=g)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[fe.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=a1(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Ec(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class G2 extends uo{constructor(e,t,i,a){super(e,t,i,a),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,c=this.appendFlatPointCoordinates(i,a);this.instructions.push([fe.DRAW_IMAGE,o,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([fe.DRAW_IMAGE,o,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,c=this.appendFlatPointCoordinates(i,a);this.instructions.push([fe.DRAW_IMAGE,o,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([fe.DRAW_IMAGE,o,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),a=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=a[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=a[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class j2 extends uo{constructor(e,t,i,a){super(e,t,i,a)}drawFlatCoordinates_(e,t,i,a){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(e,t,i,a,!1,!1),h=[fe.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i}drawLineString(e,t){const i=this.state,a=i.strokeStyle,o=i.lineWidth;if(a===void 0||o===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Hl,Vl],Ws);const c=e.getFlatCoordinates(),h=e.getStride();this.drawFlatCoordinates_(c,0,c.length,h),this.hitDetectionInstructions.push(ps),this.endGeometry(t)}drawMultiLineString(e,t){const i=this.state,a=i.strokeStyle,o=i.lineWidth;if(a===void 0||o===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ws);const c=e.getEnds(),h=e.getFlatCoordinates(),f=e.getStride();let g=0;for(let m=0,y=c.length;m<y;++m)g=this.drawFlatCoordinates_(h,g,c[m],f);this.hitDetectionInstructions.push(ps),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(ps),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(ps),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ws)}}class z0 extends uo{constructor(e,t,i,a){super(e,t,i,a)}drawFlatCoordinatess_(e,t,i,a){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,f=i.length;this.instructions.push(Ws),this.hitDetectionInstructions.push(Ws);for(let g=0;g<f;++g){const m=i[g],y=this.coordinates.length,p=this.appendFlatLineCoordinates(e,t,m,a,!0,!h),x=[fe.MOVE_TO_LINE_TO,y,p];this.instructions.push(x),this.hitDetectionInstructions.push(x),h&&(this.instructions.push(I0),this.hitDetectionInstructions.push(I0)),t=m}return c&&(this.instructions.push(Iu),this.hitDetectionInstructions.push(Iu)),h&&(this.instructions.push(ps),this.hitDetectionInstructions.push(ps)),t}drawCircle(e,t){const i=this.state,a=i.fillStyle,o=i.strokeStyle;if(a===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_FILL_STYLE,Pi]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const c=e.getFlatCoordinates(),h=e.getStride(),f=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,h,!1,!1);const g=[fe.CIRCLE,f];this.instructions.push(Ws,g),this.hitDetectionInstructions.push(Ws,g),i.fillStyle!==void 0&&(this.instructions.push(Iu),this.hitDetectionInstructions.push(Iu)),i.strokeStyle!==void 0&&(this.instructions.push(ps),this.hitDetectionInstructions.push(ps)),this.endGeometry(t)}drawPolygon(e,t){const i=this.state,a=i.fillStyle,o=i.strokeStyle;if(a===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_FILL_STYLE,Pi]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const c=e.getEnds(),h=e.getOrientedFlatCoordinates(),f=e.getStride();this.drawFlatCoordinatess_(h,0,c,f),this.endGeometry(t)}drawMultiPolygon(e,t){const i=this.state,a=i.fillStyle,o=i.strokeStyle;if(a===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_FILL_STYLE,Pi]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([fe.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const c=e.getEndss(),h=e.getOrientedFlatCoordinates(),f=e.getStride();let g=0;for(let m=0,y=c.length;m<y;++m)g=this.drawFlatCoordinatess_(h,g,c[m],f);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,a=t.length;i<a;++i)t[i]=Xs(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function U2(r,e,t,i,a){const o=[];let c=t,h=0,f=e.slice(t,2);for(;h<r&&c+a<i;){const[g,m]=f.slice(-2),y=e[c+a],p=e[c+a+1],x=Math.sqrt((y-g)*(y-g)+(p-m)*(p-m));if(h+=x,h>=r){const v=(r-h+x)/x,C=mn(g,y,v),S=mn(m,p,v);f.push(C,S),o.push(f),f=[C,S],h==r&&(c+=a),h=0}else if(h<r)f.push(e[c+a],e[c+a+1]),c+=a;else{const v=x-h,C=mn(g,y,v/x),S=mn(m,p,v/x);f.push(C,S),o.push(f),f=[C,S],h=0,c+=a}}return h>0&&o.push(f),o}function B2(r,e,t,i,a){let o=t,c=t,h=0,f=0,g=t,m,y,p,x,v,C,S,T,w,R;for(y=t;y<i;y+=a){const N=e[y],O=e[y+1];v!==void 0&&(w=N-v,R=O-C,x=Math.sqrt(w*w+R*R),S!==void 0&&(f+=p,m=Math.acos((S*w+T*R)/(p*x)),m>r&&(f>h&&(h=f,o=g,c=y),f=0,g=y-a)),p=x,S=w,T=R),v=N,C=O}return f+=x,f>h?[g,y]:[o,c]}const zl={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Y2 extends uo{constructor(e,t,i,a){super(e,t,i,a),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const i=this.textFillState_,a=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!i&&!a)return;const c=this.coordinates;let h=c.length;const f=e.getType();let g=null,m=e.getStride();if(o.placement==="line"&&(f=="LineString"||f=="MultiLineString"||f=="Polygon"||f=="MultiPolygon")){if(!qt(this.getBufferedMaxExtent(),e.getExtent()))return;let y;if(g=e.getFlatCoordinates(),f=="LineString")y=[g.length];else if(f=="MultiLineString")y=e.getEnds();else if(f=="Polygon")y=e.getEnds().slice(0,1);else if(f=="MultiPolygon"){const C=e.getEndss();y=[];for(let S=0,T=C.length;S<T;++S)y.push(C[S][0])}this.beginGeometry(e,t);const p=o.repeat,x=p?void 0:o.textAlign;let v=0;for(let C=0,S=y.length;C<S;++C){let T;p?T=U2(p*this.resolution,g,v,y[C],m):T=[g.slice(v,y[C])];for(let w=0,R=T.length;w<R;++w){const N=T[w];let O=0,j=N.length;if(x==null){const q=B2(o.maxAngle,N,0,N.length,2);O=q[0],j=q[1]}for(let q=O;q<j;q+=m)c.push(N[q],N[q+1]);const X=c.length;v=y[C],this.drawChars_(h,X),h=X}}this.endGeometry(t)}else{let y=o.overflow?null:[];switch(f){case"Point":case"MultiPoint":g=e.getFlatCoordinates();break;case"LineString":g=e.getFlatMidpoint();break;case"Circle":g=e.getCenter();break;case"MultiLineString":g=e.getFlatMidpoints(),m=2;break;case"Polygon":g=e.getFlatInteriorPoint(),o.overflow||y.push(g[2]/this.resolution),m=3;break;case"MultiPolygon":const S=e.getFlatInteriorPoints();g=[];for(let T=0,w=S.length;T<w;T+=3)o.overflow||y.push(S[T+2]/this.resolution),g.push(S[T],S[T+1]);if(g.length===0)return;m=2;break}const p=this.appendFlatPointCoordinates(g,m);if(p===h)return;if(y&&(p-h)/2!==g.length/m){let S=h/2;y=y.filter((T,w)=>{const R=c[(S+w)*2]===g[w*m]&&c[(S+w)*2+1]===g[w*m+1];return R||--S,R})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let x=o.padding;if(x!=Ks&&(o.scale[0]<0||o.scale[1]<0)){let S=o.padding[0],T=o.padding[1],w=o.padding[2],R=o.padding[3];o.scale[0]<0&&(T=-T,R=-R),o.scale[1]<0&&(S=-S,w=-w),x=[S,T,w,R]}const v=this.pixelRatio;this.instructions.push([fe.DRAW_IMAGE,h,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,x==Ks?Ks:x.map(function(S){return S*v}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]);const C=1/v;this.hitDetectionInstructions.push([fe.DRAW_IMAGE,h,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[C,C],NaN,void 0,this.declutterImageWithText_,x,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,a=this.strokeKey_;e&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||Kl,justify:t.justify,textBaseline:t.textBaseline||ic,scale:t.scale});const c=this.fillKey_;i&&(c in this.fillStates||(this.fillStates[c]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const f=this.pixelRatio,g=zl[a.textBaseline],m=this.textOffsetY_*f,y=this.text_,p=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([fe.DRAW_CHARS,e,t,g,a.overflow,h,a.maxAngle,f,m,o,p*f,y,c,1]),this.hitDetectionInstructions.push([fe.DRAW_CHARS,e,t,g,a.overflow,h,a.maxAngle,1,m,o,p,y,c,1/f])}setTextStyle(e,t){let i,a,o;if(!e)this.text_="";else{const c=e.getFill();c?(a=this.textFillState_,a||(a={},this.textFillState_=a),a.fillStyle=hi(c.getColor()||Pi)):(a=null,this.textFillState_=a);const h=e.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const v=h.getLineDash(),C=h.getLineDashOffset(),S=h.getWidth(),T=h.getMiterLimit();o.lineCap=h.getLineCap()||nc,o.lineDash=v?v.slice():Hl,o.lineDashOffset=C===void 0?Vl:C,o.lineJoin=h.getLineJoin()||ya,o.lineWidth=S===void 0?Wl:S,o.miterLimit=T===void 0?ql:T,o.strokeStyle=hi(h.getColor()||Zl)}i=this.textState_;const f=e.getFont()||P1;a2(f);const g=e.getScaleArray();i.overflow=e.getOverflow(),i.font=f,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||ic,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Ks,i.scale=g===void 0?[1,1]:g;const m=e.getOffsetX(),y=e.getOffsetY(),p=e.getRotateWithView(),x=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=x===void 0?0:x,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:ve(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=a?typeof a.fillStyle=="string"?a.fillStyle:"|"+ve(a.fillStyle):""}this.declutterImageWithText_=t}}const X2={Circle:z0,Default:uo,Image:G2,LineString:j2,Polygon:z0,Text:Y2};class P0{constructor(e,t,i,a){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=a,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const a in i){const o=i[a].finish();e[t][a]=o}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let a=this.buildersByZIndex_[i];a===void 0&&(a={},this.buildersByZIndex_[i]=a);let o=a[t];if(o===void 0){const c=X2[t];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),a[t]=o}return o}}class H2 extends ro{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return ye()}getData(e){return null}prepareFrame(e){return ye()}renderFrame(e,t){return ye()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(a,o)=>{const c=this.loadedTileCallback.bind(this,i,a);return e.forEachLoadedTile(t,a,o,c)}}forEachFeatureAtCoordinate(e,t,i,a,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===mt.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=mt.LOADED&&t!=mt.ERROR&&e.addEventListener(xe.CHANGE,this.boundHandleImageChange_),t==mt.IDLE&&(e.load(),t=e.getState()),t==mt.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}class V1 extends Wn{constructor(e,t,i,a){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=a}}const k0=[];let la=null;function V2(){la=Zt(1,1,void 0,{willReadFrequently:!0})}class q1 extends H2{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=fi(),this.pixelTransform=fi(),this.inversePixelTransform=fi(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){la||V2(),la.clearRect(0,0,1,1);let a;try{la.drawImage(e,t,i,1,1,0,0,1,1),a=la.getImageData(0,0,1,1).data}catch{return la=null,null}return a}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const a=this.getLayer().getClassName();let o,c;if(e&&e.className===a&&(!i||e&&e.style.backgroundColor&&ji(ec(e.style.backgroundColor),ec(i)))){const h=e.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&c.canvas.style.transform===t?(this.container=e,this.context=c,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement("div"),o.className=a;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=Zt();const f=c.canvas;o.appendChild(f),h=f.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const a=cr(i),o=Tc(i),c=bc(i),h=Cc(i);St(t.coordinateToPixelTransform,a),St(t.coordinateToPixelTransform,o),St(t.coordinateToPixelTransform,c),St(t.coordinateToPixelTransform,h);const f=this.inversePixelTransform;St(f,a),St(f,o),St(f,c),St(f,h),e.save(),e.beginPath(),e.moveTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(c[0]),Math.round(c[1])),e.lineTo(Math.round(h[0]),Math.round(h[1])),e.clip()}dispatchRenderEvent_(e,t,i){const a=this.getLayer();if(a.hasListener(e)){const o=new V1(e,this.inversePixelTransform,i,t);a.dispatchEvent(o)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(xs.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(xs.POSTRENDER,e,t)}getRenderTransform(e,t,i,a,o,c,h){const f=o/2,g=c/2,m=a/t,y=-m,p=-e[0]+h,x=-e[1];return Es(this.tempTransform,f,g,m,y,-i,p,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function q2(r,e,t,i,a,o,c,h,f,g,m,y){let p=r[e],x=r[e+1],v=0,C=0,S=0,T=0;function w(){v=p,C=x,e+=i,p=r[e],x=r[e+1],T+=S,S=Math.sqrt((p-v)*(p-v)+(x-C)*(x-C))}do w();while(e<t-i&&T+S<o);let R=S===0?0:(o-T)/S;const N=mn(v,p,R),O=mn(C,x,R),j=e-i,X=T,q=o+h*f(g,a,m);for(;e<t-i&&T+S<q;)w();R=S===0?0:(q-T)/S;const Z=mn(v,p,R),ie=mn(C,x,R);let re;if(y){const L=[N,O,Z,ie];v1(L,0,4,2,y,L,L),re=L[0]>L[2]}else re=N>Z;const se=Math.PI,oe=[],ae=j+i===e;e=j,S=0,T=X,p=r[e],x=r[e+1];let te;if(ae){w(),te=Math.atan2(x-C,p-v),re&&(te+=te>0?-se:se);const L=(Z+N)/2,P=(ie+O)/2;return oe[0]=[L,P,(q-o)/2,te,a],oe}a=a.replace(/\n/g," ");for(let L=0,P=a.length;L<P;){w();let K=Math.atan2(x-C,p-v);if(re&&(K+=K>0?-se:se),te!==void 0){let ee=K-te;if(ee+=ee>se?-2*se:ee<-se?2*se:0,Math.abs(ee)>c)return null}te=K;const ne=L;let A=0;for(;L<P;++L){const ee=re?P-L-1:L,le=h*f(g,a[ee],m);if(e+i<t&&T+S<o+A+le/2)break;A+=le}if(L===ne)continue;const k=re?a.substring(P-ne,P-L):a.substring(ne,L);R=S===0?0:(o+A/2-T)/S;const I=mn(v,p,R),Q=mn(C,x,R);oe.push([I,Q,A/2,K,k]),o+=A}return oe}const na=Ln(),cs=[],Di=[],Ni=[],hs=[];function G0(r){return r[3].declutterBox}const Z2=new RegExp("[-----]");function j0(r,e){return(e==="start"||e==="end")&&!Z2.test(r)&&(e=e==="start"?"left":"right"),zl[e]}function K2(r,e,t){return t>0&&r.push(`
`,""),r.push(e,""),r}class W2{constructor(e,t,i,a){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=a.instructions,this.coordinates=a.coordinates,this.coordinateCache_={},this.renderedTransform_=fi(),this.hitDetectionInstructions=a.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=a.fillStates||{},this.strokeStates=a.strokeStates||{},this.textStates=a.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,i,a){const o=e+t+i+a;if(this.labels_[o])return this.labels_[o];const c=a?this.strokeStates[a]:null,h=i?this.fillStates[i]:null,f=this.textStates[t],g=this.pixelRatio,m=[f.scale[0]*g,f.scale[1]*g],y=Array.isArray(e),p=f.justify?zl[f.justify]:j0(Array.isArray(e)?e[0]:e,f.textAlign||Kl),x=a&&c.lineWidth?c.lineWidth:0,v=y?e:e.split(`
`).reduce(K2,[]),{width:C,height:S,widths:T,heights:w,lineWidths:R}=o2(f,v),N=C+x,O=[],j=(N+2)*m[0],X=(S+x)*m[1],q={width:j<0?Math.floor(j):Math.ceil(j),height:X<0?Math.floor(X):Math.ceil(X),contextInstructions:O};(m[0]!=1||m[1]!=1)&&O.push("scale",m),a&&(O.push("strokeStyle",c.strokeStyle),O.push("lineWidth",x),O.push("lineCap",c.lineCap),O.push("lineJoin",c.lineJoin),O.push("miterLimit",c.miterLimit),O.push("setLineDash",[c.lineDash]),O.push("lineDashOffset",c.lineDashOffset)),i&&O.push("fillStyle",h.fillStyle),O.push("textBaseline","middle"),O.push("textAlign","center");const Z=.5-p;let ie=p*N+Z*x;const re=[],se=[];let oe=0,ae=0,te=0,L=0,P;for(let K=0,ne=v.length;K<ne;K+=2){const A=v[K];if(A===`
`){ae+=oe,oe=0,ie=p*N+Z*x,++L;continue}const k=v[K+1]||f.font;k!==P&&(a&&re.push("font",k),i&&se.push("font",k),P=k),oe=Math.max(oe,w[te]);const I=[A,ie+Z*T[te]+p*(T[te]-R[L]),.5*(x+oe)+ae];ie+=T[te],a&&re.push("strokeText",I),i&&se.push("fillText",I),++te}return Array.prototype.push.apply(O,re),Array.prototype.push.apply(O,se),this.labels_[o]=q,q}replayTextBackground_(e,t,i,a,o,c,h){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,a),e.lineTo.apply(e,o),e.lineTo.apply(e,t),c&&(this.alignFill_=c[2],this.fill_(e)),h&&(this.setStrokeStyle_(e,h),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,a,o,c,h,f,g,m,y,p,x,v,C,S){h*=p[0],f*=p[1];let T=i-h,w=a-f;const R=o+g>e?e-g:o,N=c+m>t?t-m:c,O=v[3]+R*p[0]+v[1],j=v[0]+N*p[1]+v[2],X=T-v[3],q=w-v[0];(C||y!==0)&&(cs[0]=X,hs[0]=X,cs[1]=q,Di[1]=q,Di[0]=X+O,Ni[0]=Di[0],Ni[1]=q+j,hs[1]=Ni[1]);let Z;return y!==0?(Z=Es(fi(),i,a,1,1,y,-i,-a),St(Z,cs),St(Z,Di),St(Z,Ni),St(Z,hs),Gi(Math.min(cs[0],Di[0],Ni[0],hs[0]),Math.min(cs[1],Di[1],Ni[1],hs[1]),Math.max(cs[0],Di[0],Ni[0],hs[0]),Math.max(cs[1],Di[1],Ni[1],hs[1]),na)):Gi(Math.min(X,X+O),Math.min(q,q+j),Math.max(X,X+O),Math.max(q,q+j),na),x&&(T=Math.round(T),w=Math.round(w)),{drawImageX:T,drawImageY:w,drawImageW:R,drawImageH:N,originX:g,originY:m,declutterBox:{minX:na[0],minY:na[1],maxX:na[2],maxY:na[3],value:S},canvasTransform:Z,scale:p}}replayImageOrLabel_(e,t,i,a,o,c,h){const f=!!(c||h),g=a.declutterBox,m=e.canvas,y=h?h[2]*a.scale[0]/2:0;return g.minX-y<=m.width/t&&g.maxX+y>=0&&g.minY-y<=m.height/t&&g.maxY+y>=0&&(f&&this.replayTextBackground_(e,cs,Di,Ni,hs,c,h),u2(e,a.canvasTransform,o,i,a.originX,a.originY,a.drawImageW,a.drawImageH,a.drawImageX,a.drawImageY,a.scale)),!0}fill_(e){if(this.alignFill_){const t=St(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,a){const o=this.textStates[t],c=this.createLabel(e,t,a,i),h=this.strokeStates[i],f=this.pixelRatio,g=j0(Array.isArray(e)?e[0]:e,o.textAlign||Kl),m=zl[o.textBaseline||ic],y=h&&h.lineWidth?h.lineWidth:0,p=c.width/f-2*o.scale[0],x=g*p+2*(.5-g)*y,v=m*c.height/f+2*(.5-m)*y;return{label:c,anchorX:x,anchorY:v}}execute_(e,t,i,a,o,c,h,f){let g;this.pixelCoordinates_&&ji(i,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=tr(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),nw(this.renderedTransform_,i));let m=0;const y=a.length;let p=0,x,v,C,S,T,w,R,N,O,j,X,q,Z=0,ie=0,re=null,se=null;const oe=this.coordinateCache_,ae=this.viewRotation_,te=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,L={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ae},P=this.instructions!=a||this.overlaps?0:200;let K,ne,A,k;for(;m<y;){const I=a[m];switch(I[0]){case fe.BEGIN_GEOMETRY:K=I[1],k=I[3],K.getGeometry()?h!==void 0&&!qt(h,k.getExtent())?m=I[2]+1:++m:m=I[2];break;case fe.BEGIN_PATH:Z>P&&(this.fill_(e),Z=0),ie>P&&(e.stroke(),ie=0),!Z&&!ie&&(e.beginPath(),S=NaN,T=NaN),++m;break;case fe.CIRCLE:p=I[1];const ee=g[p],le=g[p+1],ce=g[p+2],Me=g[p+3],pe=ce-ee,rt=Me-le,pn=Math.sqrt(pe*pe+rt*rt);e.moveTo(ee+pn,le),e.arc(ee,le,pn,0,2*Math.PI,!0),++m;break;case fe.CLOSE_PATH:e.closePath(),++m;break;case fe.CUSTOM:p=I[1],x=I[2];const Nn=I[3],xn=I[4],Jn=I.length==6?I[5]:void 0;L.geometry=Nn,L.feature=K,m in oe||(oe[m]=[]);const Kt=oe[m];Jn?Jn(g,p,x,2,Kt):(Kt[0]=g[p],Kt[1]=g[p+1],Kt.length=2),xn(Kt,L),++m;break;case fe.DRAW_IMAGE:p=I[1],x=I[2],N=I[3],v=I[4],C=I[5];let gi=I[6];const Ee=I[7],De=I[8],Ct=I[9],Ot=I[10];let nn=I[11];const $n=I[12];let Lt=I[13];const Xt=I[14],sn=I[15];if(!N&&I.length>=20){O=I[19],j=I[20],X=I[21],q=I[22];const Dt=this.drawLabelWithPointPlacement_(O,j,X,q);N=Dt.label,I[3]=N;const ti=I[23];v=(Dt.anchorX-ti)*this.pixelRatio,I[4]=v;const Nt=I[24];C=(Dt.anchorY-Nt)*this.pixelRatio,I[5]=C,gi=N.height,I[6]=gi,Lt=N.width,I[13]=Lt}let Fn;I.length>25&&(Fn=I[25]);let vn,Je,bt;I.length>17?(vn=I[16],Je=I[17],bt=I[18]):(vn=Ks,Je=!1,bt=!1),Ot&&te?nn+=ae:!Ot&&!te&&(nn-=ae);let at=0;for(;p<x;p+=2){if(Fn&&Fn[at++]<Lt/this.pixelRatio)continue;const Dt=this.calculateImageOrLabelDimensions_(N.width,N.height,g[p],g[p+1],Lt,gi,v,C,De,Ct,nn,$n,o,vn,Je||bt,K),ti=[e,t,N,Dt,Ee,Je?re:null,bt?se:null];if(f){if(Xt==="none")continue;if(Xt==="obstacle"){f.insert(Dt.declutterBox);continue}else{let Nt,En;if(sn){const Ht=x-p;if(!sn[Ht]){sn[Ht]=ti;continue}if(Nt=sn[Ht],delete sn[Ht],En=G0(Nt),f.collides(En))continue}if(f.collides(Dt.declutterBox))continue;Nt&&(f.insert(En),this.replayImageOrLabel_.apply(this,Nt)),f.insert(Dt.declutterBox)}}this.replayImageOrLabel_.apply(this,ti)}++m;break;case fe.DRAW_CHARS:const fr=I[1],Tt=I[2],Aa=I[3],dr=I[4];q=I[5];const gr=I[6],ei=I[7],bs=I[8];X=I[9];const mi=I[10];O=I[11],j=I[12];const fo=[I[13],I[13]],mr=this.textStates[j],Ui=mr.font,_i=[mr.scale[0]*ei,mr.scale[1]*ei];let In;Ui in this.widths_?In=this.widths_[Ui]:(In={},this.widths_[Ui]=In);const go=D1(g,fr,Tt,2),Ma=Math.abs(_i[0])*R0(Ui,O,In);if(dr||Ma<=go){const Dt=this.textStates[j].textAlign,ti=(go-Ma)*zl[Dt],Nt=q2(g,fr,Tt,2,O,ti,gr,Math.abs(_i[0]),R0,Ui,In,te?0:this.viewRotation_);e:if(Nt){const En=[];let Ht,rn,$e,Ie,ht;if(X)for(Ht=0,rn=Nt.length;Ht<rn;++Ht){ht=Nt[Ht],$e=ht[4],Ie=this.createLabel($e,j,"",X),v=ht[2]+(_i[0]<0?-mi:mi),C=Aa*Ie.height+(.5-Aa)*2*mi*_i[1]/_i[0]-bs;const an=this.calculateImageOrLabelDimensions_(Ie.width,Ie.height,ht[0],ht[1],Ie.width,Ie.height,v,C,0,0,ht[3],fo,!1,Ks,!1,K);if(f&&f.collides(an.declutterBox))break e;En.push([e,t,Ie,an,1,null,null])}if(q)for(Ht=0,rn=Nt.length;Ht<rn;++Ht){ht=Nt[Ht],$e=ht[4],Ie=this.createLabel($e,j,q,""),v=ht[2],C=Aa*Ie.height-bs;const an=this.calculateImageOrLabelDimensions_(Ie.width,Ie.height,ht[0],ht[1],Ie.width,Ie.height,v,C,0,0,ht[3],fo,!1,Ks,!1,K);if(f&&f.collides(an.declutterBox))break e;En.push([e,t,Ie,an,1,null,null])}f&&f.load(En.map(G0));for(let an=0,zc=En.length;an<zc;++an)this.replayImageOrLabel_.apply(this,En[an])}}++m;break;case fe.END_GEOMETRY:if(c!==void 0){K=I[1];const Dt=c(K,k);if(Dt)return Dt}++m;break;case fe.FILL:P?Z++:this.fill_(e),++m;break;case fe.MOVE_TO_LINE_TO:for(p=I[1],x=I[2],ne=g[p],A=g[p+1],w=ne+.5|0,R=A+.5|0,(w!==S||R!==T)&&(e.moveTo(ne,A),S=w,T=R),p+=2;p<x;p+=2)ne=g[p],A=g[p+1],w=ne+.5|0,R=A+.5|0,(p==x-2||w!==S||R!==T)&&(e.lineTo(ne,A),S=w,T=R);++m;break;case fe.SET_FILL_STYLE:re=I,this.alignFill_=I[2],Z&&(this.fill_(e),Z=0,ie&&(e.stroke(),ie=0)),e.fillStyle=I[1],++m;break;case fe.SET_STROKE_STYLE:se=I,ie&&(e.stroke(),ie=0),this.setStrokeStyle_(e,I),++m;break;case fe.STROKE:P?ie++:e.stroke(),++m;break;default:++m;break}}Z&&this.fill_(e),ie&&e.stroke()}execute(e,t,i,a,o,c){this.viewRotation_=a,this.execute_(e,t,i,this.instructions,o,void 0,void 0,c)}executeHitDetection(e,t,i,a,o){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,a,o)}}const ld=["Polygon","Circle","LineString","Image","Text","Default"];class U0{constructor(e,t,i,a,o,c){this.maxExtent_=e,this.overlaps_=a,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=fi(),this.createExecutors_(o)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e){for(const t in e){let i=this.executorsByZIndex_[t];i===void 0&&(i={},this.executorsByZIndex_[t]=i);const a=e[t];for(const o in a){const c=a[o];i[o]=new W2(this.resolution_,this.pixelRatio_,this.overlaps_,c)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let a=0,o=e.length;a<o;++a)if(e[a]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,a,o,c){a=Math.round(a);const h=a*2+1,f=Es(this.hitDetectionTransform_,a+.5,a+.5,1/t,-1/t,-i,-e[0],-e[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=Zt(h,h,void 0,{willReadFrequently:!0}));const m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):g||m.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=Ln(),Fl(y,e),Ec(y,t*(this.renderBuffer_+a),y));const p=Q2(a);let x;function v(O,j){const X=m.getImageData(0,0,h,h).data;for(let q=0,Z=p.length;q<Z;q++)if(X[p[q]]>0){if(!c||x!=="Image"&&x!=="Text"||c.includes(O)){const ie=(p[q]-3)/4,re=a-ie%h,se=a-(ie/h|0),oe=o(O,j,re*re+se*se);if(oe)return oe}m.clearRect(0,0,h,h);break}}const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(sr);let S,T,w,R,N;for(S=C.length-1;S>=0;--S){const O=C[S].toString();for(w=this.executorsByZIndex_[O],T=ld.length-1;T>=0;--T)if(x=ld[T],R=w[x],R!==void 0&&(N=R.executeHitDetection(m,f,i,v,y),N))return N}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],a=t[1],o=t[2],c=t[3],h=[i,a,i,c,o,c,o,a];return tr(h,0,8,2,e,h),h}isEmpty(){return _a(this.executorsByZIndex_)}execute(e,t,i,a,o,c,h){const f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(sr),this.maxExtent_&&(e.save(),this.clip(e,i)),c=c||ld;let g,m,y,p,x,v;for(h&&f.reverse(),g=0,m=f.length;g<m;++g){const C=f[g].toString();for(x=this.executorsByZIndex_[C],y=0,p=c.length;y<p;++y){const S=c[y];v=x[S],v!==void 0&&v.execute(e,t,i,a,o,h)}}this.maxExtent_&&e.restore()}}const od={};function Q2(r){if(od[r]!==void 0)return od[r];const e=r*2+1,t=r*r,i=new Array(t+1);for(let o=0;o<=r;++o)for(let c=0;c<=r;++c){const h=o*o+c*c;if(h>t)break;let f=i[h];f||(f=[],i[h]=f),f.push(((r+o)*e+(r+c))*4+3),o>0&&f.push(((r-o)*e+(r+c))*4+3),c>0&&(f.push(((r+o)*e+(r-c))*4+3),o>0&&f.push(((r-o)*e+(r-c))*4+3))}const a=[];for(let o=0,c=i.length;o<c;++o)i[o]&&a.push(...i[o]);return od[r]=a,a}class J2 extends H1{constructor(e,t,i,a,o,c,h){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=a,this.transformRotation_=a?dg(Math.atan2(a[1],a[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=fi()}drawImages_(e,t,i,a){if(!this.image_)return;const o=tr(e,t,i,a,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,f=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=f*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let m=0,y=o.length;m<y;m+=2){const p=o[m]-this.imageAnchorX_,x=o[m+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const v=p+this.imageAnchorX_,C=x+this.imageAnchorY_;Es(h,v,C,1,1,g,-v,-C),c.setTransform.apply(c,h),c.translate(v,C),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.setTransform(1,0,0,1,0,0)}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=f)}drawText_(e,t,i,a){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=tr(e,t,i,a,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);t<i;t+=a){const f=o[t]+this.textOffsetX_,g=o[t+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.translate(f-this.textOffsetX_,g-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&c.strokeText(this.text_,f,g),this.textFillState_&&c.fillText(this.text_,f,g))}}moveToLineTo_(e,t,i,a,o){const c=this.context_,h=tr(e,t,i,a,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let f=h.length;o&&(f-=2);for(let g=2;g<f;g+=2)c.lineTo(h[g],h[g+1]);return o&&c.closePath(),i}drawRings_(e,t,i,a){for(let o=0,c=i.length;o<c;++o)t=this.moveToLineTo_(e,t,i[o],a,!0);return t}drawCircle(e){if(qt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=Dw(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],a=t[3]-t[1],o=Math.sqrt(i*i+a*a),c=this.context_;c.beginPath(),c.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);!i||!qt(this.extent_,i.getExtent())||(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,a=t.length;i<a;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(qt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,a=e.getFlatCoordinates();let o=0;const c=e.getEnds(),h=e.getStride();i.beginPath();for(let f=0,g=c.length;f<g;++f)o=this.moveToLineTo_(a,o,c[f],h,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let a=0;const o=e.getEndss(),c=e.getStride();t.beginPath();for(let h=0,f=o.length;h<f;++h){const g=o[h];a=this.drawRings_(i,a,g,c)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),ji(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,a=e.textAlign?e.textAlign:Kl;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=a&&(i.textAlign=a,t.textAlign=a),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=a,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:a,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:hi(i||Pi)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),a=t.getLineCap(),o=t.getLineDash(),c=t.getLineDashOffset(),h=t.getLineJoin(),f=t.getWidth(),g=t.getMiterLimit(),m=o||Hl;this.strokeState_={lineCap:a!==void 0?a:nc,lineDash:this.pixelRatio_===1?m:m.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Vl)*this.pixelRatio_,lineJoin:h!==void 0?h:ya,lineWidth:(f!==void 0?f:Wl)*this.pixelRatio_,miterLimit:g!==void 0?g:ql,strokeStyle:hi(i||Zl)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),a=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=a[0]*i,this.imageAnchorY_=a[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const c=e.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/i,c[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const x=t.getColor();this.textFillState_={fillStyle:hi(x||Pi)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const x=i.getColor(),v=i.getLineCap(),C=i.getLineDash(),S=i.getLineDashOffset(),T=i.getLineJoin(),w=i.getWidth(),R=i.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:nc,lineDash:C||Hl,lineDashOffset:S||Vl,lineJoin:T!==void 0?T:ya,lineWidth:w!==void 0?w:Wl,miterLimit:R!==void 0?R:ql,strokeStyle:hi(x||Zl)}}const a=e.getFont(),o=e.getOffsetX(),c=e.getOffsetY(),h=e.getRotateWithView(),f=e.getRotation(),g=e.getScaleArray(),m=e.getText(),y=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:a!==void 0?a:P1,textAlign:y!==void 0?y:Kl,textBaseline:p!==void 0?p:ic},this.text_=m!==void 0?Array.isArray(m)?m.reduce((x,v,C)=>x+=C%2?" ":v,""):m:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=f!==void 0?f:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const ci=.5;function $2(r,e,t,i,a,o,c){const h=r[0]*ci,f=r[1]*ci,g=Zt(h,f);g.imageSmoothingEnabled=!1;const m=g.canvas,y=new J2(g,ci,a,null,c),p=t.length,x=Math.floor((256*256*256-1)/p),v={};for(let S=1;S<=p;++S){const T=t[S-1],w=T.getStyleFunction()||i;if(!i)continue;let R=w(T,o);if(!R)continue;Array.isArray(R)||(R=[R]);const O=(S*x).toString(16).padStart(7,"#00000");for(let j=0,X=R.length;j<X;++j){const q=R[j],Z=q.getGeometryFunction()(T);if(!Z||!qt(a,Z.getExtent()))continue;const ie=q.clone(),re=ie.getFill();re&&re.setColor(O);const se=ie.getStroke();se&&(se.setColor(O),se.setLineDash(null)),ie.setText(void 0);const oe=q.getImage();if(oe&&oe.getOpacity()!==0){const P=oe.getImageSize();if(!P)continue;const K=Zt(P[0],P[1],void 0,{alpha:!1}),ne=K.canvas;K.fillStyle=O,K.fillRect(0,0,ne.width,ne.height),ie.setImage(new oo({img:ne,imgSize:P,anchor:oe.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:oe.getOrigin(),opacity:1,size:oe.getSize(),scale:oe.getScale(),rotation:oe.getRotation(),rotateWithView:oe.getRotateWithView()}))}const ae=ie.getZIndex()||0;let te=v[ae];te||(te={},v[ae]=te,te.Polygon=[],te.Circle=[],te.LineString=[],te.Point=[]);const L=Z.getType();if(L==="GeometryCollection"){const P=Z.getGeometriesArrayRecursive();for(let K=0,ne=P.length;K<ne;++K){const A=P[K];te[A.getType().replace("Multi","")].push(A,ie)}}else te[L.replace("Multi","")].push(Z,ie)}}const C=Object.keys(v).map(Number).sort(sr);for(let S=0,T=C.length;S<T;++S){const w=v[C[S]];for(const R in w){const N=w[R];for(let O=0,j=N.length;O<j;O+=2){y.setStyle(N[O+1]);for(let X=0,q=e.length;X<q;++X)y.setTransform(e[X]),y.drawGeometry(N[O])}}}return g.getImageData(0,0,m.width,m.height)}function eA(r,e,t){const i=[];if(t){const a=Math.floor(Math.round(r[0])*ci),o=Math.floor(Math.round(r[1])*ci),c=(ct(a,0,t.width-1)+ct(o,0,t.height-1)*t.width)*4,h=t.data[c],f=t.data[c+1],m=t.data[c+2]+256*(f+256*h),y=Math.floor((256*256*256-1)/e.length);m&&m%y===0&&i.push(e[m/y-1])}return i}const tA=.5,Z1={Point:cA,LineString:lA,Polygon:fA,MultiPoint:hA,MultiLineString:oA,MultiPolygon:uA,GeometryCollection:aA,Circle:sA};function nA(r,e){return parseInt(ve(r),10)-parseInt(ve(e),10)}function iA(r,e){const t=Gd(r,e);return t*t}function Gd(r,e){return tA*r/e}function sA(r,e,t,i,a){const o=t.getFill(),c=t.getStroke();if(o||c){const f=r.getBuilder(t.getZIndex(),"Circle");f.setFillStrokeStyle(o,c),f.drawCircle(e,i)}const h=t.getText();if(h&&h.getText()){const f=(a||r).getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i)}}function B0(r,e,t,i,a,o,c){let h=!1;const f=t.getImage();if(f){const g=f.getImageState();g==mt.LOADED||g==mt.ERROR?f.unlistenImageChange(a):(g==mt.IDLE&&f.load(),f.listenImageChange(a),h=!0)}return rA(r,e,t,i,o,c),h}function rA(r,e,t,i,a,o){const c=t.getGeometryFunction()(e);if(!c)return;const h=c.simplifyTransformed(i,a);if(t.getRenderer())K1(r,h,t,e);else{const g=Z1[h.getType()];g(r,h,t,e,o)}}function K1(r,e,t,i){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let c=0,h=o.length;c<h;++c)K1(r,o[c],t,i);return}r.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer())}function aA(r,e,t,i,a){const o=e.getGeometriesArray();let c,h;for(c=0,h=o.length;c<h;++c){const f=Z1[o[c].getType()];f(r,o[c],t,i,a)}}function lA(r,e,t,i,a){const o=t.getStroke();if(o){const h=r.getBuilder(t.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(e,i)}const c=t.getText();if(c&&c.getText()){const h=(a||r).getBuilder(t.getZIndex(),"Text");h.setTextStyle(c),h.drawText(e,i)}}function oA(r,e,t,i,a){const o=t.getStroke();if(o){const h=r.getBuilder(t.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(e,i)}const c=t.getText();if(c&&c.getText()){const h=(a||r).getBuilder(t.getZIndex(),"Text");h.setTextStyle(c),h.drawText(e,i)}}function uA(r,e,t,i,a){const o=t.getFill(),c=t.getStroke();if(c||o){const f=r.getBuilder(t.getZIndex(),"Polygon");f.setFillStrokeStyle(o,c),f.drawMultiPolygon(e,i)}const h=t.getText();if(h&&h.getText()){const f=(a||r).getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i)}}function cA(r,e,t,i,a){const o=t.getImage(),c=t.getText();let h;if(o){if(o.getImageState()!=mt.LOADED)return;let f=r;if(a){const m=o.getDeclutterMode();if(m!=="none")if(f=a,m==="obstacle"){const y=r.getBuilder(t.getZIndex(),"Image");y.setImageStyle(o,h),y.drawPoint(e,i)}else c&&c.getText()&&(h={})}const g=f.getBuilder(t.getZIndex(),"Image");g.setImageStyle(o,h),g.drawPoint(e,i)}if(c&&c.getText()){let f=r;a&&(f=a);const g=f.getBuilder(t.getZIndex(),"Text");g.setTextStyle(c,h),g.drawText(e,i)}}function hA(r,e,t,i,a){const o=t.getImage(),c=t.getText();let h;if(o){if(o.getImageState()!=mt.LOADED)return;let f=r;if(a){const m=o.getDeclutterMode();if(m!=="none")if(f=a,m==="obstacle"){const y=r.getBuilder(t.getZIndex(),"Image");y.setImageStyle(o,h),y.drawMultiPoint(e,i)}else c&&c.getText()&&(h={})}const g=f.getBuilder(t.getZIndex(),"Image");g.setImageStyle(o,h),g.drawMultiPoint(e,i)}if(c&&c.getText()){let f=r;a&&(f=a);const g=f.getBuilder(t.getZIndex(),"Text");g.setTextStyle(c,h),g.drawText(e,i)}}function fA(r,e,t,i,a){const o=t.getFill(),c=t.getStroke();if(o||c){const f=r.getBuilder(t.getZIndex(),"Polygon");f.setFillStrokeStyle(o,c),f.drawPolygon(e,i)}const h=t.getText();if(h&&h.getText()){const f=(a||r).getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i)}}class dA extends q1{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Ln(),this.wrappedRenderedExtent_=Ln(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,i){const a=t.extent,o=t.viewState,c=o.center,h=o.resolution,f=o.projection,g=o.rotation,m=f.getExtent(),y=this.getLayer().getSource(),p=t.pixelRatio,x=t.viewHints,v=!(x[Gt.ANIMATING]||x[Gt.INTERACTING]),C=this.compositionContext_,S=Math.round(t.size[0]*p),T=Math.round(t.size[1]*p),w=y.getWrapX()&&f.canWrapX(),R=w?Ve(m):null,N=w?Math.ceil((a[2]-m[2])/R)+1:1;let O=w?Math.floor((a[0]-m[0])/R):0;do{const j=this.getRenderTransform(c,h,g,p,S,T,O*R);e.execute(C,1,j,g,v,void 0,i)}while(++O<N)}setupCompositionContext_(){if(this.opacity_!==1){const e=Zt(this.context.canvas.width,this.context.canvas.height,k0);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,Oc(this.compositionContext_),k0.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const i=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];iw(this.pixelTransform,1/i,1/i),ug(this.inversePixelTransform,this.pixelTransform);const o=r1(this.pixelTransform);this.useContainer(t,o,this.getBackground(e));const c=this.context,h=c.canvas,f=this.replayGroup_,g=this.declutterExecutorGroup;if((!f||f.isEmpty())&&(!g||g.isEmpty()))return null;const m=Math.round(e.size[0]*i),y=Math.round(e.size[1]*i);h.width!=m||h.height!=y?(h.width=m,h.height=y,h.style.transform!==o&&(h.style.transform=o)):this.containerReused||c.clearRect(0,0,m,y),this.preRender(c,e);const p=e.viewState;p.projection,this.opacity_=a.opacity,this.setupCompositionContext_();let x=!1,v=!0;if(a.extent&&this.clipping){const C=_s(a.extent);v=qt(C,e.extent),x=v&&!qs(C,e.extent),x&&this.clipUnrotated(this.compositionContext_,e,C)}return v&&this.renderWorlds(f,e),x&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(c,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=[this.context.canvas.width,this.context.canvas.height];St(this.pixelTransform,i);const a=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,f=this.wrappedRenderedExtent_,g=this.getLayer(),m=[],y=i[0]*ci,p=i[1]*ci;m.push(this.getRenderTransform(a,o,c,ci,y,p,0).slice());const x=g.getSource(),v=h.getExtent();if(x.getWrapX()&&h.canWrapX()&&!qs(v,f)){let C=f[0];const S=Ve(v);let T=0,w;for(;C<v[0];)--T,w=S*T,m.push(this.getRenderTransform(a,o,c,ci,y,p,w).slice()),C+=S;for(T=0,C=f[2];C>v[2];)++T,w=S*T,m.push(this.getRenderTransform(a,o,c,ci,y,p,w).slice()),C-=S}this.hitDetectionImageData_=$2(i,m,this.renderedFeatures_,g.getStyleFunction(),f,o,c)}t(eA(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,a,o){if(!this.replayGroup_)return;const c=t.viewState.resolution,h=t.viewState.rotation,f=this.getLayer(),g={},m=function(x,v,C){const S=ve(x),T=g[S];if(T){if(T!==!0&&C<T.distanceSq){if(C===0)return g[S]=!0,o.splice(o.lastIndexOf(T),1),a(x,f,v);T.geometry=v,T.distanceSq=C}}else{if(C===0)return g[S]=!0,a(x,f,v);o.push(g[S]={feature:x,layer:f,geometry:v,distanceSq:C,callback:a})}};let y;const p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(x=>y=x.forEachFeatureAtCoordinate(e,c,h,i,m,x===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(v=>v.value):null)),y}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const a=e.viewHints[Gt.ANIMATING],o=e.viewHints[Gt.INTERACTING],c=t.getUpdateWhileAnimating(),h=t.getUpdateWhileInteracting();if(this.ready&&!c&&a||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const f=e.extent,g=e.viewState,m=g.projection,y=g.resolution,p=e.pixelRatio,x=t.getRevision(),v=t.getRenderBuffer();let C=t.getRenderOrder();C===void 0&&(C=nA);const S=g.center.slice(),T=Ec(f,v*y),w=T.slice(),R=[T.slice()],N=m.getExtent();if(i.getWrapX()&&m.canWrapX()&&!qs(N,e.extent)){const te=Ve(N),L=Math.max(Ve(T)/2,te);T[0]=N[0]-L,T[2]=N[2]+L,g1(S,m);const P=h1(R[0],m);P[0]<N[0]&&P[2]<N[2]?R.push([P[0]+te,P[1],P[2]+te,P[3]]):P[0]>N[0]&&P[2]>N[2]&&R.push([P[0]-te,P[1],P[2]-te,P[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==x&&this.renderedRenderOrder_==C&&qs(this.wrappedRenderedExtent_,T))return ji(this.renderedExtent_,w)||(this.hitDetectionImageData_=null,this.renderedExtent_=w),this.renderedCenter_=S,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const O=new P0(Gd(y,p),T,y,p);let j;this.getLayer().getDeclutter()&&(j=new P0(Gd(y,p),T,y,p));let X;for(let te=0,L=R.length;te<L;++te)i.loadFeatures(R[te],y,m);const q=iA(y,p);let Z=!0;const ie=te=>{let L;const P=te.getStyleFunction()||t.getStyleFunction();if(P&&(L=P(te,y)),L){const K=this.renderFeature(te,q,L,O,X,j);Z=Z&&!K}},re=vg(T),se=i.getFeaturesInExtent(re);C&&se.sort(C);for(let te=0,L=se.length;te<L;++te)ie(se[te]);this.renderedFeatures_=se,this.ready=Z;const oe=O.finish(),ae=new U0(T,y,p,i.getOverlaps(),oe,t.getRenderBuffer());return j&&(this.declutterExecutorGroup=new U0(T,y,p,i.getOverlaps(),j.finish(),t.getRenderBuffer())),this.renderedResolution_=y,this.renderedRevision_=x,this.renderedRenderOrder_=C,this.renderedExtent_=w,this.wrappedRenderedExtent_=T,this.renderedCenter_=S,this.renderedProjection_=m,this.replayGroup_=ae,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,a,o,c){if(!i)return!1;let h=!1;if(Array.isArray(i))for(let f=0,g=i.length;f<g;++f)h=B0(a,e,i[f],t,this.boundHandleStyleImageChange_,o,c)||h;else h=B0(a,e,i,t,this.boundHandleStyleImageChange_,o,c);return h}}class Ss extends k2{constructor(e){super(e)}createRenderer(){return new dA(this)}}class jd{constructor(e){this.rbush_=new Y1(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[ve(t)]=i}load(e,t){const i=new Array(t.length);for(let a=0,o=t.length;a<o;a++){const c=e[a],h=t[a],f={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};i[a]=f,this.items_[ve(h)]=f}this.rbush_.load(i)}remove(e){const t=ve(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[ve(t)],a=[i.minX,i.minY,i.maxX,i.maxY];jl(a,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(a){return a.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let a=0,o=e.length;a<o;a++)if(i=t(e[a]),i)return i;return i}isEmpty(){return _a(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Gi(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class W1 extends Qn{constructor(e){super(),this.projection=_t(e.projection),this.attributions_=Y0(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,a){t.viewResolver=i,t.viewRejector=a})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Y0(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Y0(r){return r?Array.isArray(r)?function(e){return r}:typeof r=="function"?r:function(e){return[r]}:null}const gn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function gA(r,e){return[[-1/0,-1/0,1/0,1/0]]}let mA=!1;function _A(r,e,t,i,a,o,c){const h=new XMLHttpRequest;h.open("GET",typeof r=="function"?r(t,i,a):r,!0),e.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=mA,h.onload=function(f){if(!h.status||h.status>=200&&h.status<300){const g=e.getType();let m;g=="json"||g=="text"?m=h.responseText:g=="xml"?(m=h.responseXML,m||(m=new DOMParser().parseFromString(h.responseText,"application/xml"))):g=="arraybuffer"&&(m=h.response),m?o(e.readFeatures(m,{extent:t,featureProjection:a}),e.readProjection(m)):c()}else c()},h.onerror=c,h.send()}function X0(r,e){return function(t,i,a,o,c){const h=this;_A(r,e,t,i,a,function(f,g){h.addFeatures(f),o!==void 0&&o(f)},c||ma)}}class fs extends Wn{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class or extends W1{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=ma,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Re(this.format_,7),this.loader_=X0(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:gA;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new jd:null,this.loadedExtentsRtree_=new jd,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,a;Array.isArray(e.features)?a=e.features:e.features&&(i=e.features,a=i.getArray()),!t&&i===void 0&&(i=new yn(a)),a!==void 0&&this.addFeaturesInternal(a),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=ve(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new fs(gn.ADDFEATURE,e))}setupChangeEvents_(e,t){this.featureChangeKeys_[e]=[Le(t,xe.CHANGE,this.handleFeatureChange_,this),Le(t,ga.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,t){let i=!0;const a=t.getId();return a!==void 0&&(a.toString()in this.idIndex_?i=!1:this.idIndex_[a.toString()]=t),i&&(Re(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],a=[];for(let o=0,c=e.length;o<c;o++){const h=e[o],f=ve(h);this.addToIndex_(f,h)&&i.push(h)}for(let o=0,c=i.length;o<c;o++){const h=i[o],f=ve(h);this.setupChangeEvents_(f,h);const g=h.getGeometry();if(g){const m=g.getExtent();t.push(m),a.push(h)}else this.nullGeometryFeatures_[f]=h}if(this.featuresRtree_&&this.featuresRtree_.load(t,a),this.hasListener(gn.ADDFEATURE))for(let o=0,c=i.length;o<c;o++)this.dispatchEvent(new fs(gn.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(gn.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(gn.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(ut.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(ut.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(He);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=a=>{this.removeFeatureInternal(a)};this.featuresRtree_.forEach(i);for(const a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new fs(gn.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(a){if(a.getGeometry().intersectsCoordinate(e))return t(a)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){const o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),_a(this.nullGeometryFeatures_)||Xn(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const a=uw(e,t);return[].concat(...a.map(o=>this.featuresRtree_.getInExtent(o)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(e,t){const i=e[0],a=e[1];let o=null;const c=[NaN,NaN];let h=1/0;const f=[-1/0,-1/0,1/0,1/0];return t=t||rr,this.featuresRtree_.forEachInExtent(f,function(g){if(t(g)){const m=g.getGeometry(),y=h;if(h=m.closestPointXY(i,a,c,h),h<y){o=g;const p=Math.sqrt(h);f[0]=i-p,f[1]=a-p,f[2]=i+p,f[3]=a+p}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=ve(t),a=t.getGeometry();if(!a)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const c=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(c,t)):this.featuresRtree_&&this.featuresRtree_.update(c,t)}const o=t.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[c]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new fs(gn.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:ve(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&_a(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const a=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let c=0,h=o.length;c<h;++c){const f=o[c];a.forEachInExtent(f,function(m){return qs(m.extent,f)})||(++this.loadingExtentsCount_,this.dispatchEvent(new fs(gn.FEATURESLOADSTART)),this.loader_.call(this,f,t,i,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new fs(gn.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new fs(gn.FEATURESLOADERROR))}),a.insert(f,{extent:f.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,function(a){if(jl(a.extent,e))return i=a,!0}),i&&t.remove(i)}removeFeature(e){if(!e)return;const t=ve(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=ve(e),i=this.featureChangeKeys_[t];if(!i)return;i.forEach(He),delete this.featureChangeKeys_[t];const a=e.getId();return a!==void 0&&delete this.idIndex_[a.toString()],delete this.uidIndex_[t],this.dispatchEvent(new fs(gn.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}return t}setLoader(e){this.loader_=e}setUrl(e){Re(this.format_,7),this.url_=e,this.setLoader(X0(e,this.format_))}}const de={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Q1 extends vc{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(xe.CHANGE)}release(){this.state===de.ERROR&&this.setState(de.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==de.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(e.getState()==de.LOADED){e.interimTile=null;break}else e.getState()==de.LOADING?t=e:e.getState()==de.IDLE?t.interimTile=e.interimTile:t=e;e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==de.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ye()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const a=t-i+1e3/60;return a>=this.transition_?1:U1(a/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class J1 extends Q1{constructor(e,t,i,a,o,c){super(e,t,c),this.crossOrigin_=a,this.src_=i,this.key=i,this.image_=new Image,a!==null&&(this.image_.crossOrigin=a),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=de.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=de.ERROR,this.unlistenImage_(),this.image_=yA(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=de.LOADED:this.state=de.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==de.ERROR&&(this.state=de.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==de.IDLE&&(this.state=de.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=X1(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function yA(){const r=Zt(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}class pA{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const a=this.points_[t+2]-this.points_[i+2];if(a<1e3/60)return!1;const o=this.points_[t]-this.points_[i],c=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/a,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class xA extends ag{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){ye()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;Es(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),ug(a,i)}forEachFeatureAtCoordinate(e,t,i,a,o,c,h,f){let g;const m=t.viewState;function y(N,O,j,X){return o.call(c,O,N?j:null,X)}const p=m.projection,x=g1(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&a){const N=p.getExtent(),O=Ve(N);v.push([-O,0],[O,0])}const C=t.layerStatesArray,S=C.length,T=[],w=[];for(let N=0;N<v.length;N++)for(let O=S-1;O>=0;--O){const j=C[O],X=j.layer;if(X.hasRenderer()&&Fg(j,m)&&h.call(f,X)){const q=X.getRenderer(),Z=X.getSource();if(q&&Z){const ie=Z.getWrapX()?x:e,re=y.bind(null,j.managed);w[0]=ie[0]+v[N][0],w[1]=ie[1]+v[N][1],g=q.forEachFeatureAtCoordinate(w,t,i,re,T)}if(g)return g}}if(T.length===0)return;const R=1/T.length;return T.forEach((N,O)=>N.distanceSq+=O*R),T.sort((N,O)=>N.distanceSq-O.distanceSq),T.some(N=>g=N.callback(N.feature,N.layer,N.geometry)),g}hasFeatureAtCoordinate(e,t,i,a,o,c){return this.forEachFeatureAtCoordinate(e,t,i,a,rr,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(e){ye()}scheduleExpireIconCache(e){rc.canExpireCache()&&e.postRenderFunctions.push(vA)}}function vA(r,e){rc.expire()}class EA extends xA{constructor(e){super(e),this.fontChangeListenerKey_=Le(Fi,ga.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Lc+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const a=new V1(e,void 0,t);i.dispatchEvent(a)}}disposeInternal(){He(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(xs.PRECOMPOSE,e);const t=e.layerStatesArray.sort(function(c,h){return c.zIndex-h.zIndex}),i=e.viewState;this.children_.length=0;const a=[];let o=null;for(let c=0,h=t.length;c<h;++c){const f=t[c];e.layerIndex=c;const g=f.layer,m=g.getSourceState();if(!Fg(f,i)||m!="ready"&&m!="undefined"){g.unrender();continue}const y=g.render(e,o);y&&(y!==o&&(this.children_.push(y),o=y),"getDeclutter"in g&&a.push(g))}for(let c=a.length-1;c>=0;--c)a[c].renderDeclutter(e);i2(this.element_,this.children_),this.dispatchRenderEvent(xs.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}class ms extends Wn{constructor(e,t){super(e),this.layer=t}}const ud={LAYERS:"layers"};class Ta extends j1{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(ud.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new yn(i.slice(),{unique:!0}):Re(typeof i.getArray=="function",43):i=new yn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(He),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Le(e,ut.ADD,this.handleLayersAdd_,this),Le(e,ut.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(He);Ca(this.listenerKeys_);const t=e.getArray();for(let i=0,a=t.length;i<a;i++){const o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new ms("addlayer",o))}this.changed()}registerLayerListeners_(e){const t=[Le(e,ga.PROPERTYCHANGE,this.handleLayerChange_,this),Le(e,xe.CHANGE,this.handleLayerChange_,this)];e instanceof Ta&&t.push(Le(e,"addlayer",this.handleLayerGroupAdd_,this),Le(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ve(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new ms("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ms("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new ms("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=ve(t);this.listenerKeys_[i].forEach(He),delete this.listenerKeys_[i],this.dispatchEvent(new ms("removelayer",t)),this.changed()}getLayers(){return this.get(ud.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let a=0,o=i.length;a<o;++a)this.dispatchEvent(new ms("removelayer",i[a]))}this.set(ud.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(t)});const a=this.getLayerState();let o=a.zIndex;!e&&a.zIndex===void 0&&(o=0);for(let c=i,h=t.length;c<h;c++){const f=t[c];f.opacity*=a.opacity,f.visible=f.visible&&a.visible,f.maxResolution=Math.min(f.maxResolution,a.maxResolution),f.minResolution=Math.max(f.minResolution,a.minResolution),f.minZoom=Math.max(f.minZoom,a.minZoom),f.maxZoom=Math.min(f.maxZoom,a.maxZoom),a.extent!==void 0&&(f.extent!==void 0?f.extent=Il(f.extent,a.extent):f.extent=a.extent),f.zIndex===void 0&&(f.zIndex=o)}return t}getSourceState(){return"ready"}}class oa extends Wn{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class gs extends oa{constructor(e,t,i,a,o,c){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=a!==void 0?a:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Be={SINGLECLICK:"singleclick",CLICK:xe.CLICK,DBLCLICK:xe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ud={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class SA extends vc{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Le(i,Ud.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Le(i,Ud.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(xe.TOUCHMOVE,this.boundHandleTouchMove_,s1?{passive:!1}:!1)}emulateClick_(e){let t=new gs(Be.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new gs(Be.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new gs(Be.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Be.POINTERUP||t.type==Be.POINTERCANCEL){delete this.trackedTouches_[i];for(const a in this.trackedTouches_)if(this.trackedTouches_[a].target!==t.target){delete this.trackedTouches_[a];break}}else(t.type==Be.POINTERDOWN||t.type==Be.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new gs(Be.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(He),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new gs(Be.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Le(i,Be.POINTERMOVE,this.handlePointerMove_,this),Le(i,Be.POINTERUP,this.handlePointerUp_,this),Le(this.element_,Be.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Le(this.element_.getRootNode(),Be.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new gs(Be.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new gs(Be.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(He(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(xe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(He(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(He),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ii={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Pt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ac=1/0;class CA{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ca(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const a=this.keyFunction_(i);return delete this.queuedElements_[a],i}enqueue(e){Re(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=ac?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,a=t.length,o=t[e],c=i[e],h=e;for(;e<a>>1;){const f=this.getLeftChildIndex_(e),g=this.getRightChildIndex_(e),m=g<a&&i[g]<i[f]?g:f;t[e]=t[m],i[e]=i[m],e=m}t[e]=o,i[e]=c,this.siftDown_(h,e)}siftDown_(e,t){const i=this.elements_,a=this.priorities_,o=i[t],c=a[t];for(;t>e;){const h=this.getParentIndex_(t);if(a[h]>c)i[t]=i[h],a[t]=a[h],t=h;else break}i[t]=o,a[t]=c}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let a=0;const o=t.length;let c,h,f;for(h=0;h<o;++h)c=t[h],f=e(c),f==ac?delete this.queuedElements_[this.keyFunction_(c)]:(i[a]=f,t[a++]=c);t.length=a,i.length=a,this.heapify_()}}class bA extends CA{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(xe.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===de.LOADED||i===de.ERROR||i===de.EMPTY){i!==de.ERROR&&t.removeEventListener(xe.CHANGE,this.boundHandleTileChange_);const a=t.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0,a,o,c;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;)o=this.dequeue()[0],c=o.getKey(),a=o.getState(),a===de.IDLE&&!(c in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[c]=!0,++this.tilesLoading_,++i,o.load())}}function TA(r,e,t,i,a){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return ac;const o=r.viewState.center,c=i[0]-o[0],h=i[1]-o[1];return 65536*Math.log(a)+Math.sqrt(c*c+h*h)/a}class Ig extends Qn{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){tc(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&tc(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)He(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ma&&this.listenerKeys.push(Le(e,Ii.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class RA extends Ig{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",a=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",c=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=e.label!==void 0?e.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=a):this.label_=h;const f=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(f),this.toggleButton_.addEventListener(xe.CLICK,this.handleClick_.bind(this),!1);const g=t+" "+Lc+" "+Ag+(this.collapsed_&&this.collapsible_?" "+b0:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=g,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(a=>a.getAttributions(e)))),i=!this.getMap().getAllLayers().some(a=>a.getSource()&&a.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),t}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!ji(t,this.renderedAttributions_)){I1(this.ulElement_);for(let a=0,o=t.length;a<o;++a){const c=document.createElement("li");c.innerHTML=t[a],this.ulElement_.appendChild(c)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(b0),this.collapsed_?C0(this.collapseLabel_,this.label_):C0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class wA extends Ig{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",a=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=a,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(a));const o=e.tipLabel?e.tipLabel:"Reset rotation",c=document.createElement("button");c.className=t+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(xe.CLICK,this.handleClick_.bind(this),!1);const h=t+" "+Lc+" "+Ag,f=this.element;f.className=h,f.appendChild(c),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Lu)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:ba}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const a="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Lu);!o&&i===0?this.element.classList.add(Lu):o&&i!==0&&this.element.classList.remove(Lu)}this.label_.style.transform=a}this.rotation_=i}}class AA extends Ig{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,a=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",c=e.zoomInLabel!==void 0?e.zoomInLabel:"+",h=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",f=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",g=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=a,m.setAttribute("type","button"),m.title=f,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(xe.CLICK,this.handleClick_.bind(this,i),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=g,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(xe.CLICK,this.handleClick_.bind(this,-i),!1);const p=t+" "+Lc+" "+Ag,x=this.element;x.className=p,x.appendChild(m),x.appendChild(y),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const a=i.getZoom();if(a!==void 0){const o=i.getConstrainedZoom(a+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:ba})):i.setZoom(o)}}}function MA(r){r=r||{};const e=new yn;return(r.zoom!==void 0?r.zoom:!0)&&e.push(new AA(r.zoomOptions)),(r.rotate!==void 0?r.rotate:!0)&&e.push(new wA(r.rotateOptions)),(r.attribution!==void 0?r.attribution:!0)&&e.push(new RA(r.attributionOptions)),e}const H0={ACTIVE:"active"};class Ra extends Qn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(H0.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(H0.ACTIVE,e)}setMap(e){this.map_=e}}function OA(r,e,t){const i=r.getCenterInternal();if(i){const a=[i[0]+e[0],i[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:E2,center:r.getConstrainedCenter(a)})}}function zg(r,e,t,i){const a=r.getZoom();if(a===void 0)return;const o=r.getConstrainedZoom(a+e),c=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:c,anchor:t,duration:i!==void 0?i:250,easing:ba})}class LA extends Ra{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Be.DBLCLICK){const i=e.originalEvent,a=e.map,o=e.coordinate,c=i.shiftKey?-this.delta_:this.delta_,h=a.getView();zg(h,c,o,this.duration_),i.preventDefault(),t=!0}return!t}}class wa extends Ra{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Be.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Be.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Be.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Be.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Pg(r){const e=r.length;let t=0,i=0;for(let a=0;a<e;a++)t+=r[a].clientX,i+=r[a].clientY;return{clientX:t/e,clientY:i/e}}function Bd(r){const e=arguments;return function(t){let i=!0;for(let a=0,o=e.length;a<o&&(i=i&&e[a](t),!!i);++a);return i}}const DA=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},NA=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},FA=function(r){const e=r.map.getTargetElement(),t=r.map.getOwnerDocument().activeElement;return e.contains(t)},$1=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?FA(r):!0},ev=rr,IA=function(r){return r.type==Be.CLICK},tv=function(r){const e=r.originalEvent;return e.button==0&&!(JR&&$R&&e.ctrlKey)},V0=so,nv=function(r){return r.type==Be.SINGLECLICK},iv=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},sv=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},rv=function(r){const e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},qu=function(r){const e=r.originalEvent;return Re(e!==void 0,56),e.pointerType=="mouse"},av=function(r){const e=r.originalEvent;return Re(e!==void 0,56),e.isPrimary&&e.button===0};class zA extends wa{constructor(e){super({stopDown:so}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Bd(iv,av);this.condition_=e.onFocusOnly?Bd($1,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,a=t.getEventPixel(Pg(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){const o=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],h=e.map.getView();Sw(o,h.getResolution()),gg(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=a,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=i.getCenterInternal(),h=t.getPixelFromCoordinateInternal(c),f=t.getCoordinateFromPixelInternal([h[0]-a*Math.cos(o),h[1]-a*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(f),duration:500,easing:ba})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class lv extends wa{constructor(e){e=e||{},super({stopDown:so}),this.condition_=e.condition?e.condition:NA,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!qu(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===Ng)return;const a=t.getSize(),o=e.pixel,c=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(e){return qu(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return qu(e)&&tv(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class PA extends ag{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(e[0],t[0])+i,a.top=Math.min(e[1],t[1])+i,a.width=Math.abs(t[0]-e[0])+i,a.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,a=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new jt([a])}getGeometry(){return this.geometry_}}const zu={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class cd extends Wn{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class kA extends wa{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new PA(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:tv,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const a=i[0]-t[0],o=i[1]-t[1];return a*a+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new cd(zu.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new cd(t?zu.BOXEND:zu.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new cd(zu.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class GA extends kA{constructor(e){e=e||{};const t=e.condition?e.condition:sv;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let a=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(a),c=i.getResolutionForExtentInternal(o),h=i.getResolution()/c;a=a.clone(),a.scale(h*h)}i.fitInternal(a,{duration:this.duration_,easing:ba})}}const Ys={LEFT:37,UP:38,RIGHT:39,DOWN:40};class jA extends Ra{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return iv(t)&&rv(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==xe.KEYDOWN){const i=e.originalEvent,a=i.keyCode;if(this.condition_(e)&&(a==Ys.DOWN||a==Ys.LEFT||a==Ys.RIGHT||a==Ys.UP)){const c=e.map.getView(),h=c.getResolution()*this.pixelDelta_;let f=0,g=0;a==Ys.DOWN?g=-h:a==Ys.LEFT?f=-h:a==Ys.RIGHT?f=h:g=h;const m=[f,g];gg(m,c.getRotation()),OA(c,m,this.duration_),i.preventDefault(),t=!0}}return!t}}class UA extends Ra{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:rv,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==xe.KEYDOWN||e.type==xe.KEYPRESS){const i=e.originalEvent,a=i.key;if(this.condition_(e)&&(a==="+"||a==="-")){const o=e.map,c=a==="+"?this.delta_:-this.delta_,h=o.getView();zg(h,c,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}class BA extends Ra{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:ev;this.condition_=e.onFocusOnly?Bd($1,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==xe.WHEEL)return!0;const i=e.map,a=e.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let o;if(e.type==xe.WHEEL&&(o=a.deltaY,WR&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=i1),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=i.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=c,!1;this.totalDelta_+=o;const f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),f),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-ct(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),zg(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class YA extends wa{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=so),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(this.lastAngle_!==void 0){const f=o-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=f}this.lastAngle_=o;const c=e.map,h=c.getView();h.getConstraints().rotation!==Ng&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Pg(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class XA extends wa{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=so),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],a=this.targetPointers[1],o=i.clientX-a.clientX,c=i.clientY-a.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(t=this.lastDistance_/h),this.lastDistance_=h;const f=e.map,g=f.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=f.getCoordinateFromPixelInternal(f.getEventPixel(Pg(this.targetPointers))),f.render(),g.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),a=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,a),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function ov(r){r=r||{};const e=new yn,t=new pA(-.005,.05,100);return(r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0)&&e.push(new lv),(r.doubleClickZoom!==void 0?r.doubleClickZoom:!0)&&e.push(new LA({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan!==void 0?r.dragPan:!0)&&e.push(new zA({onFocusOnly:r.onFocusOnly,kinetic:t})),(r.pinchRotate!==void 0?r.pinchRotate:!0)&&e.push(new YA),(r.pinchZoom!==void 0?r.pinchZoom:!0)&&e.push(new XA({duration:r.zoomDuration})),(r.keyboard!==void 0?r.keyboard:!0)&&(e.push(new jA),e.push(new UA({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0)&&e.push(new BA({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom!==void 0?r.shiftDragZoom:!0)&&e.push(new GA({duration:r.zoomDuration})),e}function uv(r){if(r instanceof Nc){r.setMapInternal(null);return}r instanceof Ta&&r.getLayers().forEach(uv)}function cv(r,e){if(r instanceof Nc){r.setMapInternal(e);return}if(r instanceof Ta){const t=r.getLayers().getArray();for(let i=0,a=t.length;i<a;++i)cv(t[i],e)}}let HA=class extends Qn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=VA(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:i1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=fi(),this.pixelToCoordinateTransform_=fi(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||MA(),this.interactions=t.interactions||ov({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new bA(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Pt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Pt.VIEW,this.handleViewChanged_),this.addChangeListener(Pt.SIZE,this.handleSizeChanged_),this.addChangeListener(Pt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof ui)&&e.view.then(function(a){i.setView(new ui(a))}),this.controls.addEventListener(ut.ADD,a=>{a.element.setMap(this)}),this.controls.addEventListener(ut.REMOVE,a=>{a.element.setMap(null)}),this.interactions.addEventListener(ut.ADD,a=>{a.element.setMap(this)}),this.interactions.addEventListener(ut.REMOVE,a=>{a.element.setMap(null)}),this.overlays_.addEventListener(ut.ADD,a=>{this.addOverlayInternal_(a.element)}),this.overlays_.addEventListener(ut.REMOVE,a=>{const o=a.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],a.element.setMap(null)}),this.controls.forEach(a=>{a.setMap(this)}),this.interactions.forEach(a=>{a.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){cv(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const a=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter!==void 0?i.layerFilter:rr,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,o,h,t,null,c,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(a){i.push(a)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(a){a instanceof Ta?t(a.getLayers()):e.push(a)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const a=t.layerFilter!==void 0?t.layerFilter:rr,o=t.hitTolerance!==void 0?t.hitTolerance:0,c=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,c,a,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),a=this.getSize(),o=i.width/a[0],c=i.height/a[1],h="changedTouches"in e?e.changedTouches[0]:e;return[(h.clientX-i.left)/o,(h.clientY-i.top)/c]}getTarget(){return this.get(Pt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Bl(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?St(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Pt.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof yn){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const a=e[t];if(!a.visible)continue;const o=a.layer.getRenderer();if(o&&!o.ready)return!0;const c=a.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(e){const t=gt(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?St(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Pt.SIZE)}getView(){return this.get(Pt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,a){return TA(this.frameState_,e,t,i,a)}handleBrowserEvent(e,t){t=t||e.type;const i=new gs(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===Ud.POINTERDOWN||i===xe.WHEEL||i===xe.KEYDOWN){const a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,c=t.target;if(this.overlayContainerStopEvent_.contains(c)||!(o===a?a.documentElement:o).contains(c))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const a=this.getInteractions().getArray().slice();for(let o=a.length-1;o>=0;o--){const c=a[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let a=this.maxTilesLoading_,o=a;if(e){const c=e.viewHints;if(c[Gt.ANIMATING]||c[Gt.INTERACTING]){const h=Date.now()-e.time>8;a=h?0:8,o=h?0:2}}t.getTilesLoading()<a&&(t.reprioritize(),t.loadMoreTiles(a,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(xs.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(xs.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new oa(Ii.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new oa(Ii.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let a=0,o=i.length;a<o;++a)i[a](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,a=this.targetChangeHandlerKeys_.length;i<a;++i)He(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(xe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(xe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,tc(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new EA(this)),this.mapBrowserEventHandler_=new SA(this,this.moveTolerance_);for(const o in Be)this.mapBrowserEventHandler_.addEventListener(Be[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(xe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(xe.WHEEL,this.boundHandleBrowserEvent_,s1?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[Le(i,xe.KEYDOWN,this.handleBrowserEvent,this),Le(i,xe.KEYPRESS,this.handleBrowserEvent,this)];const a=t.getRootNode();a instanceof ShadowRoot&&this.resizeObserver_.observe(a.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(He(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(He(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Le(e,ga.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Le(e,xe.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(He),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new ms("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Le(e,ga.PROPERTYCHANGE,this.render,this),Le(e,xe.CHANGE,this.render,this),Le(e,"addlayer",this.handleLayerAdd_,this),Le(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const a=e[t].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){uv(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),a=this.frameState_;let o=null;if(t!==void 0&&E0(t)&&i&&i.isDef()){const c=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Od(h.center,h.resolution,h.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:ve(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const f=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=Od(h.nextCenter,h.nextResolution,f,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),a&&(!this.previousExtent_||!hg(this.previousExtent_)&&!jl(o.extent,this.previousExtent_))&&(this.dispatchEvent(new oa(Ii.MOVESTART,this,a)),this.previousExtent_=ao(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Gt.ANIMATING]&&!o.viewHints[Gt.INTERACTING]&&!jl(o.extent,this.previousExtent_)&&(this.dispatchEvent(new oa(Ii.MOVEEND,this,o)),a1(o.extent,this.previousExtent_))),this.dispatchEvent(new oa(Ii.POSTRENDER,this,o)),this.renderComplete_=this.hasListener(Ii.LOADSTART)||this.hasListener(Ii.LOADEND)||this.hasListener(xs.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new ms("removelayer",t)),this.set(Pt.LAYERGROUP,e)}setSize(e){this.set(Pt.SIZE,e)}setTarget(e){this.set(Pt.TARGET,e)}setView(e){if(!e||e instanceof ui){this.set(Pt.VIEW,e);return}this.set(Pt.VIEW,new ui);const t=this;e.then(function(i){t.setView(new ui(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const a=getComputedStyle(e),o=e.offsetWidth-parseFloat(a.borderLeftWidth)-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight)-parseFloat(a.borderRightWidth),c=e.offsetHeight-parseFloat(a.borderTopWidth)-parseFloat(a.paddingTop)-parseFloat(a.paddingBottom)-parseFloat(a.borderBottomWidth);!isNaN(o)&&!isNaN(c)&&(t=[o,c],!E0(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&_1("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!ji(t,i))&&(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let t;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(t=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(t)}}};function VA(r){let e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const t={},i=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Ta({layers:r.layers});t[Pt.LAYERGROUP]=i,t[Pt.TARGET]=r.target,t[Pt.VIEW]=r.view instanceof ui?r.view:new ui;let a;r.controls!==void 0&&(Array.isArray(r.controls)?a=new yn(r.controls.slice()):(Re(typeof r.controls.getArray=="function",47),a=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new yn(r.interactions.slice()):(Re(typeof r.interactions.getArray=="function",48),o=r.interactions));let c;return r.overlays!==void 0?Array.isArray(r.overlays)?c=new yn(r.overlays.slice()):(Re(typeof r.overlays.getArray=="function",49),c=r.overlays):c=new yn,{controls:a,interactions:o,keyboardEventTarget:e,overlays:c,values:t}}const zt={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class Yd extends Qn{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+s2,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(zt.ELEMENT,this.handleElementChanged),this.addChangeListener(zt.MAP,this.handleMapChanged),this.addChangeListener(zt.OFFSET,this.handleOffsetChanged),this.addChangeListener(zt.POSITION,this.handlePositionChanged),this.addChangeListener(zt.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(zt.ELEMENT)}getId(){return this.id}getMap(){return this.get(zt.MAP)||null}getOffset(){return this.get(zt.OFFSET)}getPosition(){return this.get(zt.POSITION)}getPositioning(){return this.get(zt.POSITIONING)}handleElementChanged(){I1(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(tc(this.element),He(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Le(e,Ii.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(zt.ELEMENT,e)}setMap(e){this.set(zt.MAP,e)}setOffset(e){this.set(zt.OFFSET,e)}setPosition(e){this.set(zt.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(zt.POSITION))return;const i=this.getRect(t.getTargetElement(),t.getSize()),a=this.getElement(),o=this.getRect(a,[t2(a),n2(a)]);e=e||{};const c=e.margin===void 0?20:e.margin;if(!qs(i,o)){const h=o[0]-i[0],f=i[2]-o[2],g=o[1]-i[1],m=i[3]-o[3],y=[0,0];if(h<0?y[0]=h-c:f<0&&(y[0]=Math.abs(f)+c),g<0?y[1]=g-c:m<0&&(y[1]=Math.abs(m)+c),y[0]!==0||y[1]!==0){const p=t.getView().getCenterInternal(),x=t.getPixelFromCoordinateInternal(p);if(!x)return;const v=[x[0]+y[0],x[1]+y[1]],C=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(v),duration:C.duration,easing:C.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),a=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[a,o,a+t[0],o+t[1]]}setPositioning(e){this.set(zt.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(t),a=e.getSize();this.updateRenderedPosition(i,a)}updateRenderedPosition(e,t){const i=this.element.style,a=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const c=Math.round(e[0]+a[0])+"px",h=Math.round(e[1]+a[1])+"px";let f="0%",g="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?f="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(f="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?g="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(g="-50%");const m=`translate(${f}, ${g}) translate(${c}, ${h})`;this.rendered.transform_!=m&&(this.rendered.transform_=m,i.transform=m)}getOptions(){return this.options}}class qA{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Re(i!==void 0,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Re(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Re(!(e in this.entries_),16);const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function q0(r,e,t,i){return i!==void 0?(i[0]=r,i[1]=e,i[2]=t,i):[r,e,t]}function Fc(r,e,t){return r+"/"+e+"/"+t}function hv(r){return Fc(r[0],r[1],r[2])}function ZA(r){return r.split("/").map(Number)}function KA(r){return(r[1]<<r[0])+r[2]}function WA(r,e){const t=r[0],i=r[1],a=r[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const o=e.getFullTileRange(t);return o?o.containsXY(i,a):!0}class fv extends qA{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=ZA(e)[0];this.forEach(a=>{a.tileCoord[0]!==i&&(this.remove(hv(a.tileCoord)),a.release())})}}class kg{constructor(e,t,i,a){this.minX=e,this.maxX=t,this.minY=i,this.maxY=a}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function ia(r,e,t,i,a){return a!==void 0?(a.minX=r,a.maxX=e,a.minY=t,a.maxY=i,a):new kg(r,e,t,i)}class lc extends E1{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(He),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Le(this.geometries_[e],xe.CHANGE,this.changed,this))}clone(){const e=new lc(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,a){if(a<ur(this.getExtent(),e,t))return a;const o=this.geometries_;for(let c=0,h=o.length;c<h;++c)a=o[c].closestPointXY(e,t,i,a);return a}containsXY(e,t){const i=this.geometries_;for(let a=0,o=i.length;a<o;++a)if(i[a].containsXY(e,t))return!0;return!1}computeExtent(e){ao(e);const t=this.geometries_;for(let i=0,a=t.length;i<a;++i)o1(e,t[i].getExtent());return e}getGeometries(){return Z0(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,a=t.length;i<a;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let a=!1;for(let o=0,c=i.length;o<c;++o){const h=i[o],f=h.getSimplifiedGeometry(e);t.push(f),f!==h&&(a=!0)}if(a){const o=new lc(null);return o.setGeometriesArray(t),o}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,a=t.length;i<a;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let a=0,o=i.length;a<o;++a)i[a].rotate(e,t);this.changed()}scale(e,t,i){i||(i=ar(this.getExtent()));const a=this.geometries_;for(let o=0,c=a.length;o<c;++o)a[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(Z0(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,a=t.length;i<a;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let a=0,o=i.length;a<o;++a)i[a].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Z0(r){const e=[];for(let t=0,i=r.length;t<i;++t)e.push(r[t].clone());return e}class oc extends hr{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let a=this.getLayout();const o=e,c=[],h=[];for(let f=0,g=o.length;f<g;++f){const m=o[f];f===0&&(a=m.getLayout()),Xn(c,m.getFlatCoordinates()),h.push(c.length)}this.setFlatCoordinates(a,c),this.ends_=h}}appendLineString(e){this.flatCoordinates?Xn(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new oc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,a){return a<ur(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Sg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,a))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,Zw(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return Yl(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new lr(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,a=[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=t[c],g=new lr(e.slice(o,f),i);a.push(g),o=f}return a}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const a=this.ends_,o=this.stride;for(let c=0,h=a.length;c<h;++c){const f=a[c],g=L1(t,i,f,o,.5);Xn(e,g),i=f}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Pw(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new oc(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return Xw(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Tg(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class Ic extends hr{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?Xn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Ic(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,a){if(a<ur(this.getExtent(),e,t))return a;const o=this.flatCoordinates,c=this.stride;for(let h=0,f=o.length;h<f;h+=c){const g=Js(e,t,o[h],o[h+1]);if(g<a){a=g;for(let m=0;m<c;++m)i[m]=o[h+m];i.length=c}}return a}getCoordinates(){return ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new Dn(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,a=[];for(let o=0,c=e.length;o<c;o+=i){const h=new Dn(e.slice(o,o+i),t);a.push(h)}return a}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let a=0,o=t.length;a<o;a+=i){const c=t[a],h=t[a+1];if(cg(e,c,h))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wc(this.flatCoordinates,0,e,this.stride),this.changed()}}function QA(r,e,t,i){const a=[];let o=Ln();for(let c=0,h=t.length;c<h;++c){const f=t[c];o=l1(r,e,f[0],i),a.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=f[f.length-1]}return a}class uc extends hr{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let a=this.getLayout();const o=e,c=[],h=[];for(let f=0,g=o.length;f<g;++f){const m=o[f];f===0&&(a=m.getLayout());const y=c.length,p=m.getEnds();for(let x=0,v=p.length;x<v;++x)p[x]+=y;Xn(c,m.getFlatCoordinates()),h.push(p)}t=a,e=c,i=h}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Xn(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let a=0,o=t.length;a<o;++a)t[a]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let a=0;a<e;++a)t[a]=this.endss_[a].slice();const i=new uc(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,a){return a<ur(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nw(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,a))}containsXY(e,t){return Bw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return jw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),x0(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Fd(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=QA(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Yw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Ic(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;qw(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=x0(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=Gw(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new uc(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const i=this.endss_[e].slice(),a=i[i.length-1];if(t!==0)for(let o=0,c=i.length;o<c;++o)i[o]-=t;return new jt(this.flatCoordinates.slice(t,a),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,a=[];let o=0;for(let c=0,h=i.length;c<h;++c){const f=i[c].slice(),g=f[f.length-1];if(o!==0)for(let y=0,p=f.length;y<p;++y)f[y]-=o;const m=new jt(t.slice(o,g),e,f);a.push(m),o=g}return a}getType(){return"MultiPolygon"}intersectsExtent(e){return Hw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=zw(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const a=i[i.length-1];this.flatCoordinates.length=a.length===0?0:a[a.length-1]}this.changed()}}const K0=0,Pl=1,W0=[0,0,0,0],ha=[],hd={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class fd extends Wn{constructor(e,t,i){super(e),this.features=t,this.mapBrowserEvent=i}}class JA extends wa{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:av,this.defaultDeleteCondition_=function(i){return DA(i)&&nv(i)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:ev,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new jd,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new Ss({source:new or({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:eM(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let t;if(e.features?t=e.features:e.source&&(this.source_=e.source,t=new yn(this.source_.getFeatures()),this.source_.addEventListener(gn.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(gn.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!t)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=t,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(ut.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(ut.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const t=e.getGeometry();if(t){const a=this.SEGMENT_WRITERS_[t.getType()];a&&a(e,t)}const i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),e.addEventListener(xe.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new yn;const i=this.featuresBeingModified_.getArray();for(let a=0,o=t.length;a<o;++a){const c=t[a];for(let h=0,f=c.length;h<f;++h){const g=c[h].feature;g&&!i.includes(g)&&this.featuresBeingModified_.push(g)}}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new fd(hd.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(xe.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const t=this.rBush_,i=[];t.forEach(function(a){e===a.feature&&i.push(a)});for(let a=i.length-1;a>=0;--a){const o=i[a];for(let c=this.dragSegments_.length-1;c>=0;--c)this.dragSegments_[c][0]===o&&this.dragSegments_.splice(c,1);t.remove(o)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const t=e.target;this.removeFeature_(t),this.addFeature_(t)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,t){const i=t.getCoordinates(),a={feature:e,geometry:t,segment:[i,i]};this.rBush_.insert(t.getExtent(),a)}writeMultiPointGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length;a<o;++a){const c=i[a],h={feature:e,geometry:t,depth:[a],index:a,segment:[c,c]};this.rBush_.insert(t.getExtent(),h)}}writeLineStringGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length-1;a<o;++a){const c=i.slice(a,a+2),h={feature:e,geometry:t,index:a,segment:c};this.rBush_.insert(jn(c),h)}}writeMultiLineStringGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length;a<o;++a){const c=i[a];for(let h=0,f=c.length-1;h<f;++h){const g=c.slice(h,h+2),m={feature:e,geometry:t,depth:[a],index:h,segment:g};this.rBush_.insert(jn(g),m)}}}writePolygonGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length;a<o;++a){const c=i[a];for(let h=0,f=c.length-1;h<f;++h){const g=c.slice(h,h+2),m={feature:e,geometry:t,depth:[a],index:h,segment:g};this.rBush_.insert(jn(g),m)}}}writeMultiPolygonGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length;a<o;++a){const c=i[a];for(let h=0,f=c.length;h<f;++h){const g=c[h];for(let m=0,y=g.length-1;m<y;++m){const p=g.slice(m,m+2),x={feature:e,geometry:t,depth:[h,a],index:m,segment:p};this.rBush_.insert(jn(p),x)}}}}writeCircleGeometry_(e,t){const i=t.getCenter(),a={feature:e,geometry:t,index:K0,segment:[i,i]},o={feature:e,geometry:t,index:Pl,segment:[i,i]},c=[a,o];a.featureSegments=c,o.featureSegments=c,this.rBush_.insert(Vu(i),a);let h=t;this.rBush_.insert(h.getExtent(),o)}writeGeometryCollectionGeometry_(e,t){const i=t.getGeometriesArray();for(let a=0;a<i.length;++a){const o=i[a],c=this.SEGMENT_WRITERS_[o.getType()];c(e,o)}}createOrUpdateVertexFeature_(e,t,i){let a=this.vertexFeature_;return a?a.getGeometry().setCoordinates(e):(a=new Bt(new Dn(e)),this.vertexFeature_=a,this.overlay_.getSource().addFeature(a)),a.set("features",t),a.set("geometries",i),a}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let t;return!e.map.getView().getInteracting()&&e.type==Be.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=Be.SINGLECLICK||!this.ignoreNextSingleClick_?t=this.removePoint():t=!0),e.type==Be.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!t}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],i=[],a=[];for(let o=0,c=this.dragSegments_.length;o<c;++o){const h=this.dragSegments_[o],f=h[0],g=f.feature;i.includes(g)||i.push(g);const m=f.geometry;a.includes(m)||a.push(m);const y=f.depth;let p;const x=f.segment,v=h[1];for(;t.length<m.getStride();)t.push(x[v][t.length]);switch(m.getType()){case"Point":p=t,x[0]=t,x[1]=t;break;case"MultiPoint":p=m.getCoordinates(),p[f.index]=t,x[0]=t,x[1]=t;break;case"LineString":p=m.getCoordinates(),p[f.index+v]=t,x[v]=t;break;case"MultiLineString":p=m.getCoordinates(),p[y[0]][f.index+v]=t,x[v]=t;break;case"Polygon":p=m.getCoordinates(),p[y[0]][f.index+v]=t,x[v]=t;break;case"MultiPolygon":p=m.getCoordinates(),p[y[1]][y[0]][f.index+v]=t,x[v]=t;break;case"Circle":if(x[0]=t,x[1]=t,f.index===K0)this.changingFeature_=!0,m.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let C=f0(gt(m.getCenter()),gt(t));m.setRadius(C),this.changingFeature_=!1}break}p&&this.setGeometryCoordinates_(m,p)}this.createOrUpdateVertexFeature_(t,i,a)}handleDownEvent(e){if(!this.condition_(e))return!1;const t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;const i=this.vertexFeature_;if(i){e.map.getView().getProjection();const a=[],o=i.getGeometry().getCoordinates(),c=jn([o]),h=this.rBush_.getInExtent(c),f={};h.sort($A);for(let g=0,m=h.length;g<m;++g){const y=h[g],p=y.segment;let x=ve(y.geometry);const v=y.depth;if(v&&(x+="-"+v.join("-")),f[x]||(f[x]=new Array(2)),y.geometry.getType()==="Circle"&&y.index===Pl){const C=J0(t,y);Un(C,o)&&!f[x][0]&&(this.dragSegments_.push([y,0]),f[x][0]=y);continue}if(Un(p[0],o)&&!f[x][0]){this.dragSegments_.push([y,0]),f[x][0]=y;continue}if(Un(p[1],o)&&!f[x][1]){if(f[x][0]&&f[x][0].index===0){let C=y.geometry.getCoordinates();switch(y.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":C=C[v[1]];case"Polygon":if(y.index!==C[v[0]].length-2)continue;break}}this.dragSegments_.push([y,1]),f[x][1]=y;continue}ve(p)in this.vertexSegments_&&!f[x][0]&&!f[x][1]&&this.insertVertexCondition_(e)&&a.push(y)}a.length&&this.willModifyFeatures_(e,[a]);for(let g=a.length-1;g>=0;--g)this.insertVertex_(a[g],o)}return!!this.vertexFeature_}handleUpEvent(e){for(let t=this.dragSegments_.length-1;t>=0;--t){const i=this.dragSegments_[t][0],a=i.geometry;if(a.getType()==="Circle"){const o=a.getCenter(),c=i.featureSegments[0],h=i.featureSegments[1];c.segment[0]=o,c.segment[1]=o,h.segment[0]=o,h.segment[1]=o,this.rBush_.update(Vu(o),c);let f=a;this.rBush_.update(f.getExtent(),h)}else this.rBush_.update(jn(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new fd(hd.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,t,i){const a=i||t.getCoordinateFromPixel(e);t.getView().getProjection();const o=function(f,g){return Q0(a,f)-Q0(a,g)};let c,h;if(this.hitDetection_){const f=typeof this.hitDetection_=="object"?g=>g===this.hitDetection_:void 0;t.forEachFeatureAtPixel(e,(g,m,y)=>{const p=y||g.getGeometry();if(p.getType()==="Point"&&g instanceof Bt&&this.features_.getArray().includes(g)){h=p;const x=h.getFlatCoordinates().slice(0,2);c=[{feature:g,geometry:h,segment:[x,x]}]}return!0},{layerFilter:f})}if(!c){const f=_s(Vu(a,W0)),g=t.getView().getResolution()*this.pixelTolerance_,m=vg(Ec(f,g,W0));c=this.rBush_.getInExtent(m)}if(c&&c.length>0){const f=c.sort(o)[0],g=f.segment;let m=J0(a,f);const y=t.getPixelFromCoordinate(m);let p=f0(e,y);if(h||p<=this.pixelTolerance_){const x={};if(x[ve(g)]=!0,this.snapToPointer_||(this.delta_[0]=m[0]-a[0],this.delta_[1]=m[1]-a[1]),f.geometry.getType()==="Circle"&&f.index===Pl)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(m,[f.feature],[f.geometry]);else{const v=t.getPixelFromCoordinate(g[0]),C=t.getPixelFromCoordinate(g[1]),S=Ul(y,v),T=Ul(y,C);p=Math.sqrt(Math.min(S,T)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(m=S>T?g[1]:g[0]),this.createOrUpdateVertexFeature_(m,[f.feature],[f.geometry]);const w={};w[ve(f.geometry)]=!0;for(let R=1,N=c.length;R<N;++R){const O=c[R].segment;if(Un(g[0],O[0])&&Un(g[1],O[1])||Un(g[0],O[1])&&Un(g[1],O[0])){const j=ve(c[R].geometry);j in w||(w[j]=!0,x[ve(O)]=!0)}else break}}this.vertexSegments_=x;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,t){const i=e.segment,a=e.feature,o=e.geometry,c=e.depth,h=e.index;let f;for(;t.length<o.getStride();)t.push(0);switch(o.getType()){case"MultiLineString":f=o.getCoordinates(),f[c[0]].splice(h+1,0,t);break;case"Polygon":f=o.getCoordinates(),f[c[0]].splice(h+1,0,t);break;case"MultiPolygon":f=o.getCoordinates(),f[c[1]][c[0]].splice(h+1,0,t);break;case"LineString":f=o.getCoordinates(),f.splice(h+1,0,t);break;default:return}this.setGeometryCoordinates_(o,f);const g=this.rBush_;g.remove(e),this.updateSegmentIndices_(o,h,c,1);const m={segment:[i[0],t],feature:a,geometry:o,depth:c,index:h};g.insert(jn(m.segment),m),this.dragSegments_.push([m,1]);const y={segment:[t,i[1]],feature:a,geometry:o,depth:c,index:h+1};g.insert(jn(y.segment),y),this.dragSegments_.push([y,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Be.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const t=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new fd(hd.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1}removeVertex_(){const e=this.dragSegments_,t={};let i=!1,a,o,c,h,f,g,m,y,p,x,v;for(f=e.length-1;f>=0;--f)c=e[f],x=c[0],v=ve(x.feature),x.depth&&(v+="-"+x.depth.join("-")),v in t||(t[v]={}),c[1]===0?(t[v].right=x,t[v].index=x.index):c[1]==1&&(t[v].left=x,t[v].index=x.index+1);for(v in t){switch(p=t[v].right,m=t[v].left,g=t[v].index,y=g-1,m!==void 0?x=m:x=p,y<0&&(y=0),h=x.geometry,o=h.getCoordinates(),a=o,i=!1,h.getType()){case"MultiLineString":o[x.depth[0]].length>2&&(o[x.depth[0]].splice(g,1),i=!0);break;case"LineString":o.length>2&&(o.splice(g,1),i=!0);break;case"MultiPolygon":a=a[x.depth[1]];case"Polygon":a=a[x.depth[0]],a.length>4&&(g==a.length-1&&(g=0),a.splice(g,1),i=!0,g===0&&(a.pop(),a.push(a[0]),y=a.length-1));break}if(i){this.setGeometryCoordinates_(h,o);const C=[];if(m!==void 0&&(this.rBush_.remove(m),C.push(m.segment[0])),p!==void 0&&(this.rBush_.remove(p),C.push(p.segment[1])),m!==void 0&&p!==void 0){const S={depth:x.depth,feature:x.feature,geometry:x.geometry,index:y,segment:C};this.rBush_.insert(jn(S.segment),S)}this.updateSegmentIndices_(h,g,x.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return i}setGeometryCoordinates_(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}updateSegmentIndices_(e,t,i,a){this.rBush_.forEachInExtent(e.getExtent(),function(o){o.geometry===e&&(i===void 0||o.depth===void 0||ji(o.depth,i))&&o.index>t&&(o.index+=a)})}}function $A(r,e){return r.index-e.index}function Q0(r,e,t){const i=e.geometry;if(i.getType()==="Circle"){let o=i;if(e.index===Pl){const c=Ul(o.getCenter(),gt(r)),h=Math.sqrt(c)-o.getRadius();return h*h}}const a=gt(r);return ha[0]=gt(e.segment[0]),ha[1]=gt(e.segment[1]),Cw(a,ha)}function J0(r,e,t){const i=e.geometry;if(i.getType()==="Circle"&&e.index===Pl)return Bl(i.getClosestPoint(gt(r)));const a=gt(r);return ha[0]=gt(e.segment[0]),ha[1]=gt(e.segment[1]),Bl(d1(a,ha))}function eM(){const r=G1();return function(e,t){return r.Point}}const tM={SELECT:"select"};class nM extends Wn{constructor(e,t,i,a){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=a}}const Pu={};class Gg extends Ra{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:nv,this.addCondition_=e.addCondition?e.addCondition:V0,this.removeCondition_=e.removeCondition?e.removeCondition:V0,this.toggleCondition_=e.toggleCondition?e.toggleCondition:sv,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:rr,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:iM(),this.features_=e.features||new yn;let t;if(e.layers)if(typeof e.layers=="function")t=e.layers;else{const i=e.layers;t=function(a){return i.includes(a)}}else t=rr;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[ve(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[ve(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(ut.ADD,this.boundAddFeature_),this.features_.addEventListener(ut.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(ut.ADD,this.boundAddFeature_),this.features_.removeEventListener(ut.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const i=this.getMap().getAllLayers().find(function(a){if(a instanceof Ss&&a.getSource()&&a.getSource().hasFeature(t))return a});i&&this.addFeatureLayerAssociation_(t,i)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=ve(e);t in Pu||(Pu[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let a=t.length-1;a>=0;--a){const o=t[a];if(o!==this&&o instanceof Gg&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(o.getStyle());return}}const i=ve(e);e.setStyle(Pu[i]),delete Pu[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[ve(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),i=this.removeCondition_(e),a=this.toggleCondition_(e),o=!t&&!i&&!a,c=e.map,h=this.getFeatures(),f=[],g=[];if(o){Ca(this.featureLayerAssociation_),c.forEachFeatureAtPixel(e.pixel,(m,y)=>{if(!(!(m instanceof Bt)||!this.filter_(m,y)))return this.addFeatureLayerAssociation_(m,y),g.push(m),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let m=h.getLength()-1;m>=0;--m){const y=h.item(m),p=g.indexOf(y);p>-1?g.splice(p,1):(h.remove(y),f.push(y))}g.length!==0&&h.extend(g)}else{c.forEachFeatureAtPixel(e.pixel,(m,y)=>{if(!(!(m instanceof Bt)||!this.filter_(m,y)))return(t||a)&&!h.getArray().includes(m)?(this.addFeatureLayerAssociation_(m,y),g.push(m)):(i||a)&&h.getArray().includes(m)&&(f.push(m),this.removeFeatureLayerAssociation_(m)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let m=f.length-1;m>=0;--m)h.remove(f[m]);h.extend(g)}return(g.length>0||f.length>0)&&this.dispatchEvent(new nM(tM.SELECT,g,f,e)),!0}}function iM(){const r=G1();return Xn(r.Polygon,r.LineString),Xn(r.GeometryCollection,r.LineString),function(e){return e.getGeometry()?r[e.getGeometry().getType()]:null}}const ku={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class sM extends Nc{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(ku.PRELOAD)}setPreload(e){this.set(ku.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ku.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ku.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const rM=.5,aM=10,$0=.25;class lM{constructor(e,t,i,a,o,c){this.sourceProj_=e,this.targetProj_=t;let h={};const f=$u(this.targetProj_,this.sourceProj_);this.transformInv_=function(w){const R=w[0]+"/"+w[1];return h[R]||(h[R]=f(w)),h[R]},this.maxSourceExtent_=a,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&Ve(a)==Ve(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ve(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ve(this.targetProj_.getExtent()):null;const g=cr(i),m=Tc(i),y=bc(i),p=Cc(i),x=this.transformInv_(g),v=this.transformInv_(m),C=this.transformInv_(y),S=this.transformInv_(p),T=aM+(c?Math.max(0,Math.ceil(Math.log2(Md(i)/(c*c*256*256)))):0);if(this.addQuad_(g,m,y,p,x,v,C,S,T),this.wrapsXInSource_){let w=1/0;this.triangles_.forEach(function(R,N,O){w=Math.min(w,R.source[0][0],R.source[1][0],R.source[2][0])}),this.triangles_.forEach(R=>{if(Math.max(R.source[0][0],R.source[1][0],R.source[2][0])-w>this.sourceWorldWidth_/2){const N=[[R.source[0][0],R.source[0][1]],[R.source[1][0],R.source[1][1]],[R.source[2][0],R.source[2][1]]];N[0][0]-w>this.sourceWorldWidth_/2&&(N[0][0]-=this.sourceWorldWidth_),N[1][0]-w>this.sourceWorldWidth_/2&&(N[1][0]-=this.sourceWorldWidth_),N[2][0]-w>this.sourceWorldWidth_/2&&(N[2][0]-=this.sourceWorldWidth_);const O=Math.min(N[0][0],N[1][0],N[2][0]);Math.max(N[0][0],N[1][0],N[2][0])-O<this.sourceWorldWidth_/2&&(R.source=N)}})}h={}}addTriangle_(e,t,i,a,o,c){this.triangles_.push({source:[a,o,c],target:[e,t,i]})}addQuad_(e,t,i,a,o,c,h,f,g){const m=jn([o,c,h,f]),y=this.sourceWorldWidth_?Ve(m)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&y>.5&&y<1;let v=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const S=jn([e,t,i,a]);v=Ve(S)/this.targetWorldWidth_>$0||v}!x&&this.sourceProj_.isGlobal()&&y&&(v=y>$0||v)}if(!v&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!qt(m,this.maxSourceExtent_))return;let C=0;if(!v&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(f[0])||!isFinite(f[1]))){if(g>0)v=!0;else if(C=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),C!=1&&C!=2&&C!=4&&C!=8)return}if(g>0){if(!v){const S=[(e[0]+i[0])/2,(e[1]+i[1])/2],T=this.transformInv_(S);let w;x?w=(er(o[0],p)+er(h[0],p))/2-er(T[0],p):w=(o[0]+h[0])/2-T[0];const R=(o[1]+h[1])/2-T[1];v=w*w+R*R>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const S=[(t[0]+i[0])/2,(t[1]+i[1])/2],T=this.transformInv_(S),w=[(a[0]+e[0])/2,(a[1]+e[1])/2],R=this.transformInv_(w);this.addQuad_(e,t,S,w,o,c,T,R,g-1),this.addQuad_(w,S,i,a,R,T,h,f,g-1)}else{const S=[(e[0]+t[0])/2,(e[1]+t[1])/2],T=this.transformInv_(S),w=[(i[0]+a[0])/2,(i[1]+a[1])/2],R=this.transformInv_(w);this.addQuad_(e,S,w,a,o,T,R,f,g-1),this.addQuad_(S,t,i,w,T,c,h,R,g-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(C&11)==0&&this.addTriangle_(e,i,a,o,h,f),(C&14)==0&&this.addTriangle_(e,i,t,o,h,c),C&&((C&13)==0&&this.addTriangle_(t,a,e,c,f,o),(C&7)==0&&this.addTriangle_(t,a,i,c,f,h))}calculateSourceExtent(){const e=Ln();return this.triangles_.forEach(function(t,i,a){const o=t.source;Fl(e,o[0]),Fl(e,o[1]),Fl(e,o[2])}),e}getTriangles(){return this.triangles_}}let dd;const fa=[];function ex(r,e,t,i,a){r.beginPath(),r.moveTo(0,0),r.lineTo(e,t),r.lineTo(i,a),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(e,i)+1,Math.max(t,a)),r.restore()}function gd(r,e){return Math.abs(r[e*4]-210)>2||Math.abs(r[e*4+3]-.75*255)>2}function oM(){if(dd===void 0){const r=Zt(6,6,fa);r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",ex(r,4,5,4,0),ex(r,4,5,0,5);const e=r.getImageData(0,0,3,3).data;dd=gd(e,0)||gd(e,4)||gd(e,8),Oc(r),fa.push(r.canvas)}return dd}function tx(r,e,t,i){const a=xg(t,e,r);let o=g0(e,i,t);const c=e.getMetersPerUnit();c!==void 0&&(o*=c);const h=r.getMetersPerUnit();h!==void 0&&(o/=h);const f=r.getExtent();if(!f||Sc(f,a)){const g=g0(r,o,a)/o;isFinite(g)&&g>0&&(o/=g)}return o}function uM(r,e,t,i){const a=ar(t);let o=tx(r,e,a,i);return(!isFinite(o)||o<=0)&&c1(t,function(c){return o=tx(r,e,c,i),isFinite(o)&&o>0}),o}function cM(r,e,t,i,a,o,c,h,f,g,m,y){const p=Zt(Math.round(t*r),Math.round(t*e),fa);if(y||(p.imageSmoothingEnabled=!1),f.length===0)return p.canvas;p.scale(t,t);function x(N){return Math.round(N*t)/t}p.globalCompositeOperation="lighter";const v=Ln();f.forEach(function(N,O,j){o1(v,N.extent)});const C=Ve(v),S=di(v),T=Zt(Math.round(t*C/i),Math.round(t*S/i),fa);y||(T.imageSmoothingEnabled=!1);const w=t/i;f.forEach(function(N,O,j){const X=N.extent[0]-v[0],q=-(N.extent[3]-v[3]),Z=Ve(N.extent),ie=di(N.extent);N.image.width>0&&N.image.height>0&&T.drawImage(N.image,g,g,N.image.width-2*g,N.image.height-2*g,X*w,q*w,Z*w,ie*w)});const R=cr(c);return h.getTriangles().forEach(function(N,O,j){const X=N.source,q=N.target;let Z=X[0][0],ie=X[0][1],re=X[1][0],se=X[1][1],oe=X[2][0],ae=X[2][1];const te=x((q[0][0]-R[0])/o),L=x(-(q[0][1]-R[1])/o),P=x((q[1][0]-R[0])/o),K=x(-(q[1][1]-R[1])/o),ne=x((q[2][0]-R[0])/o),A=x(-(q[2][1]-R[1])/o),k=Z,I=ie;Z=0,ie=0,re-=k,se-=I,oe-=k,ae-=I;const Q=[[re,se,0,0,P-te],[oe,ae,0,0,ne-te],[0,0,re,se,K-L],[0,0,oe,ae,A-L]],ee=vw(Q);if(ee){if(p.save(),p.beginPath(),oM()||!y){p.moveTo(P,K);const le=4,ce=te-P,Me=L-K;for(let pe=0;pe<le;pe++)p.lineTo(P+x((pe+1)*ce/le),K+x(pe*Me/(le-1))),pe!=le-1&&p.lineTo(P+x((pe+1)*ce/le),K+x((pe+1)*Me/(le-1)));p.lineTo(ne,A)}else p.moveTo(P,K),p.lineTo(te,L),p.lineTo(ne,A);p.clip(),p.transform(ee[0],ee[2],ee[1],ee[3],te,L),p.translate(v[0]-k,v[3]-I),p.scale(i/t,-i/t),p.drawImage(T.canvas,0,0),p.restore()}}),Oc(T),fa.push(T.canvas),m&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,h.getTriangles().forEach(function(N,O,j){const X=N.target,q=(X[0][0]-R[0])/o,Z=-(X[0][1]-R[1])/o,ie=(X[1][0]-R[0])/o,re=-(X[1][1]-R[1])/o,se=(X[2][0]-R[0])/o,oe=-(X[2][1]-R[1])/o;p.beginPath(),p.moveTo(ie,re),p.lineTo(q,Z),p.lineTo(se,oe),p.closePath(),p.stroke()}),p.restore()),p.canvas}class Xd extends Q1{constructor(e,t,i,a,o,c,h,f,g,m,y,p){super(o,de.IDLE,{interpolate:!!p}),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=a,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const x=a.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let C=this.sourceTileGrid_.getExtent();const S=v?Il(x,v):x;if(Md(S)===0){this.state=de.EMPTY;return}const T=e.getExtent();T&&(C?C=Il(C,T):C=T);const w=a.getResolution(this.wrappedTileCoord_[0]),R=uM(e,i,S,w);if(!isFinite(R)||R<=0){this.state=de.EMPTY;return}const N=m!==void 0?m:rM;if(this.triangulation_=new lM(e,i,S,C,R*N,w),this.triangulation_.getTriangles().length===0){this.state=de.EMPTY;return}this.sourceZ_=t.getZForResolution(R);let O=this.triangulation_.calculateSourceExtent();if(C&&(e.canWrapX()?(O[1]=ct(O[1],C[1],C[3]),O[3]=ct(O[3],C[1],C[3])):O=Il(O,C)),!Md(O))this.state=de.EMPTY;else{const j=t.getTileRangeForExtentAndZ(O,this.sourceZ_);for(let X=j.minX;X<=j.maxX;X++)for(let q=j.minY;q<=j.maxY;q++){const Z=g(this.sourceZ_,X,q,h);Z&&this.sourceTiles_.push(Z)}this.sourceTiles_.length===0&&(this.state=de.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&t.getState()==de.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=de.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),a=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],c=this.targetTileGrid_.getResolution(t),h=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=cM(a,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,f,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=de.LOADED}this.changed()}load(){if(this.state==de.IDLE){this.state=de.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const i=t.getState();if(i==de.IDLE||i==de.LOADING){e++;const a=Le(t,xe.CHANGE,function(o){const c=t.getState();(c==de.LOADED||c==de.ERROR||c==de.EMPTY)&&(He(a),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,i,a){t.getState()==de.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(He),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Oc(this.canvas_.getContext("2d")),fa.push(this.canvas_),this.canvas_=null),super.release()}}class hM extends q1{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Ln(),this.tmpTileRange_=new kg(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),a=t.getUseInterimTilesOnError();return i==de.LOADED||i==de.EMPTY||i==de.ERROR&&!a}getTile(e,t,i,a){const o=a.pixelRatio,c=a.viewState.projection,h=this.getLayer();let g=h.getSource().getTile(e,t,i,o,c);return g.getState()==de.ERROR&&h.getUseInterimTilesOnError()&&h.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(g)||(g=g.getInterimTile()),g}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),a=St(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Sc(o,a))return null;const c=t.pixelRatio,h=t.viewState.projection,f=t.viewState,g=i.getRenderSource(),m=g.getTileGridForProjection(f.projection),y=g.getTilePixelRatio(t.pixelRatio);for(let p=m.getZForResolution(f.resolution);p>=m.getMinZoom();--p){const x=m.getTileCoordForCoordAndZ(a,p),v=g.getTile(p,x[1],x[2],c,h);if(!(v instanceof J1||v instanceof Xd)||v instanceof Xd&&v.getState()===de.EMPTY)return null;if(v.getState()!==de.LOADED)continue;const C=m.getOrigin(p),S=_n(m.getTileSize(p)),T=m.getResolution(p),w=Math.floor(y*((a[0]-C[0])/T-x[1]*S[0])),R=Math.floor(y*((C[1]-a[1])/T-x[2]*S[1])),N=Math.round(y*g.getGutterForProjection(f.projection));return this.getImageData(v.getImage(),w+N,R+N)}return null}loadedTileCallback(e,t,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,t,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],a=e.viewState,o=a.projection,c=a.resolution,h=a.center,f=a.rotation,g=e.pixelRatio,m=this.getLayer(),y=m.getSource(),p=y.getRevision(),x=y.getTileGridForProjection(o),v=x.getZForResolution(c,y.zDirection),C=x.getResolution(v);let S=e.extent;const T=e.viewState.resolution,w=y.getTilePixelRatio(g),R=Math.round(Ve(S)/T*g),N=Math.round(di(S)/T*g),O=i.extent&&_s(i.extent);O&&(S=Il(S,_s(i.extent)));const j=C*R/2/w,X=C*N/2/w,q=[h[0]-j,h[1]-X,h[0]+j,h[1]+X],Z=x.getTileRangeForExtentAndZ(S,v),ie={};ie[v]={};const re=this.createLoadedTileFinder(y,o,ie),se=this.tmpExtent,oe=this.tmpTileRange_;this.newTiles_=!1;const ae=f?Ld(a.center,T,f,e.size):void 0;for(let Q=Z.minX;Q<=Z.maxX;++Q)for(let ee=Z.minY;ee<=Z.maxY;++ee){if(f&&!x.tileCoordIntersectsViewport([v,Q,ee],ae))continue;const le=this.getTile(v,Q,ee,e);if(this.isDrawableTile(le)){const pe=ve(this);if(le.getState()==de.LOADED){ie[v][le.tileCoord.toString()]=le;let rt=le.inTransition(pe);rt&&i.opacity!==1&&(le.endTransition(pe),rt=!1),!this.newTiles_&&(rt||!this.renderedTiles.includes(le))&&(this.newTiles_=!0)}if(le.getAlpha(pe,e.time)===1)continue}const ce=x.getTileCoordChildTileRange(le.tileCoord,oe,se);let Me=!1;ce&&(Me=re(v+1,ce)),Me||x.forEachTileCoordParentTileRange(le.tileCoord,re,oe,se)}const te=C/c*g/w;Es(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/g,1/g,f,-R/2,-N/2);const L=r1(this.pixelTransform);this.useContainer(t,L,this.getBackground(e));const P=this.context,K=P.canvas;ug(this.inversePixelTransform,this.pixelTransform),Es(this.tempTransform,R/2,N/2,te,te,0,-R/2,-N/2),K.width!=R||K.height!=N?(K.width=R,K.height=N):this.containerReused||P.clearRect(0,0,R,N),O&&this.clipUnrotated(P,e,O),y.getInterpolate()||(P.imageSmoothingEnabled=!1),this.preRender(P,e),this.renderedTiles.length=0;let ne=Object.keys(ie).map(Number);ne.sort(sr);let A,k,I;i.opacity===1&&(!this.containerReused||y.getOpaque(e.viewState.projection))?ne=ne.reverse():(A=[],k=[]);for(let Q=ne.length-1;Q>=0;--Q){const ee=ne[Q],le=y.getTilePixelSize(ee,g,o),Me=x.getResolution(ee)/C,pe=le[0]*Me*te,rt=le[1]*Me*te,pn=x.getTileCoordForCoordAndZ(cr(q),ee),Nn=x.getTileCoordExtent(pn),xn=St(this.tempTransform,[w*(Nn[0]-q[0])/C,w*(q[3]-Nn[3])/C]),Jn=w*y.getGutterForProjection(o),Kt=ie[ee];for(const gi in Kt){const Ee=Kt[gi],De=Ee.tileCoord,Ct=pn[1]-De[1],Ot=Math.round(xn[0]-(Ct-1)*pe),nn=pn[2]-De[2],$n=Math.round(xn[1]-(nn-1)*rt),Lt=Math.round(xn[0]-Ct*pe),Xt=Math.round(xn[1]-nn*rt),sn=Ot-Lt,Fn=$n-Xt,vn=v===ee,Je=vn&&Ee.getAlpha(ve(this),e.time)!==1;let bt=!1;if(!Je)if(A){I=[Lt,Xt,Lt+sn,Xt,Lt+sn,Xt+Fn,Lt,Xt+Fn];for(let at=0,fr=A.length;at<fr;++at)if(v!==ee&&ee<k[at]){const Tt=A[at];qt([Lt,Xt,Lt+sn,Xt+Fn],[Tt[0],Tt[3],Tt[4],Tt[7]])&&(bt||(P.save(),bt=!0),P.beginPath(),P.moveTo(I[0],I[1]),P.lineTo(I[2],I[3]),P.lineTo(I[4],I[5]),P.lineTo(I[6],I[7]),P.moveTo(Tt[6],Tt[7]),P.lineTo(Tt[4],Tt[5]),P.lineTo(Tt[2],Tt[3]),P.lineTo(Tt[0],Tt[1]),P.clip())}A.push(I),k.push(ee)}else P.clearRect(Lt,Xt,sn,Fn);this.drawTileImage(Ee,e,Lt,Xt,sn,Fn,Jn,vn),A&&!Je?(bt&&P.restore(),this.renderedTiles.unshift(Ee)):this.renderedTiles.push(Ee),this.updateUsedTiles(e.usedTiles,y,Ee)}}return this.renderedRevision=p,this.renderedResolution=C,this.extentChanged=!this.renderedExtent_||!jl(this.renderedExtent_,q),this.renderedExtent_=q,this.renderedPixelRatio=g,this.renderedProjection=o,this.manageTilePyramid(e,y,x,g,o,S,v,m.getPreload()),this.scheduleExpireCache(e,y),this.postRender(P,e),i.extent&&P.restore(),P.imageSmoothingEnabled=!0,L!==K.style.transform&&(K.style.transform=L),this.container}drawTileImage(e,t,i,a,o,c,h,f){const g=this.getTileImage(e);if(!g)return;const m=ve(this),y=t.layerStatesArray[t.layerIndex],p=y.opacity*(f?e.getAlpha(m,t.time):1),x=p!==this.context.globalAlpha;x&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(g,h,h,g.width-2*h,g.height-2*h,i,a,o,c),x&&this.context.restore(),p!==y.opacity?t.animate=!0:f&&e.endTransition(m)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=(function(a,o,c){const h=ve(a);h in c.usedTiles&&a.expireCache(c.viewState.projection,c.usedTiles[h])}).bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const a=ve(t);a in e||(e[a]={}),e[a][i.getKey()]=!0}manageTilePyramid(e,t,i,a,o,c,h,f,g){const m=ve(t);m in e.wantedTiles||(e.wantedTiles[m]={});const y=e.wantedTiles[m],p=e.tileQueue,x=i.getMinZoom(),v=e.viewState.rotation,C=v?Ld(e.viewState.center,e.viewState.resolution,v,e.size):void 0;let S=0,T,w,R,N,O,j;for(j=x;j<=h;++j)for(w=i.getTileRangeForExtentAndZ(c,j,w),R=i.getResolution(j),N=w.minX;N<=w.maxX;++N)for(O=w.minY;O<=w.maxY;++O)v&&!i.tileCoordIntersectsViewport([j,N,O],C)||(h-j<=f?(++S,T=t.getTile(j,N,O,a,o),T.getState()==de.IDLE&&(y[T.getKey()]=!0,p.isKeyQueued(T.getKey())||p.enqueue([T,m,i.getTileCoordCenter(T.tileCoord),R])),g!==void 0&&g(T)):t.useTile(j,N,O,o));t.updateCacheSize(S,o)}}class nx extends sM{constructor(e){super(e)}createRenderer(){return new hM(this)}}const md={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},sa=[0,0,0],ds=5;class dv{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Re(HR(this.resolutions_,function(a,o){return o-a}),17);let t;if(!e.origins){for(let a=0,o=this.resolutions_.length-1;a<o;++a)if(!t)t=this.resolutions_[a]/this.resolutions_[a+1];else if(this.resolutions_[a]/this.resolutions_[a+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Re(this.origins_.length==this.resolutions_.length,20));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=cr(i)),Re(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Re(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Og,Re(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(a,o){const c=new kg(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(i){const h=this.getTileRangeForExtentAndZ(i,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const a=this.getTileRangeForExtentAndZ(e,t);for(let o=a.minX,c=a.maxX;o<=c;++o)for(let h=a.minY,f=a.maxY;h<=f;++h)i([t,o,h])}forEachTileCoordParentTileRange(e,t,i,a){let o,c,h,f=null,g=e[0]-1;for(this.zoomFactor_===2?(c=e[1],h=e[2]):f=this.getTileCoordExtent(e,a);g>=this.minZoom;){if(this.zoomFactor_===2?(c=Math.floor(c/2),h=Math.floor(h/2),o=ia(c,c,h,h,i)):o=this.getTileRangeForExtentAndZ(f,g,i),t(g,o))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,c=e[2]*2;return ia(o,o+1,c,c+1,t)}const a=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const a=e[0],o=e[1],c=e[2];if(t===a)return ia(o,c,o,c,i);if(this.zoomFactor_){const f=Math.pow(this.zoomFactor_,t-a),g=Math.floor(o*f),m=Math.floor(c*f);if(t<a)return ia(g,g,m,m,i);const y=Math.floor(f*(o+1))-1,p=Math.floor(f*(c+1))-1;return ia(g,y,m,p,i)}const h=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,t,i)}getTileRangeExtent(e,t,i){const a=this.getOrigin(e),o=this.getResolution(e),c=_n(this.getTileSize(e),this.tmpSize_),h=a[0]+t.minX*c[0]*o,f=a[0]+(t.maxX+1)*c[0]*o,g=a[1]+t.minY*c[1]*o,m=a[1]+(t.maxY+1)*c[1]*o;return Gi(h,g,f,m,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,sa);const a=sa[1],o=sa[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,sa);const c=sa[1],h=sa[2];return ia(a,c,o,h,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),a=_n(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*a[0]*i,t[1]-(e[2]+.5)*a[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),a=this.getResolution(e[0]),o=_n(this.getTileSize(e[0]),this.tmpSize_),c=i[0]+e[1]*o[0]*a,h=i[1]-(e[2]+1)*o[1]*a,f=c+o[0]*a,g=h+o[1]*a;return Gi(c,h,f,g,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,a,o){const c=this.getZForResolution(i),h=i/this.getResolution(c),f=this.getOrigin(c),g=_n(this.getTileSize(c),this.tmpSize_);let m=h*(e-f[0])/i/g[0],y=h*(f[1]-t)/i/g[1];return a?(m=Mu(m,ds)-1,y=Mu(y,ds)-1):(m=Au(m,ds),y=Au(y,ds)),q0(c,m,y,o)}getTileCoordForXYAndZ_(e,t,i,a,o){const c=this.getOrigin(i),h=this.getResolution(i),f=_n(this.getTileSize(i),this.tmpSize_);let g=(e-c[0])/h/f[0],m=(c[1]-t)/h/f[1];return a?(g=Mu(g,ds)-1,m=Mu(m,ds)-1):(g=Au(g,ds),m=Au(m,ds)),q0(i,g,m,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=lg(this.resolutions_,e,t||0);return ct(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return w1(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let a=this.minZoom;a<t;++a)i[a]=this.getTileRangeForExtentAndZ(e,a);this.fullTileRanges_=i}}function gv(r){let e=r.getDefaultTileGrid();return e||(e=mM(r),r.setDefaultTileGrid(e)),e}function fM(r,e,t){const i=e[0],a=r.getTileCoordCenter(e),o=jg(t);if(!Sc(o,a)){const c=Ve(o),h=Math.ceil((o[0]-a[0])/c);return a[0]+=c*h,r.getTileCoordForCoordAndZ(a,i)}return e}function dM(r,e,t,i){i=i!==void 0?i:"top-left";const a=mv(r,e,t);return new dv({extent:r,origin:aw(r,i),resolutions:a,tileSize:t})}function gM(r){const e=r||{},t=e.extent||_t("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:mv(t,e.maxZoom,e.tileSize,e.maxResolution)};return new dv(i)}function mv(r,e,t,i){e=e!==void 0?e:g2,t=_n(t!==void 0?t:Og);const a=di(r),o=Ve(r);i=i>0?i:Math.max(o/t[0],a/t[1]);const c=e+1,h=new Array(c);for(let f=0;f<c;++f)h[f]=i/Math.pow(2,f);return h}function mM(r,e,t,i){const a=jg(r);return dM(a,e,t,i)}function jg(r){r=_t(r);let e=r.getExtent();if(!e){const t=180*fg.degrees/r.getMetersPerUnit();e=Gi(-t,-t,t,t)}return e}class _M extends W1{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&_n(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new fv(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,a){const o=this.getTileCacheForProjection(e);if(!o)return!1;let c=!0,h,f,g;for(let m=i.minX;m<=i.maxX;++m)for(let y=i.minY;y<=i.maxY;++y)f=Fc(t,m,y),g=!1,o.containsKey(f)&&(h=o.get(f),g=h.getState()===de.LOADED,g&&(g=a(h)!==!1)),g||(c=!1);return c}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,a,o){return ye()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:gv(e)}getTileCacheForProjection(e){const t=this.getProjection();return Re(t===null||Hs(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const a=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),c=_n(a.getTileSize(e),this.tmpSize);return o==1?c:Kw(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=fM(i,e,t)),WA(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,a){}}class yM extends Wn{constructor(e,t){super(e),this.tile=t}}function pM(r,e){const t=/\{z\}/g,i=/\{x\}/g,a=/\{y\}/g,o=/\{-y\}/g;return function(c,h,f){if(c)return r.replace(t,c[0].toString()).replace(i,c[1].toString()).replace(a,c[2].toString()).replace(o,function(){const g=c[0],m=e.getFullTileRange(g);return Re(m,55),(m.getHeight()-c[2]-1).toString()})}}function xM(r,e){const t=r.length,i=new Array(t);for(let a=0;a<t;++a)i[a]=pM(r[a],e);return vM(i)}function vM(r){return r.length===1?r[0]:function(e,t,i){if(!e)return;const a=KA(e),o=er(a,r.length);return r[o](e,t,i)}}function EM(r){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(r);if(t){const i=t[1].charCodeAt(0),a=t[2].charCodeAt(0);let o;for(o=i;o<=a;++o)e.push(r.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){const i=parseInt(t[2],10);for(let a=parseInt(t[1],10);a<=i;a++)e.push(r.replace(t[0],a.toString()));return e}return e.push(r),e}class Ug extends _M{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Ug.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=ve(t),a=t.getState();let o;a==de.LOADING?(this.tileLoadingKeys_[i]=!0,o=md.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=a==de.ERROR?md.TILELOADERROR:a==de.LOADED?md.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new yM(o,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=EM(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(xM(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const a=Fc(e,t,i);this.tileCache.containsKey(a)&&this.tileCache.get(a)}}class SM extends Ug{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:CM,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:J1,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const a in this.tileCacheForProjection){const o=this.tileCacheForProjection[a];o.expireCache(o==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Hs(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Hs(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Hs(t,e)))return this.tileGrid;const i=ve(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=gv(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||Hs(t,e))return this.tileCache;const i=ve(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new fv(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,a,o,c){const h=[e,t,i],f=this.getTileCoordForTileUrlFunction(h,o),g=f?this.tileUrlFunction(f,a,o):void 0,m=new this.tileClass(h,g!==void 0?de.IDLE:de.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(xe.CHANGE,this.handleTileChange.bind(this)),m}getTile(e,t,i,a,o){const c=this.getProjection();if(!c||!o||Hs(c,o))return this.getTileInternal(e,t,i,a,c||o);const h=this.getTileCacheForProjection(o),f=[e,t,i];let g;const m=hv(f);h.containsKey(m)&&(g=h.get(m));const y=this.getKey();if(g&&g.key==y)return g;const p=this.getTileGridForProjection(c),x=this.getTileGridForProjection(o),v=this.getTileCoordForTileUrlFunction(f,o),C=new Xd(c,p,o,x,f,v,this.getTilePixelRatio(a),this.getGutter(),(S,T,w,R)=>this.getTileInternal(S,T,w,R,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return C.key=y,g?(C.interimTile=g,C.refreshInterimChain(),h.replace(m,C)):h.set(m,C),C}getTileInternal(e,t,i,a,o){let c=null;const h=Fc(e,t,i),f=this.getKey();if(!this.tileCache.containsKey(h))c=this.createTile_(e,t,i,a,o,f),this.tileCache.set(h,c);else if(c=this.tileCache.get(h),c.key!=f){const g=c;c=this.createTile_(e,t,i,a,o,f),g.getState()==de.IDLE?c.interimTile=g.interimTile:c.interimTile=g,c.refreshInterimChain(),this.tileCache.replace(h,c)}return c}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const i=_t(e);if(i){const a=ve(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function CM(r,e){r.getImage().src=e}class _v extends SM{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:gM({extent:jg(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const bM='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class TM extends _v{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[bM];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",a=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:a,wrapX:e.wrapX,zDirection:e.zDirection})}}let _d=null,yd=null;function RM(r,[e,t]){_d=new nx({source:new TM,visible:!1,title:"OSM Base",preload:1/0}),yd=new nx({source:new _v({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attributions:"UB  Satlite"}),visible:!0,title:"ESRI Sat",preload:1/0});const i=new HA({target:r,layers:[yd,_d],view:new ui({center:yg([t,e]),zoom:15,maxZoom:17,minZoom:4,rotation:0,constrainRotation:!1}),controls:[],interactions:ov().extend([new lv({condition:a=>qu(a)&&a.originalEvent.button===1})])});return window._ol_map_instance=i,window.osm=_d,window.esriSat=yd,i}function Cs([r,e]){return yg([r,e])}function yv({mode:r="edit",isDeleteMode:e=!1,onToggleDeleteMode:t=()=>{},onCancel:i=()=>{},onSave:a=()=>{},showDelete:o=!0,showCancel:c=!0,showSave:h=!0}){return r!=="edit"?null:F.jsxs(F.Fragment,{children:[o&&F.jsx("button",{onClick:t,className:`p-3 rounded-full shadow-md flex items-center justify-center ${e?"bg-red-600":"bg-white"}`,title:"Eliminar vrtices",children:F.jsx(bb,{className:"w-6 h-6"})}),c&&F.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar edicin",children:F.jsx(Ax,{className:"w-6 h-6"})}),h&&F.jsx("button",{onClick:a,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Guardar cambios",children:F.jsx(wx,{className:"w-6 h-6"})})]})}function pv({isOpen:r,title:e,message:t,onConfirm:i,onCancel:a,confirmLabel:o="Aceptar",cancelLabel:c="Cancelar"}){return D.useEffect(()=>{if(r){const h=setTimeout(()=>{const f=document.querySelector(".modal-primary-button");f&&f.focus()},50);return()=>clearTimeout(h)}},[r]),r?bx.createPortal(F.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:F.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg max-w-sm w-full text-center",children:[e&&F.jsx("h2",{className:"text-lg font-bold mb-2",children:e}),F.jsx("p",{className:"text-sm text-gray-700 mb-4",children:t}),F.jsxs("div",{className:"flex justify-end gap-2",children:[F.jsx("button",{onClick:a,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-sm",children:c}),F.jsx("button",{onClick:i,className:"modal-primary-button px-4 py-2 rounded bg-black hover:bg-gray-700 text-white text-sm",children:o})]})]})}),document.body):null}function Bg({isOpen:r,message:e,onClose:t}){return D.useEffect(()=>{if(r){const i=setTimeout(()=>{const a=document.querySelector(".modal-primary-button");a&&a.focus()},50);return()=>clearTimeout(i)}},[r]),r?bx.createPortal(F.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:F.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg w-full max-w-sm text-center",children:[F.jsx("p",{className:"text-sm text-gray-700 mb-4",children:e}),F.jsx("button",{onClick:t,className:"modal-primary-button bg-black text-white px-4 py-2 rounded",children:"OK"})]})}),document.body):null}const Yn={modeRef:{current:null},onFinishCallback:{current:null}};function wM(){const[r,e]=D.useState(null),[t,i]=D.useState(0),[a,o]=D.useState("Click para colocar el primer vrtice");return{polygonMode:r,setMode:f=>{Yn.modeRef.current=f,e(f)},resetPolygonState:()=>{Yn.modeRef.current=null,Yn.onFinishCallback.current=null,e(null),i(0),o("Click para colocar el primer vrtice")},area:t,setArea:i,tooltipText:a,setTooltipText:o}}class AM{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?_t(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=_t(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return ye()}readFeature(e,t){return ye()}readFeatures(e,t){return ye()}readGeometry(e,t){return ye()}readProjection(e){return ye()}writeFeature(e,t){return ye()}writeFeatures(e,t){return ye()}writeGeometry(e,t){return ye()}}function xv(r,e,t){const i=t?_t(t.featureProjection):null,a=t?_t(t.dataProjection):null;let o;if(i&&a&&!Hs(i,a)?o=(e?r.clone():r).transform(e?i:a,e?a:i):o=r,e&&t&&t.decimals!==void 0){const c=Math.pow(10,t.decimals),h=function(f){for(let g=0,m=f.length;g<m;++g)f[g]=Math.round(f[g]*c)/c;return f};o===r&&(o=r.clone()),o.applyTransform(h)}return o}class MM extends AM{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Gu(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Gu(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return ye()}readFeaturesFromObject(e,t){return ye()}readGeometry(e,t){return this.readGeometryFromObject(Gu(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return ye()}readProjection(e){return this.readProjectionFromObject(Gu(e))}readProjectionFromObject(e){return ye()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return ye()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return ye()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return ye()}}function Gu(r){if(typeof r=="string"){const e=JSON.parse(r);return e||null}else if(r!==null)return r;return null}class Yg extends MM{constructor(e){e=e||{},super(),this.dataProjection=_t(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=_t(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const a=Hd(i.geometry,t),o=new Bt;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&o.setGeometryName(i.geometry_name),o.setGeometry(a),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(e,t){const i=e;let a=null;if(i.type==="FeatureCollection"){const o=e;a=[];const c=o.features;for(let h=0,f=c.length;h<f;++h)a.push(this.readFeatureFromObject(c[h],t))}else a=[this.readFeatureFromObject(e,t)];return a}readGeometryFromObject(e,t){return Hd(e,t)}readProjectionFromObject(e){const t=e.crs;let i;return t?t.type=="name"?i=_t(t.properties.name):t.type==="EPSG"?i=_t("EPSG:"+t.properties.code):Re(!1,36):i=this.dataProjection,i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},a=e.getId();if(a!==void 0&&(i.id=a),!e.hasProperties())return i;const o=e.getProperties(),c=e.getGeometry();return c&&(i.geometry=Vd(c,t),delete o[e.getGeometryName()]),_a(o)||(i.properties=o),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let a=0,o=e.length;a<o;++a)i.push(this.writeFeatureObject(e[a],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return Vd(e,this.adaptOptions(t))}}function Hd(r,e){if(!r)return null;let t;switch(r.type){case"Point":{t=LM(r);break}case"LineString":{t=DM(r);break}case"Polygon":{t=zM(r);break}case"MultiPoint":{t=FM(r);break}case"MultiLineString":{t=NM(r);break}case"MultiPolygon":{t=IM(r);break}case"GeometryCollection":{t=OM(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return xv(t,!1,e)}function OM(r,e){const t=r.geometries.map(function(i){return Hd(i,e)});return new lc(t)}function LM(r){return new Dn(r.coordinates)}function DM(r){return new lr(r.coordinates)}function NM(r){return new oc(r.coordinates)}function FM(r){return new Ic(r.coordinates)}function IM(r){return new uc(r.coordinates)}function zM(r){return new jt(r.coordinates)}function Vd(r,e){r=xv(r,!0,e);const t=r.getType();let i;switch(t){case"Point":{i=BM(r);break}case"LineString":{i=kM(r);break}case"Polygon":{i=YM(r,e);break}case"MultiPoint":{i=jM(r);break}case"MultiLineString":{i=GM(r);break}case"MultiPolygon":{i=UM(r,e);break}case"GeometryCollection":{i=PM(r,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function PM(r,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:r.getGeometriesArray().map(function(i){return Vd(i,e)})}}function kM(r,e){return{type:"LineString",coordinates:r.getCoordinates()}}function GM(r,e){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function jM(r,e){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function UM(r,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(t)}}function BM(r,e){return{type:"Point",coordinates:r.getCoordinates()}}function YM(r,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(t)}}const Ut={base:new nt({stroke:new Mt({color:"#FFFFFF",width:5}),fill:new kt({color:"rgba(255, 255, 255, 0.05)"})}),draw:new nt({stroke:new Mt({color:"#FF4D00",width:4,lineDash:[0,0,10,10]}),fill:new kt({color:"rgba(255, 77, 0, 0.2)"})}),edit:new nt({stroke:new Mt({color:"#00FFFF",width:4,lineDash:[0,0,10,10]}),fill:new kt({color:"rgba(0, 255, 255, 0.15)"})}),vertexEdit:new nt({image:new Bn({radius:6,fill:new kt({color:"#00FFFF"}),stroke:new Mt({color:"#FFFFFF",width:3})})}),vertexIntermediate:new nt({image:new Bn({radius:4.5,fill:new kt({color:"#777777"}),stroke:new Mt({color:"#FFFFFF",width:2.5})})}),vertexDelete:new nt({image:new Bn({radius:6,fill:new kt({color:"#860000"}),stroke:new Mt({color:"#FF0000",width:4})})}),vertexDraw:new nt({image:new Bn({radius:6,fill:new kt({color:"#FF4D00"}),stroke:new Mt({color:"#FFFFFF",width:3})})}),previewVertex:new nt({image:new Bn({radius:6,fill:new kt({color:"#777777"}),stroke:new Mt({color:"#FFFFFF",width:3})})}),previewVertexSnap:new nt({image:new Bn({radius:6,fill:new kt({color:"#FFFFFF"}),stroke:new Mt({color:"#FF4D00",width:3})})}),previewLine:new nt({stroke:new Mt({color:"#FF8300",width:4,lineDash:[0,0,10,10]})})};function XM(r,{setMode:e,setArea:t,setTooltipText:i}){const a=D.useRef([]),o=D.useRef([]),c=D.useRef(null),h=D.useRef(null),f=D.useRef(null),g=D.useRef(null),m=D.useRef(null),y=D.useRef(null),p=D.useRef(null),x=D.useRef(!1),[v,C]=D.useState(!1),[S,T]=D.useState(!1),[w,R]=D.useState(!1),N=15,O=()=>{a.current=[],o.current=[],c.current=null,h.current=null,p.current=null,C(!1),t(0),T(!1),R(!1),i("")},j=D.useRef(k=>{x.current&&Yn.modeRef.current==="draw"&&a.current.length>=3&&(T(!0),L(),k.preventDefault())}).current,X=k=>{if(!m.current||a.current.length===0)return;c.current&&m.current.removeFeature(c.current);const I=a.current[a.current.length-1],Q=new lr([I,k]);c.current=new Bt(Q),c.current.setStyle(Ut.previewLine),m.current.addFeature(c.current)},q=(k,I)=>{m.current&&(h.current?h.current.getGeometry().setCoordinates(k):(h.current=new Bt(new Dn(k)),m.current.addFeature(h.current)),h.current.setStyle(I?Ut.previewVertexSnap:Ut.previewVertex))},Z=k=>{const I=new Bt(new Dn(k));I.setStyle(Ut.vertexDraw),o.current.push(I),m.current.addFeature(I)},ie=()=>{if(!m.current||a.current.length<2)return;m.current.getFeatures().forEach(I=>{I.getGeometry()instanceof jt&&m.current.removeFeature(I)});const k=new Bt(new jt([a.current]));k.setStyle(Ut.draw),m.current.addFeature(k)},re=()=>{const k=r.current;if(!k||a.current.length<3){f.current&&(k.removeOverlay(f.current),f.current=null),t(0);return}const I=new jt([a.current]),Q=Rc(I,{projection:"EPSG:3857"});t(Q);const ee=`${(Q/1e4).toFixed(2)} ha`,le=I.getInteriorPoint().getCoordinates();if(!f.current){const ce=document.createElement("div");ce.className="area-label",ce.textContent=ee,f.current=new Yd({element:ce,positioning:"center-center",stopEvent:!1}),k.addOverlay(f.current)}f.current.getElement().textContent=ee,f.current.setPosition(le)},se=(k,I)=>{const Q=r.current;if(Q){if(!g.current){const ee=document.createElement("div");ee.className="map-tooltip",g.current=new Yd({element:ee,offset:[0,-15],positioning:"bottom-center",className:"ol-tooltip-text"}),Q.addOverlay(g.current)}g.current.getElement().textContent=k,g.current.setPosition(I)}},oe=D.useRef(k=>{if(!x.current||Yn.modeRef.current!=="draw")return;const I=r.current,Q=k.coordinate,ee=a.current[0];if(ee&&I.getPixelFromCoordinate(Q)&&I.getPixelFromCoordinate(ee)&&pd(I.getPixelFromCoordinate(Q),I.getPixelFromCoordinate(ee))<N&&a.current.length>=3){a.current.push(ee),T(!0),L();return}a.current.push(Q),Z(Q),ie(),re(),a.current.length>0?R(!0):R(!1);const Me=a.current.length===1?"Click para continuar dibujando":"Click para cerrar polgono";i(Me),se(Me,Q),C(a.current.length>=3)}).current,ae=D.useRef(k=>{if(!x.current||Yn.modeRef.current!=="draw")return;const I=r.current,Q=k.coordinate,ee=a.current[0],ce=(ee?pd(I.getPixelFromCoordinate(Q),I.getPixelFromCoordinate(ee)):1/0)<N,Me=ce?"Click sobre el primer punto para cerrar":a.current.length===0?"Click para colocar el primer vrtice":"Click para continuar dibujando";i(Me),se(Me,Q),X(Q),q(Q,ce)}).current,te=()=>{const k=r.current;k&&(P(),y.current&&k.removeLayer(y.current),m.current=new or,y.current=new Ss({source:m.current}),k.addLayer(y.current),k.on("click",oe),k.on("pointermove",ae),k.on("dblclick",j),O(),e("draw"),i("Click para colocar el primer vrtice"),document.body.classList.add("draw-mode"),f.current&&(k.removeOverlay(f.current),f.current=null),g.current&&(k.removeOverlay(g.current),g.current=null),x.current=!0)},L=()=>{const k=r.current;if(!k||a.current.length<3)return;const I=a.current[0],Q=a.current[a.current.length-1];I&&Q&&pd(I,Q)>1&&a.current.push(I),m.current&&(o.current.forEach(le=>m.current.removeFeature(le)),c.current&&m.current.removeFeature(c.current),h.current&&m.current.removeFeature(h.current),m.current.getFeatures().forEach(le=>{le.getGeometry()instanceof jt&&m.current.removeFeature(le)}));const ee=new jt([a.current]);p.current=new Bt(ee),m.current.addFeature(p.current),g.current&&(k.removeOverlay(g.current),g.current=null),document.body.classList.remove("draw-mode"),e("draw-finished"),i(""),a.current=[],o.current=[],c.current=null,h.current=null,C(!1),typeof Yn.onFinishCallback.current=="function"&&Yn.onFinishCallback.current(p.current)},P=()=>{const k=r.current;k&&(k.on("click",oe),k.on("pointermove",ae),k.on("dblclick",j),O(),g.current&&(k.removeOverlay(g.current),g.current=null),document.body.classList.remove("draw-mode"),e(null),i(""),f.current&&(k.removeOverlay(f.current),f.current=null),y.current&&(k.removeLayer(y.current),y.current=null,m.current=null),document.body.classList.remove("draw-mode"),x.current=!1)},K=()=>P(),ne=()=>{if(!a.current.length)return;a.current.pop();const k=o.current.pop();if(k&&m.current&&m.current.removeFeature(k),c.current&&m.current&&(m.current.removeFeature(c.current),c.current=null),m.current&&m.current.getFeatures().forEach(I=>{I.getGeometry()instanceof jt&&m.current.removeFeature(I)}),a.current.length>=2){const I=new Bt(new jt([a.current]));I.setStyle(Ut.draw),m.current.addFeature(I)}if(a.current.length>=1&&g.current){const I=g.current.getPosition();I&&X(I)}re(),R(a.current.length>0),C(a.current.length>=3)},A=()=>p.current||null;return D.useEffect(()=>P,[]),{enableDraw:te,disableDraw:P,cancelDraw:K,endPolygon:L,removeLastPoint:ne,getCreatedFeature:A,canFinish:v,closedBySnap:S,firstVertexDraw:w}}function pd(r,e){const t=r[0]-e[0],i=r[1]-e[1];return Math.sqrt(t*t+i*i)}function HM(r,{setMode:e},t=()=>{}){const i=D.useRef(null),a=D.useRef(null),o=D.useRef([]),c=D.useRef([]),h=D.useRef(!1),f=D.useRef(null),g=D.useRef(null),m=D.useRef(null),y=D.useRef(null),p=j=>{const X=r.current;if(!X||!j)return;S();const q=j.getGeometry();if(!q)return;e("edit");let Z;if(q.getType()==="Polygon"){const L=q.getCoordinates();Z=Array.isArray(L[0])?L[0]:[]}else if(q.getType()==="MultiPolygon"){const L=q.getCoordinates();Z=Array.isArray(L[0][0])?L[0][0]:[]}else{console.error("Tipo no soportado:",q.getType());return}if(Z.length<3)return;const ie=new or,re=new Ss({source:ie,style:Ut.edit});i.current=re,X.addLayer(re);const se=j.clone();se.setStyle(Ut.edit),ie.addFeature(se),m.current=se,X.getLayers().forEach(L=>{var K,ne;const P=(K=L.getSource)==null?void 0:K.call(L);P&&((ne=P.hasFeature)!=null&&ne.call(P,j))&&P.removeFeature(j)}),a.current=new Ss({source:new or,style:null}),X.addLayer(a.current);const oe=new JA({source:ie});f.current=oe;const ae=L=>{X.forEachFeatureAtPixel(L.pixel,P=>{P.get("insertAfter")!==void 0&&(a.current.getSource().removeFeature(P),c.current=c.current.filter(K=>K!==P))})};X.on("pointerdown",ae),f.current._pointerDownHandler=ae,X.getOverlays().getArray().forEach(L=>{const P=L.getElement();P&&P.className.includes("area-label")&&X.removeOverlay(L)});const te=()=>{var I;const L=se.getGeometry();if(!L||L.getType()!=="Polygon")return;const P=(I=L.getCoordinates())==null?void 0:I[0];if(!P||P.length<3)return;const K=new jt([P]),A=`${(Rc(K,{projection:"EPSG:3857"})/1e4).toFixed(2)} ha`,k=K.getInteriorPoint().getCoordinates();if(!y.current){const Q=document.createElement("div");Q.className="area-label",Q.textContent=A,y.current=new Yd({element:Q,positioning:"center-center",stopEvent:!1}),X.addOverlay(y.current)}y.current.getElement().textContent=A,y.current.setPosition(k)};oe.on("modifyend",L=>{const P=L.features.item(0);if(!P)return;const K=P.getGeometry(),ne=O(K);x(ne),t(N(ne)),te()}),se.getGeometry().on("change",()=>{const L=se.getGeometry(),P=O(L);x(P),t(N(P)),te()}),X.addInteraction(oe),x(Z),t(N(Z)),te()},x=j=>{var ie;const X=r.current,q=(ie=a.current)==null?void 0:ie.getSource();if(!X||!q||!Array.isArray(j)||j.length<2)return;q.clear(),o.current=[],c.current=[];const Z=j.slice(0,-1);Z.forEach((re,se)=>{const oe=new Bt(new Dn(re));oe.set("vertexIndex",se),oe.setStyle(h.current?Ut.vertexDelete:Ut.vertexEdit),q.addFeature(oe),o.current.push(oe)});for(let re=0;re<Z.length;re++){const se=Z[re],oe=Z[(re+1)%Z.length],ae=[(se[0]+oe[0])/2,(se[1]+oe[1])/2],te=new Bt(new Dn(ae));te.set("insertAfter",re),te.setStyle(Ut.vertexIntermediate),q.addFeature(te),c.current.push(te)}},v=()=>{var ie;const j=r.current,X=(ie=i.current)==null?void 0:ie.getSource(),q=w();if(!j||!X||!q)return;h.current=!0;const Z=new Gg({condition:IA,layers:[a.current],filter:re=>re.getGeometry().getType()==="Point"});o.current.forEach(re=>{re.setStyle(Ut.vertexDelete)}),Z.on("select",re=>{const se=re.selected[0],oe=se==null?void 0:se.get("vertexIndex");if(oe===void 0)return;const ae=R();ae.length<=4||(ae.splice(oe,1),ae[ae.length-1]=ae[0],q.getGeometry().setCoordinates([ae]),x(ae),t(N(ae)))}),g.current=Z,j.addInteraction(Z)},C=()=>{const j=r.current;if(!j||!g.current)return;j.removeInteraction(g.current),g.current=null,h.current=!1,o.current.forEach(q=>{q.setStyle(Ut.vertexEdit)}),w()&&x(R())},S=()=>{const j=r.current;if(j){if(i.current&&(j.removeLayer(i.current),i.current=null),a.current&&(j.removeLayer(a.current),a.current=null),f.current){j.removeInteraction(f.current);const X=f.current._pointerDownHandler;X&&j.un("pointerdown",X),f.current=null}g.current&&(j.removeInteraction(g.current),g.current=null),y.current&&(j.removeOverlay(y.current),y.current=null),o.current=[],c.current=[],h.current=!1,m.current=null,e(null)}},T=()=>m.current||null,w=()=>{var j,X;return((X=(j=i.current)==null?void 0:j.getSource())==null?void 0:X.getFeatures().find(q=>q.getGeometry().getType()==="Polygon"))||null},R=()=>{const j=w();return O(j==null?void 0:j.getGeometry())},N=j=>j.map(X=>{const[q,Z]=x1(X);return{lat:Z,lng:q}}),O=j=>{if(!j||typeof j.getCoordinates!="function")return[];const X=j.getCoordinates();return j.getType()==="Polygon"&&Array.isArray(X)&&Array.isArray(X[0])?X[0]:j.getType()==="MultiPolygon"&&Array.isArray(X)&&Array.isArray(X[0])&&Array.isArray(X[0][0])?X[0][0]:[]};return{activateEditMode:p,clearEdit:S,getEditedFeature:T,activateDeleteMode:v,disableDeleteMode:C}}function vv(r,e=()=>{}){const t=wM(),i=XM(r,{setMode:t.setMode,setArea:t.setArea,setTooltipText:t.setTooltipText}),a=HM(r,{setMode:t.setMode},e);return{...t,...i,...a}}function nr(r){if(!r)return 0;try{return Rc(r,{projection:"EPSG:3857"})}catch{return 0}}function Xg({mapRef:r,parcelas:e,formData:t,clearEdit:i,activateEditMode:a,getCreatedFeature:o,setFormData:c,setAreaCampo:h,setAreaParcela:f,enabled:g=!0,modoVisualizacionCampo:m=!1}){const y=D.useRef(null),p=D.useRef([]),x=()=>{const S=r.current;S&&(p.current.forEach(T=>S.removeLayer(T)),p.current=[],S.getLayers().getArray().forEach(T=>{var R;((R=T.getStyle)==null?void 0:R.call(T))===Ut.edit&&S.removeLayer(T)}))},v=S=>{var R;const T=r.current;if(!T)return;const w=o();if((R=w==null?void 0:w.getGeometry())!=null&&R.intersectsCoordinate(S.coordinate)){i(),a(w);return}T.forEachFeatureAtPixel(S.pixel,N=>{if(!N||!N.getGeometry())return;const O=N.getGeometry().getType();if(O!=="Polygon"&&O!=="MultiPolygon")return;const j=N.getId()||N.get("parcela_id"),X=t.campo_id,q=(e[X]||[]).find(Z=>Z.id==j);if(q){c(m?Z=>({...Z,parcela_id:q.id}):{campo_id:X,parcela_id:q.id,nombre:q.nombre||"",descripcion:q.descripcion||""});try{const Z=N.clone();Z.setId(q.id),a(Z)}catch(Z){console.error("Error al clonar feature:",Z)}}})},C=()=>{const S=r.current;if(!S||!t.campo_id)return;i(),x(),y.current&&(S.un("click",y.current),y.current=null),m||(S.on("click",v),y.current=v);const T=e[t.campo_id]||[],w=new Yg;let R=0;if(m){T.forEach(N=>{try{const O=w.readFeature(N,{featureProjection:"EPSG:3857"});if(!O.getGeometry())return;O.setId(N.id);const j=new or({features:[O]}),X=new Ss({source:j,style:Ut.base});S.addLayer(X),p.current.push(X),R+=nr(O.getGeometry())}catch(O){console.error("Error leyendo feature:",O)}}),h(R),f(0);return}if(t.parcela_id===""||t.parcela_id==="temporal")T.forEach(N=>{try{const O=w.readFeature(N,{featureProjection:"EPSG:3857"});if(!O.getGeometry())return;O.setId(N.id);const j=new or({features:[O]}),X=new Ss({source:j,style:Ut.base});S.addLayer(X),p.current.push(X),R+=nr(O.getGeometry())}catch(O){console.error("Error leyendo feature:",O)}}),h(R),f(0);else{const N=T.find(O=>O.id==t.parcela_id);if(N)try{const O=w.readFeature(N,{featureProjection:"EPSG:3857"});if(!O.getGeometry())return;O.setId(N.id),a(O);const j=nr(O.getGeometry());f(j)}catch(O){console.error("Error leyendo feature seleccionada:",O)}}};return D.useEffect(()=>{if(g)return C(),()=>{x(),y.current&&r.current&&(r.current.un("click",y.current),y.current=null)}},[t.campo_id,t.parcela_id,e]),{setFeaturesOnMap:C,clearParcelas:x}}function Hg(r){D.useEffect(()=>()=>{typeof r=="function"&&r()},[])}const co=D.createContext(null);function VM({children:r,center:e=[-35.5075089029126,-60.3545349790534]}){const t=D.useRef(null),[i,a]=D.useState(!1),o=D.useCallback(()=>{const h=document.getElementById("map");!t.current&&h&&(t.current=RM("map",e),a(!0))},[e]),c=D.useCallback(()=>{const h=document.getElementById("map");h&&t.current&&(t.current.setTarget(null),t.current=null,h.innerHTML="",a(!1)),setTimeout(()=>o(),0)},[o]);return D.useEffect(()=>{const h=setTimeout(()=>{t.current||o()},3e3);return()=>clearTimeout(h)},[]),D.useEffect(()=>{const h=new ResizeObserver(()=>{const g=document.getElementById("map");(g==null?void 0:g.offsetWidth)>0&&(g==null?void 0:g.offsetHeight)>0&&!t.current&&o()}),f=document.getElementById("map");return f&&h.observe(f),()=>h.disconnect()},[o]),F.jsx(co.Provider,{value:{mapRef:t,ready:i,resetMap:c},children:F.jsxs("div",{className:"relative w-full h-full flex-grow overflow-hidden",children:[F.jsx("div",{id:"map",className:"absolute inset-0 z-0"}),i&&r]})})}const ho=D.createContext();function qM({children:r}){const[e,t]=D.useState(null),[i,a]=D.useState(null);return F.jsx(ho.Provider,{value:{campoSeleccionado:e,setCampoSeleccionado:t,lastCampoId:i,setLastCampoId:a},children:r})}function ZM(){const[r,e]=D.useState(!1),[t,i]=D.useState(!1),[a,o]=D.useState(""),{mapRef:c,ready:h}=D.useContext(co),{campos:f,parcelas:g,formData:m,setFormData:y,setParcelas:p,setAreaParcela:x,setAreaCampo:v}=Qd(),{campoSeleccionado:C,setCampoSeleccionado:S,lastCampoId:T}=D.useContext(ho),{disableDraw:w,activateDeleteMode:R,disableDeleteMode:N,activateEditMode:O,clearEdit:j,getEditedFeature:X,polygonMode:q}=vv(c,()=>{var te;const ae=(te=X())==null?void 0:te.getGeometry();ae&&x(nr(ae))}),{setFeaturesOnMap:Z,clearParcelas:ie}=Xg({mapRef:c,parcelas:g,formData:m,clearEdit:j,activateEditMode:O,getCreatedFeature:()=>null,setFormData:y,setAreaCampo:v,setAreaParcela:x,enabled:!0,modoVisualizacionCampo:!1});Hg(()=>{j(),w(),N(),y(ae=>({...ae,parcela_id:"",nombre:"",descripcion:""}))});const re=()=>{j(),w(),N(),ie(),e(!1)},se=async()=>{const ae=X();if(!ae||!m.parcela_id){o("Debe seleccionar una parcela existente para editar."),i(!0);return}if(!ae.getGeometry()){o("Falta geometra vlida."),i(!0);return}const L=new Yg,P=ae.clone();P.getGeometry().transform("EPSG:3857","EPSG:4326");const K=L.writeFeatureObject(P,{featureProjection:"EPSG:4326"});try{await t1(m.parcela_id,K);const ne=await da();p(ne.parcelas),y(A=>({...A,parcela_id:""})),x(0),re()}catch(ne){console.error("Error al guardar:",ne)}},oe=()=>{j(),N(),e(!1),y(ae=>({...ae,parcela_id:""})),x(0),Z()};return D.useEffect(()=>{re(),Yn.onFinishCallback.current=ae=>{if(ae){O(ae),y(L=>({...L,parcela_id:""}));const te=ae.getGeometry();te&&x(nr(te))}}},[]),D.useEffect(()=>{!h||!m.campo_id||Z()},[h,m.campo_id,m.parcela_id,g]),D.useEffect(()=>{!m.campo_id&&!C&&T&&f[T]&&(S(T),y(ae=>({...ae,campo_id:T,parcela_id:"",nombre:"",descripcion:""})),x(0))},[]),D.useEffect(()=>{const ae=m.campo_id,te=!C&&ae&&f[ae];te&&(S(ae),c.current.getView().setCenter(Cs([te.lon,te.lat])))},[m.campo_id,C]),F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:F.jsx(yv,{mode:q,isDeleteMode:r,onToggleDeleteMode:()=>{e(ae=>!ae),r?N():R()},onCancel:oe,onSave:se})}),F.jsx(Bg,{isOpen:t,message:a,onClose:()=>i(!1)})]})}function KM({onFinish:r,onUndo:e,onStart:t,onCancel:i,canFinish:a,closedBySnap:o,firstVertexDraw:c,open:h,setOpen:f,finished:g}){const m=()=>{const y=!h;f(y),y&&(t==null||t())};return F.jsxs(F.Fragment,{children:[!h&&F.jsx("button",{onClick:m,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Dibujar polgono",children:F.jsx(Jb,{className:"w-6 h-6 text-gray-800"})}),h&&F.jsxs("div",{className:"flex flex-row-reverse gap-1 items-center",children:[F.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar",children:F.jsx(Ax,{className:"w-6 h-6"})}),!g&&F.jsxs(F.Fragment,{children:[F.jsx("button",{onClick:e,disabled:!c,className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${c?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Deshacer ltimo punto",children:F.jsx(eT,{className:"w-6 h-6"})}),F.jsx("button",{onClick:r,disabled:!(a||o),className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${a||o?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Finalizar dibujo",children:F.jsx(vb,{className:"w-6 h-6"})})]})]})]})}function WM({campos:r={},formData:e={},onChange:t=()=>{}}){return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo"}),F.jsx("select",{name:"campo_id",value:e.campo_id,onChange:t,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:Object.entries(r).map(([i,a])=>F.jsx("option",{value:i,disabled:i===e.campo_id,className:i===e.campo_id?"text-gray-400 italic":"",children:a.nombre},i))})]}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Nombre del rea"}),F.jsx("input",{name:"nombre",value:e.nombre,onChange:t,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Descripcin de la parcela"}),F.jsx("input",{name:"descripcion",value:e.descripcion,onChange:t,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]})]})}function QM({campos:r={},formData:e={},onChange:t=()=>{}}){return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo existente"}),F.jsxs("select",{name:"campo_id",value:e.campo_id,onChange:t,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:[F.jsx("option",{value:"",children:"-- Crear nuevo campo --"}),Object.entries(r).map(([i,a])=>F.jsx("option",{value:i,disabled:i===e.campo_id,className:i===e.campo_id?"text-gray-400 italic":"",children:a.nombre},i))]})]}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Nombre del campo"}),F.jsx("input",{name:"nombre",value:e.nombre,onChange:t,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Descripcin del campo"}),F.jsx("input",{name:"descripcion",value:e.descripcion,onChange:t,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),F.jsx("input",{type:"hidden",name:"lat",value:e.lat}),F.jsx("input",{type:"hidden",name:"lon",value:e.lon})]})}function JM(){const[r,e]=D.useState(!1),[t,i]=D.useState(!1),[a,o]=D.useState(!1),[c,h]=D.useState(!1),[f,g]=D.useState(!1),[m,y]=D.useState(""),[p,x]=D.useState(!1),{mapRef:v,ready:C}=D.useContext(co),{campoSeleccionado:S,setCampoSeleccionado:T,lastCampoId:w}=D.useContext(ho),{campos:R,parcelas:N,formData:O,setFormData:j,setParcelas:X,setAreaCampo:q,setAreaParcela:Z}=Qd(),{enableDraw:ie,disableDraw:re,cancelDraw:se,endPolygon:oe,removeLastPoint:ae,canFinish:te,closedBySnap:L,firstVertexDraw:P,activateDeleteMode:K,disableDeleteMode:ne,activateEditMode:A,clearEdit:k,getEditedFeature:I,getCreatedFeature:Q,polygonMode:ee}=vv(v,()=>{var De;const Ee=(De=I())==null?void 0:De.getGeometry();Ee&&Z(nr(Ee))}),{setFeaturesOnMap:le,clearParcelas:ce}=Xg({mapRef:v,parcelas:N,formData:O,clearEdit:k,activateEditMode:A,getCreatedFeature:Q,setFormData:j,setAreaCampo:q,setAreaParcela:Z});Hg(()=>{k(),re(),ne(),j(Ee=>({...Ee,parcela_id:"",nombre:"",descripcion:""}))});const Me=()=>{k(),re(),ne(),ce(),h(!1),i(!1),e(!1)},pe=()=>Yn.modeRef.current==="edit"?I():Q(),rt=Ee=>{const{name:De,value:Ct}=Ee.target;if(De==="campo_id"){if(Ct===O.campo_id)return;Me();const Ot=R[Ct];Ot&&v.current&&v.current.getView().setCenter(Cs([Ot.lon,Ot.lat])),T(Ct),j({campo_id:Ct,parcela_id:"",nombre:"",descripcion:""}),Z(0)}else j(Ot=>({...Ot,[De]:Ct}))},pn=async()=>{if(!O.campo_id||!O.nombre){y("Todos los campos son obligatorios."),g(!0);return}const Ee=pe();if(!Ee){y("Debe crear o seleccionar una parcela."),g(!0);return}const De=new Yg,Ct=Ee.clone();Ct.getGeometry().transform("EPSG:3857","EPSG:4326");const Ot=De.writeFeatureObject(Ct,{featureProjection:"EPSG:4326"});try{O.parcela_id?await t1(O.parcela_id,Ot,O.nombre,O.descripcion):await jR({campo_id:O.campo_id,nombre:O.nombre,descripcion:O.descripcion,perimetro_geojson:Ot});const nn=await da();X(nn.parcelas),j($n=>({...$n,parcela_id:"",nombre:"",descripcion:""})),Me(),Z(0)}catch(nn){console.error("Error al guardar:",nn)}},Nn=()=>{O.parcela_id&&x(!0)},xn=async()=>{x(!1);try{await UR(O.parcela_id);const Ee=await da();X(Ee.parcelas),j(De=>({...De,parcela_id:"",nombre:"",descripcion:""})),Z(0)}catch(Ee){console.error("Error al eliminar parcela:",Ee)}},Jn=()=>{oe(),h(!0),i(!0)},Kt=()=>{se(),k(),h(!1),i(!1)},gi=()=>{k(),ne(),e(!1),h(!1),i(!1),j(Ee=>({...Ee,parcela_id:"",nombre:"",descripcion:""})),Z(0)};return D.useEffect(()=>{Me(),Yn.onFinishCallback.current=Ee=>{if(Ee){h(!0),i(!0),A(Ee),j(Ct=>({...Ct,parcela_id:""}));const De=Ee.getGeometry();De&&Z(nr(De))}}},[]),D.useEffect(()=>{!C||!O.campo_id||le()},[C,O.campo_id,O.parcela_id,N]),D.useEffect(()=>{S&&S!==O.campo_id&&R[S]&&(j(Ee=>({...Ee,campo_id:S,parcela_id:"",nombre:"",descripcion:""})),Z(0))},[S]),D.useEffect(()=>{!O.campo_id&&!S&&w&&R[w]&&(T(w),j(Ee=>({...Ee,campo_id:w,parcela_id:"",nombre:"",descripcion:""})),Z(0))},[]),D.useEffect(()=>{const Ee=O.campo_id,De=!S&&Ee&&R[Ee];De&&(T(Ee),v.current.getView().setCenter(Cs([De.lon,De.lat])))},[O.campo_id,S]),F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-row-reverse items-end gap-2",children:[O.parcela_id&&F.jsx("button",{onClick:Nn,className:"bg-white p-3 rounded-full shadow-md",children:F.jsx(Fb,{className:"w-6 h-6"})}),F.jsx("button",{className:"bg-white p-3 rounded-full shadow-md transition-all duration-300",onClick:()=>o(Ee=>!Ee),children:F.jsx(zb,{className:"w-6 h-6"})})]}),F.jsx("div",{className:`absolute top-20 left-4 right-4 md:left-4 md:right-auto md:w-[350px] bg-white/60 rounded-2xl shadow-lg p-2 z-10 overflow-y-auto max-h-[90%] max-w-[70%] flex flex-col gap-2 transform transition-all duration-500 ${a?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:F.jsx(WM,{campos:R,formData:O,onChange:rt})}),F.jsxs("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:[F.jsx(yv,{mode:ee,isDeleteMode:r,onToggleDeleteMode:()=>{e(Ee=>!Ee),r?ne():K()},onCancel:gi,onSave:pn,showCancel:O.parcela_id!==""}),O.parcela_id===""&&a&&F.jsx(KM,{open:t,setOpen:i,onStart:ie,onFinish:Jn,onUndo:ae,onCancel:Kt,canFinish:te,closedBySnap:L,firstVertexDraw:P,finished:c})]}),F.jsx(Bg,{isOpen:f,message:m,onClose:()=>g(!1)}),F.jsx(pv,{isOpen:p,title:"Eliminar parcela?",message:"Esta accin eliminar la parcela seleccionada. Deses continuar?",onCancel:()=>x(!1),onConfirm:xn,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})}async function $M(r){const e=await fetch("/config/api/campos/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok){const t=await e.json();throw new Error(t.message||"Error al crear campo")}return await e.json()}async function eO(r,e){const t=await fetch(`/config/api/campos/${r}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json();throw new Error(i.message||"Error al actualizar campo")}return await t.json()}async function tO(r){const e=await fetch(`/config/api/campos/${r}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar el campo");return await e.json()}function ix(r){const e=new Bt({geometry:new Dn(r)});e.setStyle(new nt({image:new oo({src:"/dist/map_pin.svg",anchor:[.5,1],scale:1})}));const t=new or({features:[e]}),i=new Ss({source:t});return{feature:e,layer:i}}function nO(r){const e=document.createElement("div");e.className="ripple-effect",e.style.left=`${r.clientX}px`,e.style.top=`${r.clientY}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),600)}function iO(r){const e=D.useRef(null);return{colocarMarcadorGps:(o,c)=>{if(!r.current||!(o!=null&&o.coordinate))return;nO(o.originalEvent);const h=o.coordinate,[f,g]=x1(h);c(y=>({...y,lat:g,lon:f})),e.current&&r.current.removeLayer(e.current);const{layer:m}=ix(h);e.current=m,r.current.addLayer(m)},moverMarcadorGps:(o,c)=>{var p,x,v,C;if(!r.current)return;const h=yg([o,c]),f=(v=(x=(p=e.current)==null?void 0:p.getSource())==null?void 0:x.getFeatures())==null?void 0:v[0],g=(C=f==null?void 0:f.getGeometry())==null?void 0:C.getCoordinates();if(g&&Math.abs(g[0]-h[0])<.001&&Math.abs(g[1]-h[1])<.001)return;e.current&&r.current.removeLayer(e.current);const{layer:y}=ix(h);e.current=y,r.current.addLayer(y)},limpiarMarcadorGps:()=>{e.current&&r.current&&(r.current.removeLayer(e.current),e.current=null)},markerLayerRef:e}}function sO(){const[r,e]=D.useState({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),[t,i]=D.useState(!1),[a,o]=D.useState(!1),[c,h]=D.useState(!1),[f,g]=D.useState(""),{mapRef:m,ready:y}=D.useContext(co),{campoSeleccionado:p,setCampoSeleccionado:x,setLastCampoId:v}=D.useContext(ho),{campos:C,parcelas:S,setFormData:T,setCampos:w,setParcelas:R,setAreaCampo:N,setAreaParcela:O}=Qd(),{colocarMarcadorGps:j,moverMarcadorGps:X,limpiarMarcadorGps:q}=iO(m),{setFeaturesOnMap:Z,clearParcelas:ie}=Xg({mapRef:m,parcelas:S,formData:r,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:e,setAreaCampo:N,setAreaParcela:O,enabled:!0,modoVisualizacionCampo:!0});Hg(()=>{q(),ie()});const re=L=>{const{name:P,value:K}=L.target;if(P==="campo_id"&&K===""){p&&v(p),q(),x(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}if(P==="campo_id"){if(K===""){q(),x(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}const ne=C[K];ne&&(x(K),e({campo_id:K,nombre:ne.nombre,descripcion:ne.descripcion||"",lat:ne.lat,lon:ne.lon}),T(A=>({...A,campo_id:K,parcela_id:"",nombre:"",descripcion:""})),i(!0),m.current&&(m.current.getView().setCenter(Cs([ne.lon,ne.lat])),X(ne.lon,ne.lat)));return}e(ne=>({...ne,[P]:K}))},se=async()=>{const{campo_id:L,nombre:P,descripcion:K,lat:ne,lon:A}=r;if(!P||!K||!ne||!A){g("Todos los campos son obligatorios."),h(!0);return}try{L?await eO(L,{nombre:P,descripcion:K,lat:ne,lon:A}):await $M({nombre:P,descripcion:K,lat:ne,lon:A});const k=await da();w(k.campos),R(k.parcelas);const I=Object.entries(k.campos).find(([Q,ee])=>ee.nombre===P&&ee.lat===ne&&ee.lon===A);if(I){const[Q,ee]=I;x(Q),e({campo_id:Q,nombre:ee.nombre,descripcion:ee.descripcion||"",lat:ee.lat,lon:ee.lon}),oe(ee)}}catch(k){console.error("Error al guardar campo:",k)}},oe=L=>{m.current&&(m.current.getView().setCenter(Cs([L.lon,L.lat])),X(L.lon,L.lat))},ae=()=>o(!0),te=async()=>{if(o(!1),!!r.campo_id)try{await tO(r.campo_id);const L=await da();w(L.campos),R(L.parcelas),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),q()}catch(L){console.error("Error al eliminar campo:",L)}};return D.useEffect(()=>{!y||!r.campo_id||Z()},[y,r.campo_id,S]),D.useEffect(()=>{r.lat&&r.lon&&y&&m.current&&X(r.lon,r.lat)},[r.lat,r.lon,y]),D.useEffect(()=>{if(!y||!m.current)return;const L=m.current,P=K=>j(K,e);return L.on("click",P),()=>L.un("click",P)},[y]),D.useEffect(()=>{if(p&&p!==r.campo_id&&C[p]){const L=C[p];e({campo_id:p,nombre:L.nombre,descripcion:L.descripcion||"",lat:L.lat,lon:L.lon}),y&&m.current&&X(L.lon,L.lat)}},[p]),F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-row-reverse items-end gap-2",children:[r.campo_id&&F.jsx("button",{onClick:ae,title:"Eliminar campo",className:"bg-white p-3 rounded-full shadow-md",children:F.jsx(jb,{className:"w-6 h-6"})}),F.jsx("button",{onClick:()=>i(L=>!L),title:"Mostrar formulario",className:"bg-white p-3 rounded-full shadow-md",children:F.jsx(kb,{className:"w-6 h-6"})})]}),F.jsx("div",{className:`absolute top-20 left-4 right-4 md:left-4 md:right-auto md:w-[350px] bg-white/60 rounded-2xl shadow-lg p-2 z-10 overflow-y-auto max-h-[90%] max-w-[70%] flex flex-col gap-2 transform transition-all duration-500 ${t?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:F.jsx(QM,{campos:C,formData:r,onChange:re})}),(t||r.campo_id!=="")&&F.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:F.jsx("button",{onClick:se,className:"bg-white p-3 rounded-full shadow-md",title:"Guardar campo",children:F.jsx(wx,{className:"w-6 h-6"})})}),F.jsx(pv,{isOpen:a,title:"Eliminar campo?",message:"Esta accin no se puede deshacer. Deses continuar?",onCancel:()=>o(!1),onConfirm:te,confirmLabel:"Eliminar",cancelLabel:"Cancelar"}),F.jsx(Bg,{isOpen:c,message:f,onClose:()=>h(!1)})]})}function rO({mapRef:r}){const e=D.useRef(null),t=D.useRef(!1),i=D.useRef({x:0,y:0}),a=D.useRef(0),o=D.useRef(0),c=.4;D.useEffect(()=>{if(!(r!=null&&r.current))return;const p=r.current.getView(),x=()=>{const v=p.getRotation();e.current&&(e.current.style.transform=`rotate(${-v}rad)`)};return x(),p.on("change:rotation",x),()=>p.un("change:rotation",x)},[r]);const h=(p,x)=>{const v=p-i.current.x,C=i.current.y-x;return Math.atan2(v,C)},f=p=>{if(!r.current)return;t.current=!0;const x=p.currentTarget.getBoundingClientRect();i.current={x:x.left+x.width/2,y:x.top+x.height/2},a.current=r.current.getView().getRotation(),o.current=h(p.clientX,p.clientY),window.addEventListener("mousemove",g),window.addEventListener("mouseup",m)},g=p=>{if(!t.current||!r.current)return;const v=h(p.clientX,p.clientY)-o.current,C=a.current+v*c;r.current.getView().setRotation(C)},m=()=>{t.current=!1,window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",m)},y=()=>{!t.current&&r.current&&r.current.getView().setRotation(0)};return F.jsx("button",{title:"Brjula",className:"bg-white rounded-full p-3 shadow-md transition-transform select-none",onMouseDown:f,onClick:y,children:F.jsx("img",{ref:e,src:"/dist/compass.svg",alt:"Compass",className:"w-6 h-6 transition-transform pointer-events-none"})})}function aO({mapRef:r,onToggleLayer:e=()=>{},onLocate:t=()=>{},onCenterCampo:i=()=>{}}){const a=D.useRef(null);return D.useEffect(()=>{if(!(r!=null&&r.current))return;const o=r.current.getView(),c=()=>{const h=o.getRotation();a.current&&(a.current.style.transform=`rotate(${-h}rad)`)};return o.on("change:rotation",c),()=>o.un("change:rotation",c)},[r]),F.jsxs("div",{style:{top:"4.5rem"},className:"absolute right-4 z-40 flex flex-col gap-2",children:[F.jsx("button",{onClick:e,title:"Cambiar capa",className:"bg-white rounded-full p-3 shadow-md",children:F.jsx(Ab,{className:"w-6 h-6 text-gray-800"})}),F.jsx("button",{onClick:i,title:"Centrar en campo",className:"bg-white p-3 rounded-full shadow-md",children:F.jsx(Yb,{className:"w-6 h-6"})}),F.jsx("button",{onClick:t,title:"Centrar mapa",className:"bg-white rounded-full p-3 shadow-md",children:F.jsx(Ob,{className:"w-6 h-6 text-gray-800"})}),F.jsx(rO,{mapRef:r})]})}function lO({campos:r={},campoId:e="",parcelaId:t="",parcelaNombre:i="",areaParcela:a=0,areaCampo:o=0,selectorOpen:c=!1,setSelectorOpen:h=()=>{},onSelectCampo:f=()=>{},mapRef:g=null}){const m=y=>{const p=r[y];p&&(g!=null&&g.current)&&g.current.getView().setCenter(Cs([p.lon,p.lat])),f(y),h(!1)};return F.jsxs("div",{className:"relative","data-testid":"campo-selector",children:[F.jsxs("button",{onClick:()=>{h(y=>!y)},className:"flex items-center gap-2 px-6 py-3 bg-black/60 backdrop-blur-md rounded-full shadow-lg text-white font-semibold text-sm hover:bg-black/70 transition-all",children:[F.jsxs("div",{className:"flex flex-col text-left",children:[F.jsx("span",{className:"text-xs text-gray-300",children:e&&r[e]?r[e].nombre:"Creando nuevo campo"}),t&&e?F.jsxs("div",{className:"flex items-center gap-1",children:[F.jsx(Rx,{size:14,className:"text-cyan-400"}),F.jsx("span",{className:"text-sm",children:i}),F.jsxs("span",{className:"text-xs text-green-400 ml-2",children:[(a/1e4).toFixed(2)," ha"]})]}):e&&r[e]?F.jsxs("span",{className:"text-xs text-green-400",children:[(o/1e4).toFixed(2)," ha"]}):F.jsx("span",{className:"text-xs text-green-400",children:"0.00 ha"})]}),F.jsx(Sb,{size:16,className:"text-white"})]}),c&&F.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-md shadow-md text-sm overflow-hidden z-20 w-full",children:Object.entries(r).map(([y,p])=>F.jsx("button",{onClick:()=>m(y),disabled:y===e,className:"w-full px-4 py-2 text-left hover:bg-gray-100 disabled:text-gray-400 disabled:italic disabled:cursor-not-allowed",children:p.nombre},y))})]})}function oO(){const{mapRef:r}=D.useContext(co),{campoSeleccionado:e,setCampoSeleccionado:t,lastCampoId:i}=D.useContext(ho),[a,o]=D.useState({}),[c,h]=D.useState({}),[f,g]=D.useState({campo_id:"",parcela_id:"",nombre:"",descripcion:""}),[m,y]=D.useState(0),[p,x]=D.useState(0),[v,C]=D.useState(!1);return D.useEffect(()=>{async function S(){const T=await da();o(T.campos),h(T.parcelas);const w=T.campo_preferido_id||Object.keys(T.campos)[0],R=e??i??w;R&&(t(R),g(N=>({...N,campo_id:R})))}S()},[]),F.jsxs(F.Fragment,{children:[r.current&&F.jsx(aO,{mapRef:r,onToggleLayer:()=>{const S=window.osm,T=window.esriSat;S&&T&&(S.setVisible(!S.getVisible()),T.setVisible(!T.getVisible()))},onCenterCampo:()=>{if(!r.current||!e||!a[e])return;const S=a[e];r.current.getView().setCenter(Cs([S.lon,S.lat]))},onLocate:()=>{navigator.geolocation&&r.current&&navigator.geolocation.getCurrentPosition(S=>{const T=[S.coords.longitude,S.coords.latitude];r.current.getView().animate({center:Cs(T),zoom:16})})}}),F.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:F.jsx(lO,{campos:a,campoId:e,parcelaId:f.parcela_id,parcelaNombre:f.nombre,areaParcela:p,areaCampo:m,selectorOpen:v,setSelectorOpen:C,onSelectCampo:S=>{t(S),g(T=>({...T,campo_id:S,parcela_id:"",nombre:"",descripcion:""}))},mapRef:r})}),F.jsx(OC,{context:{campos:a,parcelas:c,formData:f,setFormData:g,setCampos:o,setParcelas:h,setAreaParcela:x,setAreaCampo:y}})]})}function sx(){const r=Zn(),{menuOpen:e,setMenuOpen:t}=PR(),i=r.pathname==="/login";return F.jsxs(F.Fragment,{children:[!i&&F.jsx(zR,{menuOpen:e,setMenuOpen:t}),F.jsxs(DC,{children:[F.jsx(oi,{path:"/login",element:F.jsx(GR,{})}),F.jsxs(oi,{element:F.jsx(ju,{children:F.jsx(oO,{})}),children:[F.jsx(oi,{path:"/mapa",element:F.jsx(ZM,{})}),F.jsx(oi,{path:"/parcelas",element:F.jsx(JM,{})}),F.jsx(oi,{path:"/campos",element:F.jsx(sO,{})})]}),F.jsx(oi,{path:"/collares",element:F.jsx(ju,{children:F.jsx(xd,{label:"Collares"})})}),F.jsx(oi,{path:"/alertas",element:F.jsx(ju,{children:F.jsx(xd,{label:"Alertas"})})}),F.jsx(oi,{path:"/animales",element:F.jsx(ju,{children:F.jsx(xd,{label:"Animales"})})}),F.jsx(oi,{path:"*",element:F.jsx(yx,{to:"/login",replace:!0})})]}),!i&&F.jsx(kR,{setMenuOpen:t})]})}function xd({label:r}){return F.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-100",children:F.jsx("h1",{className:"text-3xl font-bold",children:r})})}function ju({children:r}){const{isAuthenticated:e,loading:t}=xc();return t?F.jsx("div",{className:"text-center mt-10",children:"Verificando sesin..."}):e?r:F.jsx(yx,{to:"/login",replace:!0})}function uO(){const{isAuthenticated:r,loading:e}=xc();return e?F.jsx("div",{className:"p-4",children:"Verificando sesin..."}):r?F.jsx(VM,{children:F.jsx(qM,{children:F.jsx(sx,{})})}):F.jsx(sx,{})}jS.createRoot(document.getElementById("root")).render(F.jsx(NS.StrictMode,{children:F.jsx(nb,{children:F.jsx(IR,{children:F.jsx(uO,{})})})}));
