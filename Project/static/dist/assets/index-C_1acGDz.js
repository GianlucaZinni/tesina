(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function rx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hf={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function OS(){if(Op)return bl;Op=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:o}}return bl.Fragment=e,bl.jsx=t,bl.jsxs=t,bl}var Lp;function LS(){return Lp||(Lp=1,Hf.exports=OS()),Hf.exports}var F=LS(),Vf={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function DS(){if(Dp)return Se;Dp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function p(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,C={};function S(A,G,I){this.props=A,this.context=G,this.refs=C,this.updater=I||x}S.prototype.isReactComponent={},S.prototype.setState=function(A,G){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,G,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function T(){}T.prototype=S.prototype;function R(A,G,I){this.props=A,this.context=G,this.refs=C,this.updater=I||x}var w=R.prototype=new T;w.constructor=R,v(w,S.prototype),w.isPureReactComponent=!0;var O=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function H(A,G,I,K,te,le){return I=le.ref,{$$typeof:r,type:A,key:G,ref:I!==void 0?I:null,props:le}}function q(A,G){return H(A.type,G,void 0,void 0,void 0,A.props)}function $(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function ne(A){var G={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(I){return G[I]})}var se=/\/+/g;function ie(A,G){return typeof A=="object"&&A!==null&&A.key!=null?ne(""+A.key):G.toString(36)}function ae(){}function ge(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ae,ae):(A.status="pending",A.then(function(G){A.status==="pending"&&(A.status="fulfilled",A.value=G)},function(G){A.status==="pending"&&(A.status="rejected",A.reason=G)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Q(A,G,I,K,te){var le=typeof A;(le==="undefined"||le==="boolean")&&(A=null);var oe=!1;if(A===null)oe=!0;else switch(le){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(A.$$typeof){case r:case e:oe=!0;break;case m:return oe=A._init,Q(oe(A._payload),G,I,K,te)}}if(oe)return te=te(A),oe=K===""?"."+ie(A,0):K,O(te)?(I="",oe!=null&&(I=oe.replace(se,"$&/")+"/"),Q(te,G,I,"",function(at){return at})):te!=null&&($(te)&&(te=q(te,I+(te.key==null||A&&A.key===te.key?"":(""+te.key).replace(se,"$&/")+"/")+oe)),G.push(te)),1;oe=0;var Le=K===""?".":K+":";if(O(A))for(var pe=0;pe<A.length;pe++)K=A[pe],le=Le+ie(K,pe),oe+=Q(K,G,I,le,te);else if(pe=p(A),typeof pe=="function")for(A=pe.call(A),pe=0;!(K=A.next()).done;)K=K.value,le=Le+ie(K,pe++),oe+=Q(K,G,I,le,te);else if(le==="object"){if(typeof A.then=="function")return Q(ge(A),G,I,K,te);throw G=String(A),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return oe}function N(A,G,I){if(A==null)return A;var K=[],te=0;return Q(A,K,"","",function(le){return G.call(I,le,te++)}),K}function P(A){if(A._status===-1){var G=A._result;G=G(),G.then(function(I){(A._status===0||A._status===-1)&&(A._status=1,A._result=I)},function(I){(A._status===0||A._status===-1)&&(A._status=2,A._result=I)}),A._status===-1&&(A._status=0,A._result=G)}if(A._status===1)return A._result.default;throw A._result}var Z=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function re(){}return Se.Children={map:N,forEach:function(A,G,I){N(A,function(){G.apply(this,arguments)},I)},count:function(A){var G=0;return N(A,function(){G++}),G},toArray:function(A){return N(A,function(G){return G})||[]},only:function(A){if(!$(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Se.Component=S,Se.Fragment=t,Se.Profiler=a,Se.PureComponent=R,Se.StrictMode=i,Se.Suspense=f,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Se.__COMPILER_RUNTIME={__proto__:null,c:function(A){return D.H.useMemoCache(A)}},Se.cache=function(A){return function(){return A.apply(null,arguments)}},Se.cloneElement=function(A,G,I){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var K=v({},A.props),te=A.key,le=void 0;if(G!=null)for(oe in G.ref!==void 0&&(le=void 0),G.key!==void 0&&(te=""+G.key),G)!U.call(G,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&G.ref===void 0||(K[oe]=G[oe]);var oe=arguments.length-2;if(oe===1)K.children=I;else if(1<oe){for(var Le=Array(oe),pe=0;pe<oe;pe++)Le[pe]=arguments[pe+2];K.children=Le}return H(A.type,te,void 0,void 0,le,K)},Se.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},Se.createElement=function(A,G,I){var K,te={},le=null;if(G!=null)for(K in G.key!==void 0&&(le=""+G.key),G)U.call(G,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(te[K]=G[K]);var oe=arguments.length-2;if(oe===1)te.children=I;else if(1<oe){for(var Le=Array(oe),pe=0;pe<oe;pe++)Le[pe]=arguments[pe+2];te.children=Le}if(A&&A.defaultProps)for(K in oe=A.defaultProps,oe)te[K]===void 0&&(te[K]=oe[K]);return H(A,le,void 0,void 0,null,te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(A){return{$$typeof:h,render:A}},Se.isValidElement=$,Se.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:P}},Se.memo=function(A,G){return{$$typeof:g,type:A,compare:G===void 0?null:G}},Se.startTransition=function(A){var G=D.T,I={};D.T=I;try{var K=A(),te=D.S;te!==null&&te(I,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(re,Z)}catch(le){Z(le)}finally{D.T=G}},Se.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Se.use=function(A){return D.H.use(A)},Se.useActionState=function(A,G,I){return D.H.useActionState(A,G,I)},Se.useCallback=function(A,G){return D.H.useCallback(A,G)},Se.useContext=function(A){return D.H.useContext(A)},Se.useDebugValue=function(){},Se.useDeferredValue=function(A,G){return D.H.useDeferredValue(A,G)},Se.useEffect=function(A,G,I){var K=D.H;if(typeof I=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(A,G)},Se.useId=function(){return D.H.useId()},Se.useImperativeHandle=function(A,G,I){return D.H.useImperativeHandle(A,G,I)},Se.useInsertionEffect=function(A,G){return D.H.useInsertionEffect(A,G)},Se.useLayoutEffect=function(A,G){return D.H.useLayoutEffect(A,G)},Se.useMemo=function(A,G){return D.H.useMemo(A,G)},Se.useOptimistic=function(A,G){return D.H.useOptimistic(A,G)},Se.useReducer=function(A,G,I){return D.H.useReducer(A,G,I)},Se.useRef=function(A){return D.H.useRef(A)},Se.useState=function(A){return D.H.useState(A)},Se.useSyncExternalStore=function(A,G,I){return D.H.useSyncExternalStore(A,G,I)},Se.useTransition=function(){return D.H.useTransition()},Se.version="19.1.0",Se}var Np;function qd(){return Np||(Np=1,Vf.exports=DS()),Vf.exports}var L=qd();const NS=rx(L);var qf={exports:{}},Tl={},Zf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function FS(){return Fp||(Fp=1,function(r){function e(N,P){var Z=N.length;N.push(P);e:for(;0<Z;){var re=Z-1>>>1,A=N[re];if(0<a(A,P))N[re]=P,N[Z]=A,Z=re;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var P=N[0],Z=N.pop();if(Z!==P){N[0]=Z;e:for(var re=0,A=N.length,G=A>>>1;re<G;){var I=2*(re+1)-1,K=N[I],te=I+1,le=N[te];if(0>a(K,Z))te<A&&0>a(le,K)?(N[re]=le,N[te]=Z,re=te):(N[re]=K,N[I]=Z,re=I);else if(te<A&&0>a(le,Z))N[re]=le,N[te]=Z,re=te;else break e}}return P}function a(N,P){var Z=N.sortIndex-P.sortIndex;return Z!==0?Z:N.id-P.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var f=[],g=[],m=1,y=null,p=3,x=!1,v=!1,C=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function O(N){for(var P=t(g);P!==null;){if(P.callback===null)i(g);else if(P.startTime<=N)i(g),P.sortIndex=P.expirationTime,e(f,P);else break;P=t(g)}}function D(N){if(C=!1,O(N),!v)if(t(f)!==null)v=!0,U||(U=!0,ie());else{var P=t(g);P!==null&&Q(D,P.startTime-N)}}var U=!1,H=-1,q=5,$=-1;function ne(){return S?!0:!(r.unstable_now()-$<q)}function se(){if(S=!1,U){var N=r.unstable_now();$=N;var P=!0;try{e:{v=!1,C&&(C=!1,R(H),H=-1),x=!0;var Z=p;try{t:{for(O(N),y=t(f);y!==null&&!(y.expirationTime>N&&ne());){var re=y.callback;if(typeof re=="function"){y.callback=null,p=y.priorityLevel;var A=re(y.expirationTime<=N);if(N=r.unstable_now(),typeof A=="function"){y.callback=A,O(N),P=!0;break t}y===t(f)&&i(f),O(N)}else i(f);y=t(f)}if(y!==null)P=!0;else{var G=t(g);G!==null&&Q(D,G.startTime-N),P=!1}}break e}finally{y=null,p=Z,x=!1}P=void 0}}finally{P?ie():U=!1}}}var ie;if(typeof w=="function")ie=function(){w(se)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ge=ae.port2;ae.port1.onmessage=se,ie=function(){ge.postMessage(null)}}else ie=function(){T(se,0)};function Q(N,P){H=T(function(){N(r.unstable_now())},P)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(N){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var Z=p;p=P;try{return N()}finally{p=Z}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(N,P){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Z=p;p=N;try{return P()}finally{p=Z}},r.unstable_scheduleCallback=function(N,P,Z){var re=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,N){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=Z+A,N={id:m++,callback:P,priorityLevel:N,startTime:Z,expirationTime:A,sortIndex:-1},Z>re?(N.sortIndex=Z,e(g,N),t(f)===null&&N===t(g)&&(C?(R(H),H=-1):C=!0,Q(D,Z-re))):(N.sortIndex=A,e(f,N),v||x||(v=!0,U||(U=!0,ie()))),N},r.unstable_shouldYield=ne,r.unstable_wrapCallback=function(N){var P=p;return function(){var Z=p;p=P;try{return N.apply(this,arguments)}finally{p=Z}}}}(Kf)),Kf}var Ip;function IS(){return Ip||(Ip=1,Zf.exports=FS()),Zf.exports}var Wf={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function zS(){if(zp)return Ft;zp=1;var r=qd();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:g,implementation:m}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ft.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(f,g,null,m)},Ft.flushSync=function(f){var g=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=m,i.d.f()}},Ft.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Ft.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ft.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,y=h(m,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:p,fetchPriority:x}):m==="script"&&i.d.X(f,{crossOrigin:y,integrity:p,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ft.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Ft.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,y=h(m,g.crossOrigin);i.d.L(f,m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ft.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Ft.requestFormReset=function(f){i.d.r(f)},Ft.unstable_batchedUpdates=function(f,g){return f(g)},Ft.useFormState=function(f,g,m){return c.H.useFormState(f,g,m)},Ft.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var Pp;function ax(){if(Pp)return Wf.exports;Pp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wf.exports=zS(),Wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function PS(){if(kp)return Tl;kp=1;var r=IS(),e=qd(),t=ax();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,u=s;;){var d=l.return;if(d===null)break;var _=d.alternate;if(_===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===_.child){for(_=d.child;_;){if(_===l)return h(d),n;if(_===u)return h(d),s;_=_.sibling}throw Error(i(188))}if(l.return!==u.return)l=d,u=_;else{for(var E=!1,b=d.child;b;){if(b===l){E=!0,l=d,u=_;break}if(b===u){E=!0,u=d,l=_;break}b=b.sibling}if(!E){for(b=_.child;b;){if(b===l){E=!0,l=_,u=d;break}if(b===u){E=!0,u=_,l=d;break}b=b.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),w=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var ae=Symbol.for("react.client.reference");function ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ae?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case v:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case U:return"SuspenseList";case $:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case w:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return s=n.displayName||null,s!==null?s:ge(n.type)||"Memo";case q:s=n._payload,n=n._init;try{return ge(n(s))}catch{}}return null}var Q=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},re=[],A=-1;function G(n){return{current:n}}function I(n){0>A||(n.current=re[A],re[A]=null,A--)}function K(n,s){A++,re[A]=n.current,n.current=s}var te=G(null),le=G(null),oe=G(null),Le=G(null);function pe(n,s){switch(K(oe,s),K(le,n),K(te,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?sp(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=sp(s),n=rp(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}I(te),K(te,n)}function at(){I(te),I(le),I(oe)}function yn(n){n.memoizedState!==null&&K(Le,n);var s=te.current,l=rp(s,n.type);s!==l&&(K(le,n),K(te,l))}function Dn(n){le.current===n&&(I(te),I(le)),Le.current===n&&(I(Le),xl._currentValue=Z)}var pn=Object.prototype.hasOwnProperty,$n=r.unstable_scheduleCallback,Kt=r.unstable_cancelCallback,Oe=r.unstable_shouldYield,Ke=r.unstable_requestPaint,Ye=r.unstable_now,Yt=r.unstable_getCurrentPriorityLevel,Nn=r.unstable_ImmediatePriority,Fn=r.unstable_UserBlockingPriority,ji=r.unstable_NormalPriority,Ot=r.unstable_LowPriority,Xt=r.unstable_IdlePriority,nn=r.log,In=r.unstable_setDisableYieldValue,xn=null,$e=null;function bt(n){if(typeof nn=="function"&&In(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(xn,n)}catch{}}var lt=Math.clz32?Math.clz32:Aa,hr=Math.log,Tt=Math.LN2;function Aa(n){return n>>>=0,n===0?32:31-(hr(n)/Tt|0)|0}var fr=256,dr=4194304;function ei(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Cs(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var d=0,_=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~_,u!==0?d=ei(u):(E&=b,E!==0?d=ei(E):l||(l=b&~n,l!==0&&(d=ei(l))))):(b=u&~_,b!==0?d=ei(b):E!==0?d=ei(E):l||(l=u&~n,l!==0&&(d=ei(l)))),d===0?0:s!==0&&s!==d&&(s&_)===0&&(_=d&-d,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:d}function gi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ho(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var n=fr;return fr<<=1,(fr&4194048)===0&&(fr=256),n}function Ui(){var n=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),n}function mi(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function zn(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fo(n,s,l,u,d,_){var E=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var b=n.entanglements,M=n.expirationTimes,B=n.hiddenUpdates;for(l=E&~l;0<l;){var W=31-lt(l),ee=1<<W;b[W]=0,M[W]=-1;var Y=B[W];if(Y!==null)for(B[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}l&=~ee}u!==0&&Ma(n,u,0),_!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=_&~(E&~s))}function Ma(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-lt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function Lt(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-lt(l),d=1<<u;d&s|n[u]&s&&(n[u]|=s),l&=~d}}function ti(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Dt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function vn(){var n=P.p;return n!==0?n:(n=window.event,n===void 0?32:bp(n.type))}function Ht(n,s){var l=P.p;try{return P.p=n,s()}finally{P.p=l}}var sn=Math.random().toString(36).slice(2),et="__reactFiber$"+sn,Fe="__reactProps$"+sn,ft="__reactContainer$"+sn,rn="__reactEvents$"+sn,zc="__reactListeners$"+sn,Ev="__reactHandles$"+sn,Vg="__reactResources$"+sn,Oa="__reactMarker$"+sn;function Pc(n){delete n[et],delete n[Fe],delete n[rn],delete n[zc],delete n[Ev]}function mr(n){var s=n[et];if(s)return s;for(var l=n.parentNode;l;){if(s=l[ft]||l[et]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=up(n);n!==null;){if(l=n[et])return l;n=up(n)}return s}n=l,l=n.parentNode}return null}function _r(n){if(n=n[et]||n[ft]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function La(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function yr(n){var s=n[Vg];return s||(s=n[Vg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pt(n){n[Oa]=!0}var qg=new Set,Zg={};function bs(n,s){pr(n,s),pr(n+"Capture",s)}function pr(n,s){for(Zg[n]=s,n=0;n<s.length;n++)qg.add(s[n])}var Sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kg={},Wg={};function Cv(n){return pn.call(Wg,n)?!0:pn.call(Kg,n)?!1:Sv.test(n)?Wg[n]=!0:(Kg[n]=!0,!1)}function go(n,s,l){if(Cv(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function mo(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function _i(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}var kc,Qg;function xr(n){if(kc===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);kc=s&&s[1]||"",Qg=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kc+n+Qg}var Gc=!1;function jc(n,s){if(!n||Gc)return"";Gc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(X){var Y=X}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(X){Y=X}n.call(ee.prototype)}}else{try{throw Error()}catch(X){Y=X}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),E=_[0],b=_[1];if(E&&b){var M=E.split(`
`),B=b.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===B.length)for(u=M.length-1,d=B.length-1;1<=u&&0<=d&&M[u]!==B[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==B[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==B[d]){var W=`
`+M[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=d);break}}}finally{Gc=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?xr(l):""}function bv(n){switch(n.tag){case 26:case 27:case 5:return xr(n.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return jc(n.type,!1);case 11:return jc(n.type.render,!1);case 1:return jc(n.type,!0);case 31:return xr("Activity");default:return""}}function Jg(n){try{var s="";do s+=bv(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function En(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $g(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tv(n){var s=$g(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,_=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){u=""+E,_.call(this,E)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function _o(n){n._valueTracker||(n._valueTracker=Tv(n))}function em(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=$g(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function yo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Rv=/[\n"\\]/g;function Sn(n){return n.replace(Rv,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Uc(n,s,l,u,d,_,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+En(s)):n.value!==""+En(s)&&(n.value=""+En(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Bc(n,E,En(s)):l!=null?Bc(n,E,En(l)):u!=null&&n.removeAttribute("value"),d==null&&_!=null&&(n.defaultChecked=!!_),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+En(b):n.removeAttribute("name")}function tm(n,s,l,u,d,_,E,b){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;l=l!=null?""+En(l):"",s=s!=null?""+En(s):l,b||s===n.value||(n.value=s),n.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Bc(n,s,l){s==="number"&&yo(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function vr(n,s,l,u){if(n=n.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=s.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&u&&(n[l].defaultSelected=!0)}else{for(l=""+En(l),s=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function nm(n,s,l){if(s!=null&&(s=""+En(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+En(l):""}function im(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(Q(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=En(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function Er(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var wv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sm(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||wv.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function rm(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&l[d]!==u&&sm(n,d,u)}else for(var _ in s)s.hasOwnProperty(_)&&sm(n,_,s[_])}function Yc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Av=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(n){return Mv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Xc=null;function Hc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Sr=null,Cr=null;function am(n){var s=_r(n);if(s&&(n=s.stateNode)){var l=n[Fe]||null;e:switch(n=s.stateNode,s.type){case"input":if(Uc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var d=u[Fe]||null;if(!d)throw Error(i(90));Uc(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&em(u)}break e;case"textarea":nm(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&vr(n,!!l.multiple,s,!1)}}}var Vc=!1;function lm(n,s,l){if(Vc)return n(s,l);Vc=!0;try{var u=n(s);return u}finally{if(Vc=!1,(Sr!==null||Cr!==null)&&(iu(),Sr&&(s=Sr,n=Cr,Cr=Sr=null,am(s),n)))for(s=0;s<n.length;s++)am(n[s])}}function Da(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Fe]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=!1;if(yi)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){qc=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{qc=!1}var Bi=null,Zc=null,xo=null;function om(){if(xo)return xo;var n,s=Zc,l=s.length,u,d="value"in Bi?Bi.value:Bi.textContent,_=d.length;for(n=0;n<l&&s[n]===d[n];n++);var E=l-n;for(u=1;u<=E&&s[l-u]===d[_-u];u++);return xo=d.slice(n,1<u?1-u:void 0)}function vo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Eo(){return!0}function um(){return!1}function Wt(n){function s(l,u,d,_,E){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(l=n[b],this[b]=l?l(_):_[b]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Eo:um,this.isPropagationStopped=um,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),s}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=Wt(Ts),Fa=m({},Ts,{view:0,detail:0}),Ov=Wt(Fa),Kc,Wc,Ia,Co=m({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ia&&(Ia&&n.type==="mousemove"?(Kc=n.screenX-Ia.screenX,Wc=n.screenY-Ia.screenY):Wc=Kc=0,Ia=n),Kc)},movementY:function(n){return"movementY"in n?n.movementY:Wc}}),cm=Wt(Co),Lv=m({},Co,{dataTransfer:0}),Dv=Wt(Lv),Nv=m({},Fa,{relatedTarget:0}),Qc=Wt(Nv),Fv=m({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Iv=Wt(Fv),zv=m({},Ts,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Pv=Wt(zv),kv=m({},Ts,{data:0}),hm=Wt(kv),Gv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Uv[n])?!!s[n]:!1}function Jc(){return Bv}var Yv=m({},Fa,{key:function(n){if(n.key){var s=Gv[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=vo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(n){return n.type==="keypress"?vo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xv=Wt(Yv),Hv=m({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=Wt(Hv),Vv=m({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),qv=Wt(Vv),Zv=m({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kv=Wt(Zv),Wv=m({},Co,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qv=Wt(Wv),Jv=m({},Ts,{newState:0,oldState:0}),$v=Wt(Jv),eE=[9,13,27,32],$c=yi&&"CompositionEvent"in window,za=null;yi&&"documentMode"in document&&(za=document.documentMode);var tE=yi&&"TextEvent"in window&&!za,dm=yi&&(!$c||za&&8<za&&11>=za),gm=" ",mm=!1;function _m(n,s){switch(n){case"keyup":return eE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var br=!1;function nE(n,s){switch(n){case"compositionend":return ym(s);case"keypress":return s.which!==32?null:(mm=!0,gm);case"textInput":return n=s.data,n===gm&&mm?null:n;default:return null}}function iE(n,s){if(br)return n==="compositionend"||!$c&&_m(n,s)?(n=om(),xo=Zc=Bi=null,br=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return dm&&s.locale!=="ko"?null:s.data;default:return null}}var sE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!sE[n.type]:s==="textarea"}function xm(n,s,l,u){Sr?Cr?Cr.push(u):Cr=[u]:Sr=u,s=uu(s,"onChange"),0<s.length&&(l=new So("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Pa=null,ka=null;function rE(n){$y(n,0)}function bo(n){var s=La(n);if(em(s))return n}function vm(n,s){if(n==="change")return s}var Em=!1;if(yi){var eh;if(yi){var th="oninput"in document;if(!th){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),th=typeof Sm.oninput=="function"}eh=th}else eh=!1;Em=eh&&(!document.documentMode||9<document.documentMode)}function Cm(){Pa&&(Pa.detachEvent("onpropertychange",bm),ka=Pa=null)}function bm(n){if(n.propertyName==="value"&&bo(ka)){var s=[];xm(s,ka,n,Hc(n)),lm(rE,s)}}function aE(n,s,l){n==="focusin"?(Cm(),Pa=s,ka=l,Pa.attachEvent("onpropertychange",bm)):n==="focusout"&&Cm()}function lE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bo(ka)}function oE(n,s){if(n==="click")return bo(s)}function uE(n,s){if(n==="input"||n==="change")return bo(s)}function cE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var an=typeof Object.is=="function"?Object.is:cE;function Ga(n,s){if(an(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!pn.call(s,d)||!an(n[d],s[d]))return!1}return!0}function Tm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rm(n,s){var l=Tm(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tm(l)}}function wm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?wm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Am(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=yo(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=yo(n.document)}return s}function nh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var hE=yi&&"documentMode"in document&&11>=document.documentMode,Tr=null,ih=null,ja=null,sh=!1;function Mm(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sh||Tr==null||Tr!==yo(u)||(u=Tr,"selectionStart"in u&&nh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ja&&Ga(ja,u)||(ja=u,u=uu(ih,"onSelect"),0<u.length&&(s=new So("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Tr)))}function Rs(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Rr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},rh={},Om={};yi&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function ws(n){if(rh[n])return rh[n];if(!Rr[n])return n;var s=Rr[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Om)return rh[n]=s[l];return n}var Lm=ws("animationend"),Dm=ws("animationiteration"),Nm=ws("animationstart"),fE=ws("transitionrun"),dE=ws("transitionstart"),gE=ws("transitioncancel"),Fm=ws("transitionend"),Im=new Map,ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ah.push("scrollEnd");function Pn(n,s){Im.set(n,s),bs(s,[n])}var zm=new WeakMap;function Cn(n,s){if(typeof n=="object"&&n!==null){var l=zm.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Jg(s)},zm.set(n,s),s)}return{value:n,source:s,stack:Jg(s)}}var bn=[],wr=0,lh=0;function To(){for(var n=wr,s=lh=wr=0;s<n;){var l=bn[s];bn[s++]=null;var u=bn[s];bn[s++]=null;var d=bn[s];bn[s++]=null;var _=bn[s];if(bn[s++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}_!==0&&Pm(l,d,_)}}function Ro(n,s,l,u){bn[wr++]=n,bn[wr++]=s,bn[wr++]=l,bn[wr++]=u,lh|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function oh(n,s,l,u){return Ro(n,s,l,u),wo(n)}function Ar(n,s){return Ro(n,null,null,s),wo(n)}function Pm(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var d=!1,_=n.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(d=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,d&&s!==null&&(d=31-lt(l),n=_.hiddenUpdates,u=n[d],u===null?n[d]=[s]:u.push(s),s.lane=l|536870912),_):null}function wo(n){if(50<hl)throw hl=0,mf=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Mr={};function mE(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(n,s,l,u){return new mE(n,s,l,u)}function uh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pi(n,s){var l=n.alternate;return l===null?(l=ln(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function km(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ao(n,s,l,u,d,_){var E=0;if(u=n,typeof n=="function")uh(n)&&(E=1);else if(typeof n=="string")E=yS(n,l,te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case $:return n=ln(31,l,s,d),n.elementType=$,n.lanes=_,n;case v:return As(l.children,d,_,s);case C:E=8,d|=24;break;case S:return n=ln(12,l,s,d|2),n.elementType=S,n.lanes=_,n;case D:return n=ln(13,l,s,d),n.elementType=D,n.lanes=_,n;case U:return n=ln(19,l,s,d),n.elementType=U,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case w:E=10;break e;case R:E=9;break e;case O:E=11;break e;case H:E=14;break e;case q:E=16,u=null;break e}E=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=ln(E,l,s,d),s.elementType=n,s.type=u,s.lanes=_,s}function As(n,s,l,u){return n=ln(7,n,u,s),n.lanes=l,n}function ch(n,s,l){return n=ln(6,n,null,s),n.lanes=l,n}function hh(n,s,l){return s=ln(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Or=[],Lr=0,Mo=null,Oo=0,Tn=[],Rn=0,Ms=null,xi=1,vi="";function Os(n,s){Or[Lr++]=Oo,Or[Lr++]=Mo,Mo=n,Oo=s}function Gm(n,s,l){Tn[Rn++]=xi,Tn[Rn++]=vi,Tn[Rn++]=Ms,Ms=n;var u=xi;n=vi;var d=32-lt(u)-1;u&=~(1<<d),l+=1;var _=32-lt(s)+d;if(30<_){var E=d-d%5;_=(u&(1<<E)-1).toString(32),u>>=E,d-=E,xi=1<<32-lt(s)+d|l<<d|u,vi=_+n}else xi=1<<_|l<<d|u,vi=n}function fh(n){n.return!==null&&(Os(n,1),Gm(n,1,0))}function dh(n){for(;n===Mo;)Mo=Or[--Lr],Or[Lr]=null,Oo=Or[--Lr],Or[Lr]=null;for(;n===Ms;)Ms=Tn[--Rn],Tn[Rn]=null,vi=Tn[--Rn],Tn[Rn]=null,xi=Tn[--Rn],Tn[Rn]=null}var Vt=null,Qe=null,Ne=!1,Ls=null,ni=!1,gh=Error(i(519));function Ds(n){var s=Error(i(418,""));throw Ya(Cn(s,n)),gh}function jm(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[et]=n,s[Fe]=u,l){case"dialog":we("cancel",s),we("close",s);break;case"iframe":case"object":case"embed":we("load",s);break;case"video":case"audio":for(l=0;l<dl.length;l++)we(dl[l],s);break;case"source":we("error",s);break;case"img":case"image":case"link":we("error",s),we("load",s);break;case"details":we("toggle",s);break;case"input":we("invalid",s),tm(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),_o(s);break;case"select":we("invalid",s);break;case"textarea":we("invalid",s),im(s,u.value,u.defaultValue,u.children),_o(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||ip(s.textContent,l)?(u.popover!=null&&(we("beforetoggle",s),we("toggle",s)),u.onScroll!=null&&we("scroll",s),u.onScrollEnd!=null&&we("scrollend",s),u.onClick!=null&&(s.onclick=cu),s=!0):s=!1,s||Ds(n)}function Um(n){for(Vt=n.return;Vt;)switch(Vt.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Vt=Vt.return}}function Ua(n){if(n!==Vt)return!1;if(!Ne)return Um(n),Ne=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Lf(n.type,n.memoizedProps)),l=!l),l&&Qe&&Ds(n),Um(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){Qe=Gn(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}Qe=null}}else s===27?(s=Qe,ss(n.type)?(n=If,If=null,Qe=n):Qe=s):Qe=Vt?Gn(n.stateNode.nextSibling):null;return!0}function Ba(){Qe=Vt=null,Ne=!1}function Bm(){var n=Ls;return n!==null&&($t===null?$t=n:$t.push.apply($t,n),Ls=null),n}function Ya(n){Ls===null?Ls=[n]:Ls.push(n)}var mh=G(null),Ns=null,Ei=null;function Yi(n,s,l){K(mh,s._currentValue),s._currentValue=l}function Si(n){n._currentValue=mh.current,I(mh)}function _h(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function yh(n,s,l,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){var E=d.child;_=_.firstContext;e:for(;_!==null;){var b=_;_=d;for(var M=0;M<s.length;M++)if(b.context===s[M]){_.lanes|=l,b=_.alternate,b!==null&&(b.lanes|=l),_h(_.return,l,n),u||(E=null);break e}_=b.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=l,_=E.alternate,_!==null&&(_.lanes|=l),_h(E,l,n),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===n){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Xa(n,s,l,u){n=null;for(var d=s,_=!1;d!==null;){if(!_){if((d.flags&524288)!==0)_=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=d.type;an(d.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(d===Le.current){if(E=d.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(xl):n=[xl])}d=d.return}n!==null&&yh(s,n,l,u),s.flags|=262144}function Lo(n){for(n=n.firstContext;n!==null;){if(!an(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fs(n){Ns=n,Ei=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Nt(n){return Ym(Ns,n)}function Do(n,s){return Ns===null&&Fs(n),Ym(n,s)}function Ym(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ei===null){if(n===null)throw Error(i(308));Ei=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ei=Ei.next=s;return l}var _E=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},yE=r.unstable_scheduleCallback,pE=r.unstable_NormalPriority,dt={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new _E,data:new Map,refCount:0}}function Ha(n){n.refCount--,n.refCount===0&&yE(pE,function(){n.controller.abort()})}var Va=null,xh=0,Dr=0,Nr=null;function xE(n,s){if(Va===null){var l=Va=[];xh=0,Dr=Sf(),Nr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return xh++,s.then(Xm,Xm),s}function Xm(){if(--xh===0&&Va!==null){Nr!==null&&(Nr.status="fulfilled");var n=Va;Va=null,Dr=0,Nr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function vE(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var Hm=N.S;N.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xE(n,s),Hm!==null&&Hm(n,s)};var Is=G(null);function vh(){var n=Is.current;return n!==null?n:Xe.pooledCache}function No(n,s){s===null?K(Is,Is.current):K(Is,s.pool)}function Vm(){var n=vh();return n===null?null:{parent:dt._currentValue,pool:n}}var qa=Error(i(460)),qm=Error(i(474)),Fo=Error(i(542)),Eh={then:function(){}};function Zm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Io(){}function Km(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Io,Io),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Qm(n),n;default:if(typeof s.status=="string")s.then(Io,Io);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Qm(n),n}throw Za=s,qa}}var Za=null;function Wm(){if(Za===null)throw Error(i(459));var n=Za;return Za=null,n}function Qm(n){if(n===qa||n===Fo)throw Error(i(483))}var Xi=!1;function Sh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vi(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ie&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=wo(n),Pm(n,null,l),s}return Ro(n,u,s,l),wo(n)}function Ka(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Lt(n,l)}}function bh(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?d=_=E:_=_.next=E,l=l.next}while(l!==null);_===null?d=_=s:_=_.next=s}else d=_=s;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var Th=!1;function Wa(){if(Th){var n=Nr;if(n!==null)throw n}}function Qa(n,s,l,u){Th=!1;var d=n.updateQueue;Xi=!1;var _=d.firstBaseUpdate,E=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var M=b,B=M.next;M.next=null,E===null?_=B:E.next=B,E=M;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=B:b.next=B,W.lastBaseUpdate=M))}if(_!==null){var ee=d.baseState;E=0,W=B=M=null,b=_;do{var Y=b.lane&-536870913,X=Y!==b.lane;if(X?(Ae&Y)===Y:(u&Y)===Y){Y!==0&&Y===Dr&&(Th=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=n,de=b;Y=s;var je=l;switch(de.tag){case 1:if(_e=de.payload,typeof _e=="function"){ee=_e.call(je,ee,Y);break e}ee=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=de.payload,Y=typeof _e=="function"?_e.call(je,ee,Y):_e,Y==null)break e;ee=m({},ee,Y);break e;case 2:Xi=!0}}Y=b.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(B=W=X,M=ee):W=W.next=X,E|=Y;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;X=b,b=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);W===null&&(M=ee),d.baseState=M,d.firstBaseUpdate=B,d.lastBaseUpdate=W,_===null&&(d.shared.lanes=0),es|=E,n.lanes=E,n.memoizedState=ee}}function Jm(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function $m(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Jm(l[n],s)}var Fr=G(null),zo=G(0);function e_(n,s){n=Mi,K(zo,n),K(Fr,s),Mi=n|s.baseLanes}function Rh(){K(zo,Mi),K(Fr,Fr.current)}function wh(){Mi=zo.current,I(Fr),I(zo)}var qi=0,Ce=null,ke=null,ot=null,Po=!1,Ir=!1,zs=!1,ko=0,Ja=0,zr=null,EE=0;function tt(){throw Error(i(321))}function Ah(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!an(n[l],s[l]))return!1;return!0}function Mh(n,s,l,u,d,_){return qi=_,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=n===null||n.memoizedState===null?P_:k_,zs=!1,_=l(u,d),zs=!1,Ir&&(_=n_(s,l,u,d)),t_(n),_}function t_(n){N.H=Xo;var s=ke!==null&&ke.next!==null;if(qi=0,ot=ke=Ce=null,Po=!1,Ja=0,zr=null,s)throw Error(i(300));n===null||xt||(n=n.dependencies,n!==null&&Lo(n)&&(xt=!0))}function n_(n,s,l,u){Ce=n;var d=0;do{if(Ir&&(zr=null),Ja=0,Ir=!1,25<=d)throw Error(i(301));if(d+=1,ot=ke=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}N.H=AE,_=s(l,u)}while(Ir);return _}function SE(){var n=N.H,s=n.useState()[0];return s=typeof s.then=="function"?$a(s):s,n=n.useState()[0],(ke!==null?ke.memoizedState:null)!==n&&(Ce.flags|=1024),s}function Oh(){var n=ko!==0;return ko=0,n}function Lh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Dh(n){if(Po){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Po=!1}qi=0,ot=ke=Ce=null,Ir=!1,Ja=ko=0,zr=null}function Qt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ce.memoizedState=ot=n:ot=ot.next=n,ot}function ut(){if(ke===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=ke.next;var s=ot===null?Ce.memoizedState:ot.next;if(s!==null)ot=s,ke=n;else{if(n===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));ke=n,n={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},ot===null?Ce.memoizedState=ot=n:ot=ot.next=n}return ot}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $a(n){var s=Ja;return Ja+=1,zr===null&&(zr=[]),n=Km(zr,n,s),s=Ce,(ot===null?s.memoizedState:ot.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?P_:k_),n}function Go(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return $a(n);if(n.$$typeof===w)return Nt(n)}throw Error(i(438,String(n)))}function Fh(n){var s=null,l=Ce.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Nh(),Ce.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=ne;return s.index++,l}function Ci(n,s){return typeof s=="function"?s(n):s}function jo(n){var s=ut();return Ih(s,ke,n)}function Ih(n,s,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var d=n.baseQueue,_=u.pending;if(_!==null){if(d!==null){var E=d.next;d.next=_.next,_.next=E}s.baseQueue=d=_,u.pending=null}if(_=n.baseState,d===null)n.memoizedState=_;else{s=d.next;var b=E=null,M=null,B=s,W=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(Ae&ee)===ee:(qi&ee)===ee){var Y=B.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Dr&&(W=!0);else if((qi&Y)===Y){B=B.next,Y===Dr&&(W=!0);continue}else ee={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=ee,E=_):M=M.next=ee,Ce.lanes|=Y,es|=Y;ee=B.action,zs&&l(_,ee),_=B.hasEagerState?B.eagerState:l(_,ee)}else Y={lane:ee,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(b=M=Y,E=_):M=M.next=Y,Ce.lanes|=ee,es|=ee;B=B.next}while(B!==null&&B!==s);if(M===null?E=_:M.next=b,!an(_,n.memoizedState)&&(xt=!0,W&&(l=Nr,l!==null)))throw l;n.memoizedState=_,n.baseState=E,n.baseQueue=M,u.lastRenderedState=_}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function zh(n){var s=ut(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,d=l.pending,_=s.memoizedState;if(d!==null){l.pending=null;var E=d=d.next;do _=n(_,E.action),E=E.next;while(E!==d);an(_,s.memoizedState)||(xt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,u]}function i_(n,s,l){var u=Ce,d=ut(),_=Ne;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=s();var E=!an((ke||d).memoizedState,l);E&&(d.memoizedState=l,xt=!0),d=d.queue;var b=a_.bind(null,u,d,n);if(el(2048,8,b,[n]),d.getSnapshot!==s||E||ot!==null&&ot.memoizedState.tag&1){if(u.flags|=2048,Pr(9,Uo(),r_.bind(null,u,d,l,s),null),Xe===null)throw Error(i(349));_||(qi&124)!==0||s_(u,s,l)}return l}function s_(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Ce.updateQueue,s===null?(s=Nh(),Ce.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function r_(n,s,l,u){s.value=l,s.getSnapshot=u,l_(s)&&o_(n)}function a_(n,s,l){return l(function(){l_(s)&&o_(n)})}function l_(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!an(n,l)}catch{return!0}}function o_(n){var s=Ar(n,2);s!==null&&fn(s,n,2)}function Ph(n){var s=Qt();if(typeof n=="function"){var l=n;if(n=l(),zs){bt(!0);try{l()}finally{bt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:n},s}function u_(n,s,l,u){return n.baseState=l,Ih(n,ke,typeof u=="function"?u:Ci)}function CE(n,s,l,u,d){if(Yo(n))throw Error(i(485));if(n=s.action,n!==null){var _={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};N.T!==null?l(!0):_.isTransition=!1,u(_),l=s.pending,l===null?(_.next=s.pending=_,c_(s,_)):(_.next=l.next,s.pending=l.next=_)}}function c_(n,s){var l=s.action,u=s.payload,d=n.state;if(s.isTransition){var _=N.T,E={};N.T=E;try{var b=l(d,u),M=N.S;M!==null&&M(E,b),h_(n,s,b)}catch(B){kh(n,s,B)}finally{N.T=_}}else try{_=l(d,u),h_(n,s,_)}catch(B){kh(n,s,B)}}function h_(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){f_(n,s,u)},function(u){return kh(n,s,u)}):f_(n,s,l)}function f_(n,s,l){s.status="fulfilled",s.value=l,d_(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,c_(n,l)))}function kh(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,d_(s),s=s.next;while(s!==u)}n.action=null}function d_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function g_(n,s){return s}function m_(n,s){if(Ne){var l=Xe.formState;if(l!==null){e:{var u=Ce;if(Ne){if(Qe){t:{for(var d=Qe,_=ni;d.nodeType!==8;){if(!_){d=null;break t}if(d=Gn(d.nextSibling),d===null){d=null;break t}}_=d.data,d=_==="F!"||_==="F"?d:null}if(d){Qe=Gn(d.nextSibling),u=d.data==="F!";break e}}Ds(u)}u=!1}u&&(s=l[0])}}return l=Qt(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:s},l.queue=u,l=F_.bind(null,Ce,u),u.dispatch=l,u=Ph(!1),_=Yh.bind(null,Ce,!1,u.queue),u=Qt(),d={state:s,dispatch:null,action:n,pending:null},u.queue=d,l=CE.bind(null,Ce,d,_,l),d.dispatch=l,u.memoizedState=n,[s,l,!1]}function __(n){var s=ut();return y_(s,ke,n)}function y_(n,s,l){if(s=Ih(n,s,g_)[0],n=jo(Ci)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=$a(s)}catch(E){throw E===qa?Fo:E}else u=s;s=ut();var d=s.queue,_=d.dispatch;return l!==s.memoizedState&&(Ce.flags|=2048,Pr(9,Uo(),bE.bind(null,d,l),null)),[u,_,n]}function bE(n,s){n.action=s}function p_(n){var s=ut(),l=ke;if(l!==null)return y_(s,l,n);ut(),s=s.memoizedState,l=ut();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function Pr(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=Nh(),Ce.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Uo(){return{destroy:void 0,resource:void 0}}function x_(){return ut().memoizedState}function Bo(n,s,l,u){var d=Qt();u=u===void 0?null:u,Ce.flags|=n,d.memoizedState=Pr(1|s,Uo(),l,u)}function el(n,s,l,u){var d=ut();u=u===void 0?null:u;var _=d.memoizedState.inst;ke!==null&&u!==null&&Ah(u,ke.memoizedState.deps)?d.memoizedState=Pr(s,_,l,u):(Ce.flags|=n,d.memoizedState=Pr(1|s,_,l,u))}function v_(n,s){Bo(8390656,8,n,s)}function E_(n,s){el(2048,8,n,s)}function S_(n,s){return el(4,2,n,s)}function C_(n,s){return el(4,4,n,s)}function b_(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function T_(n,s,l){l=l!=null?l.concat([n]):null,el(4,4,b_.bind(null,s,n),l)}function Gh(){}function R_(n,s){var l=ut();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Ah(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function w_(n,s){var l=ut();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Ah(s,u[1]))return u[0];if(u=n(),zs){bt(!0);try{n()}finally{bt(!1)}}return l.memoizedState=[u,s],u}function jh(n,s,l){return l===void 0||(qi&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=Oy(),Ce.lanes|=n,es|=n,l)}function A_(n,s,l,u){return an(l,s)?l:Fr.current!==null?(n=jh(n,l,u),an(n,s)||(xt=!0),n):(qi&42)===0?(xt=!0,n.memoizedState=l):(n=Oy(),Ce.lanes|=n,es|=n,s)}function M_(n,s,l,u,d){var _=P.p;P.p=_!==0&&8>_?_:8;var E=N.T,b={};N.T=b,Yh(n,!1,s,l);try{var M=d(),B=N.S;if(B!==null&&B(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=vE(M,u);tl(n,s,W,hn(n))}else tl(n,s,u,hn(n))}catch(ee){tl(n,s,{then:function(){},status:"rejected",reason:ee},hn())}finally{P.p=_,N.T=E}}function TE(){}function Uh(n,s,l,u){if(n.tag!==5)throw Error(i(476));var d=O_(n).queue;M_(n,d,s,Z,l===null?TE:function(){return L_(n),l(u)})}function O_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Z},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function L_(n){var s=O_(n).next.queue;tl(n,s,{},hn())}function Bh(){return Nt(xl)}function D_(){return ut().memoizedState}function N_(){return ut().memoizedState}function RE(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=hn();n=Hi(l);var u=Vi(s,n,l);u!==null&&(fn(u,s,l),Ka(u,s,l)),s={cache:ph()},n.payload=s;return}s=s.return}}function wE(n,s,l){var u=hn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yo(n)?I_(s,l):(l=oh(n,s,l,u),l!==null&&(fn(l,n,u),z_(l,s,u)))}function F_(n,s,l){var u=hn();tl(n,s,l,u)}function tl(n,s,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yo(n))I_(s,d);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var E=s.lastRenderedState,b=_(E,l);if(d.hasEagerState=!0,d.eagerState=b,an(b,E))return Ro(n,s,d,0),Xe===null&&To(),!1}catch{}finally{}if(l=oh(n,s,d,u),l!==null)return fn(l,n,u),z_(l,s,u),!0}return!1}function Yh(n,s,l,u){if(u={lane:2,revertLane:Sf(),action:u,hasEagerState:!1,eagerState:null,next:null},Yo(n)){if(s)throw Error(i(479))}else s=oh(n,l,u,2),s!==null&&fn(s,n,2)}function Yo(n){var s=n.alternate;return n===Ce||s!==null&&s===Ce}function I_(n,s){Ir=Po=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function z_(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Lt(n,l)}}var Xo={readContext:Nt,use:Go,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},P_={readContext:Nt,use:Go,useCallback:function(n,s){return Qt().memoizedState=[n,s===void 0?null:s],n},useContext:Nt,useEffect:v_,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Bo(4194308,4,b_.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Bo(4194308,4,n,s)},useInsertionEffect:function(n,s){Bo(4,2,n,s)},useMemo:function(n,s){var l=Qt();s=s===void 0?null:s;var u=n();if(zs){bt(!0);try{n()}finally{bt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Qt();if(l!==void 0){var d=l(s);if(zs){bt(!0);try{l(s)}finally{bt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=wE.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var s=Qt();return n={current:n},s.memoizedState=n},useState:function(n){n=Ph(n);var s=n.queue,l=F_.bind(null,Ce,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Gh,useDeferredValue:function(n,s){var l=Qt();return jh(l,n,s)},useTransition:function(){var n=Ph(!1);return n=M_.bind(null,Ce,n.queue,!0,!1),Qt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=Ce,d=Qt();if(Ne){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Xe===null)throw Error(i(349));(Ae&124)!==0||s_(u,s,l)}d.memoizedState=l;var _={value:l,getSnapshot:s};return d.queue=_,v_(a_.bind(null,u,_,n),[n]),u.flags|=2048,Pr(9,Uo(),r_.bind(null,u,_,l,s),null),l},useId:function(){var n=Qt(),s=Xe.identifierPrefix;if(Ne){var l=vi,u=xi;l=(u&~(1<<32-lt(u)-1)).toString(32)+l,s=""+s+"R"+l,l=ko++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=EE++,s=""+s+"r"+l.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Bh,useFormState:m_,useActionState:m_,useOptimistic:function(n){var s=Qt();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Yh.bind(null,Ce,!0,l),l.dispatch=s,[n,s]},useMemoCache:Fh,useCacheRefresh:function(){return Qt().memoizedState=RE.bind(null,Ce)}},k_={readContext:Nt,use:Go,useCallback:R_,useContext:Nt,useEffect:E_,useImperativeHandle:T_,useInsertionEffect:S_,useLayoutEffect:C_,useMemo:w_,useReducer:jo,useRef:x_,useState:function(){return jo(Ci)},useDebugValue:Gh,useDeferredValue:function(n,s){var l=ut();return A_(l,ke.memoizedState,n,s)},useTransition:function(){var n=jo(Ci)[0],s=ut().memoizedState;return[typeof n=="boolean"?n:$a(n),s]},useSyncExternalStore:i_,useId:D_,useHostTransitionStatus:Bh,useFormState:__,useActionState:__,useOptimistic:function(n,s){var l=ut();return u_(l,ke,n,s)},useMemoCache:Fh,useCacheRefresh:N_},AE={readContext:Nt,use:Go,useCallback:R_,useContext:Nt,useEffect:E_,useImperativeHandle:T_,useInsertionEffect:S_,useLayoutEffect:C_,useMemo:w_,useReducer:zh,useRef:x_,useState:function(){return zh(Ci)},useDebugValue:Gh,useDeferredValue:function(n,s){var l=ut();return ke===null?jh(l,n,s):A_(l,ke.memoizedState,n,s)},useTransition:function(){var n=zh(Ci)[0],s=ut().memoizedState;return[typeof n=="boolean"?n:$a(n),s]},useSyncExternalStore:i_,useId:D_,useHostTransitionStatus:Bh,useFormState:p_,useActionState:p_,useOptimistic:function(n,s){var l=ut();return ke!==null?u_(l,ke,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:N_},kr=null,nl=0;function Ho(n){var s=nl;return nl+=1,kr===null&&(kr=[]),Km(kr,n,s)}function il(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Vo(n,s){throw s.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function G_(n){var s=n._init;return s(n._payload)}function j_(n){function s(k,z){if(n){var j=k.deletions;j===null?(k.deletions=[z],k.flags|=16):j.push(z)}}function l(k,z){if(!n)return null;for(;z!==null;)s(k,z),z=z.sibling;return null}function u(k){for(var z=new Map;k!==null;)k.key!==null?z.set(k.key,k):z.set(k.index,k),k=k.sibling;return z}function d(k,z){return k=pi(k,z),k.index=0,k.sibling=null,k}function _(k,z,j){return k.index=j,n?(j=k.alternate,j!==null?(j=j.index,j<z?(k.flags|=67108866,z):j):(k.flags|=67108866,z)):(k.flags|=1048576,z)}function E(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function b(k,z,j,J){return z===null||z.tag!==6?(z=ch(j,k.mode,J),z.return=k,z):(z=d(z,j),z.return=k,z)}function M(k,z,j,J){var ue=j.type;return ue===v?W(k,z,j.props.children,J,j.key):z!==null&&(z.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===q&&G_(ue)===z.type)?(z=d(z,j.props),il(z,j),z.return=k,z):(z=Ao(j.type,j.key,j.props,null,k.mode,J),il(z,j),z.return=k,z)}function B(k,z,j,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==j.containerInfo||z.stateNode.implementation!==j.implementation?(z=hh(j,k.mode,J),z.return=k,z):(z=d(z,j.children||[]),z.return=k,z)}function W(k,z,j,J,ue){return z===null||z.tag!==7?(z=As(j,k.mode,J,ue),z.return=k,z):(z=d(z,j),z.return=k,z)}function ee(k,z,j){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=ch(""+z,k.mode,j),z.return=k,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case p:return j=Ao(z.type,z.key,z.props,null,k.mode,j),il(j,z),j.return=k,j;case x:return z=hh(z,k.mode,j),z.return=k,z;case q:var J=z._init;return z=J(z._payload),ee(k,z,j)}if(Q(z)||ie(z))return z=As(z,k.mode,j,null),z.return=k,z;if(typeof z.then=="function")return ee(k,Ho(z),j);if(z.$$typeof===w)return ee(k,Do(k,z),j);Vo(k,z)}return null}function Y(k,z,j,J){var ue=z!==null?z.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ue!==null?null:b(k,z,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case p:return j.key===ue?M(k,z,j,J):null;case x:return j.key===ue?B(k,z,j,J):null;case q:return ue=j._init,j=ue(j._payload),Y(k,z,j,J)}if(Q(j)||ie(j))return ue!==null?null:W(k,z,j,J,null);if(typeof j.then=="function")return Y(k,z,Ho(j),J);if(j.$$typeof===w)return Y(k,z,Do(k,j),J);Vo(k,j)}return null}function X(k,z,j,J,ue){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(j)||null,b(z,k,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case p:return k=k.get(J.key===null?j:J.key)||null,M(z,k,J,ue);case x:return k=k.get(J.key===null?j:J.key)||null,B(z,k,J,ue);case q:var be=J._init;return J=be(J._payload),X(k,z,j,J,ue)}if(Q(J)||ie(J))return k=k.get(j)||null,W(z,k,J,ue,null);if(typeof J.then=="function")return X(k,z,j,Ho(J),ue);if(J.$$typeof===w)return X(k,z,j,Do(z,J),ue);Vo(z,J)}return null}function _e(k,z,j,J){for(var ue=null,be=null,ce=z,me=z=0,Et=null;ce!==null&&me<j.length;me++){ce.index>me?(Et=ce,ce=null):Et=ce.sibling;var De=Y(k,ce,j[me],J);if(De===null){ce===null&&(ce=Et);break}n&&ce&&De.alternate===null&&s(k,ce),z=_(De,z,me),be===null?ue=De:be.sibling=De,be=De,ce=Et}if(me===j.length)return l(k,ce),Ne&&Os(k,me),ue;if(ce===null){for(;me<j.length;me++)ce=ee(k,j[me],J),ce!==null&&(z=_(ce,z,me),be===null?ue=ce:be.sibling=ce,be=ce);return Ne&&Os(k,me),ue}for(ce=u(ce);me<j.length;me++)Et=X(ce,k,me,j[me],J),Et!==null&&(n&&Et.alternate!==null&&ce.delete(Et.key===null?me:Et.key),z=_(Et,z,me),be===null?ue=Et:be.sibling=Et,be=Et);return n&&ce.forEach(function(us){return s(k,us)}),Ne&&Os(k,me),ue}function de(k,z,j,J){if(j==null)throw Error(i(151));for(var ue=null,be=null,ce=z,me=z=0,Et=null,De=j.next();ce!==null&&!De.done;me++,De=j.next()){ce.index>me?(Et=ce,ce=null):Et=ce.sibling;var us=Y(k,ce,De.value,J);if(us===null){ce===null&&(ce=Et);break}n&&ce&&us.alternate===null&&s(k,ce),z=_(us,z,me),be===null?ue=us:be.sibling=us,be=us,ce=Et}if(De.done)return l(k,ce),Ne&&Os(k,me),ue;if(ce===null){for(;!De.done;me++,De=j.next())De=ee(k,De.value,J),De!==null&&(z=_(De,z,me),be===null?ue=De:be.sibling=De,be=De);return Ne&&Os(k,me),ue}for(ce=u(ce);!De.done;me++,De=j.next())De=X(ce,k,me,De.value,J),De!==null&&(n&&De.alternate!==null&&ce.delete(De.key===null?me:De.key),z=_(De,z,me),be===null?ue=De:be.sibling=De,be=De);return n&&ce.forEach(function(MS){return s(k,MS)}),Ne&&Os(k,me),ue}function je(k,z,j,J){if(typeof j=="object"&&j!==null&&j.type===v&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case p:e:{for(var ue=j.key;z!==null;){if(z.key===ue){if(ue=j.type,ue===v){if(z.tag===7){l(k,z.sibling),J=d(z,j.props.children),J.return=k,k=J;break e}}else if(z.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===q&&G_(ue)===z.type){l(k,z.sibling),J=d(z,j.props),il(J,j),J.return=k,k=J;break e}l(k,z);break}else s(k,z);z=z.sibling}j.type===v?(J=As(j.props.children,k.mode,J,j.key),J.return=k,k=J):(J=Ao(j.type,j.key,j.props,null,k.mode,J),il(J,j),J.return=k,k=J)}return E(k);case x:e:{for(ue=j.key;z!==null;){if(z.key===ue)if(z.tag===4&&z.stateNode.containerInfo===j.containerInfo&&z.stateNode.implementation===j.implementation){l(k,z.sibling),J=d(z,j.children||[]),J.return=k,k=J;break e}else{l(k,z);break}else s(k,z);z=z.sibling}J=hh(j,k.mode,J),J.return=k,k=J}return E(k);case q:return ue=j._init,j=ue(j._payload),je(k,z,j,J)}if(Q(j))return _e(k,z,j,J);if(ie(j)){if(ue=ie(j),typeof ue!="function")throw Error(i(150));return j=ue.call(j),de(k,z,j,J)}if(typeof j.then=="function")return je(k,z,Ho(j),J);if(j.$$typeof===w)return je(k,z,Do(k,j),J);Vo(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,z!==null&&z.tag===6?(l(k,z.sibling),J=d(z,j),J.return=k,k=J):(l(k,z),J=ch(j,k.mode,J),J.return=k,k=J),E(k)):l(k,z)}return function(k,z,j,J){try{nl=0;var ue=je(k,z,j,J);return kr=null,ue}catch(ce){if(ce===qa||ce===Fo)throw ce;var be=ln(29,ce,null,k.mode);return be.lanes=J,be.return=k,be}finally{}}}var Gr=j_(!0),U_=j_(!1),wn=G(null),ii=null;function Zi(n){var s=n.alternate;K(gt,gt.current&1),K(wn,n),ii===null&&(s===null||Fr.current!==null||s.memoizedState!==null)&&(ii=n)}function B_(n){if(n.tag===22){if(K(gt,gt.current),K(wn,n),ii===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(ii=n)}}else Ki()}function Ki(){K(gt,gt.current),K(wn,wn.current)}function bi(n){I(wn),ii===n&&(ii=null),I(gt)}var gt=G(0);function qo(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ff(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Xh(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:m({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Hh={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=hn(),d=Hi(u);d.payload=s,l!=null&&(d.callback=l),s=Vi(n,d,u),s!==null&&(fn(s,n,u),Ka(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=hn(),d=Hi(u);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=Vi(n,d,u),s!==null&&(fn(s,n,u),Ka(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=hn(),u=Hi(l);u.tag=2,s!=null&&(u.callback=s),s=Vi(n,u,l),s!==null&&(fn(s,n,l),Ka(s,n,l))}};function Y_(n,s,l,u,d,_,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,_,E):s.prototype&&s.prototype.isPureReactComponent?!Ga(l,u)||!Ga(d,_):!0}function X_(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&Hh.enqueueReplaceState(s,s.state,null)}function Ps(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=m({},l));for(var d in n)l[d]===void 0&&(l[d]=n[d])}return l}var Zo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function H_(n){Zo(n)}function V_(n){console.error(n)}function q_(n){Zo(n)}function Ko(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Z_(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Vh(n,s,l){return l=Hi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ko(n,s)},l}function K_(n){return n=Hi(n),n.tag=3,n}function W_(n,s,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var _=u.value;n.payload=function(){return d(_)},n.callback=function(){Z_(s,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Z_(s,l,u),typeof d!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function ME(n,s,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Xa(s,l,d,!0),l=wn.current,l!==null){switch(l.tag){case 13:return ii===null?yf():l.alternate===null&&Je===0&&(Je=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===Eh?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),xf(n,u,d)),!1;case 22:return l.flags|=65536,u===Eh?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),xf(n,u,d)),!1}throw Error(i(435,l.tag))}return xf(n,u,d),yf(),!1}if(Ne)return s=wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==gh&&(n=Error(i(422),{cause:u}),Ya(Cn(n,l)))):(u!==gh&&(s=Error(i(423),{cause:u}),Ya(Cn(s,l))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=Cn(u,l),d=Vh(n.stateNode,u,d),bh(n,d),Je!==4&&(Je=2)),!1;var _=Error(i(520),{cause:u});if(_=Cn(_,l),cl===null?cl=[_]:cl.push(_),Je!==4&&(Je=2),s===null)return!0;u=Cn(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=d&-d,l.lanes|=n,n=Vh(l.stateNode,u,n),bh(l,n),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ts===null||!ts.has(_))))return l.flags|=65536,d&=-d,l.lanes|=d,d=K_(d),W_(d,n,l,u),bh(l,d),!1}l=l.return}while(l!==null);return!1}var Q_=Error(i(461)),xt=!1;function Rt(n,s,l,u){s.child=n===null?U_(s,null,l,u):Gr(s,n.child,l,u)}function J_(n,s,l,u,d){l=l.render;var _=s.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Fs(s),u=Mh(n,s,l,E,_,d),b=Oh(),n!==null&&!xt?(Lh(n,s,d),Ti(n,s,d)):(Ne&&b&&fh(s),s.flags|=1,Rt(n,s,u,d),s.child)}function $_(n,s,l,u,d){if(n===null){var _=l.type;return typeof _=="function"&&!uh(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,ey(n,s,_,u,d)):(n=Ao(l.type,null,u,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,!ef(n,d)){var E=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ga,l(E,u)&&n.ref===s.ref)return Ti(n,s,d)}return s.flags|=1,n=pi(_,u),n.ref=s.ref,n.return=s,s.child=n}function ey(n,s,l,u,d){if(n!==null){var _=n.memoizedProps;if(Ga(_,u)&&n.ref===s.ref)if(xt=!1,s.pendingProps=u=_,ef(n,d))(n.flags&131072)!==0&&(xt=!0);else return s.lanes=n.lanes,Ti(n,s,d)}return qh(n,s,l,u,d)}function ty(n,s,l){var u=s.pendingProps,d=u.children,_=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=_!==null?_.baseLanes|l:l,n!==null){for(d=s.child=n.child,_=0;d!==null;)_=_|d.lanes|d.childLanes,d=d.sibling;s.childLanes=_&~u}else s.childLanes=0,s.child=null;return ny(n,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&No(s,_!==null?_.cachePool:null),_!==null?e_(s,_):Rh(),B_(s);else return s.lanes=s.childLanes=536870912,ny(n,s,_!==null?_.baseLanes|l:l,l)}else _!==null?(No(s,_.cachePool),e_(s,_),Ki(),s.memoizedState=null):(n!==null&&No(s,null),Rh(),Ki());return Rt(n,s,d,l),s.child}function ny(n,s,l,u){var d=vh();return d=d===null?null:{parent:dt._currentValue,pool:d},s.memoizedState={baseLanes:l,cachePool:d},n!==null&&No(s,null),Rh(),B_(s),n!==null&&Xa(n,s,u,!0),null}function Wo(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function qh(n,s,l,u,d){return Fs(s),l=Mh(n,s,l,u,void 0,d),u=Oh(),n!==null&&!xt?(Lh(n,s,d),Ti(n,s,d)):(Ne&&u&&fh(s),s.flags|=1,Rt(n,s,l,d),s.child)}function iy(n,s,l,u,d,_){return Fs(s),s.updateQueue=null,l=n_(s,u,l,d),t_(n),u=Oh(),n!==null&&!xt?(Lh(n,s,_),Ti(n,s,_)):(Ne&&u&&fh(s),s.flags|=1,Rt(n,s,l,_),s.child)}function sy(n,s,l,u,d){if(Fs(s),s.stateNode===null){var _=Mr,E=l.contextType;typeof E=="object"&&E!==null&&(_=Nt(E)),_=new l(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Hh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},Sh(s),E=l.contextType,_.context=typeof E=="object"&&E!==null?Nt(E):Mr,_.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Xh(s,l,E,u),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&Hh.enqueueReplaceState(_,_.state,null),Qa(s,u,_,d),Wa(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){_=s.stateNode;var b=s.memoizedProps,M=Ps(l,b);_.props=M;var B=_.context,W=l.contextType;E=Mr,typeof W=="object"&&W!==null&&(E=Nt(W));var ee=l.getDerivedStateFromProps;W=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b||B!==E)&&X_(s,_,u,E),Xi=!1;var Y=s.memoizedState;_.state=Y,Qa(s,u,_,d),Wa(),B=s.memoizedState,b||Y!==B||Xi?(typeof ee=="function"&&(Xh(s,l,ee,u),B=s.memoizedState),(M=Xi||Y_(s,l,M,u,Y,B,E))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=B),_.props=u,_.state=B,_.context=E,u=M):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,Ch(n,s),E=s.memoizedProps,W=Ps(l,E),_.props=W,ee=s.pendingProps,Y=_.context,B=l.contextType,M=Mr,typeof B=="object"&&B!==null&&(M=Nt(B)),b=l.getDerivedStateFromProps,(B=typeof b=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==ee||Y!==M)&&X_(s,_,u,M),Xi=!1,Y=s.memoizedState,_.state=Y,Qa(s,u,_,d),Wa();var X=s.memoizedState;E!==ee||Y!==X||Xi||n!==null&&n.dependencies!==null&&Lo(n.dependencies)?(typeof b=="function"&&(Xh(s,l,b,u),X=s.memoizedState),(W=Xi||Y_(s,l,W,u,Y,X,M)||n!==null&&n.dependencies!==null&&Lo(n.dependencies))?(B||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,X,M),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,X,M)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),_.props=u,_.state=X,_.context=M,u=W):(typeof _.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),u=!1)}return _=u,Wo(n,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,n!==null&&u?(s.child=Gr(s,n.child,null,d),s.child=Gr(s,null,l,d)):Rt(n,s,l,d),s.memoizedState=_.state,n=s.child):n=Ti(n,s,d),n}function ry(n,s,l,u){return Ba(),s.flags|=256,Rt(n,s,l,u),s.child}var Zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(n){return{baseLanes:n,cachePool:Vm()}}function Wh(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=An),n}function ay(n,s,l){var u=s.pendingProps,d=!1,_=(s.flags&128)!==0,E;if((E=_)||(E=n!==null&&n.memoizedState===null?!1:(gt.current&2)!==0),E&&(d=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ne){if(d?Zi(s):Ki(),Ne){var b=Qe,M;if(M=b){e:{for(M=b,b=ni;M.nodeType!==8;){if(!b){b=null;break e}if(M=Gn(M.nextSibling),M===null){b=null;break e}}b=M}b!==null?(s.memoizedState={dehydrated:b,treeContext:Ms!==null?{id:xi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},M=ln(18,null,null,0),M.stateNode=b,M.return=s,s.child=M,Vt=s,Qe=null,M=!0):M=!1}M||Ds(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Ff(b)?s.lanes=32:s.lanes=536870912,null;bi(s)}return b=u.children,u=u.fallback,d?(Ki(),d=s.mode,b=Qo({mode:"hidden",children:b},d),u=As(u,d,l,null),b.return=s,u.return=s,b.sibling=u,s.child=b,d=s.child,d.memoizedState=Kh(l),d.childLanes=Wh(n,E,l),s.memoizedState=Zh,u):(Zi(s),Qh(s,b))}if(M=n.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(_)s.flags&256?(Zi(s),s.flags&=-257,s=Jh(n,s,l)):s.memoizedState!==null?(Ki(),s.child=n.child,s.flags|=128,s=null):(Ki(),d=u.fallback,b=s.mode,u=Qo({mode:"visible",children:u.children},b),d=As(d,b,l,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,Gr(s,n.child,null,l),u=s.child,u.memoizedState=Kh(l),u.childLanes=Wh(n,E,l),s.memoizedState=Zh,s=d);else if(Zi(s),Ff(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var B=E.dgst;E=B,u=Error(i(419)),u.stack="",u.digest=E,Ya({value:u,source:null,stack:null}),s=Jh(n,s,l)}else if(xt||Xa(n,s,l,!1),E=(l&n.childLanes)!==0,xt||E){if(E=Xe,E!==null&&(u=l&-l,u=(u&42)!==0?1:ti(u),u=(u&(E.suspendedLanes|l))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Ar(n,u),fn(E,n,u),Q_;b.data==="$?"||yf(),s=Jh(n,s,l)}else b.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=M.treeContext,Qe=Gn(b.nextSibling),Vt=s,Ne=!0,Ls=null,ni=!1,n!==null&&(Tn[Rn++]=xi,Tn[Rn++]=vi,Tn[Rn++]=Ms,xi=n.id,vi=n.overflow,Ms=s),s=Qh(s,u.children),s.flags|=4096);return s}return d?(Ki(),d=u.fallback,b=s.mode,M=n.child,B=M.sibling,u=pi(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,B!==null?d=pi(B,d):(d=As(d,b,l,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,b=n.child.memoizedState,b===null?b=Kh(l):(M=b.cachePool,M!==null?(B=dt._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=Vm(),b={baseLanes:b.baseLanes|l,cachePool:M}),d.memoizedState=b,d.childLanes=Wh(n,E,l),s.memoizedState=Zh,u):(Zi(s),l=n.child,n=l.sibling,l=pi(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=l,s.memoizedState=null,l)}function Qh(n,s){return s=Qo({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Qo(n,s){return n=ln(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Jh(n,s,l){return Gr(s,n.child,null,l),n=Qh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ly(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),_h(n.return,s,l)}function $h(n,s,l,u,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=d)}function oy(n,s,l){var u=s.pendingProps,d=u.revealOrder,_=u.tail;if(Rt(n,s,u.children,l),u=gt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ly(n,l,s);else if(n.tag===19)ly(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(K(gt,u),d){case"forwards":for(l=s.child,d=null;l!==null;)n=l.alternate,n!==null&&qo(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),$h(s,!1,d,l,_);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&qo(n)===null){s.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}$h(s,!0,l,null,_);break;case"together":$h(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ti(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),es|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Xa(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=pi(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=pi(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function ef(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Lo(n)))}function OE(n,s,l){switch(s.tag){case 3:pe(s,s.stateNode.containerInfo),Yi(s,dt,n.memoizedState.cache),Ba();break;case 27:case 5:yn(s);break;case 4:pe(s,s.stateNode.containerInfo);break;case 10:Yi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Zi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?ay(n,s,l):(Zi(s),n=Ti(n,s,l),n!==null?n.sibling:null);Zi(s);break;case 19:var d=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Xa(n,s,l,!1),u=(l&s.childLanes)!==0),d){if(u)return oy(n,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(gt,gt.current),u)break;return null;case 22:case 23:return s.lanes=0,ty(n,s,l);case 24:Yi(s,dt,n.memoizedState.cache)}return Ti(n,s,l)}function uy(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)xt=!0;else{if(!ef(n,l)&&(s.flags&128)===0)return xt=!1,OE(n,s,l);xt=(n.flags&131072)!==0}else xt=!1,Ne&&(s.flags&1048576)!==0&&Gm(s,Oo,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")uh(u)?(n=Ps(u,n),s.tag=1,s=sy(null,s,u,n,l)):(s.tag=0,s=qh(null,s,u,n,l));else{if(u!=null){if(d=u.$$typeof,d===O){s.tag=11,s=J_(null,s,u,n,l);break e}else if(d===H){s.tag=14,s=$_(null,s,u,n,l);break e}}throw s=ge(u)||u,Error(i(306,s,""))}}return s;case 0:return qh(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,d=Ps(u,s.pendingProps),sy(n,s,u,d,l);case 3:e:{if(pe(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var _=s.memoizedState;d=_.element,Ch(n,s),Qa(s,u,null,l);var E=s.memoizedState;if(u=E.cache,Yi(s,dt,u),u!==_.cache&&yh(s,[dt],l,!0),Wa(),u=E.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=ry(n,s,u,l);break e}else if(u!==d){d=Cn(Error(i(424)),s),Ya(d),s=ry(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Qe=Gn(n.firstChild),Vt=s,Ne=!0,Ls=null,ni=!0,l=U_(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ba(),u===d){s=Ti(n,s,l);break e}Rt(n,s,u,l)}s=s.child}return s;case 26:return Wo(n,s),n===null?(l=dp(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ne||(l=s.type,n=s.pendingProps,u=hu(oe.current).createElement(l),u[et]=s,u[Fe]=n,At(u,l,n),pt(u),s.stateNode=u):s.memoizedState=dp(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return yn(s),n===null&&Ne&&(u=s.stateNode=cp(s.type,s.pendingProps,oe.current),Vt=s,ni=!0,d=Qe,ss(s.type)?(If=d,Qe=Gn(u.firstChild)):Qe=d),Rt(n,s,s.pendingProps.children,l),Wo(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ne&&((d=u=Qe)&&(u=sS(u,s.type,s.pendingProps,ni),u!==null?(s.stateNode=u,Vt=s,Qe=Gn(u.firstChild),ni=!1,d=!0):d=!1),d||Ds(s)),yn(s),d=s.type,_=s.pendingProps,E=n!==null?n.memoizedProps:null,u=_.children,Lf(d,_)?u=null:E!==null&&Lf(d,E)&&(s.flags|=32),s.memoizedState!==null&&(d=Mh(n,s,SE,null,null,l),xl._currentValue=d),Wo(n,s),Rt(n,s,u,l),s.child;case 6:return n===null&&Ne&&((n=l=Qe)&&(l=rS(l,s.pendingProps,ni),l!==null?(s.stateNode=l,Vt=s,Qe=null,n=!0):n=!1),n||Ds(s)),null;case 13:return ay(n,s,l);case 4:return pe(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Gr(s,null,u,l):Rt(n,s,u,l),s.child;case 11:return J_(n,s,s.type,s.pendingProps,l);case 7:return Rt(n,s,s.pendingProps,l),s.child;case 8:return Rt(n,s,s.pendingProps.children,l),s.child;case 12:return Rt(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Yi(s,s.type,u.value),Rt(n,s,u.children,l),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Fs(s),d=Nt(d),u=u(d),s.flags|=1,Rt(n,s,u,l),s.child;case 14:return $_(n,s,s.type,s.pendingProps,l);case 15:return ey(n,s,s.type,s.pendingProps,l);case 19:return oy(n,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},n===null?(l=Qo(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=pi(n.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return ty(n,s,l);case 24:return Fs(s),u=Nt(dt),n===null?(d=vh(),d===null&&(d=Xe,_=ph(),d.pooledCache=_,_.refCount++,_!==null&&(d.pooledCacheLanes|=l),d=_),s.memoizedState={parent:u,cache:d},Sh(s),Yi(s,dt,d)):((n.lanes&l)!==0&&(Ch(n,s),Qa(s,null,null,l),Wa()),d=n.memoizedState,_=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Yi(s,dt,u)):(u=_.cache,Yi(s,dt,u),u!==d.cache&&yh(s,[dt],l,!0))),Rt(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ri(n){n.flags|=4}function cy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pp(s)){if(s=wn.current,s!==null&&((Ae&4194048)===Ae?ii!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||s!==ii))throw Za=Eh,qm;n.flags|=8192}}function Jo(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ui():536870912,n.lanes|=s,Yr|=s)}function sl(n,s){if(!Ne)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function We(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function LE(n,s,l){var u=s.pendingProps;switch(dh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(s),null;case 1:return We(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Si(dt),at(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ua(s)?Ri(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bm())),We(s),null;case 26:return l=s.memoizedState,n===null?(Ri(s),l!==null?(We(s),cy(s,l)):(We(s),s.flags&=-16777217)):l?l!==n.memoizedState?(Ri(s),We(s),cy(s,l)):(We(s),s.flags&=-16777217):(n.memoizedProps!==u&&Ri(s),We(s),s.flags&=-16777217),null;case 27:Dn(s),l=oe.current;var d=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ri(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return We(s),null}n=te.current,Ua(s)?jm(s):(n=cp(d,u,l),s.stateNode=n,Ri(s))}return We(s),null;case 5:if(Dn(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ri(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return We(s),null}if(n=te.current,Ua(s))jm(s);else{switch(d=hu(oe.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}n[et]=s,n[Fe]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=n;e:switch(At(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ri(s)}}return We(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Ri(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=oe.current,Ua(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,d=Vt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[et]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||ip(n.nodeValue,l)),n||Ds(s)}else n=hu(n).createTextNode(u),n[et]=s,s.stateNode=n}return We(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ua(s),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[et]=s}else Ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;We(s),d=!1}else d=Bm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(bi(s),s):(bi(s),null)}if(bi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==d&&(u.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),Jo(s,s.updateQueue),We(s),null;case 4:return at(),n===null&&Rf(s.stateNode.containerInfo),We(s),null;case 10:return Si(s.type),We(s),null;case 19:if(I(gt),d=s.memoizedState,d===null)return We(s),null;if(u=(s.flags&128)!==0,_=d.rendering,_===null)if(u)sl(d,!1);else{if(Je!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(_=qo(n),_!==null){for(s.flags|=128,sl(d,!1),n=_.updateQueue,s.updateQueue=n,Jo(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)km(l,n),l=l.sibling;return K(gt,gt.current&1|2),s.child}n=n.sibling}d.tail!==null&&Ye()>tu&&(s.flags|=128,u=!0,sl(d,!1),s.lanes=4194304)}else{if(!u)if(n=qo(_),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Jo(s,n),sl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!Ne)return We(s),null}else 2*Ye()-d.renderingStartTime>tu&&l!==536870912&&(s.flags|=128,u=!0,sl(d,!1),s.lanes=4194304);d.isBackwards?(_.sibling=s.child,s.child=_):(n=d.last,n!==null?n.sibling=_:s.child=_,d.last=_)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Ye(),s.sibling=null,n=gt.current,K(gt,u?n&1|2:n&1),s):(We(s),null);case 22:case 23:return bi(s),wh(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(We(s),s.subtreeFlags&6&&(s.flags|=8192)):We(s),l=s.updateQueue,l!==null&&Jo(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&I(Is),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Si(dt),We(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function DE(n,s){switch(dh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Si(dt),at(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Dn(s),null;case 13:if(bi(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ba()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return I(gt),null;case 4:return at(),null;case 10:return Si(s.type),null;case 22:case 23:return bi(s),wh(),n!==null&&I(Is),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Si(dt),null;case 25:return null;default:return null}}function hy(n,s){switch(dh(s),s.tag){case 3:Si(dt),at();break;case 26:case 27:case 5:Dn(s);break;case 4:at();break;case 13:bi(s);break;case 19:I(gt);break;case 10:Si(s.type);break;case 22:case 23:bi(s),wh(),n!==null&&I(Is);break;case 24:Si(dt)}}function rl(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&n)===n){u=void 0;var _=l.create,E=l.inst;u=_(),E.destroy=u}l=l.next}while(l!==d)}}catch(b){Be(s,s.return,b)}}function Wi(n,s,l){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var _=d.next;u=_;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,d=s;var M=l,B=b;try{B()}catch(W){Be(d,M,W)}}}u=u.next}while(u!==_)}}catch(W){Be(s,s.return,W)}}function fy(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{$m(s,l)}catch(u){Be(n,n.return,u)}}}function dy(n,s,l){l.props=Ps(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Be(n,s,u)}}function al(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(d){Be(n,s,d)}}function si(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){Be(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Be(n,s,d)}else l.current=null}function gy(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){Be(n,n.return,d)}}function tf(n,s,l){try{var u=n.stateNode;$E(u,n.type,l,s),u[Fe]=s}catch(d){Be(n,n.return,d)}}function my(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ss(n.type)||n.tag===4}function nf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||my(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ss(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sf(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=cu));else if(u!==4&&(u===27&&ss(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(sf(n,s,l),n=n.sibling;n!==null;)sf(n,s,l),n=n.sibling}function $o(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&ss(n.type)&&(l=n.stateNode),n=n.child,n!==null))for($o(n,s,l),n=n.sibling;n!==null;)$o(n,s,l),n=n.sibling}function _y(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);At(s,u,l),s[et]=n,s[Fe]=l}catch(_){Be(n,n.return,_)}}var wi=!1,nt=!1,rf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,vt=null;function NE(n,s){if(n=n.containerInfo,Mf=yu,n=Am(n),nh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var E=0,b=-1,M=-1,B=0,W=0,ee=n,Y=null;t:for(;;){for(var X;ee!==l||d!==0&&ee.nodeType!==3||(b=E+d),ee!==_||u!==0&&ee.nodeType!==3||(M=E+u),ee.nodeType===3&&(E+=ee.nodeValue.length),(X=ee.firstChild)!==null;)Y=ee,ee=X;for(;;){if(ee===n)break t;if(Y===l&&++B===d&&(b=E),Y===_&&++W===u&&(M=E),(X=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=X}l=b===-1||M===-1?null:{start:b,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Of={focusedElem:n,selectionRange:l},yu=!1,vt=s;vt!==null;)if(s=vt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,vt=n;else for(;vt!==null;){switch(s=vt,_=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,l=s,d=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var _e=Ps(l.type,d,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(_e,_),u.__reactInternalSnapshotBeforeUpdate=n}catch(de){Be(l,l.return,de)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Nf(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,vt=n;break}vt=s.return}}function py(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(n,l),u&4&&rl(5,l);break;case 1:if(Qi(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(E){Be(l,l.return,E)}else{var d=Ps(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Be(l,l.return,E)}}u&64&&fy(l),u&512&&al(l,l.return);break;case 3:if(Qi(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{$m(n,s)}catch(E){Be(l,l.return,E)}}break;case 27:s===null&&u&4&&_y(l);case 26:case 5:Qi(n,l),s===null&&u&4&&gy(l),u&512&&al(l,l.return);break;case 12:Qi(n,l);break;case 13:Qi(n,l),u&4&&Ey(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=BE.bind(null,l),aS(n,l))));break;case 22:if(u=l.memoizedState!==null||wi,!u){s=s!==null&&s.memoizedState!==null||nt,d=wi;var _=nt;wi=u,(nt=s)&&!_?Ji(n,l,(l.subtreeFlags&8772)!==0):Qi(n,l),wi=d,nt=_}break;case 30:break;default:Qi(n,l)}}function xy(n){var s=n.alternate;s!==null&&(n.alternate=null,xy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Pc(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var qe=null,Jt=!1;function Ai(n,s,l){for(l=l.child;l!==null;)vy(n,s,l),l=l.sibling}function vy(n,s,l){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(xn,l)}catch{}switch(l.tag){case 26:nt||si(l,s),Ai(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nt||si(l,s);var u=qe,d=Jt;ss(l.type)&&(qe=l.stateNode,Jt=!1),Ai(n,s,l),ml(l.stateNode),qe=u,Jt=d;break;case 5:nt||si(l,s);case 6:if(u=qe,d=Jt,qe=null,Ai(n,s,l),qe=u,Jt=d,qe!==null)if(Jt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(_){Be(l,s,_)}else try{qe.removeChild(l.stateNode)}catch(_){Be(l,s,_)}break;case 18:qe!==null&&(Jt?(n=qe,op(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Cl(n)):op(qe,l.stateNode));break;case 4:u=qe,d=Jt,qe=l.stateNode.containerInfo,Jt=!0,Ai(n,s,l),qe=u,Jt=d;break;case 0:case 11:case 14:case 15:nt||Wi(2,l,s),nt||Wi(4,l,s),Ai(n,s,l);break;case 1:nt||(si(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&dy(l,s,u)),Ai(n,s,l);break;case 21:Ai(n,s,l);break;case 22:nt=(u=nt)||l.memoizedState!==null,Ai(n,s,l),nt=u;break;default:Ai(n,s,l)}}function Ey(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Cl(n)}catch(l){Be(s,s.return,l)}}function FE(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new yy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new yy),s;default:throw Error(i(435,n.tag))}}function af(n,s){var l=FE(n);s.forEach(function(u){var d=YE.bind(null,n,u);l.has(u)||(l.add(u),u.then(d,d))})}function on(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],_=n,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ss(b.type)){qe=b.stateNode,Jt=!1;break e}break;case 5:qe=b.stateNode,Jt=!1;break e;case 3:case 4:qe=b.stateNode.containerInfo,Jt=!0;break e}b=b.return}if(qe===null)throw Error(i(160));vy(_,E,d),qe=null,Jt=!1,_=d.alternate,_!==null&&(_.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Sy(s,n),s=s.sibling}var kn=null;function Sy(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:on(s,n),un(n),u&4&&(Wi(3,n,n.return),rl(3,n),Wi(5,n,n.return));break;case 1:on(s,n),un(n),u&512&&(nt||l===null||si(l,l.return)),u&64&&wi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=kn;if(on(s,n),un(n),u&512&&(nt||l===null||si(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":_=d.getElementsByTagName("title")[0],(!_||_[Oa]||_[et]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=d.createElement(u),d.head.insertBefore(_,d.querySelector("head > title"))),At(_,u,l),_[et]=n,pt(_),u=_;break e;case"link":var E=_p("link","href",d).get(u+(l.href||""));if(E){for(var b=0;b<E.length;b++)if(_=E[b],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(b,1);break t}}_=d.createElement(u),At(_,u,l),d.head.appendChild(_);break;case"meta":if(E=_p("meta","content",d).get(u+(l.content||""))){for(b=0;b<E.length;b++)if(_=E[b],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(b,1);break t}}_=d.createElement(u),At(_,u,l),d.head.appendChild(_);break;default:throw Error(i(468,u))}_[et]=n,pt(_),u=_}n.stateNode=u}else yp(d,n.type,n.stateNode);else n.stateNode=mp(d,u,n.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?yp(d,n.type,n.stateNode):mp(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&tf(n,n.memoizedProps,l.memoizedProps)}break;case 27:on(s,n),un(n),u&512&&(nt||l===null||si(l,l.return)),l!==null&&u&4&&tf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(on(s,n),un(n),u&512&&(nt||l===null||si(l,l.return)),n.flags&32){d=n.stateNode;try{Er(d,"")}catch(X){Be(n,n.return,X)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,tf(n,d,l!==null?l.memoizedProps:d)),u&1024&&(rf=!0);break;case 6:if(on(s,n),un(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(X){Be(n,n.return,X)}}break;case 3:if(gu=null,d=kn,kn=fu(s.containerInfo),on(s,n),kn=d,un(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Cl(s.containerInfo)}catch(X){Be(n,n.return,X)}rf&&(rf=!1,Cy(n));break;case 4:u=kn,kn=fu(n.stateNode.containerInfo),on(s,n),un(n),kn=u;break;case 12:on(s,n),un(n);break;case 13:on(s,n),un(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ff=Ye()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,af(n,u)));break;case 22:d=n.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,B=wi,W=nt;if(wi=B||d,nt=W||M,on(s,n),nt=W,wi=B,un(n),u&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(l===null||M||wi||nt||ks(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){M=l=s;try{if(_=M.stateNode,d)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=M.stateNode;var ee=M.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){Be(M,M.return,X)}}}else if(s.tag===6){if(l===null){M=s;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(X){Be(M,M.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,af(n,l))));break;case 19:on(s,n),un(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,af(n,u)));break;case 30:break;case 21:break;default:on(s,n),un(n)}}function un(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(my(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,_=nf(n);$o(n,_,d);break;case 5:var E=l.stateNode;l.flags&32&&(Er(E,""),l.flags&=-33);var b=nf(n);$o(n,b,E);break;case 3:case 4:var M=l.stateNode.containerInfo,B=nf(n);sf(n,B,M);break;default:throw Error(i(161))}}catch(W){Be(n,n.return,W)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Cy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Cy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Qi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)py(n,s.alternate,s),s=s.sibling}function ks(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Wi(4,s,s.return),ks(s);break;case 1:si(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&dy(s,s.return,l),ks(s);break;case 27:ml(s.stateNode);case 26:case 5:si(s,s.return),ks(s);break;case 22:s.memoizedState===null&&ks(s);break;case 30:ks(s);break;default:ks(s)}n=n.sibling}}function Ji(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=n,_=s,E=_.flags;switch(_.tag){case 0:case 11:case 15:Ji(d,_,l),rl(4,_);break;case 1:if(Ji(d,_,l),u=_,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Be(u,u.return,B)}if(u=_,d=u.updateQueue,d!==null){var b=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Jm(M[d],b)}catch(B){Be(u,u.return,B)}}l&&E&64&&fy(_),al(_,_.return);break;case 27:_y(_);case 26:case 5:Ji(d,_,l),l&&u===null&&E&4&&gy(_),al(_,_.return);break;case 12:Ji(d,_,l);break;case 13:Ji(d,_,l),l&&E&4&&Ey(d,_);break;case 22:_.memoizedState===null&&Ji(d,_,l),al(_,_.return);break;case 30:break;default:Ji(d,_,l)}s=s.sibling}}function lf(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Ha(l))}function of(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ha(n))}function ri(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)by(n,s,l,u),s=s.sibling}function by(n,s,l,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ri(n,s,l,u),d&2048&&rl(9,s);break;case 1:ri(n,s,l,u);break;case 3:ri(n,s,l,u),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ha(n)));break;case 12:if(d&2048){ri(n,s,l,u),n=s.stateNode;try{var _=s.memoizedProps,E=_.id,b=_.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Be(s,s.return,M)}}else ri(n,s,l,u);break;case 13:ri(n,s,l,u);break;case 23:break;case 22:_=s.stateNode,E=s.alternate,s.memoizedState!==null?_._visibility&2?ri(n,s,l,u):ll(n,s):_._visibility&2?ri(n,s,l,u):(_._visibility|=2,jr(n,s,l,u,(s.subtreeFlags&10256)!==0)),d&2048&&lf(E,s);break;case 24:ri(n,s,l,u),d&2048&&of(s.alternate,s);break;default:ri(n,s,l,u)}}function jr(n,s,l,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=n,E=s,b=l,M=u,B=E.flags;switch(E.tag){case 0:case 11:case 15:jr(_,E,b,M,d),rl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?jr(_,E,b,M,d):ll(_,E):(W._visibility|=2,jr(_,E,b,M,d)),d&&B&2048&&lf(E.alternate,E);break;case 24:jr(_,E,b,M,d),d&&B&2048&&of(E.alternate,E);break;default:jr(_,E,b,M,d)}s=s.sibling}}function ll(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,d=u.flags;switch(u.tag){case 22:ll(l,u),d&2048&&lf(u.alternate,u);break;case 24:ll(l,u),d&2048&&of(u.alternate,u);break;default:ll(l,u)}s=s.sibling}}var ol=8192;function Ur(n){if(n.subtreeFlags&ol)for(n=n.child;n!==null;)Ty(n),n=n.sibling}function Ty(n){switch(n.tag){case 26:Ur(n),n.flags&ol&&n.memoizedState!==null&&xS(kn,n.memoizedState,n.memoizedProps);break;case 5:Ur(n);break;case 3:case 4:var s=kn;kn=fu(n.stateNode.containerInfo),Ur(n),kn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=ol,ol=16777216,Ur(n),ol=s):Ur(n));break;default:Ur(n)}}function Ry(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ul(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vt=u,Ay(u,n)}Ry(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(n),n=n.sibling}function wy(n){switch(n.tag){case 0:case 11:case 15:ul(n),n.flags&2048&&Wi(9,n,n.return);break;case 3:ul(n);break;case 12:ul(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,eu(n)):ul(n);break;default:ul(n)}}function eu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vt=u,Ay(u,n)}Ry(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Wi(8,s,s.return),eu(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,eu(s));break;default:eu(s)}n=n.sibling}}function Ay(n,s){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:Wi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ha(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,vt=u;else e:for(l=n;vt!==null;){u=vt;var d=u.sibling,_=u.return;if(xy(u),u===l){vt=null;break e}if(d!==null){d.return=_,vt=d;break e}vt=_}}}var IE={getCacheForType:function(n){var s=Nt(dt),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},zE=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Xe=null,Re=null,Ae=0,ze=0,cn=null,$i=!1,Br=!1,uf=!1,Mi=0,Je=0,es=0,Gs=0,cf=0,An=0,Yr=0,cl=null,$t=null,hf=!1,ff=0,tu=1/0,nu=null,ts=null,wt=0,ns=null,Xr=null,Hr=0,df=0,gf=null,My=null,hl=0,mf=null;function hn(){if((Ie&2)!==0&&Ae!==0)return Ae&-Ae;if(N.T!==null){var n=Dr;return n!==0?n:Sf()}return vn()}function Oy(){An===0&&(An=(Ae&536870912)===0||Ne?gr():536870912);var n=wn.current;return n!==null&&(n.flags|=32),An}function fn(n,s,l){(n===Xe&&(ze===2||ze===9)||n.cancelPendingCommit!==null)&&(Vr(n,0),is(n,Ae,An,!1)),zn(n,l),((Ie&2)===0||n!==Xe)&&(n===Xe&&((Ie&2)===0&&(Gs|=l),Je===4&&is(n,Ae,An,!1)),ai(n))}function Ly(n,s,l){if((Ie&6)!==0)throw Error(i(327));var u=!l&&(s&124)===0&&(s&n.expiredLanes)===0||gi(n,s),d=u?GE(n,s):pf(n,s,!0),_=u;do{if(d===0){Br&&!u&&is(n,s,0,!1);break}else{if(l=n.current.alternate,_&&!PE(l)){d=pf(n,s,!1),_=!1;continue}if(d===2){if(_=s,n.errorRecoveryDisabledLanes&_)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=n;d=cl;var M=b.current.memoizedState.isDehydrated;if(M&&(Vr(b,E).flags|=256),E=pf(b,E,!1),E!==2){if(uf&&!M){b.errorRecoveryDisabledLanes|=_,Gs|=_,d=4;break e}_=$t,$t=d,_!==null&&($t===null?$t=_:$t.push.apply($t,_))}d=E}if(_=!1,d!==2)continue}}if(d===1){Vr(n,0),is(n,s,0,!0);break}e:{switch(u=n,_=d,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:is(u,s,An,!$i);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=ff+300-Ye(),10<d)){if(is(u,s,An,!$i),Cs(u,0,!0)!==0)break e;u.timeoutHandle=ap(Dy.bind(null,u,l,$t,nu,hf,s,An,Gs,Yr,$i,_,2,-0,0),d);break e}Dy(u,l,$t,nu,hf,s,An,Gs,Yr,$i,_,0,-0,0)}}break}while(!0);ai(n)}function Dy(n,s,l,u,d,_,E,b,M,B,W,ee,Y,X){if(n.timeoutHandle=-1,ee=s.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:pS},Ty(s),ee=vS(),ee!==null)){n.cancelPendingCommit=ee(Gy.bind(null,n,s,_,l,u,d,E,b,M,W,1,Y,X)),is(n,_,E,!B);return}Gy(n,s,_,l,u,d,E,b,M)}function PE(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],_=d.getSnapshot;d=d.value;try{if(!an(_(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(n,s,l,u){s&=~cf,s&=~Gs,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var d=s;0<d;){var _=31-lt(d),E=1<<_;u[_]=-1,d&=~E}l!==0&&Ma(n,l,s)}function iu(){return(Ie&6)===0?(fl(0),!1):!0}function _f(){if(Re!==null){if(ze===0)var n=Re.return;else n=Re,Ei=Ns=null,Dh(n),kr=null,nl=0,n=Re;for(;n!==null;)hy(n.alternate,n),n=n.return;Re=null}}function Vr(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,tS(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),_f(),Xe=n,Re=l=pi(n.current,null),Ae=s,ze=0,cn=null,$i=!1,Br=gi(n,s),uf=!1,Yr=An=cf=Gs=es=Je=0,$t=cl=null,hf=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var d=31-lt(u),_=1<<d;s|=n[d],u&=~_}return Mi=s,To(),l}function Ny(n,s){Ce=null,N.H=Xo,s===qa||s===Fo?(s=Wm(),ze=3):s===qm?(s=Wm(),ze=4):ze=s===Q_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,cn=s,Re===null&&(Je=1,Ko(n,Cn(s,n.current)))}function Fy(){var n=N.H;return N.H=Xo,n===null?Xo:n}function Iy(){var n=N.A;return N.A=IE,n}function yf(){Je=4,$i||(Ae&4194048)!==Ae&&wn.current!==null||(Br=!0),(es&134217727)===0&&(Gs&134217727)===0||Xe===null||is(Xe,Ae,An,!1)}function pf(n,s,l){var u=Ie;Ie|=2;var d=Fy(),_=Iy();(Xe!==n||Ae!==s)&&(nu=null,Vr(n,s)),s=!1;var E=Je;e:do try{if(ze!==0&&Re!==null){var b=Re,M=cn;switch(ze){case 8:_f(),E=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(s=!0);var B=ze;if(ze=0,cn=null,qr(n,b,M,B),l&&Br){E=0;break e}break;default:B=ze,ze=0,cn=null,qr(n,b,M,B)}}kE(),E=Je;break}catch(W){Ny(n,W)}while(!0);return s&&n.shellSuspendCounter++,Ei=Ns=null,Ie=u,N.H=d,N.A=_,Re===null&&(Xe=null,Ae=0,To()),E}function kE(){for(;Re!==null;)zy(Re)}function GE(n,s){var l=Ie;Ie|=2;var u=Fy(),d=Iy();Xe!==n||Ae!==s?(nu=null,tu=Ye()+500,Vr(n,s)):Br=gi(n,s);e:do try{if(ze!==0&&Re!==null){s=Re;var _=cn;t:switch(ze){case 1:ze=0,cn=null,qr(n,s,_,1);break;case 2:case 9:if(Zm(_)){ze=0,cn=null,Py(s);break}s=function(){ze!==2&&ze!==9||Xe!==n||(ze=7),ai(n)},_.then(s,s);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Zm(_)?(ze=0,cn=null,Py(s)):(ze=0,cn=null,qr(n,s,_,7));break;case 5:var E=null;switch(Re.tag){case 26:E=Re.memoizedState;case 5:case 27:var b=Re;if(!E||pp(E)){ze=0,cn=null;var M=b.sibling;if(M!==null)Re=M;else{var B=b.return;B!==null?(Re=B,su(B)):Re=null}break t}}ze=0,cn=null,qr(n,s,_,5);break;case 6:ze=0,cn=null,qr(n,s,_,6);break;case 8:_f(),Je=6;break e;default:throw Error(i(462))}}jE();break}catch(W){Ny(n,W)}while(!0);return Ei=Ns=null,N.H=u,N.A=d,Ie=l,Re!==null?0:(Xe=null,Ae=0,To(),Je)}function jE(){for(;Re!==null&&!Oe();)zy(Re)}function zy(n){var s=uy(n.alternate,n,Mi);n.memoizedProps=n.pendingProps,s===null?su(n):Re=s}function Py(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=iy(l,s,s.pendingProps,s.type,void 0,Ae);break;case 11:s=iy(l,s,s.pendingProps,s.type.render,s.ref,Ae);break;case 5:Dh(s);default:hy(l,s),s=Re=km(s,Mi),s=uy(l,s,Mi)}n.memoizedProps=n.pendingProps,s===null?su(n):Re=s}function qr(n,s,l,u){Ei=Ns=null,Dh(s),kr=null,nl=0;var d=s.return;try{if(ME(n,d,s,l,Ae)){Je=1,Ko(n,Cn(l,n.current)),Re=null;return}}catch(_){if(d!==null)throw Re=d,_;Je=1,Ko(n,Cn(l,n.current)),Re=null;return}s.flags&32768?(Ne||u===1?n=!0:Br||(Ae&536870912)!==0?n=!1:($i=n=!0,(u===2||u===9||u===3||u===6)&&(u=wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ky(s,n)):su(s)}function su(n){var s=n;do{if((s.flags&32768)!==0){ky(s,$i);return}n=s.return;var l=LE(s.alternate,s,Mi);if(l!==null){Re=l;return}if(s=s.sibling,s!==null){Re=s;return}Re=s=n}while(s!==null);Je===0&&(Je=5)}function ky(n,s){do{var l=DE(n.alternate,n);if(l!==null){l.flags&=32767,Re=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Re=n;return}Re=n=l}while(n!==null);Je=6,Re=null}function Gy(n,s,l,u,d,_,E,b,M){n.cancelPendingCommit=null;do ru();while(wt!==0);if((Ie&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=lh,fo(n,l,_,E,b,M),n===Xe&&(Re=Xe=null,Ae=0),Xr=s,ns=n,Hr=l,df=_,gf=d,My=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,XE(ji,function(){return Xy(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=N.T,N.T=null,d=P.p,P.p=2,E=Ie,Ie|=4;try{NE(n,s,l)}finally{Ie=E,P.p=d,N.T=u}}wt=1,jy(),Uy(),By()}}function jy(){if(wt===1){wt=0;var n=ns,s=Xr,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=N.T,N.T=null;var u=P.p;P.p=2;var d=Ie;Ie|=4;try{Sy(s,n);var _=Of,E=Am(n.containerInfo),b=_.focusedElem,M=_.selectionRange;if(E!==b&&b&&b.ownerDocument&&wm(b.ownerDocument.documentElement,b)){if(M!==null&&nh(b)){var B=M.start,W=M.end;if(W===void 0&&(W=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(W,b.value.length);else{var ee=b.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),_e=b.textContent.length,de=Math.min(M.start,_e),je=M.end===void 0?de:Math.min(M.end,_e);!X.extend&&de>je&&(E=je,je=de,de=E);var k=Rm(b,de),z=Rm(b,je);if(k&&z&&(X.rangeCount!==1||X.anchorNode!==k.node||X.anchorOffset!==k.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var j=ee.createRange();j.setStart(k.node,k.offset),X.removeAllRanges(),de>je?(X.addRange(j),X.extend(z.node,z.offset)):(j.setEnd(z.node,z.offset),X.addRange(j))}}}}for(ee=[],X=b;X=X.parentNode;)X.nodeType===1&&ee.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var J=ee[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}yu=!!Mf,Of=Mf=null}finally{Ie=d,P.p=u,N.T=l}}n.current=s,wt=2}}function Uy(){if(wt===2){wt=0;var n=ns,s=Xr,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=N.T,N.T=null;var u=P.p;P.p=2;var d=Ie;Ie|=4;try{py(n,s.alternate,s)}finally{Ie=d,P.p=u,N.T=l}}wt=3}}function By(){if(wt===4||wt===3){wt=0,Ke();var n=ns,s=Xr,l=Hr,u=My;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wt=5:(wt=0,Xr=ns=null,Yy(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ts=null),Dt(l),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(xn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=N.T,d=P.p,P.p=2,N.T=null;try{for(var _=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];_(b.value,{componentStack:b.stack})}}finally{N.T=s,P.p=d}}(Hr&3)!==0&&ru(),ai(n),d=n.pendingLanes,(l&4194090)!==0&&(d&42)!==0?n===mf?hl++:(hl=0,mf=n):hl=0,fl(0)}}function Yy(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ha(s)))}function ru(n){return jy(),Uy(),By(),Xy()}function Xy(){if(wt!==5)return!1;var n=ns,s=df;df=0;var l=Dt(Hr),u=N.T,d=P.p;try{P.p=32>l?32:l,N.T=null,l=gf,gf=null;var _=ns,E=Hr;if(wt=0,Xr=ns=null,Hr=0,(Ie&6)!==0)throw Error(i(331));var b=Ie;if(Ie|=4,wy(_.current),by(_,_.current,E,l),Ie=b,fl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(xn,_)}catch{}return!0}finally{P.p=d,N.T=u,Yy(n,s)}}function Hy(n,s,l){s=Cn(l,s),s=Vh(n.stateNode,s,2),n=Vi(n,s,2),n!==null&&(zn(n,2),ai(n))}function Be(n,s,l){if(n.tag===3)Hy(n,n,l);else for(;s!==null;){if(s.tag===3){Hy(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ts===null||!ts.has(u))){n=Cn(l,n),l=K_(2),u=Vi(s,l,2),u!==null&&(W_(l,u,s,n),zn(u,2),ai(u));break}}s=s.return}}function xf(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new zE;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(l)||(uf=!0,d.add(l),n=UE.bind(null,n,s,l),s.then(n,n))}function UE(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Xe===n&&(Ae&l)===l&&(Je===4||Je===3&&(Ae&62914560)===Ae&&300>Ye()-ff?(Ie&2)===0&&Vr(n,0):cf|=l,Yr===Ae&&(Yr=0)),ai(n)}function Vy(n,s){s===0&&(s=Ui()),n=Ar(n,s),n!==null&&(zn(n,s),ai(n))}function BE(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Vy(n,l)}function YE(n,s){var l=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Vy(n,l)}function XE(n,s){return $n(n,s)}var au=null,Zr=null,vf=!1,lu=!1,Ef=!1,js=0;function ai(n){n!==Zr&&n.next===null&&(Zr===null?au=Zr=n:Zr=Zr.next=n),lu=!0,vf||(vf=!0,VE())}function fl(n,s){if(!Ef&&lu){Ef=!0;do for(var l=!1,u=au;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var _=0;else{var E=u.suspendedLanes,b=u.pingedLanes;_=(1<<31-lt(42|n)+1)-1,_&=d&~(E&~b),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Wy(u,_))}else _=Ae,_=Cs(u,u===Xe?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||gi(u,_)||(l=!0,Wy(u,_));u=u.next}while(l);Ef=!1}}function HE(){qy()}function qy(){lu=vf=!1;var n=0;js!==0&&(eS()&&(n=js),js=0);for(var s=Ye(),l=null,u=au;u!==null;){var d=u.next,_=Zy(u,s);_===0?(u.next=null,l===null?au=d:l.next=d,d===null&&(Zr=l)):(l=u,(n!==0||(_&3)!==0)&&(lu=!0)),u=d}fl(n)}function Zy(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var E=31-lt(_),b=1<<E,M=d[E];M===-1?((b&l)===0||(b&u)!==0)&&(d[E]=ho(b,s)):M<=s&&(n.expiredLanes|=b),_&=~b}if(s=Xe,l=Ae,l=Cs(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(ze===2||ze===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Kt(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||gi(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&Kt(u),Dt(l)){case 2:case 8:l=Fn;break;case 32:l=ji;break;case 268435456:l=Xt;break;default:l=ji}return u=Ky.bind(null,n),l=$n(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&Kt(u),n.callbackPriority=2,n.callbackNode=null,2}function Ky(n,s){if(wt!==0&&wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(ru()&&n.callbackNode!==l)return null;var u=Ae;return u=Cs(n,n===Xe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Ly(n,u,s),Zy(n,Ye()),n.callbackNode!=null&&n.callbackNode===l?Ky.bind(null,n):null)}function Wy(n,s){if(ru())return null;Ly(n,s,!0)}function VE(){nS(function(){(Ie&6)!==0?$n(Nn,HE):qy()})}function Sf(){return js===0&&(js=gr()),js}function Qy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:po(""+n)}function Jy(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function qE(n,s,l,u,d){if(s==="submit"&&l&&l.stateNode===d){var _=Qy((d[Fe]||null).action),E=u.submitter;E&&(s=(s=E[Fe]||null)?Qy(s.formAction):E.getAttribute("formAction"),s!==null&&(_=s,E=null));var b=new So("action","action",null,u,d);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(js!==0){var M=E?Jy(d,E):new FormData(d);Uh(l,{pending:!0,data:M,method:d.method,action:_},null,M)}}else typeof _=="function"&&(b.preventDefault(),M=E?Jy(d,E):new FormData(d),Uh(l,{pending:!0,data:M,method:d.method,action:_},_,M))},currentTarget:d}]})}}for(var Cf=0;Cf<ah.length;Cf++){var bf=ah[Cf],ZE=bf.toLowerCase(),KE=bf[0].toUpperCase()+bf.slice(1);Pn(ZE,"on"+KE)}Pn(Lm,"onAnimationEnd"),Pn(Dm,"onAnimationIteration"),Pn(Nm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(fE,"onTransitionRun"),Pn(dE,"onTransitionStart"),Pn(gE,"onTransitionCancel"),Pn(Fm,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function $y(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],d=u.event;u=u.listeners;e:{var _=void 0;if(s)for(var E=u.length-1;0<=E;E--){var b=u[E],M=b.instance,B=b.currentTarget;if(b=b.listener,M!==_&&d.isPropagationStopped())break e;_=b,d.currentTarget=B;try{_(d)}catch(W){Zo(W)}d.currentTarget=null,_=M}else for(E=0;E<u.length;E++){if(b=u[E],M=b.instance,B=b.currentTarget,b=b.listener,M!==_&&d.isPropagationStopped())break e;_=b,d.currentTarget=B;try{_(d)}catch(W){Zo(W)}d.currentTarget=null,_=M}}}}function we(n,s){var l=s[rn];l===void 0&&(l=s[rn]=new Set);var u=n+"__bubble";l.has(u)||(ep(s,n,2,!1),l.add(u))}function Tf(n,s,l){var u=0;s&&(u|=4),ep(l,n,u,s)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Rf(n){if(!n[ou]){n[ou]=!0,qg.forEach(function(l){l!=="selectionchange"&&(WE.has(l)||Tf(l,!1,n),Tf(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ou]||(s[ou]=!0,Tf("selectionchange",!1,s))}}function ep(n,s,l,u){switch(bp(s)){case 2:var d=CS;break;case 8:d=bS;break;default:d=jf}l=d.bind(null,s,l,n),d=void 0,!qc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(s,l,{capture:!0,passive:d}):n.addEventListener(s,l,!0):d!==void 0?n.addEventListener(s,l,{passive:d}):n.addEventListener(s,l,!1)}function wf(n,s,l,u,d){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===d)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;b!==null;){if(E=mr(b),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=_=E;continue e}b=b.parentNode}}u=u.return}lm(function(){var B=_,W=Hc(l),ee=[];e:{var Y=Im.get(n);if(Y!==void 0){var X=So,_e=n;switch(n){case"keypress":if(vo(l)===0)break e;case"keydown":case"keyup":X=Xv;break;case"focusin":_e="focus",X=Qc;break;case"focusout":_e="blur",X=Qc;break;case"beforeblur":case"afterblur":X=Qc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=qv;break;case Lm:case Dm:case Nm:X=Iv;break;case Fm:X=Kv;break;case"scroll":case"scrollend":X=Ov;break;case"wheel":X=Qv;break;case"copy":case"cut":case"paste":X=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=fm;break;case"toggle":case"beforetoggle":X=$v}var de=(s&4)!==0,je=!de&&(n==="scroll"||n==="scrollend"),k=de?Y!==null?Y+"Capture":null:Y;de=[];for(var z=B,j;z!==null;){var J=z;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||k===null||(J=Da(z,k),J!=null&&de.push(gl(z,J,j))),je)break;z=z.return}0<de.length&&(Y=new X(Y,_e,null,l,W),ee.push({event:Y,listeners:de}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&l!==Xc&&(_e=l.relatedTarget||l.fromElement)&&(mr(_e)||_e[ft]))break e;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(_e=l.relatedTarget||l.toElement,X=B,_e=_e?mr(_e):null,_e!==null&&(je=o(_e),de=_e.tag,_e!==je||de!==5&&de!==27&&de!==6)&&(_e=null)):(X=null,_e=B),X!==_e)){if(de=cm,J="onMouseLeave",k="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(de=fm,J="onPointerLeave",k="onPointerEnter",z="pointer"),je=X==null?Y:La(X),j=_e==null?Y:La(_e),Y=new de(J,z+"leave",X,l,W),Y.target=je,Y.relatedTarget=j,J=null,mr(W)===B&&(de=new de(k,z+"enter",_e,l,W),de.target=j,de.relatedTarget=je,J=de),je=J,X&&_e)t:{for(de=X,k=_e,z=0,j=de;j;j=Kr(j))z++;for(j=0,J=k;J;J=Kr(J))j++;for(;0<z-j;)de=Kr(de),z--;for(;0<j-z;)k=Kr(k),j--;for(;z--;){if(de===k||k!==null&&de===k.alternate)break t;de=Kr(de),k=Kr(k)}de=null}else de=null;X!==null&&tp(ee,Y,X,de,!1),_e!==null&&je!==null&&tp(ee,je,_e,de,!0)}}e:{if(Y=B?La(B):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var ue=vm;else if(pm(Y))if(Em)ue=uE;else{ue=lE;var be=aE}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?B&&Yc(B.elementType)&&(ue=vm):ue=oE;if(ue&&(ue=ue(n,B))){xm(ee,ue,l,W);break e}be&&be(n,Y,B),n==="focusout"&&B&&Y.type==="number"&&B.memoizedProps.value!=null&&Bc(Y,"number",Y.value)}switch(be=B?La(B):window,n){case"focusin":(pm(be)||be.contentEditable==="true")&&(Tr=be,ih=B,ja=null);break;case"focusout":ja=ih=Tr=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Mm(ee,l,W);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Mm(ee,l,W)}var ce;if($c)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else br?_m(n,l)&&(me="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(me="onCompositionStart");me&&(dm&&l.locale!=="ko"&&(br||me!=="onCompositionStart"?me==="onCompositionEnd"&&br&&(ce=om()):(Bi=W,Zc="value"in Bi?Bi.value:Bi.textContent,br=!0)),be=uu(B,me),0<be.length&&(me=new hm(me,n,null,l,W),ee.push({event:me,listeners:be}),ce?me.data=ce:(ce=ym(l),ce!==null&&(me.data=ce)))),(ce=tE?nE(n,l):iE(n,l))&&(me=uu(B,"onBeforeInput"),0<me.length&&(be=new hm("onBeforeInput","beforeinput",null,l,W),ee.push({event:be,listeners:me}),be.data=ce)),qE(ee,n,B,l,W)}$y(ee,s)})}function gl(n,s,l){return{instance:n,listener:s,currentTarget:l}}function uu(n,s){for(var l=s+"Capture",u=[];n!==null;){var d=n,_=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||_===null||(d=Da(n,l),d!=null&&u.unshift(gl(n,d,_)),d=Da(n,s),d!=null&&u.push(gl(n,d,_))),n.tag===3)return u;n=n.return}return[]}function Kr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function tp(n,s,l,u,d){for(var _=s._reactName,E=[];l!==null&&l!==u;){var b=l,M=b.alternate,B=b.stateNode;if(b=b.tag,M!==null&&M===u)break;b!==5&&b!==26&&b!==27||B===null||(M=B,d?(B=Da(l,_),B!=null&&E.unshift(gl(l,B,M))):d||(B=Da(l,_),B!=null&&E.push(gl(l,B,M)))),l=l.return}E.length!==0&&n.push({event:s,listeners:E})}var QE=/\r\n?/g,JE=/\u0000|\uFFFD/g;function np(n){return(typeof n=="string"?n:""+n).replace(QE,`
`).replace(JE,"")}function ip(n,s){return s=np(s),np(n)===s}function cu(){}function Ge(n,s,l,u,d,_){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Er(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Er(n,""+u);break;case"className":mo(n,"class",u);break;case"tabIndex":mo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":mo(n,l,u);break;case"style":rm(n,u,_);break;case"data":if(s!=="object"){mo(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=po(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Ge(n,s,"name",d.name,d,null),Ge(n,s,"formEncType",d.formEncType,d,null),Ge(n,s,"formMethod",d.formMethod,d,null),Ge(n,s,"formTarget",d.formTarget,d,null)):(Ge(n,s,"encType",d.encType,d,null),Ge(n,s,"method",d.method,d,null),Ge(n,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=po(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=cu);break;case"onScroll":u!=null&&we("scroll",n);break;case"onScrollEnd":u!=null&&we("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=po(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":we("beforetoggle",n),we("toggle",n),go(n,"popover",u);break;case"xlinkActuate":_i(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_i(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_i(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_i(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_i(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_i(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_i(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_i(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_i(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":go(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Av.get(l)||l,go(n,l,u))}}function Af(n,s,l,u,d,_){switch(l){case"style":rm(n,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Er(n,u):(typeof u=="number"||typeof u=="bigint")&&Er(n,""+u);break;case"onScroll":u!=null&&we("scroll",n);break;case"onScrollEnd":u!=null&&we("scrollend",n);break;case"onClick":u!=null&&(n.onclick=cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zg.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),_=n[Fe]||null,_=_!=null?_[l]:null,typeof _=="function"&&n.removeEventListener(s,_,d),typeof u=="function")){typeof _!="function"&&_!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,d);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):go(n,l,u)}}}function At(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",n),we("load",n);var u=!1,d=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var E=l[_];if(E!=null)switch(_){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ge(n,s,_,E,l,null)}}d&&Ge(n,s,"srcSet",l.srcSet,l,null),u&&Ge(n,s,"src",l.src,l,null);return;case"input":we("invalid",n);var b=_=E=d=null,M=null,B=null;for(u in l)if(l.hasOwnProperty(u)){var W=l[u];if(W!=null)switch(u){case"name":d=W;break;case"type":E=W;break;case"checked":M=W;break;case"defaultChecked":B=W;break;case"value":_=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:Ge(n,s,u,W,l,null)}}tm(n,_,b,M,B,E,d,!1),_o(n);return;case"select":we("invalid",n),u=E=_=null;for(d in l)if(l.hasOwnProperty(d)&&(b=l[d],b!=null))switch(d){case"value":_=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Ge(n,s,d,b,l,null)}s=_,l=E,n.multiple=!!u,s!=null?vr(n,!!u,s,!1):l!=null&&vr(n,!!u,l,!0);return;case"textarea":we("invalid",n),_=d=u=null;for(E in l)if(l.hasOwnProperty(E)&&(b=l[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":d=b;break;case"children":_=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Ge(n,s,E,b,l,null)}im(n,u,d,_),_o(n);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(u=l[M],u!=null))switch(M){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ge(n,s,M,u,l,null)}return;case"dialog":we("beforetoggle",n),we("toggle",n),we("cancel",n),we("close",n);break;case"iframe":case"object":we("load",n);break;case"video":case"audio":for(u=0;u<dl.length;u++)we(dl[u],n);break;case"image":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"embed":case"source":case"link":we("error",n),we("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in l)if(l.hasOwnProperty(B)&&(u=l[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ge(n,s,B,u,l,null)}return;default:if(Yc(s)){for(W in l)l.hasOwnProperty(W)&&(u=l[W],u!==void 0&&Af(n,s,W,u,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(u=l[b],u!=null&&Ge(n,s,b,u,l,null))}function $E(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,_=null,E=null,b=null,M=null,B=null,W=null;for(X in l){var ee=l[X];if(l.hasOwnProperty(X)&&ee!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=ee;default:u.hasOwnProperty(X)||Ge(n,s,X,null,u,ee)}}for(var Y in u){var X=u[Y];if(ee=l[Y],u.hasOwnProperty(Y)&&(X!=null||ee!=null))switch(Y){case"type":_=X;break;case"name":d=X;break;case"checked":B=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==ee&&Ge(n,s,Y,X,u,ee)}}Uc(n,E,b,M,B,W,_,d);return;case"select":X=E=b=Y=null;for(_ in l)if(M=l[_],l.hasOwnProperty(_)&&M!=null)switch(_){case"value":break;case"multiple":X=M;default:u.hasOwnProperty(_)||Ge(n,s,_,null,u,M)}for(d in u)if(_=u[d],M=l[d],u.hasOwnProperty(d)&&(_!=null||M!=null))switch(d){case"value":Y=_;break;case"defaultValue":b=_;break;case"multiple":E=_;default:_!==M&&Ge(n,s,d,_,u,M)}s=b,l=E,u=X,Y!=null?vr(n,!!l,Y,!1):!!u!=!!l&&(s!=null?vr(n,!!l,s,!0):vr(n,!!l,l?[]:"",!1));return;case"textarea":X=Y=null;for(b in l)if(d=l[b],l.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ge(n,s,b,null,u,d)}for(E in u)if(d=u[E],_=l[E],u.hasOwnProperty(E)&&(d!=null||_!=null))switch(E){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==_&&Ge(n,s,E,d,u,_)}nm(n,Y,X);return;case"option":for(var _e in l)if(Y=l[_e],l.hasOwnProperty(_e)&&Y!=null&&!u.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:Ge(n,s,_e,null,u,Y)}for(M in u)if(Y=u[M],X=l[M],u.hasOwnProperty(M)&&Y!==X&&(Y!=null||X!=null))switch(M){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ge(n,s,M,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in l)Y=l[de],l.hasOwnProperty(de)&&Y!=null&&!u.hasOwnProperty(de)&&Ge(n,s,de,null,u,Y);for(B in u)if(Y=u[B],X=l[B],u.hasOwnProperty(B)&&Y!==X&&(Y!=null||X!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Ge(n,s,B,Y,u,X)}return;default:if(Yc(s)){for(var je in l)Y=l[je],l.hasOwnProperty(je)&&Y!==void 0&&!u.hasOwnProperty(je)&&Af(n,s,je,void 0,u,Y);for(W in u)Y=u[W],X=l[W],!u.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||Af(n,s,W,Y,u,X);return}}for(var k in l)Y=l[k],l.hasOwnProperty(k)&&Y!=null&&!u.hasOwnProperty(k)&&Ge(n,s,k,null,u,Y);for(ee in u)Y=u[ee],X=l[ee],!u.hasOwnProperty(ee)||Y===X||Y==null&&X==null||Ge(n,s,ee,Y,u,X)}var Mf=null,Of=null;function hu(n){return n.nodeType===9?n:n.ownerDocument}function sp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rp(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Lf(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Df=null;function eS(){var n=window.event;return n&&n.type==="popstate"?n===Df?!1:(Df=n,!0):(Df=null,!1)}var ap=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(n){return lp.resolve(null).then(n).catch(iS)}:ap;function iS(n){setTimeout(function(){throw n})}function ss(n){return n==="head"}function op(n,s){var l=s,u=0,d=0;do{var _=l.nextSibling;if(n.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<u&&8>u){l=u;var E=n.ownerDocument;if(l&1&&ml(E.documentElement),l&2&&ml(E.body),l&4)for(l=E.head,ml(l),E=l.firstChild;E;){var b=E.nextSibling,M=E.nodeName;E[Oa]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=b}}if(d===0){n.removeChild(_),Cl(s);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:u=l.charCodeAt(0)-48;else u=0;l=_}while(l);Cl(s)}function Nf(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Nf(l),Pc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function sS(n,s,l,u){for(;n.nodeType===1;){var d=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Oa])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var _=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function rS(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Gn(n.nextSibling),n===null))return null;return n}function Ff(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function aS(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Gn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var If=null;function up(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function cp(n,s,l){switch(s=hu(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ml(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Pc(n)}var Mn=new Map,hp=new Set;function fu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Oi=P.d;P.d={f:lS,r:oS,D:uS,C:cS,L:hS,m:fS,X:gS,S:dS,M:mS};function lS(){var n=Oi.f(),s=iu();return n||s}function oS(n){var s=_r(n);s!==null&&s.tag===5&&s.type==="form"?L_(s):Oi.r(n)}var Wr=typeof document>"u"?null:document;function fp(n,s,l){var u=Wr;if(u&&typeof s=="string"&&s){var d=Sn(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),hp.has(d)||(hp.add(d),n={rel:n,crossOrigin:l,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),At(s,"link",n),pt(s),u.head.appendChild(s)))}}function uS(n){Oi.D(n),fp("dns-prefetch",n,null)}function cS(n,s){Oi.C(n,s),fp("preconnect",n,s)}function hS(n,s,l){Oi.L(n,s,l);var u=Wr;if(u&&n&&s){var d='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Sn(l.imageSizes)+'"]')):d+='[href="'+Sn(n)+'"]';var _=d;switch(s){case"style":_=Qr(n);break;case"script":_=Jr(n)}Mn.has(_)||(n=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),Mn.set(_,n),u.querySelector(d)!==null||s==="style"&&u.querySelector(_l(_))||s==="script"&&u.querySelector(yl(_))||(s=u.createElement("link"),At(s,"link",n),pt(s),u.head.appendChild(s)))}}function fS(n,s){Oi.m(n,s);var l=Wr;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(n)+'"]',_=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Jr(n)}if(!Mn.has(_)&&(n=m({rel:"modulepreload",href:n},s),Mn.set(_,n),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yl(_)))return}u=l.createElement("link"),At(u,"link",n),pt(u),l.head.appendChild(u)}}}function dS(n,s,l){Oi.S(n,s,l);var u=Wr;if(u&&n){var d=yr(u).hoistableStyles,_=Qr(n);s=s||"default";var E=d.get(_);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(_l(_)))b.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},l),(l=Mn.get(_))&&zf(n,l);var M=E=u.createElement("link");pt(M),At(M,"link",n),M._p=new Promise(function(B,W){M.onload=B,M.onerror=W}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,du(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:b},d.set(_,E)}}}function gS(n,s){Oi.X(n,s);var l=Wr;if(l&&n){var u=yr(l).hoistableScripts,d=Jr(n),_=u.get(d);_||(_=l.querySelector(yl(d)),_||(n=m({src:n,async:!0},s),(s=Mn.get(d))&&Pf(n,s),_=l.createElement("script"),pt(_),At(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(d,_))}}function mS(n,s){Oi.M(n,s);var l=Wr;if(l&&n){var u=yr(l).hoistableScripts,d=Jr(n),_=u.get(d);_||(_=l.querySelector(yl(d)),_||(n=m({src:n,async:!0,type:"module"},s),(s=Mn.get(d))&&Pf(n,s),_=l.createElement("script"),pt(_),At(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(d,_))}}function dp(n,s,l,u){var d=(d=oe.current)?fu(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Qr(l.href),l=yr(d).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Qr(l.href);var _=yr(d).hoistableStyles,E=_.get(n);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,E),(_=d.querySelector(_l(n)))&&!_._p&&(E.instance=_,E.state.loading=5),Mn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Mn.set(n,l),_||_S(d,n,l,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Jr(l),l=yr(d).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Qr(n){return'href="'+Sn(n)+'"'}function _l(n){return'link[rel="stylesheet"]['+n+"]"}function gp(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function _S(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),At(s,"link",l),pt(s),n.head.appendChild(s))}function Jr(n){return'[src="'+Sn(n)+'"]'}function yl(n){return"script[async]"+n}function mp(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(u)return s.instance=u,pt(u),u;var d=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),pt(u),At(u,"style",d),du(u,l.precedence,n),s.instance=u;case"stylesheet":d=Qr(l.href);var _=n.querySelector(_l(d));if(_)return s.state.loading|=4,s.instance=_,pt(_),_;u=gp(l),(d=Mn.get(d))&&zf(u,d),_=(n.ownerDocument||n).createElement("link"),pt(_);var E=_;return E._p=new Promise(function(b,M){E.onload=b,E.onerror=M}),At(_,"link",u),s.state.loading|=4,du(_,l.precedence,n),s.instance=_;case"script":return _=Jr(l.src),(d=n.querySelector(yl(_)))?(s.instance=d,pt(d),d):(u=l,(d=Mn.get(_))&&(u=m({},l),Pf(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),pt(d),At(d,"link",u),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,du(u,l.precedence,n));return s.instance}function du(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,_=d,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===s)_=b;else if(_!==d)break}_?_.parentNode.insertBefore(n,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function zf(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Pf(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var gu=null;function _p(n,s,l){if(gu===null){var u=new Map,d=gu=new Map;d.set(l,u)}else d=gu,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),d=0;d<l.length;d++){var _=l[d];if(!(_[Oa]||_[et]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(s)||"";E=n+E;var b=u.get(E);b?b.push(_):u.set(E,[_])}}return u}function yp(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function yS(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function pp(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var pl=null;function pS(){}function xS(n,s,l){if(pl===null)throw Error(i(475));var u=pl;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Qr(l.href),_=n.querySelector(_l(d));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=mu.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=_,pt(_);return}_=n.ownerDocument||n,l=gp(l),(d=Mn.get(d))&&zf(l,d),_=_.createElement("link"),pt(_);var E=_;E._p=new Promise(function(b,M){E.onload=b,E.onerror=M}),At(_,"link",l),s.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=mu.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function vS(){if(pl===null)throw Error(i(475));var n=pl;return n.stylesheets&&n.count===0&&kf(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&kf(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var _u=null;function kf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,_u=new Map,s.forEach(ES,n),_u=null,mu.call(n))}function ES(n,s){if(!(s.state.loading&4)){var l=_u.get(n);if(l)var u=l.get(null);else{l=new Map,_u.set(n,l);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<d.length;_++){var E=d[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}d=s.instance,E=d.getAttribute("data-precedence"),_=l.get(E)||u,_===u&&l.set(null,d),l.set(E,d),this.count++,u=mu.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),_?_.parentNode.insertBefore(d,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var xl={$$typeof:w,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function SS(n,s,l,u,d,_,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function xp(n,s,l,u,d,_,E,b,M,B,W,ee){return n=new SS(n,s,l,E,b,M,B,ee),s=1,_===!0&&(s|=24),_=ln(3,null,null,s),n.current=_,_.stateNode=n,s=ph(),s.refCount++,n.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:s},Sh(_),n}function vp(n){return n?(n=Mr,n):Mr}function Ep(n,s,l,u,d,_){d=vp(d),u.context===null?u.context=d:u.pendingContext=d,u=Hi(s),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Vi(n,u,s),l!==null&&(fn(l,n,s),Ka(l,n,s))}function Sp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Gf(n,s){Sp(n,s),(n=n.alternate)&&Sp(n,s)}function Cp(n){if(n.tag===13){var s=Ar(n,67108864);s!==null&&fn(s,n,67108864),Gf(n,67108864)}}var yu=!0;function CS(n,s,l,u){var d=N.T;N.T=null;var _=P.p;try{P.p=2,jf(n,s,l,u)}finally{P.p=_,N.T=d}}function bS(n,s,l,u){var d=N.T;N.T=null;var _=P.p;try{P.p=8,jf(n,s,l,u)}finally{P.p=_,N.T=d}}function jf(n,s,l,u){if(yu){var d=Uf(u);if(d===null)wf(n,s,u,pu,l),Tp(n,u);else if(RS(d,n,s,l,u))u.stopPropagation();else if(Tp(n,u),s&4&&-1<TS.indexOf(n)){for(;d!==null;){var _=_r(d);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=ei(_.pendingLanes);if(E!==0){var b=_;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var M=1<<31-lt(E);b.entanglements[1]|=M,E&=~M}ai(_),(Ie&6)===0&&(tu=Ye()+500,fl(0))}}break;case 13:b=Ar(_,2),b!==null&&fn(b,_,2),iu(),Gf(_,2)}if(_=Uf(u),_===null&&wf(n,s,u,pu,l),_===d)break;d=_}d!==null&&u.stopPropagation()}else wf(n,s,u,null,l)}}function Uf(n){return n=Hc(n),Bf(n)}var pu=null;function Bf(n){if(pu=null,n=mr(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return pu=n,null}function bp(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case Nn:return 2;case Fn:return 8;case ji:case Ot:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var Yf=!1,rs=null,as=null,ls=null,vl=new Map,El=new Map,os=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(n,s){switch(n){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(s.pointerId)}}function Sl(n,s,l,u,d,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[d]},s!==null&&(s=_r(s),s!==null&&Cp(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function RS(n,s,l,u,d){switch(s){case"focusin":return rs=Sl(rs,n,s,l,u,d),!0;case"dragenter":return as=Sl(as,n,s,l,u,d),!0;case"mouseover":return ls=Sl(ls,n,s,l,u,d),!0;case"pointerover":var _=d.pointerId;return vl.set(_,Sl(vl.get(_)||null,n,s,l,u,d)),!0;case"gotpointercapture":return _=d.pointerId,El.set(_,Sl(El.get(_)||null,n,s,l,u,d)),!0}return!1}function Rp(n){var s=mr(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){n.blockedOn=s,Ht(n.priority,function(){if(l.tag===13){var u=hn();u=ti(u);var d=Ar(l,u);d!==null&&fn(d,l,u),Gf(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Uf(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Xc=u,l.target.dispatchEvent(u),Xc=null}else return s=_r(l),s!==null&&Cp(s),n.blockedOn=l,!1;s.shift()}return!0}function wp(n,s,l){xu(n)&&l.delete(s)}function wS(){Yf=!1,rs!==null&&xu(rs)&&(rs=null),as!==null&&xu(as)&&(as=null),ls!==null&&xu(ls)&&(ls=null),vl.forEach(wp),El.forEach(wp)}function vu(n,s){n.blockedOn===s&&(n.blockedOn=null,Yf||(Yf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wS)))}var Eu=null;function Ap(n){Eu!==n&&(Eu=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eu===n&&(Eu=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],d=n[s+2];if(typeof u!="function"){if(Bf(u||l)===null)continue;break}var _=_r(l);_!==null&&(n.splice(s,3),s-=3,Uh(_,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function Cl(n){function s(M){return vu(M,n)}rs!==null&&vu(rs,n),as!==null&&vu(as,n),ls!==null&&vu(ls,n),vl.forEach(s),El.forEach(s);for(var l=0;l<os.length;l++){var u=os[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<os.length&&(l=os[0],l.blockedOn===null);)Rp(l),l.blockedOn===null&&os.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],_=l[u+1],E=d[Fe]||null;if(typeof _=="function")E||Ap(l);else if(E){var b=null;if(_&&_.hasAttribute("formAction")){if(d=_,E=_[Fe]||null)b=E.formAction;else if(Bf(d)!==null)continue}else b=E.action;typeof b=="function"?l[u+1]=b:(l.splice(u,3),u-=3),Ap(l)}}}function Xf(n){this._internalRoot=n}Su.prototype.render=Xf.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=hn();Ep(l,u,n,s,null,null)},Su.prototype.unmount=Xf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ep(n.current,2,null,n,null,null),iu(),s[ft]=null}};function Su(n){this._internalRoot=n}Su.prototype.unstable_scheduleHydration=function(n){if(n){var s=vn();n={blockedOn:null,target:n,priority:s};for(var l=0;l<os.length&&s!==0&&s<os[l].priority;l++);os.splice(l,0,n),l===0&&Rp(n)}};var Mp=e.version;if(Mp!=="19.1.0")throw Error(i(527,Mp,"19.1.0"));P.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var AS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{xn=Cu.inject(AS),$e=Cu}catch{}}return Tl.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,u="",d=H_,_=V_,E=q_,b=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=xp(n,1,!1,null,null,l,u,d,_,E,b,null),n[ft]=s.current,Rf(n),new Xf(s)},Tl.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var u=!1,d="",_=H_,E=V_,b=q_,M=null,B=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks),l.formState!==void 0&&(B=l.formState)),s=xp(n,1,!0,s,l??null,u,d,_,E,b,M,B),s.context=vp(null),l=s.current,u=hn(),u=ti(u),d=Hi(u),d.callback=null,Vi(l,d,u),l=u,s.current.lanes=l,zn(s,l),ai(s),n[ft]=s.current,Rf(n),new Su(s)},Tl.version="19.1.0",Tl}var Gp;function kS(){if(Gp)return qf.exports;Gp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qf.exports=PS(),qf.exports}var GS=kS();const jS=rx(GS);var Rl={},jp;function US(){if(jp)return Rl;jp=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=c,Rl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function c(p,x){const v=new o,C=p.length;if(C<2)return v;const S=(x==null?void 0:x.decode)||m;let T=0;do{const R=p.indexOf("=",T);if(R===-1)break;const w=p.indexOf(";",T),O=w===-1?C:w;if(R>O){T=p.lastIndexOf(";",R-1)+1;continue}const D=h(p,T,R),U=f(p,R,D),H=p.slice(D,U);if(v[H]===void 0){let q=h(p,R+1,O),$=f(p,O,q);const ne=S(p.slice(q,$));v[H]=ne}T=O+1}while(T<C);return v}function h(p,x,v){do{const C=p.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<v);return v}function f(p,x,v){for(;x>v;){const C=p.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return v}function g(p,x,v){const C=(v==null?void 0:v.encode)||encodeURIComponent;if(!r.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=C(x);if(!e.test(S))throw new TypeError(`argument val is invalid: ${x}`);let T=p+"="+S;if(!v)return T;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);T+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);T+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);T+="; Path="+v.path}if(v.expires){if(!y(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);T+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(T+="; HttpOnly"),v.secure&&(T+="; Secure"),v.partitioned&&(T+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return T}function m(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function y(p){return a.call(p)==="[object Date]"}return Rl}US();var Up="popstate";function BS(r={}){function e(i,a){let{pathname:o,search:c,hash:h}=i.location;return vd("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:kl(a)}return XS(e,t,null,r)}function Ze(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YS(){return Math.random().toString(36).substring(2,10)}function Bp(r,e){return{usr:r.state,key:r.key,idx:e}}function vd(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:t,key:e&&e.key||i||YS()}}function kl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function pa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function XS(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",f=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function y(){h="POP";let S=m(),T=S==null?null:S-g;g=S,f&&f({action:h,location:C.location,delta:T})}function p(S,T){h="PUSH";let R=vd(C.location,S,T);g=m()+1;let w=Bp(R,g),O=C.createHref(R);try{c.pushState(w,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(O)}o&&f&&f({action:h,location:C.location,delta:1})}function x(S,T){h="REPLACE";let R=vd(C.location,S,T);g=m();let w=Bp(R,g),O=C.createHref(R);c.replaceState(w,"",O),o&&f&&f({action:h,location:C.location,delta:0})}function v(S){let T=a.location.origin!=="null"?a.location.origin:a.location.href,R=typeof S=="string"?S:kl(S);return R=R.replace(/ $/,"%20"),Ze(T,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,T)}let C={get action(){return h},get location(){return r(a,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Up,y),f=S,()=>{a.removeEventListener(Up,y),f=null}},createHref(S){return e(a,S)},createURL:v,encodeLocation(S){let T=v(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:x,go(S){return c.go(S)}};return C}function lx(r,e,t="/"){return HS(r,e,t,!1)}function HS(r,e,t,i){let a=typeof e=="string"?pa(e):e,o=Pi(a.pathname||"/",t);if(o==null)return null;let c=ox(r);VS(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=iC(o);h=tC(c[f],g,i)}return h}function ox(r,e=[],t=[],i=""){let a=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Ze(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=Ii([i,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ox(o.children,e,m,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:$S(g,o.index),routesMeta:m})};return r.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,c);else for(let f of ux(o.path))a(o,c,f)}),e}function ux(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=ux(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>r.startsWith("/")&&f===""?"/":f)}function VS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:eC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var qS=/^:[\w-]+$/,ZS=3,KS=2,WS=1,QS=10,JS=-2,Yp=r=>r==="*";function $S(r,e){let t=r.split("/"),i=t.length;return t.some(Yp)&&(i+=JS),e&&(i+=KS),t.filter(a=>!Yp(a)).reduce((a,o)=>a+(qS.test(o)?ZS:o===""?WS:QS),i)}function eC(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function tC(r,e,t=!1){let{routesMeta:i}=r,a={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=qu({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),p=f.route;if(!y&&g&&t&&!i[i.length-1].route.index&&(y=qu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Ii([o,y.pathname]),pathnameBase:lC(Ii([o,y.pathnameBase])),route:p}),y.pathnameBase!=="/"&&(o=Ii([o,y.pathnameBase]))}return c}function qu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=nC(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:m,isOptional:y},p)=>{if(m==="*"){let v=h[p]||"";c=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const x=h[p];return y&&!x?g[m]=void 0:g[m]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:r}}function nC(r,e=!1,t=!0){Vn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function iC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Pi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function sC(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?pa(r):r;return{pathname:t?t.startsWith("/")?t:rC(t,e):e,search:oC(i),hash:uC(a)}}function rC(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Qf(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aC(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zd(r){let e=aC(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Kd(r,e,t,i=!1){let a;typeof r=="string"?a=pa(r):(a={...r},Ze(!a.pathname||!a.pathname.includes("?"),Qf("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),Qf("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),Qf("#","search","hash",a)));let o=r===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let y=e.length-1;if(!i&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),y-=1;a.pathname=p.join("/")}h=y>=0?e[y]:"/"}let f=sC(a,h),g=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var Ii=r=>r.join("/").replace(/\/\/+/g,"/"),lC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function cC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var cx=["POST","PUT","PATCH","DELETE"];new Set(cx);var hC=["GET",...cx];new Set(hC);var xa=L.createContext(null);xa.displayName="DataRouter";var uc=L.createContext(null);uc.displayName="DataRouterState";var hx=L.createContext({isTransitioning:!1});hx.displayName="ViewTransition";var fC=L.createContext(new Map);fC.displayName="Fetchers";var dC=L.createContext(null);dC.displayName="Await";var qn=L.createContext(null);qn.displayName="Navigation";var $l=L.createContext(null);$l.displayName="Location";var Zn=L.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Wd=L.createContext(null);Wd.displayName="RouteError";function gC(r,{relative:e}={}){Ze(va(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(qn),{hash:a,pathname:o,search:c}=to(r,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ii([t,o])),i.createHref({pathname:h,search:c,hash:a})}function va(){return L.useContext($l)!=null}function Kn(){return Ze(va(),"useLocation() may be used only in the context of a <Router> component."),L.useContext($l).location}var fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dx(r){L.useContext(qn).static||L.useLayoutEffect(r)}function eo(){let{isDataRoute:r}=L.useContext(Zn);return r?AC():mC()}function mC(){Ze(va(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(xa),{basename:e,navigator:t}=L.useContext(qn),{matches:i}=L.useContext(Zn),{pathname:a}=Kn(),o=JSON.stringify(Zd(i)),c=L.useRef(!1);return dx(()=>{c.current=!0}),L.useCallback((f,g={})=>{if(Vn(c.current,fx),!c.current)return;if(typeof f=="number"){t.go(f);return}let m=Kd(f,JSON.parse(o),a,g.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ii([e,m.pathname])),(g.replace?t.replace:t.push)(m,g.state,g)},[e,t,o,a,r])}var gx=L.createContext(null);function Qd(){return L.useContext(gx)}function _C(r){let e=L.useContext(Zn).outlet;return e&&L.createElement(gx.Provider,{value:r},e)}function to(r,{relative:e}={}){let{matches:t}=L.useContext(Zn),{pathname:i}=Kn(),a=JSON.stringify(Zd(t));return L.useMemo(()=>Kd(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function yC(r,e){return mx(r,e)}function mx(r,e,t,i){var R;Ze(va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=L.useContext(qn),{matches:c}=L.useContext(Zn),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",m=h?h.pathnameBase:"/",y=h&&h.route;{let w=y&&y.path||"";_x(g,!y||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=Kn(),x;if(e){let w=typeof e=="string"?pa(e):e;Ze(m==="/"||((R=w.pathname)==null?void 0:R.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${w.pathname}" was given in the \`location\` prop.`),x=w}else x=p;let v=x.pathname||"/",C=v;if(m!=="/"){let w=m.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=!o&&t&&t.matches&&t.matches.length>0?t.matches:lx(r,{pathname:C});Vn(y||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Vn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=SC(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},f,w.params),pathname:Ii([m,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?m:Ii([m,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),c,t,i);return e&&T?L.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function pC(){let r=wC(),e=cC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:a},t):null,c)}var xC=L.createElement(pC,null),vC=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement(Zn.Provider,{value:this.props.routeContext},L.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EC({routeContext:r,match:e,children:t}){let i=L.useContext(xa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Zn.Provider,{value:r},t)}function SC(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Ze(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:m,errors:y}=t,p=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||p){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,g,m)=>{let y,p=!1,x=null,v=null;t&&(y=o&&g.route.id?o[g.route.id]:void 0,x=g.route.errorElement||xC,c&&(h<0&&m===0?(_x("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):h===m&&(p=!0,v=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,m+1)),S=()=>{let T;return y?T=x:p?T=v:g.route.Component?T=L.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=f,L.createElement(EC,{match:g,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:T})};return t&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?L.createElement(vC,{location:t.location,revalidation:t.revalidation,component:x,error:y,children:S(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):S()},null)}function Jd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CC(r){let e=L.useContext(xa);return Ze(e,Jd(r)),e}function bC(r){let e=L.useContext(uc);return Ze(e,Jd(r)),e}function TC(r){let e=L.useContext(Zn);return Ze(e,Jd(r)),e}function $d(r){let e=TC(r),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function RC(){return $d("useRouteId")}function wC(){var i;let r=L.useContext(Wd),e=bC("useRouteError"),t=$d("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function AC(){let{router:r}=CC("useNavigate"),e=$d("useNavigate"),t=L.useRef(!1);return dx(()=>{t.current=!0}),L.useCallback(async(a,o={})=>{Vn(t.current,fx),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var Xp={};function _x(r,e,t){!e&&!Xp[r]&&(Xp[r]=!0,Vn(!1,t))}L.memo(MC);function MC({routes:r,future:e,state:t}){return mx(r,void 0,t,e)}function yx({to:r,replace:e,state:t,relative:i}){Ze(va(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(qn);Vn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=L.useContext(Zn),{pathname:c}=Kn(),h=eo(),f=Kd(r,Zd(o),c,i==="path"),g=JSON.stringify(f);return L.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:i})},[h,g,i,e,t]),null}function OC(r){return _C(r.context)}function oi(r){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LC({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1}){Ze(!va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=pa(t));let{pathname:f="/",search:g="",hash:m="",state:y=null,key:p="default"}=t,x=L.useMemo(()=>{let v=Pi(f,c);return v==null?null:{location:{pathname:v,search:g,hash:m,state:y,key:p},navigationType:i}},[c,f,g,m,y,p,i]);return Vn(x!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(qn.Provider,{value:h},L.createElement($l.Provider,{children:e,value:x}))}function DC({children:r,location:e}){return yC(Ed(r),e)}function Ed(r,e=[]){let t=[];return L.Children.forEach(r,(i,a)=>{if(!L.isValidElement(i))return;let o=[...e,a];if(i.type===L.Fragment){t.push.apply(t,Ed(i.props.children,o));return}Ze(i.type===oi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ed(i.props.children,o)),t.push(c)}),t}var ju="get",Uu="application/x-www-form-urlencoded";function cc(r){return r!=null&&typeof r.tagName=="string"}function NC(r){return cc(r)&&r.tagName.toLowerCase()==="button"}function FC(r){return cc(r)&&r.tagName.toLowerCase()==="form"}function IC(r){return cc(r)&&r.tagName.toLowerCase()==="input"}function zC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function PC(r,e){return r.button===0&&(!e||e==="_self")&&!zC(r)}var bu=null;function kC(){if(bu===null)try{new FormData(document.createElement("form"),0),bu=!1}catch{bu=!0}return bu}var GC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(r){return r!=null&&!GC.has(r)?(Vn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uu}"`),null):r}function jC(r,e){let t,i,a,o,c;if(FC(r)){let h=r.getAttribute("action");i=h?Pi(h,e):null,t=r.getAttribute("method")||ju,a=Jf(r.getAttribute("enctype"))||Uu,o=new FormData(r)}else if(NC(r)||IC(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||h.getAttribute("action");if(i=f?Pi(f,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||ju,a=Jf(r.getAttribute("formenctype"))||Jf(h.getAttribute("enctype"))||Uu,o=new FormData(h,r),!kC()){let{name:g,type:m,value:y}=r;if(m==="image"){let p=g?`${g}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else g&&o.append(g,y)}}else{if(cc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ju,i=null,a=Uu,c=r}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:c}}function eg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function UC(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function YC(r,e,t){let i=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await UC(o,t);return c.links?c.links():[]}return[]}));return qC(i.flat(1).filter(BC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hp(r,e,t,i,a,o){let c=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>{var m;return t[g].pathname!==f.pathname||((m=t[g].route.path)==null?void 0:m.endsWith("*"))&&t[g].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?e.filter((f,g)=>{var y;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function XC(r,e,{includeHydrateFallback:t}={}){return HC(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function HC(r){return[...new Set(r)]}function VC(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function qC(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let o=JSON.stringify(VC(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}var ZC=new Set([100,101,204,205]);function KC(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Pi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function px(){let r=L.useContext(xa);return eg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function WC(){let r=L.useContext(uc);return eg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tg=L.createContext(void 0);tg.displayName="FrameworkContext";function xx(){let r=L.useContext(tg);return eg(r,"You must render this element inside a <HydratedRouter> element"),r}function QC(r,e){let t=L.useContext(tg),[i,a]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:y}=e,p=L.useRef(null);L.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let C=T=>{T.forEach(R=>{c(R.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[r]),L.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let x=()=>{a(!0)},v=()=>{a(!1),c(!1)};return t?r!=="intent"?[o,p,{}]:[o,p,{onFocus:wl(h,x),onBlur:wl(f,v),onMouseEnter:wl(g,x),onMouseLeave:wl(m,v),onTouchStart:wl(y,x)}]:[!1,p,{}]}function wl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function JC({page:r,...e}){let{router:t}=px(),i=L.useMemo(()=>lx(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?L.createElement(eb,{page:r,matches:i,...e}):null}function $C(r){let{manifest:e,routeModules:t}=xx(),[i,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return YC(r,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[r,e,t]),i}function eb({page:r,matches:e,...t}){let i=Kn(),{manifest:a,routeModules:o}=xx(),{basename:c}=px(),{loaderData:h,matches:f}=WC(),g=L.useMemo(()=>Hp(r,e,f,a,i,"data"),[r,e,f,a,i]),m=L.useMemo(()=>Hp(r,e,f,a,i,"assets"),[r,e,f,a,i]),y=L.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let v=new Set,C=!1;if(e.forEach(T=>{var w;let R=a.routes[T.route.id];!R||!R.hasLoader||(!g.some(O=>O.route.id===T.route.id)&&T.route.id in h&&((w=o[T.route.id])!=null&&w.shouldRevalidate)||R.hasClientLoader?C=!0:v.add(T.route.id))}),v.size===0)return[];let S=KC(r,c);return C&&v.size>0&&S.searchParams.set("_routes",e.filter(T=>v.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[c,h,i,a,g,e,r,o]),p=L.useMemo(()=>XC(m,a),[m,a]),x=$C(m);return L.createElement(L.Fragment,null,y.map(v=>L.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),p.map(v=>L.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),x.map(({key:v,link:C})=>L.createElement("link",{key:v,...C})))}function tb(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.5.2")}catch{}function nb({basename:r,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=BS({window:t,v5Compat:!0}));let a=i.current,[o,c]=L.useState({action:a.action,location:a.location}),h=L.useCallback(f=>{L.startTransition(()=>c(f))},[c]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(LC,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:a})}var Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sx=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:m,viewTransition:y,...p},x){let{basename:v}=L.useContext(qn),C=typeof g=="string"&&Ex.test(g),S,T=!1;if(typeof g=="string"&&C&&(S=g,vx))try{let $=new URL(window.location.href),ne=g.startsWith("//")?new URL($.protocol+g):new URL(g),se=Pi(ne.pathname,v);ne.origin===$.origin&&se!=null?g=se+ne.search+ne.hash:T=!0}catch{Vn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=gC(g,{relative:a}),[w,O,D]=QC(i,p),U=ab(g,{replace:c,state:h,target:f,preventScrollReset:m,relative:a,viewTransition:y});function H($){e&&e($),$.defaultPrevented||U($)}let q=L.createElement("a",{...p,...D,href:S||R,onClick:T||o?e:H,ref:tb(x,O),target:f,"data-discover":!C&&t==="render"?"true":void 0});return w&&!C?L.createElement(L.Fragment,null,q,L.createElement(JC,{page:R})):q});Sx.displayName="Link";var ib=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...g},m){let y=to(c,{relative:g.relative}),p=Kn(),x=L.useContext(uc),{navigator:v,basename:C}=L.useContext(qn),S=x!=null&&hb(y)&&h===!0,T=v.encodeLocation?v.encodeLocation(y).pathname:y.pathname,R=p.pathname,w=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(R=R.toLowerCase(),w=w?w.toLowerCase():null,T=T.toLowerCase()),w&&C&&(w=Pi(w,C)||w);const O=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=R===T||!a&&R.startsWith(T)&&R.charAt(O)==="/",U=w!=null&&(w===T||!a&&w.startsWith(T)&&w.charAt(T.length)==="/"),H={isActive:D,isPending:U,isTransitioning:S},q=D?e:void 0,$;typeof i=="function"?$=i(H):$=[i,D?"active":null,U?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ne=typeof o=="function"?o(H):o;return L.createElement(Sx,{...g,"aria-current":q,className:$,ref:m,style:ne,to:c,viewTransition:h},typeof f=="function"?f(H):f)});ib.displayName="NavLink";var sb=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:c=ju,action:h,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:y,...p},x)=>{let v=ub(),C=cb(h,{relative:g}),S=c.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&Ex.test(h),R=w=>{if(f&&f(w),w.defaultPrevented)return;w.preventDefault();let O=w.nativeEvent.submitter,D=(O==null?void 0:O.getAttribute("formmethod"))||c;v(O||w.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:a,state:o,relative:g,preventScrollReset:m,viewTransition:y})};return L.createElement("form",{ref:x,method:S,action:C,onSubmit:i?f:R,...p,"data-discover":!T&&r==="render"?"true":void 0})});sb.displayName="Form";function rb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cx(r){let e=L.useContext(xa);return Ze(e,rb(r)),e}function ab(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=eo(),f=Kn(),g=to(r,{relative:o});return L.useCallback(m=>{if(PC(m,e)){m.preventDefault();let y=t!==void 0?t:kl(f)===kl(g);h(r,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,g,t,i,e,r,a,o,c])}var lb=0,ob=()=>`__${String(++lb)}__`;function ub(){let{router:r}=Cx("useSubmit"),{basename:e}=L.useContext(qn),t=RC();return L.useCallback(async(i,a={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=jC(i,e);if(a.navigate===!1){let m=a.fetcherKey||ob();await r.fetch(m,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function cb(r,{relative:e}={}){let{basename:t}=L.useContext(qn),i=L.useContext(Zn);Ze(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...to(r||".",{relative:e})},c=Kn();if(r==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(m=>m==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();o.search=m?`?${m}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ii([t,o.pathname])),kl(o)}function hb(r,e={}){let t=L.useContext(hx);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Cx("useViewTransitionState"),a=to(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Pi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Pi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return qu(a.pathname,c)!=null||qu(a.pathname,o)!=null}new TextEncoder;[...ZC];var bx=ax();/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),db=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Vp=r=>{const e=db(r);return e.charAt(0).toUpperCase()+e.slice(1)},Tx=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),gb=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},f)=>L.createElement("svg",{ref:f,...mb,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:Tx("lucide",a),...!o&&!gb(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,m])=>L.createElement(g,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(r,e)=>{const t=L.forwardRef(({className:i,...a},o)=>L.createElement(_b,{ref:o,iconNode:e,className:Tx(`lucide-${fb(Vp(r))}`,`lucide-${r}`,i),...a}));return t.displayName=Vp(r),t};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pb=rt("bell",yb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vb=rt("check",xb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sb=rt("chevron-down",Eb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bb=rt("circle-x",Cb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"1n2rgs"}],["path",{d:"M6 8h4",key:"utf9t1"}],["path",{d:"M6 18h4",key:"12yh4b"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"3ha7mj"}],["path",{d:"M14 8h4",key:"1r8wg2"}],["path",{d:"M14 18h4",key:"1t3kbu"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"dfd4e2"}]],Rb=rt("fence",Tb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ab=rt("layers",wb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ob=rt("locate-fixed",Mb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Db=rt("log-out",Lb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],Fb=rt("map-pin-minus-inside",Nb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],zb=rt("map-pin-plus-inside",Ib);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],kb=rt("map-pin-plus",Pb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077",key:"y0ewhp"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m21.5 15.5-5 5",key:"11iqnx"}],["path",{d:"m21.5 20.5-5-5",key:"1bylgx"}]],jb=rt("map-pin-x",Gb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rx=rt("map-pin",Ub);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Yb=rt("map-pinned",Bb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Hb=rt("menu",Xb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],qb=rt("paw-print",Vb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Kb=rt("ruler",Zb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wx=rt("save",Wb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],Jb=rt("spline-pointer",Qb);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],eT=rt("undo",$b);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ax=rt("x",tT);function Mx(r,e){return function(){return r.apply(e,arguments)}}const{toString:nT}=Object.prototype,{getPrototypeOf:ng}=Object,{iterator:hc,toStringTag:Ox}=Symbol,fc=(r=>e=>{const t=nT.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=r=>(r=r.toLowerCase(),e=>fc(e)===r),dc=r=>e=>typeof e===r,{isArray:Ea}=Array,Gl=dc("undefined");function iT(r){return r!==null&&!Gl(r)&&r.constructor!==null&&!Gl(r.constructor)&&en(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Lx=Wn("ArrayBuffer");function sT(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Lx(r.buffer),e}const rT=dc("string"),en=dc("function"),Dx=dc("number"),gc=r=>r!==null&&typeof r=="object",aT=r=>r===!0||r===!1,Bu=r=>{if(fc(r)!=="object")return!1;const e=ng(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ox in r)&&!(hc in r)},lT=Wn("Date"),oT=Wn("File"),uT=Wn("Blob"),cT=Wn("FileList"),hT=r=>gc(r)&&en(r.pipe),fT=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||en(r.append)&&((e=fc(r))==="formdata"||e==="object"&&en(r.toString)&&r.toString()==="[object FormData]"))},dT=Wn("URLSearchParams"),[gT,mT,_T,yT]=["ReadableStream","Request","Response","Headers"].map(Wn),pT=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function no(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let i,a;if(typeof r!="object"&&(r=[r]),Ea(r))for(i=0,a=r.length;i<a;i++)e.call(null,r[i],i,r);else{const o=t?Object.getOwnPropertyNames(r):Object.keys(r),c=o.length;let h;for(i=0;i<c;i++)h=o[i],e.call(null,r[h],h,r)}}function Nx(r,e){e=e.toLowerCase();const t=Object.keys(r);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const Hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fx=r=>!Gl(r)&&r!==Hs;function Sd(){const{caseless:r}=Fx(this)&&this||{},e={},t=(i,a)=>{const o=r&&Nx(e,a)||a;Bu(e[o])&&Bu(i)?e[o]=Sd(e[o],i):Bu(i)?e[o]=Sd({},i):Ea(i)?e[o]=i.slice():e[o]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&no(arguments[i],t);return e}const xT=(r,e,t,{allOwnKeys:i}={})=>(no(e,(a,o)=>{t&&en(a)?r[o]=Mx(a,t):r[o]=a},{allOwnKeys:i}),r),vT=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),ET=(r,e,t,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},ST=(r,e,t,i)=>{let a,o,c;const h={};if(e=e||{},r==null)return e;do{for(a=Object.getOwnPropertyNames(r),o=a.length;o-- >0;)c=a[o],(!i||i(c,r,e))&&!h[c]&&(e[c]=r[c],h[c]=!0);r=t!==!1&&ng(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},CT=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const i=r.indexOf(e,t);return i!==-1&&i===t},bT=r=>{if(!r)return null;if(Ea(r))return r;let e=r.length;if(!Dx(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},TT=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&ng(Uint8Array)),RT=(r,e)=>{const i=(r&&r[hc]).call(r);let a;for(;(a=i.next())&&!a.done;){const o=a.value;e.call(r,o[0],o[1])}},wT=(r,e)=>{let t;const i=[];for(;(t=r.exec(e))!==null;)i.push(t);return i},AT=Wn("HTMLFormElement"),MT=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),qp=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),OT=Wn("RegExp"),Ix=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),i={};no(t,(a,o)=>{let c;(c=e(a,o,r))!==!1&&(i[o]=c||a)}),Object.defineProperties(r,i)},LT=r=>{Ix(r,(e,t)=>{if(en(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=r[t];if(en(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},DT=(r,e)=>{const t={},i=a=>{a.forEach(o=>{t[o]=!0})};return Ea(r)?i(r):i(String(r).split(e)),t},NT=()=>{},FT=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function IT(r){return!!(r&&en(r.append)&&r[Ox]==="FormData"&&r[hc])}const zT=r=>{const e=new Array(10),t=(i,a)=>{if(gc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const o=Ea(i)?[]:{};return no(i,(c,h)=>{const f=t(c,a+1);!Gl(f)&&(o[h]=f)}),e[a]=void 0,o}}return i};return t(r,0)},PT=Wn("AsyncFunction"),kT=r=>r&&(gc(r)||en(r))&&en(r.then)&&en(r.catch),zx=((r,e)=>r?setImmediate:e?((t,i)=>(Hs.addEventListener("message",({source:a,data:o})=>{a===Hs&&o===t&&i.length&&i.shift()()},!1),a=>{i.push(a),Hs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",en(Hs.postMessage)),GT=typeof queueMicrotask<"u"?queueMicrotask.bind(Hs):typeof process<"u"&&process.nextTick||zx,jT=r=>r!=null&&en(r[hc]),V={isArray:Ea,isArrayBuffer:Lx,isBuffer:iT,isFormData:fT,isArrayBufferView:sT,isString:rT,isNumber:Dx,isBoolean:aT,isObject:gc,isPlainObject:Bu,isReadableStream:gT,isRequest:mT,isResponse:_T,isHeaders:yT,isUndefined:Gl,isDate:lT,isFile:oT,isBlob:uT,isRegExp:OT,isFunction:en,isStream:hT,isURLSearchParams:dT,isTypedArray:TT,isFileList:cT,forEach:no,merge:Sd,extend:xT,trim:pT,stripBOM:vT,inherits:ET,toFlatObject:ST,kindOf:fc,kindOfTest:Wn,endsWith:CT,toArray:bT,forEachEntry:RT,matchAll:wT,isHTMLForm:AT,hasOwnProperty:qp,hasOwnProp:qp,reduceDescriptors:Ix,freezeMethods:LT,toObjectSet:DT,toCamelCase:MT,noop:NT,toFiniteNumber:FT,findKey:Nx,global:Hs,isContextDefined:Fx,isSpecCompliantForm:IT,toJSONObject:zT,isAsyncFn:PT,isThenable:kT,setImmediate:zx,asap:GT,isIterable:jT};function Ee(r,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}V.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const Px=Ee.prototype,kx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{kx[r]={value:r}});Object.defineProperties(Ee,kx);Object.defineProperty(Px,"isAxiosError",{value:!0});Ee.from=(r,e,t,i,a,o)=>{const c=Object.create(Px);return V.toFlatObject(r,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Ee.call(c,r.message,e,t,i,a),c.cause=r,c.name=r.name,o&&Object.assign(c,o),c};const UT=null;function Cd(r){return V.isPlainObject(r)||V.isArray(r)}function Gx(r){return V.endsWith(r,"[]")?r.slice(0,-2):r}function Zp(r,e,t){return r?r.concat(e).map(function(a,o){return a=Gx(a),!t&&o?"["+a+"]":a}).join(t?".":""):e}function BT(r){return V.isArray(r)&&!r.some(Cd)}const YT=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function mc(r,e,t){if(!V.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=V.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,S){return!V.isUndefined(S[C])});const i=t.metaTokens,a=t.visitor||m,o=t.dots,c=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(a))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(V.isDate(v))return v.toISOString();if(!f&&V.isBlob(v))throw new Ee("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(v)||V.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,C,S){let T=v;if(v&&!S&&typeof v=="object"){if(V.endsWith(C,"{}"))C=i?C:C.slice(0,-2),v=JSON.stringify(v);else if(V.isArray(v)&&BT(v)||(V.isFileList(v)||V.endsWith(C,"[]"))&&(T=V.toArray(v)))return C=Gx(C),T.forEach(function(w,O){!(V.isUndefined(w)||w===null)&&e.append(c===!0?Zp([C],O,o):c===null?C:C+"[]",g(w))}),!1}return Cd(v)?!0:(e.append(Zp(S,C,o),g(v)),!1)}const y=[],p=Object.assign(YT,{defaultVisitor:m,convertValue:g,isVisitable:Cd});function x(v,C){if(!V.isUndefined(v)){if(y.indexOf(v)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(v),V.forEach(v,function(T,R){(!(V.isUndefined(T)||T===null)&&a.call(e,T,V.isString(R)?R.trim():R,C,p))===!0&&x(T,C?C.concat(R):[R])}),y.pop()}}if(!V.isObject(r))throw new TypeError("data must be an object");return x(r),e}function Kp(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ig(r,e){this._pairs=[],r&&mc(r,this,e)}const jx=ig.prototype;jx.append=function(e,t){this._pairs.push([e,t])};jx.toString=function(e){const t=e?function(i){return e.call(this,i,Kp)}:Kp;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function XT(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ux(r,e,t){if(!e)return r;const i=t&&t.encode||XT;V.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let o;if(a?o=a(e,t):o=V.isURLSearchParams(e)?e.toString():new ig(e,t).toString(i),o){const c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class Wp{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Bx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HT=typeof URLSearchParams<"u"?URLSearchParams:ig,VT=typeof FormData<"u"?FormData:null,qT=typeof Blob<"u"?Blob:null,ZT={isBrowser:!0,classes:{URLSearchParams:HT,FormData:VT,Blob:qT},protocols:["http","https","file","blob","url","data"]},sg=typeof window<"u"&&typeof document<"u",bd=typeof navigator=="object"&&navigator||void 0,KT=sg&&(!bd||["ReactNative","NativeScript","NS"].indexOf(bd.product)<0),WT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QT=sg&&window.location.href||"http://localhost",JT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sg,hasStandardBrowserEnv:KT,hasStandardBrowserWebWorkerEnv:WT,navigator:bd,origin:QT},Symbol.toStringTag,{value:"Module"})),Bt={...JT,...ZT};function $T(r,e){return mc(r,new Bt.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,o){return Bt.isNode&&V.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function eR(r){return V.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tR(r){const e={},t=Object.keys(r);let i;const a=t.length;let o;for(i=0;i<a;i++)o=t[i],e[o]=r[o];return e}function Yx(r){function e(t,i,a,o){let c=t[o++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=o>=t.length;return c=!c&&V.isArray(a)?a.length:c,f?(V.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!h):((!a[c]||!V.isObject(a[c]))&&(a[c]=[]),e(t,i,a[c],o)&&V.isArray(a[c])&&(a[c]=tR(a[c])),!h)}if(V.isFormData(r)&&V.isFunction(r.entries)){const t={};return V.forEachEntry(r,(i,a)=>{e(eR(i),a,t,0)}),t}return null}function nR(r,e,t){if(V.isString(r))try{return(e||JSON.parse)(r),V.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(r)}const io={transitional:Bx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,o=V.isObject(e);if(o&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return a?JSON.stringify(Yx(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return $T(e,this.formSerializer).toString();if((h=V.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return mc(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||a?(t.setContentType("application/json",!1),nR(e)):e}],transformResponse:[function(e){const t=this.transitional||io.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(i&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(c)throw h.name==="SyntaxError"?Ee.from(h,Ee.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],r=>{io.headers[r]={}});const iR=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sR=r=>{const e={};let t,i,a;return r&&r.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!t||e[t]&&iR[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Qp=Symbol("internals");function Al(r){return r&&String(r).trim().toLowerCase()}function Yu(r){return r===!1||r==null?r:V.isArray(r)?r.map(Yu):String(r)}function rR(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(r);)e[i[1]]=i[2];return e}const aR=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function $f(r,e,t,i,a){if(V.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!V.isString(e)){if(V.isString(i))return e.indexOf(i)!==-1;if(V.isRegExp(i))return i.test(e)}}function lR(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function oR(r,e){const t=V.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+t,{value:function(a,o,c){return this[i].call(this,e,a,o,c)},configurable:!0})})}let tn=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function o(h,f,g){const m=Al(f);if(!m)throw new Error("header name must be a non-empty string");const y=V.findKey(a,m);(!y||a[y]===void 0||g===!0||g===void 0&&a[y]!==!1)&&(a[y||f]=Yu(h))}const c=(h,f)=>V.forEach(h,(g,m)=>o(g,m,f));if(V.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(V.isString(e)&&(e=e.trim())&&!aR(e))c(sR(e),t);else if(V.isObject(e)&&V.isIterable(e)){let h={},f,g;for(const m of e){if(!V.isArray(m))throw TypeError("Object iterator must return a key-value pair");h[g=m[0]]=(f=h[g])?V.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}c(h,t)}else e!=null&&o(t,e,i);return this}get(e,t){if(e=Al(e),e){const i=V.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return rR(a);if(V.isFunction(t))return t.call(this,a,i);if(V.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Al(e),e){const i=V.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||$f(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function o(c){if(c=Al(c),c){const h=V.findKey(i,c);h&&(!t||$f(i,i[h],h,t))&&(delete i[h],a=!0)}}return V.isArray(e)?e.forEach(o):o(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const o=t[i];(!e||$f(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const t=this,i={};return V.forEach(this,(a,o)=>{const c=V.findKey(i,o);if(c){t[c]=Yu(a),delete t[o];return}const h=e?lR(o):String(o).trim();h!==o&&delete t[o],t[h]=Yu(a),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return V.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&V.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[Qp]=this[Qp]={accessors:{}}).accessors,a=this.prototype;function o(c){const h=Al(c);i[h]||(oR(a,c),i[h]=!0)}return V.isArray(e)?e.forEach(o):o(e),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(tn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[t]=i}}});V.freezeMethods(tn);function ed(r,e){const t=this||io,i=e||t,a=tn.from(i.headers);let o=i.data;return V.forEach(r,function(h){o=h.call(t,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function Xx(r){return!!(r&&r.__CANCEL__)}function Sa(r,e,t){Ee.call(this,r??"canceled",Ee.ERR_CANCELED,e,t),this.name="CanceledError"}V.inherits(Sa,Ee,{__CANCEL__:!0});function Hx(r,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?r(t):e(new Ee("Request failed with status code "+t.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function uR(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function cR(r,e){r=r||10;const t=new Array(r),i=new Array(r);let a=0,o=0,c;return e=e!==void 0?e:1e3,function(f){const g=Date.now(),m=i[o];c||(c=g),t[a]=f,i[a]=g;let y=o,p=0;for(;y!==a;)p+=t[y++],y=y%r;if(a=(a+1)%r,a===o&&(o=(o+1)%r),g-c<e)return;const x=m&&g-m;return x?Math.round(p*1e3/x):void 0}}function hR(r,e){let t=0,i=1e3/e,a,o;const c=(g,m=Date.now())=>{t=m,a=null,o&&(clearTimeout(o),o=null),r.apply(null,g)};return[(...g)=>{const m=Date.now(),y=m-t;y>=i?c(g,m):(a=g,o||(o=setTimeout(()=>{o=null,c(a)},i-y)))},()=>a&&c(a)]}const Zu=(r,e,t=3)=>{let i=0;const a=cR(50,250);return hR(o=>{const c=o.loaded,h=o.lengthComputable?o.total:void 0,f=c-i,g=a(f),m=c<=h;i=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:g||void 0,estimated:g&&h&&m?(h-c)/g:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};r(y)},t)},Jp=(r,e)=>{const t=r!=null;return[i=>e[0]({lengthComputable:t,total:r,loaded:i}),e[1]]},$p=r=>(...e)=>V.asap(()=>r(...e)),fR=Bt.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Bt.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Bt.origin),Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent)):()=>!0,dR=Bt.hasStandardBrowserEnv?{write(r,e,t,i,a,o){const c=[r+"="+encodeURIComponent(e)];V.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),V.isString(i)&&c.push("path="+i),V.isString(a)&&c.push("domain="+a),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gR(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function mR(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Vx(r,e,t){let i=!gR(e);return r&&(i||t==!1)?mR(r,e):e}const e0=r=>r instanceof tn?{...r}:r;function nr(r,e){e=e||{};const t={};function i(g,m,y,p){return V.isPlainObject(g)&&V.isPlainObject(m)?V.merge.call({caseless:p},g,m):V.isPlainObject(m)?V.merge({},m):V.isArray(m)?m.slice():m}function a(g,m,y,p){if(V.isUndefined(m)){if(!V.isUndefined(g))return i(void 0,g,y,p)}else return i(g,m,y,p)}function o(g,m){if(!V.isUndefined(m))return i(void 0,m)}function c(g,m){if(V.isUndefined(m)){if(!V.isUndefined(g))return i(void 0,g)}else return i(void 0,m)}function h(g,m,y){if(y in e)return i(g,m);if(y in r)return i(void 0,g)}const f={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(g,m,y)=>a(e0(g),e0(m),y,!0)};return V.forEach(Object.keys(Object.assign({},r,e)),function(m){const y=f[m]||a,p=y(r[m],e[m],m);V.isUndefined(p)&&y!==h||(t[m]=p)}),t}const qx=r=>{const e=nr({},r);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:o,headers:c,auth:h}=e;e.headers=c=tn.from(c),e.url=Ux(Vx(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(V.isFormData(t)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[g,...m]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...m].join("; "))}}if(Bt.hasStandardBrowserEnv&&(i&&V.isFunction(i)&&(i=i(e)),i||i!==!1&&fR(e.url))){const g=a&&o&&dR.read(o);g&&c.set(a,g)}return e},_R=typeof XMLHttpRequest<"u",yR=_R&&function(r){return new Promise(function(t,i){const a=qx(r);let o=a.data;const c=tn.from(a.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:g}=a,m,y,p,x,v;function C(){x&&x(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function T(){if(!S)return;const w=tn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),D={data:!h||h==="text"||h==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:r,request:S};Hx(function(H){t(H),C()},function(H){i(H),C()},D),S=null}"onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(i(new Ee("Request aborted",Ee.ECONNABORTED,r,S)),S=null)},S.onerror=function(){i(new Ee("Network Error",Ee.ERR_NETWORK,r,S)),S=null},S.ontimeout=function(){let O=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const D=a.transitional||Bx;a.timeoutErrorMessage&&(O=a.timeoutErrorMessage),i(new Ee(O,D.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,r,S)),S=null},o===void 0&&c.setContentType(null),"setRequestHeader"in S&&V.forEach(c.toJSON(),function(O,D){S.setRequestHeader(D,O)}),V.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),h&&h!=="json"&&(S.responseType=a.responseType),g&&([p,v]=Zu(g,!0),S.addEventListener("progress",p)),f&&S.upload&&([y,x]=Zu(f),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(m=w=>{S&&(i(!w||w.type?new Sa(null,r,S):w),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const R=uR(a.url);if(R&&Bt.protocols.indexOf(R)===-1){i(new Ee("Unsupported protocol "+R+":",Ee.ERR_BAD_REQUEST,r));return}S.send(o||null)})},pR=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let i=new AbortController,a;const o=function(g){if(!a){a=!0,h();const m=g instanceof Error?g:this.reason;i.abort(m instanceof Ee?m:new Sa(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,o(new Ee(`timeout ${e} of ms exceeded`,Ee.ETIMEDOUT))},e);const h=()=>{r&&(c&&clearTimeout(c),c=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),r=null)};r.forEach(g=>g.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>V.asap(h),f}},xR=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let i=0,a;for(;i<t;)a=i+e,yield r.slice(i,a),i=a},vR=async function*(r,e){for await(const t of ER(r))yield*xR(t,e)},ER=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},t0=(r,e,t,i)=>{const a=vR(r,e);let o=0,c,h=f=>{c||(c=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:g,value:m}=await a.next();if(g){h(),f.close();return}let y=m.byteLength;if(t){let p=o+=y;t(p)}f.enqueue(new Uint8Array(m))}catch(g){throw h(g),g}},cancel(f){return h(f),a.return()}},{highWaterMark:2})},_c=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Zx=_c&&typeof ReadableStream=="function",SR=_c&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Kx=(r,...e)=>{try{return!!r(...e)}catch{return!1}},CR=Zx&&Kx(()=>{let r=!1;const e=new Request(Bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),n0=64*1024,Td=Zx&&Kx(()=>V.isReadableStream(new Response("").body)),Ku={stream:Td&&(r=>r.body)};_c&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ku[e]&&(Ku[e]=V.isFunction(r[e])?t=>t[e]():(t,i)=>{throw new Ee(`Response type '${e}' is not supported`,Ee.ERR_NOT_SUPPORT,i)})})})(new Response);const bR=async r=>{if(r==null)return 0;if(V.isBlob(r))return r.size;if(V.isSpecCompliantForm(r))return(await new Request(Bt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(V.isArrayBufferView(r)||V.isArrayBuffer(r))return r.byteLength;if(V.isURLSearchParams(r)&&(r=r+""),V.isString(r))return(await SR(r)).byteLength},TR=async(r,e)=>{const t=V.toFiniteNumber(r.getContentLength());return t??bR(e)},RR=_c&&(async r=>{let{url:e,method:t,data:i,signal:a,cancelToken:o,timeout:c,onDownloadProgress:h,onUploadProgress:f,responseType:g,headers:m,withCredentials:y="same-origin",fetchOptions:p}=qx(r);g=g?(g+"").toLowerCase():"text";let x=pR([a,o&&o.toAbortSignal()],c),v;const C=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let S;try{if(f&&CR&&t!=="get"&&t!=="head"&&(S=await TR(m,i))!==0){let D=new Request(e,{method:"POST",body:i,duplex:"half"}),U;if(V.isFormData(i)&&(U=D.headers.get("content-type"))&&m.setContentType(U),D.body){const[H,q]=Jp(S,Zu($p(f)));i=t0(D.body,n0,H,q)}}V.isString(y)||(y=y?"include":"omit");const T="credentials"in Request.prototype;v=new Request(e,{...p,signal:x,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:i,duplex:"half",credentials:T?y:void 0});let R=await fetch(v);const w=Td&&(g==="stream"||g==="response");if(Td&&(h||w&&C)){const D={};["status","statusText","headers"].forEach($=>{D[$]=R[$]});const U=V.toFiniteNumber(R.headers.get("content-length")),[H,q]=h&&Jp(U,Zu($p(h),!0))||[];R=new Response(t0(R.body,n0,H,()=>{q&&q(),C&&C()}),D)}g=g||"text";let O=await Ku[V.findKey(Ku,g)||"text"](R,r);return!w&&C&&C(),await new Promise((D,U)=>{Hx(D,U,{data:O,headers:tn.from(R.headers),status:R.status,statusText:R.statusText,config:r,request:v})})}catch(T){throw C&&C(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,r,v),{cause:T.cause||T}):Ee.from(T,T&&T.code,r,v)}}),Rd={http:UT,xhr:yR,fetch:RR};V.forEach(Rd,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const i0=r=>`- ${r}`,wR=r=>V.isFunction(r)||r===null||r===!1,Wx={getAdapter:r=>{r=V.isArray(r)?r:[r];const{length:e}=r;let t,i;const a={};for(let o=0;o<e;o++){t=r[o];let c;if(i=t,!wR(t)&&(i=Rd[(c=String(t)).toLowerCase()],i===void 0))throw new Ee(`Unknown adapter '${c}'`);if(i)break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(i0).join(`
`):" "+i0(o[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Rd};function td(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Sa(null,r)}function s0(r){return td(r),r.headers=tn.from(r.headers),r.data=ed.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Wx.getAdapter(r.adapter||io.adapter)(r).then(function(i){return td(r),i.data=ed.call(r,r.transformResponse,i),i.headers=tn.from(i.headers),i},function(i){return Xx(i)||(td(r),i&&i.response&&(i.response.data=ed.call(r,r.transformResponse,i.response),i.response.headers=tn.from(i.response.headers))),Promise.reject(i)})}const Qx="1.9.0",yc={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{yc[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const r0={};yc.transitional=function(e,t,i){function a(o,c){return"[Axios v"+Qx+"] Transitional option '"+o+"'"+c+(i?". "+i:"")}return(o,c,h)=>{if(e===!1)throw new Ee(a(c," has been removed"+(t?" in "+t:"")),Ee.ERR_DEPRECATED);return t&&!r0[c]&&(r0[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,c,h):!0}};yc.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function AR(r,e,t){if(typeof r!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let a=i.length;for(;a-- >0;){const o=i[a],c=e[o];if(c){const h=r[o],f=h===void 0||c(h,o,r);if(f!==!0)throw new Ee("option "+o+" must be "+f,Ee.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ee("Unknown option "+o,Ee.ERR_BAD_OPTION)}}const Xu={assertOptions:AR,validators:yc},li=Xu.validators;let Ws=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Wp,response:new Wp}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=nr(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:o}=t;i!==void 0&&Xu.assertOptions(i,{silentJSONParsing:li.transitional(li.boolean),forcedJSONParsing:li.transitional(li.boolean),clarifyTimeoutError:li.transitional(li.boolean)},!1),a!=null&&(V.isFunction(a)?t.paramsSerializer={serialize:a}:Xu.assertOptions(a,{encode:li.function,serialize:li.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Xu.assertOptions(t,{baseUrl:li.spelling("baseURL"),withXsrfToken:li.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=o&&V.merge(o.common,o[t.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),t.headers=tn.concat(c,o);const h=[];let f=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(f=f&&C.synchronous,h.unshift(C.fulfilled,C.rejected))});const g=[];this.interceptors.response.forEach(function(C){g.push(C.fulfilled,C.rejected)});let m,y=0,p;if(!f){const v=[s0.bind(this),void 0];for(v.unshift.apply(v,h),v.push.apply(v,g),p=v.length,m=Promise.resolve(t);y<p;)m=m.then(v[y++],v[y++]);return m}p=h.length;let x=t;for(y=0;y<p;){const v=h[y++],C=h[y++];try{x=v(x)}catch(S){C.call(this,S);break}}try{m=s0.call(this,x)}catch(v){return Promise.reject(v)}for(y=0,p=g.length;y<p;)m=m.then(g[y++],g[y++]);return m}getUri(e){e=nr(this.defaults,e);const t=Vx(e.baseURL,e.url,e.allowAbsoluteUrls);return Ux(t,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){Ws.prototype[e]=function(t,i){return this.request(nr(i||{},{method:e,url:t,data:(i||{}).data}))}});V.forEach(["post","put","patch"],function(e){function t(i){return function(o,c,h){return this.request(nr(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Ws.prototype[e]=t(),Ws.prototype[e+"Form"]=t(!0)});let MR=class Jx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(a=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](a);i._listeners=null}),this.promise.then=a=>{let o;const c=new Promise(h=>{i.subscribe(h),o=h}).then(a);return c.cancel=function(){i.unsubscribe(o)},c},e(function(o,c,h){i.reason||(i.reason=new Sa(o,c,h),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Jx(function(a){e=a}),cancel:e}}};function OR(r){return function(t){return r.apply(null,t)}}function LR(r){return V.isObject(r)&&r.isAxiosError===!0}const wd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wd).forEach(([r,e])=>{wd[e]=r});function $x(r){const e=new Ws(r),t=Mx(Ws.prototype.request,e);return V.extend(t,Ws.prototype,e,{allOwnKeys:!0}),V.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return $x(nr(r,a))},t}const st=$x(io);st.Axios=Ws;st.CanceledError=Sa;st.CancelToken=MR;st.isCancel=Xx;st.VERSION=Qx;st.toFormData=mc;st.AxiosError=Ee;st.Cancel=st.CanceledError;st.all=function(e){return Promise.all(e)};st.spread=OR;st.isAxiosError=LR;st.mergeConfig=nr;st.AxiosHeaders=tn;st.formToJSON=r=>Yx(V.isHTMLForm(r)?new FormData(r):r);st.getAdapter=Wx.getAdapter;st.HttpStatusCode=wd;st.default=st;const{Axios:fO,AxiosError:dO,CanceledError:gO,isCancel:mO,CancelToken:_O,VERSION:yO,all:pO,Cancel:xO,isAxiosError:vO,spread:EO,toFormData:SO,AxiosHeaders:CO,HttpStatusCode:bO,formToJSON:TO,getAdapter:RO,mergeConfig:wO}=st,rg=st.create({baseURL:"http://127.0.0.1:5000",withCredentials:!0,headers:{"Content-Type":"application/json"}}),DR=async r=>{try{return(await rg.post("/api/user/login",r,{withCredentials:!0})).data}catch(e){throw e.response?new Error(e.response.data.message||"Error de autenticacin."):new Error("No se pudo conectar con el servidor.")}},NR=async()=>{try{return(await rg.post("/api/user/logout",{},{withCredentials:!0})).data}catch{throw new Error("Error al cerrar sesin.")}},FR=async()=>{try{return(await rg.get("/api/user/session",{withCredentials:!0})).data}catch(r){if(r.response&&r.response.status===401)return{authenticated:!1};throw new Error("Error al verificar sesin.")}},e1=L.createContext(null),pc=()=>L.useContext(e1);function IR({children:r}){const[e,t]=L.useState(null),[i,a]=L.useState(!0);L.useEffect(()=>{(async()=>{try{const f=await FR();f.authenticated?t(f.user):t(null)}catch(f){console.log(" No autenticado:",f.message),t(null)}finally{a(!1)}})()},[]);const o=async h=>{const f=await DR(h);return f.status==="ok"&&t(f.user),f},c=async()=>{await NR(),t(null)};return F.jsx(e1.Provider,{value:{user:e,login:o,logout:c,isAuthenticated:!!e,loading:i},children:r})}function zR({menuOpen:r,setMenuOpen:e}){Kn();const t=eo(),{logout:i}=pc(),[a,o]=L.useState({width:window.innerWidth,height:window.innerHeight}),c=g=>{e(!1),setTimeout(()=>{t(g,{replace:!0})},100)},h=g=>{g.stopPropagation()},f=async()=>{await i(),t("/login",{replace:!0})};return L.useEffect(()=>{const g=()=>{o({width:window.innerWidth,height:window.innerHeight})},m=y=>{y.key==="Escape"&&e(!1)};return window.addEventListener("resize",g),document.addEventListener("keydown",m),()=>{window.removeEventListener("resize",g),document.removeEventListener("keydown",m)}},[e]),F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:F.jsx("button",{onClick:()=>e(!0),className:"bg-white rounded-full p-3 shadow-md",children:F.jsx(Hb,{className:"w-6 h-6 text-gray-800"})})}),r&&F.jsxs("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-md z-50 transition-all duration-300 ease-in-out animate-slide-in-left",onClick:()=>e(!1),children:[F.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-6 text-lg text-gray-700 hover:text-red-600",children:""}),F.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-4 text-center",onClick:h,children:[[["Mapa","/mapa"],["Parcelas","/parcelas"],["Campos","/campos"],["Collares","/collares"],["Alertas","/alertas"],["Animales","/animales"]].map(([g,m])=>F.jsx("button",{onClick:()=>c(m),className:`w-full text-gray-800 font-semibold hover:text-green-600 transition-all\r
                                    text-xl sm:text-2xl md:text-3xl lg:text-4xl menu-button`,children:g},m)),F.jsxs("button",{onClick:f,className:"mt-10 text-red-600 hover:text-red-800 flex items-center gap-2 text-lg",children:[F.jsx(Db,{className:"w-5 h-5"}),"Cerrar sesin"]})]})]},a.width)]})}function PR(){const[r,e]=L.useState(!1);return{menuOpen:r,setMenuOpen:e}}function Ml({label:r,icon:e,path:t,current:i,navigate:a,full:o=!1,onClick:c}){const h=()=>{a(t),c&&c()};return F.jsxs("button",{onClick:h,className:`h-full w-full flex flex-col items-center justify-center flex-1 py-1
                        ${i===t?"text-green-600 font-semibold":"text-gray-700"}
                        transition-all`,children:[F.jsx("span",{className:"text-lg",children:e}),F.jsx("span",{className:"text-[10px] min-[400px]:block hidden leading-none",children:r})]})}function kR({setMenuOpen:r}){const e=Kn(),t=eo(),i=a=>{r(!1),setTimeout(()=>{t(a,{replace:!0})},100)};return F.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-16 z-50 bg-white border-t flex justify-around items-center",children:[F.jsx(Ml,{label:"Campos",icon:F.jsx(Rb,{}),path:"/campos",current:e.pathname,navigate:i}),F.jsx(Ml,{label:"Parcelas",icon:F.jsx(Kb,{}),path:"/parcelas",current:e.pathname,navigate:i}),F.jsx(Ml,{label:"Mapa",icon:F.jsx(Rx,{}),path:"/mapa",current:e.pathname,navigate:i}),F.jsx(Ml,{label:"Alertas",icon:F.jsx(pb,{}),path:"/alertas",current:e.pathname,navigate:i}),F.jsx(Ml,{label:"Animales",icon:F.jsx(qb,{}),path:"/animales",current:e.pathname,navigate:i})]})}function GR(){const{login:r,isAuthenticated:e,loading:t}=pc(),i=eo(),[a,o]=L.useState({username:"",password:""}),[c,h]=L.useState(null),[f,g]=L.useState(!1);L.useEffect(()=>{!t&&e&&i("/mapa",{replace:!0})},[t,e,i]);const m=p=>{o({...a,[p.target.name]:p.target.value})},y=async p=>{p.preventDefault(),g(!0),h(null);try{await r(a),i("/mapa")}catch(x){h(x.message||"Error de autenticacin"),g(!1)}};return t?F.jsx("div",{className:"text-center mt-10",children:"Verificando sesin..."}):F.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:F.jsxs("form",{onSubmit:y,className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-md border",children:[F.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Iniciar Sesin"}),c&&F.jsx("p",{className:"text-red-600 text-sm mb-4",children:c}),F.jsxs("div",{className:"mb-4",children:[F.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Usuario"}),F.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:a.username,onChange:m,required:!0,className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),F.jsxs("div",{className:"mb-6",children:[F.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),F.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:a.password,onChange:m,required:!0,className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),F.jsx("button",{type:"submit",disabled:f,className:"w-full py-2 px-4 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none",children:f?"Ingresando...":"Ingresar"})]})})}async function fa(){const r=await fetch("/config/api/parcelas/init");if(!r.ok)throw new Error("Error al cargar datos");return await r.json()}async function jR(r){const e=await fetch("/config/api/parcelas/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok){const t=await e.json();throw new Error(t.message||"Error al guardar")}return await e.json()}async function t1(r,e,t="",i="",a){const o=await fetch(`/config/api/parcelas/${r}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geojson:e,nombre:t,descripcion:i,area:a})});if(!o.ok){const c=await o.json();throw new Error(c.message||"Error al actualizar")}return await o.json()}async function UR(r){const e=await fetch(`/config/api/parcelas/${r}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar la parcela");return await e.json()}function n1({mode:r="edit",isDeleteMode:e=!1,onToggleDeleteMode:t=()=>{},onCancel:i=()=>{},onSave:a=()=>{},showDelete:o=!0,showCancel:c=!0,showSave:h=!0}){return r!=="edit"?null:F.jsxs(F.Fragment,{children:[o&&F.jsx("button",{onClick:t,className:`p-3 rounded-full shadow-md flex items-center justify-center ${e?"bg-red-600":"bg-white"}`,title:"Eliminar vrtices",children:F.jsx(bb,{className:"w-6 h-6"})}),c&&F.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar edicin",children:F.jsx(Ax,{className:"w-6 h-6"})}),h&&F.jsx("button",{onClick:a,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Guardar cambios",children:F.jsx(wx,{className:"w-6 h-6"})})]})}function i1({isOpen:r,title:e,message:t,onConfirm:i,onCancel:a,confirmLabel:o="Aceptar",cancelLabel:c="Cancelar"}){return L.useEffect(()=>{if(r){const h=setTimeout(()=>{const f=document.querySelector(".modal-primary-button");f&&f.focus()},50);return()=>clearTimeout(h)}},[r]),r?bx.createPortal(F.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:F.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg max-w-sm w-full text-center",children:[e&&F.jsx("h2",{className:"text-lg font-bold mb-2",children:e}),F.jsx("p",{className:"text-sm text-gray-700 mb-4",children:t}),F.jsxs("div",{className:"flex justify-end gap-2",children:[F.jsx("button",{onClick:a,className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-sm",children:c}),F.jsx("button",{onClick:i,className:"modal-primary-button px-4 py-2 rounded bg-black hover:bg-gray-700 text-white text-sm",children:o})]})]})}),document.body):null}function ag({isOpen:r,message:e,onClose:t}){return L.useEffect(()=>{if(r){const i=setTimeout(()=>{const a=document.querySelector(".modal-primary-button");a&&a.focus()},50);return()=>clearTimeout(i)}},[r]),r?bx.createPortal(F.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:F.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg w-full max-w-sm text-center",children:[F.jsx("p",{className:"text-sm text-gray-700 mb-4",children:e}),F.jsx("button",{onClick:t,className:"modal-primary-button bg-black text-white px-4 py-2 rounded",children:"OK"})]})}),document.body):null}const Xn={modeRef:{current:null},onFinishCallback:{current:null}};function BR(){const[r,e]=L.useState(null),[t,i]=L.useState(0),[a,o]=L.useState("Click para colocar el primer vrtice");return{polygonMode:r,setMode:f=>{Xn.modeRef.current=f,e(f)},resetPolygonState:()=>{Xn.modeRef.current=null,Xn.onFinishCallback.current=null,e(null),i(0),o("Click para colocar el primer vrtice")},area:t,setArea:i,tooltipText:a,setTooltipText:o}}const YR={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class s1 extends Error{constructor(e){const t=YR[e];super(t),this.code=e,this.name="AssertionError",this.message=t}}class Qn{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const da={PROPERTYCHANGE:"propertychange"};class lg{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function XR(r,e,t){let i,a;t=t||ir;let o=0,c=r.length,h=!1;for(;o<c;)i=o+(c-o>>1),a=+t(r[i],e),a<0?o=i+1:(c=i,h=!a);return h?o:~o}function ir(r,e){return r>e?1:r<e?-1:0}function og(r,e,t){const i=r.length;if(r[0]<=e)return 0;if(e<=r[i-1])return i-1;let a;if(t>0){for(a=1;a<i;++a)if(r[a]<e)return a-1}else if(t<0){for(a=1;a<i;++a)if(r[a]<=e)return a}else for(a=1;a<i;++a){if(r[a]==e)return a;if(r[a]<e)return typeof t=="function"?t(e,r[a-1],r[a])>0?a-1:a:r[a-1]-e<e-r[a]?a-1:a}return i-1}function HR(r,e,t){for(;e<t;){const i=r[e];r[e]=r[t],r[t]=i,++e,--t}}function Hn(r,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let a=0;a<i;a++)r[r.length]=t[a]}function Gi(r,e){const t=r.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(r[i]!==e[i])return!1;return!0}function VR(r,e,t){const i=e||ir;return r.every(function(a,o){if(o===0)return!0;const c=i(r[o-1],a);return!(c>0||c===0)})}function sr(){return!0}function so(){return!1}function ga(){}function qR(r){let e=!1,t,i,a;return function(){const o=Array.prototype.slice.call(arguments);return(!e||this!==a||!Gi(o,i))&&(e=!0,a=this,i=o,t=r.apply(this,arguments)),t}}function Ca(r){for(const e in r)delete r[e]}function ma(r){let e;for(e in r)return!1;return!e}class xc extends lg{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),a=i[e]||(i[e]=[]);a.includes(t)||a.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,a=this.listeners_&&this.listeners_[i];if(!a)return;const o=t?new Qn(e):e;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in c||(c[i]=0,h[i]=0),++c[i];let f;for(let g=0,m=a.length;g<m;++g)if("handleEvent"in a[g]?f=a[g].handleEvent(o):f=a[g].call(this,o),f===!1||o.propagationStopped){f=!1;break}if(--c[i]===0){let g=h[i];for(delete h[i];g--;)this.removeEventListener(i,ga);delete c[i]}return f}disposeInternal(){this.listeners_&&Ca(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){const i=this.listeners_&&this.listeners_[e];if(i){const a=i.indexOf(t);a!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[a]=ga,++this.pendingRemovals_[e]):(i.splice(a,1),i.length===0&&delete this.listeners_[e]))}}}const xe={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Me(r,e,t,i,a){if(i&&i!==r&&(t=t.bind(i)),a){const c=t;t=function(){r.removeEventListener(e,t),c.apply(this,arguments)}}const o={target:r,type:e,listener:t};return r.addEventListener(e,t),o}function Wu(r,e,t,i){return Me(r,e,t,i,!0)}function He(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),Ca(r))}class ro extends xc{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(xe.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,a=new Array(i);for(let o=0;o<i;++o)a[o]=Me(this,e[o],t);return a}return Me(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const a=e.length;i=new Array(a);for(let o=0;o<a;++o)i[o]=Wu(this,e[o],t)}else i=Wu(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)ZR(i);else if(Array.isArray(e))for(let a=0,o=e.length;a<o;++a)this.removeEventListener(e[a],t);else this.removeEventListener(e,t)}}ro.prototype.on;ro.prototype.once;ro.prototype.un;function ZR(r){if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)He(r[e]);else He(r)}function ye(){throw new Error("Unimplemented abstract method.")}let KR=0;function ve(r){return r.ol_uid||(r.ol_uid=String(++KR))}class a0 extends Qn{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class Jn extends ro{constructor(e){super(),this.on,this.once,this.un,ve(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new a0(i,e,t)),i=da.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new a0(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const a=this.values_||(this.values_={});if(i)a[e]=t;else{const o=a[e];a[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],ma(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const ct={ADD:"add",REMOVE:"remove"},l0={LENGTH:"length"};class Tu extends Qn{constructor(e,t,i){super(e),this.element=t,this.index=i}}class _n extends Jn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,a=this.array_.length;i<a;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,a=t.length;i<a;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(l0.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new Tu(ct.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,a=t.length;i<a;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Tu(ct.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const a=this.array_[e];this.array_[e]=t,this.dispatchEvent(new Tu(ct.REMOVE,a,e)),this.dispatchEvent(new Tu(ct.ADD,t,e))}updateLength_(){this.set(l0.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===e&&i!==t)throw new s1(58)}}function Te(r,e){if(!r)throw new s1(e)}class Ut extends Jn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new Ut(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(He(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Me(e,xe.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?WR(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function WR(r){if(typeof r=="function")return r;let e;return Array.isArray(r)?e=r:(Te(typeof r.getZIndex=="function",41),e=[r]),function(){return e}}const vs=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",QR=vs.includes("firefox"),JR=vs.includes("safari")&&!vs.includes("chrom");JR&&(vs.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(vs));const $R=vs.includes("webkit")&&!vs.includes("edge"),ew=vs.includes("macintosh"),r1=typeof devicePixelRatio<"u"?devicePixelRatio:1,ug=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,tw=typeof Image<"u"&&Image.prototype.decode,a1=function(){let r=!1;try{const e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return r}();new Array(6);function fi(){return[1,0,0,1,0,0]}function nw(r,e,t,i,a,o,c){return r[0]=e,r[1]=t,r[2]=i,r[3]=a,r[4]=o,r[5]=c,r}function iw(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Ct(r,e){const t=e[0],i=e[1];return e[0]=r[0]*t+r[2]*i+r[4],e[1]=r[1]*t+r[3]*i+r[5],e}function sw(r,e,t){return nw(r,e,0,0,t,0,0)}function Es(r,e,t,i,a,o,c,h){const f=Math.sin(o),g=Math.cos(o);return r[0]=i*g,r[1]=a*f,r[2]=-i*f,r[3]=a*g,r[4]=c*i*g-h*i*f+e,r[5]=c*a*f+h*a*g+t,r}function cg(r,e){const t=rw(e);Te(t!==0,32);const i=e[0],a=e[1],o=e[2],c=e[3],h=e[4],f=e[5];return r[0]=c/t,r[1]=-a/t,r[2]=-o/t,r[3]=i/t,r[4]=(o*f-c*h)/t,r[5]=-(i*f-a*h)/t,r}function rw(r){return r[0]*r[3]-r[1]*r[2]}let o0;function l1(r){const e="matrix("+r.join(", ")+")";if(ug)return e;const t=o0||(o0=document.createElement("div"));return t.style.transform=e,t.style.transform}const St={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Un(r){const e=On();for(let t=0,i=r.length;t<i;++t)Fl(e,r[t]);return e}function vc(r,e,t){return t?(t[0]=r[0]-e,t[1]=r[1]-e,t[2]=r[2]+e,t[3]=r[3]+e,t):[r[0]-e,r[1]-e,r[2]+e,r[3]+e]}function o1(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r.slice()}function or(r,e,t){let i,a;return e<r[0]?i=r[0]-e:r[2]<e?i=e-r[2]:i=0,t<r[1]?a=r[1]-t:r[3]<t?a=t-r[3]:a=0,i*i+a*a}function Ec(r,e){return hg(r,e[0],e[1])}function Vs(r,e){return r[0]<=e[0]&&e[2]<=r[2]&&r[1]<=e[1]&&e[3]<=r[3]}function hg(r,e,t){return r[0]<=e&&e<=r[2]&&r[1]<=t&&t<=r[3]}function Ad(r,e){const t=r[0],i=r[1],a=r[2],o=r[3],c=e[0],h=e[1];let f=St.UNKNOWN;return c<t?f=f|St.LEFT:c>a&&(f=f|St.RIGHT),h<i?f=f|St.BELOW:h>o&&(f=f|St.ABOVE),f===St.UNKNOWN&&(f=St.INTERSECTING),f}function On(){return[1/0,1/0,-1/0,-1/0]}function ki(r,e,t,i,a){return a?(a[0]=r,a[1]=e,a[2]=t,a[3]=i,a):[r,e,t,i]}function ao(r){return ki(1/0,1/0,-1/0,-1/0,r)}function Hu(r,e){const t=r[0],i=r[1];return ki(t,i,t,i,e)}function u1(r,e,t,i,a){const o=ao(a);return h1(o,r,e,t,i)}function jl(r,e){return r[0]==e[0]&&r[2]==e[2]&&r[1]==e[1]&&r[3]==e[3]}function c1(r,e){return e[0]<r[0]&&(r[0]=e[0]),e[2]>r[2]&&(r[2]=e[2]),e[1]<r[1]&&(r[1]=e[1]),e[3]>r[3]&&(r[3]=e[3]),r}function Fl(r,e){e[0]<r[0]&&(r[0]=e[0]),e[0]>r[2]&&(r[2]=e[0]),e[1]<r[1]&&(r[1]=e[1]),e[1]>r[3]&&(r[3]=e[1])}function h1(r,e,t,i,a){for(;t<i;t+=a)aw(r,e[t],e[t+1]);return r}function aw(r,e,t){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}function f1(r,e){let t;return t=e(Sc(r)),t||(t=e(Cc(r)),t)||(t=e(bc(r)),t)||(t=e(ur(r)),t)?t:!1}function Md(r){let e=0;return fg(r)||(e=Ve(r)*di(r)),e}function Sc(r){return[r[0],r[1]]}function Cc(r){return[r[2],r[1]]}function rr(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function lw(r,e){let t;return e==="bottom-left"?t=Sc(r):e==="bottom-right"?t=Cc(r):e==="top-left"?t=ur(r):e==="top-right"?t=bc(r):Te(!1,13),t}function Od(r,e,t,i,a){const[o,c,h,f,g,m,y,p]=Ld(r,e,t,i);return ki(Math.min(o,h,g,y),Math.min(c,f,m,p),Math.max(o,h,g,y),Math.max(c,f,m,p),a)}function Ld(r,e,t,i){const a=e*i[0]/2,o=e*i[1]/2,c=Math.cos(t),h=Math.sin(t),f=a*c,g=a*h,m=o*c,y=o*h,p=r[0],x=r[1];return[p-f+y,x-g-m,p-f-y,x-g+m,p+f-y,x+g+m,p+f+y,x+g-m,p-f+y,x-g-m]}function di(r){return r[3]-r[1]}function Il(r,e,t){const i=t||On();return qt(r,e)?(r[0]>e[0]?i[0]=r[0]:i[0]=e[0],r[1]>e[1]?i[1]=r[1]:i[1]=e[1],r[2]<e[2]?i[2]=r[2]:i[2]=e[2],r[3]<e[3]?i[3]=r[3]:i[3]=e[3]):ao(i),i}function ur(r){return[r[0],r[3]]}function bc(r){return[r[2],r[3]]}function Ve(r){return r[2]-r[0]}function qt(r,e){return r[0]<=e[2]&&r[2]>=e[0]&&r[1]<=e[3]&&r[3]>=e[1]}function fg(r){return r[2]<r[0]||r[3]<r[1]}function ow(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r}function uw(r,e,t){let i=!1;const a=Ad(r,e),o=Ad(r,t);if(a===St.INTERSECTING||o===St.INTERSECTING)i=!0;else{const c=r[0],h=r[1],f=r[2],g=r[3],m=e[0],y=e[1],p=t[0],x=t[1],v=(x-y)/(p-m);let C,S;o&St.ABOVE&&!(a&St.ABOVE)&&(C=p-(x-g)/v,i=C>=c&&C<=f),!i&&o&St.RIGHT&&!(a&St.RIGHT)&&(S=x-(p-f)*v,i=S>=h&&S<=g),!i&&o&St.BELOW&&!(a&St.BELOW)&&(C=p-(x-h)/v,i=C>=c&&C<=f),!i&&o&St.LEFT&&!(a&St.LEFT)&&(S=x-(p-c)*v,i=S>=h&&S<=g)}return i}function d1(r,e){const t=e.getExtent(),i=rr(r);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const a=Ve(t),c=Math.floor((i[0]-t[0])/a)*a;r[0]-=c,r[2]-=c}return r}function cw(r,e){if(e.canWrapX()){const t=e.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[t[0],r[1],t[2],r[3]]];d1(r,e);const i=Ve(t);if(Ve(r)>i)return[[t[0],r[1],t[2],r[3]]];if(r[0]<t[0])return[[r[0]+i,r[1],t[2],r[3]],[t[0],r[1],r[2],r[3]]];if(r[2]>t[2])return[[r[0],r[1],t[2],r[3]],[t[0],r[1],r[2]-i,r[3]]]}return[r]}const dg={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class g1{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||dg[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const lo=6378137,oa=Math.PI*lo,hw=[-oa,-oa,oa,oa],fw=[-180,-85,180,85],Ru=lo*Math.log(Math.tan(Math.PI/2));class $r extends g1{constructor(e){super({code:e,units:"m",extent:hw,global:!0,worldExtent:fw,getPointResolution:function(t,i){return t/Math.cosh(i[1]/lo)}})}}const u0=[new $r("EPSG:3857"),new $r("EPSG:102100"),new $r("EPSG:102113"),new $r("EPSG:900913"),new $r("http://www.opengis.net/def/crs/EPSG/0/3857"),new $r("http://www.opengis.net/gml/srs/epsg.xml#3857")];function dw(r,e,t){const i=r.length;t=t>1?t:2,e===void 0&&(t>2?e=r.slice():e=new Array(i));for(let a=0;a<i;a+=t){e[a]=oa*r[a]/180;let o=lo*Math.log(Math.tan(Math.PI*(+r[a+1]+90)/360));o>Ru?o=Ru:o<-Ru&&(o=-Ru),e[a+1]=o}return e}function gw(r,e,t){const i=r.length;t=t>1?t:2,e===void 0&&(t>2?e=r.slice():e=new Array(i));for(let a=0;a<i;a+=t)e[a]=180*r[a]/oa,e[a+1]=360*Math.atan(Math.exp(r[a+1]/lo))/Math.PI-90;return e}const mw=6378137,c0=[-180,-90,180,90],_w=Math.PI*mw/180;class Us extends g1{constructor(e,t){super({code:e,units:"degrees",extent:c0,axisOrientation:t,global:!0,metersPerUnit:_w,worldExtent:c0})}}const h0=[new Us("CRS:84"),new Us("EPSG:4326","neu"),new Us("urn:ogc:def:crs:OGC:1.3:CRS84"),new Us("urn:ogc:def:crs:OGC:2:84"),new Us("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Us("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Us("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Dd={};function yw(r){return Dd[r]||Dd[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function pw(r,e){Dd[r]=e}let ua={};function Qu(r,e,t){const i=r.getCode(),a=e.getCode();i in ua||(ua[i]={}),ua[i][a]=t}function xw(r,e){let t;return r in ua&&e in ua[r]&&(t=ua[r][e]),t}function ht(r,e,t){return Math.min(Math.max(r,e),t)}function vw(r,e,t,i,a,o){const c=a-t,h=o-i;if(c!==0||h!==0){const f=((r-t)*c+(e-i)*h)/(c*c+h*h);f>1?(t=a,i=o):f>0&&(t+=c*f,i+=h*f)}return Qs(r,e,t,i)}function Qs(r,e,t,i){const a=t-r,o=i-e;return a*a+o*o}function Ew(r){const e=r.length;for(let i=0;i<e;i++){let a=i,o=Math.abs(r[i][i]);for(let h=i+1;h<e;h++){const f=Math.abs(r[h][i]);f>o&&(o=f,a=h)}if(o===0)return null;const c=r[a];r[a]=r[i],r[i]=c;for(let h=i+1;h<e;h++){const f=-r[h][i]/r[i][i];for(let g=i;g<e+1;g++)i==g?r[h][g]=0:r[h][g]+=f*r[i][g]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=r[i][e]/r[i][i];for(let a=i-1;a>=0;a--)r[a][e]-=r[a][i]*t[i]}return t}function Js(r){return r*Math.PI/180}function $s(r,e){const t=r%e;return t*e<0?t+e:t}function gn(r,e,t){return r+t*(e-r)}function gg(r,e){const t=Math.pow(10,e);return Math.round(r*t)/t}function wu(r,e){return Math.floor(gg(r,e))}function Au(r,e){return Math.ceil(gg(r,e))}function Sw(r,e){return r[0]+=+e[0],r[1]+=+e[1],r}function m1(r,e){const t=r[0],i=r[1],a=e[0],o=e[1],c=a[0],h=a[1],f=o[0],g=o[1],m=f-c,y=g-h,p=m===0&&y===0?0:(m*(t-c)+y*(i-h))/(m*m+y*y||0);let x,v;return p<=0?(x=c,v=h):p>=1?(x=f,v=g):(x=c+p*m,v=h+p*y),[x,v]}function Bn(r,e){let t=!0;for(let i=r.length-1;i>=0;--i)if(r[i]!=e[i]){t=!1;break}return t}function mg(r,e){const t=Math.cos(e),i=Math.sin(e),a=r[0]*t-r[1]*i,o=r[1]*t+r[0]*i;return r[0]=a,r[1]=o,r}function Cw(r,e){return r[0]*=e,r[1]*=e,r}function Ul(r,e){const t=r[0]-e[0],i=r[1]-e[1];return t*t+i*i}function f0(r,e){return Math.sqrt(Ul(r,e))}function bw(r,e){return Ul(r,m1(r,e))}function _1(r,e){if(e.canWrapX()){const t=Ve(e.getExtent()),i=Tw(r,e,t);i&&(r[0]-=i*t)}return r}function Tw(r,e,t){const i=e.getExtent();let a=0;return e.canWrapX()&&(r[0]<i[0]||r[0]>i[2])&&(t=t||Ve(i),a=Math.floor((r[0]-i[0])/t)),a}const y1=63710088e-1;function d0(r,e,t){t=t||y1;const i=Js(r[1]),a=Js(e[1]),o=(a-i)/2,c=Js(e[0]-r[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(i)*Math.cos(a);return 2*t*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function Mu(r,e){let t=0;const i=r.length;let a=r[i-1][0],o=r[i-1][1];for(let c=0;c<i;c++){const h=r[c][0],f=r[c][1];t+=Js(h-a)*(2+Math.sin(Js(o))+Math.sin(Js(f))),a=h,o=f}return t*e*e/2}function Tc(r,e){e=e||{};const t=e.radius||y1,i=e.projection||"EPSG:3857",a=r.getType();a!=="GeometryCollection"&&(r=r.clone().transform(i,"EPSG:4326"));let o=0,c,h,f,g,m,y;switch(a){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(c=r.getCoordinates(),o=Math.abs(Mu(c[0],t)),f=1,g=c.length;f<g;++f)o-=Math.abs(Mu(c[f],t));break}case"MultiPolygon":{for(c=r.getCoordinates(),f=0,g=c.length;f<g;++f)for(h=c[f],o+=Math.abs(Mu(h[0],t)),m=1,y=h.length;m<y;++m)o-=Math.abs(Mu(h[m],t));break}case"GeometryCollection":{const p=r.getGeometries();for(f=0,g=p.length;f<g;++f)o+=Tc(p[f],e);break}default:throw new Error("Unsupported geometry type: "+a)}return o}function p1(...r){console.warn(...r)}let Nd=!0;function x1(r){Nd=!1}function _g(r,e){if(e!==void 0){for(let t=0,i=r.length;t<i;++t)e[t]=r[t];e=e}else e=r.slice();return e}function v1(r,e){if(e!==void 0&&r!==e){for(let t=0,i=r.length;t<i;++t)e[t]=r[t];r=e}return r}function Rw(r){pw(r.getCode(),r),Qu(r,r,_g)}function ww(r){r.forEach(Rw)}function yt(r){return typeof r=="string"?yw(r):r||null}function g0(r,e,t,i){r=yt(r);let a;const o=r.getPointResolutionFunc();if(o)a=o(e,t);else{const c=r.getUnits();if(c=="degrees"||i=="degrees")a=e;else{const h=xg(r,yt("EPSG:4326"));if(h===v1&&c!=="degrees")a=e*r.getMetersPerUnit();else{let g=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];g=h(g,g,2);const m=d0(g.slice(0,2),g.slice(2,4)),y=d0(g.slice(4,6),g.slice(6,8));a=(m+y)/2}const f=r.getMetersPerUnit();f!==void 0&&(a/=f)}}return a}function m0(r){ww(r),r.forEach(function(e){r.forEach(function(t){e!==t&&Qu(e,t,_g)})})}function Aw(r,e,t,i){r.forEach(function(a){e.forEach(function(o){Qu(a,o,t),Qu(o,a,i)})})}function yg(r,e){if(r){if(typeof r=="string")return yt(r)}else return yt(e);return r}function pg(r,e){return x1(),vg(r,"EPSG:4326","EPSG:3857")}function E1(r,e){const t=vg(r,"EPSG:3857","EPSG:4326"),i=t[0];return(i<-180||i>180)&&(t[0]=$s(i+180,360)-180),t}function Xs(r,e){if(r===e)return!0;const t=r.getUnits()===e.getUnits();return(r.getCode()===e.getCode()||xg(r,e)===_g)&&t}function xg(r,e){const t=r.getCode(),i=e.getCode();let a=xw(t,i);return a||(a=v1),a}function Ju(r,e){const t=yt(r),i=yt(e);return xg(t,i)}function vg(r,e,t){return Ju(e,t)(r,void 0,r.length)}function Bl(r,e){return r}function mt(r,e){return Nd&&!Bn(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(Nd=!1,p1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function Eg(r,e){return r}function _s(r,e){return r}function Mw(){m0(u0),m0(h0),Aw(h0,u0,dw,gw)}Mw();function er(r,e,t,i,a,o){o=o||[];let c=0;for(let h=e;h<t;h+=i){const f=r[h],g=r[h+1];o[c++]=a[0]*f+a[2]*g+a[4],o[c++]=a[1]*f+a[3]*g+a[5]}return o&&o.length!=c&&(o.length=c),o}function S1(r,e,t,i,a,o,c){c=c||[];const h=Math.cos(a),f=Math.sin(a),g=o[0],m=o[1];let y=0;for(let p=e;p<t;p+=i){const x=r[p]-g,v=r[p+1]-m;c[y++]=g+x*h-v*f,c[y++]=m+x*f+v*h;for(let C=p+2;C<p+i;++C)c[y++]=r[C]}return c&&c.length!=y&&(c.length=y),c}function Ow(r,e,t,i,a,o,c,h){h=h||[];const f=c[0],g=c[1];let m=0;for(let y=e;y<t;y+=i){const p=r[y]-f,x=r[y+1]-g;h[m++]=f+a*p,h[m++]=g+o*x;for(let v=y+2;v<y+i;++v)h[m++]=r[v]}return h&&h.length!=m&&(h.length=m),h}function Lw(r,e,t,i,a,o,c){c=c||[];let h=0;for(let f=e;f<t;f+=i){c[h++]=r[f]+a,c[h++]=r[f+1]+o;for(let g=f+2;g<f+i;++g)c[h++]=r[g]}return c&&c.length!=h&&(c.length=h),c}const _0=fi();class C1 extends Jn{constructor(){super(),this.extent_=On(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=qR(function(e,t,i){if(!i)return this.getSimplifiedGeometry(t);const a=this.clone();return a.applyTransform(i),a.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return ye()}closestPointXY(e,t,i,a){return ye()}containsXY(e,t){const i=this.getClosestPoint([e,t]);return i[0]===e&&i[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ye()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&ao(t),this.extentRevision_=this.getRevision()}return ow(this.extent_,e)}rotate(e,t){ye()}scale(e,t,i){ye()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ye()}getType(){return ye()}applyTransform(e){ye()}intersectsExtent(e){return ye()}translate(e,t){ye()}transform(e,t){const i=yt(e),a=i.getUnits()=="tile-pixels"?function(o,c,h){const f=i.getExtent(),g=i.getWorldExtent(),m=di(g)/di(f);return Es(_0,g[0],g[3],m,-m,0,0,0),er(o,0,o.length,h,_0,c),Ju(i,t)(o,c,h)}:Ju(i,t);return this.applyTransform(a),this}}class cr extends C1{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return u1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ye()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=y0(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){ye()}setLayout(e,t,i){let a;if(e)a=y0(e);else{for(let o=0;o<i;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}a=t.length,e=Dw(a)}this.layout=e,this.stride=a}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const a=this.getStride();S1(i,0,i.length,a,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=rr(this.getExtent()));const a=this.getFlatCoordinates();if(a){const o=this.getStride();Ow(a,0,a.length,o,e,t,i,a),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const a=this.getStride();Lw(i,0,i.length,a,e,t,i),this.changed()}}}function Dw(r){let e;return r==2?e="XY":r==3?e="XYZ":r==4&&(e="XYZM"),e}function y0(r){let e;return r=="XY"?e=2:r=="XYZ"||r=="XYM"?e=3:r=="XYZM"&&(e=4),e}function Nw(r,e,t){const i=r.getFlatCoordinates();if(!i)return null;const a=r.getStride();return er(i,0,i.length,a,e,t)}function p0(r,e,t,i,a,o,c){const h=r[e],f=r[e+1],g=r[t]-h,m=r[t+1]-f;let y;if(g===0&&m===0)y=e;else{const p=((a-h)*g+(o-f)*m)/(g*g+m*m);if(p>1)y=t;else if(p>0){for(let x=0;x<i;++x)c[x]=gn(r[e+x],r[t+x],p);c.length=i;return}else y=e}for(let p=0;p<i;++p)c[p]=r[y+p];c.length=i}function Sg(r,e,t,i,a){let o=r[e],c=r[e+1];for(e+=i;e<t;e+=i){const h=r[e],f=r[e+1],g=Qs(o,c,h,f);g>a&&(a=g),o=h,c=f}return a}function Cg(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){const h=t[o];a=Sg(r,e,h,i,a),e=h}return a}function Fw(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){const h=t[o];a=Cg(r,e,h,i,a),e=h[h.length-1]}return a}function bg(r,e,t,i,a,o,c,h,f,g,m){if(e==t)return g;let y,p;if(a===0){if(p=Qs(c,h,r[e],r[e+1]),p<g){for(y=0;y<i;++y)f[y]=r[e+y];return f.length=i,p}return g}m=m||[NaN,NaN];let x=e+i;for(;x<t;)if(p0(r,x-i,x,i,c,h,m),p=Qs(c,h,m[0],m[1]),p<g){for(g=p,y=0;y<i;++y)f[y]=m[y];f.length=i,x+=i}else x+=i*Math.max((Math.sqrt(p)-Math.sqrt(g))/a|0,1);if(o&&(p0(r,t-i,e,i,c,h,m),p=Qs(c,h,m[0],m[1]),p<g)){for(g=p,y=0;y<i;++y)f[y]=m[y];f.length=i}return g}function Tg(r,e,t,i,a,o,c,h,f,g,m){m=m||[NaN,NaN];for(let y=0,p=t.length;y<p;++y){const x=t[y];g=bg(r,e,x,i,a,o,c,h,f,g,m),e=x}return g}function Iw(r,e,t,i,a,o,c,h,f,g,m){m=m||[NaN,NaN];for(let y=0,p=t.length;y<p;++y){const x=t[y];g=Tg(r,e,x,i,a,o,c,h,f,g,m),e=x[x.length-1]}return g}function zw(r,e,t,i){for(let a=0,o=t.length;a<o;++a)r[e++]=t[a];return e}function Rc(r,e,t,i){for(let a=0,o=t.length;a<o;++a){const c=t[a];for(let h=0;h<i;++h)r[e++]=c[h]}return e}function Rg(r,e,t,i,a){a=a||[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=Rc(r,e,t[c],i);a[o++]=f,e=f}return a.length=o,a}function Pw(r,e,t,i,a){a=a||[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=Rg(r,e,t[c],i,a[o]);f.length===0&&(f[0]=e),a[o++]=f,e=f[f.length-1]}return a.length=o,a}function wg(r,e,t,i,a,o,c){const h=(t-e)/i;if(h<3){for(;e<t;e+=i)o[c++]=r[e],o[c++]=r[e+1];return c}const f=new Array(h);f[0]=1,f[h-1]=1;const g=[e,t-i];let m=0;for(;g.length>0;){const y=g.pop(),p=g.pop();let x=0;const v=r[p],C=r[p+1],S=r[y],T=r[y+1];for(let R=p+i;R<y;R+=i){const w=r[R],O=r[R+1],D=vw(w,O,v,C,S,T);D>x&&(m=R,x=D)}x>a&&(f[(m-e)/i]=1,p+i<m&&g.push(p,m),m+i<y&&g.push(m,y))}for(let y=0;y<h;++y)f[y]&&(o[c++]=r[e+y*i],o[c++]=r[e+y*i+1]);return c}function kw(r,e,t,i,a,o,c,h){for(let f=0,g=t.length;f<g;++f){const m=t[f];c=wg(r,e,m,i,a,o,c),h.push(c),e=m}return c}function Ys(r,e){return e*Math.round(r/e)}function Gw(r,e,t,i,a,o,c){if(e==t)return c;let h=Ys(r[e],a),f=Ys(r[e+1],a);e+=i,o[c++]=h,o[c++]=f;let g,m;do if(g=Ys(r[e],a),m=Ys(r[e+1],a),e+=i,e==t)return o[c++]=g,o[c++]=m,c;while(g==h&&m==f);for(;e<t;){const y=Ys(r[e],a),p=Ys(r[e+1],a);if(e+=i,y==g&&p==m)continue;const x=g-h,v=m-f,C=y-h,S=p-f;if(x*S==v*C&&(x<0&&C<x||x==C||x>0&&C>x)&&(v<0&&S<v||v==S||v>0&&S>v)){g=y,m=p;continue}o[c++]=g,o[c++]=m,h=g,f=m,g=y,m=p}return o[c++]=g,o[c++]=m,c}function b1(r,e,t,i,a,o,c,h){for(let f=0,g=t.length;f<g;++f){const m=t[f];c=Gw(r,e,m,i,a,o,c),h.push(c),e=m}return c}function jw(r,e,t,i,a,o,c,h){for(let f=0,g=t.length;f<g;++f){const m=t[f],y=[];c=b1(r,e,m,i,a,o,c,y),h.push(y),e=m[m.length-1]}return c}function ys(r,e,t,i,a){a=a!==void 0?a:[];let o=0;for(let c=e;c<t;c+=i)a[o++]=r.slice(c,c+i);return a.length=o,a}function Yl(r,e,t,i,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=t[c];a[o++]=ys(r,e,f,i,a[o]),e=f}return a.length=o,a}function Fd(r,e,t,i,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=t[c];a[o++]=f.length===1&&f[0]===e?[]:Yl(r,e,f,i,a[o]),e=f[f.length-1]}return a.length=o,a}function T1(r,e,t,i){let a=0,o=r[t-i],c=r[t-i+1];for(;e<t;e+=i){const h=r[e],f=r[e+1];a+=c*h-o*f,o=h,c=f}return a/2}function R1(r,e,t,i){let a=0;for(let o=0,c=t.length;o<c;++o){const h=t[o];a+=T1(r,e,h,i),e=h}return a}function Uw(r,e,t,i){let a=0;for(let o=0,c=t.length;o<c;++o){const h=t[o];a+=R1(r,e,h,i),e=h[h.length-1]}return a}class Xl extends cr{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Xl(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,a){return a<or(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,a))}getArea(){return T1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=wg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Xl(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Rc(this.flatCoordinates,0,e,this.stride),this.changed()}}class Ln extends cr{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Ln(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,a){const o=this.flatCoordinates,c=Qs(e,t,o[0],o[1]);if(c<a){const h=this.stride;for(let f=0;f<h;++f)i[f]=o[f];return i.length=h,c}return a}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return Hu(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return hg(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=zw(this.flatCoordinates,0,e,this.stride),this.changed()}}function Bw(r,e,t,i,a){return!f1(a,function(c){return!qs(r,e,t,i,c[0],c[1])})}function qs(r,e,t,i,a,o){let c=0,h=r[t-i],f=r[t-i+1];for(;e<t;e+=i){const g=r[e],m=r[e+1];f<=o?m>o&&(g-h)*(o-f)-(a-h)*(m-f)>0&&c++:m<=o&&(g-h)*(o-f)-(a-h)*(m-f)<0&&c--,h=g,f=m}return c!==0}function Ag(r,e,t,i,a,o){if(t.length===0||!qs(r,e,t[0],i,a,o))return!1;for(let c=1,h=t.length;c<h;++c)if(qs(r,t[c-1],t[c],i,a,o))return!1;return!0}function Yw(r,e,t,i,a,o){if(t.length===0)return!1;for(let c=0,h=t.length;c<h;++c){const f=t[c];if(Ag(r,e,f,i,a,o))return!0;e=f[f.length-1]}return!1}function w1(r,e,t,i,a,o,c){let h,f,g,m,y,p,x;const v=a[o+1],C=[];for(let R=0,w=t.length;R<w;++R){const O=t[R];for(m=r[O-i],p=r[O-i+1],h=e;h<O;h+=i)y=r[h],x=r[h+1],(v<=p&&x<=v||p<=v&&v<=x)&&(g=(v-p)/(x-p)*(y-m)+m,C.push(g)),m=y,p=x}let S=NaN,T=-1/0;for(C.sort(ir),m=C[0],h=1,f=C.length;h<f;++h){y=C[h];const R=Math.abs(y-m);R>T&&(g=(m+y)/2,Ag(r,e,t,i,g,v)&&(S=g,T=R)),m=y}return isNaN(S)&&(S=a[o]),c?(c.push(S,v,T),c):[S,v,T]}function Xw(r,e,t,i,a){let o=[];for(let c=0,h=t.length;c<h;++c){const f=t[c];o=w1(r,e,f,i,a,2*c,o),e=f[f.length-1]}return o}function A1(r,e,t,i,a){let o;for(e+=i;e<t;e+=i)if(o=a(r.slice(e-i,e),r.slice(e,e+i)),o)return o;return!1}function wc(r,e,t,i,a){const o=h1(On(),r,e,t,i);return qt(a,o)?Vs(a,o)||o[0]>=a[0]&&o[2]<=a[2]||o[1]>=a[1]&&o[3]<=a[3]?!0:A1(r,e,t,i,function(c,h){return uw(a,c,h)}):!1}function Hw(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){if(wc(r,e,t[o],i,a))return!0;e=t[o]}return!1}function M1(r,e,t,i,a){return!!(wc(r,e,t,i,a)||qs(r,e,t,i,a[0],a[1])||qs(r,e,t,i,a[0],a[3])||qs(r,e,t,i,a[2],a[1])||qs(r,e,t,i,a[2],a[3]))}function O1(r,e,t,i,a){if(!M1(r,e,t[0],i,a))return!1;if(t.length===1)return!0;for(let o=1,c=t.length;o<c;++o)if(Bw(r,t[o-1],t[o],i,a)&&!wc(r,t[o-1],t[o],i,a))return!1;return!0}function Vw(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){const h=t[o];if(O1(r,e,h,i,a))return!0;e=h[h.length-1]}return!1}function qw(r,e,t,i){for(;e<t-i;){for(let a=0;a<i;++a){const o=r[e+a];r[e+a]=r[t-i+a],r[t-i+a]=o}e+=i,t-=i}}function L1(r,e,t,i){let a=0,o=r[t-i],c=r[t-i+1];for(;e<t;e+=i){const h=r[e],f=r[e+1];a+=(h-o)*(f+c),o=h,c=f}return a===0?void 0:a>0}function D1(r,e,t,i,a){a=a!==void 0?a:!1;for(let o=0,c=t.length;o<c;++o){const h=t[o],f=L1(r,e,h,i);if(o===0){if(a&&f||!a&&!f)return!1}else if(a&&!f||!a&&f)return!1;e=h}return!0}function Zw(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o){const h=t[o];if(!D1(r,e,h,i,a))return!1;h.length&&(e=h[h.length-1])}return!0}function Id(r,e,t,i,a){a=a!==void 0?a:!1;for(let o=0,c=t.length;o<c;++o){const h=t[o],f=L1(r,e,h,i);(o===0?a&&f||!a&&!f:a&&!f||!a&&f)&&qw(r,e,h,i),e=h}return e}function x0(r,e,t,i,a){for(let o=0,c=t.length;o<c;++o)e=Id(r,e,t[o],i,a);return e}class Gt extends cr{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Hn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Gt(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,a){return a<or(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Cg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Tg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,a))}containsXY(e,t){return Ag(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return R1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Id(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Yl(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=rr(this.getExtent());this.flatInteriorPoint_=w1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ln(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Xl(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,a=[];let o=0;for(let c=0,h=i.length;c<h;++c){const f=i[c],g=new Xl(t.slice(o,f),e);a.push(g),o=f}return a}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;D1(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Id(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=b1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new Gt(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return O1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Rg(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function v0(r){const e=r[0],t=r[1],i=r[2],a=r[3],o=[e,t,e,a,i,a,i,t,e,t];return new Gt(o,"XY",[o.length])}const xs={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Pt{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new Pt({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}function N1(r,e,t,i,a,o,c){let h,f;const g=(t-e)/i;if(g===1)h=e;else if(g===2)h=e,f=a;else if(g!==0){let m=r[e],y=r[e+1],p=0;const x=[0];for(let S=e+i;S<t;S+=i){const T=r[S],R=r[S+1];p+=Math.sqrt((T-m)*(T-m)+(R-y)*(R-y)),x.push(p),m=T,y=R}const v=a*p,C=XR(x,v);C<0?(f=(v-x[-C-2])/(x[-C-1]-x[-C-2]),h=e+(-C-2)*i):h=e+C*i}c=c>1?c:2,o=o||new Array(c);for(let m=0;m<c;++m)o[m]=h===void 0?NaN:f===void 0?r[h+m]:gn(r[h+m],r[h+i+m],f);return o}function zd(r,e,t,i,a,o){if(t==e)return null;let c;if(a<r[e+i-1])return o?(c=r.slice(e,e+i),c[i-1]=a,c):null;if(r[t-1]<a)return o?(c=r.slice(t-i,t),c[i-1]=a,c):null;if(a==r[e+i-1])return r.slice(e,e+i);let h=e/i,f=t/i;for(;h<f;){const p=h+f>>1;a<r[(p+1)*i-1]?f=p:h=p+1}const g=r[h*i-1];if(a==g)return r.slice((h-1)*i,(h-1)*i+i);const m=r[(h+1)*i-1],y=(a-g)/(m-g);c=[];for(let p=0;p<i-1;++p)c.push(gn(r[(h-1)*i+p],r[h*i+p],y));return c.push(a),c}function Kw(r,e,t,i,a,o,c){if(c)return zd(r,e,t[t.length-1],i,a,o);let h;if(a<r[i-1])return o?(h=r.slice(0,i),h[i-1]=a,h):null;if(r[r.length-1]<a)return o?(h=r.slice(r.length-i),h[i-1]=a,h):null;for(let f=0,g=t.length;f<g;++f){const m=t[f];if(e!=m){if(a<r[e+i-1])return null;if(a<=r[m-1])return zd(r,e,m,i,a,!1);e=m}}return null}function F1(r,e,t,i){let a=r[e],o=r[e+1],c=0;for(let h=e+i;h<t;h+=i){const f=r[h],g=r[h+1];c+=Math.sqrt((f-a)*(f-a)+(g-o)*(g-o)),a=f,o=g}return c}class ar extends cr{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){this.flatCoordinates?Hn(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new ar(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,a){return a<or(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,a))}forEachSegment(e){return A1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,zd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return N1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return F1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=wg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new ar(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return wc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Rc(this.flatCoordinates,0,e,this.stride),this.changed()}}class Mt{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Mt({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}const _t={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function E0(r){return r[0]>0&&r[1]>0}function Ww(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function mn(r,e){return Array.isArray(r)?r:(e===void 0?e=[r,r]:(e[0]=r,e[1]=r),e)}class Ac{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=mn(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Ac({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ye()}getImage(e){return ye()}getHitDetectionImage(){return ye()}getPixelRatio(e){return 1}getImageState(){return ye()}getImageSize(){return ye()}getOrigin(){return ye()}getSize(){return ye()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=mn(e)}listenImageChange(e){ye()}load(){ye()}unlistenImageChange(e){ye()}}const Qw=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Jw=/^([a-z]*)$|^hsla?\(.*\)$/i;function I1(r){return typeof r=="string"?r:z1(r)}function $w(r){const e=document.createElement("div");if(e.style.color=r,e.style.color!==""){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}const e2=function(){const e={};let t=0;return function(i){let a;if(e.hasOwnProperty(i))a=e[i];else{if(t>=1024){let o=0;for(const c in e)(o++&3)===0&&(delete e[c],--t)}a=t2(i),e[i]=a,++t}return a}}();function $u(r){return Array.isArray(r)?r:e2(r)}function t2(r){let e,t,i,a,o;if(Jw.exec(r)&&(r=$w(r)),Qw.exec(r)){const c=r.length-1;let h;c<=4?h=1:h=2;const f=c===4||c===8;e=parseInt(r.substr(1+0*h,h),16),t=parseInt(r.substr(1+1*h,h),16),i=parseInt(r.substr(1+2*h,h),16),f?a=parseInt(r.substr(1+3*h,h),16):a=255,h==1&&(e=(e<<4)+e,t=(t<<4)+t,i=(i<<4)+i,f&&(a=(a<<4)+a)),o=[e,t,i,a/255]}else r.startsWith("rgba(")?(o=r.slice(5,-1).split(",").map(Number),S0(o)):r.startsWith("rgb(")?(o=r.slice(4,-1).split(",").map(Number),o.push(1),S0(o)):Te(!1,14);return o}function S0(r){return r[0]=ht(r[0]+.5|0,0,255),r[1]=ht(r[1]+.5|0,0,255),r[2]=ht(r[2]+.5|0,0,255),r[3]=ht(r[3],0,1),r}function z1(r){let e=r[0];e!=(e|0)&&(e=e+.5|0);let t=r[1];t!=(t|0)&&(t=t+.5|0);let i=r[2];i!=(i|0)&&(i=i+.5|0);const a=r[3]===void 0?1:Math.round(r[3]*100)/100;return"rgba("+e+","+t+","+i+","+a+")"}function hi(r){return Array.isArray(r)?z1(r):r}function Zt(r,e,t,i){let a;return t&&t.length?a=t.shift():ug?a=new OffscreenCanvas(r||300,e||300):a=document.createElement("canvas"),r&&(a.width=r),e&&(a.height=e),a.getContext("2d",i)}function Mc(r){const e=r.canvas;e.width=1,e.height=1,r.clearRect(0,0,1,1)}function n2(r){let e=r.offsetWidth;const t=getComputedStyle(r);return e+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10),e}function i2(r){let e=r.offsetHeight;const t=getComputedStyle(r);return e+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),e}function C0(r,e){const t=e.parentNode;t&&t.replaceChild(r,e)}function ec(r){return r&&r.parentNode?r.parentNode.removeChild(r):null}function P1(r){for(;r.lastChild;)r.removeChild(r.lastChild)}function s2(r,e){const t=r.childNodes;for(let i=0;;++i){const a=t[i],o=e[i];if(!a&&!o)break;if(a!==o){if(!a){r.appendChild(o);continue}if(!o){r.removeChild(a),--i;continue}r.insertBefore(o,a)}}}const Ou="ol-hidden",r2="ol-selectable",Oc="ol-unselectable",Mg="ol-control",b0="ol-collapsed",a2=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),T0=["style","variant","weight","size","lineHeight","family"],k1=function(r){const e=r.match(a2);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,a=T0.length;i<a;++i){const o=e[i+1];o!==void 0&&(t[T0[i]]=o)}return t.families=t.family.split(/,\s?/),t},G1="10px sans-serif",zi="#000",tc="round",Hl=[],Vl=0,_a="round",ql=10,Zl="#000",Kl="center",nc="middle",Zs=[0,0,0,0],Wl=1,Ni=new Jn;let sa=null,Pd;const kd={},l2=function(){const e="32px ",t=["monospace","serif"],i=t.length,a="wmytzilWMYTZIL@#/&?$%10";let o,c;function h(g,m,y){let p=!0;for(let x=0;x<i;++x){const v=t[x];if(c=ic(g+" "+m+" "+e+v,a),y!=v){const C=ic(g+" "+m+" "+e+y+","+v,a);p=p&&C!=c}}return!!p}function f(){let g=!0;const m=Ni.getKeys();for(let y=0,p=m.length;y<p;++y){const x=m[y];Ni.get(x)<100&&(h.apply(this,x.split(`
`))?(Ca(kd),sa=null,Pd=void 0,Ni.set(x,100)):(Ni.set(x,Ni.get(x)+1,!0),g=!1))}g&&(clearInterval(o),o=void 0)}return function(g){const m=k1(g);if(!m)return;const y=m.families;for(let p=0,x=y.length;p<x;++p){const v=y[p],C=m.style+`
`+m.weight+`
`+v;Ni.get(C)===void 0&&(Ni.set(C,100,!0),h(m.style,m.weight,v)||(Ni.set(C,0,!0),o===void 0&&(o=setInterval(f,32))))}}}(),o2=function(){let r;return function(e){let t=kd[e];if(t==null){if(ug){const i=k1(e),a=j1(e,"g");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(a.actualBoundingBoxAscent+a.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=e,document.body.appendChild(r),t=r.offsetHeight,document.body.removeChild(r);kd[e]=t}return t}}();function j1(r,e){return sa||(sa=Zt(1,1)),r!=Pd&&(sa.font=r,Pd=sa.font),sa.measureText(e)}function ic(r,e){return j1(r,e).width}function R0(r,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((a,o)=>Math.max(a,ic(r,o)),0);return t[e]=i,i}function u2(r,e){const t=[],i=[],a=[];let o=0,c=0,h=0,f=0;for(let g=0,m=e.length;g<=m;g+=2){const y=e[g];if(y===`
`||g===m){o=Math.max(o,c),a.push(c),c=0,h+=f;continue}const p=e[g+1]||r.font,x=ic(p,y);t.push(x),c+=x;const v=o2(p);i.push(v),f=Math.max(f,v)}return{width:o,height:h,widths:t,heights:i,lineWidths:a}}function c2(r,e,t,i,a,o,c,h,f,g,m){r.save(),t!==1&&(r.globalAlpha*=t),e&&r.setTransform.apply(r,e),i.contextInstructions?(r.translate(f,g),r.scale(m[0],m[1]),h2(i,r)):m[0]<0||m[1]<0?(r.translate(f,g),r.scale(m[0],m[1]),r.drawImage(i,a,o,c,h,0,0,c,h)):r.drawImage(i,a,o,c,h,f,g,c*m[0],h*m[1]),r.restore()}function h2(r,e){const t=r.contextInstructions;for(let i=0,a=t.length;i<a;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class Lc extends Ac{constructor(e){const t=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:t,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),t=new Lc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_;if(!e)return null;const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let t=this.canvas_[e];if(!t){const i=this.renderOptions_,a=Zt(i.size*e,i.size*e);this.draw_(i,a,e),t=a.canvas,this.canvas_[e]=t}return t}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return _t.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let a=this.radius_,o=this.radius2_===void 0?a:this.radius2_;if(a<o){const U=a;a=o,o=U}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,f=o*Math.sin(h),g=Math.sqrt(o*o-f*f),m=a-g,y=Math.sqrt(f*f+m*m),p=y/f;if(e==="miter"&&p<=i)return p*t;const x=t/2/p,v=t/2*(m/y),S=Math.sqrt((a+x)*(a+x)+v*v)-a;if(this.radius2_===void 0||e==="bevel")return S*2;const T=a*Math.sin(h),R=Math.sqrt(a*a-T*T),w=o-R,D=Math.sqrt(T*T+w*w)/T;if(D<=i){const U=D*t/2-o-a;return 2*Math.max(S,U)}return S*2}createRenderOptions(){let e=_a,t=0,i=null,a=0,o,c=0;this.stroke_&&(o=this.stroke_.getColor(),o===null&&(o=Zl),o=hi(o),c=this.stroke_.getWidth(),c===void 0&&(c=Wl),i=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=_a),t=this.stroke_.getMiterLimit(),t===void 0&&(t=ql));const h=this.calculateLineJoinSize_(e,c,t),f=Math.max(this.radius_,this.radius2_||0),g=Math.ceil(2*f+h);return{strokeStyle:o,strokeWidth:c,size:g,lineDash:i,lineDashOffset:a,lineJoin:e,miterLimit:t}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let a=this.fill_.getColor();a===null&&(a=zi),t.fillStyle=hi(a),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let t=this.fill_.getColor(),i=0;if(typeof t=="string"&&(t=$u(t)),t===null?i=1:Array.isArray(t)&&(i=t.length===4?t[3]:1),i===0){const a=Zt(e.size,e.size);this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(e,a)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let t=this.points_;const i=this.radius_;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const a=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/t;for(let h=0;h<t;h++){const f=o+h*c,g=h%2===0?i:a;e.lineTo(g*Math.cos(f),g*Math.sin(f))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=zi,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}}class Yn extends Lc{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new Yn({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}class it{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=w0,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new it({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=w0,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function f2(r){let e;if(typeof r=="function")e=r;else{let t;Array.isArray(r)?t=r:(Te(typeof r.getZIndex=="function",41),t=[r]),e=function(){return t}}return e}let nd=null;function d2(r,e){if(!nd){const t=new Pt({color:"rgba(255,255,255,0.4)"}),i=new Mt({color:"#3399CC",width:1.25});nd=[new it({image:new Yn({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return nd}function U1(){const r={},e=[255,255,255,1],t=[0,153,255,1],i=3;return r.Polygon=[new it({fill:new Pt({color:[255,255,255,.5]})})],r.MultiPolygon=r.Polygon,r.LineString=[new it({stroke:new Mt({color:e,width:i+2})}),new it({stroke:new Mt({color:t,width:i})})],r.MultiLineString=r.LineString,r.Circle=r.Polygon.concat(r.LineString),r.Point=[new it({image:new Yn({radius:i*2,fill:new Pt({color:t}),stroke:new Mt({color:e,width:i/2})}),zIndex:1/0})],r.MultiPoint=r.Point,r.GeometryCollection=r.Polygon.concat(r.LineString,r.Point),r}function w0(r){return r.getGeometry()}const g2="#333";class Og{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=mn(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Pt({color:g2}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new Og({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=mn(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const Pe={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class B1 extends Jn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Pe.OPACITY]=e.opacity!==void 0?e.opacity:1,Te(typeof t[Pe.OPACITY]=="number",64),t[Pe.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Pe.Z_INDEX]=e.zIndex,t[Pe.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Pe.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Pe.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Pe.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=ht(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return ye()}getLayerStatesArray(e){return ye()}getExtent(){return this.get(Pe.EXTENT)}getMaxResolution(){return this.get(Pe.MAX_RESOLUTION)}getMinResolution(){return this.get(Pe.MIN_RESOLUTION)}getMinZoom(){return this.get(Pe.MIN_ZOOM)}getMaxZoom(){return this.get(Pe.MAX_ZOOM)}getOpacity(){return this.get(Pe.OPACITY)}getSourceState(){return ye()}getVisible(){return this.get(Pe.VISIBLE)}getZIndex(){return this.get(Pe.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Pe.EXTENT,e)}setMaxResolution(e){this.set(Pe.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Pe.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Pe.MAX_ZOOM,e)}setMinZoom(e){this.set(Pe.MIN_ZOOM,e)}setOpacity(e){Te(typeof e=="number",64),this.set(Pe.OPACITY,e)}setVisible(e){this.set(Pe.VISIBLE,e)}setZIndex(e){this.set(Pe.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const kt={ANIMATING:0,INTERACTING:1},jn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},m2=42,Lg=256;function A0(r,e,t){return function(i,a,o,c,h){if(!i)return;if(!a&&!e)return i;const f=e?0:o[0]*a,g=e?0:o[1]*a,m=h?h[0]:0,y=h?h[1]:0;let p=r[0]+f/2+m,x=r[2]-f/2+m,v=r[1]+g/2+y,C=r[3]-g/2+y;p>x&&(p=(x+p)/2,x=p),v>C&&(v=(C+v)/2,C=v);let S=ht(i[0],p,x),T=ht(i[1],v,C);if(c&&t&&a){const R=30*a;S+=-R*Math.log(1+Math.max(0,p-i[0])/R)+R*Math.log(1+Math.max(0,i[0]-x)/R),T+=-R*Math.log(1+Math.max(0,v-i[1])/R)+R*Math.log(1+Math.max(0,i[1]-C)/R)}return[S,T]}}function _2(r){return r}function Dg(r,e,t,i){const a=Ve(e)/t[0],o=di(e)/t[1];return i?Math.min(r,Math.max(a,o)):Math.min(r,Math.min(a,o))}function Ng(r,e,t){let i=Math.min(r,e);const a=50;return i*=Math.log(1+a*Math.max(0,r/e-1))/a+1,t&&(i=Math.max(i,t),i/=Math.log(1+a*Math.max(0,t/r-1))/a+1),ht(i,t/2,e*2)}function y2(r,e,t,i){return e=e!==void 0?e:!0,function(a,o,c,h){if(a!==void 0){const f=r[0],g=r[r.length-1],m=t?Dg(f,t,c,i):f;if(h)return e?Ng(a,m,g):ht(a,g,m);const y=Math.min(m,a),p=Math.floor(og(r,y,o));return r[p]>m&&p<r.length-1?r[p+1]:r[p]}}}function p2(r,e,t,i,a,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(c,h,f,g){if(c!==void 0){const m=a?Dg(e,a,f,o):e;if(g)return i?Ng(c,m,t):ht(c,t,m);const y=1e-9,p=Math.ceil(Math.log(e/m)/Math.log(r)-y),x=-h*(.5-y)+.5,v=Math.min(m,c),C=Math.floor(Math.log(e/v)/Math.log(r)+x),S=Math.max(p,C),T=e/Math.pow(r,S);return ht(T,t,m)}}}function M0(r,e,t,i,a){return t=t!==void 0?t:!0,function(o,c,h,f){if(o!==void 0){const g=i?Dg(r,i,h,a):r;return!t||!f?ht(o,e,g):Ng(o,g,e)}}}function Fg(r){if(r!==void 0)return 0}function O0(r){if(r!==void 0)return r}function x2(r){const e=2*Math.PI/r;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function v2(r){return r=r||Js(5),function(e,t){if(t)return e;if(e!==void 0)return Math.abs(e)<=r?0:e}}function Y1(r){return Math.pow(r,3)}function ba(r){return 1-Y1(1-r)}function E2(r){return 3*r*r-2*r*r*r}function S2(r){return r}const id=0;class ui extends Jn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=yg(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&x1(),e.center&&(e.center=mt(e.center,this.projection_)),e.extent&&(e.extent=_s(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const h in jn)delete t[h];this.setProperties(t,!0);const i=b2(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const a=C2(e),o=i.constraint,c=T2(e);this.constraints_={center:a,resolution:o,rotation:c},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const a=e||[0,0,0,0];t=t||[0,0,0,0];const o=this.getResolution(),c=o/2*(a[3]-t[3]+t[1]-a[1]),h=o/2*(a[0]-t[0]+t[2]-a[2]);this.setCenterInternal([i[0]+c,i[1]-h])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let a=arguments[i];a.center&&(a=Object.assign({},a),a.center=mt(a.center,this.getProjection())),a.anchor&&(a=Object.assign({},a),a.anchor=mt(a.anchor,this.getProjection())),t[i]=a}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let a=0;for(;a<t&&!this.isDef();++a){const m=arguments[a];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(a===t){i&&Lu(i,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,f=this.targetRotation_;const g=[];for(;a<t;++a){const m=arguments[a],y={start:o,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||E2,callback:i};if(m.center&&(y.sourceCenter=c,y.targetCenter=m.center.slice(),c=y.targetCenter),m.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(m.zoom),h=y.targetResolution):m.resolution&&(y.sourceResolution=h,y.targetResolution=m.resolution,h=y.targetResolution),m.rotation!==void 0){y.sourceRotation=f;const p=$s(m.rotation-f+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=f+p,f=y.targetRotation}R2(y)?y.complete=!0:o+=y.duration,g.push(y)}this.animations_.push(g),this.setHint(kt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[kt.ANIMATING]>0}getInteracting(){return this.hints_[kt.INTERACTING]>0}cancelAnimations(){this.setHint(kt.ANIMATING,-this.hints_[kt.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const a=this.animations_[t];if(a[0].callback&&Lu(a[0].callback,!1),!e)for(let o=0,c=a.length;o<c;++o){const h=a[o];if(!h.complete){e=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const a=this.animations_[i];let o=!0;for(let c=0,h=a.length;c<h;++c){const f=a[c];if(f.complete)continue;const g=e-f.start;let m=f.duration>0?g/f.duration:1;m>=1?(f.complete=!0,m=1):o=!1;const y=f.easing(m);if(f.sourceCenter){const p=f.sourceCenter[0],x=f.sourceCenter[1],v=f.targetCenter[0],C=f.targetCenter[1];this.nextCenter_=f.targetCenter;const S=p+y*(v-p),T=x+y*(C-x);this.targetCenter_=[S,T]}if(f.sourceResolution&&f.targetResolution){const p=y===1?f.targetResolution:f.sourceResolution+y*(f.targetResolution-f.sourceResolution);if(f.anchor){const x=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(p,0,x,!0);this.targetCenter_=this.calculateCenterZoom(v,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){const p=y===1?$s(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+y*(f.targetRotation-f.sourceRotation);if(f.anchor){const x=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(x,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),t=!0,!f.complete)break}if(o){this.animations_[i]=null,this.setHint(kt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=a[0].callback;c&&Lu(c,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const a=this.getCenterInternal();return a!==void 0&&(i=[a[0]-t[0],a[1]-t[1]],mg(i,e-this.getRotation()),Sw(i,t)),i}calculateCenterZoom(e,t){let i;const a=this.getCenterInternal(),o=this.getResolution();if(a!==void 0&&o!==void 0){const c=t[0]-e*(t[0]-a[0])/o,h=t[1]-e*(t[1]-a[1])/o;i=[c,h]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],a=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(a*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(a*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Bl(e,this.getProjection())}getCenterInternal(){return this.get(jn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return Eg(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Te(t,1);const i=this.getResolution();Te(i!==void 0,2);const a=this.getRotation();return Te(a!==void 0,3),Od(t,i,a,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(jn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(_s(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=Ve(e)/t[0],a=di(e)/t[1];return Math.max(i,a)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,a=Math.log(t/i)/Math.log(e);return function(o){return t/Math.pow(e,o*a)}}getRotation(){return this.get(jn.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,o=Math.log(i/a)/t;return function(c){return Math.log(i/c)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let a=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();a=sd(a,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],t,i)}return{center:a.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,a;if(this.resolutions_){const o=og(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?a=2:a=i/this.resolutions_[o+1]}else i=this.maxResolution_,a=this.zoomFactor_;return t+Math.log(i/e)/Math.log(a)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const t=ht(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,ht(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Te(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){Te(!fg(e),25);const a=_s(e,this.getProjection());i=v0(a)}else if(e.getType()==="Circle"){const a=_s(e.getExtent(),this.getProjection());i=v0(a),i.rotate(this.getRotation(),rr(a))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),a=Math.sin(-t),o=e.getFlatCoordinates(),c=e.getStride();let h=1/0,f=1/0,g=-1/0,m=-1/0;for(let y=0,p=o.length;y<p;y+=c){const x=o[y]*i-o[y+1]*a,v=o[y]*a+o[y+1]*i;h=Math.min(h,x),f=Math.min(f,v),g=Math.max(g,x),m=Math.max(m,v)}return[h,f,g,m]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const a=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1;let c;t.minResolution!==void 0?c=t.minResolution:t.maxZoom!==void 0?c=this.getResolutionForZoom(t.maxZoom):c=0;const h=this.rotatedExtentForGeometry(e);let f=this.getResolutionForExtentInternal(h,[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]);f=isNaN(f)?c:Math.max(f,c),f=this.getConstrainedResolution(f,o?0:1);const g=this.getRotation(),m=Math.sin(g),y=Math.cos(g),p=rr(h);p[0]+=(a[1]-a[3])/2*f,p[1]+=(a[0]-a[2])/2*f;const x=p[0]*y-p[1]*m,v=p[1]*y+p[0]*m,C=this.getConstrainedCenter([x,v],f),S=t.callback?t.callback:ga;t.duration!==void 0?this.animateInternal({resolution:f,center:C,duration:t.duration,easing:t.easing},S):(this.targetResolution_=f,this.targetCenter_=C,this.applyTargetState_(!1,!0),Lu(S,!0))}centerOn(e,t,i){this.centerOnInternal(mt(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(sd(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,a){let o;const c=this.padding_;if(c&&e){const h=this.getViewportSizeMinusPadding_(-i),f=sd(e,a,[h[0]/2+c[3],h[1]/2+c[0]],t,i);o=[e[0]-f[0],e[1]-f[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=Bl(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&mt(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,a,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=mt(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(a,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&mt(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,a=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(a),c=this.constraints_.resolution(this.targetResolution_,0,o,i),h=this.constraints_.center(this.targetCenter_,c,o,i,this.calculateCenterShift(this.targetCenter_,c,a,o));this.get(jn.ROTATION)!==a&&this.set(jn.ROTATION,a),this.get(jn.RESOLUTION)!==c&&(this.set(jn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(jn.CENTER)||!Bn(this.get(jn.CENTER),h))&&this.set(jn.CENTER,h),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const a=t||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,a,c),f=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(e===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=f,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!Bn(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:f,resolution:h,duration:e,easing:ba,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(kt.INTERACTING,1)}endInteraction(e,t,i){i=i&&mt(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(kt.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Lu(r,e){setTimeout(function(){r(e)},0)}function C2(r){if(r.extent!==void 0){const t=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return A0(r.extent,r.constrainOnlyCenter,t)}const e=yg(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,A0(t,!1,!1)}return _2}function b2(r){let e,t,i,c=r.minZoom!==void 0?r.minZoom:id,h=r.maxZoom!==void 0?r.maxZoom:28;const f=r.zoomFactor!==void 0?r.zoomFactor:2,g=r.multiWorld!==void 0?r.multiWorld:!1,m=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,y=r.showFullExtent!==void 0?r.showFullExtent:!1,p=yg(r.projection,"EPSG:3857"),x=p.getExtent();let v=r.constrainOnlyCenter,C=r.extent;if(!g&&!C&&p.isGlobal()&&(v=!1,C=x),r.resolutions!==void 0){const S=r.resolutions;t=S[c],i=S[h]!==void 0?S[h]:S[S.length-1],r.constrainResolution?e=y2(S,m,!v&&C,y):e=M0(t,i,m,!v&&C,y)}else{const T=(x?Math.max(Ve(x),di(x)):360*dg.degrees/p.getMetersPerUnit())/Lg/Math.pow(2,id),R=T/Math.pow(2,28-id);t=r.maxResolution,t!==void 0?c=0:t=T/Math.pow(f,c),i=r.minResolution,i===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?i=t/Math.pow(f,h):i=T/Math.pow(f,h):i=R),h=c+Math.floor(Math.log(t/i)/Math.log(f)),i=t/Math.pow(f,h-c),r.constrainResolution?e=p2(f,t,i,m,!v&&C,y):e=M0(t,i,m,!v&&C,y)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:c,zoomFactor:f}}function T2(r){if(r.enableRotation!==void 0?r.enableRotation:!0){const t=r.constrainRotation;return t===void 0||t===!0?v2():t===!1?O0:typeof t=="number"?x2(t):O0}return Fg}function R2(r){return!(r.sourceCenter&&r.targetCenter&&!Bn(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function sd(r,e,t,i,a){const o=Math.cos(-a);let c=Math.sin(-a),h=r[0]*o-r[1]*c,f=r[1]*o+r[0]*c;h+=(e[0]/2-t[0])*i,f+=(t[1]-e[1]/2)*i,c=-c;const g=h*o-f*c,m=f*o+h*c;return[g,m]}class Dc extends B1{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Pe.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Pe.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(He(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Me(e,xe.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;e instanceof ui?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e;const i=this.getExtent();return this.getVisible()&&Ig(this.getLayerState(),t.viewState)&&(!i||qt(i,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t;const i=this.getSource();if(i&&(t=i.getAttributions()),!t)return[];const a=e instanceof ui?e.getViewStateAndExtent():e;let o=t(a);return Array.isArray(o)||(o=[o]),o}render(e,t){const i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,t)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(Pe.MAP,e)}getMapInternal(){return this.get(Pe.MAP)}setMap(e){this.mapPrecomposeKey_&&(He(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(He(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Me(e,xs.PRECOMPOSE,function(t){const a=t.frameState.layerStatesArray,o=this.getLayerState(!1);Te(!a.some(function(c){return c.layer===o.layer}),67),a.push(o)},this),this.mapRenderKey_=Me(this,xe.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Pe.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Ig(r,e){if(!r.visible)return!1;const t=e.resolution;if(t<r.minResolution||t>=r.maxResolution)return!1;const i=e.zoom;return i>r.minZoom&&i<=r.maxZoom}function w2(r,e,t,i,a){X1(r,e,t||0,i||r.length-1,a||A2)}function X1(r,e,t,i,a){for(;i>t;){if(i-t>600){var o=i-t+1,c=e-t+1,h=Math.log(o),f=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*f*(o-f)/o)*(c-o/2<0?-1:1),m=Math.max(t,Math.floor(e-c*f/o+g)),y=Math.min(i,Math.floor(e+(o-c)*f/o+g));X1(r,e,m,y,a)}var p=r[e],x=t,v=i;for(Ol(r,t,e),a(r[i],p)>0&&Ol(r,t,i);x<v;){for(Ol(r,x,v),x++,v--;a(r[x],p)<0;)x++;for(;a(r[v],p)>0;)v--}a(r[t],p)===0?Ol(r,t,v):(v++,Ol(r,v,i)),v<=e&&(t=v+1),e<=v&&(i=v-1)}}function Ol(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}function A2(r,e){return r<e?-1:r>e?1:0}let H1=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Nu(e,t))return i;const a=this.toBBox,o=[];for(;t;){for(let c=0;c<t.children.length;c++){const h=t.children[c],f=t.leaf?a(h):h;Nu(e,f)&&(t.leaf?i.push(h):ad(e,f)?this._all(h,i):o.push(h))}t=o.pop()}return i}collides(e){let t=this.data;if(!Nu(e,t))return!1;const i=[];for(;t;){for(let a=0;a<t.children.length;a++){const o=t.children[a],c=t.leaf?this.toBBox(o):o;if(Nu(e,c)){if(t.leaf||ad(e,c))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ra([]),this}remove(e,t){if(!e)return this;let i=this.data;const a=this.toBBox(e),o=[],c=[];let h,f,g;for(;i||o.length;){if(i||(i=o.pop(),f=o[o.length-1],h=c.pop(),g=!0),i.leaf){const m=M2(e,i.children,t);if(m!==-1)return i.children.splice(m,1),o.push(i),this._condense(o),this}!g&&!i.leaf&&ad(i,a)?(o.push(i),c.push(h),h=0,f=i,i=i.children[0]):f?(h++,i=f.children[h],g=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,a){const o=i-t+1;let c=this._maxEntries,h;if(o<=c)return h=ra(e.slice(t,i+1)),ea(h,this.toBBox),h;a||(a=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,a-1))),h=ra([]),h.leaf=!1,h.height=a;const f=Math.ceil(o/c),g=f*Math.ceil(Math.sqrt(c));L0(e,t,i,g,this.compareMinX);for(let m=t;m<=i;m+=g){const y=Math.min(m+g-1,i);L0(e,m,y,f,this.compareMinY);for(let p=m;p<=y;p+=f){const x=Math.min(p+f-1,y);h.children.push(this._build(e,p,x,a-1))}}return ea(h,this.toBBox),h}_chooseSubtree(e,t,i,a){for(;a.push(t),!(t.leaf||a.length-1===i);){let o=1/0,c=1/0,h;for(let f=0;f<t.children.length;f++){const g=t.children[f],m=rd(g),y=D2(e,g)-m;y<c?(c=y,o=m<o?m:o,h=g):y===c&&m<o&&(o=m,h=g)}t=h||t.children[0]}return t}_insert(e,t,i){const a=i?e:this.toBBox(e),o=[],c=this._chooseSubtree(a,this.data,t,o);for(c.children.push(e),Nl(c,a);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(a,o,t)}_split(e,t){const i=e[t],a=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,a);const c=this._chooseSplitIndex(i,o,a),h=ra(i.children.splice(c,i.children.length-c));h.height=i.height,h.leaf=i.leaf,ea(i,this.toBBox),ea(h,this.toBBox),t?e[t-1].children.push(h):this._splitRoot(i,h)}_splitRoot(e,t){this.data=ra([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ea(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let a,o=1/0,c=1/0;for(let h=t;h<=i-t;h++){const f=Dl(e,0,h,this.toBBox),g=Dl(e,h,i,this.toBBox),m=N2(f,g),y=rd(f)+rd(g);m<o?(o=m,a=h,c=y<c?y:c):m===o&&y<c&&(c=y,a=h)}return a||i-t}_chooseSplitAxis(e,t,i){const a=e.leaf?this.compareMinX:O2,o=e.leaf?this.compareMinY:L2,c=this._allDistMargin(e,t,i,a),h=this._allDistMargin(e,t,i,o);c<h&&e.children.sort(a)}_allDistMargin(e,t,i,a){e.children.sort(a);const o=this.toBBox,c=Dl(e,0,t,o),h=Dl(e,i-t,i,o);let f=Du(c)+Du(h);for(let g=t;g<i-t;g++){const m=e.children[g];Nl(c,e.leaf?o(m):m),f+=Du(c)}for(let g=i-t-1;g>=t;g--){const m=e.children[g];Nl(h,e.leaf?o(m):m),f+=Du(h)}return f}_adjustParentBBoxes(e,t,i){for(let a=i;a>=0;a--)Nl(t[a],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():ea(e[t],this.toBBox)}};function M2(r,e,t){if(!t)return e.indexOf(r);for(let i=0;i<e.length;i++)if(t(r,e[i]))return i;return-1}function ea(r,e){Dl(r,0,r.children.length,e,r)}function Dl(r,e,t,i,a){a||(a=ra(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let o=e;o<t;o++){const c=r.children[o];Nl(a,r.leaf?i(c):c)}return a}function Nl(r,e){return r.minX=Math.min(r.minX,e.minX),r.minY=Math.min(r.minY,e.minY),r.maxX=Math.max(r.maxX,e.maxX),r.maxY=Math.max(r.maxY,e.maxY),r}function O2(r,e){return r.minX-e.minX}function L2(r,e){return r.minY-e.minY}function rd(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function Du(r){return r.maxX-r.minX+(r.maxY-r.minY)}function D2(r,e){return(Math.max(e.maxX,r.maxX)-Math.min(e.minX,r.minX))*(Math.max(e.maxY,r.maxY)-Math.min(e.minY,r.minY))}function N2(r,e){const t=Math.max(r.minX,e.minX),i=Math.max(r.minY,e.minY),a=Math.min(r.maxX,e.maxX),o=Math.min(r.maxY,e.maxY);return Math.max(0,a-t)*Math.max(0,o-i)}function ad(r,e){return r.minX<=e.minX&&r.minY<=e.minY&&e.maxX<=r.maxX&&e.maxY<=r.maxY}function Nu(r,e){return e.minX<=r.maxX&&e.minY<=r.maxY&&e.maxX>=r.minX&&e.maxY>=r.minY}function ra(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function L0(r,e,t,i,a){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;const c=e+Math.ceil((t-e)/i/2)*i;w2(r,c,e,t,a),o.push(e,c,c,t)}}class F2{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}}get(e,t,i){const a=D0(e,t,i);return a in this.cache_?this.cache_[a]:null}set(e,t,i,a){const o=D0(e,t,i);this.cache_[o]=a,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function D0(r,e,t){const i=t?I1(t):"null";return e+":"+r+":"+i}const sc=new F2;function V1(r,e,t){const i=r;let a=!0,o=!1,c=!1;const h=[Wu(i,xe.LOAD,function(){c=!0,o||e()})];return i.src&&tw?(o=!0,i.decode().then(function(){a&&e()}).catch(function(f){a&&(c?e():t())})):h.push(Wu(i,xe.ERROR,t)),function(){a=!1,h.forEach(He)}}let Ll=null;class I2 extends xc{constructor(e,t,i,a,o,c){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=a,this.canvas_={},this.color_=c,this.unlisten_=null,this.imageState_=o,this.size_=i,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===_t.LOADED){Ll||(Ll=Zt(1,1,void 0,{willReadFrequently:!0})),Ll.drawImage(this.image_,0,0);try{Ll.getImageData(0,0,1,1),this.tainted_=!1}catch{Ll=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(xe.CHANGE)}handleImageError_(){this.imageState_=_t.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=_t.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=Zt(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===_t.IDLE){this.image_||this.initializeImage_(),this.imageState_=_t.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=V1(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==_t.LOADED)return;const t=this.image_,i=document.createElement("canvas");i.width=Math.ceil(t.width*e),i.height=Math.ceil(t.height*e);const a=i.getContext("2d");a.scale(e,e),a.drawImage(t,0,0),a.globalCompositeOperation="multiply",a.fillStyle=I1(this.color_),a.fillRect(0,0,i.width/e,i.height/e),a.globalCompositeOperation="destination-in",a.drawImage(t,0,0),this.canvas_[e]=i}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function z2(r,e,t,i,a,o){let c=sc.get(e,i,o);return c||(c=new I2(r,e,t,i,a,o),sc.set(e,i,o,c)),c}class oo extends Ac{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,a=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:a,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const c=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let h=e.src;Te(!(h!==void 0&&c),4),Te(!c||c&&this.imgSize_,5),(h===void 0||h.length===0)&&c&&(h=c.src||ve(c)),Te(h!==void 0&&h.length>0,6),Te(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const f=e.src!==void 0?_t.IDLE:_t.LOADED;if(this.color_=e.color!==void 0?$u(e.color):null,this.iconImage_=z2(c,h,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,f,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.width_=e.width,this.height_=e.height,this.width_!==void 0||this.height_!==void 0){const g=this.getImage(1),m=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};g.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):g.addEventListener("load",m)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(this.width_!==void 0||this.height_!==void 0)&&(e=void 0),new oo({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,t){const i=this.getImage(1);e!==void 0&&t!==void 0?super.setScale([e/i.width,t/i.height]):e!==void 0?super.setScale([e/i.width,e/i.width]):t!==void 0?super.setScale([t/i.height,t/i.height]):super.setScale([1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const a=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!a)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=a[0]),this.anchorYUnits_=="fraction"&&(e[1]*=a[1])}if(this.anchorOrigin_!="top-left"){if(!a)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+a[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+a[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const t=this.getImage(1);if(t){const i=Array.isArray(e)?e[0]:e;i!==void 0&&(this.width_=i*t.width);const a=Array.isArray(e)?e[1]:e;a!==void 0&&(this.height_=a*t.height)}}listenImageChange(e){this.iconImage_.addEventListener(xe.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(xe.CHANGE,e)}}function N0(r){return new it({fill:Ql(r,""),stroke:Jl(r,""),text:P2(r),image:k2(r)})}function Ql(r,e){const t=r[e+"fill-color"];if(t)return new Pt({color:t})}function Jl(r,e){const t=r[e+"stroke-width"],i=r[e+"stroke-color"];if(!(!t&&!i))return new Mt({width:t,color:i,lineCap:r[e+"stroke-line-cap"],lineJoin:r[e+"stroke-line-join"],lineDash:r[e+"stroke-line-dash"],lineDashOffset:r[e+"stroke-line-dash-offset"],miterLimit:r[e+"stroke-miter-limit"]})}function P2(r){const e=r["text-value"];return e?new Og({text:e,font:r["text-font"],maxAngle:r["text-max-angle"],offsetX:r["text-offset-x"],offsetY:r["text-offset-y"],overflow:r["text-overflow"],placement:r["text-placement"],repeat:r["text-repeat"],scale:r["text-scale"],rotateWithView:r["text-rotate-with-view"],rotation:r["text-rotation"],textAlign:r["text-align"],justify:r["text-justify"],textBaseline:r["text-baseline"],padding:r["text-padding"],fill:Ql(r,"text-"),backgroundFill:Ql(r,"text-background-"),stroke:Jl(r,"text-"),backgroundStroke:Jl(r,"text-background-")}):void 0}function k2(r){const e=r["icon-src"],t=r["icon-img"];if(e||t)return new oo({src:e,img:t,imgSize:r["icon-img-size"],anchor:r["icon-anchor"],anchorOrigin:r["icon-anchor-origin"],anchorXUnits:r["icon-anchor-x-units"],anchorYUnits:r["icon-anchor-y-units"],color:r["icon-color"],crossOrigin:r["icon-cross-origin"],offset:r["icon-offset"],displacement:r["icon-displacement"],opacity:r["icon-opacity"],scale:r["icon-scale"],rotation:r["icon-rotation"],rotateWithView:r["icon-rotate-with-view"],size:r["icon-size"],declutterMode:r["icon-declutter-mode"]});const i=r["shape-points"];if(i){const o="shape-";return new Lc({points:i,fill:Ql(r,o),stroke:Jl(r,o),radius:r["shape-radius"],radius1:r["shape-radius1"],radius2:r["shape-radius2"],angle:r["shape-angle"],displacement:r["shape-displacement"],rotation:r["shape-rotation"],rotateWithView:r["shape-rotate-with-view"],scale:r["shape-scale"],declutterMode:r["shape-declutter-mode"]})}const a=r["circle-radius"];if(a){const o="circle-";return new Yn({radius:a,fill:Ql(r,o),stroke:Jl(r,o),displacement:r["circle-displacement"],scale:r["circle-scale"],rotation:r["circle-rotation"],rotateWithView:r["circle-rotate-with-view"],declutterMode:r["circle-declutter-mode"]})}}const F0={RENDER_ORDER:"renderOrder"};class G2 extends Dc{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(F0.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new H1(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(F0.RENDER_ORDER,e)}setStyle(e){let t;if(e===void 0)t=d2;else if(e===null)t=null;else if(typeof e=="function")t=e;else if(e instanceof it)t=e;else if(Array.isArray(e)){const i=e.length,a=new Array(i);for(let o=0;o<i;++o){const c=e[o];c instanceof it?a[o]=c:a[o]=N0(c)}t=a}else t=N0(e);this.style_=t,this.styleFunction_=e===null?void 0:f2(this.style_),this.changed()}}const he={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Fu=[he.FILL],ps=[he.STROKE],Ks=[he.BEGIN_PATH],I0=[he.CLOSE_PATH];class q1{drawCustom(e,t,i,a){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}class uo extends q1{constructor(e,t,i,a){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=a,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,f=e.length;h<f;h+=t)a[0]=e[h],a[1]=e[h+1],Ec(i,a)&&(o[c++]=a[0],o[c++]=a[1]);return c}appendFlatLineCoordinates(e,t,i,a,o,c){const h=this.coordinates;let f=h.length;const g=this.getBufferedMaxExtent();c&&(t+=a);let m=e[t],y=e[t+1];const p=this.tmpCoordinate_;let x=!0,v,C,S;for(v=t+a;v<i;v+=a)p[0]=e[v],p[1]=e[v+1],S=Ad(g,p),S!==C?(x&&(h[f++]=m,h[f++]=y,x=!1),h[f++]=p[0],h[f++]=p[1]):S===St.INTERSECTING?(h[f++]=p[0],h[f++]=p[1],x=!1):x=!0,m=p[0],y=p[1],C=S;return(o&&x||v===t+a)&&(h[f++]=m,h[f++]=y),f}drawCustomCoordinates_(e,t,i,a,o){for(let c=0,h=i.length;c<h;++c){const f=i[c],g=this.appendFlatLineCoordinates(e,t,f,a,!1,!1);o.push(g),t=f}return t}drawCustom(e,t,i,a){this.beginGeometry(e,t);const o=e.getType(),c=e.getStride(),h=this.coordinates.length;let f,g,m,y,p;switch(o){case"MultiPolygon":f=e.getOrientedFlatCoordinates(),y=[];const x=e.getEndss();p=0;for(let v=0,C=x.length;v<C;++v){const S=[];p=this.drawCustomCoordinates_(f,p,x[v],c,S),y.push(S)}this.instructions.push([he.CUSTOM,h,y,e,i,Fd]),this.hitDetectionInstructions.push([he.CUSTOM,h,y,e,a||i,Fd]);break;case"Polygon":case"MultiLineString":m=[],f=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(f,0,e.getEnds(),c,m),this.instructions.push([he.CUSTOM,h,m,e,i,Yl]),this.hitDetectionInstructions.push([he.CUSTOM,h,m,e,a||i,Yl]);break;case"LineString":case"Circle":f=e.getFlatCoordinates(),g=this.appendFlatLineCoordinates(f,0,f.length,c,!1,!1),this.instructions.push([he.CUSTOM,h,g,e,i,ys]),this.hitDetectionInstructions.push([he.CUSTOM,h,g,e,a||i,ys]);break;case"MultiPoint":f=e.getFlatCoordinates(),g=this.appendFlatPointCoordinates(f,c),g>h&&(this.instructions.push([he.CUSTOM,h,g,e,i,ys]),this.hitDetectionInstructions.push([he.CUSTOM,h,g,e,a||i,ys]));break;case"Point":f=e.getFlatCoordinates(),this.coordinates.push(f[0],f[1]),g=this.coordinates.length,this.instructions.push([he.CUSTOM,h,g,e,i]),this.hitDetectionInstructions.push([he.CUSTOM,h,g,e,a||i]);break}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[he.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[he.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let a,o,c=-1;for(t=0;t<i;++t)a=e[t],o=a[0],o==he.END_GEOMETRY?c=t:o==he.BEGIN_GEOMETRY&&(a[2]=t,HR(this.hitDetectionInstructions,c,t),c=-1)}setFillStrokeStyle(e,t){const i=this.state;if(e){const a=e.getColor();i.fillStyle=hi(a||zi)}else i.fillStyle=void 0;if(t){const a=t.getColor();i.strokeStyle=hi(a||Zl);const o=t.getLineCap();i.lineCap=o!==void 0?o:tc;const c=t.getLineDash();i.lineDash=c?c.slice():Hl;const h=t.getLineDashOffset();i.lineDashOffset=h||Vl;const f=t.getLineJoin();i.lineJoin=f!==void 0?f:_a;const g=t.getWidth();i.lineWidth=g!==void 0?g:Wl;const m=t.getMiterLimit();i.miterLimit=m!==void 0?m:ql,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const t=e.fillStyle,i=[he.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(!0),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[he.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,a=e.lineCap,o=e.lineDash,c=e.lineDashOffset,h=e.lineJoin,f=e.lineWidth,g=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=a||o!=e.currentLineDash&&!Gi(e.currentLineDash,o)||e.currentLineDashOffset!=c||e.currentLineJoin!=h||e.currentLineWidth!=f||e.currentMiterLimit!=g)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=a,e.currentLineDash=o,e.currentLineDashOffset=c,e.currentLineJoin=h,e.currentLineWidth=f,e.currentMiterLimit=g)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[he.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=o1(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;vc(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class j2 extends uo{constructor(e,t,i,a){super(e,t,i,a),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,c=this.appendFlatPointCoordinates(i,a);this.instructions.push([he.DRAW_IMAGE,o,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([he.DRAW_IMAGE,o,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);const i=e.getFlatCoordinates(),a=e.getStride(),o=this.coordinates.length,c=this.appendFlatPointCoordinates(i,a);this.instructions.push([he.DRAW_IMAGE,o,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([he.DRAW_IMAGE,o,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),a=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=a[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=a[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class U2 extends uo{constructor(e,t,i,a){super(e,t,i,a)}drawFlatCoordinates_(e,t,i,a){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(e,t,i,a,!1,!1),h=[he.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i}drawLineString(e,t){const i=this.state,a=i.strokeStyle,o=i.lineWidth;if(a===void 0||o===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Hl,Vl],Ks);const c=e.getFlatCoordinates(),h=e.getStride();this.drawFlatCoordinates_(c,0,c.length,h),this.hitDetectionInstructions.push(ps),this.endGeometry(t)}drawMultiLineString(e,t){const i=this.state,a=i.strokeStyle,o=i.lineWidth;if(a===void 0||o===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Ks);const c=e.getEnds(),h=e.getFlatCoordinates(),f=e.getStride();let g=0;for(let m=0,y=c.length;m<y;++m)g=this.drawFlatCoordinates_(h,g,c[m],f);this.hitDetectionInstructions.push(ps),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(ps),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(ps),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ks)}}class z0 extends uo{constructor(e,t,i,a){super(e,t,i,a)}drawFlatCoordinatess_(e,t,i,a){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,f=i.length;this.instructions.push(Ks),this.hitDetectionInstructions.push(Ks);for(let g=0;g<f;++g){const m=i[g],y=this.coordinates.length,p=this.appendFlatLineCoordinates(e,t,m,a,!0,!h),x=[he.MOVE_TO_LINE_TO,y,p];this.instructions.push(x),this.hitDetectionInstructions.push(x),h&&(this.instructions.push(I0),this.hitDetectionInstructions.push(I0)),t=m}return c&&(this.instructions.push(Fu),this.hitDetectionInstructions.push(Fu)),h&&(this.instructions.push(ps),this.hitDetectionInstructions.push(ps)),t}drawCircle(e,t){const i=this.state,a=i.fillStyle,o=i.strokeStyle;if(a===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,zi]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const c=e.getFlatCoordinates(),h=e.getStride(),f=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,h,!1,!1);const g=[he.CIRCLE,f];this.instructions.push(Ks,g),this.hitDetectionInstructions.push(Ks,g),i.fillStyle!==void 0&&(this.instructions.push(Fu),this.hitDetectionInstructions.push(Fu)),i.strokeStyle!==void 0&&(this.instructions.push(ps),this.hitDetectionInstructions.push(ps)),this.endGeometry(t)}drawPolygon(e,t){const i=this.state,a=i.fillStyle,o=i.strokeStyle;if(a===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,zi]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const c=e.getEnds(),h=e.getOrientedFlatCoordinates(),f=e.getStride();this.drawFlatCoordinatess_(h,0,c,f),this.endGeometry(t)}drawMultiPolygon(e,t){const i=this.state,a=i.fillStyle,o=i.strokeStyle;if(a===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,zi]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);const c=e.getEndss(),h=e.getOrientedFlatCoordinates(),f=e.getStride();let g=0;for(let m=0,y=c.length;m<y;++m)g=this.drawFlatCoordinatess_(h,g,c[m],f);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,a=t.length;i<a;++i)t[i]=Ys(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function B2(r,e,t,i,a){const o=[];let c=t,h=0,f=e.slice(t,2);for(;h<r&&c+a<i;){const[g,m]=f.slice(-2),y=e[c+a],p=e[c+a+1],x=Math.sqrt((y-g)*(y-g)+(p-m)*(p-m));if(h+=x,h>=r){const v=(r-h+x)/x,C=gn(g,y,v),S=gn(m,p,v);f.push(C,S),o.push(f),f=[C,S],h==r&&(c+=a),h=0}else if(h<r)f.push(e[c+a],e[c+a+1]),c+=a;else{const v=x-h,C=gn(g,y,v/x),S=gn(m,p,v/x);f.push(C,S),o.push(f),f=[C,S],h=0,c+=a}}return h>0&&o.push(f),o}function Y2(r,e,t,i,a){let o=t,c=t,h=0,f=0,g=t,m,y,p,x,v,C,S,T,R,w;for(y=t;y<i;y+=a){const O=e[y],D=e[y+1];v!==void 0&&(R=O-v,w=D-C,x=Math.sqrt(R*R+w*w),S!==void 0&&(f+=p,m=Math.acos((S*R+T*w)/(p*x)),m>r&&(f>h&&(h=f,o=g,c=y),f=0,g=y-a)),p=x,S=R,T=w),v=O,C=D}return f+=x,f>h?[g,y]:[o,c]}const zl={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class X2 extends uo{constructor(e,t,i,a){super(e,t,i,a),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){const i=this.textFillState_,a=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!i&&!a)return;const c=this.coordinates;let h=c.length;const f=e.getType();let g=null,m=e.getStride();if(o.placement==="line"&&(f=="LineString"||f=="MultiLineString"||f=="Polygon"||f=="MultiPolygon")){if(!qt(this.getBufferedMaxExtent(),e.getExtent()))return;let y;if(g=e.getFlatCoordinates(),f=="LineString")y=[g.length];else if(f=="MultiLineString")y=e.getEnds();else if(f=="Polygon")y=e.getEnds().slice(0,1);else if(f=="MultiPolygon"){const C=e.getEndss();y=[];for(let S=0,T=C.length;S<T;++S)y.push(C[S][0])}this.beginGeometry(e,t);const p=o.repeat,x=p?void 0:o.textAlign;let v=0;for(let C=0,S=y.length;C<S;++C){let T;p?T=B2(p*this.resolution,g,v,y[C],m):T=[g.slice(v,y[C])];for(let R=0,w=T.length;R<w;++R){const O=T[R];let D=0,U=O.length;if(x==null){const q=Y2(o.maxAngle,O,0,O.length,2);D=q[0],U=q[1]}for(let q=D;q<U;q+=m)c.push(O[q],O[q+1]);const H=c.length;v=y[C],this.drawChars_(h,H),h=H}}this.endGeometry(t)}else{let y=o.overflow?null:[];switch(f){case"Point":case"MultiPoint":g=e.getFlatCoordinates();break;case"LineString":g=e.getFlatMidpoint();break;case"Circle":g=e.getCenter();break;case"MultiLineString":g=e.getFlatMidpoints(),m=2;break;case"Polygon":g=e.getFlatInteriorPoint(),o.overflow||y.push(g[2]/this.resolution),m=3;break;case"MultiPolygon":const S=e.getFlatInteriorPoints();g=[];for(let T=0,R=S.length;T<R;T+=3)o.overflow||y.push(S[T+2]/this.resolution),g.push(S[T],S[T+1]);if(g.length===0)return;m=2;break}const p=this.appendFlatPointCoordinates(g,m);if(p===h)return;if(y&&(p-h)/2!==g.length/m){let S=h/2;y=y.filter((T,R)=>{const w=c[(S+R)*2]===g[R*m]&&c[(S+R)*2+1]===g[R*m+1];return w||--S,w})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let x=o.padding;if(x!=Zs&&(o.scale[0]<0||o.scale[1]<0)){let S=o.padding[0],T=o.padding[1],R=o.padding[2],w=o.padding[3];o.scale[0]<0&&(T=-T,w=-w),o.scale[1]<0&&(S=-S,R=-R),x=[S,T,R,w]}const v=this.pixelRatio;this.instructions.push([he.DRAW_IMAGE,h,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,x==Zs?Zs:x.map(function(S){return S*v}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]);const C=1/v;this.hitDetectionInstructions.push([he.DRAW_IMAGE,h,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[C,C],NaN,void 0,this.declutterImageWithText_,x,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,a=this.strokeKey_;e&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||Kl,justify:t.justify,textBaseline:t.textBaseline||nc,scale:t.scale});const c=this.fillKey_;i&&(c in this.fillStates||(this.fillStates[c]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const f=this.pixelRatio,g=zl[a.textBaseline],m=this.textOffsetY_*f,y=this.text_,p=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([he.DRAW_CHARS,e,t,g,a.overflow,h,a.maxAngle,f,m,o,p*f,y,c,1]),this.hitDetectionInstructions.push([he.DRAW_CHARS,e,t,g,a.overflow,h,a.maxAngle,1,m,o,p,y,c,1/f])}setTextStyle(e,t){let i,a,o;if(!e)this.text_="";else{const c=e.getFill();c?(a=this.textFillState_,a||(a={},this.textFillState_=a),a.fillStyle=hi(c.getColor()||zi)):(a=null,this.textFillState_=a);const h=e.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const v=h.getLineDash(),C=h.getLineDashOffset(),S=h.getWidth(),T=h.getMiterLimit();o.lineCap=h.getLineCap()||tc,o.lineDash=v?v.slice():Hl,o.lineDashOffset=C===void 0?Vl:C,o.lineJoin=h.getLineJoin()||_a,o.lineWidth=S===void 0?Wl:S,o.miterLimit=T===void 0?ql:T,o.strokeStyle=hi(h.getColor()||Zl)}i=this.textState_;const f=e.getFont()||G1;l2(f);const g=e.getScaleArray();i.overflow=e.getOverflow(),i.font=f,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||nc,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Zs,i.scale=g===void 0?[1,1]:g;const m=e.getOffsetX(),y=e.getOffsetY(),p=e.getRotateWithView(),x=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=x===void 0?0:x,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:ve(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=a?typeof a.fillStyle=="string"?a.fillStyle:"|"+ve(a.fillStyle):""}this.declutterImageWithText_=t}}const H2={Circle:z0,Default:uo,Image:j2,LineString:U2,Polygon:z0,Text:X2};class P0{constructor(e,t,i,a){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=a,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const a in i){const o=i[a].finish();e[t][a]=o}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let a=this.buildersByZIndex_[i];a===void 0&&(a={},this.buildersByZIndex_[i]=a);let o=a[t];if(o===void 0){const c=H2[t];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),a[t]=o}return o}}class V2 extends ro{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return ye()}getData(e){return null}prepareFrame(e){return ye()}renderFrame(e,t){return ye()}loadedTileCallback(e,t,i){e[t]||(e[t]={}),e[t][i.tileCoord.toString()]=i}createLoadedTileFinder(e,t,i){return(a,o)=>{const c=this.loadedTileCallback.bind(this,i,a);return e.forEachLoadedTile(t,a,o,c)}}forEachFeatureAtCoordinate(e,t,i,a,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===_t.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=_t.LOADED&&t!=_t.ERROR&&e.addEventListener(xe.CHANGE,this.boundHandleImageChange_),t==_t.IDLE&&(e.load(),t=e.getState()),t==_t.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}class Z1 extends Qn{constructor(e,t,i,a){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=a}}const k0=[];let aa=null;function q2(){aa=Zt(1,1,void 0,{willReadFrequently:!0})}class K1 extends V2{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=fi(),this.pixelTransform=fi(),this.inversePixelTransform=fi(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,i){aa||q2(),aa.clearRect(0,0,1,1);let a;try{aa.drawImage(e,t,i,1,1,0,0,1,1),a=aa.getImageData(0,0,1,1).data}catch{return aa=null,null}return a}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const a=this.getLayer().getClassName();let o,c;if(e&&e.className===a&&(!i||e&&e.style.backgroundColor&&Gi($u(e.style.backgroundColor),$u(i)))){const h=e.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&c.canvas.style.transform===t?(this.container=e,this.context=c,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement("div"),o.className=a;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=Zt();const f=c.canvas;o.appendChild(f),h=f.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const a=ur(i),o=bc(i),c=Cc(i),h=Sc(i);Ct(t.coordinateToPixelTransform,a),Ct(t.coordinateToPixelTransform,o),Ct(t.coordinateToPixelTransform,c),Ct(t.coordinateToPixelTransform,h);const f=this.inversePixelTransform;Ct(f,a),Ct(f,o),Ct(f,c),Ct(f,h),e.save(),e.beginPath(),e.moveTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(c[0]),Math.round(c[1])),e.lineTo(Math.round(h[0]),Math.round(h[1])),e.clip()}dispatchRenderEvent_(e,t,i){const a=this.getLayer();if(a.hasListener(e)){const o=new Z1(e,this.inversePixelTransform,i,t);a.dispatchEvent(o)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(xs.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(xs.POSTRENDER,e,t)}getRenderTransform(e,t,i,a,o,c,h){const f=o/2,g=c/2,m=a/t,y=-m,p=-e[0]+h,x=-e[1];return Es(this.tempTransform,f,g,m,y,-i,p,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Z2(r,e,t,i,a,o,c,h,f,g,m,y){let p=r[e],x=r[e+1],v=0,C=0,S=0,T=0;function R(){v=p,C=x,e+=i,p=r[e],x=r[e+1],T+=S,S=Math.sqrt((p-v)*(p-v)+(x-C)*(x-C))}do R();while(e<t-i&&T+S<o);let w=S===0?0:(o-T)/S;const O=gn(v,p,w),D=gn(C,x,w),U=e-i,H=T,q=o+h*f(g,a,m);for(;e<t-i&&T+S<q;)R();w=S===0?0:(q-T)/S;const $=gn(v,p,w),ne=gn(C,x,w);let se;if(y){const N=[O,D,$,ne];S1(N,0,4,2,y,N,N),se=N[0]>N[2]}else se=O>$;const ie=Math.PI,ae=[],ge=U+i===e;e=U,S=0,T=H,p=r[e],x=r[e+1];let Q;if(ge){R(),Q=Math.atan2(x-C,p-v),se&&(Q+=Q>0?-ie:ie);const N=($+O)/2,P=(ne+D)/2;return ae[0]=[N,P,(q-o)/2,Q,a],ae}a=a.replace(/\n/g," ");for(let N=0,P=a.length;N<P;){R();let Z=Math.atan2(x-C,p-v);if(se&&(Z+=Z>0?-ie:ie),Q!==void 0){let te=Z-Q;if(te+=te>ie?-2*ie:te<-ie?2*ie:0,Math.abs(te)>c)return null}Q=Z;const re=N;let A=0;for(;N<P;++N){const te=se?P-N-1:N,le=h*f(g,a[te],m);if(e+i<t&&T+S<o+A+le/2)break;A+=le}if(N===re)continue;const G=se?a.substring(P-re,P-N):a.substring(re,N);w=S===0?0:(o+A/2-T)/S;const I=gn(v,p,w),K=gn(C,x,w);ae.push([I,K,A/2,Z,G]),o+=A}return ae}const ta=On(),cs=[],Li=[],Di=[],hs=[];function G0(r){return r[3].declutterBox}const K2=new RegExp("[-----]");function j0(r,e){return(e==="start"||e==="end")&&!K2.test(r)&&(e=e==="start"?"left":"right"),zl[e]}function W2(r,e,t){return t>0&&r.push(`
`,""),r.push(e,""),r}class Q2{constructor(e,t,i,a){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=a.instructions,this.coordinates=a.coordinates,this.coordinateCache_={},this.renderedTransform_=fi(),this.hitDetectionInstructions=a.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=a.fillStates||{},this.strokeStates=a.strokeStates||{},this.textStates=a.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,i,a){const o=e+t+i+a;if(this.labels_[o])return this.labels_[o];const c=a?this.strokeStates[a]:null,h=i?this.fillStates[i]:null,f=this.textStates[t],g=this.pixelRatio,m=[f.scale[0]*g,f.scale[1]*g],y=Array.isArray(e),p=f.justify?zl[f.justify]:j0(Array.isArray(e)?e[0]:e,f.textAlign||Kl),x=a&&c.lineWidth?c.lineWidth:0,v=y?e:e.split(`
`).reduce(W2,[]),{width:C,height:S,widths:T,heights:R,lineWidths:w}=u2(f,v),O=C+x,D=[],U=(O+2)*m[0],H=(S+x)*m[1],q={width:U<0?Math.floor(U):Math.ceil(U),height:H<0?Math.floor(H):Math.ceil(H),contextInstructions:D};(m[0]!=1||m[1]!=1)&&D.push("scale",m),a&&(D.push("strokeStyle",c.strokeStyle),D.push("lineWidth",x),D.push("lineCap",c.lineCap),D.push("lineJoin",c.lineJoin),D.push("miterLimit",c.miterLimit),D.push("setLineDash",[c.lineDash]),D.push("lineDashOffset",c.lineDashOffset)),i&&D.push("fillStyle",h.fillStyle),D.push("textBaseline","middle"),D.push("textAlign","center");const $=.5-p;let ne=p*O+$*x;const se=[],ie=[];let ae=0,ge=0,Q=0,N=0,P;for(let Z=0,re=v.length;Z<re;Z+=2){const A=v[Z];if(A===`
`){ge+=ae,ae=0,ne=p*O+$*x,++N;continue}const G=v[Z+1]||f.font;G!==P&&(a&&se.push("font",G),i&&ie.push("font",G),P=G),ae=Math.max(ae,R[Q]);const I=[A,ne+$*T[Q]+p*(T[Q]-w[N]),.5*(x+ae)+ge];ne+=T[Q],a&&se.push("strokeText",I),i&&ie.push("fillText",I),++Q}return Array.prototype.push.apply(D,se),Array.prototype.push.apply(D,ie),this.labels_[o]=q,q}replayTextBackground_(e,t,i,a,o,c,h){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,a),e.lineTo.apply(e,o),e.lineTo.apply(e,t),c&&(this.alignFill_=c[2],this.fill_(e)),h&&(this.setStrokeStyle_(e,h),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,a,o,c,h,f,g,m,y,p,x,v,C,S){h*=p[0],f*=p[1];let T=i-h,R=a-f;const w=o+g>e?e-g:o,O=c+m>t?t-m:c,D=v[3]+w*p[0]+v[1],U=v[0]+O*p[1]+v[2],H=T-v[3],q=R-v[0];(C||y!==0)&&(cs[0]=H,hs[0]=H,cs[1]=q,Li[1]=q,Li[0]=H+D,Di[0]=Li[0],Di[1]=q+U,hs[1]=Di[1]);let $;return y!==0?($=Es(fi(),i,a,1,1,y,-i,-a),Ct($,cs),Ct($,Li),Ct($,Di),Ct($,hs),ki(Math.min(cs[0],Li[0],Di[0],hs[0]),Math.min(cs[1],Li[1],Di[1],hs[1]),Math.max(cs[0],Li[0],Di[0],hs[0]),Math.max(cs[1],Li[1],Di[1],hs[1]),ta)):ki(Math.min(H,H+D),Math.min(q,q+U),Math.max(H,H+D),Math.max(q,q+U),ta),x&&(T=Math.round(T),R=Math.round(R)),{drawImageX:T,drawImageY:R,drawImageW:w,drawImageH:O,originX:g,originY:m,declutterBox:{minX:ta[0],minY:ta[1],maxX:ta[2],maxY:ta[3],value:S},canvasTransform:$,scale:p}}replayImageOrLabel_(e,t,i,a,o,c,h){const f=!!(c||h),g=a.declutterBox,m=e.canvas,y=h?h[2]*a.scale[0]/2:0;return g.minX-y<=m.width/t&&g.maxX+y>=0&&g.minY-y<=m.height/t&&g.maxY+y>=0&&(f&&this.replayTextBackground_(e,cs,Li,Di,hs,c,h),c2(e,a.canvasTransform,o,i,a.originX,a.originY,a.drawImageW,a.drawImageH,a.drawImageX,a.drawImageY,a.scale)),!0}fill_(e){if(this.alignFill_){const t=Ct(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(t[0]%i,t[1]%i),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,a){const o=this.textStates[t],c=this.createLabel(e,t,a,i),h=this.strokeStates[i],f=this.pixelRatio,g=j0(Array.isArray(e)?e[0]:e,o.textAlign||Kl),m=zl[o.textBaseline||nc],y=h&&h.lineWidth?h.lineWidth:0,p=c.width/f-2*o.scale[0],x=g*p+2*(.5-g)*y,v=m*c.height/f+2*(.5-m)*y;return{label:c,anchorX:x,anchorY:v}}execute_(e,t,i,a,o,c,h,f){let g;this.pixelCoordinates_&&Gi(i,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=er(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),iw(this.renderedTransform_,i));let m=0;const y=a.length;let p=0,x,v,C,S,T,R,w,O,D,U,H,q,$=0,ne=0,se=null,ie=null;const ae=this.coordinateCache_,ge=this.viewRotation_,Q=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,N={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ge},P=this.instructions!=a||this.overlaps?0:200;let Z,re,A,G;for(;m<y;){const I=a[m];switch(I[0]){case he.BEGIN_GEOMETRY:Z=I[1],G=I[3],Z.getGeometry()?h!==void 0&&!qt(h,G.getExtent())?m=I[2]+1:++m:m=I[2];break;case he.BEGIN_PATH:$>P&&(this.fill_(e),$=0),ne>P&&(e.stroke(),ne=0),!$&&!ne&&(e.beginPath(),S=NaN,T=NaN),++m;break;case he.CIRCLE:p=I[1];const te=g[p],le=g[p+1],oe=g[p+2],Le=g[p+3],pe=oe-te,at=Le-le,yn=Math.sqrt(pe*pe+at*at);e.moveTo(te+yn,le),e.arc(te,le,yn,0,2*Math.PI,!0),++m;break;case he.CLOSE_PATH:e.closePath(),++m;break;case he.CUSTOM:p=I[1],x=I[2];const Dn=I[3],pn=I[4],$n=I.length==6?I[5]:void 0;N.geometry=Dn,N.feature=Z,m in ae||(ae[m]=[]);const Kt=ae[m];$n?$n(g,p,x,2,Kt):(Kt[0]=g[p],Kt[1]=g[p+1],Kt.length=2),pn(Kt,N),++m;break;case he.DRAW_IMAGE:p=I[1],x=I[2],O=I[3],v=I[4],C=I[5];let Oe=I[6];const Ke=I[7],Ye=I[8],Yt=I[9],Nn=I[10];let Fn=I[11];const ji=I[12];let Ot=I[13];const Xt=I[14],nn=I[15];if(!O&&I.length>=20){D=I[19],U=I[20],H=I[21],q=I[22];const Lt=this.drawLabelWithPointPlacement_(D,U,H,q);O=Lt.label,I[3]=O;const ti=I[23];v=(Lt.anchorX-ti)*this.pixelRatio,I[4]=v;const Dt=I[24];C=(Lt.anchorY-Dt)*this.pixelRatio,I[5]=C,Oe=O.height,I[6]=Oe,Ot=O.width,I[13]=Ot}let In;I.length>25&&(In=I[25]);let xn,$e,bt;I.length>17?(xn=I[16],$e=I[17],bt=I[18]):(xn=Zs,$e=!1,bt=!1),Nn&&Q?Fn+=ge:!Nn&&!Q&&(Fn-=ge);let lt=0;for(;p<x;p+=2){if(In&&In[lt++]<Ot/this.pixelRatio)continue;const Lt=this.calculateImageOrLabelDimensions_(O.width,O.height,g[p],g[p+1],Ot,Oe,v,C,Ye,Yt,Fn,ji,o,xn,$e||bt,Z),ti=[e,t,O,Lt,Ke,$e?se:null,bt?ie:null];if(f){if(Xt==="none")continue;if(Xt==="obstacle"){f.insert(Lt.declutterBox);continue}else{let Dt,vn;if(nn){const Ht=x-p;if(!nn[Ht]){nn[Ht]=ti;continue}if(Dt=nn[Ht],delete nn[Ht],vn=G0(Dt),f.collides(vn))continue}if(f.collides(Lt.declutterBox))continue;Dt&&(f.insert(vn),this.replayImageOrLabel_.apply(this,Dt)),f.insert(Lt.declutterBox)}}this.replayImageOrLabel_.apply(this,ti)}++m;break;case he.DRAW_CHARS:const hr=I[1],Tt=I[2],Aa=I[3],fr=I[4];q=I[5];const dr=I[6],ei=I[7],Cs=I[8];H=I[9];const gi=I[10];D=I[11],U=I[12];const ho=[I[13],I[13]],gr=this.textStates[U],Ui=gr.font,mi=[gr.scale[0]*ei,gr.scale[1]*ei];let zn;Ui in this.widths_?zn=this.widths_[Ui]:(zn={},this.widths_[Ui]=zn);const fo=F1(g,hr,Tt,2),Ma=Math.abs(mi[0])*R0(Ui,D,zn);if(fr||Ma<=fo){const Lt=this.textStates[U].textAlign,ti=(fo-Ma)*zl[Lt],Dt=Z2(g,hr,Tt,2,D,ti,dr,Math.abs(mi[0]),R0,Ui,zn,Q?0:this.viewRotation_);e:if(Dt){const vn=[];let Ht,sn,et,Fe,ft;if(H)for(Ht=0,sn=Dt.length;Ht<sn;++Ht){ft=Dt[Ht],et=ft[4],Fe=this.createLabel(et,U,"",H),v=ft[2]+(mi[0]<0?-gi:gi),C=Aa*Fe.height+(.5-Aa)*2*gi*mi[1]/mi[0]-Cs;const rn=this.calculateImageOrLabelDimensions_(Fe.width,Fe.height,ft[0],ft[1],Fe.width,Fe.height,v,C,0,0,ft[3],ho,!1,Zs,!1,Z);if(f&&f.collides(rn.declutterBox))break e;vn.push([e,t,Fe,rn,1,null,null])}if(q)for(Ht=0,sn=Dt.length;Ht<sn;++Ht){ft=Dt[Ht],et=ft[4],Fe=this.createLabel(et,U,q,""),v=ft[2],C=Aa*Fe.height-Cs;const rn=this.calculateImageOrLabelDimensions_(Fe.width,Fe.height,ft[0],ft[1],Fe.width,Fe.height,v,C,0,0,ft[3],ho,!1,Zs,!1,Z);if(f&&f.collides(rn.declutterBox))break e;vn.push([e,t,Fe,rn,1,null,null])}f&&f.load(vn.map(G0));for(let rn=0,zc=vn.length;rn<zc;++rn)this.replayImageOrLabel_.apply(this,vn[rn])}}++m;break;case he.END_GEOMETRY:if(c!==void 0){Z=I[1];const Lt=c(Z,G);if(Lt)return Lt}++m;break;case he.FILL:P?$++:this.fill_(e),++m;break;case he.MOVE_TO_LINE_TO:for(p=I[1],x=I[2],re=g[p],A=g[p+1],R=re+.5|0,w=A+.5|0,(R!==S||w!==T)&&(e.moveTo(re,A),S=R,T=w),p+=2;p<x;p+=2)re=g[p],A=g[p+1],R=re+.5|0,w=A+.5|0,(p==x-2||R!==S||w!==T)&&(e.lineTo(re,A),S=R,T=w);++m;break;case he.SET_FILL_STYLE:se=I,this.alignFill_=I[2],$&&(this.fill_(e),$=0,ne&&(e.stroke(),ne=0)),e.fillStyle=I[1],++m;break;case he.SET_STROKE_STYLE:ie=I,ne&&(e.stroke(),ne=0),this.setStrokeStyle_(e,I),++m;break;case he.STROKE:P?ne++:e.stroke(),++m;break;default:++m;break}}$&&this.fill_(e),ne&&e.stroke()}execute(e,t,i,a,o,c){this.viewRotation_=a,this.execute_(e,t,i,this.instructions,o,void 0,void 0,c)}executeHitDetection(e,t,i,a,o){return this.viewRotation_=i,this.execute_(e,1,t,this.hitDetectionInstructions,!0,a,o)}}const ld=["Polygon","Circle","LineString","Image","Text","Default"];class U0{constructor(e,t,i,a,o,c){this.maxExtent_=e,this.overlaps_=a,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=fi(),this.createExecutors_(o)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e){for(const t in e){let i=this.executorsByZIndex_[t];i===void 0&&(i={},this.executorsByZIndex_[t]=i);const a=e[t];for(const o in a){const c=a[o];i[o]=new Q2(this.resolution_,this.pixelRatio_,this.overlaps_,c)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let a=0,o=e.length;a<o;++a)if(e[a]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,a,o,c){a=Math.round(a);const h=a*2+1,f=Es(this.hitDetectionTransform_,a+.5,a+.5,1/t,-1/t,-i,-e[0],-e[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=Zt(h,h,void 0,{willReadFrequently:!0}));const m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):g||m.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=On(),Fl(y,e),vc(y,t*(this.renderBuffer_+a),y));const p=J2(a);let x;function v(D,U){const H=m.getImageData(0,0,h,h).data;for(let q=0,$=p.length;q<$;q++)if(H[p[q]]>0){if(!c||x!=="Image"&&x!=="Text"||c.includes(D)){const ne=(p[q]-3)/4,se=a-ne%h,ie=a-(ne/h|0),ae=o(D,U,se*se+ie*ie);if(ae)return ae}m.clearRect(0,0,h,h);break}}const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(ir);let S,T,R,w,O;for(S=C.length-1;S>=0;--S){const D=C[S].toString();for(R=this.executorsByZIndex_[D],T=ld.length-1;T>=0;--T)if(x=ld[T],w=R[x],w!==void 0&&(O=w.executeHitDetection(m,f,i,v,y),O))return O}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],a=t[1],o=t[2],c=t[3],h=[i,a,i,c,o,c,o,a];return er(h,0,8,2,e,h),h}isEmpty(){return ma(this.executorsByZIndex_)}execute(e,t,i,a,o,c,h){const f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(ir),this.maxExtent_&&(e.save(),this.clip(e,i)),c=c||ld;let g,m,y,p,x,v;for(h&&f.reverse(),g=0,m=f.length;g<m;++g){const C=f[g].toString();for(x=this.executorsByZIndex_[C],y=0,p=c.length;y<p;++y){const S=c[y];v=x[S],v!==void 0&&v.execute(e,t,i,a,o,h)}}this.maxExtent_&&e.restore()}}const od={};function J2(r){if(od[r]!==void 0)return od[r];const e=r*2+1,t=r*r,i=new Array(t+1);for(let o=0;o<=r;++o)for(let c=0;c<=r;++c){const h=o*o+c*c;if(h>t)break;let f=i[h];f||(f=[],i[h]=f),f.push(((r+o)*e+(r+c))*4+3),o>0&&f.push(((r-o)*e+(r+c))*4+3),c>0&&(f.push(((r+o)*e+(r-c))*4+3),o>0&&f.push(((r-o)*e+(r-c))*4+3))}const a=[];for(let o=0,c=i.length;o<c;++o)i[o]&&a.push(...i[o]);return od[r]=a,a}class $2 extends q1{constructor(e,t,i,a,o,c,h){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=a,this.transformRotation_=a?gg(Math.atan2(a[1],a[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=fi()}drawImages_(e,t,i,a){if(!this.image_)return;const o=er(e,t,i,a,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,f=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=f*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let m=0,y=o.length;m<y;m+=2){const p=o[m]-this.imageAnchorX_,x=o[m+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const v=p+this.imageAnchorX_,C=x+this.imageAnchorY_;Es(h,v,C,1,1,g,-v,-C),c.setTransform.apply(c,h),c.translate(v,C),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.setTransform(1,0,0,1,0,0)}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=f)}drawText_(e,t,i,a){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=er(e,t,i,a,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);t<i;t+=a){const f=o[t]+this.textOffsetX_,g=o[t+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.translate(f-this.textOffsetX_,g-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&c.strokeText(this.text_,f,g),this.textFillState_&&c.fillText(this.text_,f,g))}}moveToLineTo_(e,t,i,a,o){const c=this.context_,h=er(e,t,i,a,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let f=h.length;o&&(f-=2);for(let g=2;g<f;g+=2)c.lineTo(h[g],h[g+1]);return o&&c.closePath(),i}drawRings_(e,t,i,a){for(let o=0,c=i.length;o<c;++o)t=this.moveToLineTo_(e,t,i[o],a,!0);return t}drawCircle(e){if(qt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=Nw(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],a=t[3]-t[1],o=Math.sqrt(i*i+a*a),c=this.context_;c.beginPath(),c.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);!i||!qt(this.extent_,i.getExtent())||(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,a=t.length;i<a;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(qt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,a=e.getFlatCoordinates();let o=0;const c=e.getEnds(),h=e.getStride();i.beginPath();for(let f=0,g=c.length;f<g;++f)o=this.moveToLineTo_(a,o,c[f],h,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let a=0;const o=e.getEndss(),c=e.getStride();t.beginPath();for(let h=0,f=o.length;h<f;++h){const g=o[h];a=this.drawRings_(i,a,g,c)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Gi(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,a=e.textAlign?e.textAlign:Kl;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=a&&(i.textAlign=a,t.textAlign=a),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=a,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:a,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:hi(i||zi)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),a=t.getLineCap(),o=t.getLineDash(),c=t.getLineDashOffset(),h=t.getLineJoin(),f=t.getWidth(),g=t.getMiterLimit(),m=o||Hl;this.strokeState_={lineCap:a!==void 0?a:tc,lineDash:this.pixelRatio_===1?m:m.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Vl)*this.pixelRatio_,lineJoin:h!==void 0?h:_a,lineWidth:(f!==void 0?f:Wl)*this.pixelRatio_,miterLimit:g!==void 0?g:ql,strokeStyle:hi(i||Zl)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),a=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=a[0]*i,this.imageAnchorY_=a[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const c=e.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/i,c[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const x=t.getColor();this.textFillState_={fillStyle:hi(x||zi)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const x=i.getColor(),v=i.getLineCap(),C=i.getLineDash(),S=i.getLineDashOffset(),T=i.getLineJoin(),R=i.getWidth(),w=i.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:tc,lineDash:C||Hl,lineDashOffset:S||Vl,lineJoin:T!==void 0?T:_a,lineWidth:R!==void 0?R:Wl,miterLimit:w!==void 0?w:ql,strokeStyle:hi(x||Zl)}}const a=e.getFont(),o=e.getOffsetX(),c=e.getOffsetY(),h=e.getRotateWithView(),f=e.getRotation(),g=e.getScaleArray(),m=e.getText(),y=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:a!==void 0?a:G1,textAlign:y!==void 0?y:Kl,textBaseline:p!==void 0?p:nc},this.text_=m!==void 0?Array.isArray(m)?m.reduce((x,v,C)=>x+=C%2?" ":v,""):m:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=f!==void 0?f:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const ci=.5;function eA(r,e,t,i,a,o,c){const h=r[0]*ci,f=r[1]*ci,g=Zt(h,f);g.imageSmoothingEnabled=!1;const m=g.canvas,y=new $2(g,ci,a,null,c),p=t.length,x=Math.floor((256*256*256-1)/p),v={};for(let S=1;S<=p;++S){const T=t[S-1],R=T.getStyleFunction()||i;if(!i)continue;let w=R(T,o);if(!w)continue;Array.isArray(w)||(w=[w]);const D=(S*x).toString(16).padStart(7,"#00000");for(let U=0,H=w.length;U<H;++U){const q=w[U],$=q.getGeometryFunction()(T);if(!$||!qt(a,$.getExtent()))continue;const ne=q.clone(),se=ne.getFill();se&&se.setColor(D);const ie=ne.getStroke();ie&&(ie.setColor(D),ie.setLineDash(null)),ne.setText(void 0);const ae=q.getImage();if(ae&&ae.getOpacity()!==0){const P=ae.getImageSize();if(!P)continue;const Z=Zt(P[0],P[1],void 0,{alpha:!1}),re=Z.canvas;Z.fillStyle=D,Z.fillRect(0,0,re.width,re.height),ne.setImage(new oo({img:re,imgSize:P,anchor:ae.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ae.getOrigin(),opacity:1,size:ae.getSize(),scale:ae.getScale(),rotation:ae.getRotation(),rotateWithView:ae.getRotateWithView()}))}const ge=ne.getZIndex()||0;let Q=v[ge];Q||(Q={},v[ge]=Q,Q.Polygon=[],Q.Circle=[],Q.LineString=[],Q.Point=[]);const N=$.getType();if(N==="GeometryCollection"){const P=$.getGeometriesArrayRecursive();for(let Z=0,re=P.length;Z<re;++Z){const A=P[Z];Q[A.getType().replace("Multi","")].push(A,ne)}}else Q[N.replace("Multi","")].push($,ne)}}const C=Object.keys(v).map(Number).sort(ir);for(let S=0,T=C.length;S<T;++S){const R=v[C[S]];for(const w in R){const O=R[w];for(let D=0,U=O.length;D<U;D+=2){y.setStyle(O[D+1]);for(let H=0,q=e.length;H<q;++H)y.setTransform(e[H]),y.drawGeometry(O[D])}}}return g.getImageData(0,0,m.width,m.height)}function tA(r,e,t){const i=[];if(t){const a=Math.floor(Math.round(r[0])*ci),o=Math.floor(Math.round(r[1])*ci),c=(ht(a,0,t.width-1)+ht(o,0,t.height-1)*t.width)*4,h=t.data[c],f=t.data[c+1],m=t.data[c+2]+256*(f+256*h),y=Math.floor((256*256*256-1)/e.length);m&&m%y===0&&i.push(e[m/y-1])}return i}const nA=.5,W1={Point:hA,LineString:oA,Polygon:dA,MultiPoint:fA,MultiLineString:uA,MultiPolygon:cA,GeometryCollection:lA,Circle:rA};function iA(r,e){return parseInt(ve(r),10)-parseInt(ve(e),10)}function sA(r,e){const t=Gd(r,e);return t*t}function Gd(r,e){return nA*r/e}function rA(r,e,t,i,a){const o=t.getFill(),c=t.getStroke();if(o||c){const f=r.getBuilder(t.getZIndex(),"Circle");f.setFillStrokeStyle(o,c),f.drawCircle(e,i)}const h=t.getText();if(h&&h.getText()){const f=(a||r).getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i)}}function B0(r,e,t,i,a,o,c){let h=!1;const f=t.getImage();if(f){const g=f.getImageState();g==_t.LOADED||g==_t.ERROR?f.unlistenImageChange(a):(g==_t.IDLE&&f.load(),f.listenImageChange(a),h=!0)}return aA(r,e,t,i,o,c),h}function aA(r,e,t,i,a,o){const c=t.getGeometryFunction()(e);if(!c)return;const h=c.simplifyTransformed(i,a);if(t.getRenderer())Q1(r,h,t,e);else{const g=W1[h.getType()];g(r,h,t,e,o)}}function Q1(r,e,t,i){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let c=0,h=o.length;c<h;++c)Q1(r,o[c],t,i);return}r.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer())}function lA(r,e,t,i,a){const o=e.getGeometriesArray();let c,h;for(c=0,h=o.length;c<h;++c){const f=W1[o[c].getType()];f(r,o[c],t,i,a)}}function oA(r,e,t,i,a){const o=t.getStroke();if(o){const h=r.getBuilder(t.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(e,i)}const c=t.getText();if(c&&c.getText()){const h=(a||r).getBuilder(t.getZIndex(),"Text");h.setTextStyle(c),h.drawText(e,i)}}function uA(r,e,t,i,a){const o=t.getStroke();if(o){const h=r.getBuilder(t.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(e,i)}const c=t.getText();if(c&&c.getText()){const h=(a||r).getBuilder(t.getZIndex(),"Text");h.setTextStyle(c),h.drawText(e,i)}}function cA(r,e,t,i,a){const o=t.getFill(),c=t.getStroke();if(c||o){const f=r.getBuilder(t.getZIndex(),"Polygon");f.setFillStrokeStyle(o,c),f.drawMultiPolygon(e,i)}const h=t.getText();if(h&&h.getText()){const f=(a||r).getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i)}}function hA(r,e,t,i,a){const o=t.getImage(),c=t.getText();let h;if(o){if(o.getImageState()!=_t.LOADED)return;let f=r;if(a){const m=o.getDeclutterMode();if(m!=="none")if(f=a,m==="obstacle"){const y=r.getBuilder(t.getZIndex(),"Image");y.setImageStyle(o,h),y.drawPoint(e,i)}else c&&c.getText()&&(h={})}const g=f.getBuilder(t.getZIndex(),"Image");g.setImageStyle(o,h),g.drawPoint(e,i)}if(c&&c.getText()){let f=r;a&&(f=a);const g=f.getBuilder(t.getZIndex(),"Text");g.setTextStyle(c,h),g.drawText(e,i)}}function fA(r,e,t,i,a){const o=t.getImage(),c=t.getText();let h;if(o){if(o.getImageState()!=_t.LOADED)return;let f=r;if(a){const m=o.getDeclutterMode();if(m!=="none")if(f=a,m==="obstacle"){const y=r.getBuilder(t.getZIndex(),"Image");y.setImageStyle(o,h),y.drawMultiPoint(e,i)}else c&&c.getText()&&(h={})}const g=f.getBuilder(t.getZIndex(),"Image");g.setImageStyle(o,h),g.drawMultiPoint(e,i)}if(c&&c.getText()){let f=r;a&&(f=a);const g=f.getBuilder(t.getZIndex(),"Text");g.setTextStyle(c,h),g.drawText(e,i)}}function dA(r,e,t,i,a){const o=t.getFill(),c=t.getStroke();if(o||c){const f=r.getBuilder(t.getZIndex(),"Polygon");f.setFillStrokeStyle(o,c),f.drawPolygon(e,i)}const h=t.getText();if(h&&h.getText()){const f=(a||r).getBuilder(t.getZIndex(),"Text");f.setTextStyle(h),f.drawText(e,i)}}class gA extends K1{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=On(),this.wrappedRenderedExtent_=On(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,i){const a=t.extent,o=t.viewState,c=o.center,h=o.resolution,f=o.projection,g=o.rotation,m=f.getExtent(),y=this.getLayer().getSource(),p=t.pixelRatio,x=t.viewHints,v=!(x[kt.ANIMATING]||x[kt.INTERACTING]),C=this.compositionContext_,S=Math.round(t.size[0]*p),T=Math.round(t.size[1]*p),R=y.getWrapX()&&f.canWrapX(),w=R?Ve(m):null,O=R?Math.ceil((a[2]-m[2])/w)+1:1;let D=R?Math.floor((a[0]-m[0])/w):0;do{const U=this.getRenderTransform(c,h,g,p,S,T,D*w);e.execute(C,1,U,g,v,void 0,i)}while(++D<O)}setupCompositionContext_(){if(this.opacity_!==1){const e=Zt(this.context.canvas.width,this.context.canvas.height,k0);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,Mc(this.compositionContext_),k0.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){const i=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];sw(this.pixelTransform,1/i,1/i),cg(this.inversePixelTransform,this.pixelTransform);const o=l1(this.pixelTransform);this.useContainer(t,o,this.getBackground(e));const c=this.context,h=c.canvas,f=this.replayGroup_,g=this.declutterExecutorGroup;if((!f||f.isEmpty())&&(!g||g.isEmpty()))return null;const m=Math.round(e.size[0]*i),y=Math.round(e.size[1]*i);h.width!=m||h.height!=y?(h.width=m,h.height=y,h.style.transform!==o&&(h.style.transform=o)):this.containerReused||c.clearRect(0,0,m,y),this.preRender(c,e);const p=e.viewState;p.projection,this.opacity_=a.opacity,this.setupCompositionContext_();let x=!1,v=!0;if(a.extent&&this.clipping){const C=_s(a.extent);v=qt(C,e.extent),x=v&&!Vs(C,e.extent),x&&this.clipUnrotated(this.compositionContext_,e,C)}return v&&this.renderWorlds(f,e),x&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(c,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=[this.context.canvas.width,this.context.canvas.height];Ct(this.pixelTransform,i);const a=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,f=this.wrappedRenderedExtent_,g=this.getLayer(),m=[],y=i[0]*ci,p=i[1]*ci;m.push(this.getRenderTransform(a,o,c,ci,y,p,0).slice());const x=g.getSource(),v=h.getExtent();if(x.getWrapX()&&h.canWrapX()&&!Vs(v,f)){let C=f[0];const S=Ve(v);let T=0,R;for(;C<v[0];)--T,R=S*T,m.push(this.getRenderTransform(a,o,c,ci,y,p,R).slice()),C+=S;for(T=0,C=f[2];C>v[2];)++T,R=S*T,m.push(this.getRenderTransform(a,o,c,ci,y,p,R).slice()),C-=S}this.hitDetectionImageData_=eA(i,m,this.renderedFeatures_,g.getStyleFunction(),f,o,c)}t(tA(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,a,o){if(!this.replayGroup_)return;const c=t.viewState.resolution,h=t.viewState.rotation,f=this.getLayer(),g={},m=function(x,v,C){const S=ve(x),T=g[S];if(T){if(T!==!0&&C<T.distanceSq){if(C===0)return g[S]=!0,o.splice(o.lastIndexOf(T),1),a(x,f,v);T.geometry=v,T.distanceSq=C}}else{if(C===0)return g[S]=!0,a(x,f,v);o.push(g[S]={feature:x,layer:f,geometry:v,distanceSq:C,callback:a})}};let y;const p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(x=>y=x.forEachFeatureAtCoordinate(e,c,h,i,m,x===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(v=>v.value):null)),y}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const a=e.viewHints[kt.ANIMATING],o=e.viewHints[kt.INTERACTING],c=t.getUpdateWhileAnimating(),h=t.getUpdateWhileInteracting();if(this.ready&&!c&&a||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const f=e.extent,g=e.viewState,m=g.projection,y=g.resolution,p=e.pixelRatio,x=t.getRevision(),v=t.getRenderBuffer();let C=t.getRenderOrder();C===void 0&&(C=iA);const S=g.center.slice(),T=vc(f,v*y),R=T.slice(),w=[T.slice()],O=m.getExtent();if(i.getWrapX()&&m.canWrapX()&&!Vs(O,e.extent)){const Q=Ve(O),N=Math.max(Ve(T)/2,Q);T[0]=O[0]-N,T[2]=O[2]+N,_1(S,m);const P=d1(w[0],m);P[0]<O[0]&&P[2]<O[2]?w.push([P[0]+Q,P[1],P[2]+Q,P[3]]):P[0]>O[0]&&P[2]>O[2]&&w.push([P[0]-Q,P[1],P[2]-Q,P[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==x&&this.renderedRenderOrder_==C&&Vs(this.wrappedRenderedExtent_,T))return Gi(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=S,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const D=new P0(Gd(y,p),T,y,p);let U;this.getLayer().getDeclutter()&&(U=new P0(Gd(y,p),T,y,p));let H;for(let Q=0,N=w.length;Q<N;++Q)i.loadFeatures(w[Q],y,m);const q=sA(y,p);let $=!0;const ne=Q=>{let N;const P=Q.getStyleFunction()||t.getStyleFunction();if(P&&(N=P(Q,y)),N){const Z=this.renderFeature(Q,q,N,D,H,U);$=$&&!Z}},se=Eg(T),ie=i.getFeaturesInExtent(se);C&&ie.sort(C);for(let Q=0,N=ie.length;Q<N;++Q)ne(ie[Q]);this.renderedFeatures_=ie,this.ready=$;const ae=D.finish(),ge=new U0(T,y,p,i.getOverlaps(),ae,t.getRenderBuffer());return U&&(this.declutterExecutorGroup=new U0(T,y,p,i.getOverlaps(),U.finish(),t.getRenderBuffer())),this.renderedResolution_=y,this.renderedRevision_=x,this.renderedRenderOrder_=C,this.renderedExtent_=R,this.wrappedRenderedExtent_=T,this.renderedCenter_=S,this.renderedProjection_=m,this.replayGroup_=ge,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,a,o,c){if(!i)return!1;let h=!1;if(Array.isArray(i))for(let f=0,g=i.length;f<g;++f)h=B0(a,e,i[f],t,this.boundHandleStyleImageChange_,o,c)||h;else h=B0(a,e,i,t,this.boundHandleStyleImageChange_,o,c);return h}}class Ss extends G2{constructor(e){super(e)}createRenderer(){return new gA(this)}}class jd{constructor(e){this.rbush_=new H1(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[ve(t)]=i}load(e,t){const i=new Array(t.length);for(let a=0,o=t.length;a<o;a++){const c=e[a],h=t[a],f={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};i[a]=f,this.items_[ve(h)]=f}this.rbush_.load(i)}remove(e){const t=ve(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[ve(t)],a=[i.minX,i.minY,i.maxX,i.maxY];jl(a,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(a){return a.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let a=0,o=e.length;a<o;a++)if(i=t(e[a]),i)return i;return i}isEmpty(){return ma(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return ki(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class J1 extends Jn{constructor(e){super(),this.projection=yt(e.projection),this.attributions_=Y0(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,a){t.viewResolver=i,t.viewRejector=a})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Y0(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Y0(r){return r?Array.isArray(r)?function(e){return r}:typeof r=="function"?r:function(e){return[r]}:null}const dn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function mA(r,e){return[[-1/0,-1/0,1/0,1/0]]}let _A=!1;function yA(r,e,t,i,a,o,c){const h=new XMLHttpRequest;h.open("GET",typeof r=="function"?r(t,i,a):r,!0),e.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=_A,h.onload=function(f){if(!h.status||h.status>=200&&h.status<300){const g=e.getType();let m;g=="json"||g=="text"?m=h.responseText:g=="xml"?(m=h.responseXML,m||(m=new DOMParser().parseFromString(h.responseText,"application/xml"))):g=="arraybuffer"&&(m=h.response),m?o(e.readFeatures(m,{extent:t,featureProjection:a}),e.readProjection(m)):c()}else c()},h.onerror=c,h.send()}function X0(r,e){return function(t,i,a,o,c){const h=this;yA(r,e,t,i,a,function(f,g){h.addFeatures(f),o!==void 0&&o(f)},c||ga)}}class fs extends Qn{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class lr extends J1{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=ga,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Te(this.format_,7),this.loader_=X0(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:mA;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new jd:null,this.loadedExtentsRtree_=new jd,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,a;Array.isArray(e.features)?a=e.features:e.features&&(i=e.features,a=i.getArray()),!t&&i===void 0&&(i=new _n(a)),a!==void 0&&this.addFeaturesInternal(a),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=ve(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new fs(dn.ADDFEATURE,e))}setupChangeEvents_(e,t){this.featureChangeKeys_[e]=[Me(t,xe.CHANGE,this.handleFeatureChange_,this),Me(t,da.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,t){let i=!0;const a=t.getId();return a!==void 0&&(a.toString()in this.idIndex_?i=!1:this.idIndex_[a.toString()]=t),i&&(Te(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],a=[];for(let o=0,c=e.length;o<c;o++){const h=e[o],f=ve(h);this.addToIndex_(f,h)&&i.push(h)}for(let o=0,c=i.length;o<c;o++){const h=i[o],f=ve(h);this.setupChangeEvents_(f,h);const g=h.getGeometry();if(g){const m=g.getExtent();t.push(m),a.push(h)}else this.nullGeometryFeatures_[f]=h}if(this.featuresRtree_&&this.featuresRtree_.load(t,a),this.hasListener(dn.ADDFEATURE))for(let o=0,c=i.length;o<c;o++)this.dispatchEvent(new fs(dn.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(dn.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(dn.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(ct.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(ct.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(He);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=a=>{this.removeFeatureInternal(a)};this.featuresRtree_.forEach(i);for(const a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new fs(dn.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(a){if(a.getGeometry().intersectsCoordinate(e))return t(a)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){if(i.getGeometry().intersectsExtent(e)){const o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ma(this.nullGeometryFeatures_)||Hn(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const a=cw(e,t);return[].concat(...a.map(o=>this.featuresRtree_.getInExtent(o)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(e,t){const i=e[0],a=e[1];let o=null;const c=[NaN,NaN];let h=1/0;const f=[-1/0,-1/0,1/0,1/0];return t=t||sr,this.featuresRtree_.forEachInExtent(f,function(g){if(t(g)){const m=g.getGeometry(),y=h;if(h=m.closestPointXY(i,a,c,h),h<y){o=g;const p=Math.sqrt(h);f[0]=i-p,f[1]=a-p,f[2]=i+p,f[3]=a+p}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=ve(t),a=t.getGeometry();if(!a)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const c=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(c,t)):this.featuresRtree_&&this.featuresRtree_.update(c,t)}const o=t.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[c]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new fs(dn.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:ve(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ma(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const a=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let c=0,h=o.length;c<h;++c){const f=o[c];a.forEachInExtent(f,function(m){return Vs(m.extent,f)})||(++this.loadingExtentsCount_,this.dispatchEvent(new fs(dn.FEATURESLOADSTART)),this.loader_.call(this,f,t,i,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new fs(dn.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new fs(dn.FEATURESLOADERROR))}),a.insert(f,{extent:f.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_;let i;t.forEachInExtent(e,function(a){if(jl(a.extent,e))return i=a,!0}),i&&t.remove(i)}removeFeature(e){if(!e)return;const t=ve(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=ve(e),i=this.featureChangeKeys_[t];if(!i)return;i.forEach(He),delete this.featureChangeKeys_[t];const a=e.getId();return a!==void 0&&delete this.idIndex_[a.toString()],delete this.uidIndex_[t],this.dispatchEvent(new fs(dn.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(const i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],t=!0;break}return t}setLoader(e){this.loader_=e}setUrl(e){Te(this.format_,7),this.url_=e,this.setLoader(X0(e,this.format_))}}const fe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class $1 extends xc{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(xe.CHANGE)}release(){this.state===fe.ERROR&&this.setState(fe.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==fe.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,t=this;do{if(e.getState()==fe.LOADED){e.interimTile=null;break}else e.getState()==fe.LOADING?t=e:e.getState()==fe.IDLE?t.interimTile=e.interimTile:t=e;e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==fe.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ye()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const a=t-i+1e3/60;return a>=this.transition_?1:Y1(a/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class ev extends $1{constructor(e,t,i,a,o,c){super(e,t,c),this.crossOrigin_=a,this.src_=i,this.key=i,this.image_=new Image,a!==null&&(this.image_.crossOrigin=a),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=fe.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=fe.ERROR,this.unlistenImage_(),this.image_=pA(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=fe.LOADED:this.state=fe.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==fe.ERROR&&(this.state=fe.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==fe.IDLE&&(this.state=fe.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=V1(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function pA(){const r=Zt(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}class xA{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const a=this.points_[t+2]-this.points_[i+2];if(a<1e3/60)return!1;const o=this.points_[t]-this.points_[i],c=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/a,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class vA extends lg{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){ye()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,a=e.pixelToCoordinateTransform;Es(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),cg(a,i)}forEachFeatureAtCoordinate(e,t,i,a,o,c,h,f){let g;const m=t.viewState;function y(O,D,U,H){return o.call(c,D,O?U:null,H)}const p=m.projection,x=_1(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&a){const O=p.getExtent(),D=Ve(O);v.push([-D,0],[D,0])}const C=t.layerStatesArray,S=C.length,T=[],R=[];for(let O=0;O<v.length;O++)for(let D=S-1;D>=0;--D){const U=C[D],H=U.layer;if(H.hasRenderer()&&Ig(U,m)&&h.call(f,H)){const q=H.getRenderer(),$=H.getSource();if(q&&$){const ne=$.getWrapX()?x:e,se=y.bind(null,U.managed);R[0]=ne[0]+v[O][0],R[1]=ne[1]+v[O][1],g=q.forEachFeatureAtCoordinate(R,t,i,se,T)}if(g)return g}}if(T.length===0)return;const w=1/T.length;return T.forEach((O,D)=>O.distanceSq+=D*w),T.sort((O,D)=>O.distanceSq-D.distanceSq),T.some(O=>g=O.callback(O.feature,O.layer,O.geometry)),g}hasFeatureAtCoordinate(e,t,i,a,o,c){return this.forEachFeatureAtCoordinate(e,t,i,a,sr,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(e){ye()}scheduleExpireIconCache(e){sc.canExpireCache()&&e.postRenderFunctions.push(EA)}}function EA(r,e){sc.expire()}class SA extends vA{constructor(e){super(e),this.fontChangeListenerKey_=Me(Ni,da.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Oc+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const a=new Z1(e,void 0,t);i.dispatchEvent(a)}}disposeInternal(){He(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(xs.PRECOMPOSE,e);const t=e.layerStatesArray.sort(function(c,h){return c.zIndex-h.zIndex}),i=e.viewState;this.children_.length=0;const a=[];let o=null;for(let c=0,h=t.length;c<h;++c){const f=t[c];e.layerIndex=c;const g=f.layer,m=g.getSourceState();if(!Ig(f,i)||m!="ready"&&m!="undefined"){g.unrender();continue}const y=g.render(e,o);y&&(y!==o&&(this.children_.push(y),o=y),"getDeclutter"in g&&a.push(g))}for(let c=a.length-1;c>=0;--c)a[c].renderDeclutter(e);s2(this.element_,this.children_),this.dispatchRenderEvent(xs.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}class ms extends Qn{constructor(e,t){super(e),this.layer=t}}const ud={LAYERS:"layers"};class Ta extends B1{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(ud.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new _n(i.slice(),{unique:!0}):Te(typeof i.getArray=="function",43):i=new _n(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(He),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Me(e,ct.ADD,this.handleLayersAdd_,this),Me(e,ct.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(He);Ca(this.listenerKeys_);const t=e.getArray();for(let i=0,a=t.length;i<a;i++){const o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new ms("addlayer",o))}this.changed()}registerLayerListeners_(e){const t=[Me(e,da.PROPERTYCHANGE,this.handleLayerChange_,this),Me(e,xe.CHANGE,this.handleLayerChange_,this)];e instanceof Ta&&t.push(Me(e,"addlayer",this.handleLayerGroupAdd_,this),Me(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ve(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new ms("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new ms("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new ms("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=ve(t);this.listenerKeys_[i].forEach(He),delete this.listenerKeys_[i],this.dispatchEvent(new ms("removelayer",t)),this.changed()}getLayers(){return this.get(ud.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let a=0,o=i.length;a<o;++a)this.dispatchEvent(new ms("removelayer",i[a]))}this.set(ud.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(t)});const a=this.getLayerState();let o=a.zIndex;!e&&a.zIndex===void 0&&(o=0);for(let c=i,h=t.length;c<h;c++){const f=t[c];f.opacity*=a.opacity,f.visible=f.visible&&a.visible,f.maxResolution=Math.min(f.maxResolution,a.maxResolution),f.minResolution=Math.max(f.minResolution,a.minResolution),f.minZoom=Math.max(f.minZoom,a.minZoom),f.maxZoom=Math.min(f.maxZoom,a.maxZoom),a.extent!==void 0&&(f.extent!==void 0?f.extent=Il(f.extent,a.extent):f.extent=a.extent),f.zIndex===void 0&&(f.zIndex=o)}return t}getSourceState(){return"ready"}}class la extends Qn{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class gs extends la{constructor(e,t,i,a,o,c){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=a!==void 0?a:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Ue={SINGLECLICK:"singleclick",CLICK:xe.CLICK,DBLCLICK:xe.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ud={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class CA extends xc{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Me(i,Ud.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Me(i,Ud.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(xe.TOUCHMOVE,this.boundHandleTouchMove_,a1?{passive:!1}:!1)}emulateClick_(e){let t=new gs(Ue.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new gs(Ue.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new gs(Ue.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Ue.POINTERUP||t.type==Ue.POINTERCANCEL){delete this.trackedTouches_[i];for(const a in this.trackedTouches_)if(this.trackedTouches_[a].target!==t.target){delete this.trackedTouches_[a];break}}else(t.type==Ue.POINTERDOWN||t.type==Ue.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new gs(Ue.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(He),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new gs(Ue.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Me(i,Ue.POINTERMOVE,this.handlePointerMove_,this),Me(i,Ue.POINTERUP,this.handlePointerUp_,this),Me(this.element_,Ue.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Me(this.element_.getRootNode(),Ue.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new gs(Ue.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new gs(Ue.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(He(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(xe.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(He(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(He),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Fi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},zt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},rc=1/0;class bA{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ca(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const a=this.keyFunction_(i);return delete this.queuedElements_[a],i}enqueue(e){Te(!(this.keyFunction_(e)in this.queuedElements_),31);const t=this.priorityFunction_(e);return t!=rc?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,a=t.length,o=t[e],c=i[e],h=e;for(;e<a>>1;){const f=this.getLeftChildIndex_(e),g=this.getRightChildIndex_(e),m=g<a&&i[g]<i[f]?g:f;t[e]=t[m],i[e]=i[m],e=m}t[e]=o,i[e]=c,this.siftDown_(h,e)}siftDown_(e,t){const i=this.elements_,a=this.priorities_,o=i[t],c=a[t];for(;t>e;){const h=this.getParentIndex_(t);if(a[h]>c)i[t]=i[h],a[t]=a[h],t=h;else break}i[t]=o,a[t]=c}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let a=0;const o=t.length;let c,h,f;for(h=0;h<o;++h)c=t[h],f=e(c),f==rc?delete this.queuedElements_[this.keyFunction_(c)]:(i[a]=f,t[a++]=c);t.length=a,i.length=a,this.heapify_()}}class TA extends bA{constructor(e,t){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(xe.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===fe.LOADED||i===fe.ERROR||i===fe.EMPTY){i!==fe.ERROR&&t.removeEventListener(xe.CHANGE,this.boundHandleTileChange_);const a=t.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0,a,o,c;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;)o=this.dequeue()[0],c=o.getKey(),a=o.getState(),a===fe.IDLE&&!(c in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[c]=!0,++this.tilesLoading_,++i,o.load())}}function RA(r,e,t,i,a){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return rc;const o=r.viewState.center,c=i[0]-o[0],h=i[1]-o[1];return 65536*Math.log(a)+Math.sqrt(c*c+h*h)/a}class zg extends Jn{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){ec(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&ec(this.element);for(let t=0,i=this.listenerKeys.length;t<i;++t)He(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ga&&this.listenerKeys.push(Me(e,Fi.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class wA extends zg{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",a=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",c=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=e.label!==void 0?e.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=a):this.label_=h;const f=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(f),this.toggleButton_.addEventListener(xe.CLICK,this.handleClick_.bind(this),!1);const g=t+" "+Oc+" "+Mg+(this.collapsed_&&this.collapsible_?" "+b0:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=g,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=Array.from(new Set(this.getMap().getAllLayers().flatMap(a=>a.getAttributions(e)))),i=!this.getMap().getAllLayers().some(a=>a.getSource()&&a.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),t}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=this.collectSourceAttributions_(e),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Gi(t,this.renderedAttributions_)){P1(this.ulElement_);for(let a=0,o=t.length;a<o;++a){const c=document.createElement("li");c.innerHTML=t[a],this.ulElement_.appendChild(c)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(b0),this.collapsed_?C0(this.collapseLabel_,this.label_):C0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class AA extends zg{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",a=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=a,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(a));const o=e.tipLabel?e.tipLabel:"Reset rotation",c=document.createElement("button");c.className=t+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(xe.CLICK,this.handleClick_.bind(this),!1);const h=t+" "+Oc+" "+Mg,f=this.element;f.className=h,f.appendChild(c),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ou)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:ba}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const a="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Ou);!o&&i===0?this.element.classList.add(Ou):o&&i!==0&&this.element.classList.remove(Ou)}this.label_.style.transform=a}this.rotation_=i}}class MA extends zg{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,a=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",c=e.zoomInLabel!==void 0?e.zoomInLabel:"+",h=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",f=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",g=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=a,m.setAttribute("type","button"),m.title=f,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(xe.CLICK,this.handleClick_.bind(this,i),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=g,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(xe.CLICK,this.handleClick_.bind(this,-i),!1);const p=t+" "+Oc+" "+Mg,x=this.element;x.className=p,x.appendChild(m),x.appendChild(y),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const a=i.getZoom();if(a!==void 0){const o=i.getConstrainedZoom(a+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:ba})):i.setZoom(o)}}}function OA(r){r=r||{};const e=new _n;return(r.zoom!==void 0?r.zoom:!0)&&e.push(new MA(r.zoomOptions)),(r.rotate!==void 0?r.rotate:!0)&&e.push(new AA(r.rotateOptions)),(r.attribution!==void 0?r.attribution:!0)&&e.push(new wA(r.attributionOptions)),e}const H0={ACTIVE:"active"};class Ra extends Jn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(H0.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(H0.ACTIVE,e)}setMap(e){this.map_=e}}function LA(r,e,t){const i=r.getCenterInternal();if(i){const a=[i[0]+e[0],i[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:S2,center:r.getConstrainedCenter(a)})}}function Pg(r,e,t,i){const a=r.getZoom();if(a===void 0)return;const o=r.getConstrainedZoom(a+e),c=r.getResolutionForZoom(o);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:c,anchor:t,duration:i!==void 0?i:250,easing:ba})}class DA extends Ra{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Ue.DBLCLICK){const i=e.originalEvent,a=e.map,o=e.coordinate,c=i.shiftKey?-this.delta_:this.delta_,h=a.getView();Pg(h,c,o,this.duration_),i.preventDefault(),t=!0}return!t}}class wa extends Ra{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ue.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ue.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Ue.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Ue.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function kg(r){const e=r.length;let t=0,i=0;for(let a=0;a<e;a++)t+=r[a].clientX,i+=r[a].clientY;return{clientX:t/e,clientY:i/e}}function Bd(r){const e=arguments;return function(t){let i=!0;for(let a=0,o=e.length;a<o&&(i=i&&e[a](t),!!i);++a);return i}}const NA=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},FA=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},IA=function(r){const e=r.map.getTargetElement(),t=r.map.getOwnerDocument().activeElement;return e.contains(t)},tv=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?IA(r):!0},nv=sr,zA=function(r){return r.type==Ue.CLICK},iv=function(r){const e=r.originalEvent;return e.button==0&&!($R&&ew&&e.ctrlKey)},V0=so,sv=function(r){return r.type==Ue.SINGLECLICK},rv=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},av=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},lv=function(r){const e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Vu=function(r){const e=r.originalEvent;return Te(e!==void 0,56),e.pointerType=="mouse"},ov=function(r){const e=r.originalEvent;return Te(e!==void 0,56),e.isPrimary&&e.button===0};class PA extends wa{constructor(e){super({stopDown:so}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Bd(rv,ov);this.condition_=e.onFocusOnly?Bd(tv,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,a=t.getEventPixel(kg(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){const o=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],h=e.map.getView();Cw(o,h.getResolution()),mg(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=a,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=i.getCenterInternal(),h=t.getPixelFromCoordinateInternal(c),f=t.getCoordinateFromPixelInternal([h[0]-a*Math.cos(o),h[1]-a*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(f),duration:500,easing:ba})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class uv extends wa{constructor(e){e=e||{},super({stopDown:so}),this.condition_=e.condition?e.condition:FA,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Vu(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===Fg)return;const a=t.getSize(),o=e.pixel,c=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(e){return Vu(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Vu(e)&&iv(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class kA extends lg{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(e[0],t[0])+i,a.top=Math.min(e[1],t[1])+i,a.width=Math.abs(t[0]-e[0])+i,a.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,t=this.endPixel_,a=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new Gt([a])}getGeometry(){return this.geometry_}}const Iu={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class cd extends Qn{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class GA extends wa{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new kA(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:iv,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const a=i[0]-t[0],o=i[1]-t[1];return a*a+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new cd(Iu.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new cd(t?Iu.BOXEND:Iu.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new cd(Iu.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class jA extends GA{constructor(e){e=e||{};const t=e.condition?e.condition:av;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let a=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(a),c=i.getResolutionForExtentInternal(o),h=i.getResolution()/c;a=a.clone(),a.scale(h*h)}i.fitInternal(a,{duration:this.duration_,easing:ba})}}const Bs={LEFT:37,UP:38,RIGHT:39,DOWN:40};class UA extends Ra{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return rv(t)&&lv(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==xe.KEYDOWN){const i=e.originalEvent,a=i.keyCode;if(this.condition_(e)&&(a==Bs.DOWN||a==Bs.LEFT||a==Bs.RIGHT||a==Bs.UP)){const c=e.map.getView(),h=c.getResolution()*this.pixelDelta_;let f=0,g=0;a==Bs.DOWN?g=-h:a==Bs.LEFT?f=-h:a==Bs.RIGHT?f=h:g=h;const m=[f,g];mg(m,c.getRotation()),LA(c,m,this.duration_),i.preventDefault(),t=!0}}return!t}}class BA extends Ra{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:lv,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==xe.KEYDOWN||e.type==xe.KEYPRESS){const i=e.originalEvent,a=i.key;if(this.condition_(e)&&(a==="+"||a==="-")){const o=e.map,c=a==="+"?this.delta_:-this.delta_,h=o.getView();Pg(h,c,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}class YA extends Ra{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:nv;this.condition_=e.onFocusOnly?Bd(tv,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==xe.WHEEL)return!0;const i=e.map,a=e.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let o;if(e.type==xe.WHEEL&&(o=a.deltaY,QR&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=r1),a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=i.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=c,!1;this.totalDelta_+=o;const f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),f),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-ht(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Pg(t,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class XA extends wa{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=so),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(this.lastAngle_!==void 0){const f=o-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=f}this.lastAngle_=o;const c=e.map,h=c.getView();h.getConstraints().rotation!==Fg&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(kg(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class HA extends wa{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=so),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],a=this.targetPointers[1],o=i.clientX-a.clientX,c=i.clientY-a.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(t=this.lastDistance_/h),this.lastDistance_=h;const f=e.map,g=f.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=f.getCoordinateFromPixelInternal(f.getEventPixel(kg(this.targetPointers))),f.render(),g.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),a=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,a),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function cv(r){r=r||{};const e=new _n,t=new xA(-.005,.05,100);return(r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0)&&e.push(new uv),(r.doubleClickZoom!==void 0?r.doubleClickZoom:!0)&&e.push(new DA({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan!==void 0?r.dragPan:!0)&&e.push(new PA({onFocusOnly:r.onFocusOnly,kinetic:t})),(r.pinchRotate!==void 0?r.pinchRotate:!0)&&e.push(new XA),(r.pinchZoom!==void 0?r.pinchZoom:!0)&&e.push(new HA({duration:r.zoomDuration})),(r.keyboard!==void 0?r.keyboard:!0)&&(e.push(new UA),e.push(new BA({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0)&&e.push(new YA({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom!==void 0?r.shiftDragZoom:!0)&&e.push(new jA({duration:r.zoomDuration})),e}function hv(r){if(r instanceof Dc){r.setMapInternal(null);return}r instanceof Ta&&r.getLayers().forEach(hv)}function fv(r,e){if(r instanceof Dc){r.setMapInternal(e);return}if(r instanceof Ta){const t=r.getLayers().getArray();for(let i=0,a=t.length;i<a;++i)fv(t[i],e)}}let VA=class extends Jn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=qA(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:r1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=fi(),this.pixelToCoordinateTransform_=fi(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||OA(),this.interactions=t.interactions||cv({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new TA(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(zt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(zt.VIEW,this.handleViewChanged_),this.addChangeListener(zt.SIZE,this.handleSizeChanged_),this.addChangeListener(zt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof ui)&&e.view.then(function(a){i.setView(new ui(a))}),this.controls.addEventListener(ct.ADD,a=>{a.element.setMap(this)}),this.controls.addEventListener(ct.REMOVE,a=>{a.element.setMap(null)}),this.interactions.addEventListener(ct.ADD,a=>{a.element.setMap(this)}),this.interactions.addEventListener(ct.REMOVE,a=>{a.element.setMap(null)}),this.overlays_.addEventListener(ct.ADD,a=>{this.addOverlayInternal_(a.element)}),this.overlays_.addEventListener(ct.REMOVE,a=>{const o=a.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],a.element.setMap(null)}),this.controls.forEach(a=>{a.setMap(this)}),this.interactions.forEach(a=>{a.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){fv(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const a=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter!==void 0?i.layerFilter:sr,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,o,h,t,null,c,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(a){i.push(a)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(a){a instanceof Ta?t(a.getLayers()):e.push(a)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const a=t.layerFilter!==void 0?t.layerFilter:sr,o=t.hitTolerance!==void 0?t.hitTolerance:0,c=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,c,a,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),a=this.getSize(),o=i.width/a[0],c=i.height/a[1],h="changedTouches"in e?e.changedTouches[0]:e;return[(h.clientX-i.left)/o,(h.clientY-i.top)/c]}getTarget(){return this.get(zt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Bl(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Ct(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(zt.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof _n){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const a=e[t];if(!a.visible)continue;const o=a.layer.getRenderer();if(o&&!o.ready)return!0;const c=a.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(e){const t=mt(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Ct(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(zt.SIZE)}getView(){return this.get(zt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,a){return RA(this.frameState_,e,t,i,a)}handleBrowserEvent(e,t){t=t||e.type;const i=new gs(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===Ud.POINTERDOWN||i===xe.WHEEL||i===xe.KEYDOWN){const a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,c=t.target;if(this.overlayContainerStopEvent_.contains(c)||!(o===a?a.documentElement:o).contains(c))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const a=this.getInteractions().getArray().slice();for(let o=a.length-1;o>=0;o--){const c=a[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let a=this.maxTilesLoading_,o=a;if(e){const c=e.viewHints;if(c[kt.ANIMATING]||c[kt.INTERACTING]){const h=Date.now()-e.time>8;a=h?0:8,o=h?0:2}}t.getTilesLoading()<a&&(t.reprioritize(),t.loadMoreTiles(a,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(xs.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(xs.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new la(Fi.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new la(Fi.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let a=0,o=i.length;a<o;++a)i[a](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,a=this.targetChangeHandlerKeys_.length;i<a;++i)He(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(xe.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(xe.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,ec(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new SA(this)),this.mapBrowserEventHandler_=new CA(this,this.moveTolerance_);for(const o in Ue)this.mapBrowserEventHandler_.addEventListener(Ue[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(xe.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(xe.WHEEL,this.boundHandleBrowserEvent_,a1?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.targetChangeHandlerKeys_=[Me(i,xe.KEYDOWN,this.handleBrowserEvent,this),Me(i,xe.KEYPRESS,this.handleBrowserEvent,this)];const a=t.getRootNode();a instanceof ShadowRoot&&this.resizeObserver_.observe(a.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(He(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(He(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Me(e,da.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Me(e,xe.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(He),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new ms("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Me(e,da.PROPERTYCHANGE,this.render,this),Me(e,xe.CHANGE,this.render,this),Me(e,"addlayer",this.handleLayerAdd_,this),Me(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const a=e[t].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){hv(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),a=this.frameState_;let o=null;if(t!==void 0&&E0(t)&&i&&i.isDef()){const c=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Od(h.center,h.resolution,h.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:ve(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const f=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=Od(h.nextCenter,h.nextResolution,f,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),a&&(!this.previousExtent_||!fg(this.previousExtent_)&&!jl(o.extent,this.previousExtent_))&&(this.dispatchEvent(new la(Fi.MOVESTART,this,a)),this.previousExtent_=ao(this.previousExtent_)),this.previousExtent_&&!o.viewHints[kt.ANIMATING]&&!o.viewHints[kt.INTERACTING]&&!jl(o.extent,this.previousExtent_)&&(this.dispatchEvent(new la(Fi.MOVEEND,this,o)),o1(o.extent,this.previousExtent_))),this.dispatchEvent(new la(Fi.POSTRENDER,this,o)),this.renderComplete_=this.hasListener(Fi.LOADSTART)||this.hasListener(Fi.LOADEND)||this.hasListener(xs.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new ms("removelayer",t)),this.set(zt.LAYERGROUP,e)}setSize(e){this.set(zt.SIZE,e)}setTarget(e){this.set(zt.TARGET,e)}setView(e){if(!e||e instanceof ui){this.set(zt.VIEW,e);return}this.set(zt.VIEW,new ui);const t=this;e.then(function(i){t.setView(new ui(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const a=getComputedStyle(e),o=e.offsetWidth-parseFloat(a.borderLeftWidth)-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight)-parseFloat(a.borderRightWidth),c=e.offsetHeight-parseFloat(a.borderTopWidth)-parseFloat(a.paddingTop)-parseFloat(a.paddingBottom)-parseFloat(a.borderBottomWidth);!isNaN(o)&&!isNaN(c)&&(t=[o,c],!E0(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&p1("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!Gi(t,i))&&(this.setSize(t),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let t;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(t=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(t)}}};function qA(r){let e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const t={},i=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Ta({layers:r.layers});t[zt.LAYERGROUP]=i,t[zt.TARGET]=r.target,t[zt.VIEW]=r.view instanceof ui?r.view:new ui;let a;r.controls!==void 0&&(Array.isArray(r.controls)?a=new _n(r.controls.slice()):(Te(typeof r.controls.getArray=="function",47),a=r.controls));let o;r.interactions!==void 0&&(Array.isArray(r.interactions)?o=new _n(r.interactions.slice()):(Te(typeof r.interactions.getArray=="function",48),o=r.interactions));let c;return r.overlays!==void 0?Array.isArray(r.overlays)?c=new _n(r.overlays.slice()):(Te(typeof r.overlays.getArray=="function",49),c=r.overlays):c=new _n,{controls:a,interactions:o,keyboardEventTarget:e,overlays:c,values:t}}const It={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class Yd extends Jn{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+r2,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(It.ELEMENT,this.handleElementChanged),this.addChangeListener(It.MAP,this.handleMapChanged),this.addChangeListener(It.OFFSET,this.handleOffsetChanged),this.addChangeListener(It.POSITION,this.handlePositionChanged),this.addChangeListener(It.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(It.ELEMENT)}getId(){return this.id}getMap(){return this.get(It.MAP)||null}getOffset(){return this.get(It.OFFSET)}getPosition(){return this.get(It.POSITION)}getPositioning(){return this.get(It.POSITIONING)}handleElementChanged(){P1(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(ec(this.element),He(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Me(e,Fi.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(It.ELEMENT,e)}setMap(e){this.set(It.MAP,e)}setOffset(e){this.set(It.OFFSET,e)}setPosition(e){this.set(It.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(It.POSITION))return;const i=this.getRect(t.getTargetElement(),t.getSize()),a=this.getElement(),o=this.getRect(a,[n2(a),i2(a)]);e=e||{};const c=e.margin===void 0?20:e.margin;if(!Vs(i,o)){const h=o[0]-i[0],f=i[2]-o[2],g=o[1]-i[1],m=i[3]-o[3],y=[0,0];if(h<0?y[0]=h-c:f<0&&(y[0]=Math.abs(f)+c),g<0?y[1]=g-c:m<0&&(y[1]=Math.abs(m)+c),y[0]!==0||y[1]!==0){const p=t.getView().getCenterInternal(),x=t.getPixelFromCoordinateInternal(p);if(!x)return;const v=[x[0]+y[0],x[1]+y[1]],C=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(v),duration:C.duration,easing:C.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),a=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[a,o,a+t[0],o+t[1]]}setPositioning(e){this.set(It.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(t),a=e.getSize();this.updateRenderedPosition(i,a)}updateRenderedPosition(e,t){const i=this.element.style,a=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const c=Math.round(e[0]+a[0])+"px",h=Math.round(e[1]+a[1])+"px";let f="0%",g="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?f="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(f="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?g="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(g="-50%");const m=`translate(${f}, ${g}) translate(${c}, ${h})`;this.rendered.transform_!=m&&(this.rendered.transform_=m,i.transform=m)}getOptions(){return this.options}}class ZA{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Te(i!==void 0,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Te(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Te(!(e in this.entries_),16);const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function q0(r,e,t,i){return i!==void 0?(i[0]=r,i[1]=e,i[2]=t,i):[r,e,t]}function Nc(r,e,t){return r+"/"+e+"/"+t}function dv(r){return Nc(r[0],r[1],r[2])}function KA(r){return r.split("/").map(Number)}function WA(r){return(r[1]<<r[0])+r[2]}function QA(r,e){const t=r[0],i=r[1],a=r[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const o=e.getFullTileRange(t);return o?o.containsXY(i,a):!0}class gv extends ZA{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=KA(e)[0];this.forEach(a=>{a.tileCoord[0]!==i&&(this.remove(dv(a.tileCoord)),a.release())})}}class Gg{constructor(e,t,i,a){this.minX=e,this.maxX=t,this.minY=i,this.maxY=a}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function na(r,e,t,i,a){return a!==void 0?(a.minX=r,a.maxX=e,a.minY=t,a.maxY=i,a):new Gg(r,e,t,i)}class ac extends C1{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(He),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Me(this.geometries_[e],xe.CHANGE,this.changed,this))}clone(){const e=new ac(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,i,a){if(a<or(this.getExtent(),e,t))return a;const o=this.geometries_;for(let c=0,h=o.length;c<h;++c)a=o[c].closestPointXY(e,t,i,a);return a}containsXY(e,t){const i=this.geometries_;for(let a=0,o=i.length;a<o;++a)if(i[a].containsXY(e,t))return!0;return!1}computeExtent(e){ao(e);const t=this.geometries_;for(let i=0,a=t.length;i<a;++i)c1(e,t[i].getExtent());return e}getGeometries(){return Z0(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,a=t.length;i<a;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let a=!1;for(let o=0,c=i.length;o<c;++o){const h=i[o],f=h.getSimplifiedGeometry(e);t.push(f),f!==h&&(a=!0)}if(a){const o=new ac(null);return o.setGeometriesArray(t),o}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,a=t.length;i<a;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let a=0,o=i.length;a<o;++a)i[a].rotate(e,t);this.changed()}scale(e,t,i){i||(i=rr(this.getExtent()));const a=this.geometries_;for(let o=0,c=a.length;o<c;++o)a[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(Z0(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,a=t.length;i<a;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let a=0,o=i.length;a<o;++a)i[a].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Z0(r){const e=[];for(let t=0,i=r.length;t<i;++t)e.push(r[t].clone());return e}class lc extends cr{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{let a=this.getLayout();const o=e,c=[],h=[];for(let f=0,g=o.length;f<g;++f){const m=o[f];f===0&&(a=m.getLayout()),Hn(c,m.getFlatCoordinates()),h.push(c.length)}this.setFlatCoordinates(a,c),this.ends_=h}}appendLineString(e){this.flatCoordinates?Hn(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new lc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,a){return a<or(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Cg(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Tg(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,a))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,Kw(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return Yl(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new ar(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,a=[];let o=0;for(let c=0,h=t.length;c<h;++c){const f=t[c],g=new ar(e.slice(o,f),i);a.push(g),o=f}return a}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const a=this.ends_,o=this.stride;for(let c=0,h=a.length;c<h;++c){const f=a[c],g=N1(t,i,f,o,.5);Hn(e,g),i=f}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=kw(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new lc(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return Hw(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Rg(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class Fc extends cr{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){this.flatCoordinates?Hn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Fc(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,a){if(a<or(this.getExtent(),e,t))return a;const o=this.flatCoordinates,c=this.stride;for(let h=0,f=o.length;h<f;h+=c){const g=Qs(e,t,o[h],o[h+1]);if(g<a){a=g;for(let m=0;m<c;++m)i[m]=o[h+m];i.length=c}}return a}getCoordinates(){return ys(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new Ln(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,a=[];for(let o=0,c=e.length;o<c;o+=i){const h=new Ln(e.slice(o,o+i),t);a.push(h)}return a}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let a=0,o=t.length;a<o;a+=i){const c=t[a],h=t[a+1];if(hg(e,c,h))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Rc(this.flatCoordinates,0,e,this.stride),this.changed()}}function JA(r,e,t,i){const a=[];let o=On();for(let c=0,h=t.length;c<h;++c){const f=t[c];o=u1(r,e,f[0],i),a.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=f[f.length-1]}return a}class oc extends cr{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){let a=this.getLayout();const o=e,c=[],h=[];for(let f=0,g=o.length;f<g;++f){const m=o[f];f===0&&(a=m.getLayout());const y=c.length,p=m.getEnds();for(let x=0,v=p.length;x<v;++x)p[x]+=y;Hn(c,m.getFlatCoordinates()),h.push(p)}t=a,e=c,i=h}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Hn(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let a=0,o=t.length;a<o;++a)t[a]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let a=0;a<e;++a)t[a]=this.endss_[a].slice();const i=new oc(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,a){return a<or(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Fw(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Iw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,a))}containsXY(e,t){return Yw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return Uw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),x0(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Fd(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=JA(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Xw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Fc(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Zw(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=x0(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=jw(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new oc(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const i=this.endss_[e].slice(),a=i[i.length-1];if(t!==0)for(let o=0,c=i.length;o<c;++o)i[o]-=t;return new Gt(this.flatCoordinates.slice(t,a),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,a=[];let o=0;for(let c=0,h=i.length;c<h;++c){const f=i[c].slice(),g=f[f.length-1];if(o!==0)for(let y=0,p=f.length;y<p;++y)f[y]-=o;const m=new Gt(t.slice(o,g),e,f);a.push(m),o=g}return a}getType(){return"MultiPolygon"}intersectsExtent(e){return Vw(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=Pw(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const a=i[i.length-1];this.flatCoordinates.length=a.length===0?0:a[a.length-1]}this.changed()}}class $A{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?yt(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=yt(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return ye()}readFeature(e,t){return ye()}readFeatures(e,t){return ye()}readGeometry(e,t){return ye()}readProjection(e){return ye()}writeFeature(e,t){return ye()}writeFeatures(e,t){return ye()}writeGeometry(e,t){return ye()}}function mv(r,e,t){const i=t?yt(t.featureProjection):null,a=t?yt(t.dataProjection):null;let o;if(i&&a&&!Xs(i,a)?o=(e?r.clone():r).transform(e?i:a,e?a:i):o=r,e&&t&&t.decimals!==void 0){const c=Math.pow(10,t.decimals),h=function(f){for(let g=0,m=f.length;g<m;++g)f[g]=Math.round(f[g]*c)/c;return f};o===r&&(o=r.clone()),o.applyTransform(h)}return o}const eM=.5,tM=10,K0=.25;class nM{constructor(e,t,i,a,o,c){this.sourceProj_=e,this.targetProj_=t;let h={};const f=Ju(this.targetProj_,this.sourceProj_);this.transformInv_=function(R){const w=R[0]+"/"+R[1];return h[w]||(h[w]=f(R)),h[w]},this.maxSourceExtent_=a,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&Ve(a)==Ve(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ve(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ve(this.targetProj_.getExtent()):null;const g=ur(i),m=bc(i),y=Cc(i),p=Sc(i),x=this.transformInv_(g),v=this.transformInv_(m),C=this.transformInv_(y),S=this.transformInv_(p),T=tM+(c?Math.max(0,Math.ceil(Math.log2(Md(i)/(c*c*256*256)))):0);if(this.addQuad_(g,m,y,p,x,v,C,S,T),this.wrapsXInSource_){let R=1/0;this.triangles_.forEach(function(w,O,D){R=Math.min(R,w.source[0][0],w.source[1][0],w.source[2][0])}),this.triangles_.forEach(w=>{if(Math.max(w.source[0][0],w.source[1][0],w.source[2][0])-R>this.sourceWorldWidth_/2){const O=[[w.source[0][0],w.source[0][1]],[w.source[1][0],w.source[1][1]],[w.source[2][0],w.source[2][1]]];O[0][0]-R>this.sourceWorldWidth_/2&&(O[0][0]-=this.sourceWorldWidth_),O[1][0]-R>this.sourceWorldWidth_/2&&(O[1][0]-=this.sourceWorldWidth_),O[2][0]-R>this.sourceWorldWidth_/2&&(O[2][0]-=this.sourceWorldWidth_);const D=Math.min(O[0][0],O[1][0],O[2][0]);Math.max(O[0][0],O[1][0],O[2][0])-D<this.sourceWorldWidth_/2&&(w.source=O)}})}h={}}addTriangle_(e,t,i,a,o,c){this.triangles_.push({source:[a,o,c],target:[e,t,i]})}addQuad_(e,t,i,a,o,c,h,f,g){const m=Un([o,c,h,f]),y=this.sourceWorldWidth_?Ve(m)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&y>.5&&y<1;let v=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const S=Un([e,t,i,a]);v=Ve(S)/this.targetWorldWidth_>K0||v}!x&&this.sourceProj_.isGlobal()&&y&&(v=y>K0||v)}if(!v&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!qt(m,this.maxSourceExtent_))return;let C=0;if(!v&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(f[0])||!isFinite(f[1]))){if(g>0)v=!0;else if(C=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),C!=1&&C!=2&&C!=4&&C!=8)return}if(g>0){if(!v){const S=[(e[0]+i[0])/2,(e[1]+i[1])/2],T=this.transformInv_(S);let R;x?R=($s(o[0],p)+$s(h[0],p))/2-$s(T[0],p):R=(o[0]+h[0])/2-T[0];const w=(o[1]+h[1])/2-T[1];v=R*R+w*w>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const S=[(t[0]+i[0])/2,(t[1]+i[1])/2],T=this.transformInv_(S),R=[(a[0]+e[0])/2,(a[1]+e[1])/2],w=this.transformInv_(R);this.addQuad_(e,t,S,R,o,c,T,w,g-1),this.addQuad_(R,S,i,a,w,T,h,f,g-1)}else{const S=[(e[0]+t[0])/2,(e[1]+t[1])/2],T=this.transformInv_(S),R=[(i[0]+a[0])/2,(i[1]+a[1])/2],w=this.transformInv_(R);this.addQuad_(e,S,R,a,o,T,w,f,g-1),this.addQuad_(S,t,i,R,T,c,h,w,g-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(C&11)==0&&this.addTriangle_(e,i,a,o,h,f),(C&14)==0&&this.addTriangle_(e,i,t,o,h,c),C&&((C&13)==0&&this.addTriangle_(t,a,e,c,f,o),(C&7)==0&&this.addTriangle_(t,a,i,c,f,h))}calculateSourceExtent(){const e=On();return this.triangles_.forEach(function(t,i,a){const o=t.source;Fl(e,o[0]),Fl(e,o[1]),Fl(e,o[2])}),e}getTriangles(){return this.triangles_}}let hd;const ca=[];function W0(r,e,t,i,a){r.beginPath(),r.moveTo(0,0),r.lineTo(e,t),r.lineTo(i,a),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(e,i)+1,Math.max(t,a)),r.restore()}function fd(r,e){return Math.abs(r[e*4]-210)>2||Math.abs(r[e*4+3]-.75*255)>2}function iM(){if(hd===void 0){const r=Zt(6,6,ca);r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",W0(r,4,5,4,0),W0(r,4,5,0,5);const e=r.getImageData(0,0,3,3).data;hd=fd(e,0)||fd(e,4)||fd(e,8),Mc(r),ca.push(r.canvas)}return hd}function Q0(r,e,t,i){const a=vg(t,e,r);let o=g0(e,i,t);const c=e.getMetersPerUnit();c!==void 0&&(o*=c);const h=r.getMetersPerUnit();h!==void 0&&(o/=h);const f=r.getExtent();if(!f||Ec(f,a)){const g=g0(r,o,a)/o;isFinite(g)&&g>0&&(o/=g)}return o}function sM(r,e,t,i){const a=rr(t);let o=Q0(r,e,a,i);return(!isFinite(o)||o<=0)&&f1(t,function(c){return o=Q0(r,e,c,i),isFinite(o)&&o>0}),o}function rM(r,e,t,i,a,o,c,h,f,g,m,y){const p=Zt(Math.round(t*r),Math.round(t*e),ca);if(y||(p.imageSmoothingEnabled=!1),f.length===0)return p.canvas;p.scale(t,t);function x(O){return Math.round(O*t)/t}p.globalCompositeOperation="lighter";const v=On();f.forEach(function(O,D,U){c1(v,O.extent)});const C=Ve(v),S=di(v),T=Zt(Math.round(t*C/i),Math.round(t*S/i),ca);y||(T.imageSmoothingEnabled=!1);const R=t/i;f.forEach(function(O,D,U){const H=O.extent[0]-v[0],q=-(O.extent[3]-v[3]),$=Ve(O.extent),ne=di(O.extent);O.image.width>0&&O.image.height>0&&T.drawImage(O.image,g,g,O.image.width-2*g,O.image.height-2*g,H*R,q*R,$*R,ne*R)});const w=ur(c);return h.getTriangles().forEach(function(O,D,U){const H=O.source,q=O.target;let $=H[0][0],ne=H[0][1],se=H[1][0],ie=H[1][1],ae=H[2][0],ge=H[2][1];const Q=x((q[0][0]-w[0])/o),N=x(-(q[0][1]-w[1])/o),P=x((q[1][0]-w[0])/o),Z=x(-(q[1][1]-w[1])/o),re=x((q[2][0]-w[0])/o),A=x(-(q[2][1]-w[1])/o),G=$,I=ne;$=0,ne=0,se-=G,ie-=I,ae-=G,ge-=I;const K=[[se,ie,0,0,P-Q],[ae,ge,0,0,re-Q],[0,0,se,ie,Z-N],[0,0,ae,ge,A-N]],te=Ew(K);if(te){if(p.save(),p.beginPath(),iM()||!y){p.moveTo(P,Z);const le=4,oe=Q-P,Le=N-Z;for(let pe=0;pe<le;pe++)p.lineTo(P+x((pe+1)*oe/le),Z+x(pe*Le/(le-1))),pe!=le-1&&p.lineTo(P+x((pe+1)*oe/le),Z+x((pe+1)*Le/(le-1)));p.lineTo(re,A)}else p.moveTo(P,Z),p.lineTo(Q,N),p.lineTo(re,A);p.clip(),p.transform(te[0],te[2],te[1],te[3],Q,N),p.translate(v[0]-G,v[3]-I),p.scale(i/t,-i/t),p.drawImage(T.canvas,0,0),p.restore()}}),Mc(T),ca.push(T.canvas),m&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,h.getTriangles().forEach(function(O,D,U){const H=O.target,q=(H[0][0]-w[0])/o,$=-(H[0][1]-w[1])/o,ne=(H[1][0]-w[0])/o,se=-(H[1][1]-w[1])/o,ie=(H[2][0]-w[0])/o,ae=-(H[2][1]-w[1])/o;p.beginPath(),p.moveTo(ne,se),p.lineTo(q,$),p.lineTo(ie,ae),p.closePath(),p.stroke()}),p.restore()),p.canvas}class Xd extends $1{constructor(e,t,i,a,o,c,h,f,g,m,y,p){super(o,fe.IDLE,{interpolate:!!p}),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=a,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const x=a.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let C=this.sourceTileGrid_.getExtent();const S=v?Il(x,v):x;if(Md(S)===0){this.state=fe.EMPTY;return}const T=e.getExtent();T&&(C?C=Il(C,T):C=T);const R=a.getResolution(this.wrappedTileCoord_[0]),w=sM(e,i,S,R);if(!isFinite(w)||w<=0){this.state=fe.EMPTY;return}const O=m!==void 0?m:eM;if(this.triangulation_=new nM(e,i,S,C,w*O,R),this.triangulation_.getTriangles().length===0){this.state=fe.EMPTY;return}this.sourceZ_=t.getZForResolution(w);let D=this.triangulation_.calculateSourceExtent();if(C&&(e.canWrapX()?(D[1]=ht(D[1],C[1],C[3]),D[3]=ht(D[3],C[1],C[3])):D=Il(D,C)),!Md(D))this.state=fe.EMPTY;else{const U=t.getTileRangeForExtentAndZ(D,this.sourceZ_);for(let H=U.minX;H<=U.maxX;H++)for(let q=U.minY;q<=U.maxY;q++){const $=g(this.sourceZ_,H,q,h);$&&this.sourceTiles_.push($)}this.sourceTiles_.length===0&&(this.state=fe.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{t&&t.getState()==fe.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=fe.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),a=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],c=this.targetTileGrid_.getResolution(t),h=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=rM(a,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,f,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=fe.LOADED}this.changed()}load(){if(this.state==fe.IDLE){this.state=fe.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{const i=t.getState();if(i==fe.IDLE||i==fe.LOADING){e++;const a=Me(t,xe.CHANGE,function(o){const c=t.getState();(c==fe.LOADED||c==fe.ERROR||c==fe.EMPTY)&&(He(a),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(a)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(t,i,a){t.getState()==fe.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(He),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Mc(this.canvas_.getContext("2d")),ca.push(this.canvas_),this.canvas_=null),super.release()}}class aM extends K1{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=On(),this.tmpTileRange_=new Gg(0,0,0,0)}isDrawableTile(e){const t=this.getLayer(),i=e.getState(),a=t.getUseInterimTilesOnError();return i==fe.LOADED||i==fe.EMPTY||i==fe.ERROR&&!a}getTile(e,t,i,a){const o=a.pixelRatio,c=a.viewState.projection,h=this.getLayer();let g=h.getSource().getTile(e,t,i,o,c);return g.getState()==fe.ERROR&&h.getUseInterimTilesOnError()&&h.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(g)||(g=g.getInterimTile()),g}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),a=Ct(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Ec(o,a))return null;const c=t.pixelRatio,h=t.viewState.projection,f=t.viewState,g=i.getRenderSource(),m=g.getTileGridForProjection(f.projection),y=g.getTilePixelRatio(t.pixelRatio);for(let p=m.getZForResolution(f.resolution);p>=m.getMinZoom();--p){const x=m.getTileCoordForCoordAndZ(a,p),v=g.getTile(p,x[1],x[2],c,h);if(!(v instanceof ev||v instanceof Xd)||v instanceof Xd&&v.getState()===fe.EMPTY)return null;if(v.getState()!==fe.LOADED)continue;const C=m.getOrigin(p),S=mn(m.getTileSize(p)),T=m.getResolution(p),R=Math.floor(y*((a[0]-C[0])/T-x[1]*S[0])),w=Math.floor(y*((C[1]-a[1])/T-x[2]*S[1])),O=Math.round(y*g.getGutterForProjection(f.projection));return this.getImageData(v.getImage(),R+O,w+O)}return null}loadedTileCallback(e,t,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,t,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex],a=e.viewState,o=a.projection,c=a.resolution,h=a.center,f=a.rotation,g=e.pixelRatio,m=this.getLayer(),y=m.getSource(),p=y.getRevision(),x=y.getTileGridForProjection(o),v=x.getZForResolution(c,y.zDirection),C=x.getResolution(v);let S=e.extent;const T=e.viewState.resolution,R=y.getTilePixelRatio(g),w=Math.round(Ve(S)/T*g),O=Math.round(di(S)/T*g),D=i.extent&&_s(i.extent);D&&(S=Il(S,_s(i.extent)));const U=C*w/2/R,H=C*O/2/R,q=[h[0]-U,h[1]-H,h[0]+U,h[1]+H],$=x.getTileRangeForExtentAndZ(S,v),ne={};ne[v]={};const se=this.createLoadedTileFinder(y,o,ne),ie=this.tmpExtent,ae=this.tmpTileRange_;this.newTiles_=!1;const ge=f?Ld(a.center,T,f,e.size):void 0;for(let K=$.minX;K<=$.maxX;++K)for(let te=$.minY;te<=$.maxY;++te){if(f&&!x.tileCoordIntersectsViewport([v,K,te],ge))continue;const le=this.getTile(v,K,te,e);if(this.isDrawableTile(le)){const pe=ve(this);if(le.getState()==fe.LOADED){ne[v][le.tileCoord.toString()]=le;let at=le.inTransition(pe);at&&i.opacity!==1&&(le.endTransition(pe),at=!1),!this.newTiles_&&(at||!this.renderedTiles.includes(le))&&(this.newTiles_=!0)}if(le.getAlpha(pe,e.time)===1)continue}const oe=x.getTileCoordChildTileRange(le.tileCoord,ae,ie);let Le=!1;oe&&(Le=se(v+1,oe)),Le||x.forEachTileCoordParentTileRange(le.tileCoord,se,ae,ie)}const Q=C/c*g/R;Es(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/g,1/g,f,-w/2,-O/2);const N=l1(this.pixelTransform);this.useContainer(t,N,this.getBackground(e));const P=this.context,Z=P.canvas;cg(this.inversePixelTransform,this.pixelTransform),Es(this.tempTransform,w/2,O/2,Q,Q,0,-w/2,-O/2),Z.width!=w||Z.height!=O?(Z.width=w,Z.height=O):this.containerReused||P.clearRect(0,0,w,O),D&&this.clipUnrotated(P,e,D),y.getInterpolate()||(P.imageSmoothingEnabled=!1),this.preRender(P,e),this.renderedTiles.length=0;let re=Object.keys(ne).map(Number);re.sort(ir);let A,G,I;i.opacity===1&&(!this.containerReused||y.getOpaque(e.viewState.projection))?re=re.reverse():(A=[],G=[]);for(let K=re.length-1;K>=0;--K){const te=re[K],le=y.getTilePixelSize(te,g,o),Le=x.getResolution(te)/C,pe=le[0]*Le*Q,at=le[1]*Le*Q,yn=x.getTileCoordForCoordAndZ(ur(q),te),Dn=x.getTileCoordExtent(yn),pn=Ct(this.tempTransform,[R*(Dn[0]-q[0])/C,R*(q[3]-Dn[3])/C]),$n=R*y.getGutterForProjection(o),Kt=ne[te];for(const Oe in Kt){const Ke=Kt[Oe],Ye=Ke.tileCoord,Yt=yn[1]-Ye[1],Nn=Math.round(pn[0]-(Yt-1)*pe),Fn=yn[2]-Ye[2],ji=Math.round(pn[1]-(Fn-1)*at),Ot=Math.round(pn[0]-Yt*pe),Xt=Math.round(pn[1]-Fn*at),nn=Nn-Ot,In=ji-Xt,xn=v===te,$e=xn&&Ke.getAlpha(ve(this),e.time)!==1;let bt=!1;if(!$e)if(A){I=[Ot,Xt,Ot+nn,Xt,Ot+nn,Xt+In,Ot,Xt+In];for(let lt=0,hr=A.length;lt<hr;++lt)if(v!==te&&te<G[lt]){const Tt=A[lt];qt([Ot,Xt,Ot+nn,Xt+In],[Tt[0],Tt[3],Tt[4],Tt[7]])&&(bt||(P.save(),bt=!0),P.beginPath(),P.moveTo(I[0],I[1]),P.lineTo(I[2],I[3]),P.lineTo(I[4],I[5]),P.lineTo(I[6],I[7]),P.moveTo(Tt[6],Tt[7]),P.lineTo(Tt[4],Tt[5]),P.lineTo(Tt[2],Tt[3]),P.lineTo(Tt[0],Tt[1]),P.clip())}A.push(I),G.push(te)}else P.clearRect(Ot,Xt,nn,In);this.drawTileImage(Ke,e,Ot,Xt,nn,In,$n,xn),A&&!$e?(bt&&P.restore(),this.renderedTiles.unshift(Ke)):this.renderedTiles.push(Ke),this.updateUsedTiles(e.usedTiles,y,Ke)}}return this.renderedRevision=p,this.renderedResolution=C,this.extentChanged=!this.renderedExtent_||!jl(this.renderedExtent_,q),this.renderedExtent_=q,this.renderedPixelRatio=g,this.renderedProjection=o,this.manageTilePyramid(e,y,x,g,o,S,v,m.getPreload()),this.scheduleExpireCache(e,y),this.postRender(P,e),i.extent&&P.restore(),P.imageSmoothingEnabled=!0,N!==Z.style.transform&&(Z.style.transform=N),this.container}drawTileImage(e,t,i,a,o,c,h,f){const g=this.getTileImage(e);if(!g)return;const m=ve(this),y=t.layerStatesArray[t.layerIndex],p=y.opacity*(f?e.getAlpha(m,t.time):1),x=p!==this.context.globalAlpha;x&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(g,h,h,g.width-2*h,g.height-2*h,i,a,o,c),x&&this.context.restore(),p!==y.opacity?t.animate=!0:f&&e.endTransition(m)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){const i=(function(a,o,c){const h=ve(a);h in c.usedTiles&&a.expireCache(c.viewState.projection,c.usedTiles[h])}).bind(null,t);e.postRenderFunctions.push(i)}}updateUsedTiles(e,t,i){const a=ve(t);a in e||(e[a]={}),e[a][i.getKey()]=!0}manageTilePyramid(e,t,i,a,o,c,h,f,g){const m=ve(t);m in e.wantedTiles||(e.wantedTiles[m]={});const y=e.wantedTiles[m],p=e.tileQueue,x=i.getMinZoom(),v=e.viewState.rotation,C=v?Ld(e.viewState.center,e.viewState.resolution,v,e.size):void 0;let S=0,T,R,w,O,D,U;for(U=x;U<=h;++U)for(R=i.getTileRangeForExtentAndZ(c,U,R),w=i.getResolution(U),O=R.minX;O<=R.maxX;++O)for(D=R.minY;D<=R.maxY;++D)v&&!i.tileCoordIntersectsViewport([U,O,D],C)||(h-U<=f?(++S,T=t.getTile(U,O,D,a,o),T.getState()==fe.IDLE&&(y[T.getKey()]=!0,p.isKeyQueued(T.getKey())||p.enqueue([T,m,i.getTileCoordCenter(T.tileCoord),w])),g!==void 0&&g(T)):t.useTile(U,O,D,o));t.updateCacheSize(S,o)}}const zu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},ia=[0,0,0],ds=5;class _v{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Te(VR(this.resolutions_,function(a,o){return o-a}),17);let t;if(!e.origins){for(let a=0,o=this.resolutions_.length-1;a<o;++a)if(!t)t=this.resolutions_[a]/this.resolutions_[a+1];else if(this.resolutions_[a]/this.resolutions_[a+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Te(this.origins_.length==this.resolutions_.length,20));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ur(i)),Te(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Te(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Lg,Te(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(a,o){const c=new Gg(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(i){const h=this.getTileRangeForExtentAndZ(i,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const a=this.getTileRangeForExtentAndZ(e,t);for(let o=a.minX,c=a.maxX;o<=c;++o)for(let h=a.minY,f=a.maxY;h<=f;++h)i([t,o,h])}forEachTileCoordParentTileRange(e,t,i,a){let o,c,h,f=null,g=e[0]-1;for(this.zoomFactor_===2?(c=e[1],h=e[2]):f=this.getTileCoordExtent(e,a);g>=this.minZoom;){if(this.zoomFactor_===2?(c=Math.floor(c/2),h=Math.floor(h/2),o=na(c,c,h,h,i)):o=this.getTileRangeForExtentAndZ(f,g,i),t(g,o))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const o=e[1]*2,c=e[2]*2;return na(o,o+1,c,c+1,t)}const a=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const a=e[0],o=e[1],c=e[2];if(t===a)return na(o,c,o,c,i);if(this.zoomFactor_){const f=Math.pow(this.zoomFactor_,t-a),g=Math.floor(o*f),m=Math.floor(c*f);if(t<a)return na(g,g,m,m,i);const y=Math.floor(f*(o+1))-1,p=Math.floor(f*(c+1))-1;return na(g,y,m,p,i)}const h=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,t,i)}getTileRangeExtent(e,t,i){const a=this.getOrigin(e),o=this.getResolution(e),c=mn(this.getTileSize(e),this.tmpSize_),h=a[0]+t.minX*c[0]*o,f=a[0]+(t.maxX+1)*c[0]*o,g=a[1]+t.minY*c[1]*o,m=a[1]+(t.maxY+1)*c[1]*o;return ki(h,g,f,m,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,ia);const a=ia[1],o=ia[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,ia);const c=ia[1],h=ia[2];return na(a,c,o,h,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),a=mn(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*a[0]*i,t[1]-(e[2]+.5)*a[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),a=this.getResolution(e[0]),o=mn(this.getTileSize(e[0]),this.tmpSize_),c=i[0]+e[1]*o[0]*a,h=i[1]-(e[2]+1)*o[1]*a,f=c+o[0]*a,g=h+o[1]*a;return ki(c,h,f,g,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,a,o){const c=this.getZForResolution(i),h=i/this.getResolution(c),f=this.getOrigin(c),g=mn(this.getTileSize(c),this.tmpSize_);let m=h*(e-f[0])/i/g[0],y=h*(f[1]-t)/i/g[1];return a?(m=Au(m,ds)-1,y=Au(y,ds)-1):(m=wu(m,ds),y=wu(y,ds)),q0(c,m,y,o)}getTileCoordForXYAndZ_(e,t,i,a,o){const c=this.getOrigin(i),h=this.getResolution(i),f=mn(this.getTileSize(i),this.tmpSize_);let g=(e-c[0])/h/f[0],m=(c[1]-t)/h/f[1];return a?(g=Au(g,ds)-1,m=Au(m,ds)-1):(g=wu(g,ds),m=wu(m,ds)),q0(i,g,m,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=og(this.resolutions_,e,t||0);return ht(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return M1(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let a=this.minZoom;a<t;++a)i[a]=this.getTileRangeForExtentAndZ(e,a);this.fullTileRanges_=i}}const dd={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function yv(r){let e=r.getDefaultTileGrid();return e||(e=cM(r),r.setDefaultTileGrid(e)),e}function lM(r,e,t){const i=e[0],a=r.getTileCoordCenter(e),o=jg(t);if(!Ec(o,a)){const c=Ve(o),h=Math.ceil((o[0]-a[0])/c);return a[0]+=c*h,r.getTileCoordForCoordAndZ(a,i)}return e}function oM(r,e,t,i){i=i!==void 0?i:"top-left";const a=pv(r,e,t);return new _v({extent:r,origin:lw(r,i),resolutions:a,tileSize:t})}function uM(r){const e=r||{},t=e.extent||yt("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:pv(t,e.maxZoom,e.tileSize,e.maxResolution)};return new _v(i)}function pv(r,e,t,i){e=e!==void 0?e:m2,t=mn(t!==void 0?t:Lg);const a=di(r),o=Ve(r);i=i>0?i:Math.max(o/t[0],a/t[1]);const c=e+1,h=new Array(c);for(let f=0;f<c;++f)h[f]=i/Math.pow(2,f);return h}function cM(r,e,t,i){const a=jg(r);return oM(a,e,t,i)}function jg(r){r=yt(r);let e=r.getExtent();if(!e){const t=180*dg.degrees/r.getMetersPerUnit();e=ki(-t,-t,t,t)}return e}class hM extends J1{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&mn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tileCache=new gv(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){const i=this.getTileCacheForProjection(e);i&&i.expireCache(t)}forEachLoadedTile(e,t,i,a){const o=this.getTileCacheForProjection(e);if(!o)return!1;let c=!0,h,f,g;for(let m=i.minX;m<=i.maxX;++m)for(let y=i.minY;y<=i.maxY;++y)f=Nc(t,m,y),g=!1,o.containsKey(f)&&(h=o.get(f),g=h.getState()===fe.LOADED,g&&(g=a(h)!==!1)),g||(c=!1);return c}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,a,o){return ye()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:yv(e)}getTileCacheForProjection(e){const t=this.getProjection();return Te(t===null||Xs(t,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const a=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),c=mn(a.getTileSize(e),this.tmpSize);return o==1?c:Ww(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=t!==void 0?t:this.getProjection();const i=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=lM(i,e,t)),QA(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){const i=this.getTileCacheForProjection(t);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,t,i,a){}}class fM extends Qn{constructor(e,t){super(e),this.tile=t}}function dM(r,e){const t=/\{z\}/g,i=/\{x\}/g,a=/\{y\}/g,o=/\{-y\}/g;return function(c,h,f){if(c)return r.replace(t,c[0].toString()).replace(i,c[1].toString()).replace(a,c[2].toString()).replace(o,function(){const g=c[0],m=e.getFullTileRange(g);return Te(m,55),(m.getHeight()-c[2]-1).toString()})}}function gM(r,e){const t=r.length,i=new Array(t);for(let a=0;a<t;++a)i[a]=dM(r[a],e);return mM(i)}function mM(r){return r.length===1?r[0]:function(e,t,i){if(!e)return;const a=WA(e),o=$s(a,r.length);return r[o](e,t,i)}}function _M(r){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(r);if(t){const i=t[1].charCodeAt(0),a=t[2].charCodeAt(0);let o;for(o=i;o<=a;++o)e.push(r.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){const i=parseInt(t[2],10);for(let a=parseInt(t[1],10);a<=i;a++)e.push(r.replace(t[0],a.toString()));return e}return e.push(r),e}class Ug extends hM{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Ug.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=ve(t),a=t.getState();let o;a==fe.LOADING?(this.tileLoadingKeys_[i]=!0,o=dd.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=a==fe.ERROR?dd.TILELOADERROR:a==fe.LOADED?dd.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new fM(o,t))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=_M(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(gM(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}useTile(e,t,i){const a=Nc(e,t,i);this.tileCache.containsKey(a)&&this.tileCache.get(a)}}class yM extends $A{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Pu(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Pu(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return ye()}readFeaturesFromObject(e,t){return ye()}readGeometry(e,t){return this.readGeometryFromObject(Pu(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return ye()}readProjection(e){return this.readProjectionFromObject(Pu(e))}readProjectionFromObject(e){return ye()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return ye()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return ye()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return ye()}}function Pu(r){if(typeof r=="string"){const e=JSON.parse(r);return e||null}else if(r!==null)return r;return null}class Bg extends yM{constructor(e){e=e||{},super(),this.dataProjection=yt(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=yt(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const a=Hd(i.geometry,t),o=new Ut;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&o.setGeometryName(i.geometry_name),o.setGeometry(a),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(e,t){const i=e;let a=null;if(i.type==="FeatureCollection"){const o=e;a=[];const c=o.features;for(let h=0,f=c.length;h<f;++h)a.push(this.readFeatureFromObject(c[h],t))}else a=[this.readFeatureFromObject(e,t)];return a}readGeometryFromObject(e,t){return Hd(e,t)}readProjectionFromObject(e){const t=e.crs;let i;return t?t.type=="name"?i=yt(t.properties.name):t.type==="EPSG"?i=yt("EPSG:"+t.properties.code):Te(!1,36):i=this.dataProjection,i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},a=e.getId();if(a!==void 0&&(i.id=a),!e.hasProperties())return i;const o=e.getProperties(),c=e.getGeometry();return c&&(i.geometry=Vd(c,t),delete o[e.getGeometryName()]),ma(o)||(i.properties=o),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let a=0,o=e.length;a<o;++a)i.push(this.writeFeatureObject(e[a],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return Vd(e,this.adaptOptions(t))}}function Hd(r,e){if(!r)return null;let t;switch(r.type){case"Point":{t=xM(r);break}case"LineString":{t=vM(r);break}case"Polygon":{t=bM(r);break}case"MultiPoint":{t=SM(r);break}case"MultiLineString":{t=EM(r);break}case"MultiPolygon":{t=CM(r);break}case"GeometryCollection":{t=pM(r);break}default:throw new Error("Unsupported GeoJSON type: "+r.type)}return mv(t,!1,e)}function pM(r,e){const t=r.geometries.map(function(i){return Hd(i,e)});return new ac(t)}function xM(r){return new Ln(r.coordinates)}function vM(r){return new ar(r.coordinates)}function EM(r){return new lc(r.coordinates)}function SM(r){return new Fc(r.coordinates)}function CM(r){return new oc(r.coordinates)}function bM(r){return new Gt(r.coordinates)}function Vd(r,e){r=mv(r,!0,e);const t=r.getType();let i;switch(t){case"Point":{i=OM(r);break}case"LineString":{i=RM(r);break}case"Polygon":{i=LM(r,e);break}case"MultiPoint":{i=AM(r);break}case"MultiLineString":{i=wM(r);break}case"MultiPolygon":{i=MM(r,e);break}case"GeometryCollection":{i=TM(r,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function TM(r,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:r.getGeometriesArray().map(function(i){return Vd(i,e)})}}function RM(r,e){return{type:"LineString",coordinates:r.getCoordinates()}}function wM(r,e){return{type:"MultiLineString",coordinates:r.getCoordinates()}}function AM(r,e){return{type:"MultiPoint",coordinates:r.getCoordinates()}}function MM(r,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:r.getCoordinates(t)}}function OM(r,e){return{type:"Point",coordinates:r.getCoordinates()}}function LM(r,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:r.getCoordinates(t)}}class DM extends Dc{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(zu.PRELOAD)}setPreload(e){this.set(zu.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(zu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(zu.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class J0 extends DM{constructor(e){super(e)}createRenderer(){return new aM(this)}}class NM extends Ug{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:FM,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:ev,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?t:{});for(const a in this.tileCacheForProjection){const o=this.tileCacheForProjection[a];o.expireCache(o==i?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Xs(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Xs(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||Xs(t,e)))return this.tileGrid;const i=ve(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=yv(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const t=this.getProjection();if(!t||Xs(t,e))return this.tileCache;const i=ve(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new gv(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,t,i,a,o,c){const h=[e,t,i],f=this.getTileCoordForTileUrlFunction(h,o),g=f?this.tileUrlFunction(f,a,o):void 0,m=new this.tileClass(h,g!==void 0?fe.IDLE:fe.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(xe.CHANGE,this.handleTileChange.bind(this)),m}getTile(e,t,i,a,o){const c=this.getProjection();if(!c||!o||Xs(c,o))return this.getTileInternal(e,t,i,a,c||o);const h=this.getTileCacheForProjection(o),f=[e,t,i];let g;const m=dv(f);h.containsKey(m)&&(g=h.get(m));const y=this.getKey();if(g&&g.key==y)return g;const p=this.getTileGridForProjection(c),x=this.getTileGridForProjection(o),v=this.getTileCoordForTileUrlFunction(f,o),C=new Xd(c,p,o,x,f,v,this.getTilePixelRatio(a),this.getGutter(),(S,T,R,w)=>this.getTileInternal(S,T,R,w,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return C.key=y,g?(C.interimTile=g,C.refreshInterimChain(),h.replace(m,C)):h.set(m,C),C}getTileInternal(e,t,i,a,o){let c=null;const h=Nc(e,t,i),f=this.getKey();if(!this.tileCache.containsKey(h))c=this.createTile_(e,t,i,a,o,f),this.tileCache.set(h,c);else if(c=this.tileCache.get(h),c.key!=f){const g=c;c=this.createTile_(e,t,i,a,o,f),g.getState()==fe.IDLE?c.interimTile=g.interimTile:c.interimTile=g,c.refreshInterimChain(),this.tileCache.replace(h,c)}return c}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){const i=yt(e);if(i){const a=ve(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=t)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function FM(r,e){r.getImage().src=e}class xv extends NM{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:uM({extent:jg(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const IM='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class zM extends xv{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[IM];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",a=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:a,wrapX:e.wrapX,zDirection:e.zDirection})}}const jt={base:new it({stroke:new Mt({color:"#FFFFFF",width:5}),fill:new Pt({color:"rgba(255, 255, 255, 0.05)"})}),draw:new it({stroke:new Mt({color:"#FF4D00",width:4,lineDash:[0,0,10,10]}),fill:new Pt({color:"rgba(255, 77, 0, 0.2)"})}),edit:new it({stroke:new Mt({color:"#00FFFF",width:4,lineDash:[0,0,10,10]}),fill:new Pt({color:"rgba(0, 255, 255, 0.15)"})}),vertexEdit:new it({image:new Yn({radius:6,fill:new Pt({color:"#00FFFF"}),stroke:new Mt({color:"#FFFFFF",width:3})})}),vertexIntermediate:new it({image:new Yn({radius:4.5,fill:new Pt({color:"#777777"}),stroke:new Mt({color:"#FFFFFF",width:2.5})})}),vertexDelete:new it({image:new Yn({radius:6,fill:new Pt({color:"#860000"}),stroke:new Mt({color:"#FF0000",width:4})})}),vertexDraw:new it({image:new Yn({radius:6,fill:new Pt({color:"#FF4D00"}),stroke:new Mt({color:"#FFFFFF",width:3})})}),previewVertex:new it({image:new Yn({radius:6,fill:new Pt({color:"#777777"}),stroke:new Mt({color:"#FFFFFF",width:3})})}),previewVertexSnap:new it({image:new Yn({radius:6,fill:new Pt({color:"#FFFFFF"}),stroke:new Mt({color:"#FF4D00",width:3})})}),previewLine:new it({stroke:new Mt({color:"#FF8300",width:4,lineDash:[0,0,10,10]})})};function PM(r,{setMode:e,setArea:t,setTooltipText:i}){const a=L.useRef([]),o=L.useRef([]),c=L.useRef(null),h=L.useRef(null),f=L.useRef(null),g=L.useRef(null),m=L.useRef(null),y=L.useRef(null),p=L.useRef(null),x=L.useRef(!1),[v,C]=L.useState(!1),[S,T]=L.useState(!1),[R,w]=L.useState(!1),O=15,D=()=>{a.current=[],o.current=[],c.current=null,h.current=null,p.current=null,C(!1),t(0),T(!1),w(!1),i("")},U=L.useRef(G=>{x.current&&Xn.modeRef.current==="draw"&&a.current.length>=3&&(T(!0),N(),G.preventDefault())}).current,H=G=>{if(!m.current||a.current.length===0)return;c.current&&m.current.removeFeature(c.current);const I=a.current[a.current.length-1],K=new ar([I,G]);c.current=new Ut(K),c.current.setStyle(jt.previewLine),m.current.addFeature(c.current)},q=(G,I)=>{m.current&&(h.current?h.current.getGeometry().setCoordinates(G):(h.current=new Ut(new Ln(G)),m.current.addFeature(h.current)),h.current.setStyle(I?jt.previewVertexSnap:jt.previewVertex))},$=G=>{const I=new Ut(new Ln(G));I.setStyle(jt.vertexDraw),o.current.push(I),m.current.addFeature(I)},ne=()=>{if(!m.current||a.current.length<2)return;m.current.getFeatures().forEach(I=>{I.getGeometry()instanceof Gt&&m.current.removeFeature(I)});const G=new Ut(new Gt([a.current]));G.setStyle(jt.draw),m.current.addFeature(G)},se=()=>{const G=r.current;if(!G||a.current.length<3){f.current&&(G.removeOverlay(f.current),f.current=null),t(0);return}const I=new Gt([a.current]),K=Tc(I,{projection:"EPSG:3857"});t(K);const te=`${(K/1e4).toFixed(2)} ha`,le=I.getInteriorPoint().getCoordinates();if(!f.current){const oe=document.createElement("div");oe.className="area-label",oe.textContent=te,f.current=new Yd({element:oe,positioning:"center-center",stopEvent:!1}),G.addOverlay(f.current)}f.current.getElement().textContent=te,f.current.setPosition(le)},ie=(G,I)=>{const K=r.current;if(K){if(!g.current){const te=document.createElement("div");te.className="map-tooltip",g.current=new Yd({element:te,offset:[0,-15],positioning:"bottom-center",className:"ol-tooltip-text"}),K.addOverlay(g.current)}g.current.getElement().textContent=G,g.current.setPosition(I)}},ae=L.useRef(G=>{if(!x.current||Xn.modeRef.current!=="draw")return;const I=r.current,K=G.coordinate,te=a.current[0];if(te&&I.getPixelFromCoordinate(K)&&I.getPixelFromCoordinate(te)&&gd(I.getPixelFromCoordinate(K),I.getPixelFromCoordinate(te))<O&&a.current.length>=3){a.current.push(te),T(!0),N();return}a.current.push(K),$(K),ne(),se(),a.current.length>0?w(!0):w(!1);const Le=a.current.length===1?"Click para continuar dibujando":"Click para cerrar polgono";i(Le),ie(Le,K),C(a.current.length>=3)}).current,ge=L.useRef(G=>{if(!x.current||Xn.modeRef.current!=="draw")return;const I=r.current,K=G.coordinate,te=a.current[0],oe=(te?gd(I.getPixelFromCoordinate(K),I.getPixelFromCoordinate(te)):1/0)<O,Le=oe?"Click sobre el primer punto para cerrar":a.current.length===0?"Click para colocar el primer vrtice":"Click para continuar dibujando";i(Le),ie(Le,K),H(K),q(K,oe)}).current,Q=()=>{const G=r.current;G&&(P(),y.current&&G.removeLayer(y.current),m.current=new lr,y.current=new Ss({source:m.current}),G.addLayer(y.current),G.on("click",ae),G.on("pointermove",ge),G.on("dblclick",U),D(),e("draw"),i("Click para colocar el primer vrtice"),document.body.classList.add("draw-mode"),f.current&&(G.removeOverlay(f.current),f.current=null),g.current&&(G.removeOverlay(g.current),g.current=null),x.current=!0)},N=()=>{const G=r.current;if(!G||a.current.length<3)return;const I=a.current[0],K=a.current[a.current.length-1];I&&K&&gd(I,K)>1&&a.current.push(I),m.current&&(o.current.forEach(le=>m.current.removeFeature(le)),c.current&&m.current.removeFeature(c.current),h.current&&m.current.removeFeature(h.current),m.current.getFeatures().forEach(le=>{le.getGeometry()instanceof Gt&&m.current.removeFeature(le)}));const te=new Gt([a.current]);p.current=new Ut(te),m.current.addFeature(p.current),g.current&&(G.removeOverlay(g.current),g.current=null),document.body.classList.remove("draw-mode"),e("draw-finished"),i(""),a.current=[],o.current=[],c.current=null,h.current=null,C(!1),typeof Xn.onFinishCallback.current=="function"&&Xn.onFinishCallback.current(p.current)},P=()=>{const G=r.current;G&&(G.on("click",ae),G.on("pointermove",ge),G.on("dblclick",U),D(),g.current&&(G.removeOverlay(g.current),g.current=null),document.body.classList.remove("draw-mode"),e(null),i(""),f.current&&(G.removeOverlay(f.current),f.current=null),y.current&&(G.removeLayer(y.current),y.current=null,m.current=null),document.body.classList.remove("draw-mode"),x.current=!1)},Z=()=>P(),re=()=>{if(!a.current.length)return;a.current.pop();const G=o.current.pop();if(G&&m.current&&m.current.removeFeature(G),c.current&&m.current&&(m.current.removeFeature(c.current),c.current=null),m.current&&m.current.getFeatures().forEach(I=>{I.getGeometry()instanceof Gt&&m.current.removeFeature(I)}),a.current.length>=2){const I=new Ut(new Gt([a.current]));I.setStyle(jt.draw),m.current.addFeature(I)}if(a.current.length>=1&&g.current){const I=g.current.getPosition();I&&H(I)}se(),w(a.current.length>0),C(a.current.length>=3)},A=()=>p.current||null;return L.useEffect(()=>P,[]),{enableDraw:Q,disableDraw:P,cancelDraw:Z,endPolygon:N,removeLastPoint:re,getCreatedFeature:A,canFinish:v,closedBySnap:S,firstVertexDraw:R}}function gd(r,e){const t=r[0]-e[0],i=r[1]-e[1];return Math.sqrt(t*t+i*i)}const $0=0,Pl=1,ex=[0,0,0,0],ha=[],md={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class _d extends Qn{constructor(e,t,i){super(e),this.features=t,this.mapBrowserEvent=i}}class kM extends wa{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:ov,this.defaultDeleteCondition_=function(i){return NA(i)&&sv(i)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:nv,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new jd,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new Ss({source:new lr({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:jM(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let t;if(e.features?t=e.features:e.source&&(this.source_=e.source,t=new _n(this.source_.getFeatures()),this.source_.addEventListener(dn.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(dn.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!t)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=t,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(ct.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(ct.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const t=e.getGeometry();if(t){const a=this.SEGMENT_WRITERS_[t.getType()];a&&a(e,t)}const i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),e.addEventListener(xe.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new _n;const i=this.featuresBeingModified_.getArray();for(let a=0,o=t.length;a<o;++a){const c=t[a];for(let h=0,f=c.length;h<f;++h){const g=c[h].feature;g&&!i.includes(g)&&this.featuresBeingModified_.push(g)}}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new _d(md.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(xe.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const t=this.rBush_,i=[];t.forEach(function(a){e===a.feature&&i.push(a)});for(let a=i.length-1;a>=0;--a){const o=i[a];for(let c=this.dragSegments_.length-1;c>=0;--c)this.dragSegments_[c][0]===o&&this.dragSegments_.splice(c,1);t.remove(o)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const t=e.target;this.removeFeature_(t),this.addFeature_(t)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,t){const i=t.getCoordinates(),a={feature:e,geometry:t,segment:[i,i]};this.rBush_.insert(t.getExtent(),a)}writeMultiPointGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length;a<o;++a){const c=i[a],h={feature:e,geometry:t,depth:[a],index:a,segment:[c,c]};this.rBush_.insert(t.getExtent(),h)}}writeLineStringGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length-1;a<o;++a){const c=i.slice(a,a+2),h={feature:e,geometry:t,index:a,segment:c};this.rBush_.insert(Un(c),h)}}writeMultiLineStringGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length;a<o;++a){const c=i[a];for(let h=0,f=c.length-1;h<f;++h){const g=c.slice(h,h+2),m={feature:e,geometry:t,depth:[a],index:h,segment:g};this.rBush_.insert(Un(g),m)}}}writePolygonGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length;a<o;++a){const c=i[a];for(let h=0,f=c.length-1;h<f;++h){const g=c.slice(h,h+2),m={feature:e,geometry:t,depth:[a],index:h,segment:g};this.rBush_.insert(Un(g),m)}}}writeMultiPolygonGeometry_(e,t){const i=t.getCoordinates();for(let a=0,o=i.length;a<o;++a){const c=i[a];for(let h=0,f=c.length;h<f;++h){const g=c[h];for(let m=0,y=g.length-1;m<y;++m){const p=g.slice(m,m+2),x={feature:e,geometry:t,depth:[h,a],index:m,segment:p};this.rBush_.insert(Un(p),x)}}}}writeCircleGeometry_(e,t){const i=t.getCenter(),a={feature:e,geometry:t,index:$0,segment:[i,i]},o={feature:e,geometry:t,index:Pl,segment:[i,i]},c=[a,o];a.featureSegments=c,o.featureSegments=c,this.rBush_.insert(Hu(i),a);let h=t;this.rBush_.insert(h.getExtent(),o)}writeGeometryCollectionGeometry_(e,t){const i=t.getGeometriesArray();for(let a=0;a<i.length;++a){const o=i[a],c=this.SEGMENT_WRITERS_[o.getType()];c(e,o)}}createOrUpdateVertexFeature_(e,t,i){let a=this.vertexFeature_;return a?a.getGeometry().setCoordinates(e):(a=new Ut(new Ln(e)),this.vertexFeature_=a,this.overlay_.getSource().addFeature(a)),a.set("features",t),a.set("geometries",i),a}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let t;return!e.map.getView().getInteracting()&&e.type==Ue.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=Ue.SINGLECLICK||!this.ignoreNextSingleClick_?t=this.removePoint():t=!0),e.type==Ue.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!t}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],i=[],a=[];for(let o=0,c=this.dragSegments_.length;o<c;++o){const h=this.dragSegments_[o],f=h[0],g=f.feature;i.includes(g)||i.push(g);const m=f.geometry;a.includes(m)||a.push(m);const y=f.depth;let p;const x=f.segment,v=h[1];for(;t.length<m.getStride();)t.push(x[v][t.length]);switch(m.getType()){case"Point":p=t,x[0]=t,x[1]=t;break;case"MultiPoint":p=m.getCoordinates(),p[f.index]=t,x[0]=t,x[1]=t;break;case"LineString":p=m.getCoordinates(),p[f.index+v]=t,x[v]=t;break;case"MultiLineString":p=m.getCoordinates(),p[y[0]][f.index+v]=t,x[v]=t;break;case"Polygon":p=m.getCoordinates(),p[y[0]][f.index+v]=t,x[v]=t;break;case"MultiPolygon":p=m.getCoordinates(),p[y[1]][y[0]][f.index+v]=t,x[v]=t;break;case"Circle":if(x[0]=t,x[1]=t,f.index===$0)this.changingFeature_=!0,m.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let C=f0(mt(m.getCenter()),mt(t));m.setRadius(C),this.changingFeature_=!1}break}p&&this.setGeometryCoordinates_(m,p)}this.createOrUpdateVertexFeature_(t,i,a)}handleDownEvent(e){if(!this.condition_(e))return!1;const t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;const i=this.vertexFeature_;if(i){e.map.getView().getProjection();const a=[],o=i.getGeometry().getCoordinates(),c=Un([o]),h=this.rBush_.getInExtent(c),f={};h.sort(GM);for(let g=0,m=h.length;g<m;++g){const y=h[g],p=y.segment;let x=ve(y.geometry);const v=y.depth;if(v&&(x+="-"+v.join("-")),f[x]||(f[x]=new Array(2)),y.geometry.getType()==="Circle"&&y.index===Pl){const C=nx(t,y);Bn(C,o)&&!f[x][0]&&(this.dragSegments_.push([y,0]),f[x][0]=y);continue}if(Bn(p[0],o)&&!f[x][0]){this.dragSegments_.push([y,0]),f[x][0]=y;continue}if(Bn(p[1],o)&&!f[x][1]){if(f[x][0]&&f[x][0].index===0){let C=y.geometry.getCoordinates();switch(y.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":C=C[v[1]];case"Polygon":if(y.index!==C[v[0]].length-2)continue;break}}this.dragSegments_.push([y,1]),f[x][1]=y;continue}ve(p)in this.vertexSegments_&&!f[x][0]&&!f[x][1]&&this.insertVertexCondition_(e)&&a.push(y)}a.length&&this.willModifyFeatures_(e,[a]);for(let g=a.length-1;g>=0;--g)this.insertVertex_(a[g],o)}return!!this.vertexFeature_}handleUpEvent(e){for(let t=this.dragSegments_.length-1;t>=0;--t){const i=this.dragSegments_[t][0],a=i.geometry;if(a.getType()==="Circle"){const o=a.getCenter(),c=i.featureSegments[0],h=i.featureSegments[1];c.segment[0]=o,c.segment[1]=o,h.segment[0]=o,h.segment[1]=o,this.rBush_.update(Hu(o),c);let f=a;this.rBush_.update(f.getExtent(),h)}else this.rBush_.update(Un(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new _d(md.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,t,i){const a=i||t.getCoordinateFromPixel(e);t.getView().getProjection();const o=function(f,g){return tx(a,f)-tx(a,g)};let c,h;if(this.hitDetection_){const f=typeof this.hitDetection_=="object"?g=>g===this.hitDetection_:void 0;t.forEachFeatureAtPixel(e,(g,m,y)=>{const p=y||g.getGeometry();if(p.getType()==="Point"&&g instanceof Ut&&this.features_.getArray().includes(g)){h=p;const x=h.getFlatCoordinates().slice(0,2);c=[{feature:g,geometry:h,segment:[x,x]}]}return!0},{layerFilter:f})}if(!c){const f=_s(Hu(a,ex)),g=t.getView().getResolution()*this.pixelTolerance_,m=Eg(vc(f,g,ex));c=this.rBush_.getInExtent(m)}if(c&&c.length>0){const f=c.sort(o)[0],g=f.segment;let m=nx(a,f);const y=t.getPixelFromCoordinate(m);let p=f0(e,y);if(h||p<=this.pixelTolerance_){const x={};if(x[ve(g)]=!0,this.snapToPointer_||(this.delta_[0]=m[0]-a[0],this.delta_[1]=m[1]-a[1]),f.geometry.getType()==="Circle"&&f.index===Pl)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(m,[f.feature],[f.geometry]);else{const v=t.getPixelFromCoordinate(g[0]),C=t.getPixelFromCoordinate(g[1]),S=Ul(y,v),T=Ul(y,C);p=Math.sqrt(Math.min(S,T)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(m=S>T?g[1]:g[0]),this.createOrUpdateVertexFeature_(m,[f.feature],[f.geometry]);const R={};R[ve(f.geometry)]=!0;for(let w=1,O=c.length;w<O;++w){const D=c[w].segment;if(Bn(g[0],D[0])&&Bn(g[1],D[1])||Bn(g[0],D[1])&&Bn(g[1],D[0])){const U=ve(c[w].geometry);U in R||(R[U]=!0,x[ve(D)]=!0)}else break}}this.vertexSegments_=x;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,t){const i=e.segment,a=e.feature,o=e.geometry,c=e.depth,h=e.index;let f;for(;t.length<o.getStride();)t.push(0);switch(o.getType()){case"MultiLineString":f=o.getCoordinates(),f[c[0]].splice(h+1,0,t);break;case"Polygon":f=o.getCoordinates(),f[c[0]].splice(h+1,0,t);break;case"MultiPolygon":f=o.getCoordinates(),f[c[1]][c[0]].splice(h+1,0,t);break;case"LineString":f=o.getCoordinates(),f.splice(h+1,0,t);break;default:return}this.setGeometryCoordinates_(o,f);const g=this.rBush_;g.remove(e),this.updateSegmentIndices_(o,h,c,1);const m={segment:[i[0],t],feature:a,geometry:o,depth:c,index:h};g.insert(Un(m.segment),m),this.dragSegments_.push([m,1]);const y={segment:[t,i[1]],feature:a,geometry:o,depth:c,index:h+1};g.insert(Un(y.segment),y),this.dragSegments_.push([y,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Ue.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const t=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new _d(md.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1}removeVertex_(){const e=this.dragSegments_,t={};let i=!1,a,o,c,h,f,g,m,y,p,x,v;for(f=e.length-1;f>=0;--f)c=e[f],x=c[0],v=ve(x.feature),x.depth&&(v+="-"+x.depth.join("-")),v in t||(t[v]={}),c[1]===0?(t[v].right=x,t[v].index=x.index):c[1]==1&&(t[v].left=x,t[v].index=x.index+1);for(v in t){switch(p=t[v].right,m=t[v].left,g=t[v].index,y=g-1,m!==void 0?x=m:x=p,y<0&&(y=0),h=x.geometry,o=h.getCoordinates(),a=o,i=!1,h.getType()){case"MultiLineString":o[x.depth[0]].length>2&&(o[x.depth[0]].splice(g,1),i=!0);break;case"LineString":o.length>2&&(o.splice(g,1),i=!0);break;case"MultiPolygon":a=a[x.depth[1]];case"Polygon":a=a[x.depth[0]],a.length>4&&(g==a.length-1&&(g=0),a.splice(g,1),i=!0,g===0&&(a.pop(),a.push(a[0]),y=a.length-1));break}if(i){this.setGeometryCoordinates_(h,o);const C=[];if(m!==void 0&&(this.rBush_.remove(m),C.push(m.segment[0])),p!==void 0&&(this.rBush_.remove(p),C.push(p.segment[1])),m!==void 0&&p!==void 0){const S={depth:x.depth,feature:x.feature,geometry:x.geometry,index:y,segment:C};this.rBush_.insert(Un(S.segment),S)}this.updateSegmentIndices_(h,g,x.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return i}setGeometryCoordinates_(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}updateSegmentIndices_(e,t,i,a){this.rBush_.forEachInExtent(e.getExtent(),function(o){o.geometry===e&&(i===void 0||o.depth===void 0||Gi(o.depth,i))&&o.index>t&&(o.index+=a)})}}function GM(r,e){return r.index-e.index}function tx(r,e,t){const i=e.geometry;if(i.getType()==="Circle"){let o=i;if(e.index===Pl){const c=Ul(o.getCenter(),mt(r)),h=Math.sqrt(c)-o.getRadius();return h*h}}const a=mt(r);return ha[0]=mt(e.segment[0]),ha[1]=mt(e.segment[1]),bw(a,ha)}function nx(r,e,t){const i=e.geometry;if(i.getType()==="Circle"&&e.index===Pl)return Bl(i.getClosestPoint(mt(r)));const a=mt(r);return ha[0]=mt(e.segment[0]),ha[1]=mt(e.segment[1]),Bl(m1(a,ha))}function jM(){const r=U1();return function(e,t){return r.Point}}const UM={SELECT:"select"};class BM extends Qn{constructor(e,t,i,a){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=a}}const ku={};class Yg extends Ra{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:sv,this.addCondition_=e.addCondition?e.addCondition:V0,this.removeCondition_=e.removeCondition?e.removeCondition:V0,this.toggleCondition_=e.toggleCondition?e.toggleCondition:av,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:sr,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:YM(),this.features_=e.features||new _n;let t;if(e.layers)if(typeof e.layers=="function")t=e.layers;else{const i=e.layers;t=function(a){return i.includes(a)}}else t=sr;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[ve(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[ve(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(ct.ADD,this.boundAddFeature_),this.features_.addEventListener(ct.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(ct.ADD,this.boundAddFeature_),this.features_.removeEventListener(ct.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const i=this.getMap().getAllLayers().find(function(a){if(a instanceof Ss&&a.getSource()&&a.getSource().hasFeature(t))return a});i&&this.addFeatureLayerAssociation_(t,i)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=ve(e);t in ku||(ku[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let a=t.length-1;a>=0;--a){const o=t[a];if(o!==this&&o instanceof Yg&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(o.getStyle());return}}const i=ve(e);e.setStyle(ku[i]),delete ku[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[ve(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),i=this.removeCondition_(e),a=this.toggleCondition_(e),o=!t&&!i&&!a,c=e.map,h=this.getFeatures(),f=[],g=[];if(o){Ca(this.featureLayerAssociation_),c.forEachFeatureAtPixel(e.pixel,(m,y)=>{if(!(!(m instanceof Ut)||!this.filter_(m,y)))return this.addFeatureLayerAssociation_(m,y),g.push(m),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let m=h.getLength()-1;m>=0;--m){const y=h.item(m),p=g.indexOf(y);p>-1?g.splice(p,1):(h.remove(y),f.push(y))}g.length!==0&&h.extend(g)}else{c.forEachFeatureAtPixel(e.pixel,(m,y)=>{if(!(!(m instanceof Ut)||!this.filter_(m,y)))return(t||a)&&!h.getArray().includes(m)?(this.addFeatureLayerAssociation_(m,y),g.push(m)):(i||a)&&h.getArray().includes(m)&&(f.push(m),this.removeFeatureLayerAssociation_(m)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let m=f.length-1;m>=0;--m)h.remove(f[m]);h.extend(g)}return(g.length>0||f.length>0)&&this.dispatchEvent(new BM(UM.SELECT,g,f,e)),!0}}function YM(){const r=U1();return Hn(r.Polygon,r.LineString),Hn(r.GeometryCollection,r.LineString),function(e){return e.getGeometry()?r[e.getGeometry().getType()]:null}}function XM(r,{setMode:e},t=()=>{}){const i=L.useRef(null),a=L.useRef(null),o=L.useRef([]),c=L.useRef([]),h=L.useRef(!1),f=L.useRef(null),g=L.useRef(null),m=L.useRef(null),y=L.useRef(null),p=U=>{const H=r.current;if(!H||!U)return;S();const q=U.getGeometry();if(!q)return;e("edit");let $;if(q.getType()==="Polygon"){const N=q.getCoordinates();$=Array.isArray(N[0])?N[0]:[]}else if(q.getType()==="MultiPolygon"){const N=q.getCoordinates();$=Array.isArray(N[0][0])?N[0][0]:[]}else{console.error("Tipo no soportado:",q.getType());return}if($.length<3)return;const ne=new lr,se=new Ss({source:ne,style:jt.edit});i.current=se,H.addLayer(se);const ie=U.clone();ie.setStyle(jt.edit),ne.addFeature(ie),m.current=ie,H.getLayers().forEach(N=>{var Z,re;const P=(Z=N.getSource)==null?void 0:Z.call(N);P&&((re=P.hasFeature)!=null&&re.call(P,U))&&P.removeFeature(U)}),a.current=new Ss({source:new lr,style:null}),H.addLayer(a.current);const ae=new kM({source:ne});f.current=ae;const ge=N=>{H.forEachFeatureAtPixel(N.pixel,P=>{P.get("insertAfter")!==void 0&&(a.current.getSource().removeFeature(P),c.current=c.current.filter(Z=>Z!==P))})};H.on("pointerdown",ge),f.current._pointerDownHandler=ge,H.getOverlays().getArray().forEach(N=>{const P=N.getElement();P&&P.className.includes("area-label")&&H.removeOverlay(N)});const Q=()=>{var I;const N=ie.getGeometry();if(!N||N.getType()!=="Polygon")return;const P=(I=N.getCoordinates())==null?void 0:I[0];if(!P||P.length<3)return;const Z=new Gt([P]),A=`${(Tc(Z,{projection:"EPSG:3857"})/1e4).toFixed(2)} ha`,G=Z.getInteriorPoint().getCoordinates();if(!y.current){const K=document.createElement("div");K.className="area-label",K.textContent=A,y.current=new Yd({element:K,positioning:"center-center",stopEvent:!1}),H.addOverlay(y.current)}y.current.getElement().textContent=A,y.current.setPosition(G)};ae.on("modifyend",N=>{const P=N.features.item(0);if(!P)return;const Z=P.getGeometry(),re=D(Z);x(re),t(O(re)),Q()}),ie.getGeometry().on("change",()=>{const N=ie.getGeometry(),P=D(N);x(P),t(O(P)),Q()}),H.addInteraction(ae),x($),t(O($)),Q()},x=U=>{var ne;const H=r.current,q=(ne=a.current)==null?void 0:ne.getSource();if(!H||!q||!Array.isArray(U)||U.length<2)return;q.clear(),o.current=[],c.current=[];const $=U.slice(0,-1);$.forEach((se,ie)=>{const ae=new Ut(new Ln(se));ae.set("vertexIndex",ie),ae.setStyle(h.current?jt.vertexDelete:jt.vertexEdit),q.addFeature(ae),o.current.push(ae)});for(let se=0;se<$.length;se++){const ie=$[se],ae=$[(se+1)%$.length],ge=[(ie[0]+ae[0])/2,(ie[1]+ae[1])/2],Q=new Ut(new Ln(ge));Q.set("insertAfter",se),Q.setStyle(jt.vertexIntermediate),q.addFeature(Q),c.current.push(Q)}},v=()=>{var ne;const U=r.current,H=(ne=i.current)==null?void 0:ne.getSource(),q=R();if(!U||!H||!q)return;h.current=!0;const $=new Yg({condition:zA,layers:[a.current],filter:se=>se.getGeometry().getType()==="Point"});o.current.forEach(se=>{se.setStyle(jt.vertexDelete)}),$.on("select",se=>{const ie=se.selected[0],ae=ie==null?void 0:ie.get("vertexIndex");if(ae===void 0)return;const ge=w();ge.length<=4||(ge.splice(ae,1),ge[ge.length-1]=ge[0],q.getGeometry().setCoordinates([ge]),x(ge),t(O(ge)))}),g.current=$,U.addInteraction($)},C=()=>{const U=r.current;if(!U||!g.current)return;U.removeInteraction(g.current),g.current=null,h.current=!1,o.current.forEach(q=>{q.setStyle(jt.vertexEdit)}),R()&&x(w())},S=()=>{const U=r.current;if(U){if(i.current&&(U.removeLayer(i.current),i.current=null),a.current&&(U.removeLayer(a.current),a.current=null),f.current){U.removeInteraction(f.current);const H=f.current._pointerDownHandler;H&&U.un("pointerdown",H),f.current=null}g.current&&(U.removeInteraction(g.current),g.current=null),y.current&&(U.removeOverlay(y.current),y.current=null),o.current=[],c.current=[],h.current=!1,m.current=null,e(null)}},T=()=>m.current||null,R=()=>{var U,H;return((H=(U=i.current)==null?void 0:U.getSource())==null?void 0:H.getFeatures().find(q=>q.getGeometry().getType()==="Polygon"))||null},w=()=>{const U=R();return D(U==null?void 0:U.getGeometry())},O=U=>U.map(H=>{const[q,$]=E1(H);return{lat:$,lng:q}}),D=U=>{if(!U||typeof U.getCoordinates!="function")return[];const H=U.getCoordinates();return U.getType()==="Polygon"&&Array.isArray(H)&&Array.isArray(H[0])?H[0]:U.getType()==="MultiPolygon"&&Array.isArray(H)&&Array.isArray(H[0])&&Array.isArray(H[0][0])?H[0][0]:[]};return{activateEditMode:p,clearEdit:S,getEditedFeature:T,activateDeleteMode:v,disableDeleteMode:C}}function vv(r,e=()=>{}){const t=BR(),i=PM(r,{setMode:t.setMode,setArea:t.setArea,setTooltipText:t.setTooltipText}),a=XM(r,{setMode:t.setMode},e);return{...t,...i,...a}}function tr(r){if(!r)return 0;try{return Tc(r,{projection:"EPSG:3857"})}catch{return 0}}function Xg({mapRef:r,parcelas:e,formData:t,clearEdit:i,activateEditMode:a,getCreatedFeature:o,setFormData:c,setAreaCampo:h,setAreaParcela:f,enabled:g=!0,modoVisualizacionCampo:m=!1}){const y=L.useRef(null),p=L.useRef([]),x=()=>{const S=r.current;S&&(p.current.forEach(T=>S.removeLayer(T)),p.current=[],S.getLayers().getArray().forEach(T=>{var w;((w=T.getStyle)==null?void 0:w.call(T))===jt.edit&&S.removeLayer(T)}))},v=S=>{var w;const T=r.current;if(!T)return;const R=o();if((w=R==null?void 0:R.getGeometry())!=null&&w.intersectsCoordinate(S.coordinate)){i(),a(R);return}T.forEachFeatureAtPixel(S.pixel,O=>{if(!O||!O.getGeometry())return;const D=O.getGeometry().getType();if(D!=="Polygon"&&D!=="MultiPolygon")return;const U=O.getId()||O.get("parcela_id"),H=t.campo_id,q=(e[H]||[]).find($=>$.id==U);if(q){c(m?$=>({...$,parcela_id:q.id}):{campo_id:H,parcela_id:q.id,nombre:q.nombre||"",descripcion:q.descripcion||""});try{const $=O.clone();$.setId(q.id),a($)}catch($){console.error("Error al clonar feature:",$)}}})},C=()=>{const S=r.current;if(!S||!t.campo_id)return;i(),x(),y.current&&(S.un("click",y.current),y.current=null),m||(S.on("click",v),y.current=v);const T=e[t.campo_id]||[],R=new Bg;let w=0;if(m){T.forEach(O=>{try{const D=R.readFeature(O,{featureProjection:"EPSG:3857"});if(!D.getGeometry())return;D.setId(O.id);const U=new lr({features:[D]}),H=new Ss({source:U,style:jt.base});S.addLayer(H),p.current.push(H),w+=tr(D.getGeometry())}catch(D){console.error("Error leyendo feature:",D)}}),h(w),f(0);return}if(t.parcela_id===""||t.parcela_id==="temporal")T.forEach(O=>{try{const D=R.readFeature(O,{featureProjection:"EPSG:3857"});if(!D.getGeometry())return;D.setId(O.id);const U=new lr({features:[D]}),H=new Ss({source:U,style:jt.base});S.addLayer(H),p.current.push(H),w+=tr(D.getGeometry())}catch(D){console.error("Error leyendo feature:",D)}}),h(w),f(0);else{const O=T.find(D=>D.id==t.parcela_id);if(O)try{const D=R.readFeature(O,{featureProjection:"EPSG:3857"});if(!D.getGeometry())return;D.setId(O.id),a(D);const U=tr(D.getGeometry());f(U)}catch(D){console.error("Error leyendo feature seleccionada:",D)}}};return L.useEffect(()=>{if(g)return C(),()=>{x(),y.current&&r.current&&(r.current.un("click",y.current),y.current=null)}},[t.campo_id,t.parcela_id,e]),{setFeaturesOnMap:C,clearParcelas:x}}function Hg(r){L.useEffect(()=>()=>{typeof r=="function"&&r()},[])}let yd=null,pd=null;function HM(r,[e,t]){yd=new J0({source:new zM,visible:!1,title:"OSM Base",preload:1/0}),pd=new J0({source:new xv({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attributions:"UB  Satlite"}),visible:!0,title:"ESRI Sat",preload:1/0});const i=new VA({target:r,layers:[pd,yd],view:new ui({center:pg([t,e]),zoom:15,maxZoom:17,minZoom:4,rotation:0,constrainRotation:!1}),controls:[],interactions:cv().extend([new uv({condition:a=>Vu(a)&&a.originalEvent.button===1})])});return window._ol_map_instance=i,window.osm=yd,window.esriSat=pd,i}function ya([r,e]){return pg([r,e])}const co=L.createContext(null);function VM({children:r,center:e=[-35.5075089029126,-60.3545349790534]}){const t=L.useRef(null),[i,a]=L.useState(!1),o=L.useCallback(()=>{const h=document.getElementById("map");!t.current&&h&&(t.current=HM("map",e),a(!0))},[e]),c=L.useCallback(()=>{const h=document.getElementById("map");h&&t.current&&(t.current.setTarget(null),t.current=null,h.innerHTML="",a(!1)),setTimeout(()=>o(),0)},[o]);return L.useEffect(()=>{const h=setTimeout(()=>{t.current||o()},3e3);return()=>clearTimeout(h)},[]),L.useEffect(()=>{const h=new ResizeObserver(()=>{const g=document.getElementById("map");(g==null?void 0:g.offsetWidth)>0&&(g==null?void 0:g.offsetHeight)>0&&!t.current&&o()}),f=document.getElementById("map");return f&&h.observe(f),()=>h.disconnect()},[o]),F.jsx(co.Provider,{value:{mapRef:t,ready:i,resetMap:c},children:F.jsxs("div",{className:"relative w-full h-full flex-grow overflow-hidden",children:[F.jsx("div",{id:"map",className:"absolute inset-0 z-0"}),i&&r]})})}function qM(){const[r,e]=L.useState(!1),[t,i]=L.useState(!1),[a,o]=L.useState(""),{mapRef:c,ready:h}=L.useContext(co),{parcelas:f,formData:g,setFormData:m,setParcelas:y,setAreaParcela:p,setAreaCampo:x}=Qd(),{disableDraw:v,activateDeleteMode:C,disableDeleteMode:S,activateEditMode:T,clearEdit:R,getEditedFeature:w,polygonMode:O}=vv(c,()=>{var se;const ne=(se=w())==null?void 0:se.getGeometry();ne&&p(tr(ne))}),{setFeaturesOnMap:D,clearParcelas:U}=Xg({mapRef:c,parcelas:f,formData:g,clearEdit:R,activateEditMode:T,getCreatedFeature:()=>null,setFormData:m,setAreaCampo:x,setAreaParcela:p,enabled:!0,modoVisualizacionCampo:!1});Hg(()=>{R(),v(),S(),m(ne=>({...ne,parcela_id:"",nombre:"",descripcion:""}))});const H=()=>{R(),v(),S(),U(),e(!1)},q=async()=>{const ne=w();if(!ne||!g.parcela_id){o("Debe seleccionar una parcela existente para editar."),i(!0);return}if(!ne.getGeometry()){o("Falta geometra vlida."),i(!0);return}const ie=new Bg,ae=ne.clone();ae.getGeometry().transform("EPSG:3857","EPSG:4326");const ge=ie.writeFeatureObject(ae,{featureProjection:"EPSG:4326"});try{await t1(g.parcela_id,ge);const Q=await fa();y(Q.parcelas),m(N=>({...N,parcela_id:""})),p(0),H()}catch(Q){console.error("Error al guardar:",Q)}},$=()=>{R(),S(),e(!1),m(ne=>({...ne,parcela_id:""})),p(0),D()};return L.useEffect(()=>{H(),Xn.onFinishCallback.current=ne=>{if(ne){T(ne),m(ie=>({...ie,parcela_id:""}));const se=ne.getGeometry();se&&p(tr(se))}}},[]),L.useEffect(()=>{!h||!g.campo_id||D()},[h,g.campo_id,g.parcela_id,f]),F.jsxs(F.Fragment,{children:[F.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:F.jsx(n1,{mode:O,isDeleteMode:r,onToggleDeleteMode:()=>{e(ne=>!ne),r?S():C()},onCancel:$,onSave:q})}),F.jsx(ag,{isOpen:t,message:a,onClose:()=>i(!1)})]})}function ZM({onFinish:r,onUndo:e,onStart:t,onCancel:i,canFinish:a,closedBySnap:o,firstVertexDraw:c,open:h,setOpen:f,finished:g}){const m=()=>{const y=!h;f(y),y&&(t==null||t())};return F.jsxs(F.Fragment,{children:[!h&&F.jsx("button",{onClick:m,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Dibujar polgono",children:F.jsx(Jb,{className:"w-6 h-6 text-gray-800"})}),h&&F.jsxs("div",{className:"flex flex-row-reverse gap-1 items-center",children:[F.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar",children:F.jsx(Ax,{className:"w-6 h-6"})}),!g&&F.jsxs(F.Fragment,{children:[F.jsx("button",{onClick:e,disabled:!c,className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${c?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Deshacer ltimo punto",children:F.jsx(eT,{className:"w-6 h-6"})}),F.jsx("button",{onClick:r,disabled:!(a||o),className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${a||o?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Finalizar dibujo",children:F.jsx(vb,{className:"w-6 h-6"})})]})]})]})}function KM({campos:r={},formData:e={},onChange:t=()=>{}}){return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo"}),F.jsx("select",{name:"campo_id",value:e.campo_id,onChange:t,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:Object.entries(r).map(([i,a])=>F.jsx("option",{value:i,disabled:i===e.campo_id,className:i===e.campo_id?"text-gray-400 italic":"",children:a.nombre},i))})]}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Nombre del rea"}),F.jsx("input",{name:"nombre",value:e.nombre,onChange:t,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Descripcin de la parcela"}),F.jsx("input",{name:"descripcion",value:e.descripcion,onChange:t,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]})]})}function WM({campos:r={},formData:e={},onChange:t=()=>{}}){return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo existente"}),F.jsxs("select",{name:"campo_id",value:e.campo_id,onChange:t,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:[F.jsx("option",{value:"",children:"-- Crear nuevo campo --"}),Object.entries(r).map(([i,a])=>F.jsx("option",{value:i,disabled:i===e.campo_id,className:i===e.campo_id?"text-gray-400 italic":"",children:a.nombre},i))]})]}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Nombre del campo"}),F.jsx("input",{name:"nombre",value:e.nombre,onChange:t,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),F.jsxs("div",{className:"flex flex-col gap-1",children:[F.jsx("label",{className:"block font-medium text-xs",children:"Descripcin del campo"}),F.jsx("input",{name:"descripcion",value:e.descripcion,onChange:t,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),F.jsx("input",{type:"hidden",name:"lat",value:e.lat}),F.jsx("input",{type:"hidden",name:"lon",value:e.lon})]})}const Ic=L.createContext();function QM({children:r}){const[e,t]=L.useState(null);return F.jsx(Ic.Provider,{value:{campoSeleccionado:e,setCampoSeleccionado:t},children:r})}function JM(){const[r,e]=L.useState(!1),[t,i]=L.useState(!1),[a,o]=L.useState(!1),[c,h]=L.useState(!1),[f,g]=L.useState(!1),[m,y]=L.useState(""),[p,x]=L.useState(!1),{mapRef:v,ready:C}=L.useContext(co),{campoSeleccionado:S,setCampoSeleccionado:T}=L.useContext(Ic),{campos:R,parcelas:w,formData:O,setFormData:D,setParcelas:U,setAreaCampo:H,setAreaParcela:q}=Qd(),{enableDraw:$,disableDraw:ne,cancelDraw:se,endPolygon:ie,removeLastPoint:ae,canFinish:ge,closedBySnap:Q,firstVertexDraw:N,activateDeleteMode:P,disableDeleteMode:Z,activateEditMode:re,clearEdit:A,getEditedFeature:G,getCreatedFeature:I,polygonMode:K}=vv(v,()=>{var Ke;const Oe=(Ke=G())==null?void 0:Ke.getGeometry();Oe&&q(tr(Oe))}),{setFeaturesOnMap:te,clearParcelas:le}=Xg({mapRef:v,parcelas:w,formData:O,clearEdit:A,activateEditMode:re,getCreatedFeature:I,setFormData:D,setAreaCampo:H,setAreaParcela:q});Hg(()=>{A(),ne(),Z(),D(Oe=>({...Oe,parcela_id:"",nombre:"",descripcion:""}))});const oe=()=>{A(),ne(),Z(),le(),h(!1),i(!1),e(!1)},Le=()=>Xn.modeRef.current==="edit"?G():I(),pe=Oe=>{const{name:Ke,value:Ye}=Oe.target;if(Ke==="campo_id"){if(Ye===O.campo_id)return;oe();const Yt=R[Ye];Yt&&v.current&&v.current.getView().setCenter(ya([Yt.lon,Yt.lat])),T(Ye),D({campo_id:Ye,parcela_id:"",nombre:"",descripcion:""}),q(0)}else D(Yt=>({...Yt,[Ke]:Ye}))},at=async()=>{if(!O.campo_id||!O.nombre){y("Todos los campos son obligatorios."),g(!0);return}const Oe=Le();if(!Oe){y("Debe crear o seleccionar una parcela."),g(!0);return}const Ke=new Bg,Ye=Oe.clone();Ye.getGeometry().transform("EPSG:3857","EPSG:4326");const Yt=Ke.writeFeatureObject(Ye,{featureProjection:"EPSG:4326"});try{O.parcela_id?await t1(O.parcela_id,Yt,O.nombre,O.descripcion):await jR({campo_id:O.campo_id,nombre:O.nombre,descripcion:O.descripcion,perimetro_geojson:Yt});const Nn=await fa();U(Nn.parcelas),D(Fn=>({...Fn,parcela_id:"",nombre:"",descripcion:""})),oe(),q(0)}catch(Nn){console.error("Error al guardar:",Nn)}},yn=()=>{O.parcela_id&&x(!0)},Dn=async()=>{x(!1);try{await UR(O.parcela_id);const Oe=await fa();U(Oe.parcelas),D(Ke=>({...Ke,parcela_id:"",nombre:"",descripcion:""})),q(0)}catch(Oe){console.error("Error al eliminar parcela:",Oe)}},pn=()=>{ie(),h(!0),i(!0)},$n=()=>{se(),A(),h(!1),i(!1)},Kt=()=>{A(),Z(),e(!1),h(!1),i(!1),D(Oe=>({...Oe,parcela_id:"",nombre:"",descripcion:""})),q(0)};return L.useEffect(()=>{oe(),Xn.onFinishCallback.current=Oe=>{if(Oe){h(!0),i(!0),re(Oe),D(Ye=>({...Ye,parcela_id:""}));const Ke=Oe.getGeometry();Ke&&q(tr(Ke))}}},[]),L.useEffect(()=>{!C||!O.campo_id||te()},[C,O.campo_id,O.parcela_id,w]),L.useEffect(()=>{S&&S!==O.campo_id&&R[S]&&(D(Oe=>({...Oe,campo_id:S,parcela_id:"",nombre:"",descripcion:""})),q(0))},[S]),F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-row-reverse items-end gap-2",children:[O.parcela_id&&F.jsx("button",{onClick:yn,className:"bg-white p-3 rounded-full shadow-md",children:F.jsx(Fb,{className:"w-6 h-6"})}),F.jsx("button",{className:"bg-white p-3 rounded-full shadow-md transition-all duration-300",onClick:()=>o(Oe=>!Oe),children:F.jsx(zb,{className:"w-6 h-6"})})]}),F.jsx("div",{className:`absolute top-20 left-4 right-4 md:left-4 md:right-auto md:w-[350px] bg-white/60 rounded-2xl shadow-lg p-2 z-10 overflow-y-auto max-h-[90%] max-w-[70%] flex flex-col gap-2 transform transition-all duration-500 ${a?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:F.jsx(KM,{campos:R,formData:O,onChange:pe})}),F.jsxs("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:[F.jsx(n1,{mode:K,isDeleteMode:r,onToggleDeleteMode:()=>{e(Oe=>!Oe),r?Z():P()},onCancel:Kt,onSave:at,showCancel:O.parcela_id!==""}),O.parcela_id===""&&a&&F.jsx(ZM,{open:t,setOpen:i,onStart:$,onFinish:pn,onUndo:ae,onCancel:$n,canFinish:ge,closedBySnap:Q,firstVertexDraw:N,finished:c})]}),F.jsx(ag,{isOpen:f,message:m,onClose:()=>g(!1)}),F.jsx(i1,{isOpen:p,title:"Eliminar parcela?",message:"Esta accin eliminar la parcela seleccionada. Deses continuar?",onCancel:()=>x(!1),onConfirm:Dn,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})}async function $M(r){const e=await fetch("/config/api/campos/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok){const t=await e.json();throw new Error(t.message||"Error al crear campo")}return await e.json()}async function eO(r,e){const t=await fetch(`/config/api/campos/${r}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json();throw new Error(i.message||"Error al actualizar campo")}return await t.json()}async function tO(r){const e=await fetch(`/config/api/campos/${r}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar el campo");return await e.json()}function ix(r){const e=new Ut({geometry:new Ln(r)});e.setStyle(new it({image:new oo({src:"/dist/map_pin.svg",anchor:[.5,1],scale:1})}));const t=new lr({features:[e]}),i=new Ss({source:t});return{feature:e,layer:i}}function nO(r){const e=document.createElement("div");e.className="ripple-effect",e.style.left=`${r.clientX}px`,e.style.top=`${r.clientY}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),600)}function iO(r){const e=L.useRef(null);return{colocarMarcadorGps:(o,c)=>{if(!r.current||!(o!=null&&o.coordinate))return;nO(o.originalEvent);const h=o.coordinate,[f,g]=E1(h);c(y=>({...y,lat:g,lon:f})),e.current&&r.current.removeLayer(e.current);const{layer:m}=ix(h);e.current=m,r.current.addLayer(m)},moverMarcadorGps:(o,c)=>{var p,x,v,C;if(!r.current)return;const h=pg([o,c]),f=(v=(x=(p=e.current)==null?void 0:p.getSource())==null?void 0:x.getFeatures())==null?void 0:v[0],g=(C=f==null?void 0:f.getGeometry())==null?void 0:C.getCoordinates();if(g&&Math.abs(g[0]-h[0])<.001&&Math.abs(g[1]-h[1])<.001)return;e.current&&r.current.removeLayer(e.current);const{layer:y}=ix(h);e.current=y,r.current.addLayer(y)},limpiarMarcadorGps:()=>{e.current&&r.current&&(r.current.removeLayer(e.current),e.current=null)},markerLayerRef:e}}function sO(){const[r,e]=L.useState({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),[t,i]=L.useState(!1),[a,o]=L.useState(!1),[c,h]=L.useState(!1),[f,g]=L.useState(""),{mapRef:m,ready:y}=L.useContext(co),{campoSeleccionado:p,setCampoSeleccionado:x}=L.useContext(Ic),{campos:v,parcelas:C,setFormData:S,setCampos:T,setParcelas:R,setAreaCampo:w,setAreaParcela:O}=Qd(),{colocarMarcadorGps:D,moverMarcadorGps:U,limpiarMarcadorGps:H}=iO(m),{setFeaturesOnMap:q,clearParcelas:$}=Xg({mapRef:m,parcelas:C,formData:r,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:e,setAreaCampo:w,setAreaParcela:O,enabled:!0,modoVisualizacionCampo:!0});Hg(()=>{H(),$()});const ne=Q=>{const{name:N,value:P}=Q.target;if(N==="campo_id"&&P===""){H(),x(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}if(N==="campo_id"){if(P===""){H(),x(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}const Z=v[P];Z&&(x(P),e({campo_id:P,nombre:Z.nombre,descripcion:Z.descripcion||"",lat:Z.lat,lon:Z.lon}),S(re=>({...re,campo_id:P,parcela_id:"",nombre:"",descripcion:""})),i(!0),m.current&&(m.current.getView().setCenter(ya([Z.lon,Z.lat])),U(Z.lon,Z.lat)));return}e(Z=>({...Z,[N]:P}))},se=async()=>{const{campo_id:Q,nombre:N,descripcion:P,lat:Z,lon:re}=r;if(!N||!P||!Z||!re){g("Todos los campos son obligatorios."),h(!0);return}try{Q?await eO(Q,{nombre:N,descripcion:P,lat:Z,lon:re}):await $M({nombre:N,descripcion:P,lat:Z,lon:re});const A=await fa();T(A.campos),R(A.parcelas);const G=Object.entries(A.campos).find(([I,K])=>K.nombre===N&&K.lat===Z&&K.lon===re);if(G){const[I,K]=G;x(I),e({campo_id:I,nombre:K.nombre,descripcion:K.descripcion||"",lat:K.lat,lon:K.lon}),ie(K)}}catch(A){console.error("Error al guardar campo:",A)}},ie=Q=>{m.current&&(m.current.getView().setCenter(ya([Q.lon,Q.lat])),U(Q.lon,Q.lat))},ae=()=>o(!0),ge=async()=>{if(o(!1),!!r.campo_id)try{await tO(r.campo_id);const Q=await fa();T(Q.campos),R(Q.parcelas),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),H()}catch(Q){console.error("Error al eliminar campo:",Q)}};return L.useEffect(()=>{!y||!r.campo_id||q()},[y,r.campo_id,C]),L.useEffect(()=>{r.lat&&r.lon&&y&&m.current&&U(r.lon,r.lat)},[r.lat,r.lon,y]),L.useEffect(()=>{if(!y||!m.current)return;const Q=m.current,N=P=>D(P,e);return Q.on("click",N),()=>Q.un("click",N)},[y]),L.useEffect(()=>{if(p&&p!==r.campo_id&&v[p]){const Q=v[p];e({campo_id:p,nombre:Q.nombre,descripcion:Q.descripcion||"",lat:Q.lat,lon:Q.lon}),y&&m.current&&U(Q.lon,Q.lat)}},[p]),F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-row-reverse items-end gap-2",children:[r.campo_id&&F.jsx("button",{onClick:ae,title:"Eliminar campo",className:"bg-white p-3 rounded-full shadow-md",children:F.jsx(jb,{className:"w-6 h-6"})}),F.jsx("button",{onClick:()=>i(Q=>!Q),title:"Mostrar formulario",className:"bg-white p-3 rounded-full shadow-md",children:F.jsx(kb,{className:"w-6 h-6"})})]}),F.jsx("div",{className:`absolute top-20 left-4 right-4 md:left-4 md:right-auto md:w-[350px] bg-white/60 rounded-2xl shadow-lg p-2 z-10 overflow-y-auto max-h-[90%] max-w-[70%] flex flex-col gap-2 transform transition-all duration-500 ${t?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:F.jsx(WM,{campos:v,formData:r,onChange:ne})}),(t||r.campo_id!=="")&&F.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:F.jsx("button",{onClick:se,className:"bg-white p-3 rounded-full shadow-md",title:"Guardar campo",children:F.jsx(wx,{className:"w-6 h-6"})})}),F.jsx(i1,{isOpen:a,title:"Eliminar campo?",message:"Esta accin no se puede deshacer. Deses continuar?",onCancel:()=>o(!1),onConfirm:ge,confirmLabel:"Eliminar",cancelLabel:"Cancelar"}),F.jsx(ag,{isOpen:c,message:f,onClose:()=>h(!1)})]})}function rO({mapRef:r}){const e=L.useRef(null),t=L.useRef(!1),i=L.useRef({x:0,y:0}),a=L.useRef(0),o=L.useRef(0),c=.4;L.useEffect(()=>{if(!(r!=null&&r.current))return;const p=r.current.getView(),x=()=>{const v=p.getRotation();e.current&&(e.current.style.transform=`rotate(${-v}rad)`)};return x(),p.on("change:rotation",x),()=>p.un("change:rotation",x)},[r]);const h=(p,x)=>{const v=p-i.current.x,C=i.current.y-x;return Math.atan2(v,C)},f=p=>{if(!r.current)return;t.current=!0;const x=p.currentTarget.getBoundingClientRect();i.current={x:x.left+x.width/2,y:x.top+x.height/2},a.current=r.current.getView().getRotation(),o.current=h(p.clientX,p.clientY),window.addEventListener("mousemove",g),window.addEventListener("mouseup",m)},g=p=>{if(!t.current||!r.current)return;const v=h(p.clientX,p.clientY)-o.current,C=a.current+v*c;r.current.getView().setRotation(C)},m=()=>{t.current=!1,window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",m)},y=()=>{!t.current&&r.current&&r.current.getView().setRotation(0)};return F.jsx("button",{title:"Brjula",className:"bg-white rounded-full p-3 shadow-md transition-transform select-none",onMouseDown:f,onClick:y,children:F.jsx("img",{ref:e,src:"/dist/compass.svg",alt:"Compass",className:"w-6 h-6 transition-transform pointer-events-none"})})}function aO({mapRef:r,onToggleLayer:e=()=>{},onLocate:t=()=>{},onCenterCampo:i=()=>{}}){const a=L.useRef(null);return L.useEffect(()=>{if(!(r!=null&&r.current))return;const o=r.current.getView(),c=()=>{const h=o.getRotation();a.current&&(a.current.style.transform=`rotate(${-h}rad)`)};return o.on("change:rotation",c),()=>o.un("change:rotation",c)},[r]),F.jsxs("div",{style:{top:"4.5rem"},className:"absolute right-4 z-40 flex flex-col gap-2",children:[F.jsx("button",{onClick:e,title:"Cambiar capa",className:"bg-white rounded-full p-3 shadow-md",children:F.jsx(Ab,{className:"w-6 h-6 text-gray-800"})}),F.jsx("button",{onClick:i,title:"Centrar en campo",className:"bg-white p-3 rounded-full shadow-md",children:F.jsx(Yb,{className:"w-6 h-6"})}),F.jsx("button",{onClick:t,title:"Centrar mapa",className:"bg-white rounded-full p-3 shadow-md",children:F.jsx(Ob,{className:"w-6 h-6 text-gray-800"})}),F.jsx(rO,{mapRef:r})]})}function lO({campos:r={},campoId:e="",parcelaId:t="",parcelaNombre:i="",areaParcela:a=0,areaCampo:o=0,selectorOpen:c=!1,setSelectorOpen:h=()=>{},onSelectCampo:f=()=>{},mapRef:g=null}){const m=y=>{const p=r[y];p&&(g!=null&&g.current)&&g.current.getView().setCenter(ya([p.lon,p.lat])),f(y),h(!1)};return F.jsxs("div",{className:"relative","data-testid":"campo-selector",children:[F.jsxs("button",{onClick:()=>{h(y=>!y)},className:"flex items-center gap-2 px-6 py-3 bg-black/60 backdrop-blur-md rounded-full shadow-lg text-white font-semibold text-sm hover:bg-black/70 transition-all",children:[F.jsxs("div",{className:"flex flex-col text-left",children:[F.jsx("span",{className:"text-xs text-gray-300",children:e&&r[e]?r[e].nombre:"Seleccionar campo"}),t&&e?F.jsxs("div",{className:"flex items-center gap-1",children:[F.jsx(Rx,{size:14,className:"text-cyan-400"}),F.jsx("span",{className:"text-sm",children:i}),F.jsxs("span",{className:"text-xs text-green-400 ml-2",children:[(a/1e4).toFixed(2)," ha"]})]}):e?F.jsxs("span",{className:"text-xs text-green-400",children:[(o/1e4).toFixed(2)," ha"]}):F.jsx("span",{className:"text-xs text-green-400",children:"0.00 ha"})]}),F.jsx(Sb,{size:16,className:"text-white"})]}),c&&F.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-md shadow-md text-sm overflow-hidden z-20 w-full",children:Object.entries(r).map(([y,p])=>F.jsx("button",{onClick:()=>m(y),disabled:y===e,className:"w-full px-4 py-2 text-left hover:bg-gray-100 disabled:text-gray-400 disabled:italic disabled:cursor-not-allowed",children:p.nombre},y))})]})}function oO(){const{mapRef:r}=L.useContext(co),{campoSeleccionado:e,setCampoSeleccionado:t}=L.useContext(Ic),[i,a]=L.useState({}),[o,c]=L.useState({}),[h,f]=L.useState({campo_id:"",parcela_id:"",nombre:"",descripcion:""}),[g,m]=L.useState(0),[y,p]=L.useState(0),[x,v]=L.useState(!1);return L.useEffect(()=>{async function C(){const S=await fa();a(S.campos),c(S.parcelas);const T=S.campo_preferido_id||Object.keys(S.campos)[0];t(T),f(R=>({...R,campo_id:T}))}C()},[]),F.jsxs(F.Fragment,{children:[r.current&&F.jsx(aO,{mapRef:r,onToggleLayer:()=>{r.current;const C=window.osm,S=window.esriSat;C&&S&&(C.setVisible(!C.getVisible()),S.setVisible(!S.getVisible()))},onCenterCampo:()=>{if(!r.current||!e||!i[e])return;const C=i[e];r.current.getView().setCenter(ya([C.lon,C.lat]))},onLocate:()=>{navigator.geolocation&&r.current&&navigator.geolocation.getCurrentPosition(C=>{const S=[C.coords.longitude,C.coords.latitude];r.current.getView().animate({center:ya(S),zoom:16})})}}),F.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:F.jsx(lO,{campos:i,campoId:e,parcelaId:h.parcela_id,parcelaNombre:h.nombre,areaParcela:y,areaCampo:g,selectorOpen:x,setSelectorOpen:v,onSelectCampo:C=>{t(C),f(S=>({...S,campo_id:C,parcela_id:"",nombre:"",descripcion:""}))},mapRef:r})}),F.jsx(OC,{context:{campos:i,parcelas:o,formData:h,setFormData:f,setCampos:a,setParcelas:c,setAreaParcela:p,setAreaCampo:m}})]})}function sx(){const r=Kn(),{menuOpen:e,setMenuOpen:t}=PR(),i=r.pathname==="/login";return F.jsxs(F.Fragment,{children:[!i&&F.jsx(zR,{menuOpen:e,setMenuOpen:t}),F.jsxs(DC,{children:[F.jsx(oi,{path:"/login",element:F.jsx(GR,{})}),F.jsxs(oi,{element:F.jsx(Gu,{children:F.jsx(oO,{})}),children:[F.jsx(oi,{path:"/mapa",element:F.jsx(qM,{})}),F.jsx(oi,{path:"/parcelas",element:F.jsx(JM,{})}),F.jsx(oi,{path:"/campos",element:F.jsx(sO,{})})]}),F.jsx(oi,{path:"/collares",element:F.jsx(Gu,{children:F.jsx(xd,{label:"Collares"})})}),F.jsx(oi,{path:"/alertas",element:F.jsx(Gu,{children:F.jsx(xd,{label:"Alertas"})})}),F.jsx(oi,{path:"/animales",element:F.jsx(Gu,{children:F.jsx(xd,{label:"Animales"})})}),F.jsx(oi,{path:"*",element:F.jsx(yx,{to:"/login",replace:!0})})]}),!i&&F.jsx(kR,{setMenuOpen:t})]})}function xd({label:r}){return F.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-100",children:F.jsx("h1",{className:"text-3xl font-bold",children:r})})}function Gu({children:r}){const{isAuthenticated:e,loading:t}=pc();return t?F.jsx("div",{className:"text-center mt-10",children:"Verificando sesin..."}):e?r:F.jsx(yx,{to:"/login",replace:!0})}function uO(){const{isAuthenticated:r,loading:e}=pc();return e?F.jsx("div",{className:"p-4",children:"Verificando sesin..."}):r?F.jsx(VM,{children:F.jsx(QM,{children:F.jsx(sx,{})})}):F.jsx(sx,{})}jS.createRoot(document.getElementById("root")).render(F.jsx(NS.StrictMode,{children:F.jsx(nb,{children:F.jsx(IR,{children:F.jsx(uO,{})})})}));
