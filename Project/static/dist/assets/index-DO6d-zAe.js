function nD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my={exports:{}},ru={},gy={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function rD(){if(hC)return ut;hC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(N){return N===null||typeof N!="object"?null:(N=f&&N[f]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function C(N,L,re){this.props=N,this.context=L,this.refs=w,this.updater=re||y}C.prototype.isReactComponent={},C.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function b(){}b.prototype=C.prototype;function R(N,L,re){this.props=N,this.context=L,this.refs=w,this.updater=re||y}var T=R.prototype=new b;T.constructor=R,v(T,C.prototype),T.isPureReactComponent=!0;var P=Array.isArray,k=Object.prototype.hasOwnProperty,M={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function I(N,L,re){var ie,ce={},ge=null,ae=null;if(L!=null)for(ie in L.ref!==void 0&&(ae=L.ref),L.key!==void 0&&(ge=""+L.key),L)k.call(L,ie)&&!F.hasOwnProperty(ie)&&(ce[ie]=L[ie]);var pe=arguments.length-2;if(pe===1)ce.children=re;else if(1<pe){for(var we=Array(pe),be=0;be<pe;be++)we[be]=arguments[be+2];ce.children=we}if(N&&N.defaultProps)for(ie in pe=N.defaultProps,pe)ce[ie]===void 0&&(ce[ie]=pe[ie]);return{$$typeof:t,type:N,key:ge,ref:ae,props:ce,_owner:M.current}}function z(N,L){return{$$typeof:t,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function G(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function V(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(re){return L[re]})}var H=/\/+/g;function B(N,L){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):L.toString(36)}function X(N,L,re,ie,ce){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var ae=!1;if(N===null)ae=!0;else switch(ge){case"string":case"number":ae=!0;break;case"object":switch(N.$$typeof){case t:case e:ae=!0}}if(ae)return ae=N,ce=ce(ae),N=ie===""?"."+B(ae,0):ie,P(ce)?(re="",N!=null&&(re=N.replace(H,"$&/")+"/"),X(ce,L,re,"",function(be){return be})):ce!=null&&(G(ce)&&(ce=z(ce,re+(!ce.key||ae&&ae.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+N)),L.push(ce)),1;if(ae=0,ie=ie===""?".":ie+":",P(N))for(var pe=0;pe<N.length;pe++){ge=N[pe];var we=ie+B(ge,pe);ae+=X(ge,L,re,we,ce)}else if(we=p(N),typeof we=="function")for(N=we.call(N),pe=0;!(ge=N.next()).done;)ge=ge.value,we=ie+B(ge,pe++),ae+=X(ge,L,re,we,ce);else if(ge==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ae}function Z(N,L,re){if(N==null)return N;var ie=[],ce=0;return X(N,ie,"","",function(ge){return L.call(re,ge,ce++)}),ie}function Y(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(re){(N._status===0||N._status===-1)&&(N._status=1,N._result=re)},function(re){(N._status===0||N._status===-1)&&(N._status=2,N._result=re)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var D={current:null},j={transition:null},U={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:M};function q(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:Z,forEach:function(N,L,re){Z(N,function(){L.apply(this,arguments)},re)},count:function(N){var L=0;return Z(N,function(){L++}),L},toArray:function(N){return Z(N,function(L){return L})||[]},only:function(N){if(!G(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ut.Component=C,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=R,ut.StrictMode=r,ut.Suspense=c,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,ut.act=q,ut.cloneElement=function(N,L,re){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ie=v({},N.props),ce=N.key,ge=N.ref,ae=N._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,ae=M.current),L.key!==void 0&&(ce=""+L.key),N.type&&N.type.defaultProps)var pe=N.type.defaultProps;for(we in L)k.call(L,we)&&!F.hasOwnProperty(we)&&(ie[we]=L[we]===void 0&&pe!==void 0?pe[we]:L[we])}var we=arguments.length-2;if(we===1)ie.children=re;else if(1<we){pe=Array(we);for(var be=0;be<we;be++)pe[be]=arguments[be+2];ie.children=pe}return{$$typeof:t,type:N.type,key:ce,ref:ge,props:ie,_owner:ae}},ut.createContext=function(N){return N={$$typeof:o,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},ut.createElement=I,ut.createFactory=function(N){var L=I.bind(null,N);return L.type=N,L},ut.createRef=function(){return{current:null}},ut.forwardRef=function(N){return{$$typeof:l,render:N}},ut.isValidElement=G,ut.lazy=function(N){return{$$typeof:h,_payload:{_status:-1,_result:N},_init:Y}},ut.memo=function(N,L){return{$$typeof:d,type:N,compare:L===void 0?null:L}},ut.startTransition=function(N){var L=j.transition;j.transition={};try{N()}finally{j.transition=L}},ut.unstable_act=q,ut.useCallback=function(N,L){return D.current.useCallback(N,L)},ut.useContext=function(N){return D.current.useContext(N)},ut.useDebugValue=function(){},ut.useDeferredValue=function(N){return D.current.useDeferredValue(N)},ut.useEffect=function(N,L){return D.current.useEffect(N,L)},ut.useId=function(){return D.current.useId()},ut.useImperativeHandle=function(N,L,re){return D.current.useImperativeHandle(N,L,re)},ut.useInsertionEffect=function(N,L){return D.current.useInsertionEffect(N,L)},ut.useLayoutEffect=function(N,L){return D.current.useLayoutEffect(N,L)},ut.useMemo=function(N,L){return D.current.useMemo(N,L)},ut.useReducer=function(N,L,re){return D.current.useReducer(N,L,re)},ut.useRef=function(N){return D.current.useRef(N)},ut.useState=function(N){return D.current.useState(N)},ut.useSyncExternalStore=function(N,L,re){return D.current.useSyncExternalStore(N,L,re)},ut.useTransition=function(){return D.current.useTransition()},ut.version="18.3.1",ut}var fC;function Jx(){return fC||(fC=1,gy.exports=rD()),gy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function iD(){if(mC)return ru;mC=1;var t=Jx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,f={},p=null,y=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:p,ref:y,props:f,_owner:i.current}}return ru.Fragment=n,ru.jsx=o,ru.jsxs=o,ru}var gC;function sD(){return gC||(gC=1,my.exports=iD()),my.exports}var g=sD(),_=Jx();const le=qx(_),gT=nD({__proto__:null,default:le},[_]);var Gh={},py={exports:{}},Sr={},yy={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function oD(){return pC||(pC=1,function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var N=q-1>>>1,L=j[N];if(0<i(L,U))j[N]=U,j[q]=L,q=N;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var N=0,L=j.length,re=L>>>1;N<re;){var ie=2*(N+1)-1,ce=j[ie],ge=ie+1,ae=j[ge];if(0>i(ce,q))ge<L&&0>i(ae,ce)?(j[N]=ae,j[ge]=q,N=ge):(j[N]=ce,j[ie]=q,N=ie);else if(ge<L&&0>i(ae,q))j[N]=ae,j[ge]=q,N=ge;else break e}}return U}function i(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,y=!1,v=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=j)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function P(j){if(w=!1,T(j),!v)if(n(c)!==null)v=!0,Y(k);else{var U=n(d);U!==null&&D(P,U.startTime-j)}}function k(j,U){v=!1,w&&(w=!1,b(I),I=-1),y=!0;var q=p;try{for(T(U),f=n(c);f!==null&&(!(f.expirationTime>U)||j&&!V());){var N=f.callback;if(typeof N=="function"){f.callback=null,p=f.priorityLevel;var L=N(f.expirationTime<=U);U=t.unstable_now(),typeof L=="function"?f.callback=L:f===n(c)&&r(c),T(U)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var ie=n(d);ie!==null&&D(P,ie.startTime-U),re=!1}return re}finally{f=null,p=q,y=!1}}var M=!1,F=null,I=-1,z=5,G=-1;function V(){return!(t.unstable_now()-G<z)}function H(){if(F!==null){var j=t.unstable_now();G=j;var U=!0;try{U=F(!0,j)}finally{U?B():(M=!1,F=null)}}else M=!1}var B;if(typeof R=="function")B=function(){R(H)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=H,B=function(){Z.postMessage(null)}}else B=function(){C(H,0)};function Y(j){F=j,M||(M=!0,B())}function D(j,U){I=C(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,Y(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var q=p;p=U;try{return j()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return U()}finally{p=q}},t.unstable_scheduleCallback=function(j,U,q){var N=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?N+q:N):q=N,j){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,j={id:h++,callback:U,priorityLevel:j,startTime:q,expirationTime:L,sortIndex:-1},q>N?(j.sortIndex=q,e(d,j),n(c)===null&&j===n(d)&&(w?(b(I),I=-1):w=!0,D(P,q-N))):(j.sortIndex=L,e(c,j),v||y||(v=!0,Y(k))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var U=p;return function(){var q=p;p=U;try{return j.apply(this,arguments)}finally{p=q}}}}(xy)),xy}var yC;function aD(){return yC||(yC=1,yy.exports=oD()),yy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC;function lD(){if(xC)return Sr;xC=1;var t=Jx(),e=aD();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(a){return c.call(f,a)?!0:c.call(h,a)?!1:d.test(a)?f[a]=!0:(h[a]=!0,!1)}function y(a,u,m,x){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function v(a,u,m,x){if(u===null||typeof u>"u"||y(a,u,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(a,u,m,x,S,E,A){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=x,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=a,this.type=u,this.sanitizeURL=E,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];C[u]=new w(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,u,m,x){var S=C.hasOwnProperty(u)?C[u]:null;(S!==null?S.type!==0:x||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(v(u,m,S,x)&&(m=null),x||S===null?p(u)&&(m===null?a.removeAttribute(u):a.setAttribute(u,""+m)):S.mustUseProperty?a[S.propertyName]=m===null?S.type===3?!1:"":m:(u=S.attributeName,x=S.attributeNamespace,m===null?a.removeAttribute(u):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,x?a.setAttributeNS(x,u,m):a.setAttribute(u,m))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),M=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),V=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),j=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var q=Object.assign,N;function L(a){if(N===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);N=u&&u[1]||""}return`
`+N+a}var re=!1;function ie(a,u){if(!a||re)return"";re=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ne){var x=ne}Reflect.construct(a,[],u)}else{try{u.call()}catch(ne){x=ne}a.call(u.prototype)}else{try{throw Error()}catch(ne){x=ne}a()}}catch(ne){if(ne&&x&&typeof ne.stack=="string"){for(var S=ne.stack.split(`
`),E=x.stack.split(`
`),A=S.length-1,O=E.length-1;1<=A&&0<=O&&S[A]!==E[O];)O--;for(;1<=A&&0<=O;A--,O--)if(S[A]!==E[O]){if(A!==1||O!==1)do if(A--,O--,0>O||S[A]!==E[O]){var W=`
`+S[A].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=A&&0<=O);break}}}finally{re=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?L(a):""}function ce(a){switch(a.tag){case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return a=ie(a.type,!1),a;case 11:return a=ie(a.type.render,!1),a;case 1:return a=ie(a.type,!0),a;default:return""}}function ge(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case M:return"Portal";case z:return"Profiler";case I:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case G:return(a._context.displayName||"Context")+".Provider";case H:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Z:return u=a.displayName||null,u!==null?u:ge(a.type)||"Memo";case Y:u=a._payload,a=a._init;try{return ge(a(u))}catch{}}return null}function ae(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function pe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function we(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function be(a){var u=we(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),x=""+a[u];if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,E=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return S.call(this)},set:function(A){x=""+A,E.call(this,A)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function $e(a){a._valueTracker||(a._valueTracker=be(a))}function Ve(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var m=u.getValue(),x="";return a&&(x=we(a)?a.checked?"true":"false":a.value),a=x,a!==m?(u.setValue(a),!0):!1}function yt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function mt(a,u){var m=u.checked;return q({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Wt(a,u){var m=u.defaultValue==null?"":u.defaultValue,x=u.checked!=null?u.checked:u.defaultChecked;m=pe(u.value!=null?u.value:m),a._wrapperState={initialChecked:x,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Dt(a,u){u=u.checked,u!=null&&T(a,"checked",u,!1)}function Ot(a,u){Dt(a,u);var m=pe(u.value),x=u.type;if(m!=null)x==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(x==="submit"||x==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?lt(a,u.type,m):u.hasOwnProperty("defaultValue")&&lt(a,u.type,pe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function zn(a,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var x=u.type;if(!(x!=="submit"&&x!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,m||u===a.value||(a.value=u),a.defaultValue=u}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function lt(a,u,m){(u!=="number"||yt(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var $=Array.isArray;function J(a,u,m,x){if(a=a.options,u){u={};for(var S=0;S<m.length;S++)u["$"+m[S]]=!0;for(m=0;m<a.length;m++)S=u.hasOwnProperty("$"+a[m].value),a[m].selected!==S&&(a[m].selected=S),S&&x&&(a[m].defaultSelected=!0)}else{for(m=""+pe(m),u=null,S=0;S<a.length;S++){if(a[S].value===m){a[S].selected=!0,x&&(a[S].defaultSelected=!0);return}u!==null||a[S].disabled||(u=a[S])}u!==null&&(u.selected=!0)}}function te(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function fe(a,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if($(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}a._wrapperState={initialValue:pe(m)}}function he(a,u){var m=pe(u.value),x=pe(u.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),u.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),x!=null&&(a.defaultValue=""+x)}function se(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function ye(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?ye(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ze,xt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,x,S){MSApp.execUnsafeLocalFunction(function(){return a(u,m,x,S)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ze.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Vt(a,u){if(u){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=u;return}}a.textContent=u}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(a){$n.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),ft[u]=ft[a]})});function Ar(a,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||ft.hasOwnProperty(a)&&ft[a]?(""+u).trim():u+"px"}function Mr(a,u){a=a.style;for(var m in u)if(u.hasOwnProperty(m)){var x=m.indexOf("--")===0,S=Ar(m,u[m],x);m==="float"&&(m="cssFloat"),x?a.setProperty(m,S):a[m]=S}}var ke=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(a,u){if(u){if(ke[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function vt(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=null;function zt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ht=null,Qt=null,en=null;function Ct(a){if(a=Bc(a)){if(typeof Ht!="function")throw Error(n(280));var u=a.stateNode;u&&(u=ih(u),Ht(a.stateNode,a.type,u))}}function Ye(a){Qt?en?en.push(a):en=[a]:Qt=a}function ct(){if(Qt){var a=Qt,u=en;if(en=Qt=null,Ct(a),u)for(a=0;a<u.length;a++)Ct(u[a])}}function Be(a,u){return a(u)}function Tt(){}var In=!1;function gt(a,u,m){if(In)return a(u,m);In=!0;try{return Be(a,u,m)}finally{In=!1,(Qt!==null||en!==null)&&(Tt(),ct())}}function tn(a,u){var m=a.stateNode;if(m===null)return null;var x=ih(m);if(x===null)return null;m=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var Ir=!1;if(l)try{var bt={};Object.defineProperty(bt,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch{Ir=!1}function $t(a,u,m,x,S,E,A,O,W){var ne=Array.prototype.slice.call(arguments,3);try{u.apply(m,ne)}catch(de){this.onError(de)}}var Nn=!1,pr=null,Cc=!1,Ng=null,cj={onError:function(a){Nn=!0,pr=a}};function uj(a,u,m,x,S,E,A,O,W){Nn=!1,pr=null,$t.apply(cj,arguments)}function dj(a,u,m,x,S,E,A,O,W){if(uj.apply(this,arguments),Nn){if(Nn){var ne=pr;Nn=!1,pr=null}else throw Error(n(198));Cc||(Cc=!0,Ng=ne)}}function Bo(a){var u=a,m=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(m=u.return),a=u.return;while(a)}return u.tag===3?m:null}function jw(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Lw(a){if(Bo(a)!==a)throw Error(n(188))}function hj(a){var u=a.alternate;if(!u){if(u=Bo(a),u===null)throw Error(n(188));return u!==a?null:a}for(var m=a,x=u;;){var S=m.return;if(S===null)break;var E=S.alternate;if(E===null){if(x=S.return,x!==null){m=x;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===m)return Lw(S),a;if(E===x)return Lw(S),u;E=E.sibling}throw Error(n(188))}if(m.return!==x.return)m=S,x=E;else{for(var A=!1,O=S.child;O;){if(O===m){A=!0,m=S,x=E;break}if(O===x){A=!0,x=S,m=E;break}O=O.sibling}if(!A){for(O=E.child;O;){if(O===m){A=!0,m=E,x=S;break}if(O===x){A=!0,x=E,m=S;break}O=O.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:u}function Dw(a){return a=hj(a),a!==null?Ow(a):null}function Ow(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Ow(a);if(u!==null)return u;a=a.sibling}return null}var Vw=e.unstable_scheduleCallback,zw=e.unstable_cancelCallback,fj=e.unstable_shouldYield,mj=e.unstable_requestPaint,un=e.unstable_now,gj=e.unstable_getCurrentPriorityLevel,Fg=e.unstable_ImmediatePriority,$w=e.unstable_UserBlockingPriority,Od=e.unstable_NormalPriority,pj=e.unstable_LowPriority,Bw=e.unstable_IdlePriority,Vd=null,$i=null;function yj(a){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(Vd,a,void 0,(a.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:_j,xj=Math.log,vj=Math.LN2;function _j(a){return a>>>=0,a===0?32:31-(xj(a)/vj|0)|0}var zd=64,$d=4194304;function bc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Bd(a,u){var m=a.pendingLanes;if(m===0)return 0;var x=0,S=a.suspendedLanes,E=a.pingedLanes,A=m&268435455;if(A!==0){var O=A&~S;O!==0?x=bc(O):(E&=A,E!==0&&(x=bc(E)))}else A=m&~S,A!==0?x=bc(A):E!==0&&(x=bc(E));if(x===0)return 0;if(u!==0&&u!==x&&(u&S)===0&&(S=x&-x,E=u&-u,S>=E||S===16&&(E&4194240)!==0))return u;if((x&4)!==0&&(x|=m&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=x;0<u;)m=31-li(u),S=1<<m,x|=a[m],u&=~S;return x}function wj(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sj(a,u){for(var m=a.suspendedLanes,x=a.pingedLanes,S=a.expirationTimes,E=a.pendingLanes;0<E;){var A=31-li(E),O=1<<A,W=S[A];W===-1?((O&m)===0||(O&x)!==0)&&(S[A]=wj(O,u)):W<=u&&(a.expiredLanes|=O),E&=~O}}function jg(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Gw(){var a=zd;return zd<<=1,(zd&4194240)===0&&(zd=64),a}function Lg(a){for(var u=[],m=0;31>m;m++)u.push(a);return u}function Ec(a,u,m){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-li(u),a[u]=m}function Cj(a,u){var m=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var x=a.eventTimes;for(a=a.expirationTimes;0<m;){var S=31-li(m),E=1<<S;u[S]=0,x[S]=-1,a[S]=-1,m&=~E}}function Dg(a,u){var m=a.entangledLanes|=u;for(a=a.entanglements;m;){var x=31-li(m),S=1<<x;S&u|a[x]&u&&(a[x]|=u),m&=~S}}var At=0;function Uw(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Ww,Og,Hw,Xw,Kw,Vg=!1,Gd=[],Gs=null,Us=null,Ws=null,Rc=new Map,Tc=new Map,Hs=[],bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(a,u){switch(a){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Rc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(u.pointerId)}}function Pc(a,u,m,x,S,E){return a===null||a.nativeEvent!==E?(a={blockedOn:u,domEventName:m,eventSystemFlags:x,nativeEvent:E,targetContainers:[S]},u!==null&&(u=Bc(u),u!==null&&Og(u)),a):(a.eventSystemFlags|=x,u=a.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),a)}function Ej(a,u,m,x,S){switch(u){case"focusin":return Gs=Pc(Gs,a,u,m,x,S),!0;case"dragenter":return Us=Pc(Us,a,u,m,x,S),!0;case"mouseover":return Ws=Pc(Ws,a,u,m,x,S),!0;case"pointerover":var E=S.pointerId;return Rc.set(E,Pc(Rc.get(E)||null,a,u,m,x,S)),!0;case"gotpointercapture":return E=S.pointerId,Tc.set(E,Pc(Tc.get(E)||null,a,u,m,x,S)),!0}return!1}function Zw(a){var u=Go(a.target);if(u!==null){var m=Bo(u);if(m!==null){if(u=m.tag,u===13){if(u=jw(m),u!==null){a.blockedOn=u,Kw(a.priority,function(){Hw(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ud(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var m=$g(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var x=new m.constructor(m.type,m);St=x,m.target.dispatchEvent(x),St=null}else return u=Bc(m),u!==null&&Og(u),a.blockedOn=m,!1;u.shift()}return!0}function qw(a,u,m){Ud(a)&&m.delete(u)}function Rj(){Vg=!1,Gs!==null&&Ud(Gs)&&(Gs=null),Us!==null&&Ud(Us)&&(Us=null),Ws!==null&&Ud(Ws)&&(Ws=null),Rc.forEach(qw),Tc.forEach(qw)}function kc(a,u){a.blockedOn===u&&(a.blockedOn=null,Vg||(Vg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rj)))}function Ac(a){function u(S){return kc(S,a)}if(0<Gd.length){kc(Gd[0],a);for(var m=1;m<Gd.length;m++){var x=Gd[m];x.blockedOn===a&&(x.blockedOn=null)}}for(Gs!==null&&kc(Gs,a),Us!==null&&kc(Us,a),Ws!==null&&kc(Ws,a),Rc.forEach(u),Tc.forEach(u),m=0;m<Hs.length;m++)x=Hs[m],x.blockedOn===a&&(x.blockedOn=null);for(;0<Hs.length&&(m=Hs[0],m.blockedOn===null);)Zw(m),m.blockedOn===null&&Hs.shift()}var Xa=P.ReactCurrentBatchConfig,Wd=!0;function Tj(a,u,m,x){var S=At,E=Xa.transition;Xa.transition=null;try{At=1,zg(a,u,m,x)}finally{At=S,Xa.transition=E}}function Pj(a,u,m,x){var S=At,E=Xa.transition;Xa.transition=null;try{At=4,zg(a,u,m,x)}finally{At=S,Xa.transition=E}}function zg(a,u,m,x){if(Wd){var S=$g(a,u,m,x);if(S===null)ip(a,u,x,Hd,m),Yw(a,x);else if(Ej(S,a,u,m,x))x.stopPropagation();else if(Yw(a,x),u&4&&-1<bj.indexOf(a)){for(;S!==null;){var E=Bc(S);if(E!==null&&Ww(E),E=$g(a,u,m,x),E===null&&ip(a,u,x,Hd,m),E===S)break;S=E}S!==null&&x.stopPropagation()}else ip(a,u,x,null,m)}}var Hd=null;function $g(a,u,m,x){if(Hd=null,a=zt(x),a=Go(a),a!==null)if(u=Bo(a),u===null)a=null;else if(m=u.tag,m===13){if(a=jw(u),a!==null)return a;a=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Hd=a,null}function Jw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gj()){case Fg:return 1;case $w:return 4;case Od:case pj:return 16;case Bw:return 536870912;default:return 16}default:return 16}}var Xs=null,Bg=null,Xd=null;function Qw(){if(Xd)return Xd;var a,u=Bg,m=u.length,x,S="value"in Xs?Xs.value:Xs.textContent,E=S.length;for(a=0;a<m&&u[a]===S[a];a++);var A=m-a;for(x=1;x<=A&&u[m-x]===S[E-x];x++);return Xd=S.slice(a,1<x?1-x:void 0)}function Kd(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Yd(){return!0}function e1(){return!1}function Nr(a){function u(m,x,S,E,A){this._reactName=m,this._targetInst=S,this.type=x,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(m=a[O],this[O]=m?m(E):E[O]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Yd:e1,this.isPropagationStopped=e1,this}return q(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Yd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Yd)},persist:function(){},isPersistent:Yd}),u}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gg=Nr(Ka),Mc=q({},Ka,{view:0,detail:0}),kj=Nr(Mc),Ug,Wg,Ic,Zd=q({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ic&&(Ic&&a.type==="mousemove"?(Ug=a.screenX-Ic.screenX,Wg=a.screenY-Ic.screenY):Wg=Ug=0,Ic=a),Ug)},movementY:function(a){return"movementY"in a?a.movementY:Wg}}),t1=Nr(Zd),Aj=q({},Zd,{dataTransfer:0}),Mj=Nr(Aj),Ij=q({},Mc,{relatedTarget:0}),Hg=Nr(Ij),Nj=q({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Fj=Nr(Nj),jj=q({},Ka,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Lj=Nr(jj),Dj=q({},Ka,{data:0}),n1=Nr(Dj),Oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $j(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=zj[a])?!!u[a]:!1}function Xg(){return $j}var Bj=q({},Mc,{key:function(a){if(a.key){var u=Oj[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Kd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Vj[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(a){return a.type==="keypress"?Kd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Kd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Gj=Nr(Bj),Uj=q({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r1=Nr(Uj),Wj=q({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),Hj=Nr(Wj),Xj=q({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kj=Nr(Xj),Yj=q({},Zd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zj=Nr(Yj),qj=[9,13,27,32],Kg=l&&"CompositionEvent"in window,Nc=null;l&&"documentMode"in document&&(Nc=document.documentMode);var Jj=l&&"TextEvent"in window&&!Nc,i1=l&&(!Kg||Nc&&8<Nc&&11>=Nc),s1=" ",o1=!1;function a1(a,u){switch(a){case"keyup":return qj.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ya=!1;function Qj(a,u){switch(a){case"compositionend":return l1(u);case"keypress":return u.which!==32?null:(o1=!0,s1);case"textInput":return a=u.data,a===s1&&o1?null:a;default:return null}}function eL(a,u){if(Ya)return a==="compositionend"||!Kg&&a1(a,u)?(a=Qw(),Xd=Bg=Xs=null,Ya=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return i1&&u.locale!=="ko"?null:u.data;default:return null}}var tL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!tL[a.type]:u==="textarea"}function u1(a,u,m,x){Ye(x),u=th(u,"onChange"),0<u.length&&(m=new Gg("onChange","change",null,m,x),a.push({event:m,listeners:u}))}var Fc=null,jc=null;function nL(a){P1(a,0)}function qd(a){var u=el(a);if(Ve(u))return a}function rL(a,u){if(a==="change")return u}var d1=!1;if(l){var Yg;if(l){var Zg="oninput"in document;if(!Zg){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Zg=typeof h1.oninput=="function"}Yg=Zg}else Yg=!1;d1=Yg&&(!document.documentMode||9<document.documentMode)}function f1(){Fc&&(Fc.detachEvent("onpropertychange",m1),jc=Fc=null)}function m1(a){if(a.propertyName==="value"&&qd(jc)){var u=[];u1(u,jc,a,zt(a)),gt(nL,u)}}function iL(a,u,m){a==="focusin"?(f1(),Fc=u,jc=m,Fc.attachEvent("onpropertychange",m1)):a==="focusout"&&f1()}function sL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return qd(jc)}function oL(a,u){if(a==="click")return qd(u)}function aL(a,u){if(a==="input"||a==="change")return qd(u)}function lL(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ci=typeof Object.is=="function"?Object.is:lL;function Lc(a,u){if(ci(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var m=Object.keys(a),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var S=m[x];if(!c.call(u,S)||!ci(a[S],u[S]))return!1}return!0}function g1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function p1(a,u){var m=g1(a);a=0;for(var x;m;){if(m.nodeType===3){if(x=a+m.textContent.length,a<=u&&x>=u)return{node:m,offset:u-a};a=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=g1(m)}}function y1(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?y1(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function x1(){for(var a=window,u=yt();u instanceof a.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)a=u.contentWindow;else break;u=yt(a.document)}return u}function qg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function cL(a){var u=x1(),m=a.focusedElem,x=a.selectionRange;if(u!==m&&m&&m.ownerDocument&&y1(m.ownerDocument.documentElement,m)){if(x!==null&&qg(m)){if(u=x.start,a=x.end,a===void 0&&(a=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(a,m.value.length);else if(a=(u=m.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var S=m.textContent.length,E=Math.min(x.start,S);x=x.end===void 0?E:Math.min(x.end,S),!a.extend&&E>x&&(S=x,x=E,E=S),S=p1(m,E);var A=p1(m,x);S&&A&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),a.removeAllRanges(),E>x?(a.addRange(u),a.extend(A.node,A.offset)):(u.setEnd(A.node,A.offset),a.addRange(u)))}}for(u=[],a=m;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)a=u[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var uL=l&&"documentMode"in document&&11>=document.documentMode,Za=null,Jg=null,Dc=null,Qg=!1;function v1(a,u,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Qg||Za==null||Za!==yt(x)||(x=Za,"selectionStart"in x&&qg(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Dc&&Lc(Dc,x)||(Dc=x,x=th(Jg,"onSelect"),0<x.length&&(u=new Gg("onSelect","select",null,u,m),a.push({event:u,listeners:x}),u.target=Za)))}function Jd(a,u){var m={};return m[a.toLowerCase()]=u.toLowerCase(),m["Webkit"+a]="webkit"+u,m["Moz"+a]="moz"+u,m}var qa={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},ep={},_1={};l&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Qd(a){if(ep[a])return ep[a];if(!qa[a])return a;var u=qa[a],m;for(m in u)if(u.hasOwnProperty(m)&&m in _1)return ep[a]=u[m];return a}var w1=Qd("animationend"),S1=Qd("animationiteration"),C1=Qd("animationstart"),b1=Qd("transitionend"),E1=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(a,u){E1.set(a,u),s(u,[a])}for(var tp=0;tp<R1.length;tp++){var np=R1[tp],dL=np.toLowerCase(),hL=np[0].toUpperCase()+np.slice(1);Ks(dL,"on"+hL)}Ks(w1,"onAnimationEnd"),Ks(S1,"onAnimationIteration"),Ks(C1,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(b1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function T1(a,u,m){var x=a.type||"unknown-event";a.currentTarget=m,dj(x,u,void 0,a),a.currentTarget=null}function P1(a,u){u=(u&4)!==0;for(var m=0;m<a.length;m++){var x=a[m],S=x.event;x=x.listeners;e:{var E=void 0;if(u)for(var A=x.length-1;0<=A;A--){var O=x[A],W=O.instance,ne=O.currentTarget;if(O=O.listener,W!==E&&S.isPropagationStopped())break e;T1(S,O,ne),E=W}else for(A=0;A<x.length;A++){if(O=x[A],W=O.instance,ne=O.currentTarget,O=O.listener,W!==E&&S.isPropagationStopped())break e;T1(S,O,ne),E=W}}}if(Cc)throw a=Ng,Cc=!1,Ng=null,a}function Xt(a,u){var m=u[up];m===void 0&&(m=u[up]=new Set);var x=a+"__bubble";m.has(x)||(k1(u,a,2,!1),m.add(x))}function rp(a,u,m){var x=0;u&&(x|=4),k1(m,a,x,u)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Vc(a){if(!a[eh]){a[eh]=!0,r.forEach(function(m){m!=="selectionchange"&&(fL.has(m)||rp(m,!1,a),rp(m,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[eh]||(u[eh]=!0,rp("selectionchange",!1,u))}}function k1(a,u,m,x){switch(Jw(u)){case 1:var S=Tj;break;case 4:S=Pj;break;default:S=zg}m=S.bind(null,u,m,a),S=void 0,!Ir||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),x?S!==void 0?a.addEventListener(u,m,{capture:!0,passive:S}):a.addEventListener(u,m,!0):S!==void 0?a.addEventListener(u,m,{passive:S}):a.addEventListener(u,m,!1)}function ip(a,u,m,x,S){var E=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var O=x.stateNode.containerInfo;if(O===S||O.nodeType===8&&O.parentNode===S)break;if(A===4)for(A=x.return;A!==null;){var W=A.tag;if((W===3||W===4)&&(W=A.stateNode.containerInfo,W===S||W.nodeType===8&&W.parentNode===S))return;A=A.return}for(;O!==null;){if(A=Go(O),A===null)return;if(W=A.tag,W===5||W===6){x=E=A;continue e}O=O.parentNode}}x=x.return}gt(function(){var ne=E,de=zt(m),me=[];e:{var ue=E1.get(a);if(ue!==void 0){var Ee=Gg,Ae=a;switch(a){case"keypress":if(Kd(m)===0)break e;case"keydown":case"keyup":Ee=Gj;break;case"focusin":Ae="focus",Ee=Hg;break;case"focusout":Ae="blur",Ee=Hg;break;case"beforeblur":case"afterblur":Ee=Hg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=t1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Hj;break;case w1:case S1:case C1:Ee=Fj;break;case b1:Ee=Kj;break;case"scroll":Ee=kj;break;case"wheel":Ee=Zj;break;case"copy":case"cut":case"paste":Ee=Lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=r1}var Ne=(u&4)!==0,dn=!Ne&&a==="scroll",Q=Ne?ue!==null?ue+"Capture":null:ue;Ne=[];for(var K=ne,ee;K!==null;){ee=K;var xe=ee.stateNode;if(ee.tag===5&&xe!==null&&(ee=xe,Q!==null&&(xe=tn(K,Q),xe!=null&&Ne.push(zc(K,xe,ee)))),dn)break;K=K.return}0<Ne.length&&(ue=new Ee(ue,Ae,null,m,de),me.push({event:ue,listeners:Ne}))}}if((u&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",ue&&m!==St&&(Ae=m.relatedTarget||m.fromElement)&&(Go(Ae)||Ae[fs]))break e;if((Ee||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,Ee?(Ae=m.relatedTarget||m.toElement,Ee=ne,Ae=Ae?Go(Ae):null,Ae!==null&&(dn=Bo(Ae),Ae!==dn||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Ee=null,Ae=ne),Ee!==Ae)){if(Ne=t1,xe="onMouseLeave",Q="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=r1,xe="onPointerLeave",Q="onPointerEnter",K="pointer"),dn=Ee==null?ue:el(Ee),ee=Ae==null?ue:el(Ae),ue=new Ne(xe,K+"leave",Ee,m,de),ue.target=dn,ue.relatedTarget=ee,xe=null,Go(de)===ne&&(Ne=new Ne(Q,K+"enter",Ae,m,de),Ne.target=ee,Ne.relatedTarget=dn,xe=Ne),dn=xe,Ee&&Ae)t:{for(Ne=Ee,Q=Ae,K=0,ee=Ne;ee;ee=Ja(ee))K++;for(ee=0,xe=Q;xe;xe=Ja(xe))ee++;for(;0<K-ee;)Ne=Ja(Ne),K--;for(;0<ee-K;)Q=Ja(Q),ee--;for(;K--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=Ja(Ne),Q=Ja(Q)}Ne=null}else Ne=null;Ee!==null&&A1(me,ue,Ee,Ne,!1),Ae!==null&&dn!==null&&A1(me,dn,Ae,Ne,!0)}}e:{if(ue=ne?el(ne):window,Ee=ue.nodeName&&ue.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&ue.type==="file")var Le=rL;else if(c1(ue))if(d1)Le=aL;else{Le=sL;var Ue=iL}else(Ee=ue.nodeName)&&Ee.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Le=oL);if(Le&&(Le=Le(a,ne))){u1(me,Le,m,de);break e}Ue&&Ue(a,ue,ne),a==="focusout"&&(Ue=ue._wrapperState)&&Ue.controlled&&ue.type==="number"&&lt(ue,"number",ue.value)}switch(Ue=ne?el(ne):window,a){case"focusin":(c1(Ue)||Ue.contentEditable==="true")&&(Za=Ue,Jg=ne,Dc=null);break;case"focusout":Dc=Jg=Za=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,v1(me,m,de);break;case"selectionchange":if(uL)break;case"keydown":case"keyup":v1(me,m,de)}var We;if(Kg)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ya?a1(a,m)&&(Je="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(Je="onCompositionStart");Je&&(i1&&m.locale!=="ko"&&(Ya||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ya&&(We=Qw()):(Xs=de,Bg="value"in Xs?Xs.value:Xs.textContent,Ya=!0)),Ue=th(ne,Je),0<Ue.length&&(Je=new n1(Je,a,null,m,de),me.push({event:Je,listeners:Ue}),We?Je.data=We:(We=l1(m),We!==null&&(Je.data=We)))),(We=Jj?Qj(a,m):eL(a,m))&&(ne=th(ne,"onBeforeInput"),0<ne.length&&(de=new n1("onBeforeInput","beforeinput",null,m,de),me.push({event:de,listeners:ne}),de.data=We))}P1(me,u)})}function zc(a,u,m){return{instance:a,listener:u,currentTarget:m}}function th(a,u){for(var m=u+"Capture",x=[];a!==null;){var S=a,E=S.stateNode;S.tag===5&&E!==null&&(S=E,E=tn(a,m),E!=null&&x.unshift(zc(a,E,S)),E=tn(a,u),E!=null&&x.push(zc(a,E,S))),a=a.return}return x}function Ja(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function A1(a,u,m,x,S){for(var E=u._reactName,A=[];m!==null&&m!==x;){var O=m,W=O.alternate,ne=O.stateNode;if(W!==null&&W===x)break;O.tag===5&&ne!==null&&(O=ne,S?(W=tn(m,E),W!=null&&A.unshift(zc(m,W,O))):S||(W=tn(m,E),W!=null&&A.push(zc(m,W,O)))),m=m.return}A.length!==0&&a.push({event:u,listeners:A})}var mL=/\r\n?/g,gL=/\u0000|\uFFFD/g;function M1(a){return(typeof a=="string"?a:""+a).replace(mL,`
`).replace(gL,"")}function nh(a,u,m){if(u=M1(u),M1(a)!==u&&m)throw Error(n(425))}function rh(){}var sp=null,op=null;function ap(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,pL=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,yL=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(a){return I1.resolve(null).then(a).catch(xL)}:lp;function xL(a){setTimeout(function(){throw a})}function cp(a,u){var m=u,x=0;do{var S=m.nextSibling;if(a.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(x===0){a.removeChild(S),Ac(u);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=S}while(m);Ac(u)}function Ys(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function N1(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return a;u--}else m==="/$"&&u++}a=a.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Qa,$c="__reactProps$"+Qa,fs="__reactContainer$"+Qa,up="__reactEvents$"+Qa,vL="__reactListeners$"+Qa,_L="__reactHandles$"+Qa;function Go(a){var u=a[Bi];if(u)return u;for(var m=a.parentNode;m;){if(u=m[fs]||m[Bi]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(a=N1(a);a!==null;){if(m=a[Bi])return m;a=N1(a)}return u}a=m,m=a.parentNode}return null}function Bc(a){return a=a[Bi]||a[fs],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function el(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function ih(a){return a[$c]||null}var dp=[],tl=-1;function Zs(a){return{current:a}}function Kt(a){0>tl||(a.current=dp[tl],dp[tl]=null,tl--)}function Bt(a,u){tl++,dp[tl]=a.current,a.current=u}var qs={},Kn=Zs(qs),yr=Zs(!1),Uo=qs;function nl(a,u){var m=a.type.contextTypes;if(!m)return qs;var x=a.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var S={},E;for(E in m)S[E]=u[E];return x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=S),S}function xr(a){return a=a.childContextTypes,a!=null}function sh(){Kt(yr),Kt(Kn)}function F1(a,u,m){if(Kn.current!==qs)throw Error(n(168));Bt(Kn,u),Bt(yr,m)}function j1(a,u,m){var x=a.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var S in x)if(!(S in u))throw Error(n(108,ae(a)||"Unknown",S));return q({},m,x)}function oh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||qs,Uo=Kn.current,Bt(Kn,a),Bt(yr,yr.current),!0}function L1(a,u,m){var x=a.stateNode;if(!x)throw Error(n(169));m?(a=j1(a,u,Uo),x.__reactInternalMemoizedMergedChildContext=a,Kt(yr),Kt(Kn),Bt(Kn,a)):Kt(yr),Bt(yr,m)}var ms=null,ah=!1,hp=!1;function D1(a){ms===null?ms=[a]:ms.push(a)}function wL(a){ah=!0,D1(a)}function Js(){if(!hp&&ms!==null){hp=!0;var a=0,u=At;try{var m=ms;for(At=1;a<m.length;a++){var x=m[a];do x=x(!0);while(x!==null)}ms=null,ah=!1}catch(S){throw ms!==null&&(ms=ms.slice(a+1)),Vw(Fg,Js),S}finally{At=u,hp=!1}}return null}var rl=[],il=0,lh=null,ch=0,Kr=[],Yr=0,Wo=null,gs=1,ps="";function Ho(a,u){rl[il++]=ch,rl[il++]=lh,lh=a,ch=u}function O1(a,u,m){Kr[Yr++]=gs,Kr[Yr++]=ps,Kr[Yr++]=Wo,Wo=a;var x=gs;a=ps;var S=32-li(x)-1;x&=~(1<<S),m+=1;var E=32-li(u)+S;if(30<E){var A=S-S%5;E=(x&(1<<A)-1).toString(32),x>>=A,S-=A,gs=1<<32-li(u)+S|m<<S|x,ps=E+a}else gs=1<<E|m<<S|x,ps=a}function fp(a){a.return!==null&&(Ho(a,1),O1(a,1,0))}function mp(a){for(;a===lh;)lh=rl[--il],rl[il]=null,ch=rl[--il],rl[il]=null;for(;a===Wo;)Wo=Kr[--Yr],Kr[Yr]=null,ps=Kr[--Yr],Kr[Yr]=null,gs=Kr[--Yr],Kr[Yr]=null}var Fr=null,jr=null,qt=!1,ui=null;function V1(a,u){var m=Qr(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=a,u=a.deletions,u===null?(a.deletions=[m],a.flags|=16):u.push(m)}function z1(a,u){switch(a.tag){case 5:var m=a.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Fr=a,jr=Ys(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Fr=a,jr=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Wo!==null?{id:gs,overflow:ps}:null,a.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Qr(18,null,null,0),m.stateNode=u,m.return=a,a.child=m,Fr=a,jr=null,!0):!1;default:return!1}}function gp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function pp(a){if(qt){var u=jr;if(u){var m=u;if(!z1(a,u)){if(gp(a))throw Error(n(418));u=Ys(m.nextSibling);var x=Fr;u&&z1(a,u)?V1(x,m):(a.flags=a.flags&-4097|2,qt=!1,Fr=a)}}else{if(gp(a))throw Error(n(418));a.flags=a.flags&-4097|2,qt=!1,Fr=a}}}function $1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Fr=a}function uh(a){if(a!==Fr)return!1;if(!qt)return $1(a),qt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!ap(a.type,a.memoizedProps)),u&&(u=jr)){if(gp(a))throw B1(),Error(n(418));for(;u;)V1(a,u),u=Ys(u.nextSibling)}if($1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(u===0){jr=Ys(a.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}a=a.nextSibling}jr=null}}else jr=Fr?Ys(a.stateNode.nextSibling):null;return!0}function B1(){for(var a=jr;a;)a=Ys(a.nextSibling)}function sl(){jr=Fr=null,qt=!1}function yp(a){ui===null?ui=[a]:ui.push(a)}var SL=P.ReactCurrentBatchConfig;function Gc(a,u,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,a));var S=x,E=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(A){var O=S.refs;A===null?delete O[E]:O[E]=A},u._stringRef=E,u)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function dh(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function G1(a){var u=a._init;return u(a._payload)}function U1(a){function u(Q,K){if(a){var ee=Q.deletions;ee===null?(Q.deletions=[K],Q.flags|=16):ee.push(K)}}function m(Q,K){if(!a)return null;for(;K!==null;)u(Q,K),K=K.sibling;return null}function x(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function S(Q,K){return Q=oo(Q,K),Q.index=0,Q.sibling=null,Q}function E(Q,K,ee){return Q.index=ee,a?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<K?(Q.flags|=2,K):ee):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function A(Q){return a&&Q.alternate===null&&(Q.flags|=2),Q}function O(Q,K,ee,xe){return K===null||K.tag!==6?(K=ly(ee,Q.mode,xe),K.return=Q,K):(K=S(K,ee),K.return=Q,K)}function W(Q,K,ee,xe){var Le=ee.type;return Le===F?de(Q,K,ee.props.children,xe,ee.key):K!==null&&(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Y&&G1(Le)===K.type)?(xe=S(K,ee.props),xe.ref=Gc(Q,K,ee),xe.return=Q,xe):(xe=jh(ee.type,ee.key,ee.props,null,Q.mode,xe),xe.ref=Gc(Q,K,ee),xe.return=Q,xe)}function ne(Q,K,ee,xe){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=cy(ee,Q.mode,xe),K.return=Q,K):(K=S(K,ee.children||[]),K.return=Q,K)}function de(Q,K,ee,xe,Le){return K===null||K.tag!==7?(K=ea(ee,Q.mode,xe,Le),K.return=Q,K):(K=S(K,ee),K.return=Q,K)}function me(Q,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=ly(""+K,Q.mode,ee),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return ee=jh(K.type,K.key,K.props,null,Q.mode,ee),ee.ref=Gc(Q,null,K),ee.return=Q,ee;case M:return K=cy(K,Q.mode,ee),K.return=Q,K;case Y:var xe=K._init;return me(Q,xe(K._payload),ee)}if($(K)||U(K))return K=ea(K,Q.mode,ee,null),K.return=Q,K;dh(Q,K)}return null}function ue(Q,K,ee,xe){var Le=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Le!==null?null:O(Q,K,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return ee.key===Le?W(Q,K,ee,xe):null;case M:return ee.key===Le?ne(Q,K,ee,xe):null;case Y:return Le=ee._init,ue(Q,K,Le(ee._payload),xe)}if($(ee)||U(ee))return Le!==null?null:de(Q,K,ee,xe,null);dh(Q,ee)}return null}function Ee(Q,K,ee,xe,Le){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return Q=Q.get(ee)||null,O(K,Q,""+xe,Le);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case k:return Q=Q.get(xe.key===null?ee:xe.key)||null,W(K,Q,xe,Le);case M:return Q=Q.get(xe.key===null?ee:xe.key)||null,ne(K,Q,xe,Le);case Y:var Ue=xe._init;return Ee(Q,K,ee,Ue(xe._payload),Le)}if($(xe)||U(xe))return Q=Q.get(ee)||null,de(K,Q,xe,Le,null);dh(K,xe)}return null}function Ae(Q,K,ee,xe){for(var Le=null,Ue=null,We=K,Je=K=0,Ln=null;We!==null&&Je<ee.length;Je++){We.index>Je?(Ln=We,We=null):Ln=We.sibling;var Et=ue(Q,We,ee[Je],xe);if(Et===null){We===null&&(We=Ln);break}a&&We&&Et.alternate===null&&u(Q,We),K=E(Et,K,Je),Ue===null?Le=Et:Ue.sibling=Et,Ue=Et,We=Ln}if(Je===ee.length)return m(Q,We),qt&&Ho(Q,Je),Le;if(We===null){for(;Je<ee.length;Je++)We=me(Q,ee[Je],xe),We!==null&&(K=E(We,K,Je),Ue===null?Le=We:Ue.sibling=We,Ue=We);return qt&&Ho(Q,Je),Le}for(We=x(Q,We);Je<ee.length;Je++)Ln=Ee(We,Q,Je,ee[Je],xe),Ln!==null&&(a&&Ln.alternate!==null&&We.delete(Ln.key===null?Je:Ln.key),K=E(Ln,K,Je),Ue===null?Le=Ln:Ue.sibling=Ln,Ue=Ln);return a&&We.forEach(function(ao){return u(Q,ao)}),qt&&Ho(Q,Je),Le}function Ne(Q,K,ee,xe){var Le=U(ee);if(typeof Le!="function")throw Error(n(150));if(ee=Le.call(ee),ee==null)throw Error(n(151));for(var Ue=Le=null,We=K,Je=K=0,Ln=null,Et=ee.next();We!==null&&!Et.done;Je++,Et=ee.next()){We.index>Je?(Ln=We,We=null):Ln=We.sibling;var ao=ue(Q,We,Et.value,xe);if(ao===null){We===null&&(We=Ln);break}a&&We&&ao.alternate===null&&u(Q,We),K=E(ao,K,Je),Ue===null?Le=ao:Ue.sibling=ao,Ue=ao,We=Ln}if(Et.done)return m(Q,We),qt&&Ho(Q,Je),Le;if(We===null){for(;!Et.done;Je++,Et=ee.next())Et=me(Q,Et.value,xe),Et!==null&&(K=E(Et,K,Je),Ue===null?Le=Et:Ue.sibling=Et,Ue=Et);return qt&&Ho(Q,Je),Le}for(We=x(Q,We);!Et.done;Je++,Et=ee.next())Et=Ee(We,Q,Je,Et.value,xe),Et!==null&&(a&&Et.alternate!==null&&We.delete(Et.key===null?Je:Et.key),K=E(Et,K,Je),Ue===null?Le=Et:Ue.sibling=Et,Ue=Et);return a&&We.forEach(function(tD){return u(Q,tD)}),qt&&Ho(Q,Je),Le}function dn(Q,K,ee,xe){if(typeof ee=="object"&&ee!==null&&ee.type===F&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:e:{for(var Le=ee.key,Ue=K;Ue!==null;){if(Ue.key===Le){if(Le=ee.type,Le===F){if(Ue.tag===7){m(Q,Ue.sibling),K=S(Ue,ee.props.children),K.return=Q,Q=K;break e}}else if(Ue.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Y&&G1(Le)===Ue.type){m(Q,Ue.sibling),K=S(Ue,ee.props),K.ref=Gc(Q,Ue,ee),K.return=Q,Q=K;break e}m(Q,Ue);break}else u(Q,Ue);Ue=Ue.sibling}ee.type===F?(K=ea(ee.props.children,Q.mode,xe,ee.key),K.return=Q,Q=K):(xe=jh(ee.type,ee.key,ee.props,null,Q.mode,xe),xe.ref=Gc(Q,K,ee),xe.return=Q,Q=xe)}return A(Q);case M:e:{for(Ue=ee.key;K!==null;){if(K.key===Ue)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){m(Q,K.sibling),K=S(K,ee.children||[]),K.return=Q,Q=K;break e}else{m(Q,K);break}else u(Q,K);K=K.sibling}K=cy(ee,Q.mode,xe),K.return=Q,Q=K}return A(Q);case Y:return Ue=ee._init,dn(Q,K,Ue(ee._payload),xe)}if($(ee))return Ae(Q,K,ee,xe);if(U(ee))return Ne(Q,K,ee,xe);dh(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(m(Q,K.sibling),K=S(K,ee),K.return=Q,Q=K):(m(Q,K),K=ly(ee,Q.mode,xe),K.return=Q,Q=K),A(Q)):m(Q,K)}return dn}var ol=U1(!0),W1=U1(!1),hh=Zs(null),fh=null,al=null,xp=null;function vp(){xp=al=fh=null}function _p(a){var u=hh.current;Kt(hh),a._currentValue=u}function wp(a,u,m){for(;a!==null;){var x=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),a===m)break;a=a.return}}function ll(a,u){fh=a,xp=al=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(vr=!0),a.firstContext=null)}function Zr(a){var u=a._currentValue;if(xp!==a)if(a={context:a,memoizedValue:u,next:null},al===null){if(fh===null)throw Error(n(308));al=a,fh.dependencies={lanes:0,firstContext:a}}else al=al.next=a;return u}var Xo=null;function Sp(a){Xo===null?Xo=[a]:Xo.push(a)}function H1(a,u,m,x){var S=u.interleaved;return S===null?(m.next=m,Sp(u)):(m.next=S.next,S.next=m),u.interleaved=m,ys(a,x)}function ys(a,u){a.lanes|=u;var m=a.alternate;for(m!==null&&(m.lanes|=u),m=a,a=a.return;a!==null;)a.childLanes|=u,m=a.alternate,m!==null&&(m.childLanes|=u),m=a,a=a.return;return m.tag===3?m.stateNode:null}var Qs=!1;function Cp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X1(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function xs(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function eo(a,u,m){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(_t&2)!==0){var S=x.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),x.pending=u,ys(a,m)}return S=x.interleaved,S===null?(u.next=u,Sp(x)):(u.next=S.next,S.next=u),x.interleaved=u,ys(a,m)}function mh(a,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var x=u.lanes;x&=a.pendingLanes,m|=x,u.lanes=m,Dg(a,m)}}function K1(a,u){var m=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var S=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?S=E=A:E=E.next=A,m=m.next}while(m!==null);E===null?S=E=u:E=E.next=u}else S=E=u;m={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:x.shared,effects:x.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=u}function gh(a,u,m,x){var S=a.updateQueue;Qs=!1;var E=S.firstBaseUpdate,A=S.lastBaseUpdate,O=S.shared.pending;if(O!==null){S.shared.pending=null;var W=O,ne=W.next;W.next=null,A===null?E=ne:A.next=ne,A=W;var de=a.alternate;de!==null&&(de=de.updateQueue,O=de.lastBaseUpdate,O!==A&&(O===null?de.firstBaseUpdate=ne:O.next=ne,de.lastBaseUpdate=W))}if(E!==null){var me=S.baseState;A=0,de=ne=W=null,O=E;do{var ue=O.lane,Ee=O.eventTime;if((x&ue)===ue){de!==null&&(de=de.next={eventTime:Ee,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ae=a,Ne=O;switch(ue=u,Ee=m,Ne.tag){case 1:if(Ae=Ne.payload,typeof Ae=="function"){me=Ae.call(Ee,me,ue);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ne.payload,ue=typeof Ae=="function"?Ae.call(Ee,me,ue):Ae,ue==null)break e;me=q({},me,ue);break e;case 2:Qs=!0}}O.callback!==null&&O.lane!==0&&(a.flags|=64,ue=S.effects,ue===null?S.effects=[O]:ue.push(O))}else Ee={eventTime:Ee,lane:ue,tag:O.tag,payload:O.payload,callback:O.callback,next:null},de===null?(ne=de=Ee,W=me):de=de.next=Ee,A|=ue;if(O=O.next,O===null){if(O=S.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,S.lastBaseUpdate=ue,S.shared.pending=null}}while(!0);if(de===null&&(W=me),S.baseState=W,S.firstBaseUpdate=ne,S.lastBaseUpdate=de,u=S.shared.interleaved,u!==null){S=u;do A|=S.lane,S=S.next;while(S!==u)}else E===null&&(S.shared.lanes=0);Zo|=A,a.lanes=A,a.memoizedState=me}}function Y1(a,u,m){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var x=a[u],S=x.callback;if(S!==null){if(x.callback=null,x=m,typeof S!="function")throw Error(n(191,S));S.call(x)}}}var Uc={},Gi=Zs(Uc),Wc=Zs(Uc),Hc=Zs(Uc);function Ko(a){if(a===Uc)throw Error(n(174));return a}function bp(a,u){switch(Bt(Hc,u),Bt(Wc,a),Bt(Gi,Uc),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:je(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=je(u,a)}Kt(Gi),Bt(Gi,u)}function cl(){Kt(Gi),Kt(Wc),Kt(Hc)}function Z1(a){Ko(Hc.current);var u=Ko(Gi.current),m=je(u,a.type);u!==m&&(Bt(Wc,a),Bt(Gi,m))}function Ep(a){Wc.current===a&&(Kt(Gi),Kt(Wc))}var nn=Zs(0);function ph(a){for(var u=a;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Rp=[];function Tp(){for(var a=0;a<Rp.length;a++)Rp[a]._workInProgressVersionPrimary=null;Rp.length=0}var yh=P.ReactCurrentDispatcher,Pp=P.ReactCurrentBatchConfig,Yo=0,rn=null,bn=null,Fn=null,xh=!1,Xc=!1,Kc=0,CL=0;function Yn(){throw Error(n(321))}function kp(a,u){if(u===null)return!1;for(var m=0;m<u.length&&m<a.length;m++)if(!ci(a[m],u[m]))return!1;return!0}function Ap(a,u,m,x,S,E){if(Yo=E,rn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,yh.current=a===null||a.memoizedState===null?TL:PL,a=m(x,S),Xc){E=0;do{if(Xc=!1,Kc=0,25<=E)throw Error(n(301));E+=1,Fn=bn=null,u.updateQueue=null,yh.current=kL,a=m(x,S)}while(Xc)}if(yh.current=wh,u=bn!==null&&bn.next!==null,Yo=0,Fn=bn=rn=null,xh=!1,u)throw Error(n(300));return a}function Mp(){var a=Kc!==0;return Kc=0,a}function Ui(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?rn.memoizedState=Fn=a:Fn=Fn.next=a,Fn}function qr(){if(bn===null){var a=rn.alternate;a=a!==null?a.memoizedState:null}else a=bn.next;var u=Fn===null?rn.memoizedState:Fn.next;if(u!==null)Fn=u,bn=a;else{if(a===null)throw Error(n(310));bn=a,a={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Fn===null?rn.memoizedState=Fn=a:Fn=Fn.next=a}return Fn}function Yc(a,u){return typeof u=="function"?u(a):u}function Ip(a){var u=qr(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var x=bn,S=x.baseQueue,E=m.pending;if(E!==null){if(S!==null){var A=S.next;S.next=E.next,E.next=A}x.baseQueue=S=E,m.pending=null}if(S!==null){E=S.next,x=x.baseState;var O=A=null,W=null,ne=E;do{var de=ne.lane;if((Yo&de)===de)W!==null&&(W=W.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),x=ne.hasEagerState?ne.eagerState:a(x,ne.action);else{var me={lane:de,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};W===null?(O=W=me,A=x):W=W.next=me,rn.lanes|=de,Zo|=de}ne=ne.next}while(ne!==null&&ne!==E);W===null?A=x:W.next=O,ci(x,u.memoizedState)||(vr=!0),u.memoizedState=x,u.baseState=A,u.baseQueue=W,m.lastRenderedState=x}if(a=m.interleaved,a!==null){S=a;do E=S.lane,rn.lanes|=E,Zo|=E,S=S.next;while(S!==a)}else S===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Np(a){var u=qr(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var x=m.dispatch,S=m.pending,E=u.memoizedState;if(S!==null){m.pending=null;var A=S=S.next;do E=a(E,A.action),A=A.next;while(A!==S);ci(E,u.memoizedState)||(vr=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),m.lastRenderedState=E}return[E,x]}function q1(){}function J1(a,u){var m=rn,x=qr(),S=u(),E=!ci(x.memoizedState,S);if(E&&(x.memoizedState=S,vr=!0),x=x.queue,Fp(tS.bind(null,m,x,a),[a]),x.getSnapshot!==u||E||Fn!==null&&Fn.memoizedState.tag&1){if(m.flags|=2048,Zc(9,eS.bind(null,m,x,S,u),void 0,null),jn===null)throw Error(n(349));(Yo&30)!==0||Q1(m,u,S)}return S}function Q1(a,u,m){a.flags|=16384,a={getSnapshot:u,value:m},u=rn.updateQueue,u===null?(u={lastEffect:null,stores:null},rn.updateQueue=u,u.stores=[a]):(m=u.stores,m===null?u.stores=[a]:m.push(a))}function eS(a,u,m,x){u.value=m,u.getSnapshot=x,nS(u)&&rS(a)}function tS(a,u,m){return m(function(){nS(u)&&rS(a)})}function nS(a){var u=a.getSnapshot;a=a.value;try{var m=u();return!ci(a,m)}catch{return!0}}function rS(a){var u=ys(a,1);u!==null&&mi(u,a,1,-1)}function iS(a){var u=Ui();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:a},u.queue=a,a=a.dispatch=RL.bind(null,rn,a),[u.memoizedState,a]}function Zc(a,u,m,x){return a={tag:a,create:u,destroy:m,deps:x,next:null},u=rn.updateQueue,u===null?(u={lastEffect:null,stores:null},rn.updateQueue=u,u.lastEffect=a.next=a):(m=u.lastEffect,m===null?u.lastEffect=a.next=a:(x=m.next,m.next=a,a.next=x,u.lastEffect=a)),a}function sS(){return qr().memoizedState}function vh(a,u,m,x){var S=Ui();rn.flags|=a,S.memoizedState=Zc(1|u,m,void 0,x===void 0?null:x)}function _h(a,u,m,x){var S=qr();x=x===void 0?null:x;var E=void 0;if(bn!==null){var A=bn.memoizedState;if(E=A.destroy,x!==null&&kp(x,A.deps)){S.memoizedState=Zc(u,m,E,x);return}}rn.flags|=a,S.memoizedState=Zc(1|u,m,E,x)}function oS(a,u){return vh(8390656,8,a,u)}function Fp(a,u){return _h(2048,8,a,u)}function aS(a,u){return _h(4,2,a,u)}function lS(a,u){return _h(4,4,a,u)}function cS(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function uS(a,u,m){return m=m!=null?m.concat([a]):null,_h(4,4,cS.bind(null,u,a),m)}function jp(){}function dS(a,u){var m=qr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&kp(u,x[1])?x[0]:(m.memoizedState=[a,u],a)}function hS(a,u){var m=qr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&kp(u,x[1])?x[0]:(a=a(),m.memoizedState=[a,u],a)}function fS(a,u,m){return(Yo&21)===0?(a.baseState&&(a.baseState=!1,vr=!0),a.memoizedState=m):(ci(m,u)||(m=Gw(),rn.lanes|=m,Zo|=m,a.baseState=!0),u)}function bL(a,u){var m=At;At=m!==0&&4>m?m:4,a(!0);var x=Pp.transition;Pp.transition={};try{a(!1),u()}finally{At=m,Pp.transition=x}}function mS(){return qr().memoizedState}function EL(a,u,m){var x=io(a);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},gS(a))pS(u,m);else if(m=H1(a,u,m,x),m!==null){var S=cr();mi(m,a,x,S),yS(m,u,x)}}function RL(a,u,m){var x=io(a),S={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(gS(a))pS(u,S);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var A=u.lastRenderedState,O=E(A,m);if(S.hasEagerState=!0,S.eagerState=O,ci(O,A)){var W=u.interleaved;W===null?(S.next=S,Sp(u)):(S.next=W.next,W.next=S),u.interleaved=S;return}}catch{}finally{}m=H1(a,u,S,x),m!==null&&(S=cr(),mi(m,a,x,S),yS(m,u,x))}}function gS(a){var u=a.alternate;return a===rn||u!==null&&u===rn}function pS(a,u){Xc=xh=!0;var m=a.pending;m===null?u.next=u:(u.next=m.next,m.next=u),a.pending=u}function yS(a,u,m){if((m&4194240)!==0){var x=u.lanes;x&=a.pendingLanes,m|=x,u.lanes=m,Dg(a,m)}}var wh={readContext:Zr,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},TL={readContext:Zr,useCallback:function(a,u){return Ui().memoizedState=[a,u===void 0?null:u],a},useContext:Zr,useEffect:oS,useImperativeHandle:function(a,u,m){return m=m!=null?m.concat([a]):null,vh(4194308,4,cS.bind(null,u,a),m)},useLayoutEffect:function(a,u){return vh(4194308,4,a,u)},useInsertionEffect:function(a,u){return vh(4,2,a,u)},useMemo:function(a,u){var m=Ui();return u=u===void 0?null:u,a=a(),m.memoizedState=[a,u],a},useReducer:function(a,u,m){var x=Ui();return u=m!==void 0?m(u):u,x.memoizedState=x.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},x.queue=a,a=a.dispatch=EL.bind(null,rn,a),[x.memoizedState,a]},useRef:function(a){var u=Ui();return a={current:a},u.memoizedState=a},useState:iS,useDebugValue:jp,useDeferredValue:function(a){return Ui().memoizedState=a},useTransition:function(){var a=iS(!1),u=a[0];return a=bL.bind(null,a[1]),Ui().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,m){var x=rn,S=Ui();if(qt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),jn===null)throw Error(n(349));(Yo&30)!==0||Q1(x,u,m)}S.memoizedState=m;var E={value:m,getSnapshot:u};return S.queue=E,oS(tS.bind(null,x,E,a),[a]),x.flags|=2048,Zc(9,eS.bind(null,x,E,m,u),void 0,null),m},useId:function(){var a=Ui(),u=jn.identifierPrefix;if(qt){var m=ps,x=gs;m=(x&~(1<<32-li(x)-1)).toString(32)+m,u=":"+u+"R"+m,m=Kc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=CL++,u=":"+u+"r"+m.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},PL={readContext:Zr,useCallback:dS,useContext:Zr,useEffect:Fp,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:hS,useReducer:Ip,useRef:sS,useState:function(){return Ip(Yc)},useDebugValue:jp,useDeferredValue:function(a){var u=qr();return fS(u,bn.memoizedState,a)},useTransition:function(){var a=Ip(Yc)[0],u=qr().memoizedState;return[a,u]},useMutableSource:q1,useSyncExternalStore:J1,useId:mS,unstable_isNewReconciler:!1},kL={readContext:Zr,useCallback:dS,useContext:Zr,useEffect:Fp,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:hS,useReducer:Np,useRef:sS,useState:function(){return Np(Yc)},useDebugValue:jp,useDeferredValue:function(a){var u=qr();return bn===null?u.memoizedState=a:fS(u,bn.memoizedState,a)},useTransition:function(){var a=Np(Yc)[0],u=qr().memoizedState;return[a,u]},useMutableSource:q1,useSyncExternalStore:J1,useId:mS,unstable_isNewReconciler:!1};function di(a,u){if(a&&a.defaultProps){u=q({},u),a=a.defaultProps;for(var m in a)u[m]===void 0&&(u[m]=a[m]);return u}return u}function Lp(a,u,m,x){u=a.memoizedState,m=m(x,u),m=m==null?u:q({},u,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var Sh={isMounted:function(a){return(a=a._reactInternals)?Bo(a)===a:!1},enqueueSetState:function(a,u,m){a=a._reactInternals;var x=cr(),S=io(a),E=xs(x,S);E.payload=u,m!=null&&(E.callback=m),u=eo(a,E,S),u!==null&&(mi(u,a,S,x),mh(u,a,S))},enqueueReplaceState:function(a,u,m){a=a._reactInternals;var x=cr(),S=io(a),E=xs(x,S);E.tag=1,E.payload=u,m!=null&&(E.callback=m),u=eo(a,E,S),u!==null&&(mi(u,a,S,x),mh(u,a,S))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var m=cr(),x=io(a),S=xs(m,x);S.tag=2,u!=null&&(S.callback=u),u=eo(a,S,x),u!==null&&(mi(u,a,x,m),mh(u,a,x))}};function xS(a,u,m,x,S,E,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,E,A):u.prototype&&u.prototype.isPureReactComponent?!Lc(m,x)||!Lc(S,E):!0}function vS(a,u,m){var x=!1,S=qs,E=u.contextType;return typeof E=="object"&&E!==null?E=Zr(E):(S=xr(u)?Uo:Kn.current,x=u.contextTypes,E=(x=x!=null)?nl(a,S):qs),u=new u(m,E),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Sh,a.stateNode=u,u._reactInternals=a,x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=E),u}function _S(a,u,m,x){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==a&&Sh.enqueueReplaceState(u,u.state,null)}function Dp(a,u,m,x){var S=a.stateNode;S.props=m,S.state=a.memoizedState,S.refs={},Cp(a);var E=u.contextType;typeof E=="object"&&E!==null?S.context=Zr(E):(E=xr(u)?Uo:Kn.current,S.context=nl(a,E)),S.state=a.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Lp(a,u,E,m),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Sh.enqueueReplaceState(S,S.state,null),gh(a,m,S,x),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function ul(a,u){try{var m="",x=u;do m+=ce(x),x=x.return;while(x);var S=m}catch(E){S=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:u,stack:S,digest:null}}function Op(a,u,m){return{value:a,source:null,stack:m??null,digest:u??null}}function Vp(a,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var AL=typeof WeakMap=="function"?WeakMap:Map;function wS(a,u,m){m=xs(-1,m),m.tag=3,m.payload={element:null};var x=u.value;return m.callback=function(){kh||(kh=!0,ey=x),Vp(a,u)},m}function SS(a,u,m){m=xs(-1,m),m.tag=3;var x=a.type.getDerivedStateFromError;if(typeof x=="function"){var S=u.value;m.payload=function(){return x(S)},m.callback=function(){Vp(a,u)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){Vp(a,u),typeof x!="function"&&(no===null?no=new Set([this]):no.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})}),m}function CS(a,u,m){var x=a.pingCache;if(x===null){x=a.pingCache=new AL;var S=new Set;x.set(u,S)}else S=x.get(u),S===void 0&&(S=new Set,x.set(u,S));S.has(m)||(S.add(m),a=UL.bind(null,a,u,m),u.then(a,a))}function bS(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function ES(a,u,m,x,S){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=xs(-1,1),u.tag=2,eo(m,u,1))),m.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var ML=P.ReactCurrentOwner,vr=!1;function lr(a,u,m,x){u.child=a===null?W1(u,null,m,x):ol(u,a.child,m,x)}function RS(a,u,m,x,S){m=m.render;var E=u.ref;return ll(u,S),x=Ap(a,u,m,x,E,S),m=Mp(),a!==null&&!vr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,vs(a,u,S)):(qt&&m&&fp(u),u.flags|=1,lr(a,u,x,S),u.child)}function TS(a,u,m,x,S){if(a===null){var E=m.type;return typeof E=="function"&&!ay(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=E,PS(a,u,E,x,S)):(a=jh(m.type,null,x,u,u.mode,S),a.ref=u.ref,a.return=u,u.child=a)}if(E=a.child,(a.lanes&S)===0){var A=E.memoizedProps;if(m=m.compare,m=m!==null?m:Lc,m(A,x)&&a.ref===u.ref)return vs(a,u,S)}return u.flags|=1,a=oo(E,x),a.ref=u.ref,a.return=u,u.child=a}function PS(a,u,m,x,S){if(a!==null){var E=a.memoizedProps;if(Lc(E,x)&&a.ref===u.ref)if(vr=!1,u.pendingProps=x=E,(a.lanes&S)!==0)(a.flags&131072)!==0&&(vr=!0);else return u.lanes=a.lanes,vs(a,u,S)}return zp(a,u,m,x,S)}function kS(a,u,m){var x=u.pendingProps,S=x.children,E=a!==null?a.memoizedState:null;if(x.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(hl,Lr),Lr|=m;else{if((m&1073741824)===0)return a=E!==null?E.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,Bt(hl,Lr),Lr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=E!==null?E.baseLanes:m,Bt(hl,Lr),Lr|=x}else E!==null?(x=E.baseLanes|m,u.memoizedState=null):x=m,Bt(hl,Lr),Lr|=x;return lr(a,u,S,m),u.child}function AS(a,u){var m=u.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function zp(a,u,m,x,S){var E=xr(m)?Uo:Kn.current;return E=nl(u,E),ll(u,S),m=Ap(a,u,m,x,E,S),x=Mp(),a!==null&&!vr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,vs(a,u,S)):(qt&&x&&fp(u),u.flags|=1,lr(a,u,m,S),u.child)}function MS(a,u,m,x,S){if(xr(m)){var E=!0;oh(u)}else E=!1;if(ll(u,S),u.stateNode===null)bh(a,u),vS(u,m,x),Dp(u,m,x,S),x=!0;else if(a===null){var A=u.stateNode,O=u.memoizedProps;A.props=O;var W=A.context,ne=m.contextType;typeof ne=="object"&&ne!==null?ne=Zr(ne):(ne=xr(m)?Uo:Kn.current,ne=nl(u,ne));var de=m.getDerivedStateFromProps,me=typeof de=="function"||typeof A.getSnapshotBeforeUpdate=="function";me||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==x||W!==ne)&&_S(u,A,x,ne),Qs=!1;var ue=u.memoizedState;A.state=ue,gh(u,x,A,S),W=u.memoizedState,O!==x||ue!==W||yr.current||Qs?(typeof de=="function"&&(Lp(u,m,de,x),W=u.memoizedState),(O=Qs||xS(u,m,O,x,ue,W,ne))?(me||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=W),A.props=x,A.state=W,A.context=ne,x=O):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{A=u.stateNode,X1(a,u),O=u.memoizedProps,ne=u.type===u.elementType?O:di(u.type,O),A.props=ne,me=u.pendingProps,ue=A.context,W=m.contextType,typeof W=="object"&&W!==null?W=Zr(W):(W=xr(m)?Uo:Kn.current,W=nl(u,W));var Ee=m.getDerivedStateFromProps;(de=typeof Ee=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==me||ue!==W)&&_S(u,A,x,W),Qs=!1,ue=u.memoizedState,A.state=ue,gh(u,x,A,S);var Ae=u.memoizedState;O!==me||ue!==Ae||yr.current||Qs?(typeof Ee=="function"&&(Lp(u,m,Ee,x),Ae=u.memoizedState),(ne=Qs||xS(u,m,ne,x,ue,Ae,W)||!1)?(de||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,Ae,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,Ae,W)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Ae),A.props=x,A.state=Ae,A.context=W,x=ne):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),x=!1)}return $p(a,u,m,x,E,S)}function $p(a,u,m,x,S,E){AS(a,u);var A=(u.flags&128)!==0;if(!x&&!A)return S&&L1(u,m,!1),vs(a,u,E);x=u.stateNode,ML.current=u;var O=A&&typeof m.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,a!==null&&A?(u.child=ol(u,a.child,null,E),u.child=ol(u,null,O,E)):lr(a,u,O,E),u.memoizedState=x.state,S&&L1(u,m,!0),u.child}function IS(a){var u=a.stateNode;u.pendingContext?F1(a,u.pendingContext,u.pendingContext!==u.context):u.context&&F1(a,u.context,!1),bp(a,u.containerInfo)}function NS(a,u,m,x,S){return sl(),yp(S),u.flags|=256,lr(a,u,m,x),u.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Gp(a){return{baseLanes:a,cachePool:null,transitions:null}}function FS(a,u,m){var x=u.pendingProps,S=nn.current,E=!1,A=(u.flags&128)!==0,O;if((O=A)||(O=a!==null&&a.memoizedState===null?!1:(S&2)!==0),O?(E=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),Bt(nn,S&1),a===null)return pp(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(A=x.children,a=x.fallback,E?(x=u.mode,E=u.child,A={mode:"hidden",children:A},(x&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=A):E=Lh(A,x,0,null),a=ea(a,x,m,null),E.return=u,a.return=u,E.sibling=a,u.child=E,u.child.memoizedState=Gp(m),u.memoizedState=Bp,a):Up(u,A));if(S=a.memoizedState,S!==null&&(O=S.dehydrated,O!==null))return IL(a,u,A,x,O,S,m);if(E){E=x.fallback,A=u.mode,S=a.child,O=S.sibling;var W={mode:"hidden",children:x.children};return(A&1)===0&&u.child!==S?(x=u.child,x.childLanes=0,x.pendingProps=W,u.deletions=null):(x=oo(S,W),x.subtreeFlags=S.subtreeFlags&14680064),O!==null?E=oo(O,E):(E=ea(E,A,m,null),E.flags|=2),E.return=u,x.return=u,x.sibling=E,u.child=x,x=E,E=u.child,A=a.child.memoizedState,A=A===null?Gp(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=a.childLanes&~m,u.memoizedState=Bp,x}return E=a.child,a=E.sibling,x=oo(E,{mode:"visible",children:x.children}),(u.mode&1)===0&&(x.lanes=m),x.return=u,x.sibling=null,a!==null&&(m=u.deletions,m===null?(u.deletions=[a],u.flags|=16):m.push(a)),u.child=x,u.memoizedState=null,x}function Up(a,u){return u=Lh({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Ch(a,u,m,x){return x!==null&&yp(x),ol(u,a.child,null,m),a=Up(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function IL(a,u,m,x,S,E,A){if(m)return u.flags&256?(u.flags&=-257,x=Op(Error(n(422))),Ch(a,u,A,x)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(E=x.fallback,S=u.mode,x=Lh({mode:"visible",children:x.children},S,0,null),E=ea(E,S,A,null),E.flags|=2,x.return=u,E.return=u,x.sibling=E,u.child=x,(u.mode&1)!==0&&ol(u,a.child,null,A),u.child.memoizedState=Gp(A),u.memoizedState=Bp,E);if((u.mode&1)===0)return Ch(a,u,A,null);if(S.data==="$!"){if(x=S.nextSibling&&S.nextSibling.dataset,x)var O=x.dgst;return x=O,E=Error(n(419)),x=Op(E,x,void 0),Ch(a,u,A,x)}if(O=(A&a.childLanes)!==0,vr||O){if(x=jn,x!==null){switch(A&-A){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(x.suspendedLanes|A))!==0?0:S,S!==0&&S!==E.retryLane&&(E.retryLane=S,ys(a,S),mi(x,a,S,-1))}return oy(),x=Op(Error(n(421))),Ch(a,u,A,x)}return S.data==="$?"?(u.flags|=128,u.child=a.child,u=WL.bind(null,a),S._reactRetry=u,null):(a=E.treeContext,jr=Ys(S.nextSibling),Fr=u,qt=!0,ui=null,a!==null&&(Kr[Yr++]=gs,Kr[Yr++]=ps,Kr[Yr++]=Wo,gs=a.id,ps=a.overflow,Wo=u),u=Up(u,x.children),u.flags|=4096,u)}function jS(a,u,m){a.lanes|=u;var x=a.alternate;x!==null&&(x.lanes|=u),wp(a.return,u,m)}function Wp(a,u,m,x,S){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:S}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=x,E.tail=m,E.tailMode=S)}function LS(a,u,m){var x=u.pendingProps,S=x.revealOrder,E=x.tail;if(lr(a,u,x.children,m),x=nn.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&jS(a,m,u);else if(a.tag===19)jS(a,m,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}x&=1}if(Bt(nn,x),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(m=u.child,S=null;m!==null;)a=m.alternate,a!==null&&ph(a)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),Wp(u,!1,S,m,E);break;case"backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(a=S.alternate,a!==null&&ph(a)===null){u.child=S;break}a=S.sibling,S.sibling=m,m=S,S=a}Wp(u,!0,m,null,E);break;case"together":Wp(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function bh(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function vs(a,u,m){if(a!==null&&(u.dependencies=a.dependencies),Zo|=u.lanes,(m&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,m=oo(a,a.pendingProps),u.child=m,m.return=u;a.sibling!==null;)a=a.sibling,m=m.sibling=oo(a,a.pendingProps),m.return=u;m.sibling=null}return u.child}function NL(a,u,m){switch(u.tag){case 3:IS(u),sl();break;case 5:Z1(u);break;case 1:xr(u.type)&&oh(u);break;case 4:bp(u,u.stateNode.containerInfo);break;case 10:var x=u.type._context,S=u.memoizedProps.value;Bt(hh,x._currentValue),x._currentValue=S;break;case 13:if(x=u.memoizedState,x!==null)return x.dehydrated!==null?(Bt(nn,nn.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?FS(a,u,m):(Bt(nn,nn.current&1),a=vs(a,u,m),a!==null?a.sibling:null);Bt(nn,nn.current&1);break;case 19:if(x=(m&u.childLanes)!==0,(a.flags&128)!==0){if(x)return LS(a,u,m);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Bt(nn,nn.current),x)break;return null;case 22:case 23:return u.lanes=0,kS(a,u,m)}return vs(a,u,m)}var DS,Hp,OS,VS;DS=function(a,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Hp=function(){},OS=function(a,u,m,x){var S=a.memoizedProps;if(S!==x){a=u.stateNode,Ko(Gi.current);var E=null;switch(m){case"input":S=mt(a,S),x=mt(a,x),E=[];break;case"select":S=q({},S,{value:void 0}),x=q({},x,{value:void 0}),E=[];break;case"textarea":S=te(a,S),x=te(a,x),E=[];break;default:typeof S.onClick!="function"&&typeof x.onClick=="function"&&(a.onclick=rh)}ve(m,x);var A;m=null;for(ne in S)if(!x.hasOwnProperty(ne)&&S.hasOwnProperty(ne)&&S[ne]!=null)if(ne==="style"){var O=S[ne];for(A in O)O.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?E||(E=[]):(E=E||[]).push(ne,null));for(ne in x){var W=x[ne];if(O=S!=null?S[ne]:void 0,x.hasOwnProperty(ne)&&W!==O&&(W!=null||O!=null))if(ne==="style")if(O){for(A in O)!O.hasOwnProperty(A)||W&&W.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in W)W.hasOwnProperty(A)&&O[A]!==W[A]&&(m||(m={}),m[A]=W[A])}else m||(E||(E=[]),E.push(ne,m)),m=W;else ne==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,O=O?O.__html:void 0,W!=null&&O!==W&&(E=E||[]).push(ne,W)):ne==="children"?typeof W!="string"&&typeof W!="number"||(E=E||[]).push(ne,""+W):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(W!=null&&ne==="onScroll"&&Xt("scroll",a),E||O===W||(E=[])):(E=E||[]).push(ne,W))}m&&(E=E||[]).push("style",m);var ne=E;(u.updateQueue=ne)&&(u.flags|=4)}},VS=function(a,u,m,x){m!==x&&(u.flags|=4)};function qc(a,u){if(!qt)switch(a.tailMode){case"hidden":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function Zn(a){var u=a.alternate!==null&&a.alternate.child===a.child,m=0,x=0;if(u)for(var S=a.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags&14680064,x|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=x,a.childLanes=m,u}function FL(a,u,m){var x=u.pendingProps;switch(mp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(u),null;case 1:return xr(u.type)&&sh(),Zn(u),null;case 3:return x=u.stateNode,cl(),Kt(yr),Kt(Kn),Tp(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(a===null||a.child===null)&&(uh(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ui!==null&&(ry(ui),ui=null))),Hp(a,u),Zn(u),null;case 5:Ep(u);var S=Ko(Hc.current);if(m=u.type,a!==null&&u.stateNode!=null)OS(a,u,m,x,S),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Zn(u),null}if(a=Ko(Gi.current),uh(u)){x=u.stateNode,m=u.type;var E=u.memoizedProps;switch(x[Bi]=u,x[$c]=E,a=(u.mode&1)!==0,m){case"dialog":Xt("cancel",x),Xt("close",x);break;case"iframe":case"object":case"embed":Xt("load",x);break;case"video":case"audio":for(S=0;S<Oc.length;S++)Xt(Oc[S],x);break;case"source":Xt("error",x);break;case"img":case"image":case"link":Xt("error",x),Xt("load",x);break;case"details":Xt("toggle",x);break;case"input":Wt(x,E),Xt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!E.multiple},Xt("invalid",x);break;case"textarea":fe(x,E),Xt("invalid",x)}ve(m,E),S=null;for(var A in E)if(E.hasOwnProperty(A)){var O=E[A];A==="children"?typeof O=="string"?x.textContent!==O&&(E.suppressHydrationWarning!==!0&&nh(x.textContent,O,a),S=["children",O]):typeof O=="number"&&x.textContent!==""+O&&(E.suppressHydrationWarning!==!0&&nh(x.textContent,O,a),S=["children",""+O]):i.hasOwnProperty(A)&&O!=null&&A==="onScroll"&&Xt("scroll",x)}switch(m){case"input":$e(x),zn(x,E,!0);break;case"textarea":$e(x),se(x);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(x.onclick=rh)}x=S,u.updateQueue=x,x!==null&&(u.flags|=4)}else{A=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ye(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof x.is=="string"?a=A.createElement(m,{is:x.is}):(a=A.createElement(m),m==="select"&&(A=a,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):a=A.createElementNS(a,m),a[Bi]=u,a[$c]=x,DS(a,u,!1,!1),u.stateNode=a;e:{switch(A=vt(m,x),m){case"dialog":Xt("cancel",a),Xt("close",a),S=x;break;case"iframe":case"object":case"embed":Xt("load",a),S=x;break;case"video":case"audio":for(S=0;S<Oc.length;S++)Xt(Oc[S],a);S=x;break;case"source":Xt("error",a),S=x;break;case"img":case"image":case"link":Xt("error",a),Xt("load",a),S=x;break;case"details":Xt("toggle",a),S=x;break;case"input":Wt(a,x),S=mt(a,x),Xt("invalid",a);break;case"option":S=x;break;case"select":a._wrapperState={wasMultiple:!!x.multiple},S=q({},x,{value:void 0}),Xt("invalid",a);break;case"textarea":fe(a,x),S=te(a,x),Xt("invalid",a);break;default:S=x}ve(m,S),O=S;for(E in O)if(O.hasOwnProperty(E)){var W=O[E];E==="style"?Mr(a,W):E==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&xt(a,W)):E==="children"?typeof W=="string"?(m!=="textarea"||W!=="")&&Vt(a,W):typeof W=="number"&&Vt(a,""+W):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?W!=null&&E==="onScroll"&&Xt("scroll",a):W!=null&&T(a,E,W,A))}switch(m){case"input":$e(a),zn(a,x,!1);break;case"textarea":$e(a),se(a);break;case"option":x.value!=null&&a.setAttribute("value",""+pe(x.value));break;case"select":a.multiple=!!x.multiple,E=x.value,E!=null?J(a,!!x.multiple,E,!1):x.defaultValue!=null&&J(a,!!x.multiple,x.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=rh)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zn(u),null;case 6:if(a&&u.stateNode!=null)VS(a,u,a.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(m=Ko(Hc.current),Ko(Gi.current),uh(u)){if(x=u.stateNode,m=u.memoizedProps,x[Bi]=u,(E=x.nodeValue!==m)&&(a=Fr,a!==null))switch(a.tag){case 3:nh(x.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&nh(x.nodeValue,m,(a.mode&1)!==0)}E&&(u.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[Bi]=u,u.stateNode=x}return Zn(u),null;case 13:if(Kt(nn),x=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(qt&&jr!==null&&(u.mode&1)!==0&&(u.flags&128)===0)B1(),sl(),u.flags|=98560,E=!1;else if(E=uh(u),x!==null&&x.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Bi]=u}else sl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Zn(u),E=!1}else ui!==null&&(ry(ui),ui=null),E=!0;if(!E)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(x=x!==null,x!==(a!==null&&a.memoizedState!==null)&&x&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(nn.current&1)!==0?En===0&&(En=3):oy())),u.updateQueue!==null&&(u.flags|=4),Zn(u),null);case 4:return cl(),Hp(a,u),a===null&&Vc(u.stateNode.containerInfo),Zn(u),null;case 10:return _p(u.type._context),Zn(u),null;case 17:return xr(u.type)&&sh(),Zn(u),null;case 19:if(Kt(nn),E=u.memoizedState,E===null)return Zn(u),null;if(x=(u.flags&128)!==0,A=E.rendering,A===null)if(x)qc(E,!1);else{if(En!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(A=ph(a),A!==null){for(u.flags|=128,qc(E,!1),x=A.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),u.subtreeFlags=0,x=m,m=u.child;m!==null;)E=m,a=x,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,a=A.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return Bt(nn,nn.current&1|2),u.child}a=a.sibling}E.tail!==null&&un()>fl&&(u.flags|=128,x=!0,qc(E,!1),u.lanes=4194304)}else{if(!x)if(a=ph(A),a!==null){if(u.flags|=128,x=!0,m=a.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),qc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!qt)return Zn(u),null}else 2*un()-E.renderingStartTime>fl&&m!==1073741824&&(u.flags|=128,x=!0,qc(E,!1),u.lanes=4194304);E.isBackwards?(A.sibling=u.child,u.child=A):(m=E.last,m!==null?m.sibling=A:u.child=A,E.last=A)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=un(),u.sibling=null,m=nn.current,Bt(nn,x?m&1|2:m&1),u):(Zn(u),null);case 22:case 23:return sy(),x=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==x&&(u.flags|=8192),x&&(u.mode&1)!==0?(Lr&1073741824)!==0&&(Zn(u),u.subtreeFlags&6&&(u.flags|=8192)):Zn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function jL(a,u){switch(mp(u),u.tag){case 1:return xr(u.type)&&sh(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return cl(),Kt(yr),Kt(Kn),Tp(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Ep(u),null;case 13:if(Kt(nn),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));sl()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Kt(nn),null;case 4:return cl(),null;case 10:return _p(u.type._context),null;case 22:case 23:return sy(),null;case 24:return null;default:return null}}var Eh=!1,qn=!1,LL=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function dl(a,u){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){an(a,u,x)}else m.current=null}function Xp(a,u,m){try{m()}catch(x){an(a,u,x)}}var zS=!1;function DL(a,u){if(sp=Wd,a=x1(),qg(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var S=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var A=0,O=-1,W=-1,ne=0,de=0,me=a,ue=null;t:for(;;){for(var Ee;me!==m||S!==0&&me.nodeType!==3||(O=A+S),me!==E||x!==0&&me.nodeType!==3||(W=A+x),me.nodeType===3&&(A+=me.nodeValue.length),(Ee=me.firstChild)!==null;)ue=me,me=Ee;for(;;){if(me===a)break t;if(ue===m&&++ne===S&&(O=A),ue===E&&++de===x&&(W=A),(Ee=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=Ee}m=O===-1||W===-1?null:{start:O,end:W}}else m=null}m=m||{start:0,end:0}}else m=null;for(op={focusedElem:a,selectionRange:m},Wd=!1,Pe=u;Pe!==null;)if(u=Pe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Pe=a;else for(;Pe!==null;){u=Pe;try{var Ae=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Ne=Ae.memoizedProps,dn=Ae.memoizedState,Q=u.stateNode,K=Q.getSnapshotBeforeUpdate(u.elementType===u.type?Ne:di(u.type,Ne),dn);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=u.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(xe){an(u,u.return,xe)}if(a=u.sibling,a!==null){a.return=u.return,Pe=a;break}Pe=u.return}return Ae=zS,zS=!1,Ae}function Jc(a,u,m){var x=u.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&a)===a){var E=S.destroy;S.destroy=void 0,E!==void 0&&Xp(u,m,E)}S=S.next}while(S!==x)}}function Rh(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&a)===a){var x=m.create;m.destroy=x()}m=m.next}while(m!==u)}}function Kp(a){var u=a.ref;if(u!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof u=="function"?u(a):u.current=a}}function $S(a){var u=a.alternate;u!==null&&(a.alternate=null,$S(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Bi],delete u[$c],delete u[up],delete u[vL],delete u[_L])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function BS(a){return a.tag===5||a.tag===3||a.tag===4}function GS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||BS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Yp(a,u,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(a,u):m.insertBefore(a,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(a,m)):(u=m,u.appendChild(a)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=rh));else if(x!==4&&(a=a.child,a!==null))for(Yp(a,u,m),a=a.sibling;a!==null;)Yp(a,u,m),a=a.sibling}function Zp(a,u,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,u?m.insertBefore(a,u):m.appendChild(a);else if(x!==4&&(a=a.child,a!==null))for(Zp(a,u,m),a=a.sibling;a!==null;)Zp(a,u,m),a=a.sibling}var Bn=null,hi=!1;function to(a,u,m){for(m=m.child;m!==null;)US(a,u,m),m=m.sibling}function US(a,u,m){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(Vd,m)}catch{}switch(m.tag){case 5:qn||dl(m,u);case 6:var x=Bn,S=hi;Bn=null,to(a,u,m),Bn=x,hi=S,Bn!==null&&(hi?(a=Bn,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):Bn.removeChild(m.stateNode));break;case 18:Bn!==null&&(hi?(a=Bn,m=m.stateNode,a.nodeType===8?cp(a.parentNode,m):a.nodeType===1&&cp(a,m),Ac(a)):cp(Bn,m.stateNode));break;case 4:x=Bn,S=hi,Bn=m.stateNode.containerInfo,hi=!0,to(a,u,m),Bn=x,hi=S;break;case 0:case 11:case 14:case 15:if(!qn&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){S=x=x.next;do{var E=S,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&Xp(m,u,A),S=S.next}while(S!==x)}to(a,u,m);break;case 1:if(!qn&&(dl(m,u),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(O){an(m,u,O)}to(a,u,m);break;case 21:to(a,u,m);break;case 22:m.mode&1?(qn=(x=qn)||m.memoizedState!==null,to(a,u,m),qn=x):to(a,u,m);break;default:to(a,u,m)}}function WS(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new LL),u.forEach(function(x){var S=HL.bind(null,a,x);m.has(x)||(m.add(x),x.then(S,S))})}}function fi(a,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var S=m[x];try{var E=a,A=u,O=A;e:for(;O!==null;){switch(O.tag){case 5:Bn=O.stateNode,hi=!1;break e;case 3:Bn=O.stateNode.containerInfo,hi=!0;break e;case 4:Bn=O.stateNode.containerInfo,hi=!0;break e}O=O.return}if(Bn===null)throw Error(n(160));US(E,A,S),Bn=null,hi=!1;var W=S.alternate;W!==null&&(W.return=null),S.return=null}catch(ne){an(S,u,ne)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)HS(u,a),u=u.sibling}function HS(a,u){var m=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(fi(u,a),Wi(a),x&4){try{Jc(3,a,a.return),Rh(3,a)}catch(Ne){an(a,a.return,Ne)}try{Jc(5,a,a.return)}catch(Ne){an(a,a.return,Ne)}}break;case 1:fi(u,a),Wi(a),x&512&&m!==null&&dl(m,m.return);break;case 5:if(fi(u,a),Wi(a),x&512&&m!==null&&dl(m,m.return),a.flags&32){var S=a.stateNode;try{Vt(S,"")}catch(Ne){an(a,a.return,Ne)}}if(x&4&&(S=a.stateNode,S!=null)){var E=a.memoizedProps,A=m!==null?m.memoizedProps:E,O=a.type,W=a.updateQueue;if(a.updateQueue=null,W!==null)try{O==="input"&&E.type==="radio"&&E.name!=null&&Dt(S,E),vt(O,A);var ne=vt(O,E);for(A=0;A<W.length;A+=2){var de=W[A],me=W[A+1];de==="style"?Mr(S,me):de==="dangerouslySetInnerHTML"?xt(S,me):de==="children"?Vt(S,me):T(S,de,me,ne)}switch(O){case"input":Ot(S,E);break;case"textarea":he(S,E);break;case"select":var ue=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!E.multiple;var Ee=E.value;Ee!=null?J(S,!!E.multiple,Ee,!1):ue!==!!E.multiple&&(E.defaultValue!=null?J(S,!!E.multiple,E.defaultValue,!0):J(S,!!E.multiple,E.multiple?[]:"",!1))}S[$c]=E}catch(Ne){an(a,a.return,Ne)}}break;case 6:if(fi(u,a),Wi(a),x&4){if(a.stateNode===null)throw Error(n(162));S=a.stateNode,E=a.memoizedProps;try{S.nodeValue=E}catch(Ne){an(a,a.return,Ne)}}break;case 3:if(fi(u,a),Wi(a),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Ac(u.containerInfo)}catch(Ne){an(a,a.return,Ne)}break;case 4:fi(u,a),Wi(a);break;case 13:fi(u,a),Wi(a),S=a.child,S.flags&8192&&(E=S.memoizedState!==null,S.stateNode.isHidden=E,!E||S.alternate!==null&&S.alternate.memoizedState!==null||(Qp=un())),x&4&&WS(a);break;case 22:if(de=m!==null&&m.memoizedState!==null,a.mode&1?(qn=(ne=qn)||de,fi(u,a),qn=ne):fi(u,a),Wi(a),x&8192){if(ne=a.memoizedState!==null,(a.stateNode.isHidden=ne)&&!de&&(a.mode&1)!==0)for(Pe=a,de=a.child;de!==null;){for(me=Pe=de;Pe!==null;){switch(ue=Pe,Ee=ue.child,ue.tag){case 0:case 11:case 14:case 15:Jc(4,ue,ue.return);break;case 1:dl(ue,ue.return);var Ae=ue.stateNode;if(typeof Ae.componentWillUnmount=="function"){x=ue,m=ue.return;try{u=x,Ae.props=u.memoizedProps,Ae.state=u.memoizedState,Ae.componentWillUnmount()}catch(Ne){an(x,m,Ne)}}break;case 5:dl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){YS(me);continue}}Ee!==null?(Ee.return=ue,Pe=Ee):YS(me)}de=de.sibling}e:for(de=null,me=a;;){if(me.tag===5){if(de===null){de=me;try{S=me.stateNode,ne?(E=S.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(O=me.stateNode,W=me.memoizedProps.style,A=W!=null&&W.hasOwnProperty("display")?W.display:null,O.style.display=Ar("display",A))}catch(Ne){an(a,a.return,Ne)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Ne){an(a,a.return,Ne)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:fi(u,a),Wi(a),x&4&&WS(a);break;case 21:break;default:fi(u,a),Wi(a)}}function Wi(a){var u=a.flags;if(u&2){try{e:{for(var m=a.return;m!==null;){if(BS(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var S=x.stateNode;x.flags&32&&(Vt(S,""),x.flags&=-33);var E=GS(a);Zp(a,E,S);break;case 3:case 4:var A=x.stateNode.containerInfo,O=GS(a);Yp(a,O,A);break;default:throw Error(n(161))}}catch(W){an(a,a.return,W)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function OL(a,u,m){Pe=a,XS(a)}function XS(a,u,m){for(var x=(a.mode&1)!==0;Pe!==null;){var S=Pe,E=S.child;if(S.tag===22&&x){var A=S.memoizedState!==null||Eh;if(!A){var O=S.alternate,W=O!==null&&O.memoizedState!==null||qn;O=Eh;var ne=qn;if(Eh=A,(qn=W)&&!ne)for(Pe=S;Pe!==null;)A=Pe,W=A.child,A.tag===22&&A.memoizedState!==null?ZS(S):W!==null?(W.return=A,Pe=W):ZS(S);for(;E!==null;)Pe=E,XS(E),E=E.sibling;Pe=S,Eh=O,qn=ne}KS(a)}else(S.subtreeFlags&8772)!==0&&E!==null?(E.return=S,Pe=E):KS(a)}}function KS(a){for(;Pe!==null;){var u=Pe;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:qn||Rh(5,u);break;case 1:var x=u.stateNode;if(u.flags&4&&!qn)if(m===null)x.componentDidMount();else{var S=u.elementType===u.type?m.memoizedProps:di(u.type,m.memoizedProps);x.componentDidUpdate(S,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&Y1(u,E,x);break;case 3:var A=u.updateQueue;if(A!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Y1(u,A,m)}break;case 5:var O=u.stateNode;if(m===null&&u.flags&4){m=O;var W=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&m.focus();break;case"img":W.src&&(m.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ne=u.alternate;if(ne!==null){var de=ne.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Ac(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qn||u.flags&512&&Kp(u)}catch(ue){an(u,u.return,ue)}}if(u===a){Pe=null;break}if(m=u.sibling,m!==null){m.return=u.return,Pe=m;break}Pe=u.return}}function YS(a){for(;Pe!==null;){var u=Pe;if(u===a){Pe=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Pe=m;break}Pe=u.return}}function ZS(a){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Rh(4,u)}catch(W){an(u,m,W)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var S=u.return;try{x.componentDidMount()}catch(W){an(u,S,W)}}var E=u.return;try{Kp(u)}catch(W){an(u,E,W)}break;case 5:var A=u.return;try{Kp(u)}catch(W){an(u,A,W)}}}catch(W){an(u,u.return,W)}if(u===a){Pe=null;break}var O=u.sibling;if(O!==null){O.return=u.return,Pe=O;break}Pe=u.return}}var VL=Math.ceil,Th=P.ReactCurrentDispatcher,qp=P.ReactCurrentOwner,Jr=P.ReactCurrentBatchConfig,_t=0,jn=null,pn=null,Gn=0,Lr=0,hl=Zs(0),En=0,Qc=null,Zo=0,Ph=0,Jp=0,eu=null,_r=null,Qp=0,fl=1/0,_s=null,kh=!1,ey=null,no=null,Ah=!1,ro=null,Mh=0,tu=0,ty=null,Ih=-1,Nh=0;function cr(){return(_t&6)!==0?un():Ih!==-1?Ih:Ih=un()}function io(a){return(a.mode&1)===0?1:(_t&2)!==0&&Gn!==0?Gn&-Gn:SL.transition!==null?(Nh===0&&(Nh=Gw()),Nh):(a=At,a!==0||(a=window.event,a=a===void 0?16:Jw(a.type)),a)}function mi(a,u,m,x){if(50<tu)throw tu=0,ty=null,Error(n(185));Ec(a,m,x),((_t&2)===0||a!==jn)&&(a===jn&&((_t&2)===0&&(Ph|=m),En===4&&so(a,Gn)),wr(a,x),m===1&&_t===0&&(u.mode&1)===0&&(fl=un()+500,ah&&Js()))}function wr(a,u){var m=a.callbackNode;Sj(a,u);var x=Bd(a,a===jn?Gn:0);if(x===0)m!==null&&zw(m),a.callbackNode=null,a.callbackPriority=0;else if(u=x&-x,a.callbackPriority!==u){if(m!=null&&zw(m),u===1)a.tag===0?wL(JS.bind(null,a)):D1(JS.bind(null,a)),yL(function(){(_t&6)===0&&Js()}),m=null;else{switch(Uw(x)){case 1:m=Fg;break;case 4:m=$w;break;case 16:m=Od;break;case 536870912:m=Bw;break;default:m=Od}m=oC(m,qS.bind(null,a))}a.callbackPriority=u,a.callbackNode=m}}function qS(a,u){if(Ih=-1,Nh=0,(_t&6)!==0)throw Error(n(327));var m=a.callbackNode;if(ml()&&a.callbackNode!==m)return null;var x=Bd(a,a===jn?Gn:0);if(x===0)return null;if((x&30)!==0||(x&a.expiredLanes)!==0||u)u=Fh(a,x);else{u=x;var S=_t;_t|=2;var E=eC();(jn!==a||Gn!==u)&&(_s=null,fl=un()+500,Jo(a,u));do try{BL();break}catch(O){QS(a,O)}while(!0);vp(),Th.current=E,_t=S,pn!==null?u=0:(jn=null,Gn=0,u=En)}if(u!==0){if(u===2&&(S=jg(a),S!==0&&(x=S,u=ny(a,S))),u===1)throw m=Qc,Jo(a,0),so(a,x),wr(a,un()),m;if(u===6)so(a,x);else{if(S=a.current.alternate,(x&30)===0&&!zL(S)&&(u=Fh(a,x),u===2&&(E=jg(a),E!==0&&(x=E,u=ny(a,E))),u===1))throw m=Qc,Jo(a,0),so(a,x),wr(a,un()),m;switch(a.finishedWork=S,a.finishedLanes=x,u){case 0:case 1:throw Error(n(345));case 2:Qo(a,_r,_s);break;case 3:if(so(a,x),(x&130023424)===x&&(u=Qp+500-un(),10<u)){if(Bd(a,0)!==0)break;if(S=a.suspendedLanes,(S&x)!==x){cr(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=lp(Qo.bind(null,a,_r,_s),u);break}Qo(a,_r,_s);break;case 4:if(so(a,x),(x&4194240)===x)break;for(u=a.eventTimes,S=-1;0<x;){var A=31-li(x);E=1<<A,A=u[A],A>S&&(S=A),x&=~E}if(x=S,x=un()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*VL(x/1960))-x,10<x){a.timeoutHandle=lp(Qo.bind(null,a,_r,_s),x);break}Qo(a,_r,_s);break;case 5:Qo(a,_r,_s);break;default:throw Error(n(329))}}}return wr(a,un()),a.callbackNode===m?qS.bind(null,a):null}function ny(a,u){var m=eu;return a.current.memoizedState.isDehydrated&&(Jo(a,u).flags|=256),a=Fh(a,u),a!==2&&(u=_r,_r=m,u!==null&&ry(u)),a}function ry(a){_r===null?_r=a:_r.push.apply(_r,a)}function zL(a){for(var u=a;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var S=m[x],E=S.getSnapshot;S=S.value;try{if(!ci(E(),S))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function so(a,u){for(u&=~Jp,u&=~Ph,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var m=31-li(u),x=1<<m;a[m]=-1,u&=~x}}function JS(a){if((_t&6)!==0)throw Error(n(327));ml();var u=Bd(a,0);if((u&1)===0)return wr(a,un()),null;var m=Fh(a,u);if(a.tag!==0&&m===2){var x=jg(a);x!==0&&(u=x,m=ny(a,x))}if(m===1)throw m=Qc,Jo(a,0),so(a,u),wr(a,un()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Qo(a,_r,_s),wr(a,un()),null}function iy(a,u){var m=_t;_t|=1;try{return a(u)}finally{_t=m,_t===0&&(fl=un()+500,ah&&Js())}}function qo(a){ro!==null&&ro.tag===0&&(_t&6)===0&&ml();var u=_t;_t|=1;var m=Jr.transition,x=At;try{if(Jr.transition=null,At=1,a)return a()}finally{At=x,Jr.transition=m,_t=u,(_t&6)===0&&Js()}}function sy(){Lr=hl.current,Kt(hl)}function Jo(a,u){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,pL(m)),pn!==null)for(m=pn.return;m!==null;){var x=m;switch(mp(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&sh();break;case 3:cl(),Kt(yr),Kt(Kn),Tp();break;case 5:Ep(x);break;case 4:cl();break;case 13:Kt(nn);break;case 19:Kt(nn);break;case 10:_p(x.type._context);break;case 22:case 23:sy()}m=m.return}if(jn=a,pn=a=oo(a.current,null),Gn=Lr=u,En=0,Qc=null,Jp=Ph=Zo=0,_r=eu=null,Xo!==null){for(u=0;u<Xo.length;u++)if(m=Xo[u],x=m.interleaved,x!==null){m.interleaved=null;var S=x.next,E=m.pending;if(E!==null){var A=E.next;E.next=S,x.next=A}m.pending=x}Xo=null}return a}function QS(a,u){do{var m=pn;try{if(vp(),yh.current=wh,xh){for(var x=rn.memoizedState;x!==null;){var S=x.queue;S!==null&&(S.pending=null),x=x.next}xh=!1}if(Yo=0,Fn=bn=rn=null,Xc=!1,Kc=0,qp.current=null,m===null||m.return===null){En=1,Qc=u,pn=null;break}e:{var E=a,A=m.return,O=m,W=u;if(u=Gn,O.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ne=W,de=O,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ee=bS(A);if(Ee!==null){Ee.flags&=-257,ES(Ee,A,O,E,u),Ee.mode&1&&CS(E,ne,u),u=Ee,W=ne;var Ae=u.updateQueue;if(Ae===null){var Ne=new Set;Ne.add(W),u.updateQueue=Ne}else Ae.add(W);break e}else{if((u&1)===0){CS(E,ne,u),oy();break e}W=Error(n(426))}}else if(qt&&O.mode&1){var dn=bS(A);if(dn!==null){(dn.flags&65536)===0&&(dn.flags|=256),ES(dn,A,O,E,u),yp(ul(W,O));break e}}E=W=ul(W,O),En!==4&&(En=2),eu===null?eu=[E]:eu.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var Q=wS(E,W,u);K1(E,Q);break e;case 1:O=W;var K=E.type,ee=E.stateNode;if((E.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(no===null||!no.has(ee)))){E.flags|=65536,u&=-u,E.lanes|=u;var xe=SS(E,O,u);K1(E,xe);break e}}E=E.return}while(E!==null)}nC(m)}catch(Le){u=Le,pn===m&&m!==null&&(pn=m=m.return);continue}break}while(!0)}function eC(){var a=Th.current;return Th.current=wh,a===null?wh:a}function oy(){(En===0||En===3||En===2)&&(En=4),jn===null||(Zo&268435455)===0&&(Ph&268435455)===0||so(jn,Gn)}function Fh(a,u){var m=_t;_t|=2;var x=eC();(jn!==a||Gn!==u)&&(_s=null,Jo(a,u));do try{$L();break}catch(S){QS(a,S)}while(!0);if(vp(),_t=m,Th.current=x,pn!==null)throw Error(n(261));return jn=null,Gn=0,En}function $L(){for(;pn!==null;)tC(pn)}function BL(){for(;pn!==null&&!fj();)tC(pn)}function tC(a){var u=sC(a.alternate,a,Lr);a.memoizedProps=a.pendingProps,u===null?nC(a):pn=u,qp.current=null}function nC(a){var u=a;do{var m=u.alternate;if(a=u.return,(u.flags&32768)===0){if(m=FL(m,u,Lr),m!==null){pn=m;return}}else{if(m=jL(m,u),m!==null){m.flags&=32767,pn=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{En=6,pn=null;return}}if(u=u.sibling,u!==null){pn=u;return}pn=u=a}while(u!==null);En===0&&(En=5)}function Qo(a,u,m){var x=At,S=Jr.transition;try{Jr.transition=null,At=1,GL(a,u,m,x)}finally{Jr.transition=S,At=x}return null}function GL(a,u,m,x){do ml();while(ro!==null);if((_t&6)!==0)throw Error(n(327));m=a.finishedWork;var S=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var E=m.lanes|m.childLanes;if(Cj(a,E),a===jn&&(pn=jn=null,Gn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Ah||(Ah=!0,oC(Od,function(){return ml(),null})),E=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||E){E=Jr.transition,Jr.transition=null;var A=At;At=1;var O=_t;_t|=4,qp.current=null,DL(a,m),HS(m,a),cL(op),Wd=!!sp,op=sp=null,a.current=m,OL(m),mj(),_t=O,At=A,Jr.transition=E}else a.current=m;if(Ah&&(Ah=!1,ro=a,Mh=S),E=a.pendingLanes,E===0&&(no=null),yj(m.stateNode),wr(a,un()),u!==null)for(x=a.onRecoverableError,m=0;m<u.length;m++)S=u[m],x(S.value,{componentStack:S.stack,digest:S.digest});if(kh)throw kh=!1,a=ey,ey=null,a;return(Mh&1)!==0&&a.tag!==0&&ml(),E=a.pendingLanes,(E&1)!==0?a===ty?tu++:(tu=0,ty=a):tu=0,Js(),null}function ml(){if(ro!==null){var a=Uw(Mh),u=Jr.transition,m=At;try{if(Jr.transition=null,At=16>a?16:a,ro===null)var x=!1;else{if(a=ro,ro=null,Mh=0,(_t&6)!==0)throw Error(n(331));var S=_t;for(_t|=4,Pe=a.current;Pe!==null;){var E=Pe,A=E.child;if((Pe.flags&16)!==0){var O=E.deletions;if(O!==null){for(var W=0;W<O.length;W++){var ne=O[W];for(Pe=ne;Pe!==null;){var de=Pe;switch(de.tag){case 0:case 11:case 15:Jc(8,de,E)}var me=de.child;if(me!==null)me.return=de,Pe=me;else for(;Pe!==null;){de=Pe;var ue=de.sibling,Ee=de.return;if($S(de),de===ne){Pe=null;break}if(ue!==null){ue.return=Ee,Pe=ue;break}Pe=Ee}}}var Ae=E.alternate;if(Ae!==null){var Ne=Ae.child;if(Ne!==null){Ae.child=null;do{var dn=Ne.sibling;Ne.sibling=null,Ne=dn}while(Ne!==null)}}Pe=E}}if((E.subtreeFlags&2064)!==0&&A!==null)A.return=E,Pe=A;else e:for(;Pe!==null;){if(E=Pe,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Jc(9,E,E.return)}var Q=E.sibling;if(Q!==null){Q.return=E.return,Pe=Q;break e}Pe=E.return}}var K=a.current;for(Pe=K;Pe!==null;){A=Pe;var ee=A.child;if((A.subtreeFlags&2064)!==0&&ee!==null)ee.return=A,Pe=ee;else e:for(A=K;Pe!==null;){if(O=Pe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Rh(9,O)}}catch(Le){an(O,O.return,Le)}if(O===A){Pe=null;break e}var xe=O.sibling;if(xe!==null){xe.return=O.return,Pe=xe;break e}Pe=O.return}}if(_t=S,Js(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(Vd,a)}catch{}x=!0}return x}finally{At=m,Jr.transition=u}}return!1}function rC(a,u,m){u=ul(m,u),u=wS(a,u,1),a=eo(a,u,1),u=cr(),a!==null&&(Ec(a,1,u),wr(a,u))}function an(a,u,m){if(a.tag===3)rC(a,a,m);else for(;u!==null;){if(u.tag===3){rC(u,a,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(no===null||!no.has(x))){a=ul(m,a),a=SS(u,a,1),u=eo(u,a,1),a=cr(),u!==null&&(Ec(u,1,a),wr(u,a));break}}u=u.return}}function UL(a,u,m){var x=a.pingCache;x!==null&&x.delete(u),u=cr(),a.pingedLanes|=a.suspendedLanes&m,jn===a&&(Gn&m)===m&&(En===4||En===3&&(Gn&130023424)===Gn&&500>un()-Qp?Jo(a,0):Jp|=m),wr(a,u)}function iC(a,u){u===0&&((a.mode&1)===0?u=1:(u=$d,$d<<=1,($d&130023424)===0&&($d=4194304)));var m=cr();a=ys(a,u),a!==null&&(Ec(a,u,m),wr(a,m))}function WL(a){var u=a.memoizedState,m=0;u!==null&&(m=u.retryLane),iC(a,m)}function HL(a,u){var m=0;switch(a.tag){case 13:var x=a.stateNode,S=a.memoizedState;S!==null&&(m=S.retryLane);break;case 19:x=a.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(u),iC(a,m)}var sC;sC=function(a,u,m){if(a!==null)if(a.memoizedProps!==u.pendingProps||yr.current)vr=!0;else{if((a.lanes&m)===0&&(u.flags&128)===0)return vr=!1,NL(a,u,m);vr=(a.flags&131072)!==0}else vr=!1,qt&&(u.flags&1048576)!==0&&O1(u,ch,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;bh(a,u),a=u.pendingProps;var S=nl(u,Kn.current);ll(u,m),S=Ap(null,u,x,a,S,m);var E=Mp();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,xr(x)?(E=!0,oh(u)):E=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Cp(u),S.updater=Sh,u.stateNode=S,S._reactInternals=u,Dp(u,x,a,m),u=$p(null,u,x,!0,E,m)):(u.tag=0,qt&&E&&fp(u),lr(null,u,S,m),u=u.child),u;case 16:x=u.elementType;e:{switch(bh(a,u),a=u.pendingProps,S=x._init,x=S(x._payload),u.type=x,S=u.tag=KL(x),a=di(x,a),S){case 0:u=zp(null,u,x,a,m);break e;case 1:u=MS(null,u,x,a,m);break e;case 11:u=RS(null,u,x,a,m);break e;case 14:u=TS(null,u,x,di(x.type,a),m);break e}throw Error(n(306,x,""))}return u;case 0:return x=u.type,S=u.pendingProps,S=u.elementType===x?S:di(x,S),zp(a,u,x,S,m);case 1:return x=u.type,S=u.pendingProps,S=u.elementType===x?S:di(x,S),MS(a,u,x,S,m);case 3:e:{if(IS(u),a===null)throw Error(n(387));x=u.pendingProps,E=u.memoizedState,S=E.element,X1(a,u),gh(u,x,null,m);var A=u.memoizedState;if(x=A.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){S=ul(Error(n(423)),u),u=NS(a,u,x,m,S);break e}else if(x!==S){S=ul(Error(n(424)),u),u=NS(a,u,x,m,S);break e}else for(jr=Ys(u.stateNode.containerInfo.firstChild),Fr=u,qt=!0,ui=null,m=W1(u,null,x,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(sl(),x===S){u=vs(a,u,m);break e}lr(a,u,x,m)}u=u.child}return u;case 5:return Z1(u),a===null&&pp(u),x=u.type,S=u.pendingProps,E=a!==null?a.memoizedProps:null,A=S.children,ap(x,S)?A=null:E!==null&&ap(x,E)&&(u.flags|=32),AS(a,u),lr(a,u,A,m),u.child;case 6:return a===null&&pp(u),null;case 13:return FS(a,u,m);case 4:return bp(u,u.stateNode.containerInfo),x=u.pendingProps,a===null?u.child=ol(u,null,x,m):lr(a,u,x,m),u.child;case 11:return x=u.type,S=u.pendingProps,S=u.elementType===x?S:di(x,S),RS(a,u,x,S,m);case 7:return lr(a,u,u.pendingProps,m),u.child;case 8:return lr(a,u,u.pendingProps.children,m),u.child;case 12:return lr(a,u,u.pendingProps.children,m),u.child;case 10:e:{if(x=u.type._context,S=u.pendingProps,E=u.memoizedProps,A=S.value,Bt(hh,x._currentValue),x._currentValue=A,E!==null)if(ci(E.value,A)){if(E.children===S.children&&!yr.current){u=vs(a,u,m);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var O=E.dependencies;if(O!==null){A=E.child;for(var W=O.firstContext;W!==null;){if(W.context===x){if(E.tag===1){W=xs(-1,m&-m),W.tag=2;var ne=E.updateQueue;if(ne!==null){ne=ne.shared;var de=ne.pending;de===null?W.next=W:(W.next=de.next,de.next=W),ne.pending=W}}E.lanes|=m,W=E.alternate,W!==null&&(W.lanes|=m),wp(E.return,m,u),O.lanes|=m;break}W=W.next}}else if(E.tag===10)A=E.type===u.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(n(341));A.lanes|=m,O=A.alternate,O!==null&&(O.lanes|=m),wp(A,m,u),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===u){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}lr(a,u,S.children,m),u=u.child}return u;case 9:return S=u.type,x=u.pendingProps.children,ll(u,m),S=Zr(S),x=x(S),u.flags|=1,lr(a,u,x,m),u.child;case 14:return x=u.type,S=di(x,u.pendingProps),S=di(x.type,S),TS(a,u,x,S,m);case 15:return PS(a,u,u.type,u.pendingProps,m);case 17:return x=u.type,S=u.pendingProps,S=u.elementType===x?S:di(x,S),bh(a,u),u.tag=1,xr(x)?(a=!0,oh(u)):a=!1,ll(u,m),vS(u,x,S),Dp(u,x,S,m),$p(null,u,x,!0,a,m);case 19:return LS(a,u,m);case 22:return kS(a,u,m)}throw Error(n(156,u.tag))};function oC(a,u){return Vw(a,u)}function XL(a,u,m,x){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(a,u,m,x){return new XL(a,u,m,x)}function ay(a){return a=a.prototype,!(!a||!a.isReactComponent)}function KL(a){if(typeof a=="function")return ay(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===Z)return 14}return 2}function oo(a,u){var m=a.alternate;return m===null?(m=Qr(a.tag,u,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=u,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,u=a.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function jh(a,u,m,x,S,E){var A=2;if(x=a,typeof a=="function")ay(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case F:return ea(m.children,S,E,u);case I:A=8,S|=8;break;case z:return a=Qr(12,m,u,S|2),a.elementType=z,a.lanes=E,a;case B:return a=Qr(13,m,u,S),a.elementType=B,a.lanes=E,a;case X:return a=Qr(19,m,u,S),a.elementType=X,a.lanes=E,a;case D:return Lh(m,S,E,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case G:A=10;break e;case V:A=9;break e;case H:A=11;break e;case Z:A=14;break e;case Y:A=16,x=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Qr(A,m,u,S),u.elementType=a,u.type=x,u.lanes=E,u}function ea(a,u,m,x){return a=Qr(7,a,x,u),a.lanes=m,a}function Lh(a,u,m,x){return a=Qr(22,a,x,u),a.elementType=D,a.lanes=m,a.stateNode={isHidden:!1},a}function ly(a,u,m){return a=Qr(6,a,null,u),a.lanes=m,a}function cy(a,u,m){return u=Qr(4,a.children!==null?a.children:[],a.key,u),u.lanes=m,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function YL(a,u,m,x,S){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lg(0),this.expirationTimes=Lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lg(0),this.identifierPrefix=x,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function uy(a,u,m,x,S,E,A,O,W){return a=new YL(a,u,m,O,W),u===1?(u=1,E===!0&&(u|=8)):u=0,E=Qr(3,null,null,u),a.current=E,E.stateNode=a,E.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(E),a}function ZL(a,u,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:x==null?null:""+x,children:a,containerInfo:u,implementation:m}}function aC(a){if(!a)return qs;a=a._reactInternals;e:{if(Bo(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(xr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(xr(m))return j1(a,m,u)}return u}function lC(a,u,m,x,S,E,A,O,W){return a=uy(m,x,!0,a,S,E,A,O,W),a.context=aC(null),m=a.current,x=cr(),S=io(m),E=xs(x,S),E.callback=u??null,eo(m,E,S),a.current.lanes=S,Ec(a,S,x),wr(a,x),a}function Dh(a,u,m,x){var S=u.current,E=cr(),A=io(S);return m=aC(m),u.context===null?u.context=m:u.pendingContext=m,u=xs(E,A),u.payload={element:a},x=x===void 0?null:x,x!==null&&(u.callback=x),a=eo(S,u,A),a!==null&&(mi(a,S,A,E),mh(a,S,A)),A}function Oh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function cC(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<u?m:u}}function dy(a,u){cC(a,u),(a=a.alternate)&&cC(a,u)}function qL(){return null}var uC=typeof reportError=="function"?reportError:function(a){console.error(a)};function hy(a){this._internalRoot=a}Vh.prototype.render=hy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));Dh(a,u,null,null)},Vh.prototype.unmount=hy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;qo(function(){Dh(null,a,null,null)}),u[fs]=null}};function Vh(a){this._internalRoot=a}Vh.prototype.unstable_scheduleHydration=function(a){if(a){var u=Xw();a={blockedOn:null,target:a,priority:u};for(var m=0;m<Hs.length&&u!==0&&u<Hs[m].priority;m++);Hs.splice(m,0,a),m===0&&Zw(a)}};function fy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function zh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function dC(){}function JL(a,u,m,x,S){if(S){if(typeof x=="function"){var E=x;x=function(){var ne=Oh(A);E.call(ne)}}var A=lC(u,x,a,0,null,!1,!1,"",dC);return a._reactRootContainer=A,a[fs]=A.current,Vc(a.nodeType===8?a.parentNode:a),qo(),A}for(;S=a.lastChild;)a.removeChild(S);if(typeof x=="function"){var O=x;x=function(){var ne=Oh(W);O.call(ne)}}var W=uy(a,0,!1,null,null,!1,!1,"",dC);return a._reactRootContainer=W,a[fs]=W.current,Vc(a.nodeType===8?a.parentNode:a),qo(function(){Dh(u,W,m,x)}),W}function $h(a,u,m,x,S){var E=m._reactRootContainer;if(E){var A=E;if(typeof S=="function"){var O=S;S=function(){var W=Oh(A);O.call(W)}}Dh(u,A,a,S)}else A=JL(m,u,a,S,x);return Oh(A)}Ww=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var m=bc(u.pendingLanes);m!==0&&(Dg(u,m|1),wr(u,un()),(_t&6)===0&&(fl=un()+500,Js()))}break;case 13:qo(function(){var x=ys(a,1);if(x!==null){var S=cr();mi(x,a,1,S)}}),dy(a,1)}},Og=function(a){if(a.tag===13){var u=ys(a,134217728);if(u!==null){var m=cr();mi(u,a,134217728,m)}dy(a,134217728)}},Hw=function(a){if(a.tag===13){var u=io(a),m=ys(a,u);if(m!==null){var x=cr();mi(m,a,u,x)}dy(a,u)}},Xw=function(){return At},Kw=function(a,u){var m=At;try{return At=a,u()}finally{At=m}},Ht=function(a,u,m){switch(u){case"input":if(Ot(a,m),u=m.name,m.type==="radio"&&u!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var x=m[u];if(x!==a&&x.form===a.form){var S=ih(x);if(!S)throw Error(n(90));Ve(x),Ot(x,S)}}}break;case"textarea":he(a,m);break;case"select":u=m.value,u!=null&&J(a,!!m.multiple,u,!1)}},Be=iy,Tt=qo;var QL={usingClientEntryPoint:!1,Events:[Bc,el,ih,Ye,ct,iy]},nu={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eD={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Dw(a),a===null?null:a.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||qL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Vd=Bh.inject(eD),$i=Bh}catch{}}return Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QL,Sr.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(u))throw Error(n(200));return ZL(a,u,null,m)},Sr.createRoot=function(a,u){if(!fy(a))throw Error(n(299));var m=!1,x="",S=uC;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=uy(a,1,!1,null,null,m,!1,x,S),a[fs]=u.current,Vc(a.nodeType===8?a.parentNode:a),new hy(u)},Sr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Dw(u),a=a===null?null:a.stateNode,a},Sr.flushSync=function(a){return qo(a)},Sr.hydrate=function(a,u,m){if(!zh(u))throw Error(n(200));return $h(null,a,u,!0,m)},Sr.hydrateRoot=function(a,u,m){if(!fy(a))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,S=!1,E="",A=uC;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),u=lC(u,null,a,1,m??null,S,!1,E,A),a[fs]=u.current,Vc(a),x)for(a=0;a<x.length;a++)m=x[a],S=m._getVersion,S=S(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,S]:u.mutableSourceEagerHydrationData.push(m,S);return new Vh(u)},Sr.render=function(a,u,m){if(!zh(u))throw Error(n(200));return $h(null,a,u,!1,m)},Sr.unmountComponentAtNode=function(a){if(!zh(a))throw Error(n(40));return a._reactRootContainer?(qo(function(){$h(null,null,a,!1,function(){a._reactRootContainer=null,a[fs]=null})}),!0):!1},Sr.unstable_batchedUpdates=iy,Sr.unstable_renderSubtreeIntoContainer=function(a,u,m,x){if(!zh(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return $h(a,u,m,!1,x)},Sr.version="18.3.1-next-f1338f8080-20240426",Sr}var vC;function pT(){if(vC)return py.exports;vC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),py.exports=lD(),py.exports}var _C;function cD(){if(_C)return Gh;_C=1;var t=pT();return Gh.createRoot=t.createRoot,Gh.hydrateRoot=t.hydrateRoot,Gh}var uD=cD();const yT=qx(uD);var iu={},wC;function dD(){if(wC)return iu;wC=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.parse=o,iu.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const v=new s,w=p.length;if(w<2)return v;const C=(y==null?void 0:y.decode)||h;let b=0;do{const R=p.indexOf("=",b);if(R===-1)break;const T=p.indexOf(";",b),P=T===-1?w:T;if(R>P){b=p.lastIndexOf(";",R-1)+1;continue}const k=l(p,b,R),M=c(p,R,k),F=p.slice(k,M);if(v[F]===void 0){let I=l(p,R+1,P),z=c(p,P,I);const G=C(p.slice(I,z));v[F]=G}b=P+1}while(b<w);return v}function l(p,y,v){do{const w=p.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function c(p,y,v){for(;y>v;){const w=p.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function d(p,y,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=w(y);if(!e.test(C))throw new TypeError(`argument val is invalid: ${y}`);let b=p+"="+C;if(!v)return b;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);b+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);b+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);b+="; Path="+v.path}if(v.expires){if(!f(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);b+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(b+="; HttpOnly"),v.secure&&(b+="; Secure"),v.partitioned&&(b+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return b}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return i.call(p)==="[object Date]"}return iu}dD();var SC="popstate";function hD(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return S0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ju(i)}return mD(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fD(){return Math.random().toString(36).substring(2,10)}function CC(t,e){return{usr:t.state,key:t.key,idx:e}}function S0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sc(e):e,state:n,key:e&&e.key||r||fD()}}function ju({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let C=h(),b=C==null?null:C-d;d=C,c&&c({action:l,location:w.location,delta:b})}function p(C,b){l="PUSH";let R=S0(w.location,C,b);d=h()+1;let T=CC(R,d),P=w.createHref(R);try{o.pushState(T,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(P)}s&&c&&c({action:l,location:w.location,delta:1})}function y(C,b){l="REPLACE";let R=S0(w.location,C,b);d=h();let T=CC(R,d),P=w.createHref(R);o.replaceState(T,"",P),s&&c&&c({action:l,location:w.location,delta:0})}function v(C){let b=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof C=="string"?C:ju(C);return R=R.replace(/ $/,"%20"),Jt(b,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,b)}let w={get action(){return l},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(SC,f),c=C,()=>{i.removeEventListener(SC,f),c=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let b=v(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:y,go(C){return o.go(C)}};return w}function xT(t,e,n="/"){return gD(t,e,n,!1)}function gD(t,e,n,r){let i=typeof e=="string"?sc(e):e,s=Ns(i.pathname||"/",n);if(s==null)return null;let o=vT(t);pD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=TD(s);l=ED(o[c],d,r)}return l}function vT(t,e=[],n=[],r=""){let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Jt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=Ms([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Jt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),vT(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:CD(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of _T(s.path))i(s,o,c)}),e}function _T(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_T(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function pD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yD=/^:[\w-]+$/,xD=3,vD=2,_D=1,wD=10,SD=-2,bC=t=>t==="*";function CD(t,e){let n=t.split("/"),r=n.length;return n.some(bC)&&(r+=SD),e&&(r+=vD),n.filter(i=>!bC(i)).reduce((i,s)=>i+(yD.test(s)?xD:s===""?_D:wD),r)}function bD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ED(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=zf({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=zf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ms([s,f.pathname]),pathnameBase:MD(Ms([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Ms([s,f.pathnameBase]))}return o}function zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let v=l[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[p];return f&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function RD(t,e=!1,n=!0){Ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sc(t):t;return{pathname:n?n.startsWith("/")?n:kD(n,e):e,search:ID(r),hash:ND(i)}}function kD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qx(t){let e=AD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ev(t,e,n,r=!1){let i;typeof t=="string"?i=sc(t):(i={...t},Jt(!i.pathname||!i.pathname.includes("?"),vy("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),vy("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),vy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=PD(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),MD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ID=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ND=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var jD=["GET",...wT];new Set(jD);var oc=_.createContext(null);oc.displayName="DataRouter";var Tm=_.createContext(null);Tm.displayName="DataRouterState";var ST=_.createContext({isTransitioning:!1});ST.displayName="ViewTransition";var LD=_.createContext(new Map);LD.displayName="Fetchers";var DD=_.createContext(null);DD.displayName="Await";var Ni=_.createContext(null);Ni.displayName="Navigation";var ud=_.createContext(null);ud.displayName="Location";var Fi=_.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var tv=_.createContext(null);tv.displayName="RouteError";function OD(t,{relative:e}={}){Jt(ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Ni),{hash:i,pathname:s,search:o}=hd(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Ms([n,s])),r.createHref({pathname:l,search:o,hash:i})}function ac(){return _.useContext(ud)!=null}function ji(){return Jt(ac(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ud).location}var CT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bT(t){_.useContext(Ni).static||_.useLayoutEffect(t)}function dd(){let{isDataRoute:t}=_.useContext(Fi);return t?JD():VD()}function VD(){Jt(ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(oc),{basename:e,navigator:n}=_.useContext(Ni),{matches:r}=_.useContext(Fi),{pathname:i}=ji(),s=JSON.stringify(Qx(r)),o=_.useRef(!1);return bT(()=>{o.current=!0}),_.useCallback((c,d={})=>{if(Ai(o.current,CT),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=ev(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ms([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}var ET=_.createContext(null);function nv(){return _.useContext(ET)}function zD(t){let e=_.useContext(Fi).outlet;return e&&_.createElement(ET.Provider,{value:t},e)}function hd(t,{relative:e}={}){let{matches:n}=_.useContext(Fi),{pathname:r}=ji(),i=JSON.stringify(Qx(n));return _.useMemo(()=>ev(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function $D(t,e){return RT(t,e)}function RT(t,e,n,r){var R;Jt(ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=_.useContext(Ni),{matches:o}=_.useContext(Fi),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let T=f&&f.path||"";TT(d,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=ji(),y;if(e){let T=typeof e=="string"?sc(e):e;Jt(h==="/"||((R=T.pathname)==null?void 0:R.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=p;let v=y.pathname||"/",w=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=!s&&n&&n.matches&&n.matches.length>0?n.matches:xT(t,{pathname:w});Ai(f||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ai(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=HD(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Ms([h,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Ms([h,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&b?_.createElement(ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function BD(){let t=qD(),e=FD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,o)}var GD=_.createElement(BD,null),UD=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(Fi.Provider,{value:this.props.routeContext},_.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WD({routeContext:t,match:e,children:n}){let r=_.useContext(oc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Fi.Provider,{value:t},n)}function HD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Jt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let f,p=!1,y=null,v=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||GD,o&&(l<0&&h===0?(TT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),C=()=>{let b;return f?b=y:p?b=v:d.route.Component?b=_.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,_.createElement(WD,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(UD,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function rv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XD(t){let e=_.useContext(oc);return Jt(e,rv(t)),e}function KD(t){let e=_.useContext(Tm);return Jt(e,rv(t)),e}function YD(t){let e=_.useContext(Fi);return Jt(e,rv(t)),e}function iv(t){let e=YD(t),n=e.matches[e.matches.length-1];return Jt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZD(){return iv("useRouteId")}function qD(){var r;let t=_.useContext(tv),e=KD("useRouteError"),n=iv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function JD(){let{router:t}=XD("useNavigate"),e=iv("useNavigate"),n=_.useRef(!1);return bT(()=>{n.current=!0}),_.useCallback(async(i,s={})=>{Ai(n.current,CT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var EC={};function TT(t,e,n){!e&&!EC[t]&&(EC[t]=!0,Ai(!1,n))}_.memo(QD);function QD({routes:t,future:e,state:n}){return RT(t,void 0,n,e)}function PT({to:t,replace:e,state:n,relative:r}){Jt(ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Ni);Ai(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Fi),{pathname:o}=ji(),l=dd(),c=ev(t,Qx(s),o,r==="path"),d=JSON.stringify(c);return _.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function eO(t){return zD(t.context)}function Rs(t){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Jt(!ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=sc(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,y=_.useMemo(()=>{let v=Ns(c,o);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return Ai(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(Ni.Provider,{value:l},_.createElement(ud.Provider,{children:e,value:y}))}function nO({children:t,location:e}){return $D(C0(t),e)}function C0(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,C0(r.props.children,s));return}Jt(r.type===Rs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=C0(r.props.children,s)),n.push(o)}),n}var bf="get",Ef="application/x-www-form-urlencoded";function Pm(t){return t!=null&&typeof t.tagName=="string"}function rO(t){return Pm(t)&&t.tagName.toLowerCase()==="button"}function iO(t){return Pm(t)&&t.tagName.toLowerCase()==="form"}function sO(t){return Pm(t)&&t.tagName.toLowerCase()==="input"}function oO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aO(t,e){return t.button===0&&(!e||e==="_self")&&!oO(t)}var Uh=null;function lO(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var cO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _y(t){return t!=null&&!cO.has(t)?(Ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function uO(t,e){let n,r,i,s,o;if(iO(t)){let l=t.getAttribute("action");r=l?Ns(l,e):null,n=t.getAttribute("method")||bf,i=_y(t.getAttribute("enctype"))||Ef,s=new FormData(t)}else if(rO(t)||sO(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Ns(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||bf,i=_y(t.getAttribute("formenctype"))||_y(l.getAttribute("enctype"))||Ef,s=new FormData(l,t),!lO()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,f)}}else{if(Pm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bf,r=null,i=Ef,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function sv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function dO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fO(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await dO(s,n);return o.links?o.links():[]}return[]}));return yO(r.flat(1).filter(hO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function RC(t,e,n,r,i,s){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function mO(t,e,{includeHydrateFallback:n}={}){return gO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function gO(t){return[...new Set(t)]}function pO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function yO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(pO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var xO=new Set([100,101,204,205]);function vO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ns(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function kT(){let t=_.useContext(oc);return sv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _O(){let t=_.useContext(Tm);return sv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ov=_.createContext(void 0);ov.displayName="FrameworkContext";function AT(){let t=_.useContext(ov);return sv(t,"You must render this element inside a <HydratedRouter> element"),t}function wO(t,e){let n=_.useContext(ov),[r,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=b=>{b.forEach(R=>{o(R.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[t]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:su(l,y),onBlur:su(c,v),onMouseEnter:su(d,y),onMouseLeave:su(h,v),onTouchStart:su(f,y)}]:[!1,p,{}]}function su(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SO({page:t,...e}){let{router:n}=kT(),r=_.useMemo(()=>xT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(bO,{page:t,matches:r,...e}):null}function CO(t){let{manifest:e,routeModules:n}=AT(),[r,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return fO(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function bO({page:t,matches:e,...n}){let r=ji(),{manifest:i,routeModules:s}=AT(),{basename:o}=kT(),{loaderData:l,matches:c}=_O(),d=_.useMemo(()=>RC(t,e,c,i,r,"data"),[t,e,c,i,r]),h=_.useMemo(()=>RC(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(b=>{var T;let R=i.routes[b.route.id];!R||!R.hasLoader||(!d.some(P=>P.route.id===b.route.id)&&b.route.id in l&&((T=s[b.route.id])!=null&&T.shouldRevalidate)||R.hasClientLoader?w=!0:v.add(b.route.id))}),v.size===0)return[];let C=vO(t,o);return w&&v.size>0&&C.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[o,l,r,i,d,e,t,s]),p=_.useMemo(()=>mO(h,i),[h,i]),y=CO(h);return _.createElement(_.Fragment,null,f.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:w})=>_.createElement("link",{key:v,...w})))}function EO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MT&&(window.__reactRouterVersion="7.5.2")}catch{}function RO({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=hD({window:n,v5Compat:!0}));let i=r.current,[s,o]=_.useState({action:i.action,location:i.location}),l=_.useCallback(c=>{_.startTransition(()=>o(c))},[o]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(tO,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var IT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NT=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},y){let{basename:v}=_.useContext(Ni),w=typeof d=="string"&&IT.test(d),C,b=!1;if(typeof d=="string"&&w&&(C=d,MT))try{let z=new URL(window.location.href),G=d.startsWith("//")?new URL(z.protocol+d):new URL(d),V=Ns(G.pathname,v);G.origin===z.origin&&V!=null?d=V+G.search+G.hash:b=!0}catch{Ai(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=OD(d,{relative:i}),[T,P,k]=wO(r,p),M=AO(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function F(z){e&&e(z),z.defaultPrevented||M(z)}let I=_.createElement("a",{...p,...k,href:C||R,onClick:b||s?e:F,ref:EO(y,P),target:c,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?_.createElement(_.Fragment,null,I,_.createElement(SO,{page:R})):I});NT.displayName="Link";var TO=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},h){let f=hd(o,{relative:d.relative}),p=ji(),y=_.useContext(Tm),{navigator:v,basename:w}=_.useContext(Ni),C=y!=null&&jO(f)&&l===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,R=p.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(R=R.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&w&&(T=Ns(T,w)||T);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=R===b||!i&&R.startsWith(b)&&R.charAt(P)==="/",M=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),F={isActive:k,isPending:M,isTransitioning:C},I=k?e:void 0,z;typeof r=="function"?z=r(F):z=[r,k?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(F):s;return _.createElement(NT,{...d,"aria-current":I,className:z,ref:h,style:G,to:o,viewTransition:l},typeof c=="function"?c(F):c)});TO.displayName="NavLink";var PO=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=bf,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},y)=>{let v=NO(),w=FO(l,{relative:d}),C=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&IT.test(l),R=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||o;v(P||T.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:f})};return _.createElement("form",{ref:y,method:C,action:w,onSubmit:r?c:R,...p,"data-discover":!b&&t==="render"?"true":void 0})});PO.displayName="Form";function kO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(t){let e=_.useContext(oc);return Jt(e,kO(t)),e}function AO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=dd(),c=ji(),d=hd(t,{relative:s});return _.useCallback(h=>{if(aO(h,e)){h.preventDefault();let f=n!==void 0?n:ju(c)===ju(d);l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,r,e,t,i,s,o])}var MO=0,IO=()=>`__${String(++MO)}__`;function NO(){let{router:t}=FT("useSubmit"),{basename:e}=_.useContext(Ni),n=ZD();return _.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=uO(r,e);if(i.navigate===!1){let h=i.fetcherKey||IO();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function FO(t,{relative:e}={}){let{basename:n}=_.useContext(Ni),r=_.useContext(Fi);Jt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...hd(t||".",{relative:e})},o=ji();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ms([n,s.pathname])),ju(s)}function jO(t,e={}){let n=_.useContext(ST);Jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FT("useViewTransitionState"),i=hd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zf(i.pathname,o)!=null||zf(i.pathname,s)!=null}new TextEncoder;[...xO];var $a=pT();const jT=qx($a);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TC=t=>{const e=DO(t);return e.charAt(0).toUpperCase()+e.slice(1)},LT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),OO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...VO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LT("lucide",i),...!s&&!OO(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(zO,{ref:s,iconNode:e,className:LT(`lucide-${LO(TC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=TC(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],BO=Te("activity",$O);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],UO=Te("arrow-down-wide-narrow",GO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],HO=Te("arrow-up-narrow-wide",WO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],b0=Te("ban",XO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]],av=Te("battery-full",KO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]],Lu=Te("battery-low",YO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}]],lv=Te("battery-medium",ZO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JO=Te("bell",qO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]],DT=Te("bone",QO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tV=Te("calendar",eV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fd=Te("check",nV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],md=Te("chevron-down",rV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sV=Te("chevron-left",iV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OT=Te("chevron-right",oV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cv=Te("chevron-up",aV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],cV=Te("chevrons-left",lV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],dV=Te("chevrons-right",uV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ca=Te("circle-alert",hV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sa=Te("circle-check-big",fV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],VT=Te("circle-dashed",mV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M10.1 2.18a9.93 9.93 0 0 1 3.8 0",key:"1qdqn0"}],["path",{d:"M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7",key:"1bq7p6"}],["path",{d:"M21.82 10.1a9.93 9.93 0 0 1 0 3.8",key:"1rlaqf"}],["path",{d:"M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69",key:"1xk03u"}],["path",{d:"M13.9 21.82a9.94 9.94 0 0 1-3.8 0",key:"l7re25"}],["path",{d:"M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7",key:"1v18p6"}],["path",{d:"M2.18 13.9a9.93 9.93 0 0 1 0-3.8",key:"xdo6bj"}],["path",{d:"M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69",key:"1jjmaz"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],uv=Te("circle-dot-dashed",gV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],yV=Te("circle-plus",pV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vV=Te("circle-user-round",xV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vn=Te("circle-x",_V);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SV=Te("circle",wV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],bV=Te("download",CV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],RV=Te("dumbbell",EV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"1n2rgs"}],["path",{d:"M6 8h4",key:"utf9t1"}],["path",{d:"M6 18h4",key:"12yh4b"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"3ha7mj"}],["path",{d:"M14 8h4",key:"1r8wg2"}],["path",{d:"M14 18h4",key:"1t3kbu"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"dfd4e2"}]],zT=Te("fence",TV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$T=Te("file-text",PV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],AV=Te("hash",kV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M13.5 19.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5A5.5 5.5 0 0 1 7.5 3c1.76 0 3 .5 4.5 2 1.5-1.5 2.74-2 4.5-2a5.5 5.5 0 0 1 5.402 6.5",key:"vd0vy5"}],["path",{d:"M15 15h6",key:"1u4692"}],["path",{d:"M18 12v6",key:"1houu1"}]],IV=Te("heart-plus",MV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],PC=Te("heart",NV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wi=Te("info",FV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],LV=Te("layers",jV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],OV=Te("link",DV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],BT=Te("list-filter",VV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],$V=Te("list",zV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GV=Te("loader-circle",BV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WV=Te("locate-fixed",UV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],XV=Te("lock-keyhole",HV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],YV=Te("log-out",KV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],qV=Te("map-pin-minus-inside",ZV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],QV=Te("map-pin-plus-inside",JV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],t4=Te("map-pin-plus",e4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077",key:"y0ewhp"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m21.5 15.5-5 5",key:"11iqnx"}],["path",{d:"m21.5 20.5-5-5",key:"1bylgx"}]],r4=Te("map-pin-x",n4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dv=Te("map-pin",i4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],o4=Te("map-pinned",s4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],l4=Te("map",a4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],u4=Te("mars",c4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],h4=Te("menu",d4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M5 12h14",key:"1ays0h"}]],GT=Te("minus",f4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],g4=Te("origami",m4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Ro=Te("paw-print",p4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kC=Te("plus",y4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],AC=Te("ruler",x4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],UT=Te("save",v4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w4=Te("settings",_4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],C4=Te("shell",S4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],E4=Te("slash",b4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],T4=Te("spline-pointer",R4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hv=Te("square-pen",P4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],WT=Te("tag",k4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],M4=Te("thermometer",A4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ua=Te("trash-2",I4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],F4=Te("undo",N4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],MC=Te("upload",j4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M10 20h4",key:"ni2waw"}],["path",{d:"M12 16v6",key:"c8a4gj"}],["path",{d:"M17 2h4v4",key:"vhe59"}],["path",{d:"m21 2-5.46 5.46",key:"19kypf"}],["circle",{cx:"12",cy:"11",r:"5",key:"16gxyc"}]],D4=Te("venus-and-mars",L4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],V4=Te("venus",O4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$s=Te("x",z4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],B4=Te("zap",$4);function HT(t,e){return function(){return t.apply(e,arguments)}}const{toString:G4}=Object.prototype,{getPrototypeOf:fv}=Object,{iterator:km,toStringTag:XT}=Symbol,Am=(t=>e=>{const n=G4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Li=t=>(t=t.toLowerCase(),e=>Am(e)===t),Mm=t=>e=>typeof e===t,{isArray:lc}=Array,Du=Mm("undefined");function U4(t){return t!==null&&!Du(t)&&t.constructor!==null&&!Du(t.constructor)&&Rr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const KT=Li("ArrayBuffer");function W4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KT(t.buffer),e}const H4=Mm("string"),Rr=Mm("function"),YT=Mm("number"),Im=t=>t!==null&&typeof t=="object",X4=t=>t===!0||t===!1,Rf=t=>{if(Am(t)!=="object")return!1;const e=fv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(XT in t)&&!(km in t)},K4=Li("Date"),Y4=Li("File"),Z4=Li("Blob"),q4=Li("FileList"),J4=t=>Im(t)&&Rr(t.pipe),Q4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rr(t.append)&&((e=Am(t))==="formdata"||e==="object"&&Rr(t.toString)&&t.toString()==="[object FormData]"))},e5=Li("URLSearchParams"),[t5,n5,r5,i5]=["ReadableStream","Request","Response","Headers"].map(Li),s5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),lc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function ZT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qT=t=>!Du(t)&&t!==fa;function E0(){const{caseless:t}=qT(this)&&this||{},e={},n=(r,i)=>{const s=t&&ZT(e,i)||i;Rf(e[s])&&Rf(r)?e[s]=E0(e[s],r):Rf(r)?e[s]=E0({},r):lc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&gd(arguments[r],n);return e}const o5=(t,e,n,{allOwnKeys:r}={})=>(gd(e,(i,s)=>{n&&Rr(i)?t[s]=HT(i,n):t[s]=i},{allOwnKeys:r}),t),a5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},c5=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&fv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},u5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},d5=t=>{if(!t)return null;if(lc(t))return t;let e=t.length;if(!YT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},h5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fv(Uint8Array)),f5=(t,e)=>{const r=(t&&t[km]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},m5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},g5=Li("HTMLFormElement"),p5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),IC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),y5=Li("RegExp"),JT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};gd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},x5=t=>{JT(t,(e,n)=>{if(Rr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Rr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},v5=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return lc(t)?r(t):r(String(t).split(e)),n},_5=()=>{},w5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function S5(t){return!!(t&&Rr(t.append)&&t[XT]==="FormData"&&t[km])}const C5=t=>{const e=new Array(10),n=(r,i)=>{if(Im(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=lc(r)?[]:{};return gd(r,(o,l)=>{const c=n(o,i+1);!Du(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},b5=Li("AsyncFunction"),E5=t=>t&&(Im(t)||Rr(t))&&Rr(t.then)&&Rr(t.catch),QT=((t,e)=>t?setImmediate:e?((n,r)=>(fa.addEventListener("message",({source:i,data:s})=>{i===fa&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),fa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rr(fa.postMessage)),R5=typeof queueMicrotask<"u"?queueMicrotask.bind(fa):typeof process<"u"&&process.nextTick||QT,T5=t=>t!=null&&Rr(t[km]),oe={isArray:lc,isArrayBuffer:KT,isBuffer:U4,isFormData:Q4,isArrayBufferView:W4,isString:H4,isNumber:YT,isBoolean:X4,isObject:Im,isPlainObject:Rf,isReadableStream:t5,isRequest:n5,isResponse:r5,isHeaders:i5,isUndefined:Du,isDate:K4,isFile:Y4,isBlob:Z4,isRegExp:y5,isFunction:Rr,isStream:J4,isURLSearchParams:e5,isTypedArray:h5,isFileList:q4,forEach:gd,merge:E0,extend:o5,trim:s5,stripBOM:a5,inherits:l5,toFlatObject:c5,kindOf:Am,kindOfTest:Li,endsWith:u5,toArray:d5,forEachEntry:f5,matchAll:m5,isHTMLForm:g5,hasOwnProperty:IC,hasOwnProp:IC,reduceDescriptors:JT,freezeMethods:x5,toObjectSet:v5,toCamelCase:p5,noop:_5,toFiniteNumber:w5,findKey:ZT,global:fa,isContextDefined:qT,isSpecCompliantForm:S5,toJSONObject:C5,isAsyncFn:b5,isThenable:E5,setImmediate:QT,asap:R5,isIterable:T5};function it(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const eP=it.prototype,tP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tP[t]={value:t}});Object.defineProperties(it,tP);Object.defineProperty(eP,"isAxiosError",{value:!0});it.from=(t,e,n,r,i,s)=>{const o=Object.create(eP);return oe.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),it.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const P5=null;function R0(t){return oe.isPlainObject(t)||oe.isArray(t)}function nP(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function NC(t,e,n){return t?t.concat(e).map(function(i,s){return i=nP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function k5(t){return oe.isArray(t)&&!t.some(R0)}const A5=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Nm(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,C){return!oe.isUndefined(C[w])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(oe.isDate(v))return v.toISOString();if(!c&&oe.isBlob(v))throw new it("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(v)||oe.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,w,C){let b=v;if(v&&!C&&typeof v=="object"){if(oe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(oe.isArray(v)&&k5(v)||(oe.isFileList(v)||oe.endsWith(w,"[]"))&&(b=oe.toArray(v)))return w=nP(w),b.forEach(function(T,P){!(oe.isUndefined(T)||T===null)&&e.append(o===!0?NC([w],P,s):o===null?w:w+"[]",d(T))}),!1}return R0(v)?!0:(e.append(NC(C,w,s),d(v)),!1)}const f=[],p=Object.assign(A5,{defaultVisitor:h,convertValue:d,isVisitable:R0});function y(v,w){if(!oe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),oe.forEach(v,function(b,R){(!(oe.isUndefined(b)||b===null)&&i.call(e,b,oe.isString(R)?R.trim():R,w,p))===!0&&y(b,w?w.concat(R):[R])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function FC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function mv(t,e){this._pairs=[],t&&Nm(t,this,e)}const rP=mv.prototype;rP.append=function(e,n){this._pairs.push([e,n])};rP.toString=function(e){const n=e?function(r){return e.call(this,r,FC)}:FC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function M5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iP(t,e,n){if(!e)return t;const r=n&&n.encode||M5;oe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=oe.isURLSearchParams(e)?e.toString():new mv(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class jC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I5=typeof URLSearchParams<"u"?URLSearchParams:mv,N5=typeof FormData<"u"?FormData:null,F5=typeof Blob<"u"?Blob:null,j5={isBrowser:!0,classes:{URLSearchParams:I5,FormData:N5,Blob:F5},protocols:["http","https","file","blob","url","data"]},gv=typeof window<"u"&&typeof document<"u",T0=typeof navigator=="object"&&navigator||void 0,L5=gv&&(!T0||["ReactNative","NativeScript","NS"].indexOf(T0.product)<0),D5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O5=gv&&window.location.href||"http://localhost",V5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gv,hasStandardBrowserEnv:L5,hasStandardBrowserWebWorkerEnv:D5,navigator:T0,origin:O5},Symbol.toStringTag,{value:"Module"})),or={...V5,...j5};function z5(t,e){return Nm(t,new or.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return or.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function $5(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function B5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function oP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&oe.isArray(i)?i.length:o,c?(oe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!oe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&oe.isArray(i[o])&&(i[o]=B5(i[o])),!l)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,i)=>{e($5(r),i,n,0)}),n}return null}function G5(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const pd={transitional:sP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(oP(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return z5(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Nm(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),G5(e)):e}],transformResponse:[function(e){const n=this.transitional||pd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?it.from(l,it.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{pd.headers[t]={}});const U5=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&U5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},LC=Symbol("internals");function ou(t){return t&&String(t).trim().toLowerCase()}function Tf(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Tf):String(t)}function H5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const X5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wy(t,e,n,r,i){if(oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function K5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Y5(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Tr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,d){const h=ou(c);if(!h)throw new Error("header name must be a non-empty string");const f=oe.findKey(i,h);(!f||i[f]===void 0||d===!0||d===void 0&&i[f]!==!1)&&(i[f||c]=Tf(l))}const o=(l,c)=>oe.forEach(l,(d,h)=>s(d,h,c));if(oe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(oe.isString(e)&&(e=e.trim())&&!X5(e))o(W5(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let l={},c,d;for(const h of e){if(!oe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?oe.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=ou(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return H5(i);if(oe.isFunction(n))return n.call(this,i,r);if(oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ou(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=ou(o),o){const l=oe.findKey(r,o);l&&(!n||wy(r,r[l],l,n))&&(delete r[l],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||wy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return oe.forEach(this,(i,s)=>{const o=oe.findKey(r,s);if(o){n[o]=Tf(i),delete n[s];return}const l=e?K5(s):String(s).trim();l!==s&&delete n[s],n[l]=Tf(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[LC]=this[LC]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=ou(o);r[l]||(Y5(i,o),r[l]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}};Tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Tr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(Tr);function Sy(t,e){const n=this||pd,r=e||n,i=Tr.from(r.headers);let s=r.data;return oe.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function aP(t){return!!(t&&t.__CANCEL__)}function cc(t,e,n){it.call(this,t??"canceled",it.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(cc,it,{__CANCEL__:!0});function lP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new it("Request failed with status code "+n.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Z5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function q5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[s];o||(o=d),n[i]=c,r[i]=d;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const y=h&&d-h;return y?Math.round(p*1e3/y):void 0}}function J5(t,e){let n=0,r=1e3/e,i,s;const o=(d,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=r?o(d,h):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const $f=(t,e,n=3)=>{let r=0;const i=q5(50,250);return J5(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),h=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},DC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},OC=t=>(...e)=>oe.asap(()=>t(...e)),Q5=or.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,or.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(or.origin),or.navigator&&/(msie|trident)/i.test(or.navigator.userAgent)):()=>!0,e3=or.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function n3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cP(t,e,n){let r=!t3(e);return t&&(r||n==!1)?n3(t,e):e}const VC=t=>t instanceof Tr?{...t}:t;function Pa(t,e){e=e||{};const n={};function r(d,h,f,p){return oe.isPlainObject(d)&&oe.isPlainObject(h)?oe.merge.call({caseless:p},d,h):oe.isPlainObject(h)?oe.merge({},h):oe.isArray(h)?h.slice():h}function i(d,h,f,p){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d,f,p)}else return r(d,h,f,p)}function s(d,h){if(!oe.isUndefined(h))return r(void 0,h)}function o(d,h){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,f){if(f in e)return r(d,h);if(f in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,f)=>i(VC(d),VC(h),f,!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||i,p=f(t[h],e[h],h);oe.isUndefined(p)&&f!==l||(n[h]=p)}),n}const uP=t=>{const e=Pa({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Tr.from(o),e.url=iP(cP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(oe.isFormData(n)){if(or.hasStandardBrowserEnv||or.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(or.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&Q5(e.url))){const d=i&&s&&e3.read(s);d&&o.set(i,d)}return e},r3=typeof XMLHttpRequest<"u",i3=r3&&function(t){return new Promise(function(n,r){const i=uP(t);let s=i.data;const o=Tr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,f,p,y,v;function w(){y&&y(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function b(){if(!C)return;const T=Tr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:T,config:t,request:C};lP(function(F){n(F),w()},function(F){r(F),w()},k),C=null}"onloadend"in C?C.onloadend=b:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(b)},C.onabort=function(){C&&(r(new it("Request aborted",it.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new it("Network Error",it.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||sP;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new it(P,k.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,t,C)),C=null},s===void 0&&o.setContentType(null),"setRequestHeader"in C&&oe.forEach(o.toJSON(),function(P,k){C.setRequestHeader(k,P)}),oe.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),l&&l!=="json"&&(C.responseType=i.responseType),d&&([p,v]=$f(d,!0),C.addEventListener("progress",p)),c&&C.upload&&([f,y]=$f(c),C.upload.addEventListener("progress",f),C.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=T=>{C&&(r(!T||T.type?new cc(null,t,C):T),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const R=Z5(i.url);if(R&&or.protocols.indexOf(R)===-1){r(new it("Unsupported protocol "+R+":",it.ERR_BAD_REQUEST,t));return}C.send(s||null)})},s3=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof it?h:new cc(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new it(`timeout ${e} of ms exceeded`,it.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},o3=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},a3=async function*(t,e){for await(const n of l3(t))yield*o3(n,e)},l3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},zC=(t,e,n,r)=>{const i=a3(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let f=h.byteLength;if(n){let p=s+=f;n(p)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Fm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dP=Fm&&typeof ReadableStream=="function",c3=Fm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},u3=dP&&hP(()=>{let t=!1;const e=new Request(or.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),$C=64*1024,P0=dP&&hP(()=>oe.isReadableStream(new Response("").body)),Bf={stream:P0&&(t=>t.body)};Fm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bf[e]&&(Bf[e]=oe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new it(`Response type '${e}' is not supported`,it.ERR_NOT_SUPPORT,r)})})})(new Response);const d3=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(or.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await c3(t)).byteLength},h3=async(t,e)=>{const n=oe.toFiniteNumber(t.getContentLength());return n??d3(e)},f3=Fm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:f="same-origin",fetchOptions:p}=uP(t);d=d?(d+"").toLowerCase():"text";let y=s3([i,s&&s.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(c&&u3&&n!=="get"&&n!=="head"&&(C=await h3(h,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(oe.isFormData(r)&&(M=k.headers.get("content-type"))&&h.setContentType(M),k.body){const[F,I]=DC(C,$f(OC(c)));r=zC(k.body,$C,F,I)}}oe.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;v=new Request(e,{...p,signal:y,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0});let R=await fetch(v);const T=P0&&(d==="stream"||d==="response");if(P0&&(l||T&&w)){const k={};["status","statusText","headers"].forEach(z=>{k[z]=R[z]});const M=oe.toFiniteNumber(R.headers.get("content-length")),[F,I]=l&&DC(M,$f(OC(l),!0))||[];R=new Response(zC(R.body,$C,F,()=>{I&&I(),w&&w()}),k)}d=d||"text";let P=await Bf[oe.findKey(Bf,d)||"text"](R,t);return!T&&w&&w(),await new Promise((k,M)=>{lP(k,M,{data:P,headers:Tr.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:v})})}catch(b){throw w&&w(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,t,v),{cause:b.cause||b}):it.from(b,b&&b.code,t,v)}}),k0={http:P5,xhr:i3,fetch:f3};oe.forEach(k0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const BC=t=>`- ${t}`,m3=t=>oe.isFunction(t)||t===null||t===!1,fP={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!m3(n)&&(r=k0[(o=String(n)).toLowerCase()],r===void 0))throw new it(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(BC).join(`
`):" "+BC(s[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:k0};function Cy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cc(null,t)}function GC(t){return Cy(t),t.headers=Tr.from(t.headers),t.data=Sy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fP.getAdapter(t.adapter||pd.adapter)(t).then(function(r){return Cy(t),r.data=Sy.call(t,t.transformResponse,r),r.headers=Tr.from(r.headers),r},function(r){return aP(r)||(Cy(t),r&&r.response&&(r.response.data=Sy.call(t,t.transformResponse,r.response),r.response.headers=Tr.from(r.response.headers))),Promise.reject(r)})}const mP="1.9.0",jm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{jm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const UC={};jm.transitional=function(e,n,r){function i(s,o){return"[Axios v"+mP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new it(i(o," has been removed"+(n?" in "+n:"")),it.ERR_DEPRECATED);return n&&!UC[o]&&(UC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};jm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function g3(t,e,n){if(typeof t!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new it("option "+s+" must be "+c,it.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new it("Unknown option "+s,it.ERR_BAD_OPTION)}}const Pf={assertOptions:g3,validators:jm},Hi=Pf.validators;let wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jC,response:new jC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Pa(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Pf.assertOptions(r,{silentJSONParsing:Hi.transitional(Hi.boolean),forcedJSONParsing:Hi.transitional(Hi.boolean),clarifyTimeoutError:Hi.transitional(Hi.boolean)},!1),i!=null&&(oe.isFunction(i)?n.paramsSerializer={serialize:i}:Pf.assertOptions(i,{encode:Hi.function,serialize:Hi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Pf.assertOptions(n,{baseUrl:Hi.spelling("baseURL"),withXsrfToken:Hi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[n.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Tr.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,f=0,p;if(!c){const v=[GC.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,d),p=v.length,h=Promise.resolve(n);f<p;)h=h.then(v[f++],v[f++]);return h}p=l.length;let y=n;for(f=0;f<p;){const v=l[f++],w=l[f++];try{y=v(y)}catch(C){w.call(this,C);break}}try{h=GC.call(this,y)}catch(v){return Promise.reject(v)}for(f=0,p=d.length;f<p;)h=h.then(d[f++],d[f++]);return h}getUri(e){e=Pa(this.defaults,e);const n=cP(e.baseURL,e.url,e.allowAbsoluteUrls);return iP(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){wa.prototype[e]=function(n,r){return this.request(Pa(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Pa(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}wa.prototype[e]=n(),wa.prototype[e+"Form"]=n(!0)});let p3=class gP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new cc(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new gP(function(i){e=i}),cancel:e}}};function y3(t){return function(n){return t.apply(null,n)}}function x3(t){return oe.isObject(t)&&t.isAxiosError===!0}const A0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(A0).forEach(([t,e])=>{A0[e]=t});function pP(t){const e=new wa(t),n=HT(wa.prototype.request,e);return oe.extend(n,wa.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return pP(Pa(t,i))},n}const gn=pP(pd);gn.Axios=wa;gn.CanceledError=cc;gn.CancelToken=p3;gn.isCancel=aP;gn.VERSION=mP;gn.toFormData=Nm;gn.AxiosError=it;gn.Cancel=gn.CanceledError;gn.all=function(e){return Promise.all(e)};gn.spread=y3;gn.isAxiosError=x3;gn.mergeConfig=Pa;gn.AxiosHeaders=Tr;gn.formToJSON=t=>oP(oe.isHTMLForm(t)?new FormData(t):t);gn.getAdapter=fP.getAdapter;gn.HttpStatusCode=A0;gn.default=gn;const{Axios:Tee,AxiosError:Pee,CanceledError:kee,isCancel:Aee,CancelToken:Mee,VERSION:Iee,all:Nee,Cancel:Fee,isAxiosError:jee,spread:Lee,toFormData:Dee,AxiosHeaders:Oee,HttpStatusCode:Vee,formToJSON:zee,getAdapter:$ee,mergeConfig:Bee}=gn,yP="http://192.168.1.35:5000",Lm=gn.create({baseURL:yP,withCredentials:!0,headers:{"Content-Type":"application/json"}});Lm.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});async function Ft(t,e={}){const n=localStorage.getItem("token"),r=e.headers?{...e.headers}:{};n&&(r.Authorization=`Bearer ${n}`);const i=`${yP}${t}`;return await fetch(i,{credentials:"include",...e,headers:r})}const v3=async t=>{try{return(await Lm.post("/api/user/login",t,{withCredentials:!0})).data}catch(e){throw e.response?new Error(e.response.data.message||"Error de autenticación."):new Error("No se pudo conectar con el servidor.")}},_3=async()=>{try{return(await Lm.post("/api/user/logout",{},{withCredentials:!0})).data}catch{throw new Error("Error al cerrar sesión.")}},w3=async()=>{try{return(await Lm.get("/api/user/session",{withCredentials:!0})).data}catch(t){if(t.response&&t.response.status===401)return{authenticated:!1};throw new Error("Error al verificar sesión.")}},xP=_.createContext(null),Dm=()=>_.useContext(xP);function S3({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const c=await w3();c.authenticated?n(c.user):n(null)}catch(c){console.log("🔴 No autenticado:",c.message),n(null)}finally{i(!1)}})()},[]);const s=async l=>{const c=await v3(l);return c.status==="ok"&&(n(c.user),c.access_token&&localStorage.setItem("token",c.access_token)),c},o=async()=>{await _3(),localStorage.removeItem("token"),n(null)};return g.jsx(xP.Provider,{value:{user:e,login:s,logout:o,isAuthenticated:!!e,loading:r},children:t})}function C3({menuOpen:t,setMenuOpen:e}){ji();const n=dd(),{logout:r}=Dm(),[i,s]=_.useState({width:window.innerWidth,height:window.innerHeight}),o=d=>{e(!1),setTimeout(()=>{n(d,{replace:!0})},100)},l=d=>{d.stopPropagation()},c=async()=>{await r(),n("/login",{replace:!0})};return _.useEffect(()=>{const d=()=>{s({width:window.innerWidth,height:window.innerHeight})},h=f=>{f.key==="Escape"&&e(!1)};return window.addEventListener("resize",d),document.addEventListener("keydown",h),()=>{window.removeEventListener("resize",d),document.removeEventListener("keydown",h)}},[e]),g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:g.jsx("button",{onClick:()=>e(!0),className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(h4,{className:"w-6 h-6 text-gray-800"})})}),t&&g.jsxs("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-md z-50 transition-all duration-300 ease-in-out animate-slide-in-left",onClick:()=>e(!1),children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-6 text-lg text-gray-700 hover:text-red-600",children:"✕"}),g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-4 text-center",onClick:l,children:[[["Mapa","/mapa"],["Parcelas","/parcelas"],["Campos","/campos"],["Alertas","/alertas"],["Animales","/animales"]].map(([d,h])=>g.jsx("button",{onClick:()=>o(h),className:`w-full text-gray-800 font-semibold hover:text-green-600 transition-all\r
                                    text-xl sm:text-2xl md:text-3xl lg:text-4xl menu-button`,children:d},h)),g.jsxs("button",{onClick:c,className:"mt-10 text-red-600 hover:text-red-800 flex items-center gap-2 text-lg",children:[g.jsx(YV,{className:"w-5 h-5"}),"Cerrar sesión"]})]})]},i.width)]})}function b3(){const[t,e]=_.useState(!1);return{menuOpen:t,setMenuOpen:e}}function au({label:t,icon:e,path:n,current:r,navigate:i,full:s=!1,onClick:o}){const l=()=>{i(n),o&&o()};return g.jsxs("button",{onClick:l,className:`h-full w-full flex flex-col items-center justify-center flex-1 py-1
                        ${r===n?"text-green-600 font-semibold":"text-gray-700"}
                        transition-all`,children:[g.jsx("span",{className:"text-lg",children:e}),g.jsx("span",{className:"text-[10px] min-[400px]:block hidden leading-none",children:t})]})}function E3({setMenuOpen:t}){const e=ji(),n=dd(),r=i=>{t(!1),setTimeout(()=>{n(i,{replace:!0})},100)};return g.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-16 z-50 bg-white border-t flex justify-around items-center",children:[g.jsx(au,{label:"Campos",icon:g.jsx(dv,{}),path:"/campos",current:e.pathname,navigate:r}),g.jsx(au,{label:"Parcelas",icon:g.jsx(zT,{}),path:"/parcelas",current:e.pathname,navigate:r}),g.jsx(au,{label:"Mapa",icon:g.jsx(l4,{}),path:"/mapa",current:e.pathname,navigate:r}),g.jsx(au,{label:"Alertas",icon:g.jsx(JO,{}),path:"/alertas",current:e.pathname,navigate:r}),g.jsx(au,{label:"Animales",icon:g.jsx(Ro,{}),path:"/animales",current:e.pathname,navigate:r})]})}function R3(){const{login:t,isAuthenticated:e,loading:n}=Dm(),r=dd(),[i,s]=_.useState({username:"",password:""}),[o,l]=_.useState(null),[c,d]=_.useState(!1);_.useEffect(()=>{!n&&e&&r("/mapa",{replace:!0})},[n,e,r]);const h=p=>{s({...i,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault(),d(!0),l(null);try{await t(i),r("/mapa")}catch(y){l(y.message||"Error de autenticación"),d(!1)}};return n?g.jsx("div",{className:"text-center text-red-600 mt-10",children:"Verificando sesión..."}):g.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-green-50 bg-gray-400",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white shadow-xl rounded-xl overflow-hidden max-w-4xl w-full",children:[g.jsx("div",{className:"hidden md:block w-1/2 min-h-[500px] bg-cover bg-center",style:{backgroundImage:"url('https://i.pinimg.com/736x/4f/ec/ee/4fecee3b0ba71316c5ffe25a78265c9e.jpg')"}}),g.jsxs("form",{onSubmit:f,className:"p-8 w-full md:w-1/2",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 text-center",children:"Bienvenido"}),g.jsx("p",{className:"text-sm text-gray-500 mb-6 text-center",children:"Accedé a tu sistema de gestión ganadera"}),o&&g.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:o}),g.jsxs("div",{className:"mb-4 relative",children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),g.jsxs("div",{className:"flex items-center border rounded-xl shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(vV,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:i.username,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsxs("div",{className:"mb-6 relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña"}),g.jsxs("div",{className:"flex items-center border rounded-xl shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(XV,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:i.password,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-black text-white font-semibold rounded-xl hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition",children:c?"Ingresando...":"Ingresar"})]})]})})}function WC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Om(...t){return e=>{let n=!1;const r=t.map(i=>{const s=WC(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():WC(t[i],null)}}}}function ht(...t){return _.useCallback(Om(...t),t)}function ka(t){const e=T3(t),n=_.forwardRef((r,i)=>{const{children:s,...o}=r,l=_.Children.toArray(s),c=l.find(k3);if(c){const d=c.props.children,h=l.map(f=>f===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:f);return g.jsx(e,{...o,ref:i,children:_.isValidElement(d)?_.cloneElement(d,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var vP=ka("Slot");function T3(t){const e=_.forwardRef((n,r)=>{const{children:i,...s}=n;if(_.isValidElement(i)){const o=M3(i),l=A3(s,i.props);return i.type!==_.Fragment&&(l.ref=r?Om(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _P=Symbol("radix.slottable");function P3(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_P,e}function k3(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_P}function A3(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function M3(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wP(t))&&(r&&(r+=" "),r+=e);return r}const HC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,XC=SP,pv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return XC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],f=s==null?void 0:s[d];if(h===null)return null;const p=HC(h)||HC(f);return i[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(v=>{let[w,C]=v;return Array.isArray(C)?C.includes({...s,...l}[w]):{...s,...l}[w]===C})?[...d,f,p]:d},[]);return XC(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},yv="-",I3=t=>{const e=F3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(yv);return l[0]===""&&l.length!==1&&l.shift(),CP(l,e)||N3(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},CP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?CP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(yv);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},KC=/^\[(.+)\]$/,N3=t=>{if(KC.test(t)){const e=KC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},F3=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)M0(n[i],r,i,e);return r},M0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:YC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(j3(i)){M0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{M0(o,YC(e,s),n,r)})})},YC=(t,e)=>{let n=t;return e.split(yv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},j3=t=>t.isThemeGetter,L3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},I0="!",N0=":",D3=N0.length,O3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,c=0,d;for(let v=0;v<i.length;v++){let w=i[v];if(o===0&&l===0){if(w===N0){s.push(i.slice(c,v)),c=v+D3;continue}if(w==="/"){d=v;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const h=s.length===0?i:i.substring(c),f=V3(h),p=f!==h,y=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:y}};if(e){const i=e+N0,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},V3=t=>t.endsWith(I0)?t.substring(0,t.length-1):t.startsWith(I0)?t.substring(1):t,z3=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},$3=t=>({cache:L3(t.cacheSize),parseClassName:O3(t),sortModifiers:z3(t),...I3(t)}),B3=/\s+/,G3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(B3);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:f,modifiers:p,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let C=!!w,b=r(C?v.substring(0,w):v);if(!b){if(!C){c=h+(c.length>0?" "+c:c);continue}if(b=r(v),!b){c=h+(c.length>0?" "+c:c);continue}C=!1}const R=s(p).join(":"),T=y?R+I0:R,P=T+b;if(o.includes(P))continue;o.push(P);const k=i(b,C);for(let M=0;M<k.length;++M){const F=k[M];o.push(T+F)}c=h+(c.length>0?" "+c:c)}return c};function U3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bP(e))&&(r&&(r+=" "),r+=n);return r}const bP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bP(t[r]))&&(n&&(n+=" "),n+=e);return n};function W3(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=$3(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=G3(c,n);return i(c,h),h}return function(){return s(U3.apply(null,arguments))}}const Rn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},EP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H3=/^\d+\/\d+$/,X3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gl=t=>H3.test(t),ot=t=>!!t&&!Number.isNaN(Number(t)),lo=t=>!!t&&Number.isInteger(Number(t)),by=t=>t.endsWith("%")&&ot(t.slice(0,-1)),ws=t=>X3.test(t),J3=()=>!0,Q3=t=>K3.test(t)&&!Y3.test(t),TP=()=>!1,ez=t=>Z3.test(t),tz=t=>q3.test(t),nz=t=>!Me(t)&&!Ie(t),rz=t=>uc(t,AP,TP),Me=t=>EP.test(t),ta=t=>uc(t,MP,Q3),Ey=t=>uc(t,lz,ot),ZC=t=>uc(t,PP,TP),iz=t=>uc(t,kP,tz),Wh=t=>uc(t,IP,ez),Ie=t=>RP.test(t),lu=t=>dc(t,MP),sz=t=>dc(t,cz),qC=t=>dc(t,PP),oz=t=>dc(t,AP),az=t=>dc(t,kP),Hh=t=>dc(t,IP,!0),uc=(t,e,n)=>{const r=EP.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},dc=(t,e,n=!1)=>{const r=RP.exec(t);return r?r[1]?e(r[1]):n:!1},PP=t=>t==="position"||t==="percentage",kP=t=>t==="image"||t==="url",AP=t=>t==="length"||t==="size"||t==="bg-size",MP=t=>t==="length",lz=t=>t==="number",cz=t=>t==="family-name",IP=t=>t==="shadow",uz=()=>{const t=Rn("color"),e=Rn("font"),n=Rn("text"),r=Rn("font-weight"),i=Rn("tracking"),s=Rn("leading"),o=Rn("breakpoint"),l=Rn("container"),c=Rn("spacing"),d=Rn("radius"),h=Rn("shadow"),f=Rn("inset-shadow"),p=Rn("text-shadow"),y=Rn("drop-shadow"),v=Rn("blur"),w=Rn("perspective"),C=Rn("aspect"),b=Rn("ease"),R=Rn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...P(),Ie,Me],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],I=()=>[Ie,Me,c],z=()=>[gl,"full","auto",...I()],G=()=>[lo,"none","subgrid",Ie,Me],V=()=>["auto",{span:["full",lo,Ie,Me]},lo,Ie,Me],H=()=>[lo,"auto",Ie,Me],B=()=>["auto","min","max","fr",Ie,Me],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...I()],D=()=>[gl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],j=()=>[t,Ie,Me],U=()=>[...P(),qC,ZC,{position:[Ie,Me]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",oz,rz,{size:[Ie,Me]}],L=()=>[by,lu,ta],re=()=>["","none","full",d,Ie,Me],ie=()=>["",ot,lu,ta],ce=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[ot,by,qC,ZC],pe=()=>["","none",v,Ie,Me],we=()=>["none",ot,Ie,Me],be=()=>["none",ot,Ie,Me],$e=()=>[ot,Ie,Me],Ve=()=>[gl,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ws],breakpoint:[ws],color:[J3],container:[ws],"drop-shadow":[ws],ease:["in","out","in-out"],font:[nz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ws],shadow:[ws],spacing:["px",ot],text:[ws],"text-shadow":[ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gl,Me,Ie,C]}],container:["container"],columns:[{columns:[ot,Me,Ie,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[lo,"auto",Ie,Me]}],basis:[{basis:[gl,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,gl,"auto","initial","none",Me]}],grow:[{grow:["",ot,Ie,Me]}],shrink:[{shrink:["",ot,Ie,Me]}],order:[{order:[lo,"first","last","none",Ie,Me]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[l,"screen",...D()]}],"min-w":[{"min-w":[l,"screen","none",...D()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",n,lu,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,Ey]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",by,Me]}],"font-family":[{font:[sz,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ie,Me]}],"line-clamp":[{"line-clamp":[ot,"none",Ie,Ey]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",Ie,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",Ie,ta]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[ot,"auto",Ie,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lo,Ie,Me],radial:["",Ie,Me],conic:[lo,Ie,Me]},az,iz]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,Ie,Me]}],"outline-w":[{outline:["",ot,lu,ta]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,Hh,Wh]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",f,Hh,Wh]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[ot,ta]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",p,Hh,Wh]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[ot,Ie,Me]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Ie,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Me]}],filter:[{filter:["","none",Ie,Me]}],blur:[{blur:pe()}],brightness:[{brightness:[ot,Ie,Me]}],contrast:[{contrast:[ot,Ie,Me]}],"drop-shadow":[{"drop-shadow":["","none",y,Hh,Wh]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",ot,Ie,Me]}],"hue-rotate":[{"hue-rotate":[ot,Ie,Me]}],invert:[{invert:["",ot,Ie,Me]}],saturate:[{saturate:[ot,Ie,Me]}],sepia:[{sepia:["",ot,Ie,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Me]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[ot,Ie,Me]}],"backdrop-contrast":[{"backdrop-contrast":[ot,Ie,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,Ie,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,Ie,Me]}],"backdrop-invert":[{"backdrop-invert":["",ot,Ie,Me]}],"backdrop-opacity":[{"backdrop-opacity":[ot,Ie,Me]}],"backdrop-saturate":[{"backdrop-saturate":[ot,Ie,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,Ie,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",Ie,Me]}],ease:[{ease:["linear","initial",b,Ie,Me]}],delay:[{delay:[ot,Ie,Me]}],animate:[{animate:["none",R,Ie,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ie,Me]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ie,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Me]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[ot,lu,ta,Ey]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dz=W3(uz);function Oe(...t){return dz(SP(t))}function hz(){const[t,e]=_.useState(0);return _.useEffect(()=>{const n=()=>e(window.innerWidth);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}const Tl={xs:640,sm:850,md:1040,lg:1200,xl:1390,xxl:1540},fz=pv("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-8",xs:"h-4 px-2 py-2",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),st=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?vP:"button";return g.jsx(o,{className:Oe(fz({variant:e,size:n,className:t})),ref:s,...i})});st.displayName="Button";function da({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i,confirmText:s="Aceptar",cancelText:o="Cancelar",children:l=null,confirmVariant:c="default",confirmColor:d="bg-black hover:bg-gray-700",cancelVariant:h="outline",icon:f=null,size:p="md"}){if(_.useEffect(()=>{if(t){const v=setTimeout(()=>{if(!l){const w=document.querySelector(".modal-footer-confirm-button");w&&w.focus()}},50);return()=>clearTimeout(v)}},[t,l]),!t)return null;const y={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",xxxxl:"max-w-4xl",full:"max-w-full"};return $a.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onKeyDown:v=>{v.key==="Escape"&&(i==null||i())},tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:g.jsx("div",{className:`bg-white p-4 rounded-xl shadow-xl w-full relative ${y[p]||y.md}`,children:l||g.jsxs(g.Fragment,{children:[g.jsxs("h2",{id:"modal-title",className:"text-lg font-bold mb-2 flex items-center gap-2",children:[f&&g.jsx("span",{className:"mr-1",children:f}),e]}),n&&g.jsx("p",{id:"modal-description",className:"text-sm text-gray-700 mb-4",children:n}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(st,{variant:h,onClick:i,className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:o}),g.jsx(st,{variant:c,onClick:r,className:`gap-2 ${d} text-white shadow-md w-full sm:w-auto modal-footer-confirm-button`,children:s})]})]})})}),document.body)}function xv({isOpen:t,message:e,onClose:n}){return _.useEffect(()=>{if(t){const r=setTimeout(()=>{const i=document.querySelector(".modal-info-confirm-button");i&&i.focus()},50);return()=>clearTimeout(r)}},[t]),t?$a.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg w-full max-w-sm text-center",role:"dialog","aria-modal":"true","aria-labelledby":"info-modal-title","aria-describedby":"info-modal-description",children:[g.jsx("h2",{id:"info-modal-title",className:"sr-only",children:"Información"}),g.jsx("p",{id:"info-modal-description",className:"text-sm text-gray-700 mb-4",children:e}),g.jsx(st,{onClick:n,className:"modal-info-confirm-button w-full sm:w-auto",children:"OK"})]})}),document.body):null}class Di{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Wl={PROPERTYCHANGE:"propertychange"};class vv{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function mz(t,e,n){let r,i;n=n||Aa;let s=0,o=t.length,l=!1;for(;s<o;)r=s+(o-s>>1),i=+n(t[r],e),i<0?s=r+1:(o=r,l=!i);return l?s:~s}function Aa(t,e){return t>e?1:t<e?-1:0}function _v(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return typeof n=="function"?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function gz(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Ti(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function Bs(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function pz(t,e,n){const r=e||Aa;return t.every(function(i,s){if(s===0)return!0;const o=r(t[s-1],i);return!(o>0||o===0)})}function Ma(){return!0}function yd(){return!1}function Hl(){}function yz(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!Bs(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function hc(t){for(const e in t)delete t[e]}function Xl(t){let e;for(e in t)return!1;return!e}class Vm extends vv{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Di(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in o||(o[r]=0,l[r]=0),++o[r];let c;for(let d=0,h=i.length;d<h;++d)if("handleEvent"in i[d]?c=i[d].handleEvent(s):c=i[d].call(this,s),c===!1||s.propagationStopped){c=!1;break}if(--o[r]===0){let d=l[r];for(delete l[r];d--;)this.removeEventListener(r,Hl);delete o[r]}return c}disposeInternal(){this.listeners_&&hc(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=Hl,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}}const et={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function pt(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function Gf(t,e,n,r){return pt(t,e,n,r,!0)}function Ut(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),hc(t))}class xd extends Vm{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(et.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=pt(this,e[s],n);return i}return pt(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=Gf(this,e[s],n)}else r=Gf(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)xz(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}xd.prototype.on;xd.prototype.once;xd.prototype.un;function xz(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Ut(t[e]);else Ut(t)}function Qe(){throw new Error("Unimplemented abstract method.")}let vz=0;function tt(t){return t.ol_uid||(t.ol_uid=String(++vz))}class JC extends Di{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class Oi extends xd{constructor(e){super(),this.on,this.once,this.un,tt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new JC(r,e,n)),r=Wl.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new JC(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],Xl(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}const _z={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class NP extends Error{constructor(e){const n=_z[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}function at(t,e){if(!t)throw new NP(e)}let sr=class FP extends Oi{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new FP(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Ut(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=pt(e,et.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?wz(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function wz(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(at(typeof t.getZIndex=="function",41),e=[t]),function(){return e}}const To=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Sz=To.includes("firefox"),Cz=To.includes("safari")&&!To.includes("chrom");Cz&&(To.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(To));const bz=To.includes("webkit")&&!To.includes("edge"),Ez=To.includes("macintosh"),jP=typeof devicePixelRatio<"u"?devicePixelRatio:1,wv=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Rz=typeof Image<"u"&&Image.prototype.decode,LP=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();new Array(6);function ns(){return[1,0,0,1,0,0]}function Tz(t,e,n,r,i,s,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t}function Pz(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function On(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function kz(t,e,n){return Tz(t,e,0,0,n,0,0)}function Po(t,e,n,r,i,s,o,l){const c=Math.sin(s),d=Math.cos(s);return t[0]=r*d,t[1]=i*c,t[2]=-r*c,t[3]=i*d,t[4]=o*r*d-l*r*c+e,t[5]=o*i*c+l*i*d+n,t}function Sv(t,e){const n=Az(e);at(n!==0,32);const r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],c=e[5];return t[0]=o/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*c-o*l)/n,t[5]=-(r*c-i*l)/n,t}function Az(t){return t[0]*t[3]-t[1]*t[2]}let QC;function DP(t){const e="matrix("+t.join(", ")+")";if(wv)return e;const n=QC||(QC=document.createElement("div"));return n.style.transform=e,n.style.transform}const Dn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function pi(t){const e=Wr();for(let n=0,r=t.length;n<r;++n)Su(e,t[n]);return e}function vd(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function OP(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Ba(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function zm(t,e){return Cv(t,e[0],e[1])}function ma(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Cv(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function F0(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],o=e[0],l=e[1];let c=Dn.UNKNOWN;return o<n?c=c|Dn.LEFT:o>i&&(c=c|Dn.RIGHT),l<r?c=c|Dn.BELOW:l>s&&(c=c|Dn.ABOVE),c===Dn.UNKNOWN&&(c=Dn.INTERSECTING),c}function Wr(){return[1/0,1/0,-1/0,-1/0]}function Fs(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function _d(t){return Fs(1/0,1/0,-1/0,-1/0,t)}function wu(t,e){const n=t[0],r=t[1];return Fs(n,r,n,r,e)}function VP(t,e,n,r,i){const s=_d(i);return $P(s,t,e,n,r)}function Ou(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function zP(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Su(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function $P(t,e,n,r,i){for(;n<r;n+=i)Mz(t,e[n],e[n+1]);return t}function Mz(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function BP(t,e){let n;return n=e($m(t)),n||(n=e(Bm(t)),n)||(n=e(Gm(t)),n)||(n=e(Ga(t)),n)?n:!1}function j0(t){let e=0;return bv(t)||(e=Zt(t)*ls(t)),e}function $m(t){return[t[0],t[1]]}function Bm(t){return[t[2],t[1]]}function ko(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Iz(t,e){let n;return e==="bottom-left"?n=$m(t):e==="bottom-right"?n=Bm(t):e==="top-left"?n=Ga(t):e==="top-right"?n=Gm(t):at(!1,13),n}function L0(t,e,n,r,i){const[s,o,l,c,d,h,f,p]=D0(t,e,n,r);return Fs(Math.min(s,l,d,f),Math.min(o,c,h,p),Math.max(s,l,d,f),Math.max(o,c,h,p),i)}function D0(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,o=Math.cos(n),l=Math.sin(n),c=i*o,d=i*l,h=s*o,f=s*l,p=t[0],y=t[1];return[p-c+f,y-d-h,p-c-f,y-d+h,p+c-f,y+d+h,p+c+f,y+d-h,p-c+f,y-d-h]}function ls(t){return t[3]-t[1]}function Cu(t,e,n){const r=n||Wr();return dr(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):_d(r),r}function Ga(t){return[t[0],t[3]]}function Gm(t){return[t[2],t[3]]}function Zt(t){return t[2]-t[0]}function dr(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function bv(t){return t[2]<t[0]||t[3]<t[1]}function Nz(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Fz(t,e,n){let r=!1;const i=F0(t,e),s=F0(t,n);if(i===Dn.INTERSECTING||s===Dn.INTERSECTING)r=!0;else{const o=t[0],l=t[1],c=t[2],d=t[3],h=e[0],f=e[1],p=n[0],y=n[1],v=(y-f)/(p-h);let w,C;s&Dn.ABOVE&&!(i&Dn.ABOVE)&&(w=p-(y-d)/v,r=w>=o&&w<=c),!r&&s&Dn.RIGHT&&!(i&Dn.RIGHT)&&(C=y-(p-c)*v,r=C>=l&&C<=d),!r&&s&Dn.BELOW&&!(i&Dn.BELOW)&&(w=p-(y-l)/v,r=w>=o&&w<=c),!r&&s&Dn.LEFT&&!(i&Dn.LEFT)&&(C=y-(p-o)*v,r=C>=l&&C<=d)}return r}function GP(t,e){const n=e.getExtent(),r=ko(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=Zt(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}function jz(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];GP(t,e);const r=Zt(n);if(Zt(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}const Ev={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class UP{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Ev[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const wd=6378137,Fl=Math.PI*wd,Lz=[-Fl,-Fl,Fl,Fl],Dz=[-180,-85,180,85],Xh=wd*Math.log(Math.tan(Math.PI/2));class pl extends UP{constructor(e){super({code:e,units:"m",extent:Lz,global:!0,worldExtent:Dz,getPointResolution:function(n,r){return n/Math.cosh(r[1]/wd)}})}}const eb=[new pl("EPSG:3857"),new pl("EPSG:102100"),new pl("EPSG:102113"),new pl("EPSG:900913"),new pl("http://www.opengis.net/def/crs/EPSG/0/3857"),new pl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Oz(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=Fl*t[i]/180;let s=wd*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>Xh?s=Xh:s<-Xh&&(s=-Xh),e[i+1]=s}return e}function Vz(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Fl,e[i+1]=360*Math.atan(Math.exp(t[i+1]/wd))/Math.PI-90;return e}const zz=6378137,tb=[-180,-90,180,90],$z=Math.PI*zz/180;class na extends UP{constructor(e,n){super({code:e,units:"degrees",extent:tb,axisOrientation:n,global:!0,metersPerUnit:$z,worldExtent:tb})}}const nb=[new na("CRS:84"),new na("EPSG:4326","neu"),new na("urn:ogc:def:crs:OGC:1.3:CRS84"),new na("urn:ogc:def:crs:OGC:2:84"),new na("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new na("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new na("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let O0={};function Bz(t){return O0[t]||O0[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Gz(t,e){O0[t]=e}let zl={};function Uf(t,e,n){const r=t.getCode(),i=e.getCode();r in zl||(zl[r]={}),zl[r][i]=n}function Uz(t,e){let n;return t in zl&&e in zl[t]&&(n=zl[t][e]),n}function Sn(t,e,n){return Math.min(Math.max(t,e),n)}function Wz(t,e,n,r,i,s){const o=i-n,l=s-r;if(o!==0||l!==0){const c=((t-n)*o+(e-r)*l)/(o*o+l*l);c>1?(n=i,r=s):c>0&&(n+=o*c,r+=l*c)}return Sa(t,e,n,r)}function Sa(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function Hz(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let l=r+1;l<e;l++){const c=Math.abs(t[l][r]);c>s&&(s=c,i=l)}if(s===0)return null;const o=t[i];t[i]=t[r],t[r]=o;for(let l=r+1;l<e;l++){const c=-t[l][r]/t[r][r];for(let d=r;d<e+1;d++)r==d?t[l][d]=0:t[l][d]+=c*t[r][d]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function Ca(t){return t*Math.PI/180}function ba(t,e){const n=t%e;return n*e<0?n+e:n}function Vr(t,e,n){return t+n*(e-t)}function Rv(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Kh(t,e){return Math.floor(Rv(t,e))}function Yh(t,e){return Math.ceil(Rv(t,e))}function WP(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function HP(t,e){const n=t[0],r=t[1],i=e[0],s=e[1],o=i[0],l=i[1],c=s[0],d=s[1],h=c-o,f=d-l,p=h===0&&f===0?0:(h*(n-o)+f*(r-l))/(h*h+f*f||0);let y,v;return p<=0?(y=o,v=l):p>=1?(y=c,v=d):(y=o+p*h,v=l+p*f),[y,v]}function _i(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Tv(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function XP(t,e){return t[0]*=e,t[1]*=e,t}function Vu(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function rb(t,e){return Math.sqrt(Vu(t,e))}function Xz(t,e){return Vu(t,HP(t,e))}function KP(t,e){if(e.canWrapX()){const n=Zt(e.getExtent()),r=Kz(t,e,n);r&&(t[0]-=r*n)}return t}function Kz(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||Zt(r),i=Math.floor((t[0]-r[0])/n)),i}const YP=63710088e-1;function ib(t,e,n){n=n||YP;const r=Ca(t[1]),i=Ca(e[1]),s=(i-r)/2,o=Ca(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Zh(t,e){let n=0;const r=t.length;let i=t[r-1][0],s=t[r-1][1];for(let o=0;o<r;o++){const l=t[o][0],c=t[o][1];n+=Ca(l-i)*(2+Math.sin(Ca(s))+Math.sin(Ca(c))),i=l,s=c}return n*e*e/2}function Um(t,e){e=e||{};const n=e.radius||YP,r=e.projection||"EPSG:3857",i=t.getType();i!=="GeometryCollection"&&(t=t.clone().transform(r,"EPSG:4326"));let s=0,o,l,c,d,h,f;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(o=t.getCoordinates(),s=Math.abs(Zh(o[0],n)),c=1,d=o.length;c<d;++c)s-=Math.abs(Zh(o[c],n));break}case"MultiPolygon":{for(o=t.getCoordinates(),c=0,d=o.length;c<d;++c)for(l=o[c],s+=Math.abs(Zh(l[0],n)),h=1,f=l.length;h<f;++h)s-=Math.abs(Zh(l[h],n));break}case"GeometryCollection":{const p=t.getGeometries();for(c=0,d=p.length;c<d;++c)s+=Um(p[c],e);break}default:throw new Error("Unsupported geometry type: "+i)}return s}function ZP(...t){console.warn(...t)}let V0=!0;function qP(t){V0=!1}function Pv(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function JP(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function Yz(t){Gz(t.getCode(),t),Uf(t,t,Pv)}function Zz(t){t.forEach(Yz)}function Cn(t){return typeof t=="string"?Bz(t):t||null}function sb(t,e,n,r){t=Cn(t);let i;const s=t.getPointResolutionFunc();if(s)i=s(e,n);else{const o=t.getUnits();if(o=="degrees"||r=="degrees")i=e;else{const l=Av(t,Cn("EPSG:4326"));if(l===JP&&o!=="degrees")i=e*t.getMetersPerUnit();else{let d=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];d=l(d,d,2);const h=ib(d.slice(0,2),d.slice(2,4)),f=ib(d.slice(4,6),d.slice(6,8));i=(h+f)/2}const c=t.getMetersPerUnit();c!==void 0&&(i/=c)}}return i}function ob(t){Zz(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Uf(e,n,Pv)})})}function qz(t,e,n,r){t.forEach(function(i){e.forEach(function(s){Uf(i,s,n),Uf(s,i,r)})})}function kv(t,e){if(t){if(typeof t=="string")return Cn(t)}else return Cn(e);return t}function Wm(t,e){return qP(),Mv(t,"EPSG:4326","EPSG:3857")}function QP(t,e){const n=Mv(t,"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=ba(r+180,360)-180),n}function ha(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Av(t,e)===Pv)&&n}function Av(t,e){const n=t.getCode(),r=e.getCode();let i=Uz(n,r);return i||(i=JP),i}function Wf(t,e){const n=Cn(t),r=Cn(e);return Av(n,r)}function Mv(t,e,n){return Wf(e,n)(t,void 0,t.length)}function zu(t,e){return t}function An(t,e){return V0&&!_i(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(V0=!1,ZP("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function Iv(t,e){return t}function _o(t,e){return t}function Jz(){ob(eb),ob(nb),qz(nb,eb,Oz,Vz)}Jz();function Ea(t,e,n,r,i,s){s=s||[];let o=0;for(let l=e;l<n;l+=r){const c=t[l],d=t[l+1];s[o++]=i[0]*c+i[2]*d+i[4],s[o++]=i[1]*c+i[3]*d+i[5]}return s&&s.length!=o&&(s.length=o),s}function ek(t,e,n,r,i,s,o){o=o||[];const l=Math.cos(i),c=Math.sin(i),d=s[0],h=s[1];let f=0;for(let p=e;p<n;p+=r){const y=t[p]-d,v=t[p+1]-h;o[f++]=d+y*l-v*c,o[f++]=h+y*c+v*l;for(let w=p+2;w<p+r;++w)o[f++]=t[w]}return o&&o.length!=f&&(o.length=f),o}function Qz(t,e,n,r,i,s,o,l){l=l||[];const c=o[0],d=o[1];let h=0;for(let f=e;f<n;f+=r){const p=t[f]-c,y=t[f+1]-d;l[h++]=c+i*p,l[h++]=d+s*y;for(let v=f+2;v<f+r;++v)l[h++]=t[v]}return l&&l.length!=h&&(l.length=h),l}function e$(t,e,n,r,i,s,o){o=o||[];let l=0;for(let c=e;c<n;c+=r){o[l++]=t[c]+i,o[l++]=t[c+1]+s;for(let d=c+2;d<c+r;++d)o[l++]=t[d]}return o&&o.length!=l&&(o.length=l),o}const ab=ns();class tk extends Oi{constructor(){super(),this.extent_=Wr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=yz(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Qe()}closestPointXY(e,n,r,i){return Qe()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Qe()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&_d(n),this.extentRevision_=this.getRevision()}return Nz(this.extent_,e)}rotate(e,n){Qe()}scale(e,n,r){Qe()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Qe()}getType(){return Qe()}applyTransform(e){Qe()}intersectsExtent(e){return Qe()}translate(e,n){Qe()}transform(e,n){const r=Cn(e),i=r.getUnits()=="tile-pixels"?function(s,o,l){const c=r.getExtent(),d=r.getWorldExtent(),h=ls(d)/ls(c);return Po(ab,d[0],d[3],h,-h,0,0,0),Ea(s,0,s.length,l,ab,o),Wf(r,n)(s,o,l)}:Wf(r,n);return this.applyTransform(i),this}}class Hf extends tk{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Ut),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,n=this.geometries_.length;e<n;++e)this.changeEventsKeys_.push(pt(this.geometries_[e],et.CHANGE,this.changed,this))}clone(){const e=new Hf(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<Ba(this.getExtent(),e,n))return i;const s=this.geometries_;for(let o=0,l=s.length;o<l;++o)i=s[o].closestPointXY(e,n,r,i);return i}containsXY(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){_d(e);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)zP(e,n[r].getExtent());return e}getGeometries(){return lb(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let s=0,o=r.length;s<o;++s){const l=r[s],c=l.getSimplifiedGeometry(e);n.push(c),c!==l&&(i=!0)}if(i){const s=new Hf(null);return s.setGeometriesArray(n),s}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=ko(this.getExtent()));const i=this.geometries_;for(let s=0,o=i.length;s<o;++s)i[s].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(lb(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function lb(t){const e=[];for(let n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}class t${constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?Cn(n.dataProjection):this.readProjection(e);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=Cn(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return Qe()}readFeature(e,n){return Qe()}readFeatures(e,n){return Qe()}readGeometry(e,n){return Qe()}readProjection(e){return Qe()}writeFeature(e,n){return Qe()}writeFeatures(e,n){return Qe()}writeGeometry(e,n){return Qe()}}function nk(t,e,n){const r=n?Cn(n.featureProjection):null,i=n?Cn(n.dataProjection):null;let s;if(r&&i&&!ha(r,i)?s=(e?t.clone():t).transform(e?r:i,e?i:r):s=t,e&&n&&n.decimals!==void 0){const o=Math.pow(10,n.decimals),l=function(c){for(let d=0,h=c.length;d<h;++d)c[d]=Math.round(c[d]*o)/o;return c};s===t&&(s=t.clone()),s.applyTransform(l)}return s}class n$ extends t${constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(qh(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(qh(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return Qe()}readFeaturesFromObject(e,n){return Qe()}readGeometry(e,n){return this.readGeometryFromObject(qh(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return Qe()}readProjection(e){return this.readProjectionFromObject(qh(e))}readProjectionFromObject(e){return Qe()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return Qe()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return Qe()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return Qe()}}function qh(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}else if(t!==null)return t;return null}class Ua extends tk{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return VP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Qe()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=cb(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Qe()}setLayout(e,n,r){let i;if(e)i=cb(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=r$(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();ek(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=ko(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();Qz(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();e$(r,0,r.length,i,e,n,r),this.changed()}}}function r$(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function cb(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function i$(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return Ea(r,0,r.length,i,e,n)}function ub(t,e,n,r,i,s,o){const l=t[e],c=t[e+1],d=t[n]-l,h=t[n+1]-c;let f;if(d===0&&h===0)f=e;else{const p=((i-l)*d+(s-c)*h)/(d*d+h*h);if(p>1)f=n;else if(p>0){for(let y=0;y<r;++y)o[y]=Vr(t[e+y],t[n+y],p);o.length=r;return}else f=e}for(let p=0;p<r;++p)o[p]=t[f+p];o.length=r}function Nv(t,e,n,r,i){let s=t[e],o=t[e+1];for(e+=r;e<n;e+=r){const l=t[e],c=t[e+1],d=Sa(s,o,l,c);d>i&&(i=d),s=l,o=c}return i}function Fv(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=Nv(t,e,l,r,i),e=l}return i}function s$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=Fv(t,e,l,r,i),e=l[l.length-1]}return i}function jv(t,e,n,r,i,s,o,l,c,d,h){if(e==n)return d;let f,p;if(i===0){if(p=Sa(o,l,t[e],t[e+1]),p<d){for(f=0;f<r;++f)c[f]=t[e+f];return c.length=r,p}return d}h=h||[NaN,NaN];let y=e+r;for(;y<n;)if(ub(t,y-r,y,r,o,l,h),p=Sa(o,l,h[0],h[1]),p<d){for(d=p,f=0;f<r;++f)c[f]=h[f];c.length=r,y+=r}else y+=r*Math.max((Math.sqrt(p)-Math.sqrt(d))/i|0,1);if(s&&(ub(t,n-r,e,r,o,l,h),p=Sa(o,l,h[0],h[1]),p<d)){for(d=p,f=0;f<r;++f)c[f]=h[f];c.length=r}return d}function Lv(t,e,n,r,i,s,o,l,c,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=jv(t,e,y,r,i,s,o,l,c,d,h),e=y}return d}function o$(t,e,n,r,i,s,o,l,c,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=Lv(t,e,y,r,i,s,o,l,c,d,h),e=y[y.length-1]}return d}function a$(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function Hm(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0;l<r;++l)t[e++]=o[l]}return e}function Dv(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=Hm(t,e,n[o],r);i[s++]=c,e=c}return i.length=s,i}function l$(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=Dv(t,e,n[o],r,i[s]);c.length===0&&(c[0]=e),i[s++]=c,e=c[c.length-1]}return i.length=s,i}function Ov(t,e,n,r,i,s,o){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[o++]=t[e],s[o++]=t[e+1];return o}const c=new Array(l);c[0]=1,c[l-1]=1;const d=[e,n-r];let h=0;for(;d.length>0;){const f=d.pop(),p=d.pop();let y=0;const v=t[p],w=t[p+1],C=t[f],b=t[f+1];for(let R=p+r;R<f;R+=r){const T=t[R],P=t[R+1],k=Wz(T,P,v,w,C,b);k>y&&(h=R,y=k)}y>i&&(c[(h-e)/r]=1,p+r<h&&d.push(p,h),h+r<f&&d.push(h,f))}for(let f=0;f<l;++f)c[f]&&(s[o++]=t[e+f*r],s[o++]=t[e+f*r+1]);return o}function c$(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c];o=Ov(t,e,h,r,i,s,o),l.push(o),e=h}return o}function oa(t,e){return e*Math.round(t/e)}function u$(t,e,n,r,i,s,o){if(e==n)return o;let l=oa(t[e],i),c=oa(t[e+1],i);e+=r,s[o++]=l,s[o++]=c;let d,h;do if(d=oa(t[e],i),h=oa(t[e+1],i),e+=r,e==n)return s[o++]=d,s[o++]=h,o;while(d==l&&h==c);for(;e<n;){const f=oa(t[e],i),p=oa(t[e+1],i);if(e+=r,f==d&&p==h)continue;const y=d-l,v=h-c,w=f-l,C=p-c;if(y*C==v*w&&(y<0&&w<y||y==w||y>0&&w>y)&&(v<0&&C<v||v==C||v>0&&C>v)){d=f,h=p;continue}s[o++]=d,s[o++]=h,l=d,c=h,d=f,h=p}return s[o++]=d,s[o++]=h,o}function rk(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c];o=u$(t,e,h,r,i,s,o),l.push(o),e=h}return o}function d$(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c],f=[];o=rk(t,e,h,r,i,s,o,f),l.push(f),e=h[h.length-1]}return o}function ik(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function wo(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=e;o<n;o+=r)i[s++]=t.slice(o,o+r);return i.length=s,i}function $u(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o];i[s++]=wo(t,e,c,r,i[s]),e=c}return i.length=s,i}function z0(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o];i[s++]=c.length===1&&c[0]===e?[]:$u(t,e,c,r,i[s]),e=c[c.length-1]}return i.length=s,i}function sk(t,e,n,r,i,s,o){let l,c;const d=(n-e)/r;if(d===1)l=e;else if(d===2)l=e,c=i;else if(d!==0){let h=t[e],f=t[e+1],p=0;const y=[0];for(let C=e+r;C<n;C+=r){const b=t[C],R=t[C+1];p+=Math.sqrt((b-h)*(b-h)+(R-f)*(R-f)),y.push(p),h=b,f=R}const v=i*p,w=mz(y,v);w<0?(c=(v-y[-w-2])/(y[-w-1]-y[-w-2]),l=e+(-w-2)*r):l=e+w*r}o=o>1?o:2,s=s||new Array(o);for(let h=0;h<o;++h)s[h]=l===void 0?NaN:c===void 0?t[l+h]:Vr(t[l+h],t[l+r+h],c);return s}function $0(t,e,n,r,i,s){if(n==e)return null;let o;if(i<t[e+r-1])return s?(o=t.slice(e,e+r),o[r-1]=i,o):null;if(t[n-1]<i)return s?(o=t.slice(n-r,n),o[r-1]=i,o):null;if(i==t[e+r-1])return t.slice(e,e+r);let l=e/r,c=n/r;for(;l<c;){const p=l+c>>1;i<t[(p+1)*r-1]?c=p:l=p+1}const d=t[l*r-1];if(i==d)return t.slice((l-1)*r,(l-1)*r+r);const h=t[(l+1)*r-1],f=(i-d)/(h-d);o=[];for(let p=0;p<r-1;++p)o.push(Vr(t[(l-1)*r+p],t[l*r+p],f));return o.push(i),o}function h$(t,e,n,r,i,s,o){if(o)return $0(t,e,n[n.length-1],r,i,s);let l;if(i<t[r-1])return s?(l=t.slice(0,r),l[r-1]=i,l):null;if(t[t.length-1]<i)return s?(l=t.slice(t.length-r),l[r-1]=i,l):null;for(let c=0,d=n.length;c<d;++c){const h=n[c];if(e!=h){if(i<t[e+r-1])return null;if(i<=t[h-1])return $0(t,e,h,r,i,!1);e=h}}return null}function f$(t,e,n,r,i){return!BP(i,function(o){return!ga(t,e,n,r,o[0],o[1])})}function ga(t,e,n,r,i,s){let o=0,l=t[n-r],c=t[n-r+1];for(;e<n;e+=r){const d=t[e],h=t[e+1];c<=s?h>s&&(d-l)*(s-c)-(i-l)*(h-c)>0&&o++:h<=s&&(d-l)*(s-c)-(i-l)*(h-c)<0&&o--,l=d,c=h}return o!==0}function Vv(t,e,n,r,i,s){if(n.length===0||!ga(t,e,n[0],r,i,s))return!1;for(let o=1,l=n.length;o<l;++o)if(ga(t,n[o-1],n[o],r,i,s))return!1;return!0}function m$(t,e,n,r,i,s){if(n.length===0)return!1;for(let o=0,l=n.length;o<l;++o){const c=n[o];if(Vv(t,e,c,r,i,s))return!0;e=c[c.length-1]}return!1}function Xm(t,e,n,r,i){const s=$P(Wr(),t,e,n,r);return dr(i,s)?ma(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:ik(t,e,n,r,function(o,l){return Fz(i,o,l)}):!1}function g$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){if(Xm(t,e,n[s],r,i))return!0;e=n[s]}return!1}function ok(t,e,n,r,i){return!!(Xm(t,e,n,r,i)||ga(t,e,n,r,i[0],i[1])||ga(t,e,n,r,i[0],i[3])||ga(t,e,n,r,i[2],i[1])||ga(t,e,n,r,i[2],i[3]))}function ak(t,e,n,r,i){if(!ok(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(f$(t,n[s-1],n[s],r,i)&&!Xm(t,n[s-1],n[s],r,i))return!1;return!0}function p$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(ak(t,e,l,r,i))return!0;e=l[l.length-1]}return!1}function lk(t,e,n,r){let i=t[e],s=t[e+1],o=0;for(let l=e+r;l<n;l+=r){const c=t[l],d=t[l+1];o+=Math.sqrt((c-i)*(c-i)+(d-s)*(d-s)),i=c,s=d}return o}class Ia extends Ua{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){this.flatCoordinates?Ti(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new Ia(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return ik(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,$0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return sk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return lk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Ov(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Ia(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Xm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hm(this.flatCoordinates,0,e,this.stride),this.changed()}}class Xf extends Ua{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{let i=this.getLayout();const s=e,o=[],l=[];for(let c=0,d=s.length;c<d;++c){const h=s[c];c===0&&(i=h.getLayout()),Ti(o,h.getFlatCoordinates()),l.push(o.length)}this.setFlatCoordinates(i,o),this.ends_=l}}appendLineString(e){this.flatCoordinates?Ti(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Xf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Fv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,h$(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return $u(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Ia(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o],d=new Ia(e.slice(s,c),r);i.push(d),s=c}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let o=0,l=i.length;o<l;++o){const c=i[o],d=sk(n,r,c,s,.5);Ti(e,d),r=c}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=c$(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new Xf(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return g$(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Dv(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class Pr extends Ua{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Pr(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,o=Sa(e,n,s[0],s[1]);if(o<i){const l=this.stride;for(let c=0;c<l;++c)r[c]=s[c];return r.length=l,o}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return wu(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Cv(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=a$(this.flatCoordinates,0,e,this.stride),this.changed()}}class Km extends Ua{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){this.flatCoordinates?Ti(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Km(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<Ba(this.getExtent(),e,n))return i;const s=this.flatCoordinates,o=this.stride;for(let l=0,c=s.length;l<c;l+=o){const d=Sa(e,n,s[l],s[l+1]);if(d<i){i=d;for(let h=0;h<o;++h)r[h]=s[l+h];r.length=o}}return i}getCoordinates(){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||n<=e?null:new Pr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,o=e.length;s<o;s+=r){const l=new Pr(e.slice(s,s+r),n);i.push(l)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const o=n[i],l=n[i+1];if(Cv(e,o,l))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hm(this.flatCoordinates,0,e,this.stride),this.changed()}}function ck(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],c=t[e+1];i+=o*l-s*c,s=l,o=c}return i/2}function uk(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=ck(t,e,l,r),e=l}return i}function y$(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=uk(t,e,l,r),e=l[l.length-1]}return i}class Bu extends Ua{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Bu(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return ck(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Ov(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Bu(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hm(this.flatCoordinates,0,e,this.stride),this.changed()}}function dk(t,e,n,r,i,s,o){let l,c,d,h,f,p,y;const v=i[s+1],w=[];for(let R=0,T=n.length;R<T;++R){const P=n[R];for(h=t[P-r],p=t[P-r+1],l=e;l<P;l+=r)f=t[l],y=t[l+1],(v<=p&&y<=v||p<=v&&v<=y)&&(d=(v-p)/(y-p)*(f-h)+h,w.push(d)),h=f,p=y}let C=NaN,b=-1/0;for(w.sort(Aa),h=w[0],l=1,c=w.length;l<c;++l){f=w[l];const R=Math.abs(f-h);R>b&&(d=(h+f)/2,Vv(t,e,n,r,d,v)&&(C=d,b=R)),h=f}return isNaN(C)&&(C=i[s]),o?(o.push(C,v,b),o):[C,v,b]}function x$(t,e,n,r,i){let s=[];for(let o=0,l=n.length;o<l;++o){const c=n[o];s=dk(t,e,c,r,i,2*o,s),e=c[c.length-1]}return s}function v$(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function hk(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],c=t[e+1];i+=(l-s)*(c+o),s=l,o=c}return i===0?void 0:i>0}function fk(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=hk(t,e,l,r);if(s===0){if(i&&c||!i&&!c)return!1}else if(i&&!c||!i&&c)return!1;e=l}return!0}function _$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(!fk(t,e,l,r,i))return!1;l.length&&(e=l[l.length-1])}return!0}function B0(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=hk(t,e,l,r);(s===0?i&&c||!i&&!c:i&&!c||!i&&c)&&v$(t,e,l,r),e=l}return e}function db(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s)e=B0(t,e,n[s],r,i);return e}class rr extends Ua{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Ti(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new rr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Fv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Vv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return uk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),B0(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,$u(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=ko(this.getExtent());this.flatInteriorPoint_=dk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Pr(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Bu(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const c=r[o],d=new Bu(n.slice(s,c),e);i.push(d),s=c}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;fk(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=B0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=rk(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new rr(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return ak(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Dv(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function hb(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new rr(s,"XY",[s.length])}function w$(t,e,n,r){const i=[];let s=Wr();for(let o=0,l=n.length;o<l;++o){const c=n[o];s=VP(t,e,c[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=c[c.length-1]}return i}class Kf extends Ua{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=this.getLayout();const s=e,o=[],l=[];for(let c=0,d=s.length;c<d;++c){const h=s[c];c===0&&(i=h.getLayout());const f=o.length,p=h.getEnds();for(let y=0,v=p.length;y<v;++y)p[y]+=f;Ti(o,h.getFlatCoordinates()),l.push(p)}n=i,e=o,r=l}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;Ti(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new Kf(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(s$(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),o$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return m$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return y$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),db(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,z0(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=w$(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=x$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Km(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;_$(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=db(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=d$(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new Kf(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,o=r.length;s<o;++s)r[s]-=n;return new rr(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const c=r[o].slice(),d=c[c.length-1];if(s!==0)for(let f=0,p=c.length;f<p;++f)c[f]-=s;const h=new rr(n.slice(s,d),e,c);i.push(h),s=d}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return p$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=l$(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}class mk extends n${constructor(e){e=e||{},super(),this.dataProjection=Cn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Cn(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};const i=G0(r.geometry,n),s=new sr;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&s.setGeometryName(r.geometry_name),s.setGeometry(i),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,n){const r=e;let i=null;if(r.type==="FeatureCollection"){const s=e;i=[];const o=s.features;for(let l=0,c=o.length;l<c;++l)i.push(this.readFeatureFromObject(o[l],n))}else i=[this.readFeatureFromObject(e,n)];return i}readGeometryFromObject(e,n){return G0(e,n)}readProjectionFromObject(e){const n=e.crs;let r;return n?n.type=="name"?r=Cn(n.properties.name):n.type==="EPSG"?r=Cn("EPSG:"+n.properties.code):at(!1,36):r=this.dataProjection,r}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;const s=e.getProperties(),o=e.getGeometry();return o&&(r.geometry=U0(o,n),delete s[e.getGeometryName()]),Xl(s)||(r.properties=s),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,s=e.length;i<s;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return U0(e,this.adaptOptions(n))}}function G0(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=C$(t);break}case"LineString":{n=b$(t);break}case"Polygon":{n=P$(t);break}case"MultiPoint":{n=R$(t);break}case"MultiLineString":{n=E$(t);break}case"MultiPolygon":{n=T$(t);break}case"GeometryCollection":{n=S$(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return nk(n,!1,e)}function S$(t,e){const n=t.geometries.map(function(r){return G0(r,e)});return new Hf(n)}function C$(t){return new Pr(t.coordinates)}function b$(t){return new Ia(t.coordinates)}function E$(t){return new Xf(t.coordinates)}function R$(t){return new Km(t.coordinates)}function T$(t){return new Kf(t.coordinates)}function P$(t){return new rr(t.coordinates)}function U0(t,e){t=nk(t,!0,e);const n=t.getType();let r;switch(n){case"Point":{r=F$(t);break}case"LineString":{r=A$(t);break}case"Polygon":{r=j$(t,e);break}case"MultiPoint":{r=I$(t);break}case"MultiLineString":{r=M$(t);break}case"MultiPolygon":{r=N$(t,e);break}case"GeometryCollection":{r=k$(t,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function k$(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return U0(r,e)})}}function A$(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function M$(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function I$(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function N$(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function F$(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function j$(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}const wn={ADD:"add",REMOVE:"remove"},fb={LENGTH:"length"};class Jh extends Di{constructor(e,n,r){super(e),this.element=n,this.index=r}}let Gr=class extends Oi{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(fb.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Jh(wn.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Jh(wn.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Jh(wn.REMOVE,i,e)),this.dispatchEvent(new Jh(wn.ADD,n,e))}updateLength_(){this.set(fb.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new NP(58)}};function L$(t,e,n,r,i){gk(t,e,n||0,r||t.length-1,i||D$)}function gk(t,e,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,o=e-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*(o-s/2<0?-1:1),h=Math.max(n,Math.floor(e-o*c/s+d)),f=Math.min(r,Math.floor(e+(s-o)*c/s+d));gk(t,e,h,f,i)}var p=t[e],y=n,v=r;for(cu(t,n,e),i(t[r],p)>0&&cu(t,n,r);y<v;){for(cu(t,y,v),y++,v--;i(t[y],p)<0;)y++;for(;i(t[v],p)>0;)v--}i(t[n],p)===0?cu(t,n,v):(v++,cu(t,v,r)),v<=e&&(n=v+1),e<=v&&(r=v-1)}}function cu(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function D$(t,e){return t<e?-1:t>e?1:0}let pk=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!ef(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const l=n.children[o],c=n.leaf?i(l):l;ef(e,c)&&(n.leaf?r.push(l):Ty(e,c)?this._all(l,r):s.push(l))}n=s.pop()}return r}collides(e){let n=this.data;if(!ef(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],o=n.leaf?this.toBBox(s):s;if(ef(e,o)){if(n.leaf||Ty(e,o))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Pl([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],o=[];let l,c,d;for(;r||s.length;){if(r||(r=s.pop(),c=s[s.length-1],l=o.pop(),d=!0),r.leaf){const h=O$(e,r.children,n);if(h!==-1)return r.children.splice(h,1),s.push(r),this._condense(s),this}!d&&!r.leaf&&Ty(r,i)?(s.push(r),o.push(l),l=0,c=r,r=r.children[0]):c?(l++,r=c.children[l],d=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let o=this._maxEntries,l;if(s<=o)return l=Pl(e.slice(n,r+1)),yl(l,this.toBBox),l;i||(i=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,i-1))),l=Pl([]),l.leaf=!1,l.height=i;const c=Math.ceil(s/o),d=c*Math.ceil(Math.sqrt(o));mb(e,n,r,d,this.compareMinX);for(let h=n;h<=r;h+=d){const f=Math.min(h+d-1,r);mb(e,h,f,c,this.compareMinY);for(let p=h;p<=f;p+=c){const y=Math.min(p+c-1,f);l.children.push(this._build(e,p,y,i-1))}}return yl(l,this.toBBox),l}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,o=1/0,l;for(let c=0;c<n.children.length;c++){const d=n.children[c],h=Ry(d),f=$$(e,d)-h;f<o?(o=f,s=h<s?h:s,l=d):f===o&&h<s&&(s=h,l=d)}n=l||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],o=this._chooseSubtree(i,this.data,n,s);for(o.children.push(e),pu(o,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const o=this._chooseSplitIndex(r,s,i),l=Pl(r.children.splice(o,r.children.length-o));l.height=r.height,l.leaf=r.leaf,yl(r,this.toBBox),yl(l,this.toBBox),n?e[n-1].children.push(l):this._splitRoot(r,l)}_splitRoot(e,n){this.data=Pl([e,n]),this.data.height=e.height+1,this.data.leaf=!1,yl(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,o=1/0;for(let l=n;l<=r-n;l++){const c=gu(e,0,l,this.toBBox),d=gu(e,l,r,this.toBBox),h=B$(c,d),f=Ry(c)+Ry(d);h<s?(s=h,i=l,o=f<o?f:o):h===s&&f<o&&(o=f,i=l)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:V$,s=e.leaf?this.compareMinY:z$,o=this._allDistMargin(e,n,r,i),l=this._allDistMargin(e,n,r,s);o<l&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,o=gu(e,0,n,s),l=gu(e,r-n,r,s);let c=Qh(o)+Qh(l);for(let d=n;d<r-n;d++){const h=e.children[d];pu(o,e.leaf?s(h):h),c+=Qh(o)}for(let d=r-n-1;d>=n;d--){const h=e.children[d];pu(l,e.leaf?s(h):h),c+=Qh(l)}return c}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)pu(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():yl(e[n],this.toBBox)}};function O$(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function yl(t,e){gu(t,0,t.children.length,e,t)}function gu(t,e,n,r,i){i||(i=Pl(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const o=t.children[s];pu(i,t.leaf?r(o):o)}return i}function pu(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function V$(t,e){return t.minX-e.minX}function z$(t,e){return t.minY-e.minY}function Ry(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Qh(t){return t.maxX-t.minX+(t.maxY-t.minY)}function $$(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function B$(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function Ty(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function ef(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Pl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mb(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const o=e+Math.ceil((n-e)/r/2)*r;L$(t,o,e,n,i),s.push(e,o,o,n)}}class W0{constructor(e){this.rbush_=new pk(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[tt(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const o=e[i],l=n[i],c={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};r[i]=c,this.items_[tt(l)]=c}this.rbush_.load(r)}remove(e){const n=tt(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[tt(n)],i=[r.minX,r.minY,r.maxX,r.maxY];Ou(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return Xl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Fs(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class yk extends Oi{constructor(e){super(),this.projection=Cn(e.projection),this.attributions_=gb(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=gb(e),this.changed()}setState(e){this.state_=e,this.changed()}}function gb(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const Dr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function G$(t,e){return[[-1/0,-1/0,1/0,1/0]]}let U$=!1;function W$(t,e,n,r,i,s,o){const l=new XMLHttpRequest;l.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(l.responseType="arraybuffer"),l.withCredentials=U$,l.onload=function(c){if(!l.status||l.status>=200&&l.status<300){const d=e.getType();let h;d=="json"||d=="text"?h=l.responseText:d=="xml"?(h=l.responseXML,h||(h=new DOMParser().parseFromString(l.responseText,"application/xml"))):d=="arraybuffer"&&(h=l.response),h?s(e.readFeatures(h,{extent:n,featureProjection:i}),e.readProjection(h)):o()}else o()},l.onerror=o,l.send()}function pb(t,e){return function(n,r,i,s,o){const l=this;W$(t,e,n,r,i,function(c,d){l.addFeatures(c),s!==void 0&&s(c)},o||Hl)}}class co extends Di{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class js extends yk{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Hl,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(at(this.format_,7),this.loader_=pb(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:G$;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new W0:null,this.loadedExtentsRtree_=new W0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new Gr(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=tt(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new co(Dr.ADDFEATURE,e))}setupChangeEvents_(e,n){this.featureChangeKeys_[e]=[pt(n,et.CHANGE,this.handleFeatureChange_,this),pt(n,Wl.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,n){let r=!0;const i=n.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=n),r&&(at(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,o=e.length;s<o;s++){const l=e[s],c=tt(l);this.addToIndex_(c,l)&&r.push(l)}for(let s=0,o=r.length;s<o;s++){const l=r[s],c=tt(l);this.setupChangeEvents_(c,l);const d=l.getGeometry();if(d){const h=d.getExtent();n.push(h),i.push(l)}else this.nullGeometryFeatures_[c]=l}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(Dr.ADDFEATURE))for(let s=0,o=r.length;s<o;s++)this.dispatchEvent(new co(Dr.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Dr.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(Dr.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(wn.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(wn.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(Ut);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new co(Dr.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){if(i.getGeometry().intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Xl(this.nullGeometryFeatures_)||Ti(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=jz(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const o=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0];return n=n||Ma,this.featuresRtree_.forEachInExtent(c,function(d){if(n(d)){const h=d.getGeometry(),f=l;if(l=h.closestPointXY(r,i,o,l),l<f){s=d;const p=Math.sqrt(l);c[0]=r-p,c[1]=i-p,c[2]=r+p,c[3]=i+p}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=tt(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const o=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const s=n.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new co(Dr.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:tt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Xl(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let o=0,l=s.length;o<l;++o){const c=s[o];i.forEachInExtent(c,function(h){return ma(h.extent,c)})||(++this.loadingExtentsCount_,this.dispatchEvent(new co(Dr.FEATURESLOADSTART)),this.loader_.call(this,c,n,r,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new co(Dr.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new co(Dr.FEATURESLOADERROR))}),i.insert(c,{extent:c.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if(Ou(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeature(e){if(!e)return;const n=tt(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=tt(e),r=this.featureChangeKeys_[n];if(!r)return;r.forEach(Ut),delete this.featureChangeKeys_[n];const i=e.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new co(Dr.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}return n}setLoader(e){this.loader_=e}setUrl(e){at(this.format_,7),this.url_=e,this.setLoader(pb(e,this.format_))}}const Mt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class xk extends Oi{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Mt.OPACITY]=e.opacity!==void 0?e.opacity:1,at(typeof n[Mt.OPACITY]=="number",64),n[Mt.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Mt.Z_INDEX]=e.zIndex,n[Mt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Mt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Mt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Mt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=Sn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Qe()}getLayerStatesArray(e){return Qe()}getExtent(){return this.get(Mt.EXTENT)}getMaxResolution(){return this.get(Mt.MAX_RESOLUTION)}getMinResolution(){return this.get(Mt.MIN_RESOLUTION)}getMinZoom(){return this.get(Mt.MIN_ZOOM)}getMaxZoom(){return this.get(Mt.MAX_ZOOM)}getOpacity(){return this.get(Mt.OPACITY)}getSourceState(){return Qe()}getVisible(){return this.get(Mt.VISIBLE)}getZIndex(){return this.get(Mt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Mt.EXTENT,e)}setMaxResolution(e){this.set(Mt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Mt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Mt.MAX_ZOOM,e)}setMinZoom(e){this.set(Mt.MIN_ZOOM,e)}setOpacity(e){at(typeof e=="number",64),this.set(Mt.OPACITY,e)}setVisible(e){this.set(Mt.VISIBLE,e)}setZIndex(e){this.set(Mt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const bo={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},nr={ANIMATING:0,INTERACTING:1},gi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},H$=42,zv=256;function yb(t,e,n){return function(r,i,s,o,l){if(!r)return;if(!i&&!e)return r;const c=e?0:s[0]*i,d=e?0:s[1]*i,h=l?l[0]:0,f=l?l[1]:0;let p=t[0]+c/2+h,y=t[2]-c/2+h,v=t[1]+d/2+f,w=t[3]-d/2+f;p>y&&(p=(y+p)/2,y=p),v>w&&(v=(w+v)/2,w=v);let C=Sn(r[0],p,y),b=Sn(r[1],v,w);if(o&&n&&i){const R=30*i;C+=-R*Math.log(1+Math.max(0,p-r[0])/R)+R*Math.log(1+Math.max(0,r[0]-y)/R),b+=-R*Math.log(1+Math.max(0,v-r[1])/R)+R*Math.log(1+Math.max(0,r[1]-w)/R)}return[C,b]}}function X$(t){return t}function $v(t,e,n,r){const i=Zt(e)/n[0],s=ls(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function Bv(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),Sn(r,n/2,e*2)}function K$(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,o,l){if(i!==void 0){const c=t[0],d=t[t.length-1],h=n?$v(c,n,o,r):c;if(l)return e?Bv(i,h,d):Sn(i,d,h);const f=Math.min(h,i),p=Math.floor(_v(t,f,s));return t[p]>h&&p<t.length-1?t[p+1]:t[p]}}}function Y$(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(o,l,c,d){if(o!==void 0){const h=i?$v(e,i,c,s):e;if(d)return r?Bv(o,h,n):Sn(o,n,h);const f=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(t)-f),y=-l*(.5-f)+.5,v=Math.min(h,o),w=Math.floor(Math.log(e/v)/Math.log(t)+y),C=Math.max(p,w),b=e/Math.pow(t,C);return Sn(b,n,h)}}}function xb(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,o,l,c){if(s!==void 0){const d=r?$v(t,r,l,i):t;return!n||!c?Sn(s,e,d):Bv(s,d,e)}}}function Gv(t){if(t!==void 0)return 0}function vb(t){if(t!==void 0)return t}function Z$(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function q$(t){return t=t||Ca(5),function(e,n){if(n)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}function vk(t){return Math.pow(t,3)}function kr(t){return 1-vk(1-t)}function J$(t){return 3*t*t-2*t*t*t}function Q$(t){return t}const Py=0;class Yi extends Oi{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=kv(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&qP(),e.center&&(e.center=An(e.center,this.projection_)),e.extent&&(e.extent=_o(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const l in gi)delete n[l];this.setProperties(n,!0);const r=tB(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=eB(e),s=r.constraint,o=nB(e);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(i[3]-n[3]+n[1]-i[1]),l=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+o,r[1]-l])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=An(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=An(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const h=arguments[i];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(i===n){r&&tf(r,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_;const d=[];for(;i<n;++i){const h=arguments[i],f={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||J$,callback:r};if(h.center&&(f.sourceCenter=o,f.targetCenter=h.center.slice(),o=f.targetCenter),h.zoom!==void 0?(f.sourceResolution=l,f.targetResolution=this.getResolutionForZoom(h.zoom),l=f.targetResolution):h.resolution&&(f.sourceResolution=l,f.targetResolution=h.resolution,l=f.targetResolution),h.rotation!==void 0){f.sourceRotation=c;const p=ba(h.rotation-c+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=c+p,c=f.targetRotation}rB(f)?f.complete=!0:s+=f.duration,d.push(f)}this.animations_.push(d),this.setHint(nr.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[nr.ANIMATING]>0}getInteracting(){return this.hints_[nr.INTERACTING]>0}cancelAnimations(){this.setHint(nr.ANIMATING,-this.hints_[nr.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&tf(i[0].callback,!1),!e)for(let s=0,o=i.length;s<o;++s){const l=i[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,l=i.length;o<l;++o){const c=i[o];if(c.complete)continue;const d=e-c.start;let h=c.duration>0?d/c.duration:1;h>=1?(c.complete=!0,h=1):s=!1;const f=c.easing(h);if(c.sourceCenter){const p=c.sourceCenter[0],y=c.sourceCenter[1],v=c.targetCenter[0],w=c.targetCenter[1];this.nextCenter_=c.targetCenter;const C=p+f*(v-p),b=y+f*(w-y);this.targetCenter_=[C,b]}if(c.sourceResolution&&c.targetResolution){const p=f===1?c.targetResolution:c.sourceResolution+f*(c.targetResolution-c.sourceResolution);if(c.anchor){const y=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(p,0,y,!0);this.targetCenter_=this.calculateCenterZoom(v,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const p=f===1?ba(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+f*(c.targetRotation-c.sourceRotation);if(c.anchor){const y=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(y,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),n=!0,!c.complete)break}if(s){this.animations_[r]=null,this.setHint(nr.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&tf(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],Tv(r,e-this.getRotation()),WP(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-i[0])/s,l=n[1]-e*(n[1]-i[1])/s;r=[o,l]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&zu(e,this.getProjection())}getCenterInternal(){return this.get(gi.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return Iv(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();at(n,1);const r=this.getResolution();at(r!==void 0,2);const i=this.getRotation();return at(i!==void 0,3),L0(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(gi.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(_o(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=Zt(e)/n[0],i=ls(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(gi.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(o){return Math.log(r/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=ky(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=_v(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Sn(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,Sn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(at(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){at(!bv(e),25);const i=_o(e,this.getProjection());r=hb(i)}else if(e.getType()==="Circle"){const i=_o(e.getExtent(),this.getProjection());r=hb(i),r.rotate(this.getRotation(),ko(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let l=1/0,c=1/0,d=-1/0,h=-1/0;for(let f=0,p=s.length;f<p;f+=o){const y=s[f]*r-s[f+1]*i,v=s[f]*i+s[f+1]*r;l=Math.min(l,y),c=Math.min(c,v),d=Math.max(d,y),h=Math.max(h,v)}return[l,c,d,h]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const l=this.rotatedExtentForGeometry(e);let c=this.getResolutionForExtentInternal(l,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);c=isNaN(c)?o:Math.max(c,o),c=this.getConstrainedResolution(c,s?0:1);const d=this.getRotation(),h=Math.sin(d),f=Math.cos(d),p=ko(l);p[0]+=(i[1]-i[3])/2*c,p[1]+=(i[0]-i[2])/2*c;const y=p[0]*f-p[1]*h,v=p[1]*f+p[0]*h,w=this.getConstrainedCenter([y,v],c),C=n.callback?n.callback:Hl;n.duration!==void 0?this.animateInternal({resolution:c,center:w,duration:n.duration,easing:n.easing},C):(this.targetResolution_=c,this.targetCenter_=w,this.applyTargetState_(!1,!0),tf(C,!0))}centerOn(e,n,r){this.centerOnInternal(An(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(ky(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const o=this.padding_;if(o&&e){const l=this.getViewportSizeMinusPadding_(-r),c=ky(e,i,[l[0]/2+o[3],l[1]/2+o[0]],n,r);s=[e[0]-c[0],e[1]-c[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=zu(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&An(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=An(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&An(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),l=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(gi.ROTATION)!==i&&this.set(gi.ROTATION,i),this.get(gi.RESOLUTION)!==o&&(this.set(gi.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(gi.CENTER)||!_i(this.get(gi.CENTER),l))&&this.set(gi.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,i,o),c=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!_i(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:e,easing:kr,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(nr.INTERACTING,1)}endInteraction(e,n,r){r=r&&An(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(nr.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function tf(t,e){setTimeout(function(){t(e)},0)}function eB(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return yb(t.extent,t.constrainOnlyCenter,n)}const e=kv(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,yb(n,!1,!1)}return X$}function tB(t){let e,n,r,o=t.minZoom!==void 0?t.minZoom:Py,l=t.maxZoom!==void 0?t.maxZoom:28;const c=t.zoomFactor!==void 0?t.zoomFactor:2,d=t.multiWorld!==void 0?t.multiWorld:!1,h=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,f=t.showFullExtent!==void 0?t.showFullExtent:!1,p=kv(t.projection,"EPSG:3857"),y=p.getExtent();let v=t.constrainOnlyCenter,w=t.extent;if(!d&&!w&&p.isGlobal()&&(v=!1,w=y),t.resolutions!==void 0){const C=t.resolutions;n=C[o],r=C[l]!==void 0?C[l]:C[C.length-1],t.constrainResolution?e=K$(C,h,!v&&w,f):e=xb(n,r,h,!v&&w,f)}else{const b=(y?Math.max(Zt(y),ls(y)):360*Ev.degrees/p.getMetersPerUnit())/zv/Math.pow(2,Py),R=b/Math.pow(2,28-Py);n=t.maxResolution,n!==void 0?o=0:n=b/Math.pow(c,o),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(c,l):r=b/Math.pow(c,l):r=R),l=o+Math.floor(Math.log(n/r)/Math.log(c)),r=n/Math.pow(c,l-o),t.constrainResolution?e=Y$(c,n,r,h,!v&&w,f):e=xb(n,r,h,!v&&w,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:c}}function nB(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?q$():n===!1?vb:typeof n=="number"?Z$(n):vb}return Gv}function rB(t){return!(t.sourceCenter&&t.targetCenter&&!_i(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function ky(t,e,n,r,i){const s=Math.cos(-i);let o=Math.sin(-i),l=t[0]*s-t[1]*o,c=t[1]*s+t[0]*o;l+=(e[0]/2-n[0])*r,c+=(n[1]-e[1]/2)*r,o=-o;const d=l*s-c*o,h=c*s+l*o;return[d,h]}class Ym extends xk{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Mt.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Mt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ut(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=pt(e,et.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;e instanceof Yi?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e;const r=this.getExtent();return this.getVisible()&&Uv(this.getLayerState(),n.viewState)&&(!r||dr(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof Yi?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(Mt.MAP,e)}getMapInternal(){return this.get(Mt.MAP)}setMap(e){this.mapPrecomposeKey_&&(Ut(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ut(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=pt(e,bo.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);at(!i.some(function(o){return o.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=pt(this,et.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Mt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Uv(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const Mn={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function _b(t){return t[0]>0&&t[1]>0}function iB(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Br(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Zm{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Br(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Zm({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Qe()}getImage(e){return Qe()}getHitDetectionImage(){return Qe()}getPixelRatio(e){return 1}getImageState(){return Qe()}getImageSize(){return Qe()}getOrigin(){return Qe()}getSize(){return Qe()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Br(e)}listenImageChange(e){Qe()}load(){Qe()}unlistenImageChange(e){Qe()}}const sB=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,oB=/^([a-z]*)$|^hsla?\(.*\)$/i;function _k(t){return typeof t=="string"?t:wk(t)}function aB(t){const e=document.createElement("div");if(e.style.color=t,e.style.color!==""){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}const lB=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let s=0;for(const o in e)(s++&3)===0&&(delete e[o],--n)}i=cB(r),e[r]=i,++n}return i}}();function Yf(t){return Array.isArray(t)?t:lB(t)}function cB(t){let e,n,r,i,s;if(oB.exec(t)&&(t=aB(t)),sB.exec(t)){const o=t.length-1;let l;o<=4?l=1:l=2;const c=o===4||o===8;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),r=parseInt(t.substr(1+2*l,l),16),c?i=parseInt(t.substr(1+3*l,l),16):i=255,l==1&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,c&&(i=(i<<4)+i)),s=[e,n,r,i/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),wb(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),wb(s)):at(!1,14);return s}function wb(t){return t[0]=Sn(t[0]+.5|0,0,255),t[1]=Sn(t[1]+.5|0,0,255),t[2]=Sn(t[2]+.5|0,0,255),t[3]=Sn(t[3],0,1),t}function wk(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*100)/100;return"rgba("+e+","+n+","+r+","+i+")"}function Qi(t){return Array.isArray(t)?wk(t):t}function fr(t,e,n,r){let i;return n&&n.length?i=n.shift():wv?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function qm(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function uB(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function dB(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function Sb(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Zf(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Sk(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function hB(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}const nf="ol-hidden",fB="ol-selectable",Jm="ol-unselectable",Wv="ol-control",Cb="ol-collapsed",mB=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),bb=["style","variant","weight","size","lineHeight","family"],Ck=function(t){const e=t.match(mB);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=bb.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[bb[r]]=s)}return n.families=n.family.split(/,\s?/),n},bk="10px sans-serif",Is="#000",qf="round",Gu=[],Uu=0,Kl="round",Wu=10,Hu="#000",Xu="center",Jf="middle",pa=[0,0,0,0],Ku=1,Ts=new Oi;let kl=null,H0;const X0={},gB=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,o;function l(d,h,f){let p=!0;for(let y=0;y<r;++y){const v=n[y];if(o=Qf(d+" "+h+" "+e+v,i),f!=v){const w=Qf(d+" "+h+" "+e+f+","+v,i);p=p&&w!=o}}return!!p}function c(){let d=!0;const h=Ts.getKeys();for(let f=0,p=h.length;f<p;++f){const y=h[f];Ts.get(y)<100&&(l.apply(this,y.split(`
`))?(hc(X0),kl=null,H0=void 0,Ts.set(y,100)):(Ts.set(y,Ts.get(y)+1,!0),d=!1))}d&&(clearInterval(s),s=void 0)}return function(d){const h=Ck(d);if(!h)return;const f=h.families;for(let p=0,y=f.length;p<y;++p){const v=f[p],w=h.style+`
`+h.weight+`
`+v;Ts.get(w)===void 0&&(Ts.set(w,100,!0),l(h.style,h.weight,v)||(Ts.set(w,0,!0),s===void 0&&(s=setInterval(c,32))))}}}(),pB=function(){let t;return function(e){let n=X0[e];if(n==null){if(wv){const r=Ck(e),i=Ek(e,"Žg");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);X0[e]=n}return n}}();function Ek(t,e){return kl||(kl=fr(1,1)),t!=H0&&(kl.font=t,H0=kl.font),kl.measureText(e)}function Qf(t,e){return Ek(t,e).width}function Eb(t,e,n){if(e in n)return n[e];const r=e.split(`
`).reduce((i,s)=>Math.max(i,Qf(t,s)),0);return n[e]=r,r}function yB(t,e){const n=[],r=[],i=[];let s=0,o=0,l=0,c=0;for(let d=0,h=e.length;d<=h;d+=2){const f=e[d];if(f===`
`||d===h){s=Math.max(s,o),i.push(o),o=0,l+=c;continue}const p=e[d+1]||t.font,y=Qf(p,f);n.push(y),o+=y;const v=pB(p);r.push(v),c=Math.max(c,v)}return{width:s,height:l,widths:n,heights:r,lineWidths:i}}function xB(t,e,n,r,i,s,o,l,c,d,h){t.save(),n!==1&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(c,d),t.scale(h[0],h[1]),vB(r,t)):h[0]<0||h[1]<0?(t.translate(c,d),t.scale(h[0],h[1]),t.drawImage(r,i,s,o,l,0,0,o,l)):t.drawImage(r,i,s,o,l,c,d,o*h[0],l*h[1]),t.restore()}function vB(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class Qm extends Zm{constructor(e){const n=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:n,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),n=new Qm({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_;if(!e)return null;const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let n=this.canvas_[e];if(!n){const r=this.renderOptions_,i=fr(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvas_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return Mn.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const M=i;i=s,s=M}const o=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/o,c=s*Math.sin(l),d=Math.sqrt(s*s-c*c),h=i-d,f=Math.sqrt(c*c+h*h),p=f/c;if(e==="miter"&&p<=r)return p*n;const y=n/2/p,v=n/2*(h/f),C=Math.sqrt((i+y)*(i+y)+v*v)-i;if(this.radius2_===void 0||e==="bevel")return C*2;const b=i*Math.sin(l),R=Math.sqrt(i*i-b*b),T=s-R,k=Math.sqrt(b*b+T*T)/b;if(k<=r){const M=k*n/2-s-i;return 2*Math.max(C,M)}return C*2}createRenderOptions(){let e=Kl,n=0,r=null,i=0,s,o=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=Hu),s=Qi(s),o=this.stroke_.getWidth(),o===void 0&&(o=Ku),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=Kl),n=this.stroke_.getMiterLimit(),n===void 0&&(n=Wu));const l=this.calculateLineJoinSize_(e,o,n),c=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:o,size:d,lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Is),n.fillStyle=Qi(i),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let n=this.fill_.getColor(),r=0;if(typeof n=="string"&&(n=Yf(n)),n===null?r=1:Array.isArray(n)&&(r=n.length===4?n[3]:1),r===0){const i=fr(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let l=0;l<n;l++){const c=s+l*o,d=l%2===0?r:i;e.lineTo(d*Math.cos(c),d*Math.sin(c))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Is,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}}class zr extends Qm{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new zr({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}class kn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new kn({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}class xn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new xn({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}let ln=class Rk{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Rb,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Rk({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Rb,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function _B(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(at(typeof t.getZIndex=="function",41),n=[t]),e=function(){return n}}return e}let Ay=null;function wB(t,e){if(!Ay){const n=new kn({color:"rgba(255,255,255,0.4)"}),r=new xn({color:"#3399CC",width:1.25});Ay=[new ln({image:new zr({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Ay}function Tk(){const t={},e=[255,255,255,1],n=[0,153,255,1],r=3;return t.Polygon=[new ln({fill:new kn({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new ln({stroke:new xn({color:e,width:r+2})}),new ln({stroke:new xn({color:n,width:r})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new ln({image:new zr({radius:r*2,fill:new kn({color:n}),stroke:new xn({color:e,width:r/2})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Rb(t){return t.getGeometry()}class SB{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(e,n,r){const i=Tb(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const s=Tb(e,n,r);this.cache_[s]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Tb(t,e,n){const r=n?_k(n):"null";return e+":"+t+":"+r}const em=new SB;function Pk(t,e,n){const r=t;let i=!0,s=!1,o=!1;const l=[Gf(r,et.LOAD,function(){o=!0,s||e()})];return r.src&&Rz?(s=!0,r.decode().then(function(){i&&e()}).catch(function(c){i&&(o?e():n())})):l.push(Gf(r,et.ERROR,n)),function(){i=!1,l.forEach(Ut)}}let uu=null;class CB extends Vm{constructor(e,n,r,i,s,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=s,this.size_=r,this.src_=n,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Mn.LOADED){uu||(uu=fr(1,1,void 0,{willReadFrequently:!0})),uu.drawImage(this.image_,0,0);try{uu.getImageData(0,0,1,1),this.tainted_=!1}catch{uu=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(et.CHANGE)}handleImageError_(){this.imageState_=Mn.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Mn.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=fr(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Mn.IDLE){this.image_||this.initializeImage_(),this.imageState_=Mn.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Pk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Mn.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=_k(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function bB(t,e,n,r,i,s){let o=em.get(e,r,s);return o||(o=new CB(t,e,n,r,i,s),em.set(e,r,s,o)),o}let eg=class kk extends Zm{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let l=e.src;at(!(l!==void 0&&o),4),at(!o||o&&this.imgSize_,5),(l===void 0||l.length===0)&&o&&(l=o.src||tt(o)),at(l!==void 0&&l.length>0,6),at(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const c=e.src!==void 0?Mn.IDLE:Mn.LOADED;if(this.color_=e.color!==void 0?Yf(e.color):null,this.iconImage_=bB(o,l,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,c,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.width_=e.width,this.height_=e.height,this.width_!==void 0||this.height_!==void 0){const d=this.getImage(1),h=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};d.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):d.addEventListener("load",h)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(this.width_!==void 0||this.height_!==void 0)&&(e=void 0),new kk({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,n){const r=this.getImage(1);e!==void 0&&n!==void 0?super.setScale([e/r.width,n/r.height]):e!==void 0?super.setScale([e/r.width,e/r.width]):n!==void 0?super.setScale([n/r.height,n/r.height]):super.setScale([1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const n=this.getImage(1);if(n){const r=Array.isArray(e)?e[0]:e;r!==void 0&&(this.width_=r*n.width);const i=Array.isArray(e)?e[1]:e;i!==void 0&&(this.height_=i*n.height)}}listenImageChange(e){this.iconImage_.addEventListener(et.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(et.CHANGE,e)}};const EB="#333";class tg{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Br(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new kn({color:EB}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new tg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Br(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function Pb(t){return new ln({fill:Yu(t,""),stroke:Zu(t,""),text:RB(t),image:TB(t)})}function Yu(t,e){const n=t[e+"fill-color"];if(n)return new kn({color:n})}function Zu(t,e){const n=t[e+"stroke-width"],r=t[e+"stroke-color"];if(!(!n&&!r))return new xn({width:n,color:r,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function RB(t){const e=t["text-value"];return e?new tg({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],repeat:t["text-repeat"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:Yu(t,"text-"),backgroundFill:Yu(t,"text-background-"),stroke:Zu(t,"text-"),backgroundStroke:Zu(t,"text-background-")}):void 0}function TB(t){const e=t["icon-src"],n=t["icon-img"];if(e||n)return new eg({src:e,img:n,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const r=t["shape-points"];if(r){const s="shape-";return new Qm({points:r,fill:Yu(t,s),stroke:Zu(t,s),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const i=t["circle-radius"];if(i){const s="circle-";return new zr({radius:i,fill:Yu(t,s),stroke:Zu(t,s),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const kb={RENDER_ORDER:"renderOrder"};class PB extends Ym{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(kb.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new pk(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(kb.RENDER_ORDER,e)}setStyle(e){let n;if(e===void 0)n=wB;else if(e===null)n=null;else if(typeof e=="function")n=e;else if(e instanceof ln)n=e;else if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s){const o=e[s];o instanceof ln?i[s]=o:i[s]=Pb(o)}n=i}else n=Pb(e);this.style_=n,this.styleFunction_=e===null?void 0:_B(this.style_),this.changed()}}const Ge={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},rf=[Ge.FILL],So=[Ge.STROKE],ya=[Ge.BEGIN_PATH],Ab=[Ge.CLOSE_PATH];class Ak{drawCustom(e,n,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,n){}drawFeature(e,n){}drawGeometryCollection(e,n){}drawLineString(e,n){}drawMultiLineString(e,n){}drawMultiPoint(e,n){}drawMultiPolygon(e,n){}drawPoint(e,n){}drawPolygon(e,n){}drawText(e,n){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class Sd extends Ak{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let l=0,c=e.length;l<c;l+=n)i[0]=e[l],i[1]=e[l+1],zm(r,i)&&(s[o++]=i[0],s[o++]=i[1]);return o}appendFlatLineCoordinates(e,n,r,i,s,o){const l=this.coordinates;let c=l.length;const d=this.getBufferedMaxExtent();o&&(n+=i);let h=e[n],f=e[n+1];const p=this.tmpCoordinate_;let y=!0,v,w,C;for(v=n+i;v<r;v+=i)p[0]=e[v],p[1]=e[v+1],C=F0(d,p),C!==w?(y&&(l[c++]=h,l[c++]=f,y=!1),l[c++]=p[0],l[c++]=p[1]):C===Dn.INTERSECTING?(l[c++]=p[0],l[c++]=p[1],y=!1):y=!0,h=p[0],f=p[1],w=C;return(s&&y||v===n+i)&&(l[c++]=h,l[c++]=f),c}drawCustomCoordinates_(e,n,r,i,s){for(let o=0,l=r.length;o<l;++o){const c=r[o],d=this.appendFlatLineCoordinates(e,n,c,i,!1,!1);s.push(d),n=c}return n}drawCustom(e,n,r,i){this.beginGeometry(e,n);const s=e.getType(),o=e.getStride(),l=this.coordinates.length;let c,d,h,f,p;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];const y=e.getEndss();p=0;for(let v=0,w=y.length;v<w;++v){const C=[];p=this.drawCustomCoordinates_(c,p,y[v],o,C),f.push(C)}this.instructions.push([Ge.CUSTOM,l,f,e,r,z0]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,f,e,i||r,z0]);break;case"Polygon":case"MultiLineString":h=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,e.getEnds(),o,h),this.instructions.push([Ge.CUSTOM,l,h,e,r,$u]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,h,e,i||r,$u]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),d=this.appendFlatLineCoordinates(c,0,c.length,o,!1,!1),this.instructions.push([Ge.CUSTOM,l,d,e,r,wo]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r,wo]);break;case"MultiPoint":c=e.getFlatCoordinates(),d=this.appendFlatPointCoordinates(c,o),d>l&&(this.instructions.push([Ge.CUSTOM,l,d,e,r,wo]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r,wo]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),d=this.coordinates.length,this.instructions.push([Ge.CUSTOM,l,d,e,r]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r]);break}this.endGeometry(n)}beginGeometry(e,n){this.beginGeometryInstruction1_=[Ge.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ge.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,o=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==Ge.END_GEOMETRY?o=n:s==Ge.BEGIN_GEOMETRY&&(i[2]=n,gz(this.hitDetectionInstructions,o,n),o=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillStyle=Qi(i||Is)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=Qi(i||Hu);const s=n.getLineCap();r.lineCap=s!==void 0?s:qf;const o=n.getLineDash();r.lineDash=o?o.slice():Gu;const l=n.getLineDashOffset();r.lineDashOffset=l||Uu;const c=n.getLineJoin();r.lineJoin=c!==void 0?c:Kl;const d=n.getWidth();r.lineWidth=d!==void 0?d:Ku;const h=n.getMiterLimit();r.miterLimit=h!==void 0?h:Wu,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[Ge.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(!0),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Ge.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,o=e.lineDashOffset,l=e.lineJoin,c=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!Bs(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=l||e.currentLineWidth!=c||e.currentMiterLimit!=d)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=l,e.currentLineWidth=c,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[Ge.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=OP(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;vd(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class kB extends Sd{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([Ge.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([Ge.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class AB extends Sd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),l=[Ge.MOVE_TO_LINE_TO,s,o];return this.instructions.push(l),this.hitDetectionInstructions.push(l),r}drawLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Gu,Uu],ya);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(So),this.endGeometry(n)}drawMultiLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],ya);const o=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinates_(l,d,o[h],c);this.hitDetectionInstructions.push(So),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(So),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(So),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(ya)}}class Mb extends Sd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,o=s.fillStyle!==void 0,l=s.strokeStyle!==void 0,c=r.length;this.instructions.push(ya),this.hitDetectionInstructions.push(ya);for(let d=0;d<c;++d){const h=r[d],f=this.coordinates.length,p=this.appendFlatLineCoordinates(e,n,h,i,!0,!l),y=[Ge.MOVE_TO_LINE_TO,f,p];this.instructions.push(y),this.hitDetectionInstructions.push(y),l&&(this.instructions.push(Ab),this.hitDetectionInstructions.push(Ab)),n=h}return o&&(this.instructions.push(rf),this.hitDetectionInstructions.push(rf)),l&&(this.instructions.push(So),this.hitDetectionInstructions.push(So)),n}drawCircle(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Is]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const d=[Ge.CIRCLE,c];this.instructions.push(ya,d),this.hitDetectionInstructions.push(ya,d),r.fillStyle!==void 0&&(this.instructions.push(rf),this.hitDetectionInstructions.push(rf)),r.strokeStyle!==void 0&&(this.instructions.push(So),this.hitDetectionInstructions.push(So)),this.endGeometry(n)}drawPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Is]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,o,c),this.endGeometry(n)}drawMultiPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Is]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinatess_(l,d,o[h],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=oa(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function MB(t,e,n,r,i){const s=[];let o=n,l=0,c=e.slice(n,2);for(;l<t&&o+i<r;){const[d,h]=c.slice(-2),f=e[o+i],p=e[o+i+1],y=Math.sqrt((f-d)*(f-d)+(p-h)*(p-h));if(l+=y,l>=t){const v=(t-l+y)/y,w=Vr(d,f,v),C=Vr(h,p,v);c.push(w,C),s.push(c),c=[w,C],l==t&&(o+=i),l=0}else if(l<t)c.push(e[o+i],e[o+i+1]),o+=i;else{const v=y-l,w=Vr(d,f,v/y),C=Vr(h,p,v/y);c.push(w,C),s.push(c),c=[w,C],l=0,o+=i}}return l>0&&s.push(c),s}function IB(t,e,n,r,i){let s=n,o=n,l=0,c=0,d=n,h,f,p,y,v,w,C,b,R,T;for(f=n;f<r;f+=i){const P=e[f],k=e[f+1];v!==void 0&&(R=P-v,T=k-w,y=Math.sqrt(R*R+T*T),C!==void 0&&(c+=p,h=Math.acos((C*R+b*T)/(p*y)),h>t&&(c>l&&(l=c,s=d,o=f),c=0,d=f-i)),p=y,C=R,b=T),v=P,w=k}return c+=y,c>l?[d,f]:[s,o]}const bu={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class NB extends Sd{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n){const r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!i)return;const o=this.coordinates;let l=o.length;const c=e.getType();let d=null,h=e.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!dr(this.getBufferedMaxExtent(),e.getExtent()))return;let f;if(d=e.getFlatCoordinates(),c=="LineString")f=[d.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const w=e.getEndss();f=[];for(let C=0,b=w.length;C<b;++C)f.push(w[C][0])}this.beginGeometry(e,n);const p=s.repeat,y=p?void 0:s.textAlign;let v=0;for(let w=0,C=f.length;w<C;++w){let b;p?b=MB(p*this.resolution,d,v,f[w],h):b=[d.slice(v,f[w])];for(let R=0,T=b.length;R<T;++R){const P=b[R];let k=0,M=P.length;if(y==null){const I=IB(s.maxAngle,P,0,P.length,2);k=I[0],M=I[1]}for(let I=k;I<M;I+=h)o.push(P[I],P[I+1]);const F=o.length;v=f[w],this.drawChars_(l,F),l=F}}this.endGeometry(n)}else{let f=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":d=e.getFlatCoordinates();break;case"LineString":d=e.getFlatMidpoint();break;case"Circle":d=e.getCenter();break;case"MultiLineString":d=e.getFlatMidpoints(),h=2;break;case"Polygon":d=e.getFlatInteriorPoint(),s.overflow||f.push(d[2]/this.resolution),h=3;break;case"MultiPolygon":const C=e.getFlatInteriorPoints();d=[];for(let b=0,R=C.length;b<R;b+=3)s.overflow||f.push(C[b+2]/this.resolution),d.push(C[b],C[b+1]);if(d.length===0)return;h=2;break}const p=this.appendFlatPointCoordinates(d,h);if(p===l)return;if(f&&(p-l)/2!==d.length/h){let C=l/2;f=f.filter((b,R)=>{const T=o[(C+R)*2]===d[R*h]&&o[(C+R)*2+1]===d[R*h+1];return T||--C,T})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);let y=s.padding;if(y!=pa&&(s.scale[0]<0||s.scale[1]<0)){let C=s.padding[0],b=s.padding[1],R=s.padding[2],T=s.padding[3];s.scale[0]<0&&(b=-b,T=-T),s.scale[1]<0&&(C=-C,R=-R),y=[C,b,R,T]}const v=this.pixelRatio;this.instructions.push([Ge.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,y==pa?pa:y.map(function(C){return C*v}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const w=1/v;this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,void 0,this.declutterImageWithText_,y,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||Xu,justify:n.justify,textBaseline:n.textBaseline||Jf,scale:n.scale});const o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,o=this.textKey_,l=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,d=bu[i.textBaseline],h=this.textOffsetY_*c,f=this.text_,p=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Ge.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,c,h,s,p*c,f,o,1]),this.hitDetectionInstructions.push([Ge.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,1,h,s,p,f,o,1/c])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const o=e.getFill();o?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Qi(o.getColor()||Is)):(i=null,this.textFillState_=i);const l=e.getStroke();if(!l)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const v=l.getLineDash(),w=l.getLineDashOffset(),C=l.getWidth(),b=l.getMiterLimit();s.lineCap=l.getLineCap()||qf,s.lineDash=v?v.slice():Gu,s.lineDashOffset=w===void 0?Uu:w,s.lineJoin=l.getLineJoin()||Kl,s.lineWidth=C===void 0?Ku:C,s.miterLimit=b===void 0?Wu:b,s.strokeStyle=Qi(l.getColor()||Hu)}r=this.textState_;const c=e.getFont()||bk;gB(c);const d=e.getScaleArray();r.overflow=e.getOverflow(),r.font=c,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Jf,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||pa,r.scale=d===void 0?[1,1]:d;const h=e.getOffsetX(),f=e.getOffsetY(),p=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=f===void 0?0:f,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:tt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+tt(i.fillStyle):""}this.declutterImageWithText_=n}}const FB={Circle:Mb,Default:Sd,Image:kB,LineString:AB,Polygon:Mb,Text:NB};class Ib{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const o=FB[n];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}class jB extends xd{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Qe()}getData(e){return null}prepareFrame(e){return Qe()}renderFrame(e,n){return Qe()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,o)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===Mn.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Mn.LOADED&&n!=Mn.ERROR&&e.addEventListener(et.CHANGE,this.boundHandleImageChange_),n==Mn.IDLE&&(e.load(),n=e.getState()),n==Mn.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}class Mk extends Di{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}const Nb=[];let Al=null;function LB(){Al=fr(1,1,void 0,{willReadFrequently:!0})}class Ik extends jB{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=ns(),this.pixelTransform=ns(),this.inversePixelTransform=ns(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){Al||LB(),Al.clearRect(0,0,1,1);let i;try{Al.drawImage(e,n,r,1,1,0,0,1,1),i=Al.getImageData(0,0,1,1).data}catch{return Al=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,o;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&Bs(Yf(e.style.backgroundColor),Yf(r)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=i;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",o=fr();const c=o.canvas;s.appendChild(c),l=c.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=Ga(r),s=Gm(r),o=Bm(r),l=$m(r);On(n.coordinateToPixelTransform,i),On(n.coordinateToPixelTransform,s),On(n.coordinateToPixelTransform,o),On(n.coordinateToPixelTransform,l);const c=this.inversePixelTransform;On(c,i),On(c,s),On(c,o),On(c,l),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new Mk(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_(bo.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(bo.POSTRENDER,e,n)}getRenderTransform(e,n,r,i,s,o,l){const c=s/2,d=o/2,h=i/n,f=-h,p=-e[0]+l,y=-e[1];return Po(this.tempTransform,c,d,h,f,-r,p,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function DB(t,e,n,r,i,s,o,l,c,d,h,f){let p=t[e],y=t[e+1],v=0,w=0,C=0,b=0;function R(){v=p,w=y,e+=r,p=t[e],y=t[e+1],b+=C,C=Math.sqrt((p-v)*(p-v)+(y-w)*(y-w))}do R();while(e<n-r&&b+C<s);let T=C===0?0:(s-b)/C;const P=Vr(v,p,T),k=Vr(w,y,T),M=e-r,F=b,I=s+l*c(d,i,h);for(;e<n-r&&b+C<I;)R();T=C===0?0:(I-b)/C;const z=Vr(v,p,T),G=Vr(w,y,T);let V;if(f){const Y=[P,k,z,G];ek(Y,0,4,2,f,Y,Y),V=Y[0]>Y[2]}else V=P>z;const H=Math.PI,B=[],X=M+r===e;e=M,C=0,b=F,p=t[e],y=t[e+1];let Z;if(X){R(),Z=Math.atan2(y-w,p-v),V&&(Z+=Z>0?-H:H);const Y=(z+P)/2,D=(G+k)/2;return B[0]=[Y,D,(I-s)/2,Z,i],B}i=i.replace(/\n/g," ");for(let Y=0,D=i.length;Y<D;){R();let j=Math.atan2(y-w,p-v);if(V&&(j+=j>0?-H:H),Z!==void 0){let ie=j-Z;if(ie+=ie>H?-2*H:ie<-H?2*H:0,Math.abs(ie)>o)return null}Z=j;const U=Y;let q=0;for(;Y<D;++Y){const ie=V?D-Y-1:Y,ce=l*c(d,i[ie],h);if(e+r<n&&b+C<s+q+ce/2)break;q+=ce}if(Y===U)continue;const N=V?i.substring(D-U,D-Y):i.substring(U,Y);T=C===0?0:(s+q/2-b)/C;const L=Vr(v,p,T),re=Vr(w,y,T);B.push([L,re,q/2,j,N]),s+=q}return B}const xl=Wr(),uo=[],Ss=[],Cs=[],ho=[];function Fb(t){return t[3].declutterBox}const OB=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function jb(t,e){return(e==="start"||e==="end")&&!OB.test(t)&&(e=e==="start"?"left":"right"),bu[e]}function VB(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class zB{constructor(e,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=ns(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const o=i?this.strokeStates[i]:null,l=r?this.fillStates[r]:null,c=this.textStates[n],d=this.pixelRatio,h=[c.scale[0]*d,c.scale[1]*d],f=Array.isArray(e),p=c.justify?bu[c.justify]:jb(Array.isArray(e)?e[0]:e,c.textAlign||Xu),y=i&&o.lineWidth?o.lineWidth:0,v=f?e:e.split(`
`).reduce(VB,[]),{width:w,height:C,widths:b,heights:R,lineWidths:T}=yB(c,v),P=w+y,k=[],M=(P+2)*h[0],F=(C+y)*h[1],I={width:M<0?Math.floor(M):Math.ceil(M),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:k};(h[0]!=1||h[1]!=1)&&k.push("scale",h),i&&(k.push("strokeStyle",o.strokeStyle),k.push("lineWidth",y),k.push("lineCap",o.lineCap),k.push("lineJoin",o.lineJoin),k.push("miterLimit",o.miterLimit),k.push("setLineDash",[o.lineDash]),k.push("lineDashOffset",o.lineDashOffset)),r&&k.push("fillStyle",l.fillStyle),k.push("textBaseline","middle"),k.push("textAlign","center");const z=.5-p;let G=p*P+z*y;const V=[],H=[];let B=0,X=0,Z=0,Y=0,D;for(let j=0,U=v.length;j<U;j+=2){const q=v[j];if(q===`
`){X+=B,B=0,G=p*P+z*y,++Y;continue}const N=v[j+1]||c.font;N!==D&&(i&&V.push("font",N),r&&H.push("font",N),D=N),B=Math.max(B,R[Z]);const L=[q,G+z*b[Z]+p*(b[Z]-T[Y]),.5*(y+B)+X];G+=b[Z],i&&V.push("strokeText",L),r&&H.push("fillText",L),++Z}return Array.prototype.push.apply(k,V),Array.prototype.push.apply(k,H),this.labels_[s]=I,I}replayTextBackground_(e,n,r,i,s,o,l){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),o&&(this.alignFill_=o[2],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,o,l,c,d,h,f,p,y,v,w,C){l*=p[0],c*=p[1];let b=r-l,R=i-c;const T=s+d>e?e-d:s,P=o+h>n?n-h:o,k=v[3]+T*p[0]+v[1],M=v[0]+P*p[1]+v[2],F=b-v[3],I=R-v[0];(w||f!==0)&&(uo[0]=F,ho[0]=F,uo[1]=I,Ss[1]=I,Ss[0]=F+k,Cs[0]=Ss[0],Cs[1]=I+M,ho[1]=Cs[1]);let z;return f!==0?(z=Po(ns(),r,i,1,1,f,-r,-i),On(z,uo),On(z,Ss),On(z,Cs),On(z,ho),Fs(Math.min(uo[0],Ss[0],Cs[0],ho[0]),Math.min(uo[1],Ss[1],Cs[1],ho[1]),Math.max(uo[0],Ss[0],Cs[0],ho[0]),Math.max(uo[1],Ss[1],Cs[1],ho[1]),xl)):Fs(Math.min(F,F+k),Math.min(I,I+M),Math.max(F,F+k),Math.max(I,I+M),xl),y&&(b=Math.round(b),R=Math.round(R)),{drawImageX:b,drawImageY:R,drawImageW:T,drawImageH:P,originX:d,originY:h,declutterBox:{minX:xl[0],minY:xl[1],maxX:xl[2],maxY:xl[3],value:C},canvasTransform:z,scale:p}}replayImageOrLabel_(e,n,r,i,s,o,l){const c=!!(o||l),d=i.declutterBox,h=e.canvas,f=l?l[2]*i.scale[0]/2:0;return d.minX-f<=h.width/n&&d.maxX+f>=0&&d.minY-f<=h.height/n&&d.maxY+f>=0&&(c&&this.replayTextBackground_(e,uo,Ss,Cs,ho,o,l),xB(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){if(this.alignFill_){const n=On(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],o=this.createLabel(e,n,i,r),l=this.strokeStates[r],c=this.pixelRatio,d=jb(Array.isArray(e)?e[0]:e,s.textAlign||Xu),h=bu[s.textBaseline||Jf],f=l&&l.lineWidth?l.lineWidth:0,p=o.width/c-2*s.scale[0],y=d*p+2*(.5-d)*f,v=h*o.height/c+2*(.5-h)*f;return{label:o,anchorX:y,anchorY:v}}execute_(e,n,r,i,s,o,l,c){let d;this.pixelCoordinates_&&Bs(r,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=Ea(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Pz(this.renderedTransform_,r));let h=0;const f=i.length;let p=0,y,v,w,C,b,R,T,P,k,M,F,I,z=0,G=0,V=null,H=null;const B=this.coordinateCache_,X=this.viewRotation_,Z=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,Y={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:X},D=this.instructions!=i||this.overlaps?0:200;let j,U,q,N;for(;h<f;){const L=i[h];switch(L[0]){case Ge.BEGIN_GEOMETRY:j=L[1],N=L[3],j.getGeometry()?l!==void 0&&!dr(l,N.getExtent())?h=L[2]+1:++h:h=L[2];break;case Ge.BEGIN_PATH:z>D&&(this.fill_(e),z=0),G>D&&(e.stroke(),G=0),!z&&!G&&(e.beginPath(),C=NaN,b=NaN),++h;break;case Ge.CIRCLE:p=L[1];const ie=d[p],ce=d[p+1],ge=d[p+2],ae=d[p+3],pe=ge-ie,we=ae-ce,be=Math.sqrt(pe*pe+we*we);e.moveTo(ie+be,ce),e.arc(ie,ce,be,0,2*Math.PI,!0),++h;break;case Ge.CLOSE_PATH:e.closePath(),++h;break;case Ge.CUSTOM:p=L[1],y=L[2];const $e=L[3],Ve=L[4],yt=L.length==6?L[5]:void 0;Y.geometry=$e,Y.feature=j,h in B||(B[h]=[]);const mt=B[h];yt?yt(d,p,y,2,mt):(mt[0]=d[p],mt[1]=d[p+1],mt.length=2),Ve(mt,Y),++h;break;case Ge.DRAW_IMAGE:p=L[1],y=L[2],P=L[3],v=L[4],w=L[5];let Wt=L[6];const Dt=L[7],Ot=L[8],zn=L[9],lt=L[10];let $=L[11];const J=L[12];let te=L[13];const fe=L[14],he=L[15];if(!P&&L.length>=20){k=L[19],M=L[20],F=L[21],I=L[22];const ct=this.drawLabelWithPointPlacement_(k,M,F,I);P=ct.label,L[3]=P;const Be=L[23];v=(ct.anchorX-Be)*this.pixelRatio,L[4]=v;const Tt=L[24];w=(ct.anchorY-Tt)*this.pixelRatio,L[5]=w,Wt=P.height,L[6]=Wt,te=P.width,L[13]=te}let se;L.length>25&&(se=L[25]);let ye,je,ze;L.length>17?(ye=L[16],je=L[17],ze=L[18]):(ye=pa,je=!1,ze=!1),lt&&Z?$+=X:!lt&&!Z&&($-=X);let xt=0;for(;p<y;p+=2){if(se&&se[xt++]<te/this.pixelRatio)continue;const ct=this.calculateImageOrLabelDimensions_(P.width,P.height,d[p],d[p+1],te,Wt,v,w,Ot,zn,$,J,s,ye,je||ze,j),Be=[e,n,P,ct,Dt,je?V:null,ze?H:null];if(c){if(fe==="none")continue;if(fe==="obstacle"){c.insert(ct.declutterBox);continue}else{let Tt,In;if(he){const gt=y-p;if(!he[gt]){he[gt]=Be;continue}if(Tt=he[gt],delete he[gt],In=Fb(Tt),c.collides(In))continue}if(c.collides(ct.declutterBox))continue;Tt&&(c.insert(In),this.replayImageOrLabel_.apply(this,Tt)),c.insert(ct.declutterBox)}}this.replayImageOrLabel_.apply(this,Be)}++h;break;case Ge.DRAW_CHARS:const Vt=L[1],ft=L[2],$n=L[3],Ar=L[4];I=L[5];const Mr=L[6],ke=L[7],ve=L[8];F=L[9];const vt=L[10];k=L[11],M=L[12];const St=[L[13],L[13]],zt=this.textStates[M],Ht=zt.font,Qt=[zt.scale[0]*ke,zt.scale[1]*ke];let en;Ht in this.widths_?en=this.widths_[Ht]:(en={},this.widths_[Ht]=en);const Ct=lk(d,Vt,ft,2),Ye=Math.abs(Qt[0])*Eb(Ht,k,en);if(Ar||Ye<=Ct){const ct=this.textStates[M].textAlign,Be=(Ct-Ye)*bu[ct],Tt=DB(d,Vt,ft,2,k,Be,Mr,Math.abs(Qt[0]),Eb,Ht,en,Z?0:this.viewRotation_);e:if(Tt){const In=[];let gt,tn,Ir,bt,$t;if(F)for(gt=0,tn=Tt.length;gt<tn;++gt){$t=Tt[gt],Ir=$t[4],bt=this.createLabel(Ir,M,"",F),v=$t[2]+(Qt[0]<0?-vt:vt),w=$n*bt.height+(.5-$n)*2*vt*Qt[1]/Qt[0]-ve;const Nn=this.calculateImageOrLabelDimensions_(bt.width,bt.height,$t[0],$t[1],bt.width,bt.height,v,w,0,0,$t[3],St,!1,pa,!1,j);if(c&&c.collides(Nn.declutterBox))break e;In.push([e,n,bt,Nn,1,null,null])}if(I)for(gt=0,tn=Tt.length;gt<tn;++gt){$t=Tt[gt],Ir=$t[4],bt=this.createLabel(Ir,M,I,""),v=$t[2],w=$n*bt.height-ve;const Nn=this.calculateImageOrLabelDimensions_(bt.width,bt.height,$t[0],$t[1],bt.width,bt.height,v,w,0,0,$t[3],St,!1,pa,!1,j);if(c&&c.collides(Nn.declutterBox))break e;In.push([e,n,bt,Nn,1,null,null])}c&&c.load(In.map(Fb));for(let Nn=0,pr=In.length;Nn<pr;++Nn)this.replayImageOrLabel_.apply(this,In[Nn])}}++h;break;case Ge.END_GEOMETRY:if(o!==void 0){j=L[1];const ct=o(j,N);if(ct)return ct}++h;break;case Ge.FILL:D?z++:this.fill_(e),++h;break;case Ge.MOVE_TO_LINE_TO:for(p=L[1],y=L[2],U=d[p],q=d[p+1],R=U+.5|0,T=q+.5|0,(R!==C||T!==b)&&(e.moveTo(U,q),C=R,b=T),p+=2;p<y;p+=2)U=d[p],q=d[p+1],R=U+.5|0,T=q+.5|0,(p==y-2||R!==C||T!==b)&&(e.lineTo(U,q),C=R,b=T);++h;break;case Ge.SET_FILL_STYLE:V=L,this.alignFill_=L[2],z&&(this.fill_(e),z=0,G&&(e.stroke(),G=0)),e.fillStyle=L[1],++h;break;case Ge.SET_STROKE_STYLE:H=L,G&&(e.stroke(),G=0),this.setStrokeStyle_(e,L),++h;break;case Ge.STROKE:D?G++:e.stroke(),++h;break;default:++h;break}}z&&this.fill_(e),G&&e.stroke()}execute(e,n,r,i,s,o){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,1,n,this.hitDetectionInstructions,!0,i,s)}}const My=["Polygon","Circle","LineString","Image","Text","Default"];class Lb{constructor(e,n,r,i,s,o){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=ns(),this.createExecutors_(s)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e){for(const n in e){let r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);const i=e[n];for(const s in i){const o=i[s];r[s]=new zB(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,o){i=Math.round(i);const l=i*2+1,c=Po(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=fr(l,l,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):d||h.clearRect(0,0,l,l);let f;this.renderBuffer_!==void 0&&(f=Wr(),Su(f,e),vd(f,n*(this.renderBuffer_+i),f));const p=$B(i);let y;function v(k,M){const F=h.getImageData(0,0,l,l).data;for(let I=0,z=p.length;I<z;I++)if(F[p[I]]>0){if(!o||y!=="Image"&&y!=="Text"||o.includes(k)){const G=(p[I]-3)/4,V=i-G%l,H=i-(G/l|0),B=s(k,M,V*V+H*H);if(B)return B}h.clearRect(0,0,l,l);break}}const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Aa);let C,b,R,T,P;for(C=w.length-1;C>=0;--C){const k=w[C].toString();for(R=this.executorsByZIndex_[k],b=My.length-1;b>=0;--b)if(y=My[b],T=R[y],T!==void 0&&(P=T.executeHitDetection(h,c,r,v,f),P))return P}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],o=n[3],l=[r,i,r,o,s,o,s,i];return Ea(l,0,8,2,e,l),l}isEmpty(){return Xl(this.executorsByZIndex_)}execute(e,n,r,i,s,o,l){const c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(Aa),this.maxExtent_&&(e.save(),this.clip(e,r)),o=o||My;let d,h,f,p,y,v;for(l&&c.reverse(),d=0,h=c.length;d<h;++d){const w=c[d].toString();for(y=this.executorsByZIndex_[w],f=0,p=o.length;f<p;++f){const C=o[f];v=y[C],v!==void 0&&v.execute(e,n,r,i,s,l)}}this.maxExtent_&&e.restore()}}const Iy={};function $B(t){if(Iy[t]!==void 0)return Iy[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let o=0;o<=t;++o){const l=s*s+o*o;if(l>n)break;let c=r[l];c||(c=[],r[l]=c),c.push(((t+s)*e+(t+o))*4+3),s>0&&c.push(((t-s)*e+(t+o))*4+3),o>0&&(c.push(((t+s)*e+(t-o))*4+3),s>0&&c.push(((t-s)*e+(t-o))*4+3))}const i=[];for(let s=0,o=r.length;s<o;++s)r[s]&&i.push(...r[s]);return Iy[t]=i,i}class BB extends Ak{constructor(e,n,r,i,s,o,l){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?Rv(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ns()}drawImages_(e,n,r,i){if(!this.image_)return;const s=Ea(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,l=this.tmpLocalTransform_,c=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=c*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let h=0,f=s.length;h<f;h+=2){const p=s[h]-this.imageAnchorX_,y=s[h+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const v=p+this.imageAnchorX_,w=y+this.imageAnchorY_;Po(l,v,w,1,1,d,-v,-w),o.setTransform.apply(o,l),o.translate(v,w),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,y,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=c)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Ea(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_;let l=this.textRotation_;for(this.transformRotation_===0&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);n<r;n+=i){const c=s[n]+this.textOffsetX_,d=s[n+1]+this.textOffsetY_;l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.translate(c-this.textOffsetX_,d-this.textOffsetY_),o.rotate(l),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,c,d),this.textFillState_&&o.fillText(this.text_,c,d))}}moveToLineTo_(e,n,r,i,s){const o=this.context_,l=Ea(e,n,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(l[0],l[1]);let c=l.length;s&&(c-=2);for(let d=2;d<c;d+=2)o.lineTo(l[d],l[d+1]);return s&&o.closePath(),r}drawRings_(e,n,r,i){for(let s=0,o=r.length;s<o;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(dr(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=i$(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),o=this.context_;o.beginPath(),o.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);!r||!dr(this.extent_,r.getExtent())||(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!dr(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(dr(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const o=e.getEnds(),l=e.getStride();r.beginPath();for(let c=0,d=o.length;c<d;++c)s=this.moveToLineTo_(i,s,o[c],l,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!dr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!dr(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),o=e.getStride();n.beginPath();for(let l=0,c=s.length;l<c;++l){const d=s[l];i=this.drawRings_(r,i,d,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),Bs(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:Xu;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:Qi(r||Is)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),o=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),d=n.getMiterLimit(),h=s||Gu;this.strokeState_={lineCap:i!==void 0?i:qf,lineDash:this.pixelRatio_===1?h:h.map(f=>f*this.pixelRatio_),lineDashOffset:(o||Uu)*this.pixelRatio_,lineJoin:l!==void 0?l:Kl,lineWidth:(c!==void 0?c:Ku)*this.pixelRatio_,miterLimit:d!==void 0?d:Wu,strokeStyle:Qi(r||Hu)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/r,o[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const y=n.getColor();this.textFillState_={fillStyle:Qi(y||Is)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const y=r.getColor(),v=r.getLineCap(),w=r.getLineDash(),C=r.getLineDashOffset(),b=r.getLineJoin(),R=r.getWidth(),T=r.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:qf,lineDash:w||Gu,lineDashOffset:C||Uu,lineJoin:b!==void 0?b:Kl,lineWidth:R!==void 0?R:Ku,miterLimit:T!==void 0?T:Wu,strokeStyle:Qi(y||Hu)}}const i=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),l=e.getRotateWithView(),c=e.getRotation(),d=e.getScaleArray(),h=e.getText(),f=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:i!==void 0?i:bk,textAlign:f!==void 0?f:Xu,textBaseline:p!==void 0?p:Jf},this.text_=h!==void 0?Array.isArray(h)?h.reduce((y,v,w)=>y+=w%2?" ":v,""):h:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=l!==void 0?l:!1,this.textRotation_=c!==void 0?c:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}}const Zi=.5;function GB(t,e,n,r,i,s,o){const l=t[0]*Zi,c=t[1]*Zi,d=fr(l,c);d.imageSmoothingEnabled=!1;const h=d.canvas,f=new BB(d,Zi,i,null,o),p=n.length,y=Math.floor((256*256*256-1)/p),v={};for(let C=1;C<=p;++C){const b=n[C-1],R=b.getStyleFunction()||r;if(!r)continue;let T=R(b,s);if(!T)continue;Array.isArray(T)||(T=[T]);const k=(C*y).toString(16).padStart(7,"#00000");for(let M=0,F=T.length;M<F;++M){const I=T[M],z=I.getGeometryFunction()(b);if(!z||!dr(i,z.getExtent()))continue;const G=I.clone(),V=G.getFill();V&&V.setColor(k);const H=G.getStroke();H&&(H.setColor(k),H.setLineDash(null)),G.setText(void 0);const B=I.getImage();if(B&&B.getOpacity()!==0){const D=B.getImageSize();if(!D)continue;const j=fr(D[0],D[1],void 0,{alpha:!1}),U=j.canvas;j.fillStyle=k,j.fillRect(0,0,U.width,U.height),G.setImage(new eg({img:U,imgSize:D,anchor:B.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:B.getOrigin(),opacity:1,size:B.getSize(),scale:B.getScale(),rotation:B.getRotation(),rotateWithView:B.getRotateWithView()}))}const X=G.getZIndex()||0;let Z=v[X];Z||(Z={},v[X]=Z,Z.Polygon=[],Z.Circle=[],Z.LineString=[],Z.Point=[]);const Y=z.getType();if(Y==="GeometryCollection"){const D=z.getGeometriesArrayRecursive();for(let j=0,U=D.length;j<U;++j){const q=D[j];Z[q.getType().replace("Multi","")].push(q,G)}}else Z[Y.replace("Multi","")].push(z,G)}}const w=Object.keys(v).map(Number).sort(Aa);for(let C=0,b=w.length;C<b;++C){const R=v[w[C]];for(const T in R){const P=R[T];for(let k=0,M=P.length;k<M;k+=2){f.setStyle(P[k+1]);for(let F=0,I=e.length;F<I;++F)f.setTransform(e[F]),f.drawGeometry(P[k])}}}return d.getImageData(0,0,h.width,h.height)}function UB(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*Zi),s=Math.floor(Math.round(t[1])*Zi),o=(Sn(i,0,n.width-1)+Sn(s,0,n.height-1)*n.width)*4,l=n.data[o],c=n.data[o+1],h=n.data[o+2]+256*(c+256*l),f=Math.floor((256*256*256-1)/e.length);h&&h%f===0&&r.push(e[h/f-1])}return r}const WB=.5,Nk={Point:eG,LineString:qB,Polygon:nG,MultiPoint:tG,MultiLineString:JB,MultiPolygon:QB,GeometryCollection:ZB,Circle:KB};function HB(t,e){return parseInt(tt(t),10)-parseInt(tt(e),10)}function XB(t,e){const n=K0(t,e);return n*n}function K0(t,e){return WB*t/e}function KB(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const c=t.getBuilder(n.getZIndex(),"Circle");c.setFillStrokeStyle(s,o),c.drawCircle(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}function Db(t,e,n,r,i,s,o){let l=!1;const c=n.getImage();if(c){const d=c.getImageState();d==Mn.LOADED||d==Mn.ERROR?c.unlistenImageChange(i):(d==Mn.IDLE&&c.load(),c.listenImageChange(i),l=!0)}return YB(t,e,n,r,s,o),l}function YB(t,e,n,r,i,s){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(r,i);if(n.getRenderer())Fk(t,l,n,e);else{const d=Nk[l.getType()];d(t,l,n,e,s)}}function Fk(t,e,n,r){if(e.getType()=="GeometryCollection"){const s=e.getGeometries();for(let o=0,l=s.length;o<l;++o)Fk(t,s[o],n,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer())}function ZB(t,e,n,r,i){const s=e.getGeometriesArray();let o,l;for(o=0,l=s.length;o<l;++o){const c=Nk[s[o].getType()];c(t,s[o],n,r,i)}}function qB(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function JB(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawMultiLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function QB(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(o||s){const c=t.getBuilder(n.getZIndex(),"Polygon");c.setFillStrokeStyle(s,o),c.drawMultiPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}function eG(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=Mn.LOADED)return;let c=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(c=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawPoint(e,r)}else o&&o.getText()&&(l={})}const d=c.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawPoint(e,r)}if(o&&o.getText()){let c=t;i&&(c=i);const d=c.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function tG(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=Mn.LOADED)return;let c=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(c=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawMultiPoint(e,r)}else o&&o.getText()&&(l={})}const d=c.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawMultiPoint(e,r)}if(o&&o.getText()){let c=t;i&&(c=i);const d=c.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function nG(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const c=t.getBuilder(n.getZIndex(),"Polygon");c.setFillStrokeStyle(s,o),c.drawPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}class rG extends Ik{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Wr(),this.wrappedRenderedExtent_=Wr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,o=s.center,l=s.resolution,c=s.projection,d=s.rotation,h=c.getExtent(),f=this.getLayer().getSource(),p=n.pixelRatio,y=n.viewHints,v=!(y[nr.ANIMATING]||y[nr.INTERACTING]),w=this.compositionContext_,C=Math.round(n.size[0]*p),b=Math.round(n.size[1]*p),R=f.getWrapX()&&c.canWrapX(),T=R?Zt(h):null,P=R?Math.ceil((i[2]-h[2])/T)+1:1;let k=R?Math.floor((i[0]-h[0])/T):0;do{const M=this.getRenderTransform(o,l,d,p,C,b,k*T);e.execute(w,1,M,d,v,void 0,r)}while(++k<P)}setupCompositionContext_(){if(this.opacity_!==1){const e=fr(this.context.canvas.width,this.context.canvas.height,Nb);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,qm(this.compositionContext_),Nb.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,n){const r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];kz(this.pixelTransform,1/r,1/r),Sv(this.inversePixelTransform,this.pixelTransform);const s=DP(this.pixelTransform);this.useContainer(n,s,this.getBackground(e));const o=this.context,l=o.canvas,c=this.replayGroup_,d=this.declutterExecutorGroup;if((!c||c.isEmpty())&&(!d||d.isEmpty()))return null;const h=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);l.width!=h||l.height!=f?(l.width=h,l.height=f,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||o.clearRect(0,0,h,f),this.preRender(o,e);const p=e.viewState;p.projection,this.opacity_=i.opacity,this.setupCompositionContext_();let y=!1,v=!0;if(i.extent&&this.clipping){const w=_o(i.extent);v=dr(w,e.extent),y=v&&!ma(w,e.extent),y&&this.clipUnrotated(this.compositionContext_,e,w)}return v&&this.renderWorlds(c,e),y&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];On(this.pixelTransform,r);const i=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,l=this.renderedProjection_,c=this.wrappedRenderedExtent_,d=this.getLayer(),h=[],f=r[0]*Zi,p=r[1]*Zi;h.push(this.getRenderTransform(i,s,o,Zi,f,p,0).slice());const y=d.getSource(),v=l.getExtent();if(y.getWrapX()&&l.canWrapX()&&!ma(v,c)){let w=c[0];const C=Zt(v);let b=0,R;for(;w<v[0];)--b,R=C*b,h.push(this.getRenderTransform(i,s,o,Zi,f,p,R).slice()),w+=C;for(b=0,w=c[2];w>v[2];)++b,R=C*b,h.push(this.getRenderTransform(i,s,o,Zi,f,p,R).slice()),w-=C}this.hitDetectionImageData_=GB(r,h,this.renderedFeatures_,d.getStyleFunction(),c,s,o)}n(UB(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){if(!this.replayGroup_)return;const o=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),d={},h=function(y,v,w){const C=tt(y),b=d[C];if(b){if(b!==!0&&w<b.distanceSq){if(w===0)return d[C]=!0,s.splice(s.lastIndexOf(b),1),i(y,c,v);b.geometry=v,b.distanceSq=w}}else{if(w===0)return d[C]=!0,i(y,c,v);s.push(d[C]={feature:y,layer:c,geometry:v,distanceSq:w,callback:i})}};let f;const p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(y=>f=y.forEachFeatureAtCoordinate(e,o,l,r,h,y===this.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(v=>v.value):null)),f}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[nr.ANIMATING],s=e.viewHints[nr.INTERACTING],o=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(this.ready&&!o&&i||!l&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const c=e.extent,d=e.viewState,h=d.projection,f=d.resolution,p=e.pixelRatio,y=n.getRevision(),v=n.getRenderBuffer();let w=n.getRenderOrder();w===void 0&&(w=HB);const C=d.center.slice(),b=vd(c,v*f),R=b.slice(),T=[b.slice()],P=h.getExtent();if(r.getWrapX()&&h.canWrapX()&&!ma(P,e.extent)){const Z=Zt(P),Y=Math.max(Zt(b)/2,Z);b[0]=P[0]-Y,b[2]=P[2]+Y,KP(C,h);const D=GP(T[0],h);D[0]<P[0]&&D[2]<P[2]?T.push([D[0]+Z,D[1],D[2]+Z,D[3]]):D[0]>P[0]&&D[2]>P[2]&&T.push([D[0]-Z,D[1],D[2]-Z,D[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==y&&this.renderedRenderOrder_==w&&ma(this.wrappedRenderedExtent_,b))return Bs(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const k=new Ib(K0(f,p),b,f,p);let M;this.getLayer().getDeclutter()&&(M=new Ib(K0(f,p),b,f,p));let F;for(let Z=0,Y=T.length;Z<Y;++Z)r.loadFeatures(T[Z],f,h);const I=XB(f,p);let z=!0;const G=Z=>{let Y;const D=Z.getStyleFunction()||n.getStyleFunction();if(D&&(Y=D(Z,f)),Y){const j=this.renderFeature(Z,I,Y,k,F,M);z=z&&!j}},V=Iv(b),H=r.getFeaturesInExtent(V);w&&H.sort(w);for(let Z=0,Y=H.length;Z<Y;++Z)G(H[Z]);this.renderedFeatures_=H,this.ready=z;const B=k.finish(),X=new Lb(b,f,p,r.getOverlaps(),B,n.getRenderBuffer());return M&&(this.declutterExecutorGroup=new Lb(b,f,p,r.getOverlaps(),M.finish(),n.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=y,this.renderedRenderOrder_=w,this.renderedExtent_=R,this.wrappedRenderedExtent_=b,this.renderedCenter_=C,this.renderedProjection_=h,this.replayGroup_=X,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,o){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let c=0,d=r.length;c<d;++c)l=Db(i,e,r[c],n,this.boundHandleStyleImageChange_,s,o)||l;else l=Db(i,e,r,n,this.boundHandleStyleImageChange_,s,o);return l}}class cs extends PB{constructor(e){super(e)}createRenderer(){return new rG(this)}}const bi={modeRef:{current:null},onFinishCallback:{current:null}};function iG(){const[t,e]=_.useState(null),[n,r]=_.useState(0),[i,s]=_.useState("Click para colocar el primer vértice");return{polygonMode:t,setMode:c=>{bi.modeRef.current=c,e(c)},resetPolygonState:()=>{bi.modeRef.current=null,bi.onFinishCallback.current=null,e(null),r(0),s("Click para colocar el primer vértice")},area:n,setArea:r,tooltipText:i,setTooltipText:s}}function Eu(t){if(!t)return 0;try{return Um(t,{projection:"EPSG:3857"})}catch{return 0}}const ir={base:new ln({stroke:new xn({color:"#FFFFFF",width:5}),fill:new kn({color:"rgba(255, 255, 255, 0.05)"})}),draw:new ln({stroke:new xn({color:"#FF4D00",width:4,lineDash:[0,0,10,10]}),fill:new kn({color:"rgba(255, 77, 0, 0.2)"})}),edit:new ln({stroke:new xn({color:"#00FFFF",width:4,lineDash:[0,0,10,10]}),fill:new kn({color:"rgba(0, 255, 255, 0.15)"})}),vertexEdit:new ln({image:new zr({radius:6,fill:new kn({color:"#00FFFF"}),stroke:new xn({color:"#FFFFFF",width:3})})}),vertexIntermediate:new ln({image:new zr({radius:4.5,fill:new kn({color:"#777777"}),stroke:new xn({color:"#FFFFFF",width:2.5})})}),vertexDelete:new ln({image:new zr({radius:6,fill:new kn({color:"#860000"}),stroke:new xn({color:"#FF0000",width:4})})}),vertexDraw:new ln({image:new zr({radius:6,fill:new kn({color:"#FF4D00"}),stroke:new xn({color:"#FFFFFF",width:3})})}),previewVertex:new ln({image:new zr({radius:6,fill:new kn({color:"#777777"}),stroke:new xn({color:"#FFFFFF",width:3})})}),previewVertexSnap:new ln({image:new zr({radius:6,fill:new kn({color:"#FFFFFF"}),stroke:new xn({color:"#FF4D00",width:3})})}),previewLine:new ln({stroke:new xn({color:"#FF8300",width:4,lineDash:[0,0,10,10]})})};function Hv({mapRef:t,parcelas:e,formData:n,clearEdit:r,activateEditMode:i,getCreatedFeature:s,setFormData:o,setAreaCampo:l,setAreaParcela:c,enabled:d=!0,modoVisualizacionCampo:h=!1,onSelectFeature:f=null}){const p=_.useRef(null),y=_.useRef([]),v=()=>{const b=t.current;b&&(y.current.forEach(R=>b.removeLayer(R)),y.current=[],b.getLayers().getArray().forEach(R=>{var P;((P=R.getStyle)==null?void 0:P.call(R))===ir.edit&&b.removeLayer(R)}))},w=b=>{var P;if(["draw","draw-edit"].includes(bi.modeRef.current))return;const R=t.current;if(!R)return;const T=s();if((P=T==null?void 0:T.getGeometry())!=null&&P.intersectsCoordinate(b.coordinate)){r(),i(T);return}R.forEachFeatureAtPixel(b.pixel,k=>{if(!k||!k.getGeometry())return;const M=k.getGeometry().getType();if(M!=="Polygon"&&M!=="MultiPolygon")return;const F=k.getId()||k.get("parcela_id"),I=n.campo_id,z=(e[I]||[]).find(G=>G.id==F);if(z){o(h?G=>({...G,parcela_id:z.id}):{campo_id:I,parcela_id:z.id,nombre:z.nombre||"",descripcion:z.descripcion||""});try{const G=k.clone();G.setId(z.id),i(G);try{const V=k.clone();V.setId(z.id),i(V),typeof f=="function"&&f(V,z)}catch(V){console.error("Error al clonar feature:",V)}}catch(G){console.error("Error al clonar feature:",G)}}})},C=()=>{const b=t.current;if(!b||!n.campo_id)return;r(),v(),p.current&&(b.un("click",p.current),p.current=null),h||(b.on("click",w),p.current=w);const R=e[n.campo_id]||[],T=new mk;let P=0;if(h){R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const F=new js({features:[M]}),I=new cs({source:F,style:ir.base});b.addLayer(I),y.current.push(I),P+=Eu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),c(0);return}if(n.parcela_id===""||n.parcela_id==="temporal")R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const F=new js({features:[M]}),I=new cs({source:F,style:ir.base});b.addLayer(I),y.current.push(I),P+=Eu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),c(0);else{const k=R.find(M=>M.id==n.parcela_id);if(k)try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id),i(M);const F=Eu(M.getGeometry());c(F),typeof f=="function"&&f(M,k)}catch(M){console.error("Error leyendo feature seleccionada:",M)}}};return _.useEffect(()=>{if(d)return C(),()=>{v(),p.current&&t.current&&(t.current.un("click",p.current),p.current=null)}},[n.campo_id,n.parcela_id,e]),{setFeaturesOnMap:C,clearParcelas:v}}function Xv(t){_.useEffect(()=>()=>{typeof t=="function"&&t()},[])}const Cd=_.createContext(null);function sG({children:t}){const e=_.useRef(null),[n,r]=_.useState(!1),i=_.useCallback(()=>{const s=document.getElementById("map");s&&e.current&&(e.current.setTarget(null),e.current=null,s.innerHTML="",r(!1))},[]);return _.useEffect(()=>{const s=new ResizeObserver(()=>{const l=document.getElementById("map");(l==null?void 0:l.offsetWidth)>0&&(l==null?void 0:l.offsetHeight)>0&&!e.current&&r(!0)}),o=document.getElementById("map");return o&&s.observe(o),()=>s.disconnect()},[]),g.jsx(Cd.Provider,{value:{mapRef:e,ready:n,resetMap:i},children:g.jsxs("div",{className:"relative w-full h-full flex-grow overflow-hidden",children:[g.jsx("div",{id:"map",className:"absolute inset-0 z-0",children:g.jsx("div",{id:"popup-cluster-container",className:"min-w-[250px]"})}),n&&t]})})}const bd=_.createContext();function oG({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(null);return g.jsx(bd.Provider,{value:{campoSeleccionado:e,setCampoSeleccionado:n,lastCampoId:r,setLastCampoId:i},children:t})}class yo extends Di{constructor(e,n){super(e),this.layer=n}}const Ny={LAYERS:"layers"};class fc extends xk{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Ny.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Gr(r.slice(),{unique:!0}):at(typeof r.getArray=="function",43):r=new Gr(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ut),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(pt(e,wn.ADD,this.handleLayersAdd_,this),pt(e,wn.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(Ut);hc(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new yo("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[pt(e,Wl.PROPERTYCHANGE,this.handleLayerChange_,this),pt(e,et.CHANGE,this.handleLayerChange_,this)];e instanceof fc&&n.push(pt(e,"addlayer",this.handleLayerGroupAdd_,this),pt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[tt(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new yo("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new yo("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new yo("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=tt(n);this.listenerKeys_[r].forEach(Ut),delete this.listenerKeys_[r],this.dispatchEvent(new yo("removelayer",n)),this.changed()}getLayers(){return this.get(Ny.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new yo("removelayer",r[i]))}this.set(Ny.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let o=r,l=n.length;o<l;o++){const c=n[o];c.opacity*=i.opacity,c.visible=c.visible&&i.visible,c.maxResolution=Math.min(c.maxResolution,i.maxResolution),c.minResolution=Math.max(c.minResolution,i.minResolution),c.minZoom=Math.max(c.minZoom,i.minZoom),c.maxZoom=Math.min(c.maxZoom,i.maxZoom),i.extent!==void 0&&(c.extent!==void 0?c.extent=Cu(c.extent,i.extent):c.extent=i.extent),c.zIndex===void 0&&(c.zIndex=s)}return n}getSourceState(){return"ready"}}const He={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class jk extends Vm{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(et.CHANGE)}release(){this.state===He.ERROR&&this.setState(He.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==He.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(e.getState()==He.LOADED){e.interimTile=null;break}else e.getState()==He.LOADING?n=e:e.getState()==He.IDLE?n.interimTile=e.interimTile:n=e;e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==He.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Qe()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:vk(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class Lk extends jk{constructor(e,n,r,i,s,o){super(e,n,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=He.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=He.ERROR,this.unlistenImage_(),this.image_=aG(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=He.LOADED:this.state=He.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==He.ERROR&&(this.state=He.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==He.IDLE&&(this.state=He.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Pk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function aG(){const t=fr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const lG=.5,cG=10,Ob=.25;class uG{constructor(e,n,r,i,s,o){this.sourceProj_=e,this.targetProj_=n;let l={};const c=Wf(this.targetProj_,this.sourceProj_);this.transformInv_=function(R){const T=R[0]+"/"+R[1];return l[T]||(l[T]=c(R)),l[T]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Zt(i)==Zt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Zt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Zt(this.targetProj_.getExtent()):null;const d=Ga(r),h=Gm(r),f=Bm(r),p=$m(r),y=this.transformInv_(d),v=this.transformInv_(h),w=this.transformInv_(f),C=this.transformInv_(p),b=cG+(o?Math.max(0,Math.ceil(Math.log2(j0(r)/(o*o*256*256)))):0);if(this.addQuad_(d,h,f,p,y,v,w,C,b),this.wrapsXInSource_){let R=1/0;this.triangles_.forEach(function(T,P,k){R=Math.min(R,T.source[0][0],T.source[1][0],T.source[2][0])}),this.triangles_.forEach(T=>{if(Math.max(T.source[0][0],T.source[1][0],T.source[2][0])-R>this.sourceWorldWidth_/2){const P=[[T.source[0][0],T.source[0][1]],[T.source[1][0],T.source[1][1]],[T.source[2][0],T.source[2][1]]];P[0][0]-R>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-R>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-R>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);const k=Math.min(P[0][0],P[1][0],P[2][0]);Math.max(P[0][0],P[1][0],P[2][0])-k<this.sourceWorldWidth_/2&&(T.source=P)}})}l={}}addTriangle_(e,n,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[e,n,r]})}addQuad_(e,n,r,i,s,o,l,c,d){const h=pi([s,o,l,c]),f=this.sourceWorldWidth_?Zt(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&f>.5&&f<1;let v=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=pi([e,n,r,i]);v=Zt(C)/this.targetWorldWidth_>Ob||v}!y&&this.sourceProj_.isGlobal()&&f&&(v=f>Ob||v)}if(!v&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!dr(h,this.maxSourceExtent_))return;let w=0;if(!v&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1]))){if(d>0)v=!0;else if(w=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(d>0){if(!v){const C=[(e[0]+r[0])/2,(e[1]+r[1])/2],b=this.transformInv_(C);let R;y?R=(ba(s[0],p)+ba(l[0],p))/2-ba(b[0],p):R=(s[0]+l[0])/2-b[0];const T=(s[1]+l[1])/2-b[1];v=R*R+T*T>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const C=[(n[0]+r[0])/2,(n[1]+r[1])/2],b=this.transformInv_(C),R=[(i[0]+e[0])/2,(i[1]+e[1])/2],T=this.transformInv_(R);this.addQuad_(e,n,C,R,s,o,b,T,d-1),this.addQuad_(R,C,r,i,T,b,l,c,d-1)}else{const C=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(C),R=[(r[0]+i[0])/2,(r[1]+i[1])/2],T=this.transformInv_(R);this.addQuad_(e,C,R,i,s,b,T,c,d-1),this.addQuad_(C,n,r,R,b,o,l,T,d-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(e,r,i,s,l,c),(w&14)==0&&this.addTriangle_(e,r,n,s,l,o),w&&((w&13)==0&&this.addTriangle_(n,i,e,o,c,s),(w&7)==0&&this.addTriangle_(n,i,r,o,c,l))}calculateSourceExtent(){const e=Wr();return this.triangles_.forEach(function(n,r,i){const s=n.source;Su(e,s[0]),Su(e,s[1]),Su(e,s[2])}),e}getTriangles(){return this.triangles_}}let Fy;const $l=[];function Vb(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function jy(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function dG(){if(Fy===void 0){const t=fr(6,6,$l);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Vb(t,4,5,4,0),Vb(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Fy=jy(e,0)||jy(e,4)||jy(e,8),qm(t),$l.push(t.canvas)}return Fy}function zb(t,e,n,r){const i=Mv(n,e,t);let s=sb(e,r,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const l=t.getMetersPerUnit();l!==void 0&&(s/=l);const c=t.getExtent();if(!c||zm(c,i)){const d=sb(t,s,i)/s;isFinite(d)&&d>0&&(s/=d)}return s}function hG(t,e,n,r){const i=ko(n);let s=zb(t,e,i,r);return(!isFinite(s)||s<=0)&&BP(n,function(o){return s=zb(t,e,o,r),isFinite(s)&&s>0}),s}function fG(t,e,n,r,i,s,o,l,c,d,h,f){const p=fr(Math.round(n*t),Math.round(n*e),$l);if(f||(p.imageSmoothingEnabled=!1),c.length===0)return p.canvas;p.scale(n,n);function y(P){return Math.round(P*n)/n}p.globalCompositeOperation="lighter";const v=Wr();c.forEach(function(P,k,M){zP(v,P.extent)});const w=Zt(v),C=ls(v),b=fr(Math.round(n*w/r),Math.round(n*C/r),$l);f||(b.imageSmoothingEnabled=!1);const R=n/r;c.forEach(function(P,k,M){const F=P.extent[0]-v[0],I=-(P.extent[3]-v[3]),z=Zt(P.extent),G=ls(P.extent);P.image.width>0&&P.image.height>0&&b.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,F*R,I*R,z*R,G*R)});const T=Ga(o);return l.getTriangles().forEach(function(P,k,M){const F=P.source,I=P.target;let z=F[0][0],G=F[0][1],V=F[1][0],H=F[1][1],B=F[2][0],X=F[2][1];const Z=y((I[0][0]-T[0])/s),Y=y(-(I[0][1]-T[1])/s),D=y((I[1][0]-T[0])/s),j=y(-(I[1][1]-T[1])/s),U=y((I[2][0]-T[0])/s),q=y(-(I[2][1]-T[1])/s),N=z,L=G;z=0,G=0,V-=N,H-=L,B-=N,X-=L;const re=[[V,H,0,0,D-Z],[B,X,0,0,U-Z],[0,0,V,H,j-Y],[0,0,B,X,q-Y]],ie=Hz(re);if(ie){if(p.save(),p.beginPath(),dG()||!f){p.moveTo(D,j);const ce=4,ge=Z-D,ae=Y-j;for(let pe=0;pe<ce;pe++)p.lineTo(D+y((pe+1)*ge/ce),j+y(pe*ae/(ce-1))),pe!=ce-1&&p.lineTo(D+y((pe+1)*ge/ce),j+y((pe+1)*ae/(ce-1)));p.lineTo(U,q)}else p.moveTo(D,j),p.lineTo(Z,Y),p.lineTo(U,q);p.clip(),p.transform(ie[0],ie[2],ie[1],ie[3],Z,Y),p.translate(v[0]-N,v[3]-L),p.scale(r/n,-r/n),p.drawImage(b.canvas,0,0),p.restore()}}),qm(b),$l.push(b.canvas),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,l.getTriangles().forEach(function(P,k,M){const F=P.target,I=(F[0][0]-T[0])/s,z=-(F[0][1]-T[1])/s,G=(F[1][0]-T[0])/s,V=-(F[1][1]-T[1])/s,H=(F[2][0]-T[0])/s,B=-(F[2][1]-T[1])/s;p.beginPath(),p.moveTo(G,V),p.lineTo(I,z),p.lineTo(H,B),p.closePath(),p.stroke()}),p.restore()),p.canvas}class Y0 extends jk{constructor(e,n,r,i,s,o,l,c,d,h,f,p){super(s,He.IDLE,{interpolate:!!p}),this.renderEdges_=f!==void 0?f:!1,this.pixelRatio_=l,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const y=i.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const C=v?Cu(y,v):y;if(j0(C)===0){this.state=He.EMPTY;return}const b=e.getExtent();b&&(w?w=Cu(w,b):w=b);const R=i.getResolution(this.wrappedTileCoord_[0]),T=hG(e,r,C,R);if(!isFinite(T)||T<=0){this.state=He.EMPTY;return}const P=h!==void 0?h:lG;if(this.triangulation_=new uG(e,r,C,w,T*P,R),this.triangulation_.getTriangles().length===0){this.state=He.EMPTY;return}this.sourceZ_=n.getZForResolution(T);let k=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(k[1]=Sn(k[1],w[1],w[3]),k[3]=Sn(k[3],w[1],w[3])):k=Cu(k,w)),!j0(k))this.state=He.EMPTY;else{const M=n.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let F=M.minX;F<=M.maxX;F++)for(let I=M.minY;I<=M.maxY;I++){const z=d(this.sourceZ_,F,I,l);z&&this.sourceTiles_.push(z)}this.sourceTiles_.length===0&&(this.state=He.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==He.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=He.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],o=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=fG(i,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=He.LOADED}this.changed()}load(){if(this.state==He.IDLE){this.state=He.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==He.IDLE||r==He.LOADING){e++;const i=pt(n,et.CHANGE,function(s){const o=n.getState();(o==He.LOADED||o==He.ERROR||o==He.EMPTY)&&(Ut(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==He.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ut),this.sourcesListenerKeys_=null}release(){this.canvas_&&(qm(this.canvas_.getContext("2d")),$l.push(this.canvas_),this.canvas_=null),super.release()}}class Kv{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function vl(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new Kv(t,e,n,r)}class mG extends Ik{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Wr(),this.tmpTileRange_=new Kv(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==He.LOADED||r==He.EMPTY||r==He.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,o=i.viewState.projection,l=this.getLayer();let d=l.getSource().getTile(e,n,r,s,o);return d.getState()==He.ERROR&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(d)||(d=d.getInterimTile()),d}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=On(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!zm(s,i))return null;const o=n.pixelRatio,l=n.viewState.projection,c=n.viewState,d=r.getRenderSource(),h=d.getTileGridForProjection(c.projection),f=d.getTilePixelRatio(n.pixelRatio);for(let p=h.getZForResolution(c.resolution);p>=h.getMinZoom();--p){const y=h.getTileCoordForCoordAndZ(i,p),v=d.getTile(p,y[1],y[2],o,l);if(!(v instanceof Lk||v instanceof Y0)||v instanceof Y0&&v.getState()===He.EMPTY)return null;if(v.getState()!==He.LOADED)continue;const w=h.getOrigin(p),C=Br(h.getTileSize(p)),b=h.getResolution(p),R=Math.floor(f*((i[0]-w[0])/b-y[1]*C[0])),T=Math.floor(f*((w[1]-i[1])/b-y[2]*C[1])),P=Math.round(f*d.getGutterForProjection(c.projection));return this.getImageData(v.getImage(),R+P,T+P)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,o=i.resolution,l=i.center,c=i.rotation,d=e.pixelRatio,h=this.getLayer(),f=h.getSource(),p=f.getRevision(),y=f.getTileGridForProjection(s),v=y.getZForResolution(o,f.zDirection),w=y.getResolution(v);let C=e.extent;const b=e.viewState.resolution,R=f.getTilePixelRatio(d),T=Math.round(Zt(C)/b*d),P=Math.round(ls(C)/b*d),k=r.extent&&_o(r.extent);k&&(C=Cu(C,_o(r.extent)));const M=w*T/2/R,F=w*P/2/R,I=[l[0]-M,l[1]-F,l[0]+M,l[1]+F],z=y.getTileRangeForExtentAndZ(C,v),G={};G[v]={};const V=this.createLoadedTileFinder(f,s,G),H=this.tmpExtent,B=this.tmpTileRange_;this.newTiles_=!1;const X=c?D0(i.center,b,c,e.size):void 0;for(let re=z.minX;re<=z.maxX;++re)for(let ie=z.minY;ie<=z.maxY;++ie){if(c&&!y.tileCoordIntersectsViewport([v,re,ie],X))continue;const ce=this.getTile(v,re,ie,e);if(this.isDrawableTile(ce)){const pe=tt(this);if(ce.getState()==He.LOADED){G[v][ce.tileCoord.toString()]=ce;let we=ce.inTransition(pe);we&&r.opacity!==1&&(ce.endTransition(pe),we=!1),!this.newTiles_&&(we||!this.renderedTiles.includes(ce))&&(this.newTiles_=!0)}if(ce.getAlpha(pe,e.time)===1)continue}const ge=y.getTileCoordChildTileRange(ce.tileCoord,B,H);let ae=!1;ge&&(ae=V(v+1,ge)),ae||y.forEachTileCoordParentTileRange(ce.tileCoord,V,B,H)}const Z=w/o*d/R;Po(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,c,-T/2,-P/2);const Y=DP(this.pixelTransform);this.useContainer(n,Y,this.getBackground(e));const D=this.context,j=D.canvas;Sv(this.inversePixelTransform,this.pixelTransform),Po(this.tempTransform,T/2,P/2,Z,Z,0,-T/2,-P/2),j.width!=T||j.height!=P?(j.width=T,j.height=P):this.containerReused||D.clearRect(0,0,T,P),k&&this.clipUnrotated(D,e,k),f.getInterpolate()||(D.imageSmoothingEnabled=!1),this.preRender(D,e),this.renderedTiles.length=0;let U=Object.keys(G).map(Number);U.sort(Aa);let q,N,L;r.opacity===1&&(!this.containerReused||f.getOpaque(e.viewState.projection))?U=U.reverse():(q=[],N=[]);for(let re=U.length-1;re>=0;--re){const ie=U[re],ce=f.getTilePixelSize(ie,d,s),ae=y.getResolution(ie)/w,pe=ce[0]*ae*Z,we=ce[1]*ae*Z,be=y.getTileCoordForCoordAndZ(Ga(I),ie),$e=y.getTileCoordExtent(be),Ve=On(this.tempTransform,[R*($e[0]-I[0])/w,R*(I[3]-$e[3])/w]),yt=R*f.getGutterForProjection(s),mt=G[ie];for(const Wt in mt){const Dt=mt[Wt],Ot=Dt.tileCoord,zn=be[1]-Ot[1],lt=Math.round(Ve[0]-(zn-1)*pe),$=be[2]-Ot[2],J=Math.round(Ve[1]-($-1)*we),te=Math.round(Ve[0]-zn*pe),fe=Math.round(Ve[1]-$*we),he=lt-te,se=J-fe,ye=v===ie,je=ye&&Dt.getAlpha(tt(this),e.time)!==1;let ze=!1;if(!je)if(q){L=[te,fe,te+he,fe,te+he,fe+se,te,fe+se];for(let xt=0,Vt=q.length;xt<Vt;++xt)if(v!==ie&&ie<N[xt]){const ft=q[xt];dr([te,fe,te+he,fe+se],[ft[0],ft[3],ft[4],ft[7]])&&(ze||(D.save(),ze=!0),D.beginPath(),D.moveTo(L[0],L[1]),D.lineTo(L[2],L[3]),D.lineTo(L[4],L[5]),D.lineTo(L[6],L[7]),D.moveTo(ft[6],ft[7]),D.lineTo(ft[4],ft[5]),D.lineTo(ft[2],ft[3]),D.lineTo(ft[0],ft[1]),D.clip())}q.push(L),N.push(ie)}else D.clearRect(te,fe,he,se);this.drawTileImage(Dt,e,te,fe,he,se,yt,ye),q&&!je?(ze&&D.restore(),this.renderedTiles.unshift(Dt)):this.renderedTiles.push(Dt),this.updateUsedTiles(e.usedTiles,f,Dt)}}return this.renderedRevision=p,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!Ou(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=d,this.renderedProjection=s,this.manageTilePyramid(e,f,y,d,s,C,v,h.getPreload()),this.scheduleExpireCache(e,f),this.postRender(D,e),r.extent&&D.restore(),D.imageSmoothingEnabled=!0,Y!==j.style.transform&&(j.style.transform=Y),this.container}drawTileImage(e,n,r,i,s,o,l,c){const d=this.getTileImage(e);if(!d)return;const h=tt(this),f=n.layerStatesArray[n.layerIndex],p=f.opacity*(c?e.getAlpha(h,n.time):1),y=p!==this.context.globalAlpha;y&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(d,l,l,d.width-2*l,d.height-2*l,r,i,s,o),y&&this.context.restore(),p!==f.opacity?n.animate=!0:c&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=(function(i,s,o){const l=tt(i);l in o.usedTiles&&i.expireCache(o.viewState.projection,o.usedTiles[l])}).bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=tt(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,o,l,c,d){const h=tt(n);h in e.wantedTiles||(e.wantedTiles[h]={});const f=e.wantedTiles[h],p=e.tileQueue,y=r.getMinZoom(),v=e.viewState.rotation,w=v?D0(e.viewState.center,e.viewState.resolution,v,e.size):void 0;let C=0,b,R,T,P,k,M;for(M=y;M<=l;++M)for(R=r.getTileRangeForExtentAndZ(o,M,R),T=r.getResolution(M),P=R.minX;P<=R.maxX;++P)for(k=R.minY;k<=R.maxY;++k)v&&!r.tileCoordIntersectsViewport([M,P,k],w)||(l-M<=c?(++C,b=n.getTile(M,P,k,i,s),b.getState()==He.IDLE&&(f[b.getKey()]=!0,p.isKeyQueued(b.getKey())||p.enqueue([b,h,r.getTileCoordCenter(b.tileCoord),T])),d!==void 0&&d(b)):n.useTile(M,P,k,s));n.updateCacheSize(C,s)}}const sf={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class gG{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return at(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return at(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){at(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}function $b(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function ng(t,e,n){return t+"/"+e+"/"+n}function Dk(t){return ng(t[0],t[1],t[2])}function pG(t){return t.split("/").map(Number)}function yG(t){return(t[1]<<t[0])+t[2]}function xG(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}class Ok extends gG{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=pG(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(Dk(i.tileCoord)),i.release())})}}const _l=[0,0,0],fo=5;class Vk{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,at(pz(this.resolutions_,function(i,s){return s-i}),17);let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,at(this.origins_.length==this.resolutions_.length,20));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Ga(r)),at(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,at(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:zv,at(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(i,s){const o=new Kv(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const l=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,o=i.maxX;s<=o;++s)for(let l=i.minY,c=i.maxY;l<=c;++l)r([n,s,l])}forEachTileCoordParentTileRange(e,n,r,i){let s,o,l,c=null,d=e[0]-1;for(this.zoomFactor_===2?(o=e[1],l=e[2]):c=this.getTileCoordExtent(e,i);d>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),l=Math.floor(l/2),s=vl(o,o,l,l,r)):s=this.getTileRangeForExtentAndZ(c,d,r),n(d,s))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return vl(s,s+1,o,o+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],o=e[2];if(n===i)return vl(s,o,s,o,r);if(this.zoomFactor_){const c=Math.pow(this.zoomFactor_,n-i),d=Math.floor(s*c),h=Math.floor(o*c);if(n<i)return vl(d,d,h,h,r);const f=Math.floor(c*(s+1))-1,p=Math.floor(c*(o+1))-1;return vl(d,f,h,p,r)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,n,r)}getTileRangeExtent(e,n,r){const i=this.getOrigin(e),s=this.getResolution(e),o=Br(this.getTileSize(e),this.tmpSize_),l=i[0]+n.minX*o[0]*s,c=i[0]+(n.maxX+1)*o[0]*s,d=i[1]+n.minY*o[1]*s,h=i[1]+(n.maxY+1)*o[1]*s;return Fs(l,d,c,h,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,_l);const i=_l[1],s=_l[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,_l);const o=_l[1],l=_l[2];return vl(i,o,s,l,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Br(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=Br(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*i,l=r[1]-(e[2]+1)*s[1]*i,c=o+s[0]*i,d=l+s[1]*i;return Fs(o,l,c,d,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const o=this.getZForResolution(r),l=r/this.getResolution(o),c=this.getOrigin(o),d=Br(this.getTileSize(o),this.tmpSize_);let h=l*(e-c[0])/r/d[0],f=l*(c[1]-n)/r/d[1];return i?(h=Yh(h,fo)-1,f=Yh(f,fo)-1):(h=Kh(h,fo),f=Kh(f,fo)),$b(o,h,f,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const o=this.getOrigin(r),l=this.getResolution(r),c=Br(this.getTileSize(r),this.tmpSize_);let d=(e-o[0])/l/c[0],h=(o[1]-n)/l/c[1];return i?(d=Yh(d,fo)-1,h=Yh(h,fo)-1):(d=Kh(d,fo),h=Kh(h,fo)),$b(r,d,h,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=_v(this.resolutions_,e,n||0);return Sn(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return ok(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}const Ly={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function zk(t){let e=t.getDefaultTileGrid();return e||(e=wG(t),t.setDefaultTileGrid(e)),e}function vG(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=Yv(n);if(!zm(s,i)){const o=Zt(s),l=Math.ceil((s[0]-i[0])/o);return i[0]+=o*l,t.getTileCoordForCoordAndZ(i,r)}return e}function _G(t,e,n,r){r=r!==void 0?r:"top-left";const i=Bk(t,e,n);return new Vk({extent:t,origin:Iz(t,r),resolutions:i,tileSize:n})}function $k(t){const e=t||{},n=e.extent||Cn("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Bk(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Vk(r)}function Bk(t,e,n,r){e=e!==void 0?e:H$,n=Br(n!==void 0?n:zv);const i=ls(t),s=Zt(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const o=e+1,l=new Array(o);for(let c=0;c<o;++c)l[c]=r/Math.pow(2,c);return l}function wG(t,e,n,r){const i=Yv(t);return _G(i,e,n,r)}function Yv(t){t=Cn(t);let e=t.getExtent();if(!e){const n=180*Ev.degrees/t.getMetersPerUnit();e=Fs(-n,-n,n,n)}return e}class SG extends yk{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Br(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new Ok(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let o=!0,l,c,d;for(let h=r.minX;h<=r.maxX;++h)for(let f=r.minY;f<=r.maxY;++f)c=ng(n,h,f),d=!1,s.containsKey(c)&&(l=s.get(c),d=l.getState()===He.LOADED,d&&(d=i(l)!==!1)),d||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return Qe()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:zk(e)}getTileCacheForProjection(e){const n=this.getProjection();return at(n===null||ha(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),o=Br(i.getTileSize(e),this.tmpSize);return s==1?o:iB(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=vG(r,e,n)),xG(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class CG extends Di{constructor(e,n){super(e),this.tile=n}}function bG(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,l,c){if(o)return t.replace(n,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const d=o[0],h=e.getFullTileRange(d);return at(h,55),(h.getHeight()-o[2]-1).toString()})}}function EG(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=bG(t[i],e);return RG(r)}function RG(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=yG(e),s=ba(i,t.length);return t[s](e,n,r)}}function TG(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class Zv extends SG{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Zv.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=tt(n),i=n.getState();let s;i==He.LOADING?(this.tileLoadingKeys_[r]=!0,s=Ly.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==He.ERROR?Ly.TILELOADERROR:i==He.LOADED?Ly.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new CG(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=TG(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(EG(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=ng(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class PG extends vv{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Qe()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Po(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Sv(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,o,l,c){let d;const h=n.viewState;function f(P,k,M,F){return s.call(o,k,P?M:null,F)}const p=h.projection,y=KP(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&i){const P=p.getExtent(),k=Zt(P);v.push([-k,0],[k,0])}const w=n.layerStatesArray,C=w.length,b=[],R=[];for(let P=0;P<v.length;P++)for(let k=C-1;k>=0;--k){const M=w[k],F=M.layer;if(F.hasRenderer()&&Uv(M,h)&&l.call(c,F)){const I=F.getRenderer(),z=F.getSource();if(I&&z){const G=z.getWrapX()?y:e,V=f.bind(null,M.managed);R[0]=G[0]+v[P][0],R[1]=G[1]+v[P][1],d=I.forEachFeatureAtCoordinate(R,n,r,V,b)}if(d)return d}}if(b.length===0)return;const T=1/b.length;return b.forEach((P,k)=>P.distanceSq+=k*T),b.sort((P,k)=>P.distanceSq-k.distanceSq),b.some(P=>d=P.callback(P.feature,P.layer,P.geometry)),d}hasFeatureAtCoordinate(e,n,r,i,s,o){return this.forEachFeatureAtCoordinate(e,n,r,i,Ma,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Qe()}scheduleExpireIconCache(e){em.canExpireCache()&&e.postRenderFunctions.push(kG)}}function kG(t,e){em.expire()}class AG extends PG{constructor(e){super(e),this.fontChangeListenerKey_=pt(Ts,Wl.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Jm+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new Mk(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){Ut(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(bo.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let s=null;for(let o=0,l=n.length;o<l;++o){const c=n[o];e.layerIndex=o;const d=c.layer,h=d.getSourceState();if(!Uv(c,r)||h!="ready"&&h!="undefined"){d.unrender();continue}const f=d.render(e,s);f&&(f!==s&&(this.children_.push(f),s=f),"getDeclutter"in d&&i.push(d))}for(let o=i.length-1;o>=0;--o)i[o].renderDeclutter(e);hB(this.element_,this.children_),this.dispatchRenderEvent(bo.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}class Ml extends Di{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class mo extends Ml{constructor(e,n,r,i,s,o){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const jt={SINGLECLICK:"singleclick",CLICK:et.CLICK,DBLCLICK:et.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Z0={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class MG extends Vm{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=pt(r,Z0.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=pt(r,Z0.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(et.TOUCHMOVE,this.boundHandleTouchMove_,LP?{passive:!1}:!1)}emulateClick_(e){let n=new mo(jt.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new mo(jt.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new mo(jt.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==jt.POINTERUP||n.type==jt.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==jt.POINTERDOWN||n.type==jt.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new mo(jt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ut),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new mo(jt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(pt(r,jt.POINTERMOVE,this.handlePointerMove_,this),pt(r,jt.POINTERUP,this.handlePointerUp_,this),pt(this.element_,jt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(pt(this.element_.getRootNode(),jt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new mo(jt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new mo(jt.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ut(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(et.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ut(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ut),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ps={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},tr={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},tm=1/0;class IG{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,hc(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){at(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=tm?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],o=r[e],l=e;for(;e<i>>1;){const c=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<i&&r[d]<r[c]?d:c;n[e]=n[h],r[e]=r[h],e=h}n[e]=s,r[e]=o,this.siftDown_(l,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],o=i[n];for(;n>e;){const l=this.getParentIndex_(n);if(i[l]>o)r[n]=r[l],i[n]=i[l],n=l;else break}r[n]=s,i[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let o,l,c;for(l=0;l<s;++l)o=n[l],c=e(o),c==tm?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=c,n[i++]=o);n.length=i,r.length=i,this.heapify_()}}class NG extends IG{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(et.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===He.LOADED||r===He.ERROR||r===He.EMPTY){r!==He.ERROR&&n.removeEventListener(et.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,o;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),i=s.getState(),i===He.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,s.load())}}function FG(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return tm;const s=t.viewState.center,o=r[0]-s[0],l=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(o*o+l*l)/i}class qv extends Oi{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Zf(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Zf(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)Ut(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Hl&&this.listenerKeys.push(pt(e,Ps.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class jG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"›",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const l=e.label!==void 0?e.label:"i";typeof l=="string"?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=i):this.label_=l;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener(et.CLICK,this.handleClick_.bind(this),!1);const d=n+" "+Jm+" "+Wv+(this.collapsed_&&this.collapsible_?" "+Cb:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=d,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Bs(n,this.renderedAttributions_)){Sk(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const o=document.createElement("li");o.innerHTML=n[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Cb),this.collapsed_?Sb(this.collapseLabel_,this.label_):Sb(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class LG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"⇧",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(et.CLICK,this.handleClick_.bind(this),!1);const l=n+" "+Jm+" "+Wv,c=this.element;c.className=l,c.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(nf)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:kr}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(nf);!s&&r===0?this.element.classList.add(nf):s&&r!==0&&this.element.classList.remove(nf)}this.label_.style.transform=i}this.rotation_=r}}class DG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",l=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",c=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(et.CLICK,this.handleClick_.bind(this,r),!1);const f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=d,f.appendChild(typeof l=="string"?document.createTextNode(l):l),f.addEventListener(et.CLICK,this.handleClick_.bind(this,-r),!1);const p=n+" "+Jm+" "+Wv,y=this.element;y.className=p,y.appendChild(h),y.appendChild(f),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:kr})):r.setZoom(s)}}}function OG(t){t=t||{};const e=new Gr;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new DG(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new LG(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new jG(t.attributionOptions)),e}const Bb={ACTIVE:"active"};class mc extends Oi{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Bb.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Bb.ACTIVE,e)}setMap(e){this.map_=e}}function VG(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:Q$,center:t.getConstrainedCenter(i)})}}function Jv(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:r!==void 0?r:250,easing:kr})}class zG extends mc{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==jt.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_,l=i.getView();Jv(l,o,s,this.duration_),r.preventDefault(),n=!0}return!n}}class gc extends mc{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==jt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==jt.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==jt.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==jt.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Qv(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function q0(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const $G=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},BG=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},GG=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},Gk=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?GG(t):!0},Uk=Ma,UG=function(t){return t.type==jt.CLICK},Wk=function(t){const e=t.originalEvent;return e.button==0&&!(bz&&Ez&&e.ctrlKey)},Gb=yd,Hk=function(t){return t.type==jt.SINGLECLICK},Xk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Kk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Yk=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},kf=function(t){const e=t.originalEvent;return at(e!==void 0,56),e.pointerType=="mouse"},Zk=function(t){const e=t.originalEvent;return at(e!==void 0,56),e.isPrimary&&e.button===0};class WG extends gc{constructor(e){super({stopDown:yd}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:q0(Xk,Zk);this.condition_=e.onFocusOnly?q0(Gk,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(Qv(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],l=e.map.getView();XP(s,l.getResolution()),Tv(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),l=n.getPixelFromCoordinateInternal(o),c=n.getCoordinateFromPixelInternal([l[0]-i*Math.cos(s),l[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(c),duration:500,easing:kr})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class qk extends gc{constructor(e){e=e||{},super({stopDown:yd}),this.condition_=e.condition?e.condition:BG,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!kf(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===Gv)return;const i=n.getSize(),s=e.pixel,o=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=o}handleUpEvent(e){return kf(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return kf(e)&&Wk(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class HG extends vv{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new rr([i])}getGeometry(){return this.geometry_}}const of={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Dy extends Di{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class XG extends gc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new HG(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Wk,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Dy(of.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Dy(n?of.BOXEND:of.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Dy(of.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class KG extends XG{constructor(e){e=e||{};const n=e.condition?e.condition:Kk;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),o=r.getResolutionForExtentInternal(s),l=r.getResolution()/o;i=i.clone(),i.scale(l*l)}r.fitInternal(i,{duration:this.duration_,easing:kr})}}const ra={LEFT:37,UP:38,RIGHT:39,DOWN:40};class YG extends mc{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return Xk(n)&&Yk(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==et.KEYDOWN){const r=e.originalEvent,i=r.keyCode;if(this.condition_(e)&&(i==ra.DOWN||i==ra.LEFT||i==ra.RIGHT||i==ra.UP)){const o=e.map.getView(),l=o.getResolution()*this.pixelDelta_;let c=0,d=0;i==ra.DOWN?d=-l:i==ra.LEFT?c=-l:i==ra.RIGHT?c=l:d=l;const h=[c,d];Tv(h,o.getRotation()),VG(o,h,this.duration_),r.preventDefault(),n=!0}}return!n}}class ZG extends mc{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:Yk,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==et.KEYDOWN||e.type==et.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,o=i==="+"?this.delta_:-this.delta_,l=s.getView();Jv(l,o,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class qG{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],o=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class JG extends mc{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:Uk;this.condition_=e.onFocusOnly?q0(Gk,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==et.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==et.WHEEL&&(s=i.deltaY,Sz&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=jP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const l=r.getView();if(this.mode_==="trackpad"&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const c=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),c),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-Sn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),Jv(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class QG extends gc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=yd),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=s;const o=e.map,l=o.getView();l.getConstraints().rotation!==Gv&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Qv(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class e6 extends gc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=yd),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,o=r.clientY-i.clientY,l=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/l),this.lastDistance_=l;const c=e.map,d=c.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Qv(this.targetPointers))),c.render(),d.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Jk(t){t=t||{};const e=new Gr,n=new qG(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new qk),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new zG({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new WG({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new QG),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new e6({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new YG),e.push(new ZG({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new JG({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new KG({duration:t.zoomDuration})),e}function Qk(t){if(t instanceof Ym){t.setMapInternal(null);return}t instanceof fc&&t.getLayers().forEach(Qk)}function eA(t,e){if(t instanceof Ym){t.setMapInternal(e);return}if(t instanceof fc){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)eA(n[r],e)}}let t6=class extends Oi{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=n6(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:jP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=ns(),this.pixelToCoordinateTransform_=ns(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||OG(),this.interactions=n.interactions||Jk({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new NG(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(tr.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(tr.VIEW,this.handleViewChanged_),this.addChangeListener(tr.SIZE,this.handleSizeChanged_),this.addChangeListener(tr.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof Yi)&&e.view.then(function(i){r.setView(new Yi(i))}),this.controls.addEventListener(wn.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(wn.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(wn.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(wn.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(wn.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(wn.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){eA(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,o=r.layerFilter!==void 0?r.layerFilter:Ma,l=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,l,n,null,o,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof fc?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:Ma,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,o,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],o=r.height/i[1],l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-r.left)/s,(l.clientY-r.top)/o]}getTarget(){return this.get(tr.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return zu(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?On(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(tr.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Gr){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=An(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?On(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(tr.SIZE)}getView(){return this.get(tr.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return FG(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new mo(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===Z0.POINTERDOWN||r===et.WHEEL||r===et.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===i?i.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const o=e.viewHints;if(o[nr.ANIMATING]||o[nr.INTERACTING]){const l=Date.now()-e.time>8;i=l?0:8,s=l?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(bo.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(bo.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Ml(Ps.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Ml(Ps.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)Ut(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(et.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(et.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Zf(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new AG(this)),this.mapBrowserEventHandler_=new MG(this,this.moveTolerance_);for(const s in jt)this.mapBrowserEventHandler_.addEventListener(jt[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(et.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(et.WHEEL,this.boundHandleBrowserEvent_,LP?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[pt(r,et.KEYDOWN,this.handleBrowserEvent,this),pt(r,et.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ut(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ut(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=pt(e,Wl.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=pt(e,et.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ut),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new yo("addlayer",e)),this.layerGroupPropertyListenerKeys_=[pt(e,Wl.PROPERTYCHANGE,this.render,this),pt(e,et.CHANGE,this.render,this),pt(e,"addlayer",this.handleLayerAdd_,this),pt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Qk(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&_b(n)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:L0(l.center,l.resolution,l.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:tt(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=L0(l.nextCenter,l.nextResolution,c,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!bv(this.previousExtent_)&&!Ou(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Ml(Ps.MOVESTART,this,i)),this.previousExtent_=_d(this.previousExtent_)),this.previousExtent_&&!s.viewHints[nr.ANIMATING]&&!s.viewHints[nr.INTERACTING]&&!Ou(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Ml(Ps.MOVEEND,this,s)),OP(s.extent,this.previousExtent_))),this.dispatchEvent(new Ml(Ps.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ps.LOADSTART)||this.hasListener(Ps.LOADEND)||this.hasListener(bo.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new yo("removelayer",n)),this.set(tr.LAYERGROUP,e)}setSize(e){this.set(tr.SIZE,e)}setTarget(e){this.set(tr.TARGET,e)}setView(e){if(!e||e instanceof Yi){this.set(tr.VIEW,e);return}this.set(tr.VIEW,new Yi);const n=this;e.then(function(r){n.setView(new Yi(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[s,o],!_b(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&ZP("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!Bs(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}};function n6(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new fc({layers:t.layers});n[tr.LAYERGROUP]=r,n[tr.TARGET]=t.target,n[tr.VIEW]=t.view instanceof Yi?t.view:new Yi;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new Gr(t.controls.slice()):(at(typeof t.controls.getArray=="function",47),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new Gr(t.interactions.slice()):(at(typeof t.interactions.getArray=="function",48),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new Gr(t.overlays.slice()):(at(typeof t.overlays.getArray=="function",49),o=t.overlays):o=new Gr,{controls:i,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}class r6 extends Ym{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(sf.PRELOAD)}setPreload(e){this.set(sf.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(sf.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(sf.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class Ub extends r6{constructor(e){super(e)}createRenderer(){return new mG(this)}}class i6 extends Zv{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:s6,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Lk,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!ha(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!ha(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||ha(n,e)))return this.tileGrid;const r=tt(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=zk(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||ha(n,e))return this.tileCache;const r=tt(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new Ok(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,o){const l=[e,n,r],c=this.getTileCoordForTileUrlFunction(l,s),d=c?this.tileUrlFunction(c,i,s):void 0,h=new this.tileClass(l,d!==void 0?He.IDLE:He.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(et.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,n,r,i,s){const o=this.getProjection();if(!o||!s||ha(o,s))return this.getTileInternal(e,n,r,i,o||s);const l=this.getTileCacheForProjection(s),c=[e,n,r];let d;const h=Dk(c);l.containsKey(h)&&(d=l.get(h));const f=this.getKey();if(d&&d.key==f)return d;const p=this.getTileGridForProjection(o),y=this.getTileGridForProjection(s),v=this.getTileCoordForTileUrlFunction(c,s),w=new Y0(o,p,s,y,c,v,this.getTilePixelRatio(i),this.getGutter(),(C,b,R,T)=>this.getTileInternal(C,b,R,T,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return w.key=f,d?(w.interimTile=d,w.refreshInterimChain(),l.replace(h,w)):l.set(h,w),w}getTileInternal(e,n,r,i,s){let o=null;const l=ng(e,n,r),c=this.getKey();if(!this.tileCache.containsKey(l))o=this.createTile_(e,n,r,i,s,c),this.tileCache.set(l,o);else if(o=this.tileCache.get(l),o.key!=c){const d=o;o=this.createTile_(e,n,r,i,s,c),d.getState()==He.IDLE?o.interimTile=d.interimTile:o.interimTile=d,o.refreshInterimChain(),this.tileCache.replace(l,o)}return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=Cn(e);if(r){const i=tt(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function s6(t,e){t.getImage().src=e}const Jn={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};let nm=class extends Oi{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+fB,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Jn.ELEMENT,this.handleElementChanged),this.addChangeListener(Jn.MAP,this.handleMapChanged),this.addChangeListener(Jn.OFFSET,this.handleOffsetChanged),this.addChangeListener(Jn.POSITION,this.handlePositionChanged),this.addChangeListener(Jn.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Jn.ELEMENT)}getId(){return this.id}getMap(){return this.get(Jn.MAP)||null}getOffset(){return this.get(Jn.OFFSET)}getPosition(){return this.get(Jn.POSITION)}getPositioning(){return this.get(Jn.POSITIONING)}handleElementChanged(){Sk(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Zf(this.element),Ut(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=pt(e,Ps.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Jn.ELEMENT,e)}setMap(e){this.set(Jn.MAP,e)}setOffset(e){this.set(Jn.OFFSET,e)}setPosition(e){this.set(Jn.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Jn.POSITION))return;const r=this.getRect(n.getTargetElement(),n.getSize()),i=this.getElement(),s=this.getRect(i,[uB(i),dB(i)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!ma(r,s)){const l=s[0]-r[0],c=r[2]-s[2],d=s[1]-r[1],h=r[3]-s[3],f=[0,0];if(l<0?f[0]=l-o:c<0&&(f[0]=Math.abs(c)+o),d<0?f[1]=d-o:h<0&&(f[1]=Math.abs(h)+o),f[0]!==0||f[1]!==0){const p=n.getView().getCenterInternal(),y=n.getPixelFromCoordinateInternal(p);if(!y)return;const v=[y[0]+f[0],y[1]+f[1]],w=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(v),duration:w.duration,easing:w.easing})}}}getRect(e,n){const r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[i,s,i+n[0],s+n[1]]}setPositioning(e){this.set(Jn.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const r=e.getPixelFromCoordinate(n),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,n){const r=this.element.style,i=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const o=Math.round(e[0]+i[0])+"px",l=Math.round(e[1]+i[1])+"px";let c="0%",d="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?c="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(c="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?d="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(d="-50%");const h=`translate(${c}, ${d}) translate(${o}, ${l})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,r.transform=h)}getOptions(){return this.options}};const o6=pv("inline-flex items-center rounded-xl border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function e_({className:t,variant:e,...n}){return g.jsx("div",{className:Oe(o6({variant:e}),t),...n})}function Oy({metadata:t,onClose:e}){var C;if(!t)return null;const{nombre:n,raza:r,sexo:i,peso:s,tipo:o,estado_reproductivo:l,especie:c,campo:d,parcela:h,numero_identificacion:f,ubicacion_sensor:p,fecha_nacimiento:y,temperatura_corporal_actual:v,collar_asignado:w}=t;return g.jsxs("div",{className:"space-y-1 p-4 rounded-xl bg-white max-h-[355px] overflow-y-auto",role:"dialog","aria-label":`Información de ${n??"animal"}`,tabIndex:0,onClick:b=>b.stopPropagation(),children:[g.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx($s,{size:20})}),g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-blue-700 break-words",children:[g.jsx(Ro,{size:20})," ",n||"Animal"," (",f,")"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsx(Xi,{icon:dv,label:"Campo",value:d,color:"text-blue-800"}),g.jsx(Xi,{icon:zT,label:"Parcela",value:h,color:"text-blue-400"}),g.jsx(Xi,{icon:DT,label:"Especie",value:c,color:"text-pink-600"}),g.jsx(Xi,{icon:C4,label:"Tipo",value:o,color:"text-yellow-600"}),g.jsx(Xi,{icon:g4,label:"Raza",value:r,color:"text-orange-600"}),g.jsx(Xi,{icon:RV,label:"Peso",value:`${s} kg`,color:"text-emerald-600"}),g.jsx(Xi,{icon:tV,label:"Nacimiento",value:y,color:"text-blue-800"}),g.jsx(Xi,{icon:B4,label:"Sensor",value:p,color:"text-rose-600"}),g.jsx(Xi,{icon:D4,label:"Sexo",value:i,color:"text-indigo-600"}),g.jsx(Xi,{icon:M4,label:"Temperatura",value:v??"N/A",color:"text-red-600"})]}),g.jsx("div",{className:"grid grid-cols-1 gap-y-2 gap-x-4 mb-3",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(IV,{size:16,className:Oe("mt-0.5","text-violet-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Estado Reproductivo: "}),l]})}),w&&g.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[g.jsx("h4",{className:"text-gray-700 text-center font-semibold mb-2",children:"📡 Collar asignado"}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(WT,{size:16,className:Oe("mt-0.5","text-purple-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Código: "}),w.codigo]}),g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(uv,{size:16,className:Oe("mt-0.5","text-green-600")}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("p",{className:"font-medium leading-tight",children:"Batería y estado: "}),a6(w.estado,w.bateria)]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(BO,{size:16,className:Oe("mt-0.5","text-red-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Última actividad: "}),(C=w.ultima_actividad)==null?void 0:C.split(".")[0]]})]})]})}function Xi({icon:t,label:e,value:n,color:r="text-gray-700"}){return g.jsxs("div",{className:"flex items-start gap-2 break-words",children:[g.jsx(t,{size:16,className:Oe("mt-0.5",r)}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:"font-medium leading-tight",children:[e,":"]}),g.jsx("span",{className:"text-gray-800 leading-tight break-words whitespace-pre-wrap",children:n})]})]})}function a6(t,e){const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(wi,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(av,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(Lu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(uv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(Lu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batería";break;case"defectuoso":i=g.jsx(Vn,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 mt-0.5 py-1 rounded-xl text-xs font-medium whitespace-nowrap",o),children:[i,s]})}const Yt=_.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Oe("flex h-9 w-full rounded-xl border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Yt.displayName="Input";function l6({features:t=[],onClose:e=()=>{},onSelectAnimal:n=()=>{}}){const[r,i]=_.useState(""),s=_.useMemo(()=>t.map(o=>o.get("metadata")).filter(Boolean).filter(o=>{var c,d,h,f,p;const l=r.toLowerCase();return((c=o.nombre)==null?void 0:c.toLowerCase().includes(l))||((d=o.numero_identificacion)==null?void 0:d.toLowerCase().includes(l))||((h=o.especie)==null?void 0:h.toLowerCase().includes(l))||((f=o.raza)==null?void 0:f.toLowerCase().includes(l))||((p=o.estado_reproductivo)==null?void 0:p.toLowerCase().includes(l))}),[t,r]);return _.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),g.jsxs("div",{className:"absolute top-0 bg-white rounded-xl shadow-xl border border-gray-200 px-3 w-[280px] max-h-[360px] overflow-auto z-50",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx("button",{onClick:e,className:"absolute z-30 top-2 -right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx($s,{size:18})}),g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Animales en esta zona"})}),g.jsx(Yt,{value:r,onChange:o=>i(o.target.value),placeholder:"Buscar por nombre, ID, especie...",className:"mb-2 text-sm mt-4 px-4"})]}),s.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1",children:s.map(o=>g.jsx("li",{children:g.jsxs(st,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>{const l=t.find(c=>{var d;return((d=c.get("metadata"))==null?void 0:d.animal_id)===o.animal_id});l&&n(l)},children:[g.jsx(Ro,{size:16,className:"text-blue-800"})," ",o.nombre," (",o.numero_identificacion,") - ",o.especie]})},o.animal_id))})]})}function Wb(t={}){const{baseColor:e="#f97316",iconUrl:n=null}=t,r={};return i=>{const s=i.get("features");if((s==null?void 0:s.length)>1){const d=s.length;return r[d]||(r[d]=new ln({image:new zr({radius:10+Math.min(d,30)*.4,fill:new kn({color:e}),stroke:new xn({color:"#ffffff",width:2})}),text:new tg({text:d.toString(),font:"bold 12px sans-serif",fill:new kn({color:"#ffffff"}),stroke:new xn({color:"#000000",width:2})})})),r[d]}const c=(i.get("metadata")||{}).is_outside===!0?"#e60000":e;return n?new ln({image:new eg({src:n,scale:.5,anchor:[.5,1]})}):new ln({image:new zr({radius:6,fill:new kn({color:c}),stroke:new xn({color:"#ffffff",width:1.5})})})}}class tA extends i6{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:$k({extent:Yv(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}class c6 extends js{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(n){const r=n.getGeometry();return at(r.getType()=="Point",10),r},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,n,r){this.source.loadFeatures(e,n,r),n!==this.resolution&&(this.resolution=n,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(et.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(et.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,n){const r=e===0?0:Math.min(n,e)/e,i=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=n,this.interpolationRatio=r,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Wr(),n=this.distance*this.resolution,r=this.source.getFeatures(),i={};for(let s=0,o=r.length;s<o;s++){const l=r[s];if(!(tt(l)in i)){const c=this.geometryFunction(l);if(c){const d=c.getCoordinates();wu(d,e),vd(e,n,e);const h=this.source.getFeaturesInExtent(e).filter(function(f){const p=tt(f);return p in i?!1:(i[p]=!0,!0)});this.features.push(this.createCluster(h,e))}}}}createCluster(e,n){const r=[0,0];for(let l=e.length-1;l>=0;--l){const c=this.geometryFunction(e[l]);c?WP(r,c.getCoordinates()):e.splice(l,1)}XP(r,1/e.length);const i=ko(n),s=this.interpolationRatio,o=new Pr([r[0]*(1-s)+i[0]*s,r[1]*(1-s)+i[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new sr({geometry:o,features:e})}}const u6='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class d6 extends tA{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[u6];const r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}}function h6(t=[]){const e=[],n=new Map;return t.forEach(r=>{if((r==null?void 0:r.lon)==null||(r==null?void 0:r.lat)==null)return;const i=new sr({geometry:new Pr(Wm([r.lon,r.lat])),metadata:r});r.__feature=i,i.setId(`a-${r.animal_id}`),n.set(r.animal_id,i),e.push(i)}),{features:e,featureMap:n}}function Hb({map:t,settings:e,inside:n=[]}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef(new Map);return _.useEffect(()=>{if(!t)return;const o=new js,l=new c6({distance:e.distance||50,source:o});return r.current=o,i.current=l,()=>{o.clear(),l.setSource(null)}},[t,e.distance]),_.useEffect(()=>{const o=r.current;if(!o)return;const{features:l,featureMap:c}=h6(n);s.current=c,o.clear(),o.addFeatures(l)},[n]),{vectorSource:r.current,clusterSource:i.current,featuresMapRef:s}}function f6({map:t,inside:e=[],outside:n=[],insideRef:r,outsideRef:i,settings:s={distance:50,baseColor:"orange"},setExplodedFeatures:o}){const l=_.useRef(),c=_.useRef(),d="popup-cluster-container",h=Hb({map:t,settings:s,inside:e}),f=Hb({map:t,settings:s,inside:n});return r&&(r.current=h.featuresMapRef),i&&(i.current=f.featuresMapRef),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=new cs({source:h.clusterSource,style:Wb({...s,baseColor:"#f97316",iconUrl:s.iconUrl}),zIndex:10}),y=new cs({source:f.clusterSource,style:Wb({...s,baseColor:"#e60000"}),zIndex:9});return t.addLayer(p),t.addLayer(y),()=>{t.removeLayer(p),t.removeLayer(y)}},[t,h.clusterSource,f.clusterSource]),_.useEffect(()=>{if(!t)return;let p=document.getElementById(d);p||(p=document.createElement("div"),p.id=d,p.className="relative z-5",document.body.appendChild(p));const y=new nm({element:p,positioning:"top-center",offset:[0,12],autoPan:{animation:{duration:200}}});return t.addOverlay(y),l.current=y,c.current||(c.current=yT.createRoot(p)),()=>{var v;t.removeOverlay(y),(v=c.current)==null||v.unmount(),c.current=null,p==null||p.remove()}},[t]),_.useEffect(()=>{if(!t||!l.current||!c.current)return;const p=y=>{const v=t.forEachFeatureAtPixel(y.pixel,b=>b);if(!v)return;const w=v.get("features"),C=t.getView().getZoom();if((w==null?void 0:w.length)>1){const b=v.getGeometry().getCoordinates();t.getView().animate({center:b,duration:500}),l.current.setPosition(b),c.current.render(g.jsx(l6,{features:w,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:b,duration:500})},onSelectAnimal:R=>{const T=R.getGeometry().getCoordinates();l.current.setPosition(T),c.current.render(g.jsx(Oy,{metadata:R.get("metadata"),onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:[T[0],T[1]-60],duration:500})}})),o&&o(w),t.getView().animate({center:[T[0],T[1]-60],zoom:C<17?18:C,duration:500})}}))}else if((w==null?void 0:w.length)===1){const b=w[0],R=b.getGeometry().getCoordinates(),T=b.get("metadata");t.getView().animate({center:[R[0],R[1]-60],zoom:C<17?18:C,duration:500}),l.current.setPosition(R),c.current.render(g.jsx(Oy,{metadata:T,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:R,zoom:C>17?16:C,duration:500})}}))}};return t.on("singleclick",p),()=>t.un("singleclick",p)},[t,o]),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=()=>{const v=t.getView().getZoom()>=15.5?0:s.distance||50;h.clusterSource.setDistance(v),f.clusterSource.setDistance(v)};return p(),t.getView().on("change:resolution",p),()=>t.getView().un("change:resolution",p)},[t,h.clusterSource,f.clusterSource,s.distance]),_.useEffect(()=>{if(!t||!l.current||!c.current)return;const p=y=>{if(!y)return;const v=y.getGeometry().getCoordinates(),w=y.get("metadata"),C=t.getView().getZoom();t.getView().animate({center:[v[0],v[1]-60],zoom:C<17?18:C,duration:500}),l.current.setPosition(v),c.current.render(g.jsx(Oy,{metadata:w,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:v,zoom:C>17?16:C,duration:500})}}))};return window.ClusterPopup={open:p,close:()=>{l.current&&c.current&&(l.current.setPosition(void 0),c.current.render(null))}},()=>{var y;((y=window.ClusterPopup)==null?void 0:y.open)===p&&delete window.ClusterPopup}},[t]),null}async function m6(){const t=await Ft("/api/animals/");if(!t.ok)throw new Error("Error al cargar animales");return await t.json()}async function g6(t){const e=await Ft(`/api/animals/${t}/entities`);if(!e.ok)throw new Error("Error al cargar clusters de animales");return await e.json()}async function p6(){const t=await Ft("/api/animals/options");if(!t.ok)throw new Error("Error al cargar las opciones");return await t.json()}async function y6(t){const e=await Ft(`/api/animals/${t}/complete_sheet`);if(!e.ok)throw new Error("Error al cargar ficha completa");return await e.json()}async function x6(t){const e=await Ft("/api/animals/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear animal")}return await e.json()}async function v6(t,e){const n=await Ft(`/api/animals/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar animal")}return await n.json()}async function _6(t){const e=await Ft(`/api/animals/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar animal");return await e.json()}async function nA(){const t=await Ft("/api/animals/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de animales.")}return t.blob()}async function w6(t,e={}){const n=new URLSearchParams({type:t});e.globalFilter&&n.append("globalFilter",e.globalFilter),e.ids&&e.ids.length>0&&n.append("ids",e.ids.join(","));const r=await Ft(`/api/animals/export?${n.toString()}`);if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al exportar animales.")}return r.blob()}async function S6(t){const e=new FormData;e.append("file",t);const n=await Ft("/api/animals/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar animales.")}return await n.json()}function C6(t=1e4,e){const[n,r]=_.useState([]),[i,s]=_.useState([]);return _.useEffect(()=>{if(!e)return;const o=async()=>{try{const c=await g6(e);r(c.inside||[]),s(c.outside||[])}catch(c){console.error("Error al obtener animales:",c)}};o();const l=setInterval(o,t);return()=>clearInterval(l)},[e,t]),{inside:n,outside:i}}const Xb=0,Ru=1,Kb=[0,0,0,0],Bl=[],Vy={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class zy extends Di{constructor(e,n,r){super(e),this.features=n,this.mapBrowserEvent=r}}class b6 extends gc{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:Zk,this.defaultDeleteCondition_=function(r){return $G(r)&&Hk(r)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:Uk,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new W0,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new cs({source:new js({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:R6(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let n;if(e.features?n=e.features:e.source&&(this.source_=e.source,n=new Gr(this.source_.getFeatures()),this.source_.addEventListener(Dr.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(Dr.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!n)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(wn.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(wn.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const n=e.getGeometry();if(n){const i=this.SEGMENT_WRITERS_[n.getType()];i&&i(e,n)}const r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),e.addEventListener(et.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,n){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Gr;const r=this.featuresBeingModified_.getArray();for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0,c=o.length;l<c;++l){const d=o[l].feature;d&&!r.includes(d)&&this.featuresBeingModified_.push(d)}}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new zy(Vy.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(et.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const n=this.rBush_,r=[];n.forEach(function(i){e===i.feature&&r.push(i)});for(let i=r.length-1;i>=0;--i){const s=r[i];for(let o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===s&&this.dragSegments_.splice(o,1);n.remove(s)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const n=e.target;this.removeFeature_(n),this.addFeature_(n)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,n){const r=n.getCoordinates(),i={feature:e,geometry:n,segment:[r,r]};this.rBush_.insert(n.getExtent(),i)}writeMultiPointGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i],l={feature:e,geometry:n,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(n.getExtent(),l)}}writeLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length-1;i<s;++i){const o=r.slice(i,i+2),l={feature:e,geometry:n,index:i,segment:o};this.rBush_.insert(pi(o),l)}}writeMultiLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length-1;l<c;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(pi(d),h)}}}writePolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length-1;l<c;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(pi(d),h)}}}writeMultiPolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length;l<c;++l){const d=o[l];for(let h=0,f=d.length-1;h<f;++h){const p=d.slice(h,h+2),y={feature:e,geometry:n,depth:[l,i],index:h,segment:p};this.rBush_.insert(pi(p),y)}}}}writeCircleGeometry_(e,n){const r=n.getCenter(),i={feature:e,geometry:n,index:Xb,segment:[r,r]},s={feature:e,geometry:n,index:Ru,segment:[r,r]},o=[i,s];i.featureSegments=o,s.featureSegments=o,this.rBush_.insert(wu(r),i);let l=n;this.rBush_.insert(l.getExtent(),s)}writeGeometryCollectionGeometry_(e,n){const r=n.getGeometriesArray();for(let i=0;i<r.length;++i){const s=r[i],o=this.SEGMENT_WRITERS_[s.getType()];o(e,s)}}createOrUpdateVertexFeature_(e,n,r){let i=this.vertexFeature_;return i?i.getGeometry().setCoordinates(e):(i=new sr(new Pr(e)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i)),i.set("features",n),i.set("geometries",r),i}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let n;return!e.map.getView().getInteracting()&&e.type==jt.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=jt.SINGLECLICK||!this.ignoreNextSingleClick_?n=this.removePoint():n=!0),e.type==jt.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!n}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const n=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],r=[],i=[];for(let s=0,o=this.dragSegments_.length;s<o;++s){const l=this.dragSegments_[s],c=l[0],d=c.feature;r.includes(d)||r.push(d);const h=c.geometry;i.includes(h)||i.push(h);const f=c.depth;let p;const y=c.segment,v=l[1];for(;n.length<h.getStride();)n.push(y[v][n.length]);switch(h.getType()){case"Point":p=n,y[0]=n,y[1]=n;break;case"MultiPoint":p=h.getCoordinates(),p[c.index]=n,y[0]=n,y[1]=n;break;case"LineString":p=h.getCoordinates(),p[c.index+v]=n,y[v]=n;break;case"MultiLineString":p=h.getCoordinates(),p[f[0]][c.index+v]=n,y[v]=n;break;case"Polygon":p=h.getCoordinates(),p[f[0]][c.index+v]=n,y[v]=n;break;case"MultiPolygon":p=h.getCoordinates(),p[f[1]][f[0]][c.index+v]=n,y[v]=n;break;case"Circle":if(y[0]=n,y[1]=n,c.index===Xb)this.changingFeature_=!0,h.setCenter(n),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let w=rb(An(h.getCenter()),An(n));h.setRadius(w),this.changingFeature_=!1}break}p&&this.setGeometryCoordinates_(h,p)}this.createOrUpdateVertexFeature_(n,r,i)}handleDownEvent(e){if(!this.condition_(e))return!1;const n=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,n),this.dragSegments_.length=0,this.featuresBeingModified_=null;const r=this.vertexFeature_;if(r){e.map.getView().getProjection();const i=[],s=r.getGeometry().getCoordinates(),o=pi([s]),l=this.rBush_.getInExtent(o),c={};l.sort(E6);for(let d=0,h=l.length;d<h;++d){const f=l[d],p=f.segment;let y=tt(f.geometry);const v=f.depth;if(v&&(y+="-"+v.join("-")),c[y]||(c[y]=new Array(2)),f.geometry.getType()==="Circle"&&f.index===Ru){const w=Zb(n,f);_i(w,s)&&!c[y][0]&&(this.dragSegments_.push([f,0]),c[y][0]=f);continue}if(_i(p[0],s)&&!c[y][0]){this.dragSegments_.push([f,0]),c[y][0]=f;continue}if(_i(p[1],s)&&!c[y][1]){if(c[y][0]&&c[y][0].index===0){let w=f.geometry.getCoordinates();switch(f.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":w=w[v[1]];case"Polygon":if(f.index!==w[v[0]].length-2)continue;break}}this.dragSegments_.push([f,1]),c[y][1]=f;continue}tt(p)in this.vertexSegments_&&!c[y][0]&&!c[y][1]&&this.insertVertexCondition_(e)&&i.push(f)}i.length&&this.willModifyFeatures_(e,[i]);for(let d=i.length-1;d>=0;--d)this.insertVertex_(i[d],s)}return!!this.vertexFeature_}handleUpEvent(e){for(let n=this.dragSegments_.length-1;n>=0;--n){const r=this.dragSegments_[n][0],i=r.geometry;if(i.getType()==="Circle"){const s=i.getCenter(),o=r.featureSegments[0],l=r.featureSegments[1];o.segment[0]=s,o.segment[1]=s,l.segment[0]=s,l.segment[1]=s,this.rBush_.update(wu(s),o);let c=i;this.rBush_.update(c.getExtent(),l)}else this.rBush_.update(pi(r.segment),r)}return this.featuresBeingModified_&&(this.dispatchEvent(new zy(Vy.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,n,r){const i=r||n.getCoordinateFromPixel(e);n.getView().getProjection();const s=function(c,d){return Yb(i,c)-Yb(i,d)};let o,l;if(this.hitDetection_){const c=typeof this.hitDetection_=="object"?d=>d===this.hitDetection_:void 0;n.forEachFeatureAtPixel(e,(d,h,f)=>{const p=f||d.getGeometry();if(p.getType()==="Point"&&d instanceof sr&&this.features_.getArray().includes(d)){l=p;const y=l.getFlatCoordinates().slice(0,2);o=[{feature:d,geometry:l,segment:[y,y]}]}return!0},{layerFilter:c})}if(!o){const c=_o(wu(i,Kb)),d=n.getView().getResolution()*this.pixelTolerance_,h=Iv(vd(c,d,Kb));o=this.rBush_.getInExtent(h)}if(o&&o.length>0){const c=o.sort(s)[0],d=c.segment;let h=Zb(i,c);const f=n.getPixelFromCoordinate(h);let p=rb(e,f);if(l||p<=this.pixelTolerance_){const y={};if(y[tt(d)]=!0,this.snapToPointer_||(this.delta_[0]=h[0]-i[0],this.delta_[1]=h[1]-i[1]),c.geometry.getType()==="Circle"&&c.index===Ru)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);else{const v=n.getPixelFromCoordinate(d[0]),w=n.getPixelFromCoordinate(d[1]),C=Vu(f,v),b=Vu(f,w);p=Math.sqrt(Math.min(C,b)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(h=C>b?d[1]:d[0]),this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);const R={};R[tt(c.geometry)]=!0;for(let T=1,P=o.length;T<P;++T){const k=o[T].segment;if(_i(d[0],k[0])&&_i(d[1],k[1])||_i(d[0],k[1])&&_i(d[1],k[0])){const M=tt(o[T].geometry);M in R||(R[M]=!0,y[tt(k)]=!0)}else break}}this.vertexSegments_=y;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,n){const r=e.segment,i=e.feature,s=e.geometry,o=e.depth,l=e.index;let c;for(;n.length<s.getStride();)n.push(0);switch(s.getType()){case"MultiLineString":c=s.getCoordinates(),c[o[0]].splice(l+1,0,n);break;case"Polygon":c=s.getCoordinates(),c[o[0]].splice(l+1,0,n);break;case"MultiPolygon":c=s.getCoordinates(),c[o[1]][o[0]].splice(l+1,0,n);break;case"LineString":c=s.getCoordinates(),c.splice(l+1,0,n);break;default:return}this.setGeometryCoordinates_(s,c);const d=this.rBush_;d.remove(e),this.updateSegmentIndices_(s,l,o,1);const h={segment:[r[0],n],feature:i,geometry:s,depth:o,index:l};d.insert(pi(h.segment),h),this.dragSegments_.push([h,1]);const f={segment:[n,r[1]],feature:i,geometry:s,depth:o,index:l+1};d.insert(pi(f.segment),f),this.dragSegments_.push([f,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=jt.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const n=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new zy(Vy.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,n}return!1}removeVertex_(){const e=this.dragSegments_,n={};let r=!1,i,s,o,l,c,d,h,f,p,y,v;for(c=e.length-1;c>=0;--c)o=e[c],y=o[0],v=tt(y.feature),y.depth&&(v+="-"+y.depth.join("-")),v in n||(n[v]={}),o[1]===0?(n[v].right=y,n[v].index=y.index):o[1]==1&&(n[v].left=y,n[v].index=y.index+1);for(v in n){switch(p=n[v].right,h=n[v].left,d=n[v].index,f=d-1,h!==void 0?y=h:y=p,f<0&&(f=0),l=y.geometry,s=l.getCoordinates(),i=s,r=!1,l.getType()){case"MultiLineString":s[y.depth[0]].length>2&&(s[y.depth[0]].splice(d,1),r=!0);break;case"LineString":s.length>2&&(s.splice(d,1),r=!0);break;case"MultiPolygon":i=i[y.depth[1]];case"Polygon":i=i[y.depth[0]],i.length>4&&(d==i.length-1&&(d=0),i.splice(d,1),r=!0,d===0&&(i.pop(),i.push(i[0]),f=i.length-1));break}if(r){this.setGeometryCoordinates_(l,s);const w=[];if(h!==void 0&&(this.rBush_.remove(h),w.push(h.segment[0])),p!==void 0&&(this.rBush_.remove(p),w.push(p.segment[1])),h!==void 0&&p!==void 0){const C={depth:y.depth,feature:y.feature,geometry:y.geometry,index:f,segment:w};this.rBush_.insert(pi(C.segment),C)}this.updateSegmentIndices_(l,d,y.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return r}setGeometryCoordinates_(e,n){this.changingFeature_=!0,e.setCoordinates(n),this.changingFeature_=!1}updateSegmentIndices_(e,n,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(s){s.geometry===e&&(r===void 0||s.depth===void 0||Bs(s.depth,r))&&s.index>n&&(s.index+=i)})}}function E6(t,e){return t.index-e.index}function Yb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"){let s=r;if(e.index===Ru){const o=Vu(s.getCenter(),An(t)),l=Math.sqrt(o)-s.getRadius();return l*l}}const i=An(t);return Bl[0]=An(e.segment[0]),Bl[1]=An(e.segment[1]),Xz(i,Bl)}function Zb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"&&e.index===Ru)return zu(r.getClosestPoint(An(t)));const i=An(t);return Bl[0]=An(e.segment[0]),Bl[1]=An(e.segment[1]),zu(HP(i,Bl))}function R6(){const t=Tk();return function(e,n){return t.Point}}const T6={SELECT:"select"};class P6 extends Di{constructor(e,n,r,i){super(e),this.selected=n,this.deselected=r,this.mapBrowserEvent=i}}const af={};let k6=class rA extends mc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:Hk,this.addCondition_=e.addCondition?e.addCondition:Gb,this.removeCondition_=e.removeCondition?e.removeCondition:Gb,this.toggleCondition_=e.toggleCondition?e.toggleCondition:Kk,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:Ma,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:A6(),this.features_=e.features||new Gr;let n;if(e.layers)if(typeof e.layers=="function")n=e.layers;else{const r=e.layers;n=function(i){return r.includes(i)}}else n=Ma;this.layerFilter_=n,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,n){this.featureLayerAssociation_[tt(e)]=n}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[tt(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(wn.ADD,this.boundAddFeature_),this.features_.addEventListener(wn.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(wn.ADD,this.boundAddFeature_),this.features_.removeEventListener(wn.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const n=e.element;if(this.style_&&this.applySelectedStyle_(n),!this.getLayer(n)){const r=this.getMap().getAllLayers().find(function(i){if(i instanceof cs&&i.getSource()&&i.getSource().hasFeature(n))return i});r&&this.addFeatureLayerAssociation_(n,r)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const n=tt(e);n in af||(af[n]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const n=this.getMap().getInteractions().getArray();for(let i=n.length-1;i>=0;--i){const s=n[i];if(s!==this&&s instanceof rA&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const r=tt(e);e.setStyle(af[r]),delete af[r]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[tt(e)]}handleEvent(e){if(!this.condition_(e))return!0;const n=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),s=!n&&!r&&!i,o=e.map,l=this.getFeatures(),c=[],d=[];if(s){hc(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof sr)||!this.filter_(h,f)))return this.addFeatureLayerAssociation_(h,f),d.push(h),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=l.getLength()-1;h>=0;--h){const f=l.item(h),p=d.indexOf(f);p>-1?d.splice(p,1):(l.remove(f),c.push(f))}d.length!==0&&l.extend(d)}else{o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof sr)||!this.filter_(h,f)))return(n||i)&&!l.getArray().includes(h)?(this.addFeatureLayerAssociation_(h,f),d.push(h)):(r||i)&&l.getArray().includes(h)&&(c.push(h),this.removeFeatureLayerAssociation_(h)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=c.length-1;h>=0;--h)l.remove(c[h]);l.extend(d)}return(d.length>0||c.length>0)&&this.dispatchEvent(new P6(T6.SELECT,d,c,e)),!0}};function A6(){const t=Tk();return Ti(t.Polygon,t.LineString),Ti(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}async function Na(){const t=await Ft("/api/map/");if(!t.ok)throw new Error("Error al cargar datos");return await t.json()}let $y=null,By=null;function M6(t,[e,n]){$y=new Ub({source:new d6,visible:!1,title:"OSM Base",preload:1/0}),By=new Ub({source:new tA({url:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}",attributions:"UB © Satélite",tileGrid:$k({extent:Cn("EPSG:3857").getExtent(),tileSize:256}),maxZoom:21}),visible:!0,title:"MapTiler Satellite",preload:1/0});const r=new t6({target:t,layers:[By,$y],view:new Yi({center:Wm([n,e]),zoom:14,maxZoom:21,minZoom:4,rotation:0,constrainRotation:!1}),controls:[],interactions:Jk().extend([new qk({condition:i=>kf(i)&&i.originalEvent.button===1})])});return window._ol_map_instance=r,window.osm=$y,window.esriSat=By,r}function Ao([t,e]){return Wm([t,e])}function I6({inside:t=[],outside:e=[],featuresMapRef:n}){const[r,i]=_.useState(!1),[s,o]=_.useState(""),l=_.useMemo(()=>[...t,...e].filter(Boolean).map(d=>({label:`${d.nombre||"Animal"} (${d.numero_identificacion||"sin ID"})`,value:String(d.animal_id),full:d})).filter(d=>{var p,y,v,w,C;const h=s.toLowerCase(),f=d.full;return((p=f.nombre)==null?void 0:p.toLowerCase().includes(h))||((y=f.numero_identificacion)==null?void 0:y.toLowerCase().includes(h))||((v=f.especie)==null?void 0:v.toLowerCase().includes(h))||((w=f.raza)==null?void 0:w.toLowerCase().includes(h))||((C=f.estado_reproductivo)==null?void 0:C.toLowerCase().includes(h))}),[t,e,s]),c=d=>{var f,p,y;const h=(p=(f=n==null?void 0:n.current)==null?void 0:f.get)==null?void 0:p.call(f,Number(d));h&&((y=window.ClusterPopup)!=null&&y.open)?window.ClusterPopup.open(h):console.warn("No se encontró el animal en featuresMapRef o no está definido ClusterPopup."),i(!1)};return _.useEffect(()=>{const d=h=>{h.key==="Escape"&&i(!1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),g.jsxs("div",{className:"absolute top-16 mt-2 right-4 z-40 flex items-center gap-2",children:[g.jsx("button",{onClick:()=>{var d;i(!r),(d=window.ClusterPopup)!=null&&d.close&&window.ClusterPopup.close()},className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(Ro,{className:"h-6 w-6 text-gray-800"})}),r&&g.jsxs("div",{style:{top:"60px"},className:"absolute right-0 bg-white rounded-xl shadow-xl border border-gray-200 px-3 w-[250px] max-h-[360px] overflow-auto z-50",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx("button",{onClick:()=>i(!1),className:"absolute z-30 top-2 -right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx($s,{size:18})}),g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Buscar animal"})}),g.jsx(Yt,{value:s,onChange:d=>o(d.target.value),placeholder:"Nombre, ID, especie...",className:"mb-2 text-sm mt-4 px-4"})]}),l.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1 pr-1",children:l.map(d=>g.jsx("li",{children:g.jsxs(st,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>c(d.value),children:[g.jsx(Ro,{size:16,className:"text-blue-800 mr-2"}),d.label," - ",d.full.especie]})},d.value))})]})]})}function N6(){const[t,e]=_.useState(!1),[n,r]=_.useState(""),[i,s]=_.useState({}),{mapRef:o,ready:l}=_.useContext(Cd),{campoSeleccionado:c,setCampoSeleccionado:d,lastCampoId:h}=_.useContext(bd),{campos:f,parcelas:p,formData:y,setFormData:v,setAreaCampo:w,setAreaParcela:C}=nv(),b=_.useRef(new Map),R=_.useRef(),T=_.useRef(),{setFeaturesOnMap:P,clearParcelas:k}=Hv({mapRef:o,parcelas:p,formData:y,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:v,setAreaCampo:w,setAreaParcela:C,enabled:!0,modoVisualizacionCampo:!0});Xv(()=>k()),_.useEffect(()=>{Na().then(I=>s(I.parcelas)).catch(I=>console.error("Error al cargar parcelas:",I))},[]);const{inside:M,outside:F}=C6(1e4,y.campo_id);return _.useEffect(()=>{!l||!y.campo_id||P()},[l,y.campo_id,y.parcela_id,p]),_.useEffect(()=>{!y.campo_id&&!c&&h&&f[h]&&(d(h),v(I=>({...I,campo_id:h,parcela_id:"",nombre:"",descripcion:""})),C(0))},[]),_.useEffect(()=>{c||!y.campo_id||!f[y.campo_id]||(d(y.campo_id),o.current.getView().animate({center:Ao([f[y.campo_id].lon,f[y.campo_id].lat]),duration:800,easing:kr}))},[y.campo_id,c]),_.useEffect(()=>{var V,H;const I=new Map,z=(V=R.current)==null?void 0:V.current,G=(H=T.current)==null?void 0:H.current;if(z)for(const[B,X]of z.entries())I.set(B,X);if(G)for(const[B,X]of G.entries())I.set(B,X);b.current=I},[M,F]),g.jsxs(g.Fragment,{children:[g.jsx(xv,{isOpen:t,message:n,onClose:()=>e(!1)}),g.jsx(f6,{map:o.current,inside:M,outside:F,insideRef:R,outsideRef:T,settings:{distance:50,baseColor:"orange"}}),g.jsx(I6,{mapRef:o,inside:M,outside:F,featuresMapRef:b})]})}async function F6(){const t=await Ft("/api/parcelas/animales/resumen");if(!t.ok)throw new Error("Error al cargar resumen de parcelas");return await t.json()}async function j6(t){const e=await Ft("/api/parcelas/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al guardar")}return await e.json()}async function L6(t,e,n="",r="",i){const s=await Ft(`/api/parcelas/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geojson:e,nombre:n,descripcion:r,area:i})});if(!s.ok){const o=await s.json();throw new Error(o.message||"Error al actualizar")}return await s.json()}async function D6(t){const e=await Ft(`/api/parcelas/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar la parcela");return await e.json()}function O6({onFinish:t,onUndo:e,onStart:n,onCancel:r,canFinish:i,closedBySnap:s,firstVertexDraw:o,open:l,setOpen:c,finished:d}){const h=()=>{const f=!l;c(f),f&&(n==null||n())};return g.jsxs(g.Fragment,{children:[!l&&g.jsx("button",{onClick:h,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Dibujar polígono",children:g.jsx(T4,{className:"w-6 h-6 text-gray-800"})}),l&&g.jsxs("div",{className:"flex flex-row-reverse gap-1 items-center",children:[g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar",children:g.jsx($s,{className:"w-6 h-6"})}),!d&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:e,disabled:!o,className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${o?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Deshacer último punto",children:g.jsx(F4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:t,disabled:!(i||s),className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${i||s?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Finalizar dibujo",children:g.jsx(fd,{className:"w-6 h-6"})})]})]})]})}function V6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo"}),g.jsx("select",{name:"campo_id",value:e.campo_id,onChange:r=>{n(r),window.dispatchEvent(new Event("cerrarPopupResumen"))},className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del área"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:14,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripción de la parcela"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]})]})}function z6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo existente"}),g.jsxs("select",{name:"campo_id",value:e.campo_id,onChange:n,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:[g.jsx("option",{value:"",children:"-- Crear nuevo campo --"}),Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del campo"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:16,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripción del campo"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsx("input",{type:"hidden",name:"lat",value:e.lat}),g.jsx("input",{type:"hidden",name:"lon",value:e.lon})]})}function $6({mode:t="edit",isDeleteMode:e=!1,onToggleDeleteMode:n=()=>{},onCancel:r=()=>{},onSave:i=()=>{},showDelete:s=!0,showCancel:o=!0,showSave:l=!0}){return["edit","draw-edit"].includes(t)?g.jsxs(g.Fragment,{children:[s&&g.jsx("button",{onClick:n,className:`p-3 rounded-full shadow-md flex items-center justify-center ${e?"bg-red-600":"bg-white"}`,title:"Eliminar vértices",children:g.jsx(Vn,{className:"w-6 h-6"})}),o&&g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar edición",children:g.jsx($s,{className:"w-6 h-6"})}),l&&g.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Guardar cambios",children:g.jsx(UT,{className:"w-6 h-6"})})]}):null}const t_=_.createContext({});function n_(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const r_=typeof window<"u",iA=r_?_.useLayoutEffect:_.useEffect,rg=_.createContext(null);function i_(t,e){t.indexOf(e)===-1&&t.push(e)}function s_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ls=(t,e,n)=>n>e?e:n<t?t:n;let o_=()=>{};const Ds={},sA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oA(t){return typeof t=="object"&&t!==null}const aA=t=>/^0[^.\s]+$/u.test(t);function a_(t){let e;return()=>(e===void 0&&(e=t()),e)}const ii=t=>t,B6=(t,e)=>n=>e(t(n)),Ed=(...t)=>t.reduce(B6),qu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class l_{constructor(){this.subscriptions=[]}add(e){return i_(this.subscriptions,e),()=>s_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rs=t=>t*1e3,is=t=>t/1e3;function lA(t,e){return e?t*(1e3/e):0}const cA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,G6=1e-7,U6=12;function W6(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=cA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>G6&&++l<U6);return o}function Rd(t,e,n,r){if(t===e&&n===r)return ii;const i=s=>W6(s,0,1,t,n);return s=>s===0||s===1?s:cA(i(s),e,r)}const uA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dA=t=>e=>1-t(1-e),hA=Rd(.33,1.53,.69,.99),c_=dA(hA),fA=uA(c_),mA=t=>(t*=2)<1?.5*c_(t):.5*(2-Math.pow(2,-10*(t-1))),u_=t=>1-Math.sin(Math.acos(t)),gA=dA(u_),pA=uA(u_),H6=Rd(.42,0,1,1),X6=Rd(0,0,.58,1),yA=Rd(.42,0,.58,1),K6=t=>Array.isArray(t)&&typeof t[0]!="number",xA=t=>Array.isArray(t)&&typeof t[0]=="number",Y6={linear:ii,easeIn:H6,easeInOut:yA,easeOut:X6,circIn:u_,circInOut:pA,circOut:gA,backIn:c_,backInOut:fA,backOut:hA,anticipate:mA},Z6=t=>typeof t=="string",qb=t=>{if(xA(t)){o_(t.length===4);const[e,n,r,i]=t;return Rd(e,n,r,i)}else if(Z6(t))return Y6[t];return t},lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Jb={value:null};function q6(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(f){o.has(f)&&(h.schedule(f),t()),c++,f(l)}const h={schedule:(f,p=!1,y=!1)=>{const w=y&&i?n:r;return p&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),e&&Jb.value&&Jb.value.frameloop[e].push(c),c=0,n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const J6=40;function vA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=lf.reduce((T,P)=>(T[P]=q6(s,e?P:void 0),T),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:f,preRender:p,render:y,postRender:v}=o,w=()=>{const T=Ds.useManualTiming?i.timestamp:performance.now();n=!1,Ds.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,J6),1)),i.timestamp=T,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),p.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},C=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:lf.reduce((T,P)=>{const k=o[P];return T[P]=(M,F=!1,I=!1)=>(n||C(),k.schedule(M,F,I)),T},{}),cancel:T=>{for(let P=0;P<lf.length;P++)o[lf[P]].cancel(T)},state:i,steps:o}}const{schedule:on,cancel:Mo,state:Wn,steps:Gy}=vA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ii,!0);let Af;function Q6(){Af=void 0}const Er={now:()=>(Af===void 0&&Er.set(Wn.isProcessing||Ds.useManualTiming?Wn.timestamp:performance.now()),Af),set:t=>{Af=t,queueMicrotask(Q6)}},_A=t=>e=>typeof e=="string"&&e.startsWith(t),d_=_A("--"),eU=_A("var(--"),h_=t=>eU(t)?tU.test(t.split("/*")[0].trim()):!1,tU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...pc,transform:t=>Ls(0,1,t)},cf={...pc,default:1},Tu=t=>Math.round(t*1e5)/1e5,f_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nU(t){return t==null}const rU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m_=(t,e)=>n=>!!(typeof n=="string"&&rU.test(n)&&n.startsWith(t)||e&&!nU(n)&&Object.prototype.hasOwnProperty.call(n,e)),wA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(f_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},iU=t=>Ls(0,255,t),Uy={...pc,transform:t=>Math.round(iU(t))},xa={test:m_("rgb","red"),parse:wA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Uy.transform(t)+", "+Uy.transform(e)+", "+Uy.transform(n)+", "+Tu(Ju.transform(r))+")"};function sU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const J0={test:m_("#"),parse:sU,transform:xa.transform},Td=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),go=Td("deg"),ss=Td("%"),Ze=Td("px"),oU=Td("vh"),aU=Td("vw"),Qb={...ss,parse:t=>ss.parse(t)/100,transform:t=>ss.transform(t*100)},jl={test:m_("hsl","hue"),parse:wA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ss.transform(Tu(e))+", "+ss.transform(Tu(n))+", "+Tu(Ju.transform(r))+")"},vn={test:t=>xa.test(t)||J0.test(t)||jl.test(t),parse:t=>xa.test(t)?xa.parse(t):jl.test(t)?jl.parse(t):J0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xa.transform(t):jl.transform(t),getAnimatableNone:t=>{const e=vn.parse(t);return e.alpha=0,vn.transform(e)}},lU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(f_))==null?void 0:e.length)||0)+(((n=t.match(lU))==null?void 0:n.length)||0)>0}const SA="number",CA="color",uU="var",dU="var(",eE="${}",hU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(hU,c=>(vn.test(c)?(r.color.push(s),i.push(CA),n.push(vn.parse(c))):c.startsWith(dU)?(r.var.push(s),i.push(uU),n.push(c)):(r.number.push(s),i.push(SA),n.push(parseFloat(c))),++s,eE)).split(eE);return{values:n,split:l,indexes:r,types:i}}function bA(t){return Qu(t).values}function EA(t){const{split:e,types:n}=Qu(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===SA?s+=Tu(i[o]):l===CA?s+=vn.transform(i[o]):s+=i[o]}return s}}const fU=t=>typeof t=="number"?0:vn.test(t)?vn.getAnimatableNone(t):t;function mU(t){const e=bA(t);return EA(t)(e.map(fU))}const Io={test:cU,parse:bA,createTransformer:EA,getAnimatableNone:mU};function Wy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Wy(c,l,t+1/3),s=Wy(c,l,t),o=Wy(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function rm(t,e){return n=>n>0?e:t}const sn=(t,e,n)=>t+(e-t)*n,Hy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},pU=[J0,xa,jl],yU=t=>pU.find(e=>e.test(t));function tE(t){const e=yU(t);if(!e)return!1;let n=e.parse(t);return e===jl&&(n=gU(n)),n}const nE=(t,e)=>{const n=tE(t),r=tE(e);if(!n||!r)return rm(t,e);const i={...n};return s=>(i.red=Hy(n.red,r.red,s),i.green=Hy(n.green,r.green,s),i.blue=Hy(n.blue,r.blue,s),i.alpha=sn(n.alpha,r.alpha,s),xa.transform(i))},Q0=new Set(["none","hidden"]);function xU(t,e){return Q0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vU(t,e){return n=>sn(t,e,n)}function g_(t){return typeof t=="number"?vU:typeof t=="string"?h_(t)?rm:vn.test(t)?nE:SU:Array.isArray(t)?RA:typeof t=="object"?vn.test(t)?nE:_U:rm}function RA(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>g_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function _U(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=g_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function wU(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const SU=(t,e)=>{const n=Io.createTransformer(e),r=Qu(t),i=Qu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Q0.has(t)&&!i.values.length||Q0.has(e)&&!r.values.length?xU(t,e):Ed(RA(wU(r,i),i.values),n):rm(t,e)};function TA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?sn(t,e,n):g_(t)(t,e)}const CU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>on.update(e,n),stop:()=>Mo(e),now:()=>Wn.isProcessing?Wn.timestamp:Er.now()}},PA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},im=2e4;function p_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<im;)e+=n,r=t.next(e);return e>=im?1/0:e}function bU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(p_(r),im);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:is(i)}}const EU=5;function kA(t,e,n){const r=Math.max(e-EU,0);return lA(n-t(r),e-r)}const cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rE=.001;function RU({duration:t=cn.duration,bounce:e=cn.bounce,velocity:n=cn.velocity,mass:r=cn.mass}){let i,s,o=1-e;o=Ls(cn.minDamping,cn.maxDamping,o),t=Ls(cn.minDuration,cn.maxDuration,is(t)),o<1?(i=d=>{const h=d*o,f=h*t,p=h-n,y=ex(d,o),v=Math.exp(-f);return rE-p/y*v},s=d=>{const f=d*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-f),w=ex(Math.pow(d,2),o);return(-i(d)+rE>0?-1:1)*((p-y)*v)/w}):(i=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-.001+h*f},s=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=PU(i,s,l);if(t=rs(t),isNaN(c))return{stiffness:cn.stiffness,damping:cn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const TU=12;function PU(t,e,n){let r=n;for(let i=1;i<TU;i++)r=r-t(r)/e(r);return r}function ex(t,e){return t*Math.sqrt(1-e*e)}const kU=["duration","bounce"],AU=["stiffness","damping","mass"];function iE(t,e){return e.some(n=>t[n]!==void 0)}function MU(t){let e={velocity:cn.velocity,stiffness:cn.stiffness,damping:cn.damping,mass:cn.mass,isResolvedFromDuration:!1,...t};if(!iE(t,AU)&&iE(t,kU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ls(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:cn.mass,stiffness:i,damping:s}}else{const n=RU(t);e={...e,...n,mass:cn.mass},e.isResolvedFromDuration=!0}return e}function sm(t=cn.visualDuration,e=cn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=MU({...n,velocity:-is(n.velocity||0)}),v=p||0,w=d/(2*Math.sqrt(c*h)),C=o-s,b=is(Math.sqrt(c/h)),R=Math.abs(C)<5;r||(r=R?cn.restSpeed.granular:cn.restSpeed.default),i||(i=R?cn.restDelta.granular:cn.restDelta.default);let T;if(w<1){const k=ex(b,w);T=M=>{const F=Math.exp(-w*b*M);return o-F*((v+w*b*C)/k*Math.sin(k*M)+C*Math.cos(k*M))}}else if(w===1)T=k=>o-Math.exp(-b*k)*(C+(v+b*C)*k);else{const k=b*Math.sqrt(w*w-1);T=M=>{const F=Math.exp(-w*b*M),I=Math.min(k*M,300);return o-F*((v+w*b*C)*Math.sinh(I)+k*C*Math.cosh(I))/k}}const P={calculatedDuration:y&&f||null,next:k=>{const M=T(k);if(y)l.done=k>=f;else{let F=k===0?v:0;w<1&&(F=k===0?rs(v):kA(T,k,M));const I=Math.abs(F)<=r,z=Math.abs(o-M)<=i;l.done=I&&z}return l.value=l.done?o:M,l},toString:()=>{const k=Math.min(p_(P),im),M=PA(F=>P.next(k*F).value,k,30);return k+"ms "+M},toTransition:()=>{}};return P}sm.applyToOptions=t=>{const e=bU(t,100,sm);return t.ease=e.ease,t.duration=rs(e.duration),t.type="keyframes",t};function tx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=I=>l!==void 0&&I<l||c!==void 0&&I>c,v=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let w=n*e;const C=f+w,b=o===void 0?C:o(C);b!==C&&(w=b-f);const R=I=>-w*Math.exp(-I/r),T=I=>b+R(I),P=I=>{const z=R(I),G=T(I);p.done=Math.abs(z)<=d,p.value=p.done?b:G};let k,M;const F=I=>{y(p.value)&&(k=I,M=sm({keyframes:[p.value,v(p.value)],velocity:kA(T,I,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return F(0),{calculatedDuration:null,next:I=>{let z=!1;return!M&&k===void 0&&(z=!0,P(I),F(I)),k!==void 0&&I>=k?M.next(I-k):(!z&&P(I),p)}}}function IU(t,e,n){const r=[],i=n||Ds.mix||TA,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ii:e;l=Ed(c,l)}r.push(l)}return r}function NU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(o_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=IU(e,r,i),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=qu(t[f],t[f+1],h);return l[f](p)};return n?h=>d(Ls(t[0],t[s-1],h)):d}function FU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qu(0,e,r);t.push(sn(n,1,i))}}function jU(t){const e=[0];return FU(e,t.length-1),e}function LU(t,e){return t.map(n=>n*e)}function DU(t,e){return t.map(()=>e||yA).splice(0,t.length-1)}function Pu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=K6(r)?r.map(qb):qb(r),s={done:!1,value:e[0]},o=LU(n&&n.length===e.length?n:jU(e),t),l=NU(o,e,{ease:Array.isArray(i)?i:DU(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const OU=t=>t!==null;function y_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(OU),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const VU={decay:tx,inertia:tx,tween:Pu,keyframes:Pu,spring:sm};function AA(t){typeof t.type=="string"&&(t.type=VU[t.type])}class x_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const zU=t=>t/100;class v_ extends x_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Er.now()&&this.tick(Er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;AA(e);const{type:n=Pu,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Pu;c!==Pu&&typeof l[0]!="number"&&(this.mixKeyframes=Ed(zU,TA(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=p_(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,P=r;if(f){const I=Math.min(this.currentTime,i)/l;let z=Math.floor(I),G=I%1;!G&&I>=1&&(G=1),G===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(p==="reverse"?(G=1-G,y&&(G-=y/l)):p==="mirror"&&(P=o)),T=Ls(0,1,G)*l}const k=R?{done:!1,value:h[0]}:P.next(T);s&&(k.value=s(k.value));let{done:M}=k;!R&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return F&&v!==tx&&(k.value=y_(h,this.options,C,this.speed)),w&&w(k.value),F&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return is(this.calculatedDuration)}get time(){return is(this.currentTime)}set time(e){var n;e=rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=is(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=CU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function $U(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const va=t=>t*180/Math.PI,nx=t=>{const e=va(Math.atan2(t[1],t[0]));return rx(e)},BU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:nx,rotateZ:nx,skewX:t=>va(Math.atan(t[1])),skewY:t=>va(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rx=t=>(t=t%360,t<0&&(t+=360),t),sE=nx,oE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),GU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oE,scaleY:aE,scale:t=>(oE(t)+aE(t))/2,rotateX:t=>rx(va(Math.atan2(t[6],t[5]))),rotateY:t=>rx(va(Math.atan2(-t[2],t[0]))),rotateZ:sE,rotate:sE,skewX:t=>va(Math.atan(t[4])),skewY:t=>va(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ix(t){return t.includes("scale")?1:0}function sx(t,e){if(!t||t==="none")return ix(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=GU,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=BU,i=l}if(!i)return ix(e);const s=r[e],o=i[1].split(",").map(WU);return typeof s=="function"?s(o):o[s]}const UU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sx(n,e)};function WU(t){return parseFloat(t.trim())}const yc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xc=new Set(yc),lE=t=>t===pc||t===Ze,HU=new Set(["x","y","z"]),XU=yc.filter(t=>!HU.has(t));function KU(t){const e=[];return XU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ra={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sx(e,"x"),y:(t,{transform:e})=>sx(e,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Ta=new Set;let ox=!1,ax=!1,lx=!1;function MA(){if(ax){const t=Array.from(Ta).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=KU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ax=!1,ox=!1,Ta.forEach(t=>t.complete(lx)),Ta.clear()}function IA(){Ta.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ax=!0)})}function YU(){lx=!0,IA(),MA(),lx=!1}class __{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),ox||(ox=!0,on.read(IA),on.resolveKeyframes(MA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}$U(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZU=t=>t.startsWith("--");function qU(t,e,n){ZU(e)?t.style.setProperty(e,n):t.style[e]=n}const JU=a_(()=>window.ScrollTimeline!==void 0),QU={};function e8(t,e){const n=a_(t);return()=>QU[e]??n()}const NA=e8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,cE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function FA(t,e){if(t)return typeof t=="function"?NA()?PA(t,e):"ease-out":xA(t)?yu(t):Array.isArray(t)?t.map(n=>FA(n,e)||cE.easeOut):cE[t]}function t8(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const f=FA(l,i);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(h,p)}function jA(t){return typeof t=="function"&&"applyToOptions"in t}function n8({type:t,...e}){return jA(t)&&NA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class r8 extends x_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,o_(typeof e.type!="string");const d=n8(e);this.animation=t8(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=y_(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):qU(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return is(Number(e))}get time(){return is(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&JU()?(this.animation.timeline=e,ii):n(this)}}const LA={anticipate:mA,backInOut:fA,circInOut:pA};function i8(t){return t in LA}function s8(t){typeof t.ease=="string"&&i8(t.ease)&&(t.ease=LA[t.ease])}const uE=10;class o8 extends r8{constructor(e){s8(e),AA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new v_({...o,autoplay:!1}),c=rs(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-uE).value,l.sample(c).value,uE),l.stop()}}const dE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Io.test(t)||t==="0")&&!t.startsWith("url("));function a8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function l8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=dE(i,e),l=dE(s,e);return!o||!l?!1:a8(t)||(n==="spring"||jA(n))&&r}function w_(t){return oA(t)&&"offsetHeight"in t}const c8=new Set(["opacity","clipPath","filter","transform"]),u8=a_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function d8(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!w_((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return u8()&&n&&c8.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const h8=40;class f8 extends x_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...f}){var v;super(),this.stop=()=>{var w,C;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Er.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||__;this.keyframeResolver=new y(l,(w,C,b)=>this.onKeyframesResolved(w,C,p,!b),c,d,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=Er.now(),l8(e,s,o,l)||((Ds.instantAnimations||!c)&&(h==null||h(y_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>h8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&d8(p)?new o8({...p,element:p.motionValue.owner.current}):new v_(p);y.finished.then(()=>this.notifyFinished()).catch(ii),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),YU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const m8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g8(t){const e=m8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function DA(t,e,n=1){const[r,i]=g8(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return sA(o)?parseFloat(o):o}return h_(i)?DA(i,e,n+1):i}function S_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const OA=new Set(["width","height","top","left","right","bottom",...yc]),p8={test:t=>t==="auto",parse:t=>t},VA=t=>e=>e.test(t),zA=[pc,Ze,ss,go,aU,oU,p8],hE=t=>zA.find(VA(t));function y8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aA(t):!0}const x8=new Set(["brightness","contrast","saturate","opacity"]);function v8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(f_)||[];if(!r)return t;const i=n.replace(r,"");let s=x8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const _8=/\b([a-z-]*)\(.*?\)/gu,cx={...Io,getAnimatableNone:t=>{const e=t.match(_8);return e?e.map(v8).join(" "):t}},fE={...pc,transform:Math.round},w8={rotate:go,rotateX:go,rotateY:go,rotateZ:go,scale:cf,scaleX:cf,scaleY:cf,scaleZ:cf,skew:go,skewX:go,skewY:go,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:Ju,originX:Qb,originY:Qb,originZ:Ze},C_={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...w8,zIndex:fE,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:fE},S8={...C_,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:cx,WebkitFilter:cx},$A=t=>S8[t];function BA(t,e){let n=$A(t);return n!==cx&&(n=Io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const C8=new Set(["auto","none","0"]);function b8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!C8.has(s)&&Qu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=BA(n,i)}class E8 extends __{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),h_(d))){const h=DA(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!OA.has(r)||e.length!==2)return;const[i,s]=e,o=hE(i),l=hE(s);if(o!==l)if(lE(o)&&lE(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Ra[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||y8(e[i]))&&r.push(i);r.length&&b8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ra[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function R8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const GA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mE=30,T8=t=>!isNaN(parseFloat(t));class P8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,l;const s=Er.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=T8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new l_);const r=this.events[e].add(n);return e==="change"?()=>{r(),on.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mE);return lA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(t,e){return new P8(t,e)}const{schedule:b_}=vA(queueMicrotask,!1),yi={x:!1,y:!1};function UA(){return yi.x||yi.y}function k8(t){return t==="x"||t==="y"?yi[t]?null:(yi[t]=!0,()=>{yi[t]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function WA(t,e){const n=R8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function gE(t){return!(t.pointerType==="touch"||UA())}function A8(t,e,n={}){const[r,i,s]=WA(t,n),o=l=>{if(!gE(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=f=>{gE(f)&&(d(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const HA=(t,e)=>e?t===e?!0:HA(t,e.parentElement):!1,E_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,M8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function I8(t){return M8.has(t.tagName)||t.tabIndex!==-1}const Mf=new WeakSet;function pE(t){return e=>{e.key==="Enter"&&t(e)}}function Xy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const N8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pE(()=>{if(Mf.has(n))return;Xy(n,"down");const i=pE(()=>{Xy(n,"up")}),s=()=>Xy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yE(t){return E_(t)&&!UA()}function F8(t,e,n={}){const[r,i,s]=WA(t,n),o=l=>{const c=l.currentTarget;if(!yE(l))return;Mf.add(c);const d=e(c,l),h=(y,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Mf.has(c)&&Mf.delete(c),yE(y)&&typeof d=="function"&&d(y,{success:v})},f=y=>{h(y,c===window||c===document||n.useGlobalTarget||HA(c,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),w_(l)&&(l.addEventListener("focus",d=>N8(d,i)),!I8(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function XA(t){return oA(t)&&"ownerSVGElement"in t}function j8(t){return XA(t)&&t.tagName==="svg"}const ar=t=>!!(t&&t.getVelocity),L8=[...zA,vn,Io],D8=t=>L8.find(VA(t)),R_=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class O8 extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=w_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function V8({children:t,isPresent:e,anchorX:n}){const r=_.useId(),i=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(R_);return _.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=s.current;if(e||!i.current||!l||!c)return;const p=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),g.jsx(O8,{isPresent:e,childRef:i,sizeRef:s,children:_.cloneElement(t,{ref:i})})}const z8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const c=n_($8),d=_.useId();let h=!0,f=_.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const y of c.values())if(!y)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return s&&h&&(f={...f}),_.useMemo(()=>{c.forEach((p,y)=>c.set(y,!1))},[n]),_.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(V8,{isPresent:n,anchorX:l,children:t})),g.jsx(rg.Provider,{value:f,children:t})};function $8(){return new Map}function KA(t=!0){const e=_.useContext(rg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const o=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const uf=t=>t.key||"";function xE(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const B8=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=KA(o),h=_.useMemo(()=>xE(t),[t]),f=o&&!c?[]:h.map(uf),p=_.useRef(!0),y=_.useRef(h),v=n_(()=>new Map),[w,C]=_.useState(h),[b,R]=_.useState(h);iA(()=>{p.current=!1,y.current=h;for(let k=0;k<b.length;k++){const M=uf(b[k]);f.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[b,f.length,f.join("-")]);const T=[];if(h!==w){let k=[...h];for(let M=0;M<b.length;M++){const F=b[M],I=uf(F);f.includes(I)||(k.splice(M,0,F),T.push(F))}return s==="wait"&&T.length&&(k=T),R(xE(k)),C(h),null}const{forceRender:P}=_.useContext(t_);return g.jsx(g.Fragment,{children:b.map(k=>{const M=uf(k),F=o&&!c?!1:h===b||f.includes(M),I=()=>{if(v.has(M))v.set(M,!0);else return;let z=!0;v.forEach(G=>{G||(z=!1)}),z&&(P==null||P(),R(y.current),o&&(d==null||d()),r&&r())};return g.jsx(z8,{isPresent:F,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:F?void 0:I,anchorX:l,children:k},M)})})},YA=_.createContext({strict:!1}),vE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const t in vE)Zl[t]={isEnabled:e=>vE[t].some(n=>!!e[n])};function G8(t){for(const e in t)Zl[e]={...Zl[e],...t[e]}}const U8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function om(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U8.has(t)}let ZA=t=>!om(t);function W8(t){typeof t=="function"&&(ZA=e=>e.startsWith("on")?!om(e):t(e))}try{W8(require("@emotion/is-prop-valid").default)}catch{}function H8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZA(i)||n===!0&&om(i)||!e&&!om(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function X8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ig=_.createContext({});function sg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ed(t){return typeof t=="string"||Array.isArray(t)}const T_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],P_=["initial",...T_];function og(t){return sg(t.animate)||P_.some(e=>ed(t[e]))}function qA(t){return!!(og(t)||t.variants)}function K8(t,e){if(og(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ed(n)?n:void 0,animate:ed(r)?r:void 0}}return t.inherit!==!1?e:{}}function Y8(t){const{initial:e,animate:n}=K8(t,_.useContext(ig));return _.useMemo(()=>({initial:e,animate:n}),[_E(e),_E(n)])}function _E(t){return Array.isArray(t)?t.join(" "):t}const Z8=Symbol.for("motionComponentSymbol");function Ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function q8(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ll(n)&&(n.current=r))},[e])}const k_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J8="framerAppearId",JA="data-"+k_(J8),QA=_.createContext({});function Q8(t,e,n,r,i){var w,C;const{visualElement:s}=_.useContext(ig),o=_.useContext(YA),l=_.useContext(rg),c=_.useContext(R_).reducedMotion,d=_.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,f=_.useContext(QA);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&eW(d.current,n,i,f);const p=_.useRef(!1);_.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const y=n[JA],v=_.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,y)));return iA(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),b_.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),_.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,y)}),v.current=!1))}),h}function eW(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eM(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Ll(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function eM(t){if(t)return t.options.allowProjection!==!1?t.projection:eM(t.parent)}function tW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&G8(t);function s(l,c){let d;const h={..._.useContext(R_),...l,layoutId:nW(l)},{isStatic:f}=h,p=Y8(l),y=r(l,f);if(!f&&r_){rW();const v=iW(h);d=v.MeasureLayout,p.visualElement=Q8(i,y,h,e,v.ProjectionNode)}return g.jsxs(ig.Provider,{value:p,children:[d&&p.visualElement?g.jsx(d,{visualElement:p.visualElement,...h}):null,n(i,l,q8(y,p.visualElement,c),y,f,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=_.forwardRef(s);return o[Z8]=i,o}function nW({layoutId:t}){const e=_.useContext(t_).id;return e&&t!==void 0?e+"-"+t:t}function rW(t,e){_.useContext(YA).strict}function iW(t){const{drag:e,layout:n}=Zl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const td={};function sW(t){for(const e in t)td[e]=t[e],d_(e)&&(td[e].isCSSVariable=!0)}function tM(t,{layout:e,layoutId:n}){return xc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!td[t]||t==="opacity")}const oW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aW=yc.length;function lW(t,e,n){let r="",i=!0;for(let s=0;s<aW;s++){const o=yc[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=GA(l,C_[o]);if(!c){i=!1;const h=oW[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function A_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(xc.has(c)){o=!0;continue}else if(d_(c)){i[c]=d;continue}else{const h=GA(d,C_[c]);c.startsWith("origin")?(l=!0,s[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=lW(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${d} ${h}`}}const M_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nM(t,e,n){for(const r in e)!ar(e[r])&&!tM(r,n)&&(t[r]=e[r])}function cW({transformTemplate:t},e){return _.useMemo(()=>{const n=M_();return A_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function uW(t,e){const n=t.style||{},r={};return nM(r,n,t),Object.assign(r,cW(t,e)),r}function dW(t,e){const n={},r=uW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const hW={offset:"stroke-dashoffset",array:"stroke-dasharray"},fW={offset:"strokeDashoffset",array:"strokeDasharray"};function mW(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?hW:fW;t[s.offset]=Ze.transform(-r);const o=Ze.transform(e),l=Ze.transform(n);t[s.array]=`${o} ${l}`}function rM(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,d,h){if(A_(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&mW(f,i,s,o,!1)}const iM=()=>({...M_(),attrs:{}}),sM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gW(t,e,n,r){const i=_.useMemo(()=>{const s=iM();return rM(s,e,sM(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};nM(s,t.style,t),i.style={...s,...i.style}}return i}const pW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I_(t){return typeof t!="string"||t.includes("-")?!1:!!(pW.indexOf(t)>-1||/[A-Z]/u.test(t))}function yW(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(I_(n)?gW:dW)(r,s,o,n),d=H8(r,typeof n=="string",t),h=n!==_.Fragment?{...d,...c,ref:i}:{},{children:f}=r,p=_.useMemo(()=>ar(f)?f.get():f,[f]);return _.createElement(n,{...h,children:p})}}function wE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function N_(t,e,n,r){if(typeof e=="function"){const[i,s]=wE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=wE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function If(t){return ar(t)?t.get():t}function xW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:vW(n,r,i,t),renderState:e()}}const oM=t=>(e,n)=>{const r=_.useContext(ig),i=_.useContext(rg),s=()=>xW(t,e,r,i);return n?s():n_(s)};function vW(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=If(s[p]);let{initial:o,animate:l}=t;const c=og(t),d=qA(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!sg(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const v=N_(t,p[y]);if(v){const{transitionEnd:w,transition:C,...b}=v;for(const R in b){let T=b[R];if(Array.isArray(T)){const P=h?T.length-1:0;T=T[P]}T!==null&&(i[R]=T)}for(const R in w)i[R]=w[R]}}}return i}function F_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ar(r[o])||e.style&&ar(e.style[o])||tM(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const _W={useVisualState:oM({scrapeMotionValuesFromProps:F_,createRenderState:M_})};function aM(t,e,n){const r=F_(t,e,n);for(const i in t)if(ar(t[i])||ar(e[i])){const s=yc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const wW={useVisualState:oM({scrapeMotionValuesFromProps:aM,createRenderState:iM})};function SW(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...I_(r)?wW:_W,preloadedFeatures:t,useRender:yW(i),createVisualElement:e,Component:r};return tW(o)}}function nd(t,e,n){const r=t.getProps();return N_(r,e,n!==void 0?n:r.custom,t)}const ux=t=>Array.isArray(t);function CW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yl(n))}function bW(t){return ux(t)?t[t.length-1]||0:t}function EW(t,e){const n=nd(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=bW(s[o]);CW(t,o,l)}}function RW(t){return!!(ar(t)&&t.add)}function dx(t,e){const n=t.getValue("willChange");if(RW(n))return n.add(e);if(!n&&Ds.WillChange){const r=new Ds.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lM(t){return t.props[JA]}const TW=t=>t!==null;function PW(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(TW),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const kW={type:"spring",stiffness:500,damping:25,restSpeed:10},AW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MW={type:"keyframes",duration:.8},IW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NW=(t,{keyframes:e})=>e.length>2?MW:xc.has(t)?t.startsWith("scale")?AW(e[1]):kW:IW;function FW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const j_=(t,e,n,r={},i,s)=>o=>{const l=S_(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-rs(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};FW(l)||Object.assign(h,NW(t,h)),h.duration&&(h.duration=rs(h.duration)),h.repeatDelay&&(h.repeatDelay=rs(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),(Ds.instantAnimations||Ds.skipAnimations)&&(f=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!s&&e.get()!==void 0){const p=PW(h.keyframes,l);if(p!==void 0){on.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new v_(h):new f8(h)};function jW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function cM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),p=l[h];if(p===void 0||d&&jW(d,h))continue;const y={delay:n,...S_(s||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=lM(t);if(b){const R=window.MotionHandoffAnimation(b,h,on);R!==null&&(y.startTime=R,w=!0)}}dx(t,h),f.start(j_(h,f,p,t.shouldReduceMotion&&OA.has(h)?{type:!1}:y,t,w));const C=f.animation;C&&c.push(C)}return o&&Promise.all(c).then(()=>{on.update(()=>{o&&EW(t,o)})}),c}function hx(t,e,n={}){var c;const r=nd(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(cM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return LW(t,e,h+d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function LW(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(DW).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(hx(d,e,{...s,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function DW(t,e){return t.sortNodePosition(e)}function OW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>hx(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=hx(t,e,n);else{const i=typeof e=="function"?nd(t,e,n.custom):e;r=Promise.all(cM(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function uM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const VW=P_.length;function dM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<VW;n++){const r=P_[n],i=t.props[r];(ed(i)||i===!1)&&(e[r]=i)}return e}const zW=[...T_].reverse(),$W=T_.length;function BW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>OW(t,n,r)))}function GW(t){let e=BW(t),n=SE(),r=!0;const i=c=>(d,h)=>{var p;const f=nd(t,h,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:v,...w}=f;d={...d,...w,...v}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,h=dM(t.parent)||{},f=[],p=new Set;let y={},v=1/0;for(let C=0;C<$W;C++){const b=zW[C],R=n[b],T=d[b]!==void 0?d[b]:h[b],P=ed(T),k=b===c?R.isActive:null;k===!1&&(v=C);let M=T===h[b]&&T!==d[b]&&P;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),R.protectedKeys={...y},!R.isActive&&k===null||!T&&!R.prevProp||sg(T)||typeof T=="boolean")continue;const F=UW(R.prevProp,T);let I=F||b===c&&R.isActive&&!M&&P||C>v&&P,z=!1;const G=Array.isArray(T)?T:[T];let V=G.reduce(i(b),{});k===!1&&(V={});const{prevResolvedValues:H={}}=R,B={...H,...V},X=D=>{I=!0,p.has(D)&&(z=!0,p.delete(D)),R.needsAnimating[D]=!0;const j=t.getValue(D);j&&(j.liveStyle=!1)};for(const D in B){const j=V[D],U=H[D];if(y.hasOwnProperty(D))continue;let q=!1;ux(j)&&ux(U)?q=!uM(j,U):q=j!==U,q?j!=null?X(D):p.add(D):j!==void 0&&p.has(D)?X(D):R.protectedKeys[D]=!0}R.prevProp=T,R.prevResolvedValues=V,R.isActive&&(y={...y,...V}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&F)||z)&&f.push(...G.map(D=>({animation:D,options:{type:b}})))}if(p.size){const C={};if(typeof d.initial!="boolean"){const b=nd(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(C.transition=b.transition)}p.forEach(b=>{const R=t.getBaseTarget(b),T=t.getValue(b);T&&(T.liveStyle=!0),C[b]=R??null}),f.push({animation:C})}let w=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function l(c,d){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=SE(),r=!0}}}function UW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uM(e,t):!1}function ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SE(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class Vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class WW extends Vo{constructor(e){super(e),e.animationState||(e.animationState=GW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let HW=0;class XW extends Vo{constructor(){super(...arguments),this.id=HW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const KW={animation:{Feature:WW},exit:{Feature:XW}};function rd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Pd(t){return{point:{x:t.pageX,y:t.pageY}}}const YW=t=>e=>E_(e)&&t(e,Pd(e));function ku(t,e,n,r){return rd(t,e,YW(n),r)}function hM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ZW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const fM=1e-4,JW=1-fM,QW=1+fM,mM=.01,eH=0-mM,tH=0+mM;function hr(t){return t.max-t.min}function nH(t,e,n){return Math.abs(t-e)<=n}function CE(t,e,n,r=.5){t.origin=r,t.originPoint=sn(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=sn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=JW&&t.scale<=QW||isNaN(t.scale))&&(t.scale=1),(t.translate>=eH&&t.translate<=tH||isNaN(t.translate))&&(t.translate=0)}function Au(t,e,n,r){CE(t.x,e.x,n.x,r?r.originX:void 0),CE(t.y,e.y,n.y,r?r.originY:void 0)}function bE(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function rH(t,e,n){bE(t.x,e.x,n.x),bE(t.y,e.y,n.y)}function EE(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function Mu(t,e,n){EE(t.x,e.x,n.x),EE(t.y,e.y,n.y)}const RE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:RE(),y:RE()}),TE=()=>({min:0,max:0}),hn=()=>({x:TE(),y:TE()});function ti(t){return[t("x"),t("y")]}function Ky(t){return t===void 0||t===1}function fx({scale:t,scaleX:e,scaleY:n}){return!Ky(t)||!Ky(e)||!Ky(n)}function aa(t){return fx(t)||gM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gM(t){return PE(t.x)||PE(t.y)}function PE(t){return t&&t!=="0%"}function am(t,e,n){const r=t-n,i=e*r;return n+i}function kE(t,e,n,r,i){return i!==void 0&&(t=am(t,i,r)),am(t,n,r)+e}function mx(t,e=0,n=1,r,i){t.min=kE(t.min,e,n,r,i),t.max=kE(t.max,e,n,r,i)}function pM(t,{x:e,y:n}){mx(t.x,e.translate,e.scale,e.originPoint),mx(t.y,n.translate,n.scale,n.originPoint)}const AE=.999999999999,ME=1.0000000000001;function iH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Vl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pM(t,o)),r&&aa(s.latestValues)&&Vl(t,s.latestValues))}e.x<ME&&e.x>AE&&(e.x=1),e.y<ME&&e.y>AE&&(e.y=1)}function Ol(t,e){t.min=t.min+e,t.max=t.max+e}function IE(t,e,n,r,i=.5){const s=sn(t.min,t.max,i);mx(t,e,n,s,r)}function Vl(t,e){IE(t.x,e.x,e.scaleX,e.scale,e.originX),IE(t.y,e.y,e.scaleY,e.scale,e.originY)}function yM(t,e){return hM(qW(t.getBoundingClientRect(),e))}function sH(t,e,n){const r=yM(t,n),{scroll:i}=e;return i&&(Ol(r.x,i.offset.x),Ol(r.y,i.offset.y)),r}const xM=({current:t})=>t?t.ownerDocument.defaultView:null,NE=(t,e)=>Math.abs(t-e);function oH(t,e){const n=NE(t.x,e.x),r=NE(t.y,e.y);return Math.sqrt(n**2+r**2)}class vM{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=oH(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:v}=f,{timestamp:w}=Wn;this.history.push({...v,timestamp:w});const{onStart:C,onMove:b}=this.handlers;p||(C&&C(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Yy(p,this.transformPagePoint),on.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Zy(f.type==="pointercancel"?this.lastMoveEventInfo:Yy(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,C),v&&v(f,C)},!E_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Pd(e),l=Yy(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Wn;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Zy(l,this.history)),this.removeListeners=Ed(ku(this.contextWindow,"pointermove",this.handlePointerMove),ku(this.contextWindow,"pointerup",this.handlePointerUp),ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}}function Yy(t,e){return e?{point:e(t.point)}:t}function FE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zy({point:t},e){return{point:t,delta:FE(t,_M(e)),offset:FE(t,aH(e)),velocity:lH(e,.1)}}function aH(t){return t[0]}function _M(t){return t[t.length-1]}function lH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=_M(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>rs(e)));)n--;if(!r)return{x:0,y:0};const s=is(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?sn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?sn(n,t,r.max):Math.min(t,n)),t}function jE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uH(t,{top:e,left:n,bottom:r,right:i}){return{x:jE(t.x,n,i),y:jE(t.y,e,r)}}function LE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dH(t,e){return{x:LE(t.x,e.x),y:LE(t.y,e.y)}}function hH(t,e){let n=.5;const r=hr(t),i=hr(e);return i>r?n=qu(e.min,e.max-r,t.min):r>i&&(n=qu(t.min,t.max-i,e.min)),Ls(0,1,n)}function fH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gx=.35;function mH(t=gx){return t===!1?t=0:t===!0&&(t=gx),{x:DE(t,"left","right"),y:DE(t,"top","bottom")}}function DE(t,e,n){return{min:OE(t,e),max:OE(t,n)}}function OE(t,e){return typeof t=="number"?t:t[e]||0}const gH=new WeakMap;class pH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pd(h).point)},s=(h,f)=>{const{drag:p,dragPropagation:y,onDragStart:v}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k8(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(C=>{let b=this.getAxisMotionValue(C).get()||0;if(ss.test(b)){const{projection:R}=this.visualElement;if(R&&R.layout){const T=R.layout.layoutBox[C];T&&(b=hr(T)*(parseFloat(b)/100))}}this.originPoint[C]=b}),v&&on.postRender(()=>v(h,f)),dx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:C}=f;if(y&&this.currentDirection===null){this.currentDirection=yH(C),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,C),this.updateAxis("y",f.point,C),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>this.stop(h,f),c=()=>ti(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new vM(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:xM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&on.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!df(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=uH(r.layoutBox,e):this.constraints=!1,this.elastic=mH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ti(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ll(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=sH(r,i.root,this.visualElement.getTransformPagePoint());let o=dH(i.layout.layoutBox,s);if(n){const l=n(ZW(o));this.hasMutatedConstraints=!!l,l&&(o=hM(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ti(h=>{if(!df(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dx(this.visualElement,e),r.start(j_(e,r,0,n,this.visualElement,!1))}stopAnimation(){ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ti(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ti(n=>{const{drag:r}=this.getProps();if(!df(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-sn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ll(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ti(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=hH({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ti(o=>{if(!df(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(sn(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;gH.set(this.visualElement,this);const e=this.visualElement.current,n=ku(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ll(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),on.read(r);const o=rd(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ti(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=gx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xH extends Vo{constructor(e){super(e),this.removeGroupControls=ii,this.removeListeners=ii,this.controls=new pH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const VE=t=>(e,n)=>{t&&on.postRender(()=>t(e,n))};class vH extends Vo{constructor(){super(...arguments),this.removePointerDownListener=ii}onPointerDown(e){this.session=new vM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:VE(e),onStart:VE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&on.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const du={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ze.test(t))t=parseFloat(t);else return t;const n=zE(t,e.target.x),r=zE(t,e.target.y);return`${n}% ${r}%`}},_H={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Io.parse(t);if(i.length>5)return r;const s=Io.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=sn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class wH extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;sW(SH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||on.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),b_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wM(t){const[e,n]=KA(),r=_.useContext(t_);return g.jsx(wH,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(QA),isPresent:e,safeToRemove:n})}const SH={borderRadius:{...du,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:du,borderTopRightRadius:du,borderBottomLeftRadius:du,borderBottomRightRadius:du,boxShadow:_H};function CH(t,e,n){const r=ar(t)?t:Yl(t);return r.start(j_("",r,e,n)),r.animation}const bH=(t,e)=>t.depth-e.depth;class EH{constructor(){this.children=[],this.isDirty=!1}add(e){i_(this.children,e),this.isDirty=!0}remove(e){s_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bH),this.isDirty=!1,this.children.forEach(e)}}function RH(t,e){const n=Er.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mo(r),t(s-e))};return on.setup(r,!0),()=>Mo(r)}const SM=["TopLeft","TopRight","BottomLeft","BottomRight"],TH=SM.length,$E=t=>typeof t=="string"?parseFloat(t):t,BE=t=>typeof t=="number"||Ze.test(t);function PH(t,e,n,r,i,s){i?(t.opacity=sn(0,n.opacity??1,kH(r)),t.opacityExit=sn(e.opacity??1,0,AH(r))):s&&(t.opacity=sn(e.opacity??1,n.opacity??1,r));for(let o=0;o<TH;o++){const l=`border${SM[o]}Radius`;let c=GE(e,l),d=GE(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||BE(c)===BE(d)?(t[l]=Math.max(sn($E(c),$E(d),r),0),(ss.test(d)||ss.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=sn(e.rotate||0,n.rotate||0,r))}function GE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kH=CM(0,.5,gA),AH=CM(.5,.95,ii);function CM(t,e,n){return r=>r<t?0:r>e?1:n(qu(t,e,r))}function UE(t,e){t.min=e.min,t.max=e.max}function ei(t,e){UE(t.x,e.x),UE(t.y,e.y)}function WE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HE(t,e,n,r,i){return t-=e,t=am(t,1/n,r),i!==void 0&&(t=am(t,1/i,r)),t}function MH(t,e=0,n=1,r=.5,i,s=t,o=t){if(ss.test(e)&&(e=parseFloat(e),e=sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=sn(s.min,s.max,r);t===s&&(l-=e),t.min=HE(t.min,e,n,l,i),t.max=HE(t.max,e,n,l,i)}function XE(t,e,[n,r,i],s,o){MH(t,e[n],e[r],e[i],e.scale,s,o)}const IH=["x","scaleX","originX"],NH=["y","scaleY","originY"];function KE(t,e,n,r){XE(t.x,e,IH,n?n.x:void 0,r?r.x:void 0),XE(t.y,e,NH,n?n.y:void 0,r?r.y:void 0)}function YE(t){return t.translate===0&&t.scale===1}function bM(t){return YE(t.x)&&YE(t.y)}function ZE(t,e){return t.min===e.min&&t.max===e.max}function FH(t,e){return ZE(t.x,e.x)&&ZE(t.y,e.y)}function qE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EM(t,e){return qE(t.x,e.x)&&qE(t.y,e.y)}function JE(t){return hr(t.x)/hr(t.y)}function QE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jH{constructor(){this.members=[]}add(e){i_(this.members,e),e.scheduleRender()}remove(e){if(s_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:p,skewX:y,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const qy=["","X","Y","Z"],DH={visibility:"hidden"},OH=1e3;let VH=0;function Jy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",on,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RM(r)}function TM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=VH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BH),this.nodes.forEach(HH),this.nodes.forEach(XH),this.nodes.forEach(GH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new EH)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new l_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=XA(o)&&!j8(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=RH(f,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(nR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||JH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=d.getProps(),b=!this.targetLayout||!EM(this.targetLayout,y),R=!f&&p;if(this.options.layoutRoot||this.resumeFrom||R||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...S_(v,"layout"),onPlay:w,onComplete:C};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(h,R)}else f||nR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tR);return}this.isUpdating||this.nodes.forEach(tR),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(WH),this.nodes.forEach(zH),this.nodes.forEach($H),this.clearAllSnapshots();const l=Er.now();Wn.delta=Ls(0,1e3/60,l-Wn.timestamp),Wn.timestamp=l,Wn.isProcessing=!0,Gy.update.process(Wn),Gy.preRender.process(Wn),Gy.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UH),this.sharedNodes.forEach(YH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,on.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){on.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bM(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||aa(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),QH(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return hn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(e9))){const{scroll:h}=this.root;h&&(Ol(l.x,h.offset.x),Ol(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=hn();if(ei(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&ei(l,o),Ol(l.x,f.offset.x),Ol(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=hn();ei(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Vl(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),aa(h.latestValues)&&Vl(c,h.latestValues)}return aa(this.latestValues)&&Vl(c,this.latestValues),c}removeTransform(o){const l=hn();ei(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!aa(d.latestValues))continue;fx(d.latestValues)&&d.updateSnapshot();const h=hn(),f=d.measurePageBox();ei(h,f),KE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return aa(this.latestValues)&&KE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Mu(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ei(this.target,this.layout.layoutBox),pM(this.target,this.targetDelta)):ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Mu(this.relativeTargetOrigin,this.target,y.target),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fx(this.parent.latestValues)||gM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ei(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;iH(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=hn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WE(this.prevProjectionDelta.x,this.projectionDelta.x),WE(this.prevProjectionDelta.y,this.projectionDelta.y)),Au(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!QE(this.projectionDelta.x,this.prevProjectionDelta.x)||!QE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=hn(),y=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,C=this.getStack(),b=!C||C.members.length<=1,R=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(qH));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const k=P/1e3;rR(f.x,o.x,k),rR(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZH(this.relativeTarget,this.relativeTargetOrigin,p,k),T&&FH(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=hn()),ei(T,this.relativeTarget)),w&&(this.animationValues=h,PH(h,d,this.latestValues,k,R,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=on.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=CH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&PM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||hn();const f=hr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=hr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}ei(l,c),Vl(l,h),Au(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jH),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Jy("z",o,d,this.animationValues);for(let h=0;h<qy.length;h++)Jy(`rotate${qy[h]}`,o,d,this.animationValues),Jy(`skew${qy[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return DH;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=If(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=If(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=LH(this.projectionDeltaWithTransform,this.treeScale,h),c&&(l.transform=c(h,l.transform));const{x:f,y:p}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in td){if(h[y]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:C}=td[y],b=l.transform==="none"?h[y]:v(h[y],d);if(w){const R=w.length;for(let T=0;T<R;T++)l[w[T]]=b}else C?this.options.visualElement.renderState.vars[y]=b:l[y]=b}return this.options.layoutId&&(l.pointerEvents=d===this?If(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(eR),this.root.sharedNodes.clear()}}}function zH(t){t.updateLayout()}function $H(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ti(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=hr(p);p.min=r[f].min,p.max=p.min+y}):PM(s,e.layoutBox,r)&&ti(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=hr(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const l=Dl();Au(l,r,e.layoutBox);const c=Dl();o?Au(c,t.applyTransform(i,!0),e.measuredBox):Au(c,r,e.layoutBox);const d=!bM(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const v=hn();Mu(v,e.layoutBox,p.layoutBox);const w=hn();Mu(w,r,y.layoutBox),EM(v,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function BH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UH(t){t.clearSnapshot()}function eR(t){t.clearMeasurements()}function tR(t){t.isLayoutDirty=!1}function WH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HH(t){t.resolveTargetDelta()}function XH(t){t.calcProjection()}function KH(t){t.resetSkewAndRotation()}function YH(t){t.removeLeadSnapshot()}function rR(t,e,n){t.translate=sn(e.translate,0,n),t.scale=sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iR(t,e,n,r){t.min=sn(e.min,n.min,r),t.max=sn(e.max,n.max,r)}function ZH(t,e,n,r){iR(t.x,e.x,n.x,r),iR(t.y,e.y,n.y,r)}function qH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JH={duration:.45,ease:[.4,0,.1,1]},sR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oR=sR("applewebkit/")&&!sR("chrome/")?Math.round:ii;function aR(t){t.min=oR(t.min),t.max=oR(t.max)}function QH(t){aR(t.x),aR(t.y)}function PM(t,e,n){return t==="position"||t==="preserve-aspect"&&!nH(JE(e),JE(n),.2)}function e9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const t9=TM({attachResizeListener:(t,e)=>rd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qy={current:void 0},kM=TM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qy.current){const t=new t9({});t.mount(window),t.setOptions({layoutScroll:!0}),Qy.current=t}return Qy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n9={pan:{Feature:vH},drag:{Feature:xH,ProjectionNode:kM,MeasureLayout:wM}};function lR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&on.postRender(()=>s(e,Pd(e)))}class r9 extends Vo{mount(){const{current:e}=this.node;e&&(this.unmount=A8(e,(n,r)=>(lR(this.node,r,"Start"),i=>lR(this.node,i,"End"))))}unmount(){}}class i9 extends Vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ed(rd(this.node.current,"focus",()=>this.onFocus()),rd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&on.postRender(()=>s(e,Pd(e)))}class s9 extends Vo{mount(){const{current:e}=this.node;e&&(this.unmount=F8(e,(n,r)=>(cR(this.node,r,"Start"),(i,{success:s})=>cR(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const px=new WeakMap,e0=new WeakMap,o9=t=>{const e=px.get(t.target);e&&e(t)},a9=t=>{t.forEach(o9)};function l9({root:t,...e}){const n=t||document;e0.has(n)||e0.set(n,{});const r=e0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(a9,{root:t,...e})),r[i]}function c9(t,e,n){const r=l9(e);return px.set(t,n),r.observe(t),()=>{px.delete(t),r.unobserve(t)}}const u9={some:0,all:1};class d9 extends Vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:u9[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return c9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(h9(e,n))&&this.startObserver()}unmount(){}}function h9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const f9={inView:{Feature:d9},tap:{Feature:s9},focus:{Feature:i9},hover:{Feature:r9}},m9={layout:{ProjectionNode:kM,MeasureLayout:wM}},yx={current:null},AM={current:!1};function g9(){if(AM.current=!0,!!r_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yx.current=t.matches;t.addListener(e),e()}else yx.current=!1}const p9=new WeakMap;function y9(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ar(i))t.addValue(r,i);else if(ar(s))t.addValue(r,Yl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Yl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class x9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=__,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Er.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,on.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=og(n),this.isVariantNode=qA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&ar(y)&&y.set(c[p],!1)}}mount(e){this.current=e,p9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AM.current||g9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&on.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zl){const n=Zl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uR.length;r++){const i=uR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=y9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sA(r)||aA(r))?r=parseFloat(r):!D8(r)&&Io.test(n)&&(r=BA(e,n)),this.setBaseTarget(e,ar(r)?r.get():r)),ar(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=N_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ar(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new l_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class MM extends x9{constructor(){super(...arguments),this.KeyframeResolver=E8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ar(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IM(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function v9(t){return window.getComputedStyle(t)}class _9 extends MM{constructor(){super(...arguments),this.type="html",this.renderInstance=IM}readValueFromInstance(e,n){var r;if(xc.has(n))return(r=this.projection)!=null&&r.isProjecting?ix(n):UU(e,n);{const i=v9(e),s=(d_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yM(e,n)}build(e,n,r){A_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return F_(e,n,r)}}const NM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function w9(t,e,n,r){IM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(NM.has(i)?i:k_(i),e.attrs[i])}class S9 extends MM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xc.has(n)){const r=$A(n);return r&&r.default||0}return n=NM.has(n)?n:k_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aM(e,n,r)}build(e,n,r){rM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){w9(e,n,r,i)}mount(e){this.isSVGTag=sM(e.tagName),super.mount(e)}}const C9=(t,e)=>I_(t)?new S9(e):new _9(e,{allowProjection:t!==_.Fragment}),b9=SW({...KW,...f9,...n9,...m9},C9),E9=X8(b9);function R9({resumen:t,visible:e,onClose:n}){return t?g.jsx(B8,{children:e&&g.jsx(E9.div,{initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{duration:.2,ease:"easeOut"},className:`absolute bottom-20 left-20 right-20 md:left-20
                        z-20 flex justify-center px-4 sm:bottom-20`,children:g.jsxs("div",{className:"relative bg-white w-full max-w-[400px] max-h-[45vh] overflow-y-auto rounded-2xl shadow-xl p-4 border border-gray-300 dark:bg-zinc-900 dark:text-white",children:[g.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-1 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700",title:"Cerrar",children:g.jsx($s,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-xl font-bold mb-2 break-words",children:t.nombre}),g.jsxs("p",{className:"text-sm",children:["Animales: ",g.jsx("strong",{children:t.total_animales})]}),g.jsxs("p",{className:"text-sm",children:["Collares: ",g.jsx("strong",{children:t.total_collares})]}),t.tipos&&g.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(t.tipos).map(([r,i])=>g.jsxs("div",{className:"break-words",children:[g.jsxs("h3",{className:"font-semibold text-sm mt-2",children:[r," (",i.cantidad,")"]}),g.jsxs("p",{className:"text-xs",children:["Razas: ",Object.entries(i.por_raza).map(([s,o])=>`${s} (${o})`).join(", ")]}),g.jsxs("p",{className:"text-xs",children:["Sexos: ",Object.entries(i.por_sexo).map(([s,o])=>`${s} (${o})`).join(", ")]})]},r))})]})})}):null}function T9(t,{setMode:e,setArea:n,setTooltipText:r}){const i=_.useRef([]),s=_.useRef([]),o=_.useRef(null),l=_.useRef(null),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=_.useRef(null),y=_.useRef(!1),[v,w]=_.useState(!1),[C,b]=_.useState(!1),[R,T]=_.useState(!1),P=15,k=()=>{i.current=[],s.current=[],o.current=null,l.current=null,p.current=null,w(!1),n(0),b(!1),T(!1),r("")},M=_.useRef(N=>{y.current&&bi.modeRef.current==="draw"&&i.current.length>=3&&(b(!0),Y(),N.preventDefault())}).current,F=N=>{if(!h.current||i.current.length===0)return;o.current&&h.current.removeFeature(o.current);const L=i.current[i.current.length-1],re=new Ia([L,N]);o.current=new sr(re),o.current.setStyle(ir.previewLine),h.current.addFeature(o.current)},I=(N,L)=>{h.current&&(l.current?l.current.getGeometry().setCoordinates(N):(l.current=new sr(new Pr(N)),h.current.addFeature(l.current)),l.current.setStyle(L?ir.previewVertexSnap:ir.previewVertex))},z=N=>{const L=new sr(new Pr(N));L.setStyle(ir.vertexDraw),s.current.push(L),h.current.addFeature(L)},G=()=>{if(!h.current||i.current.length<2)return;h.current.getFeatures().forEach(L=>{L.getGeometry()instanceof rr&&h.current.removeFeature(L)});const N=new sr(new rr([i.current]));N.setStyle(ir.draw),h.current.addFeature(N)},V=()=>{const N=t.current;if(!N||i.current.length<3){c.current&&(N.removeOverlay(c.current),c.current=null),n(0);return}const L=new rr([i.current]),re=Um(L,{projection:"EPSG:3857"});n(re);const ie=`${(re/1e4).toFixed(2)} ha`,ce=L.getInteriorPoint().getCoordinates();if(!c.current){const ge=document.createElement("div");ge.className="area-label",ge.textContent=ie,c.current=new nm({element:ge,positioning:"center-center",stopEvent:!1}),N.addOverlay(c.current)}c.current.getElement().textContent=ie,c.current.setPosition(ce)},H=(N,L)=>{const re=t.current;if(re){if(!d.current){const ie=document.createElement("div");ie.className="map-tooltip",d.current=new nm({element:ie,offset:[0,-15],positioning:"bottom-center",className:"ol-tooltip-text"}),re.addOverlay(d.current)}d.current.getElement().textContent=N,d.current.setPosition(L)}},B=_.useRef(N=>{if(!y.current||bi.modeRef.current!=="draw")return;const L=t.current,re=N.coordinate,ie=i.current[0];if(ie&&L.getPixelFromCoordinate(re)&&L.getPixelFromCoordinate(ie)&&t0(L.getPixelFromCoordinate(re),L.getPixelFromCoordinate(ie))<P&&i.current.length>=3){i.current.push(ie),b(!0),Y();return}i.current.push(re),z(re),G(),V(),i.current.length>0?T(!0):T(!1);const ae=i.current.length===1?"Click para continuar dibujando":"Click para cerrar polígono";r(ae),H(ae,re),w(i.current.length>=3)}).current,X=_.useRef(N=>{if(!y.current||bi.modeRef.current!=="draw")return;const L=t.current,re=N.coordinate,ie=i.current[0],ge=(ie?t0(L.getPixelFromCoordinate(re),L.getPixelFromCoordinate(ie)):1/0)<P,ae=ge?"Click sobre el primer punto para cerrar":i.current.length===0?"Click para colocar el primer vértice":"Click para continuar dibujando";r(ae),H(ae,re),F(re),I(re,ge)}).current,Z=()=>{const N=t.current;N&&(D(),f.current&&N.removeLayer(f.current),h.current=new js,f.current=new cs({source:h.current}),N.addLayer(f.current),N.on("click",B),N.on("pointermove",X),N.on("dblclick",M),k(),e("draw"),r("Click para colocar el primer vértice"),document.body.classList.add("draw-mode"),c.current&&(N.removeOverlay(c.current),c.current=null),d.current&&(N.removeOverlay(d.current),d.current=null),y.current=!0)},Y=()=>{const N=t.current;if(!N||i.current.length<3)return;const L=i.current[0],re=i.current[i.current.length-1];L&&re&&t0(L,re)>1&&i.current.push(L),h.current&&(s.current.forEach(ce=>h.current.removeFeature(ce)),o.current&&h.current.removeFeature(o.current),l.current&&h.current.removeFeature(l.current),h.current.getFeatures().forEach(ce=>{ce.getGeometry()instanceof rr&&h.current.removeFeature(ce)}));const ie=new rr([i.current]);p.current=new sr(ie),h.current.addFeature(p.current),d.current&&(N.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),r(""),i.current=[],s.current=[],o.current=null,l.current=null,w(!1),typeof bi.onFinishCallback.current=="function"&&bi.onFinishCallback.current(p.current)},D=()=>{const N=t.current;N&&(N.on("click",B),N.on("pointermove",X),N.on("dblclick",M),k(),d.current&&(N.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),e(null),r(""),c.current&&(N.removeOverlay(c.current),c.current=null),f.current&&(N.removeLayer(f.current),f.current=null,h.current=null),document.body.classList.remove("draw-mode"),y.current=!1)},j=()=>D(),U=()=>{if(!i.current.length)return;i.current.pop();const N=s.current.pop();if(N&&h.current&&h.current.removeFeature(N),o.current&&h.current&&(h.current.removeFeature(o.current),o.current=null),h.current&&h.current.getFeatures().forEach(L=>{L.getGeometry()instanceof rr&&h.current.removeFeature(L)}),i.current.length>=2){const L=new sr(new rr([i.current]));L.setStyle(ir.draw),h.current.addFeature(L)}if(i.current.length>=1&&d.current){const L=d.current.getPosition();L&&F(L)}V(),T(i.current.length>0),w(i.current.length>=3)},q=()=>p.current||null;return _.useEffect(()=>D,[]),{enableDraw:Z,disableDraw:D,cancelDraw:j,endPolygon:Y,removeLastPoint:U,getCreatedFeature:q,canFinish:v,closedBySnap:C,firstVertexDraw:R}}function t0(t,e){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function P9(t,{setMode:e},n=()=>{}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef([]),o=_.useRef([]),l=_.useRef(!1),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=(M,F="edit")=>{const I=t.current;if(!I||!M)return;C();const z=M.getGeometry();if(!z)return;e(F);let G;if(z.getType()==="Polygon"){const D=z.getCoordinates();G=Array.isArray(D[0])?D[0]:[]}else if(z.getType()==="MultiPolygon"){const D=z.getCoordinates();G=Array.isArray(D[0][0])?D[0][0]:[]}else{console.error("Tipo no soportado:",z.getType());return}if(G.length<3)return;const V=new js,H=new cs({source:V,style:ir.edit});r.current=H,I.addLayer(H);const B=M.clone();B.setStyle(ir.edit),V.addFeature(B),h.current=B,I.getLayers().forEach(D=>{var U,q;const j=(U=D.getSource)==null?void 0:U.call(D);j&&((q=j.hasFeature)!=null&&q.call(j,M))&&j.removeFeature(M)}),i.current=new cs({source:new js,style:null}),I.addLayer(i.current);const X=new b6({source:V});c.current=X;const Z=D=>{I.forEachFeatureAtPixel(D.pixel,j=>{j.get("insertAfter")!==void 0&&(i.current.getSource().removeFeature(j),o.current=o.current.filter(U=>U!==j))})};I.on("pointerdown",Z),c.current._pointerDownHandler=Z,I.getOverlays().getArray().forEach(D=>{const j=D.getElement();j&&j.className.includes("area-label")&&I.removeOverlay(D)});const Y=()=>{var re;const D=B.getGeometry();if(!D||D.getType()!=="Polygon")return;const j=(re=D.getCoordinates())==null?void 0:re[0];if(!j||j.length<3)return;const U=new rr([j]),N=`${(Um(U,{projection:"EPSG:3857"})/1e4).toFixed(2)} ha`,L=U.getInteriorPoint().getCoordinates();if(!f.current){const ie=document.createElement("div");ie.className="area-label",ie.textContent=N,f.current=new nm({element:ie,positioning:"center-center",stopEvent:!1}),I.addOverlay(f.current)}f.current.getElement().textContent=N,f.current.setPosition(L)};X.on("modifyend",D=>{const j=D.features.item(0);if(!j)return;const U=j.getGeometry(),q=k(U);y(q),n(P(q)),Y()}),B.getGeometry().on("change",()=>{const D=B.getGeometry(),j=k(D);y(j),n(P(j)),Y()}),I.addInteraction(X),y(G),n(P(G)),Y()},y=M=>{var G;const F=t.current,I=(G=i.current)==null?void 0:G.getSource();if(!F||!I||!Array.isArray(M)||M.length<2)return;I.clear(),s.current=[],o.current=[];const z=M.slice(0,-1);z.forEach((V,H)=>{const B=new sr(new Pr(V));B.set("vertexIndex",H),B.setStyle(l.current?ir.vertexDelete:ir.vertexEdit),I.addFeature(B),s.current.push(B)});for(let V=0;V<z.length;V++){const H=z[V],B=z[(V+1)%z.length],X=[(H[0]+B[0])/2,(H[1]+B[1])/2],Z=new sr(new Pr(X));Z.set("insertAfter",V),Z.setStyle(ir.vertexIntermediate),I.addFeature(Z),o.current.push(Z)}},v=()=>{var G;const M=t.current,F=(G=r.current)==null?void 0:G.getSource(),I=R();if(!M||!F||!I)return;l.current=!0;const z=new k6({condition:UG,layers:[i.current],filter:V=>V.getGeometry().getType()==="Point"});s.current.forEach(V=>{V.setStyle(ir.vertexDelete)}),z.on("select",V=>{const H=V.selected[0],B=H==null?void 0:H.get("vertexIndex");if(B===void 0)return;const X=T();X.length<=4||(X.splice(B,1),X[X.length-1]=X[0],I.getGeometry().setCoordinates([X]),y(X),n(P(X)))}),d.current=z,M.addInteraction(z)},w=()=>{const M=t.current;if(!M||!d.current)return;M.removeInteraction(d.current),d.current=null,l.current=!1,s.current.forEach(I=>{I.setStyle(ir.vertexEdit)}),R()&&y(T())},C=()=>{const M=t.current;if(M){if(r.current&&(M.removeLayer(r.current),r.current=null),i.current&&(M.removeLayer(i.current),i.current=null),c.current){M.removeInteraction(c.current);const F=c.current._pointerDownHandler;F&&M.un("pointerdown",F),c.current=null}d.current&&(M.removeInteraction(d.current),d.current=null),f.current&&(M.removeOverlay(f.current),f.current=null),s.current=[],o.current=[],l.current=!1,h.current=null,e(null)}},b=()=>h.current||null,R=()=>{var M,F;return((F=(M=r.current)==null?void 0:M.getSource())==null?void 0:F.getFeatures().find(I=>I.getGeometry().getType()==="Polygon"))||null},T=()=>{const M=R();return k(M==null?void 0:M.getGeometry())},P=M=>M.map(F=>{const[I,z]=QP(F);return{lat:z,lng:I}}),k=M=>{if(!M||typeof M.getCoordinates!="function")return[];const F=M.getCoordinates();return M.getType()==="Polygon"&&Array.isArray(F)&&Array.isArray(F[0])?F[0]:M.getType()==="MultiPolygon"&&Array.isArray(F)&&Array.isArray(F[0])&&Array.isArray(F[0][0])?F[0][0]:[]};return{activateEditMode:p,clearEdit:C,getEditedFeature:b,activateDeleteMode:v,disableDeleteMode:w}}function k9(t,e=()=>{}){const n=iG(),r=T9(t,{setMode:n.setMode,setArea:n.setArea,setTooltipText:n.setTooltipText}),i=P9(t,{setMode:n.setMode},e);return{...n,...r,...i}}function A9(){const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[h,f]=_.useState(""),[p,y]=_.useState(!1),[v,w]=_.useState(!1),[C,b]=_.useState(null),[R,T]=_.useState([]),[P,k]=_.useState(!1),{mapRef:M,ready:F}=_.useContext(Cd),{campoSeleccionado:I,setCampoSeleccionado:z,lastCampoId:G}=_.useContext(bd),{campos:V,parcelas:H,formData:B,setFormData:X,setParcelas:Z,setAreaCampo:Y,setAreaParcela:D}=nv(),{enableDraw:j,disableDraw:U,cancelDraw:q,endPolygon:N,removeLastPoint:L,canFinish:re,closedBySnap:ie,firstVertexDraw:ce,activateDeleteMode:ge,disableDeleteMode:ae,activateEditMode:pe,clearEdit:we,getEditedFeature:be,getCreatedFeature:$e,polygonMode:Ve}=k9(M,()=>{var ye;const se=(ye=be())==null?void 0:ye.getGeometry();se&&D(Eu(se))}),{setFeaturesOnMap:yt,clearParcelas:mt}=Hv({mapRef:M,parcelas:H,formData:B,clearEdit:we,activateEditMode:pe,getCreatedFeature:$e,setFormData:X,setAreaCampo:Y,setAreaParcela:D,onSelectFeature:(se,ye)=>{b(R.find(je=>je.parcela_id===ye.id)||null),w(!1)}});Xv(()=>{we(),U(),ae(),X(se=>({...se,parcela_id:"",nombre:"",descripcion:""}))});const Wt=()=>{we(),U(),ae(),mt(),l(!1),r(!1),e(!1)},Dt=()=>["edit","draw-edit"].includes(bi.modeRef.current)?be():$e(),Ot=se=>{const{name:ye,value:je}=se.target;if(ye==="campo_id"){if(je===B.campo_id)return;Wt();const ze=V[je];ze&&M.current&&M.current.getView().animate({center:Ao([ze.lon,ze.lat]),duration:800,easing:kr}),z(je),X({campo_id:je,parcela_id:"",nombre:"",descripcion:""}),D(0)}else X(ze=>({...ze,[ye]:je}))},zn=async()=>{if(!B.campo_id||!B.nombre){f("Todos los campos son obligatorios."),d(!0);return}const se=Dt();if(!se){f("Debe crear o seleccionar una parcela."),d(!0);return}const ye=new mk,je=se.clone();je.getGeometry().transform("EPSG:3857","EPSG:4326");const ze=ye.writeFeatureObject(je,{featureProjection:"EPSG:4326"});try{B.parcela_id?await L6(B.parcela_id,ze,B.nombre,B.descripcion):await j6({campo_id:B.campo_id,nombre:B.nombre,descripcion:B.descripcion,perimetro_geojson:ze});const xt=await Na();Z(xt.parcelas),X(Vt=>({...Vt,parcela_id:"",nombre:"",descripcion:""})),Wt(),D(0),w(!1),b(null)}catch(xt){console.error("Error al guardar:",xt)}},lt=()=>{B.parcela_id&&y(!0)},$=async()=>{y(!1),w(!1);try{await D6(B.parcela_id);const se=await Na();Z(se.parcelas),X(ye=>({...ye,parcela_id:"",nombre:"",descripcion:""})),D(0)}catch(se){console.error("Error al eliminar parcela:",se)}},J=()=>{N(),l(!0),r(!0)},te=()=>{q(),we(),l(!1),r(!1)},fe=()=>{we(),ae(),e(!1),l(!1),r(!1),w(!1),b(null),X(se=>({...se,parcela_id:"",nombre:"",descripcion:""})),D(0)},he=()=>{s(se=>!se),i||window.dispatchEvent(new Event("closeCampoSelector"))};return _.useEffect(()=>{Wt(),bi.onFinishCallback.current=se=>{if(se){l(!0),r(!0),pe(se,"draw-edit"),X(je=>({...je,parcela_id:""}));const ye=se.getGeometry();ye&&D(Eu(ye))}}},[]),_.useEffect(()=>{!F||!B.campo_id||yt()},[F,B.campo_id,B.parcela_id,H]),_.useEffect(()=>{I&&I!==B.campo_id&&V[I]&&(X(se=>({...se,campo_id:I,parcela_id:"",nombre:"",descripcion:""})),D(0))},[I]),_.useEffect(()=>{!B.campo_id&&!I&&G&&V[G]&&(z(G),X(se=>({...se,campo_id:G,parcela_id:"",nombre:"",descripcion:""})),D(0))},[]),_.useEffect(()=>{I||!B.campo_id||!V[B.campo_id]||(z(B.campo_id),M.current.getView().animate({center:Ao([V[B.campo_id].lon,V[B.campo_id].lat]),duration:800,easing:kr}))},[B.campo_id,I]),_.useEffect(()=>{const se=()=>s(!1);return window.addEventListener("closeForm",se),()=>window.removeEventListener("closeForm",se)},[]),_.useEffect(()=>{(async()=>{if(k(!1),!!B.campo_id)try{const ye=await F6(B.campo_id);T(ye),k(!0)}catch(ye){console.error("Error al cargar resumen de parcelas:",ye),k(!0)}})()},[B.campo_id]),_.useEffect(()=>{const se=()=>{w(!1),b(null)};return window.addEventListener("cerrarPopupResumen",se),()=>{window.removeEventListener("cerrarPopupResumen",se)}},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[B.parcela_id&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>w(se=>!se),className:`bg-white p-3 rounded-full shadow-md transition-colors ${C?"hover:bg-gray-100":"opacity-50 cursor-not-allowed"}`,disabled:!C,title:C?"Ver resumen":"Seleccioná una parcela primero",children:g.jsx(wi,{className:"w-6 h-6"})}),g.jsx("button",{onClick:lt,className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(qV,{className:"w-6 h-6"})})]}),g.jsx("button",{className:"bg-white p-3 rounded-full shadow-md transition-all duration-300",onClick:he,children:g.jsx(QV,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${i?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx(V6,{campos:V,formData:B,onChange:Ot})}),g.jsxs("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:[g.jsx($6,{mode:Ve,isDeleteMode:t,onToggleDeleteMode:()=>{e(se=>!se),t?ae():ge()},onCancel:fe,onSave:zn,showCancel:B.parcela_id!==""}),B.parcela_id===""&&i&&g.jsx(O6,{open:n,setOpen:r,onStart:j,onFinish:J,onUndo:L,onCancel:te,canFinish:re,closedBySnap:ie,firstVertexDraw:ce,finished:o})]}),g.jsx(R9,{visible:v,resumen:C,onClose:()=>w(!1)}),g.jsx(xv,{isOpen:c,message:h,onClose:()=>d(!1)}),g.jsx(da,{isOpen:p,title:"Eliminar parcela",message:"Esta acción eliminará la parcela seleccionada. ¿Deseás continuar?",onCancel:()=>y(!1),onConfirm:$,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})}async function M9(t){const e=await Ft("/api/campos/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear campo")}return await e.json()}async function I9(t,e){const n=await Ft(`/api/campos/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar campo")}return await n.json()}async function N9(t){const e=await Ft(`/api/campos/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar el campo");return await e.json()}function dR(t){const e=new sr({geometry:new Pr(t)});e.setStyle(new ln({image:new eg({src:"/dist/map_pin.svg",anchor:[.5,1],scale:1})}));const n=new js({features:[e]}),r=new cs({source:n,zIndex:1e3});return{feature:e,layer:r}}function F9(t){const e=document.createElement("div");e.className="ripple-effect",e.style.left=`${t.clientX}px`,e.style.top=`${t.clientY}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),600)}function j9(t){const e=_.useRef(null);return{colocarMarcadorGps:(s,o)=>{if(!t.current||!(s!=null&&s.coordinate))return;F9(s.originalEvent);const l=s.coordinate,[c,d]=QP(l);o(f=>({...f,lat:d,lon:c})),e.current&&t.current.removeLayer(e.current);const{layer:h}=dR(l);e.current=h,t.current.addLayer(h)},moverMarcadorGps:(s,o)=>{var p,y,v,w;if(!t.current)return;const l=Wm([s,o]),c=(v=(y=(p=e.current)==null?void 0:p.getSource())==null?void 0:y.getFeatures())==null?void 0:v[0],d=(w=c==null?void 0:c.getGeometry())==null?void 0:w.getCoordinates();if(d&&Math.abs(d[0]-l[0])<.001&&Math.abs(d[1]-l[1])<.001)return;e.current&&t.current.removeLayer(e.current);const{layer:f}=dR(l);e.current=f,t.current.addLayer(f)},limpiarMarcadorGps:()=>{e.current&&t.current&&(t.current.removeLayer(e.current),e.current=null)},markerLayerRef:e}}function L9(){const[t,e]=_.useState({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(""),{mapRef:h,ready:f}=_.useContext(Cd),{campoSeleccionado:p,setCampoSeleccionado:y,setLastCampoId:v}=_.useContext(bd),{campos:w,parcelas:C,setFormData:b,setCampos:R,setParcelas:T,setAreaCampo:P,setAreaParcela:k}=nv(),{colocarMarcadorGps:M,moverMarcadorGps:F,limpiarMarcadorGps:I}=j9(h),{setFeaturesOnMap:z,clearParcelas:G}=Hv({mapRef:h,parcelas:C,formData:t,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:e,setAreaCampo:P,setAreaParcela:k,enabled:!0,modoVisualizacionCampo:!0});Xv(()=>{I(),G()});const V=D=>{const{name:j,value:U}=D.target;if(j==="campo_id"&&U===""){p&&v(p),I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}if(j==="campo_id"){if(U===""){I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}const q=w[U];q&&(y(U),e({campo_id:U,nombre:q.nombre,descripcion:q.descripcion||"",lat:q.lat,lon:q.lon}),b(N=>({...N,campo_id:U,parcela_id:"",nombre:"",descripcion:""})),r(!0),h.current&&(h.current.getView().animate({center:Ao([q.lon,q.lat]),duration:800,easing:kr}),F(q.lon,q.lat)));return}e(q=>({...q,[j]:U}))},H=async()=>{const{campo_id:D,nombre:j,descripcion:U,lat:q,lon:N}=t;if(!j||!U||!q||!N){d("Todos los campos son obligatorios."),l(!0);return}try{D?await I9(D,{nombre:j,descripcion:U,lat:q,lon:N}):await M9({nombre:j,descripcion:U,lat:q,lon:N});const L=await Na();R(L.campos),T(L.parcelas);const re=Object.entries(L.campos).find(([ie,ce])=>ce.nombre===j&&ce.lat===q&&ce.lon===N);if(re){const[ie,ce]=re;y(ie),e({campo_id:ie,nombre:ce.nombre,descripcion:ce.descripcion||"",lat:ce.lat,lon:ce.lon}),B(ce)}}catch(L){console.error("Error al guardar campo:",L)}},B=D=>{h.current&&(h.current.getView().animate({center:Ao([D.lon,D.lat]),duration:800,easing:kr}),F(D.lon,D.lat))},X=()=>s(!0),Z=async()=>{if(s(!1),!!t.campo_id)try{await N9(t.campo_id);const D=await Na();R(D.campos),T(D.parcelas),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),I()}catch(D){console.error("Error al eliminar campo:",D)}};_.useEffect(()=>{!f||!t.campo_id||z()},[f,t.campo_id,C]),_.useEffect(()=>{t.lat&&t.lon&&f&&h.current&&F(t.lon,t.lat)},[t.lat,t.lon,f]),_.useEffect(()=>{if(!f||!h.current)return;const D=h.current,j=U=>M(U,e);return D.on("click",j),()=>D.un("click",j)},[f]),_.useEffect(()=>{if(p&&p!==t.campo_id&&w[p]){const D=w[p];e({campo_id:p,nombre:D.nombre,descripcion:D.descripcion||"",lat:D.lat,lon:D.lon}),f&&h.current&&F(D.lon,D.lat)}},[p]);const Y=()=>{r(D=>!D),n||window.dispatchEvent(new CustomEvent("closeCampoSelector"))};return _.useEffect(()=>{const D=()=>r(!1);return window.addEventListener("closeForm",D),()=>window.removeEventListener("closeForm",D)},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[t.campo_id&&g.jsx("button",{onClick:X,title:"Eliminar campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(r4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:Y,title:"Mostrar formulario",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(t4,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${n?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx(z6,{campos:w,formData:t,onChange:V})}),(n||t.campo_id!=="")&&g.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:g.jsx("button",{onClick:H,className:"bg-white p-3 rounded-full shadow-md",title:"Guardar campo",children:g.jsx(UT,{className:"w-6 h-6"})})}),g.jsx(da,{isOpen:i,title:"Eliminar campo",message:"Esta acción no se puede deshacer. ¿Deseás continuar?",onCancel:()=>s(!1),onConfirm:Z,confirmLabel:"Eliminar",cancelLabel:"Cancelar"}),g.jsx(xv,{isOpen:o,message:c,onClose:()=>l(!1)})]})}async function D9(){const t=await Ft("/api/collares/");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener todos los collares.")}return await t.json()}async function O9(){const t=await Ft("/api/collares/states");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los estados de collar.")}return await t.json()}async function V9(){const t=await Ft("/api/collares/available");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los collares disponibles.")}return await t.json()}async function z9(t){const e=await Ft(`/api/collares/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al eliminar collar.")}return await e.json()}const $9=async t=>{const e=await Ft("/api/collares/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log(e),!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear collares en lote.")}return e.json()},B9=async(t,e)=>{const n=await Ft(`/api/collares/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar collar.")}return n.json()},G9=async t=>{const e=await Ft(`/api/collares/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al obtener detalles del collar.")}return e.json()},hR=async(t,e)=>{const n=await Ft(`/api/collares/${t}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({animal_id:e})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al manejar la asignación del collar.")}return n.json()};async function FM(){const t=await Ft("/api/collares/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de collares.")}return t.blob()}async function U9(t,e={}){const n=new URLSearchParams({type:t});e.globalFilter&&n.append("globalFilter",e.globalFilter),e.ids&&e.ids.length>0&&n.append("ids",e.ids.join(","));const r=await Ft(`/api/collares/export?${n.toString()}`);if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al exportar collares.")}return r.blob()}async function W9(t){const e=new FormData;e.append("file",t);const n=await Ft("/api/collares/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar collares.")}return await n.json()}var kd=t=>t.type==="checkbox",_a=t=>t instanceof Date,ur=t=>t==null;const jM=t=>typeof t=="object";var mn=t=>!ur(t)&&!Array.isArray(t)&&jM(t)&&!_a(t),LM=t=>mn(t)&&t.target?kd(t.target)?t.target.checked:t.target.value:t,H9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DM=(t,e)=>t.has(H9(e)),X9=t=>{const e=t.constructor&&t.constructor.prototype;return mn(e)&&e.hasOwnProperty("isPrototypeOf")},L_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Un(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(L_&&(t instanceof Blob||r))&&(n||mn(t)))if(e=n?[]:{},!n&&!X9(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Un(t[i]));else return t;return e}var ag=t=>Array.isArray(t)?t.filter(Boolean):[],fn=t=>t===void 0,Se=(t,e,n)=>{if(!e||!mn(t))return n;const r=ag(e.split(/[,[\].]+?/)).reduce((i,s)=>ur(i)?i:i[s],t);return fn(r)||r===t?fn(t[e])?n:t[e]:r},Or=t=>typeof t=="boolean",D_=t=>/^\w*$/.test(t),OM=t=>ag(t.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(t,e,n)=>{let r=-1;const i=D_(e)?[e]:OM(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=mn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const lm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},VM=le.createContext(null),lg=()=>le.useContext(VM),K9=t=>{const{children:e,...n}=t;return le.createElement(VM.Provider,{value:n},e)};var zM=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ei.all&&(e._proxyFormState[o]=!r||Ei.all),n&&(n[o]=!0),t[o]}});return i};const O_=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Y9(t){const e=lg(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,l]=le.useState(n._formState),c=le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return O_(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,s]),le.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),le.useMemo(()=>zM(o,n,c.current,!1),[o,n])}var es=t=>typeof t=="string",$M=(t,e,n,r,i)=>es(t)?(r&&e.watch.add(t),Se(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Se(n,s))):(r&&(e.watchAll=!0),n);function Z9(t){const e=lg(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},l=le.useRef(i),[c,d]=le.useState(n._getWatch(r,l.current));return O_(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:h=>!s&&d($M(r,n._names,h.values||n._formValues,!1,l.current))}),[r,n,s,o]),le.useEffect(()=>n._removeUnmounted()),c}function q9(t){const e=lg(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=DM(i._names.array,n),l=Z9({control:i,name:n,defaultValue:Se(i._formValues,n,Se(i._defaultValues,n,t.defaultValue)),exact:!0}),c=Y9({control:i,name:n,exact:!0}),d=le.useRef(t),h=le.useRef(i.register(n,{...t.rules,value:l,...Or(t.disabled)?{disabled:t.disabled}:{}})),f=le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Se(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Se(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Se(c.validatingFields,n)},error:{enumerable:!0,get:()=>Se(c.errors,n)}}),[c,n]),p=le.useCallback(C=>h.current.onChange({target:{value:LM(C),name:n},type:lm.CHANGE}),[n]),y=le.useCallback(()=>h.current.onBlur({target:{value:Se(i._formValues,n),name:n},type:lm.BLUR}),[n,i._formValues]),v=le.useCallback(C=>{const b=Se(i._fields,n);b&&C&&(b._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:R=>C.setCustomValidity(R),reportValidity:()=>C.reportValidity()})},[i._fields,n]),w=le.useMemo(()=>({name:n,value:l,...Or(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p,onBlur:y,ref:v}),[n,r,c.disabled,p,y,v,l]);return le.useEffect(()=>{const C=i._options.shouldUnregister||s;i.register(n,{...d.current.rules,...Or(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(R,T)=>{const P=Se(i._fields,R);P&&P._f&&(P._f.mount=T)};if(b(n,!0),C){const R=Un(Se(i._options.defaultValues,n));kt(i._defaultValues,n,R),fn(Se(i._formValues,n))&&kt(i._formValues,n,R)}return!o&&i.register(n),()=>{(o?C&&!i._state.action:C)?i.unregister(n):b(n,!1)}},[n,i,o,s]),le.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),le.useMemo(()=>({field:w,formState:c,fieldState:f}),[w,c,f])}const J9=t=>t.render(q9(t));var BM=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Iu=t=>Array.isArray(t)?t:[t],fR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},xx=t=>ur(t)||!jM(t);function vo(t,e){if(xx(t)||xx(e))return t===e;if(_a(t)&&_a(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(_a(s)&&_a(o)||mn(s)&&mn(o)||Array.isArray(s)&&Array.isArray(o)?!vo(s,o):s!==o)return!1}}return!0}var Cr=t=>mn(t)&&!Object.keys(t).length,V_=t=>t.type==="file",Ri=t=>typeof t=="function",cm=t=>{if(!L_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},GM=t=>t.type==="select-multiple",z_=t=>t.type==="radio",Q9=t=>z_(t)||kd(t),n0=t=>cm(t)&&t.isConnected;function e7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=fn(t)?r++:t[e[r++]];return t}function t7(t){for(const e in t)if(t.hasOwnProperty(e)&&!fn(t[e]))return!1;return!0}function Tn(t,e){const n=Array.isArray(e)?e:D_(e)?[e]:OM(e),r=n.length===1?t:e7(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(mn(r)&&Cr(r)||Array.isArray(r)&&t7(r))&&Tn(t,n.slice(0,-1)),t}var UM=t=>{for(const e in t)if(Ri(t[e]))return!0;return!1};function um(t,e={}){const n=Array.isArray(t);if(mn(t)||n)for(const r in t)Array.isArray(t[r])||mn(t[r])&&!UM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},um(t[r],e[r])):ur(t[r])||(e[r]=!0);return e}function WM(t,e,n){const r=Array.isArray(t);if(mn(t)||r)for(const i in t)Array.isArray(t[i])||mn(t[i])&&!UM(t[i])?fn(e)||xx(n[i])?n[i]=Array.isArray(t[i])?um(t[i],[]):{...um(t[i])}:WM(t[i],ur(e)?{}:e[i],n[i]):n[i]=!vo(t[i],e[i]);return n}var hu=(t,e)=>WM(t,e,um(e));const mR={value:!1,isValid:!1},gR={value:!0,isValid:!0};var HM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!fn(t[0].attributes.value)?fn(t[0].value)||t[0].value===""?gR:{value:t[0].value,isValid:!0}:gR:mR}return mR},XM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>fn(t)?t:e?t===""?NaN:t&&+t:n&&es(t)?new Date(t):r?r(t):t;const pR={isValid:!1,value:null};var KM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,pR):pR;function yR(t){const e=t.ref;return V_(e)?e.files:z_(e)?KM(t.refs).value:GM(e)?[...e.selectedOptions].map(({value:n})=>n):kd(e)?HM(t.refs).value:XM(fn(e.value)?t.ref.value:e.value,t)}var n7=(t,e,n,r)=>{const i={};for(const s of t){const o=Se(e,s);o&&kt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},dm=t=>t instanceof RegExp,fu=t=>fn(t)?t:dm(t)?t.source:mn(t)?dm(t.value)?t.value.source:t.value:t,xR=t=>({isOnSubmit:!t||t===Ei.onSubmit,isOnBlur:t===Ei.onBlur,isOnChange:t===Ei.onChange,isOnAll:t===Ei.all,isOnTouch:t===Ei.onTouched});const vR="AsyncFunction";var r7=t=>!!t&&!!t.validate&&!!(Ri(t.validate)&&t.validate.constructor.name===vR||mn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vR)),i7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),_R=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Nu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Se(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Nu(l,e))break}else if(mn(l)&&Nu(l,e))break}}};function wR(t,e,n){const r=Se(t,n);if(r||D_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Se(e,s),l=Se(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var s7=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Cr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Ei.all))},o7=(t,e,n)=>!t||!e||t===e||Iu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),a7=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,l7=(t,e)=>!ag(Se(t,e)).length&&Tn(t,e),c7=(t,e,n)=>{const r=Iu(Se(t,n));return kt(r,"root",e[n]),kt(t,n,r),t},Ff=t=>es(t);function SR(t,e,n="validate"){if(Ff(t)||Array.isArray(t)&&t.every(Ff)||Or(t)&&!t)return{type:n,message:Ff(t)?t:"",ref:e}}var wl=t=>mn(t)&&!dm(t)?t:{value:t,message:""},CR=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:f,max:p,pattern:y,validate:v,name:w,valueAsNumber:C,mount:b}=t._f,R=Se(n,w);if(!b||e.has(w))return{};const T=l?l[0]:o,P=H=>{i&&T.reportValidity&&(T.setCustomValidity(Or(H)?"":H||""),T.reportValidity())},k={},M=z_(o),F=kd(o),I=M||F,z=(C||V_(o))&&fn(o.value)&&fn(R)||cm(o)&&o.value===""||R===""||Array.isArray(R)&&!R.length,G=BM.bind(null,w,r,k),V=(H,B,X,Z=bs.maxLength,Y=bs.minLength)=>{const D=H?B:X;k[w]={type:H?Z:Y,message:D,ref:o,...G(H?Z:Y,D)}};if(s?!Array.isArray(R)||!R.length:c&&(!I&&(z||ur(R))||Or(R)&&!R||F&&!HM(l).isValid||M&&!KM(l).isValid)){const{value:H,message:B}=Ff(c)?{value:!!c,message:c}:wl(c);if(H&&(k[w]={type:bs.required,message:B,ref:T,...G(bs.required,B)},!r))return P(B),k}if(!z&&(!ur(f)||!ur(p))){let H,B;const X=wl(p),Z=wl(f);if(!ur(R)&&!isNaN(R)){const Y=o.valueAsNumber||R&&+R;ur(X.value)||(H=Y>X.value),ur(Z.value)||(B=Y<Z.value)}else{const Y=o.valueAsDate||new Date(R),D=q=>new Date(new Date().toDateString()+" "+q),j=o.type=="time",U=o.type=="week";es(X.value)&&R&&(H=j?D(R)>D(X.value):U?R>X.value:Y>new Date(X.value)),es(Z.value)&&R&&(B=j?D(R)<D(Z.value):U?R<Z.value:Y<new Date(Z.value))}if((H||B)&&(V(!!H,X.message,Z.message,bs.max,bs.min),!r))return P(k[w].message),k}if((d||h)&&!z&&(es(R)||s&&Array.isArray(R))){const H=wl(d),B=wl(h),X=!ur(H.value)&&R.length>+H.value,Z=!ur(B.value)&&R.length<+B.value;if((X||Z)&&(V(X,H.message,B.message),!r))return P(k[w].message),k}if(y&&!z&&es(R)){const{value:H,message:B}=wl(y);if(dm(H)&&!R.match(H)&&(k[w]={type:bs.pattern,message:B,ref:o,...G(bs.pattern,B)},!r))return P(B),k}if(v){if(Ri(v)){const H=await v(R,n),B=SR(H,T);if(B&&(k[w]={...B,...G(bs.validate,B.message)},!r))return P(B.message),k}else if(mn(v)){let H={};for(const B in v){if(!Cr(H)&&!r)break;const X=SR(await v[B](R,n),T,B);X&&(H={...X,...G(B,X.message)},P(X.message),r&&(k[w]=H))}if(!Cr(H)&&(k[w]={ref:T,...H},!r))return k}}return P(!0),k};const u7={mode:Ei.onSubmit,reValidateMode:Ei.onChange,shouldFocusError:!0};function d7(t={}){let e={...u7,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ri(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=mn(e.defaultValues)||mn(e.values)?Un(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Un(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const p={array:fR(),state:fR()},y=e.criteriaMode===Ei.all,v=$=>J=>{clearTimeout(d),d=setTimeout($,J)},w=async $=>{if(!e.disabled&&(h.isValid||f.isValid||$)){const J=e.resolver?Cr((await F()).errors):await z(r,!0);J!==n.isValid&&p.state.next({isValid:J})}},C=($,J)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(l.mount)).forEach(te=>{te&&(J?kt(n.validatingFields,te,J):Tn(n.validatingFields,te))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Cr(n.validatingFields)}))},b=($,J=[],te,fe,he=!0,se=!0)=>{if(fe&&te&&!e.disabled){if(o.action=!0,se&&Array.isArray(Se(r,$))){const ye=te(Se(r,$),fe.argA,fe.argB);he&&kt(r,$,ye)}if(se&&Array.isArray(Se(n.errors,$))){const ye=te(Se(n.errors,$),fe.argA,fe.argB);he&&kt(n.errors,$,ye),l7(n.errors,$)}if((h.touchedFields||f.touchedFields)&&se&&Array.isArray(Se(n.touchedFields,$))){const ye=te(Se(n.touchedFields,$),fe.argA,fe.argB);he&&kt(n.touchedFields,$,ye)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=hu(i,s)),p.state.next({name:$,isDirty:V($,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kt(s,$,J)},R=($,J)=>{kt(n.errors,$,J),p.state.next({errors:n.errors})},T=$=>{n.errors=$,p.state.next({errors:n.errors,isValid:!1})},P=($,J,te,fe)=>{const he=Se(r,$);if(he){const se=Se(s,$,fn(te)?Se(i,$):te);fn(se)||fe&&fe.defaultChecked||J?kt(s,$,J?se:yR(he._f)):X($,se),o.mount&&w()}},k=($,J,te,fe,he)=>{let se=!1,ye=!1;const je={name:$};if(!e.disabled){if(!te||fe){(h.isDirty||f.isDirty)&&(ye=n.isDirty,n.isDirty=je.isDirty=V(),se=ye!==je.isDirty);const ze=vo(Se(i,$),J);ye=!!Se(n.dirtyFields,$),ze?Tn(n.dirtyFields,$):kt(n.dirtyFields,$,!0),je.dirtyFields=n.dirtyFields,se=se||(h.dirtyFields||f.dirtyFields)&&ye!==!ze}if(te){const ze=Se(n.touchedFields,$);ze||(kt(n.touchedFields,$,te),je.touchedFields=n.touchedFields,se=se||(h.touchedFields||f.touchedFields)&&ze!==te)}se&&he&&p.state.next(je)}return se?je:{}},M=($,J,te,fe)=>{const he=Se(n.errors,$),se=(h.isValid||f.isValid)&&Or(J)&&n.isValid!==J;if(e.delayError&&te?(c=v(()=>R($,te)),c(e.delayError)):(clearTimeout(d),c=null,te?kt(n.errors,$,te):Tn(n.errors,$)),(te?!vo(he,te):he)||!Cr(fe)||se){const ye={...fe,...se&&Or(J)?{isValid:J}:{},errors:n.errors,name:$};n={...n,...ye},p.state.next(ye)}},F=async $=>{C($,!0);const J=await e.resolver(s,e.context,n7($||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C($),J},I=async $=>{const{errors:J}=await F($);if($)for(const te of $){const fe=Se(J,te);fe?kt(n.errors,te,fe):Tn(n.errors,te)}else n.errors=J;return J},z=async($,J,te={valid:!0})=>{for(const fe in $){const he=$[fe];if(he){const{_f:se,...ye}=he;if(se){const je=l.array.has(se.name),ze=he._f&&r7(he._f);ze&&h.validatingFields&&C([fe],!0);const xt=await CR(he,l.disabled,s,y,e.shouldUseNativeValidation&&!J,je);if(ze&&h.validatingFields&&C([fe]),xt[se.name]&&(te.valid=!1,J))break;!J&&(Se(xt,se.name)?je?c7(n.errors,xt,se.name):kt(n.errors,se.name,xt[se.name]):Tn(n.errors,se.name))}!Cr(ye)&&await z(ye,J,te)}}return te.valid},G=()=>{for(const $ of l.unMount){const J=Se(r,$);J&&(J._f.refs?J._f.refs.every(te=>!n0(te)):!n0(J._f.ref))&&ae($)}l.unMount=new Set},V=($,J)=>!e.disabled&&($&&J&&kt(s,$,J),!vo(q(),i)),H=($,J,te)=>$M($,l,{...o.mount?s:fn(J)?i:es($)?{[$]:J}:J},te,J),B=$=>ag(Se(o.mount?s:i,$,e.shouldUnregister?Se(i,$,[]):[])),X=($,J,te={})=>{const fe=Se(r,$);let he=J;if(fe){const se=fe._f;se&&(!se.disabled&&kt(s,$,XM(J,se)),he=cm(se.ref)&&ur(J)?"":J,GM(se.ref)?[...se.ref.options].forEach(ye=>ye.selected=he.includes(ye.value)):se.refs?kd(se.ref)?se.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(he)?ye.checked=!!he.find(je=>je===ye.value):ye.checked=he===ye.value||!!he)}):se.refs.forEach(ye=>ye.checked=ye.value===he):V_(se.ref)?se.ref.value="":(se.ref.value=he,se.ref.type||p.state.next({name:$,values:Un(s)})))}(te.shouldDirty||te.shouldTouch)&&k($,he,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&U($)},Z=($,J,te)=>{for(const fe in J){if(!J.hasOwnProperty(fe))return;const he=J[fe],se=$+"."+fe,ye=Se(r,se);(l.array.has($)||mn(he)||ye&&!ye._f)&&!_a(he)?Z(se,he,te):X(se,he,te)}},Y=($,J,te={})=>{const fe=Se(r,$),he=l.array.has($),se=Un(J);kt(s,$,se),he?(p.array.next({name:$,values:Un(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&te.shouldDirty&&p.state.next({name:$,dirtyFields:hu(i,s),isDirty:V($,se)})):fe&&!fe._f&&!ur(se)?Z($,se,te):X($,se,te),_R($,l)&&p.state.next({...n}),p.state.next({name:o.mount?$:void 0,values:Un(s)})},D=async $=>{o.mount=!0;const J=$.target;let te=J.name,fe=!0;const he=Se(r,te),se=ze=>{fe=Number.isNaN(ze)||_a(ze)&&isNaN(ze.getTime())||vo(ze,Se(s,te,ze))},ye=xR(e.mode),je=xR(e.reValidateMode);if(he){let ze,xt;const Vt=J.type?yR(he._f):LM($),ft=$.type===lm.BLUR||$.type===lm.FOCUS_OUT,$n=!i7(he._f)&&!e.resolver&&!Se(n.errors,te)&&!he._f.deps||a7(ft,Se(n.touchedFields,te),n.isSubmitted,je,ye),Ar=_R(te,l,ft);kt(s,te,Vt),ft?(he._f.onBlur&&he._f.onBlur($),c&&c(0)):he._f.onChange&&he._f.onChange($);const Mr=k(te,Vt,ft),ke=!Cr(Mr)||Ar;if(!ft&&p.state.next({name:te,type:$.type,values:Un(s)}),$n)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?ft&&w():ft||w()),ke&&p.state.next({name:te,...Ar?{}:Mr});if(!ft&&Ar&&p.state.next({...n}),e.resolver){const{errors:ve}=await F([te]);if(se(Vt),fe){const vt=wR(n.errors,r,te),St=wR(ve,r,vt.name||te);ze=St.error,te=St.name,xt=Cr(ve)}}else C([te],!0),ze=(await CR(he,l.disabled,s,y,e.shouldUseNativeValidation))[te],C([te]),se(Vt),fe&&(ze?xt=!1:(h.isValid||f.isValid)&&(xt=await z(r,!0)));fe&&(he._f.deps&&U(he._f.deps),M(te,xt,ze,Mr))}},j=($,J)=>{if(Se(n.errors,J)&&$.focus)return $.focus(),1},U=async($,J={})=>{let te,fe;const he=Iu($);if(e.resolver){const se=await I(fn($)?$:he);te=Cr(se),fe=$?!he.some(ye=>Se(se,ye)):te}else $?(fe=(await Promise.all(he.map(async se=>{const ye=Se(r,se);return await z(ye&&ye._f?{[se]:ye}:ye)}))).every(Boolean),!(!fe&&!n.isValid)&&w()):fe=te=await z(r);return p.state.next({...!es($)||(h.isValid||f.isValid)&&te!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:te}:{},errors:n.errors}),J.shouldFocus&&!fe&&Nu(r,j,$?he:l.mount),fe},q=$=>{const J={...o.mount?s:i};return fn($)?J:es($)?Se(J,$):$.map(te=>Se(J,te))},N=($,J)=>({invalid:!!Se((J||n).errors,$),isDirty:!!Se((J||n).dirtyFields,$),error:Se((J||n).errors,$),isValidating:!!Se(n.validatingFields,$),isTouched:!!Se((J||n).touchedFields,$)}),L=$=>{$&&Iu($).forEach(J=>Tn(n.errors,J)),p.state.next({errors:$?n.errors:{}})},re=($,J,te)=>{const fe=(Se(r,$,{_f:{}})._f||{}).ref,he=Se(n.errors,$)||{},{ref:se,message:ye,type:je,...ze}=he;kt(n.errors,$,{...ze,...J,ref:fe}),p.state.next({name:$,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&fe&&fe.focus&&fe.focus()},ie=($,J)=>Ri($)?p.state.subscribe({next:te=>$(H(void 0,J),te)}):H($,J,!0),ce=$=>p.state.subscribe({next:J=>{o7($.name,J.name,$.exact)&&s7(J,$.formState||h,Ot,$.reRenderRoot)&&$.callback({values:{...s},...n,...J})}}).unsubscribe,ge=$=>(o.mount=!0,f={...f,...$.formState},ce({...$,formState:f})),ae=($,J={})=>{for(const te of $?Iu($):l.mount)l.mount.delete(te),l.array.delete(te),J.keepValue||(Tn(r,te),Tn(s,te)),!J.keepError&&Tn(n.errors,te),!J.keepDirty&&Tn(n.dirtyFields,te),!J.keepTouched&&Tn(n.touchedFields,te),!J.keepIsValidating&&Tn(n.validatingFields,te),!e.shouldUnregister&&!J.keepDefaultValue&&Tn(i,te);p.state.next({values:Un(s)}),p.state.next({...n,...J.keepDirty?{isDirty:V()}:{}}),!J.keepIsValid&&w()},pe=({disabled:$,name:J})=>{(Or($)&&o.mount||$||l.disabled.has(J))&&($?l.disabled.add(J):l.disabled.delete(J))},we=($,J={})=>{let te=Se(r,$);const fe=Or(J.disabled)||Or(e.disabled);return kt(r,$,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:$}},name:$,mount:!0,...J}}),l.mount.add($),te?pe({disabled:Or(J.disabled)?J.disabled:e.disabled,name:$}):P($,!0,J.value),{...fe?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:fu(J.min),max:fu(J.max),minLength:fu(J.minLength),maxLength:fu(J.maxLength),pattern:fu(J.pattern)}:{},name:$,onChange:D,onBlur:D,ref:he=>{if(he){we($,J),te=Se(r,$);const se=fn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,ye=Q9(se),je=te._f.refs||[];if(ye?je.find(ze=>ze===se):se===te._f.ref)return;kt(r,$,{_f:{...te._f,...ye?{refs:[...je.filter(n0),se,...Array.isArray(Se(i,$))?[{}]:[]],ref:{type:se.type,name:$}}:{ref:se}}}),P($,!1,void 0,se)}else te=Se(r,$,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(DM(l.array,$)&&o.action)&&l.unMount.add($)}}},be=()=>e.shouldFocusError&&Nu(r,j,l.mount),$e=$=>{Or($)&&(p.state.next({disabled:$}),Nu(r,(J,te)=>{const fe=Se(r,te);fe&&(J.disabled=fe._f.disabled||$,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(he=>{he.disabled=fe._f.disabled||$}))},0,!1))},Ve=($,J)=>async te=>{let fe;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let he=Un(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:ye}=await F();n.errors=se,he=ye}else await z(r);if(l.disabled.size)for(const se of l.disabled)kt(he,se,void 0);if(Tn(n.errors,"root"),Cr(n.errors)){p.state.next({errors:{}});try{await $(he,te)}catch(se){fe=se}}else J&&await J({...n.errors},te),be(),setTimeout(be);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},yt=($,J={})=>{Se(r,$)&&(fn(J.defaultValue)?Y($,Un(Se(i,$))):(Y($,J.defaultValue),kt(i,$,Un(J.defaultValue))),J.keepTouched||Tn(n.touchedFields,$),J.keepDirty||(Tn(n.dirtyFields,$),n.isDirty=J.defaultValue?V($,Un(Se(i,$))):V()),J.keepError||(Tn(n.errors,$),h.isValid&&w()),p.state.next({...n}))},mt=($,J={})=>{const te=$?Un($):i,fe=Un(te),he=Cr($),se=he?i:fe;if(J.keepDefaultValues||(i=te),!J.keepValues){if(J.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(hu(i,s))]);for(const je of Array.from(ye))Se(n.dirtyFields,je)?kt(se,je,Se(s,je)):Y(je,Se(se,je))}else{if(L_&&fn($))for(const ye of l.mount){const je=Se(r,ye);if(je&&je._f){const ze=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(cm(ze)){const xt=ze.closest("form");if(xt){xt.reset();break}}}}for(const ye of l.mount)Y(ye,Se(se,ye))}s=Un(se),p.array.next({values:{...se}}),p.state.next({values:{...se}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:he?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!vo($,i)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:J.keepDirtyValues?J.keepDefaultValues&&s?hu(i,s):n.dirtyFields:J.keepDefaultValues&&$?hu(i,$):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Wt=($,J)=>mt(Ri($)?$(s):$,J),Dt=($,J={})=>{const te=Se(r,$),fe=te&&te._f;if(fe){const he=fe.refs?fe.refs[0]:fe.ref;he.focus&&(he.focus(),J.shouldSelect&&Ri(he.select)&&he.select())}},Ot=$=>{n={...n,...$}},lt={control:{register:we,unregister:ae,getFieldState:N,handleSubmit:Ve,setError:re,_subscribe:ce,_runSchema:F,_focusError:be,_getWatch:H,_getDirty:V,_setValid:w,_setFieldArray:b,_setDisabledField:pe,_setErrors:T,_getFieldArray:B,_reset:mt,_resetDefaultValues:()=>Ri(e.defaultValues)&&e.defaultValues().then($=>{Wt($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:G,_disableForm:$e,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:ge,trigger:U,register:we,handleSubmit:Ve,watch:ie,setValue:Y,getValues:q,reset:Wt,resetField:yt,clearErrors:L,unregister:ae,setError:re,setFocus:Dt,getFieldState:N};return{...lt,formControl:lt}}function $_(t={}){const e=le.useRef(void 0),n=le.useRef(void 0),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:Ri(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ri(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:d7(t),formState:r},t.formControl&&t.defaultValues&&!Ri(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,O_(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),le.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),le.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),le.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),le.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),le.useEffect(()=>{t.values&&!vo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),le.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=zM(r,s),e.current}const bR=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Se(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},YM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?bR(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>bR(i,n,t))}},h7=(t,e)=>{e.shouldUseNativeValidation&&YM(t,e);const n={};for(const r in t){const i=Se(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(f7(e.names||Object.keys(t),r)){const o=Object.assign({},Se(n,r));kt(o,"root",s),kt(n,r,o)}else kt(n,r,s)}return n},f7=(t,e)=>{const n=ER(e);return t.some(r=>ER(r).match(`^${n}\\.\\d+`))};function ER(t){return t.replace(/\]|\[/g,"")}function m7(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=BM(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function B_(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&YM({},s),{errors:{},values:n.raw?Object.assign({},r):d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:h7(m7(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}}var Rt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Rt||(Rt={}));var RR;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(RR||(RR={}));const Fe=Rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xo=t=>{switch(typeof t){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(t)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(t)?Fe.array:t===null?Fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Fe.promise:typeof Map<"u"&&t instanceof Map?Fe.map:typeof Set<"u"&&t instanceof Set?Fe.set:typeof Date<"u"&&t instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},_e=Rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Os extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Os))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Os.create=t=>new Os(t);const vx=(t,e)=>{let n;switch(t.code){case _e.invalid_type:t.received===Fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case _e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Rt.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:n=`Unrecognized key(s) in object: ${Rt.joinValues(t.keys,", ")}`;break;case _e.invalid_union:n="Invalid input";break;case _e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Rt.joinValues(t.options)}`;break;case _e.invalid_enum_value:n=`Invalid enum value. Expected ${Rt.joinValues(t.options)}, received '${t.received}'`;break;case _e.invalid_arguments:n="Invalid function arguments";break;case _e.invalid_return_type:n="Invalid function return type";break;case _e.invalid_date:n="Invalid date";break;case _e.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Rt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case _e.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case _e.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case _e.custom:n="Invalid input";break;case _e.invalid_intersection_types:n="Intersection results could not be merged";break;case _e.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case _e.not_finite:n="Number must be finite";break;default:n=e.defaultError,Rt.assertNever(t)}return{message:n}};let g7=vx;function p7(){return g7}const y7=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Re(t,e){const n=p7(),r=y7({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===vx?void 0:vx].filter(i=>!!i)});t.common.issues.push(r)}class Hr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return nt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Hr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return nt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const nt=Object.freeze({status:"aborted"}),xu=t=>({status:"dirty",value:t}),oi=t=>({status:"valid",value:t}),TR=t=>t.status==="aborted",PR=t=>t.status==="dirty",ql=t=>t.status==="valid",hm=t=>typeof Promise<"u"&&t instanceof Promise;var De;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(De||(De={}));class No{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kR=(t,e)=>{if(ql(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Os(t.common.issues);return this._error=n,this._error}}};function dt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class wt{get description(){return this._def.description}_getType(e){return xo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hr,ctx:{common:e.parent.common,data:e.data,parsedType:xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(hm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)},i=this._parseSync({data:e,path:r.path,parent:r});return kR(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return ql(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>ql(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(hm(i)?i:Promise.resolve(i));return kR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:_e.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ec({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Eo.create(this,this._def)}nullable(){return tc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return os.create(this)}promise(){return pm.create(this,this._def)}or(e){return mm.create([this,e],this._def)}and(e){return gm.create(this,e,this._def)}transform(e){return new ec({...dt(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new bx({...dt(this._def),innerType:this,defaultValue:n,typeName:rt.ZodDefault})}brand(){return new z7({typeName:rt.ZodBranded,type:this,...dt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ex({...dt(this._def),innerType:this,catchValue:n,typeName:rt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return G_.create(this,e)}readonly(){return Rx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const x7=/^c[^\s-]{8,}$/i,v7=/^[0-9a-z]+$/,_7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,w7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,S7=/^[a-z0-9_-]{21}$/i,C7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,b7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,R7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let r0;const T7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,P7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,k7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,M7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",N7=new RegExp(`^${ZM}$`);function qM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function F7(t){return new RegExp(`^${qM(t)}$`)}function j7(t){let e=`${ZM}T${qM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function L7(t,e){return!!((e==="v4"||!e)&&T7.test(t)||(e==="v6"||!e)&&k7.test(t))}function D7(t,e){if(!C7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function O7(t,e){return!!((e==="v4"||!e)&&P7.test(t)||(e==="v6"||!e)&&A7.test(t))}class As extends wt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.string,received:s.parsedType}),nt}const r=new Hr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Re(i,{code:_e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Re(i,{code:_e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")E7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"email",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")r0||(r0=new RegExp(R7,"u")),r0.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"emoji",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")w7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"uuid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")S7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"nanoid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")x7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cuid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")v7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cuid2",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")_7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"ulid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Re(i,{validation:"url",code:_e.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"regex",code:_e.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?j7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?N7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?F7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?b7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"duration",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?L7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"ip",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?D7(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"jwt",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?O7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cidr",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?M7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"base64",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?I7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"base64url",code:_e.invalid_string,message:s.message}),r.dirty()):Rt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:_e.invalid_string,...De.errToObj(r)})}_addCheck(e){return new As({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...De.errToObj(e)})}url(e){return this._addCheck({kind:"url",...De.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...De.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...De.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...De.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...De.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...De.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...De.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...De.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...De.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...De.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...De.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...De.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...De.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...De.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...De.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...De.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...De.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...De.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...De.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...De.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...De.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...De.errToObj(n)})}nonempty(e){return this.min(1,De.errToObj(e))}trim(){return new As({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new As({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new As({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}As.create=t=>new As({checks:[],typeName:rt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...dt(t)});function V7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Fa extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.number,received:s.parsedType}),nt}let r;const i=new Hr;for(const s of this._def.checks)s.kind==="int"?Rt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?V7(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_finite,message:s.message}),i.dirty()):Rt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,i){return new Fa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(i)}]})}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:De.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:De.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Rt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Fa.create=t=>new Fa({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class ja extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let r;const i=new Hr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Rt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Re(n,{code:_e.invalid_type,expected:Fe.bigint,received:n.parsedType}),nt}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,i){return new ja({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(i)}]})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ja.create=t=>new ja({checks:[],typeName:rt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...dt(t)});class fm extends wt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.boolean,received:r.parsedType}),nt}return oi(e.data)}}fm.create=t=>new fm({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class Jl extends wt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.date,received:s.parsedType}),nt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_date}),nt}const r=new Hr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Rt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:De.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:De.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Jl.create=t=>new Jl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...dt(t)});class AR extends wt{_parse(e){if(this._getType(e)!==Fe.symbol){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.symbol,received:r.parsedType}),nt}return oi(e.data)}}AR.create=t=>new AR({typeName:rt.ZodSymbol,...dt(t)});class _x extends wt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.undefined,received:r.parsedType}),nt}return oi(e.data)}}_x.create=t=>new _x({typeName:rt.ZodUndefined,...dt(t)});class wx extends wt{_parse(e){if(this._getType(e)!==Fe.null){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.null,received:r.parsedType}),nt}return oi(e.data)}}wx.create=t=>new wx({typeName:rt.ZodNull,...dt(t)});class MR extends wt{constructor(){super(...arguments),this._any=!0}_parse(e){return oi(e.data)}}MR.create=t=>new MR({typeName:rt.ZodAny,...dt(t)});class IR extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oi(e.data)}}IR.create=t=>new IR({typeName:rt.ZodUnknown,...dt(t)});class Fo extends wt{_parse(e){const n=this._getOrReturnCtx(e);return Re(n,{code:_e.invalid_type,expected:Fe.never,received:n.parsedType}),nt}}Fo.create=t=>new Fo({typeName:rt.ZodNever,...dt(t)});class NR extends wt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.void,received:r.parsedType}),nt}return oi(e.data)}}NR.create=t=>new NR({typeName:rt.ZodVoid,...dt(t)});class os extends wt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Fe.array)return Re(n,{code:_e.invalid_type,expected:Fe.array,received:n.parsedType}),nt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Re(n,{code:o?_e.too_big:_e.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Re(n,{code:_e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Re(n,{code:_e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new No(n,o,n.path,l)))).then(o=>Hr.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new No(n,o,n.path,l)));return Hr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new os({...this._def,minLength:{value:e,message:De.toString(n)}})}max(e,n){return new os({...this._def,maxLength:{value:e,message:De.toString(n)}})}length(e,n){return new os({...this._def,exactLength:{value:e,message:De.toString(n)}})}nonempty(e){return this.min(1,e)}}os.create=(t,e)=>new os({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...dt(e)});function Il(t){if(t instanceof _n){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Eo.create(Il(r))}return new _n({...t._def,shape:()=>e})}else return t instanceof os?new os({...t._def,type:Il(t.element)}):t instanceof Eo?Eo.create(Il(t.unwrap())):t instanceof tc?tc.create(Il(t.unwrap())):t instanceof La?La.create(t.items.map(e=>Il(e))):t}class _n extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Rt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Fe.object){const d=this._getOrReturnCtx(e);return Re(d,{code:_e.invalid_type,expected:Fe.object,received:d.parsedType}),nt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fo&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=s[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new No(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Fo){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Re(i,{code:_e.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new No(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,p=await h.value;d.push({key:f,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Hr.mergeObjectSync(r,d)):Hr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return De.errToObj,new _n({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:De.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new _n({...this._def,unknownKeys:"strip"})}passthrough(){return new _n({...this._def,unknownKeys:"passthrough"})}extend(e){return new _n({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _n({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new _n({...this._def,catchall:e})}pick(e){const n={};for(const r of Rt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new _n({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Rt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new _n({...this._def,shape:()=>n})}deepPartial(){return Il(this)}partial(e){const n={};for(const r of Rt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new _n({...this._def,shape:()=>n})}required(e){const n={};for(const r of Rt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Eo;)s=s._def.innerType;n[r]=s}return new _n({...this._def,shape:()=>n})}keyof(){return JM(Rt.objectKeys(this.shape))}}_n.create=(t,e)=>new _n({shape:()=>t,unknownKeys:"strip",catchall:Fo.create(),typeName:rt.ZodObject,...dt(e)});_n.strictCreate=(t,e)=>new _n({shape:()=>t,unknownKeys:"strict",catchall:Fo.create(),typeName:rt.ZodObject,...dt(e)});_n.lazycreate=(t,e)=>new _n({shape:t,unknownKeys:"strip",catchall:Fo.create(),typeName:rt.ZodObject,...dt(e)});class mm extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Os(l.ctx.common.issues));return Re(n,{code:_e.invalid_union,unionErrors:o}),nt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Os(c));return Re(n,{code:_e.invalid_union,unionErrors:l}),nt}}get options(){return this._def.options}}mm.create=(t,e)=>new mm({options:t,typeName:rt.ZodUnion,...dt(e)});function Sx(t,e){const n=xo(t),r=xo(e);if(t===e)return{valid:!0,data:t};if(n===Fe.object&&r===Fe.object){const i=Rt.objectKeys(e),s=Rt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=Sx(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Fe.array&&r===Fe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=Sx(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Fe.date&&r===Fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gm extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(TR(s)||TR(o))return nt;const l=Sx(s.value,o.value);return l.valid?((PR(s)||PR(o))&&n.dirty(),{status:n.value,value:l.data}):(Re(r,{code:_e.invalid_intersection_types}),nt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gm.create=(t,e,n)=>new gm({left:t,right:e,typeName:rt.ZodIntersection,...dt(n)});class La extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.array)return Re(r,{code:_e.invalid_type,expected:Fe.array,received:r.parsedType}),nt;if(r.data.length<this._def.items.length)return Re(r,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&r.data.length>this._def.items.length&&(Re(r,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new No(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Hr.mergeArray(n,o)):Hr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new La({...this._def,rest:e})}}La.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new La({items:t,typeName:rt.ZodTuple,rest:null,...dt(e)})};class FR extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.map)return Re(r,{code:_e.invalid_type,expected:Fe.map,received:r.parsedType}),nt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new No(r,l,r.path,[d,"key"])),value:s._parse(new No(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return nt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return nt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}FR.create=(t,e,n)=>new FR({valueType:e,keyType:t,typeName:rt.ZodMap,...dt(n)});class id extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.set)return Re(r,{code:_e.invalid_type,expected:Fe.set,received:r.parsedType}),nt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Re(r,{code:_e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Re(r,{code:_e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return nt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>s._parse(new No(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new id({...this._def,minSize:{value:e,message:De.toString(n)}})}max(e,n){return new id({...this._def,maxSize:{value:e,message:De.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}id.create=(t,e)=>new id({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...dt(e)});class jR extends wt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}jR.create=(t,e)=>new jR({getter:t,typeName:rt.ZodLazy,...dt(e)});class Cx extends wt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Re(n,{received:n.data,code:_e.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cx.create=(t,e)=>new Cx({value:t,typeName:rt.ZodLiteral,...dt(e)});function JM(t,e){return new Ql({values:t,typeName:rt.ZodEnum,...dt(e)})}class Ql extends wt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{expected:Rt.joinValues(r),received:n.parsedType,code:_e.invalid_type}),nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{received:n.data,code:_e.invalid_enum_value,options:r}),nt}return oi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ql.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ql.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ql.create=JM;class LR extends wt{_parse(e){const n=Rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const i=Rt.objectValues(n);return Re(r,{expected:Rt.joinValues(i),received:r.parsedType,code:_e.invalid_type}),nt}if(this._cache||(this._cache=new Set(Rt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Rt.objectValues(n);return Re(r,{received:r.data,code:_e.invalid_enum_value,options:i}),nt}return oi(e.data)}get enum(){return this._def.values}}LR.create=(t,e)=>new LR({values:t,typeName:rt.ZodNativeEnum,...dt(e)});class pm extends wt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Re(n,{code:_e.invalid_type,expected:Fe.promise,received:n.parsedType}),nt;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return oi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}pm.create=(t,e)=>new pm({type:t,typeName:rt.ZodPromise,...dt(e)});class ec extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Re(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return nt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?nt:c.status==="dirty"||n.value==="dirty"?xu(c.value):c});{if(n.value==="aborted")return nt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?nt:l.status==="dirty"||n.value==="dirty"?xu(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?nt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?nt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ql(o))return nt;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ql(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):nt);Rt.assertNever(i)}}ec.create=(t,e,n)=>new ec({schema:t,typeName:rt.ZodEffects,effect:e,...dt(n)});ec.createWithPreprocess=(t,e,n)=>new ec({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...dt(n)});class Eo extends wt{_parse(e){return this._getType(e)===Fe.undefined?oi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Eo.create=(t,e)=>new Eo({innerType:t,typeName:rt.ZodOptional,...dt(e)});class tc extends wt{_parse(e){return this._getType(e)===Fe.null?oi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tc.create=(t,e)=>new tc({innerType:t,typeName:rt.ZodNullable,...dt(e)});class bx extends wt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bx.create=(t,e)=>new bx({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dt(e)});class Ex extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return hm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Os(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Os(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ex.create=(t,e)=>new Ex({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dt(e)});class DR extends wt{_parse(e){if(this._getType(e)!==Fe.nan){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.nan,received:r.parsedType}),nt}return{status:"valid",value:e.data}}}DR.create=t=>new DR({typeName:rt.ZodNaN,...dt(t)});class z7 extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class G_ extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?nt:s.status==="dirty"?(n.dirty(),xu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?nt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new G_({in:e,out:n,typeName:rt.ZodPipeline})}}class Rx extends wt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ql(i)&&(i.value=Object.freeze(i.value)),i);return hm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Rx.create=(t,e)=>new Rx({innerType:t,typeName:rt.ZodReadonly,...dt(e)});var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const qi=As.create,QM=Fa.create;ja.create;fm.create;Jl.create;const $7=_x.create,B7=wx.create;Fo.create;os.create;const U_=_n.create,G7=mm.create;gm.create;La.create;const U7=Cx.create;Ql.create;pm.create;Eo.create;tc.create;const er={string:t=>As.create({...t,coerce:!0}),number:t=>Fa.create({...t,coerce:!0}),boolean:t=>fm.create({...t,coerce:!0}),bigint:t=>ja.create({...t,coerce:!0}),date:t=>Jl.create({...t,coerce:!0})};function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function W7(t,e){const n=_.createContext(e),r=s=>{const{children:o,...l}=s,c=_.useMemo(()=>l,Object.values(l));return g.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=_.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Vi(t,e=[]){let n=[];function r(s,o){const l=_.createContext(o),c=n.length;n=[...n,o];const d=f=>{var b;const{scope:p,children:y,...v}=f,w=((b=p==null?void 0:p[t])==null?void 0:b[c])||l,C=_.useMemo(()=>v,Object.values(v));return g.jsx(w.Provider,{value:C,children:y})};d.displayName=s+"Provider";function h(f,p){var w;const y=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,v=_.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,H7(i,...e)]}function H7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function W_(t){const e=t+"CollectionProvider",[n,r]=Vi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:C,children:b}=w,R=le.useRef(null),T=le.useRef(new Map).current;return g.jsx(i,{scope:C,itemMap:T,collectionRef:R,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=ka(l),d=le.forwardRef((w,C)=>{const{scope:b,children:R}=w,T=s(l,b),P=ht(C,T.collectionRef);return g.jsx(c,{ref:P,children:R})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=ka(h),y=le.forwardRef((w,C)=>{const{scope:b,children:R,...T}=w,P=le.useRef(null),k=ht(C,P),M=s(h,b);return le.useEffect(()=>(M.itemMap.set(P,{ref:P,...T}),()=>void M.itemMap.delete(P))),g.jsx(p,{[f]:"",ref:k,children:R})});y.displayName=h;function v(w){const C=s(t+"CollectionConsumer",w);return le.useCallback(()=>{const R=C.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${f}]`));return Array.from(C.itemMap.values()).sort((M,F)=>T.indexOf(M.ref.current)-T.indexOf(F.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},v,r]}var Xn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},X7=gT[" useId ".trim().toString()]||(()=>{}),K7=0;function Pi(t){const[e,n]=_.useState(X7());return Xn(()=>{n(r=>r??String(K7++))},[t]),e?`radix-${e}`:""}var Y7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=Y7.reduce((t,e)=>{const n=ka(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function eI(t,e){t&&$a.flushSync(()=>t.dispatchEvent(e))}function Hn(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Z7=gT[" useInsertionEffect ".trim().toString()]||Xn;function jo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=q7({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=_.useCallback(h=>{var f;if(l){const p=J7(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else s(h)},[l,t,s,o]);return[c,d]}function q7({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),s=_.useRef(e);return Z7(()=>{s.current=e},[e]),_.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function J7(t){return typeof t=="function"}var Q7=_.createContext(void 0);function Ad(t){const e=_.useContext(Q7);return t||e||"ltr"}var i0="rovingFocusGroup.onEntryFocus",eX={bubbles:!1,cancelable:!0},Md="RovingFocusGroup",[Tx,tI,tX]=W_(Md),[nX,cg]=Vi(Md,[tX]),[rX,iX]=nX(Md),nI=_.forwardRef((t,e)=>g.jsx(Tx.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Tx.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(sX,{...t,ref:e})})}));nI.displayName=Md;var sX=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=_.useRef(null),y=ht(e,p),v=Ad(s),[w,C]=jo({prop:o,defaultProp:l??null,onChange:c,caller:Md}),[b,R]=_.useState(!1),T=Hn(d),P=tI(n),k=_.useRef(!1),[M,F]=_.useState(0);return _.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(i0,T),()=>I.removeEventListener(i0,T)},[T]),g.jsx(rX,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:w,onItemFocus:_.useCallback(I=>C(I),[C]),onItemShiftTab:_.useCallback(()=>R(!0),[]),onFocusableItemAdd:_.useCallback(()=>F(I=>I+1),[]),onFocusableItemRemove:_.useCallback(()=>F(I=>I-1),[]),children:g.jsx(qe.div,{tabIndex:b||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{k.current=!0}),onFocus:Ce(t.onFocus,I=>{const z=!k.current;if(I.target===I.currentTarget&&z&&!b){const G=new CustomEvent(i0,eX);if(I.currentTarget.dispatchEvent(G),!G.defaultPrevented){const V=P().filter(Y=>Y.focusable),H=V.find(Y=>Y.active),B=V.find(Y=>Y.id===w),Z=[H,B,...V].filter(Boolean).map(Y=>Y.ref.current);sI(Z,h)}}k.current=!1}),onBlur:Ce(t.onBlur,()=>R(!1))})})}),rI="RovingFocusGroupItem",iI=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=Pi(),d=s||c,h=iX(rI,n),f=h.currentTabStopId===d,p=tI(n),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:w}=h;return _.useEffect(()=>{if(r)return y(),()=>v()},[r,y,v]),g.jsx(Tx.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:g.jsx(qe.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Ce(t.onMouseDown,C=>{r?h.onItemFocus(d):C.preventDefault()}),onFocus:Ce(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Ce(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){h.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const b=lX(C,h.orientation,h.dir);if(b!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let T=p().filter(P=>P.focusable).map(P=>P.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const P=T.indexOf(C.currentTarget);T=h.loop?cX(T,P+1):T.slice(P+1)}setTimeout(()=>sI(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});iI.displayName=rI;var oX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lX(t,e,n){const r=aX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oX[r]}function sI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var oI=nI,aI=iI;function uX(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var mr=t=>{const{present:e,children:n}=t,r=dX(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=ht(r.ref,hX(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};mr.displayName="Presence";function dX(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),o=t?"mounted":"unmounted",[l,c]=uX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=hf(r.current);s.current=l==="mounted"?d:"none"},[l]),Xn(()=>{const d=r.current,h=i.current;if(h!==t){const p=s.current,y=hf(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Xn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const w=hf(r.current).includes(y.animationName);if(y.target===e&&w&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},p=y=>{y.target===e&&(s.current=hf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function hf(t){return(t==null?void 0:t.animationName)||"none"}function hX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ug="Tabs",[fX,Kee]=Vi(ug,[cg]),lI=cg(),[mX,H_]=fX(ug),cI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=Ad(l),[f,p]=jo({prop:r,onChange:i,defaultProp:s??"",caller:ug});return g.jsx(mX,{scope:n,baseId:Pi(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:g.jsx(qe.div,{dir:h,"data-orientation":o,...d,ref:e})})});cI.displayName=ug;var uI="TabsList",dI=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=H_(uI,n),o=lI(n);return g.jsx(oI,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(qe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});dI.displayName=uI;var hI="TabsTrigger",fI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=H_(hI,n),l=lI(n),c=pI(o.baseId,r),d=yI(o.baseId,r),h=r===o.value;return g.jsx(aI,{asChild:!0,...l,focusable:!i,active:h,children:g.jsx(qe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ce(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ce(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ce(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!i&&f&&o.onValueChange(r)})})})});fI.displayName=hI;var mI="TabsContent",gI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=H_(mI,n),c=pI(l.baseId,r),d=yI(l.baseId,r),h=r===l.value,f=_.useRef(h);return _.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(mr,{present:i||h,children:({present:p})=>g.jsx(qe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});gI.displayName=mI;function pI(t,e){return`${t}-trigger-${e}`}function yI(t,e){return`${t}-content-${e}`}var gX=cI,xI=dI,vI=fI,_I=gI;const pX=gX,wI=_.forwardRef(({className:t,...e},n)=>g.jsx(xI,{ref:n,className:Oe("inline-flex h-9 items-center justify-center rounded-xl bg-muted p-1 text-muted-foreground",t),...e}));wI.displayName=xI.displayName;const jf=_.forwardRef(({className:t,...e},n)=>g.jsx(vI,{ref:n,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-xl px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));jf.displayName=vI.displayName;const Lf=_.forwardRef(({className:t,...e},n)=>g.jsx(_I,{ref:n,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Lf.displayName=_I.displayName;function Px(t,[e,n]){return Math.min(n,Math.max(e,t))}function yX(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xX="DismissableLayer",kx="dismissableLayer.update",vX="dismissableLayer.pointerDownOutside",_X="dismissableLayer.focusOutside",OR,SI=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Id=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=_.useContext(SI),[h,f]=_.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),v=ht(e,F=>f(F)),w=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(C),R=h?w.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,P=R>=b,k=CX(F=>{const I=F.target,z=[...d.branches].some(G=>G.contains(I));!P||z||(i==null||i(F),o==null||o(F),F.defaultPrevented||l==null||l())},p),M=bX(F=>{const I=F.target;[...d.branches].some(G=>G.contains(I))||(s==null||s(F),o==null||o(F),F.defaultPrevented||l==null||l())},p);return yX(F=>{R===d.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},p),_.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(OR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),VR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=OR)}},[h,p,n,d]),_.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),VR())},[h,d]),_.useEffect(()=>{const F=()=>y({});return document.addEventListener(kx,F),()=>document.removeEventListener(kx,F)},[]),g.jsx(qe.div,{...c,ref:v,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,k.onPointerDownCapture)})});Id.displayName=xX;var wX="DismissableLayerBranch",SX=_.forwardRef((t,e)=>{const n=_.useContext(SI),r=_.useRef(null),i=ht(e,r);return _.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(qe.div,{...t,ref:i})});SX.displayName=wX;function CX(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){CI(vX,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bX(t,e=globalThis==null?void 0:globalThis.document){const n=Hn(t),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&CI(_X,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VR(){const t=new CustomEvent(kx);document.dispatchEvent(t)}function CI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?eI(i,s):i.dispatchEvent(s)}var s0=0;function X_(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zR()),document.body.insertAdjacentElement("beforeend",t[1]??zR()),s0++,()=>{s0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),s0--}},[])}function zR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var o0="focusScope.autoFocusOnMount",a0="focusScope.autoFocusOnUnmount",$R={bubbles:!1,cancelable:!0},EX="FocusScope",dg=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=_.useState(null),d=Hn(i),h=Hn(s),f=_.useRef(null),p=ht(e,w=>c(w)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let w=function(T){if(y.paused||!l)return;const P=T.target;l.contains(P)?f.current=P:po(f.current,{select:!0})},C=function(T){if(y.paused||!l)return;const P=T.relatedTarget;P!==null&&(l.contains(P)||po(f.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&po(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const R=new MutationObserver(b);return l&&R.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),R.disconnect()}}},[r,l,y.paused]),_.useEffect(()=>{if(l){GR.add(y);const w=document.activeElement;if(!l.contains(w)){const b=new CustomEvent(o0,$R);l.addEventListener(o0,d),l.dispatchEvent(b),b.defaultPrevented||(RX(MX(bI(l)),{select:!0}),document.activeElement===w&&po(l))}return()=>{l.removeEventListener(o0,d),setTimeout(()=>{const b=new CustomEvent(a0,$R);l.addEventListener(a0,h),l.dispatchEvent(b),b.defaultPrevented||po(w??document.body,{select:!0}),l.removeEventListener(a0,h),GR.remove(y)},0)}}},[l,d,h,y]);const v=_.useCallback(w=>{if(!n&&!r||y.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(C&&b){const R=w.currentTarget,[T,P]=TX(R);T&&P?!w.shiftKey&&b===P?(w.preventDefault(),n&&po(T,{select:!0})):w.shiftKey&&b===T&&(w.preventDefault(),n&&po(P,{select:!0})):b===R&&w.preventDefault()}},[n,r,y.paused]);return g.jsx(qe.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});dg.displayName=EX;function RX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(po(r,{select:e}),document.activeElement!==n)return}function TX(t){const e=bI(t),n=BR(e,t),r=BR(e.reverse(),t);return[n,r]}function bI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BR(t,e){for(const n of t)if(!PX(n,{upTo:e}))return n}function PX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kX(t){return t instanceof HTMLInputElement&&"select"in t}function po(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kX(t)&&e&&t.select()}}var GR=AX();function AX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=UR(t,e),t.unshift(e)},remove(e){var n;t=UR(t,e),(n=t[0])==null||n.resume()}}}function UR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function MX(t){return t.filter(e=>e.tagName!=="A")}const IX=["top","right","bottom","left"],Lo=Math.min,$r=Math.max,ym=Math.round,ff=Math.floor,as=t=>({x:t,y:t}),NX={left:"right",right:"left",bottom:"top",top:"bottom"},FX={start:"end",end:"start"};function Ax(t,e,n){return $r(t,Lo(e,n))}function Vs(t,e){return typeof t=="function"?t(e):t}function zs(t){return t.split("-")[0]}function vc(t){return t.split("-")[1]}function K_(t){return t==="x"?"y":"x"}function Y_(t){return t==="y"?"height":"width"}const jX=new Set(["top","bottom"]);function ts(t){return jX.has(zs(t))?"y":"x"}function Z_(t){return K_(ts(t))}function LX(t,e,n){n===void 0&&(n=!1);const r=vc(t),i=Z_(t),s=Y_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=xm(o)),[o,xm(o)]}function DX(t){const e=xm(t);return[Mx(t),e,Mx(e)]}function Mx(t){return t.replace(/start|end/g,e=>FX[e])}const WR=["left","right"],HR=["right","left"],OX=["top","bottom"],VX=["bottom","top"];function zX(t,e,n){switch(t){case"top":case"bottom":return n?e?HR:WR:e?WR:HR;case"left":case"right":return e?OX:VX;default:return[]}}function $X(t,e,n,r){const i=vc(t);let s=zX(zs(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Mx)))),s}function xm(t){return t.replace(/left|right|bottom|top/g,e=>NX[e])}function BX(t){return{top:0,right:0,bottom:0,left:0,...t}}function EI(t){return typeof t!="number"?BX(t):{top:t,right:t,bottom:t,left:t}}function vm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function XR(t,e,n){let{reference:r,floating:i}=t;const s=ts(e),o=Z_(e),l=Y_(o),c=zs(e),d=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(vc(e)){case"start":y[o]-=p*(n&&d?-1:1);break;case"end":y[o]+=p*(n&&d?-1:1);break}return y}const GX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=XR(d,r,c),p=r,y={},v=0;for(let w=0;w<l.length;w++){const{name:C,fn:b}=l[w],{x:R,y:T,data:P,reset:k}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=R??h,f=T??f,y={...y,[C]:{...y[C],...P}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:h,y:f}=XR(d,p,c)),w=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:y}};async function sd(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=Vs(e,t),v=EI(y),C=l[p?f==="floating"?"reference":"floating":f],b=vm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),R=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),P=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},k=vm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:T,strategy:c}):R);return{top:(b.top-k.top+v.top)/P.y,bottom:(k.bottom-b.bottom+v.bottom)/P.y,left:(b.left-k.left+v.left)/P.x,right:(k.right-b.right+v.right)/P.x}}const UX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Vs(t,e)||{};if(d==null)return{};const f=EI(h),p={x:n,y:r},y=Z_(i),v=Y_(y),w=await o.getDimensions(d),C=y==="y",b=C?"top":"left",R=C?"bottom":"right",T=C?"clientHeight":"clientWidth",P=s.reference[v]+s.reference[y]-p[y]-s.floating[v],k=p[y]-s.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let F=M?M[T]:0;(!F||!await(o.isElement==null?void 0:o.isElement(M)))&&(F=l.floating[T]||s.floating[v]);const I=P/2-k/2,z=F/2-w[v]/2-1,G=Lo(f[b],z),V=Lo(f[R],z),H=G,B=F-w[v]-V,X=F/2-w[v]/2+I,Z=Ax(H,X,B),Y=!c.arrow&&vc(i)!=null&&X!==Z&&s.reference[v]/2-(X<H?G:V)-w[v]/2<0,D=Y?X<H?X-H:X-B:0;return{[y]:p[y]+D,data:{[y]:Z,centerOffset:X-Z-D,...Y&&{alignmentOffset:D}},reset:Y}}}),WX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...C}=Vs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=zs(i),R=ts(l),T=zs(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=p||(T||!w?[xm(l)]:DX(l)),M=v!=="none";!p&&M&&k.push(...$X(l,w,v,P));const F=[l,...k],I=await sd(e,C),z=[];let G=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&z.push(I[b]),f){const X=LX(i,o,P);z.push(I[X[0]],I[X[1]])}if(G=[...G,{placement:i,overflows:z}],!z.every(X=>X<=0)){var V,H;const X=(((V=s.flip)==null?void 0:V.index)||0)+1,Z=F[X];if(Z&&(!(f==="alignment"?R!==ts(Z):!1)||G.every(j=>j.overflows[0]>0&&ts(j.placement)===R)))return{data:{index:X,overflows:G},reset:{placement:Z}};let Y=(H=G.filter(D=>D.overflows[0]<=0).sort((D,j)=>D.overflows[1]-j.overflows[1])[0])==null?void 0:H.placement;if(!Y)switch(y){case"bestFit":{var B;const D=(B=G.filter(j=>{if(M){const U=ts(j.placement);return U===R||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,q)=>U+q,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:B[0];D&&(Y=D);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function KR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YR(t){return IX.some(e=>t[e]>=0)}const HX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Vs(t,e);switch(r){case"referenceHidden":{const s=await sd(e,{...i,elementContext:"reference"}),o=KR(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YR(o)}}}case"escaped":{const s=await sd(e,{...i,altBoundary:!0}),o=KR(s,n.floating);return{data:{escapedOffsets:o,escaped:YR(o)}}}default:return{}}}}},RI=new Set(["left","top"]);async function XX(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=zs(n),l=vc(n),c=ts(n)==="y",d=RI.has(o)?-1:1,h=s&&c?-1:1,f=Vs(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(y=l==="end"?v*-1:v),c?{x:y*h,y:p*d}:{x:p*d,y:y*h}}const KX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await XX(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},YX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:C=>{let{x:b,y:R}=C;return{x:b,y:R}}},...c}=Vs(t,e),d={x:n,y:r},h=await sd(e,c),f=ts(zs(i)),p=K_(f);let y=d[p],v=d[f];if(s){const C=p==="y"?"top":"left",b=p==="y"?"bottom":"right",R=y+h[C],T=y-h[b];y=Ax(R,y,T)}if(o){const C=f==="y"?"top":"left",b=f==="y"?"bottom":"right",R=v+h[C],T=v-h[b];v=Ax(R,v,T)}const w=l.fn({...e,[p]:y,[f]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:s,[f]:o}}}}}},ZX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Vs(t,e),h={x:n,y:r},f=ts(i),p=K_(f);let y=h[p],v=h[f];const w=Vs(l,e),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const T=p==="y"?"height":"width",P=s.reference[p]-s.floating[T]+C.mainAxis,k=s.reference[p]+s.reference[T]-C.mainAxis;y<P?y=P:y>k&&(y=k)}if(d){var b,R;const T=p==="y"?"width":"height",P=RI.has(zs(i)),k=s.reference[f]-s.floating[T]+(P&&((b=o.offset)==null?void 0:b[f])||0)+(P?0:C.crossAxis),M=s.reference[f]+s.reference[T]+(P?0:((R=o.offset)==null?void 0:R[f])||0)-(P?C.crossAxis:0);v<k?v=k:v>M&&(v=M)}return{[p]:y,[f]:v}}}},qX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Vs(t,e),h=await sd(e,d),f=zs(i),p=vc(i),y=ts(i)==="y",{width:v,height:w}=s.floating;let C,b;f==="top"||f==="bottom"?(C=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,C=p==="end"?"top":"bottom");const R=w-h.top-h.bottom,T=v-h.left-h.right,P=Lo(w-h[C],R),k=Lo(v-h[b],T),M=!e.middlewareData.shift;let F=P,I=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=R),M&&!p){const G=$r(h.left,0),V=$r(h.right,0),H=$r(h.top,0),B=$r(h.bottom,0);y?I=v-2*(G!==0||V!==0?G+V:$r(h.left,h.right)):F=w-2*(H!==0||B!==0?H+B:$r(h.top,h.bottom))}await c({...e,availableWidth:I,availableHeight:F});const z=await o.getDimensions(l.floating);return v!==z.width||w!==z.height?{reset:{rects:!0}}:{}}}};function hg(){return typeof window<"u"}function _c(t){return TI(t)?(t.nodeName||"").toLowerCase():"#document"}function Ur(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ds(t){var e;return(e=(TI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TI(t){return hg()?t instanceof Node||t instanceof Ur(t).Node:!1}function Mi(t){return hg()?t instanceof Element||t instanceof Ur(t).Element:!1}function us(t){return hg()?t instanceof HTMLElement||t instanceof Ur(t).HTMLElement:!1}function ZR(t){return!hg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ur(t).ShadowRoot}const JX=new Set(["inline","contents"]);function Nd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ii(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!JX.has(i)}const QX=new Set(["table","td","th"]);function eK(t){return QX.has(_c(t))}const tK=[":popover-open",":modal"];function fg(t){return tK.some(e=>{try{return t.matches(e)}catch{return!1}})}const nK=["transform","translate","scale","rotate","perspective"],rK=["transform","translate","scale","rotate","perspective","filter"],iK=["paint","layout","strict","content"];function q_(t){const e=J_(),n=Mi(t)?Ii(t):t;return nK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||rK.some(r=>(n.willChange||"").includes(r))||iK.some(r=>(n.contain||"").includes(r))}function sK(t){let e=Do(t);for(;us(e)&&!nc(e);){if(q_(e))return e;if(fg(e))return null;e=Do(e)}return null}function J_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oK=new Set(["html","body","#document"]);function nc(t){return oK.has(_c(t))}function Ii(t){return Ur(t).getComputedStyle(t)}function mg(t){return Mi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Do(t){if(_c(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZR(t)&&t.host||ds(t);return ZR(e)?e.host:e}function PI(t){const e=Do(t);return nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:us(e)&&Nd(e)?e:PI(e)}function od(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=PI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ur(i);if(s){const l=Ix(o);return e.concat(o,o.visualViewport||[],Nd(i)?i:[],l&&n?od(l):[])}return e.concat(i,od(i,[],n))}function Ix(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kI(t){const e=Ii(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=us(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=ym(n)!==s||ym(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function Q_(t){return Mi(t)?t:t.contextElement}function Gl(t){const e=Q_(t);if(!us(e))return as(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=kI(e);let o=(s?ym(n.width):n.width)/r,l=(s?ym(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const aK=as(0);function AI(t){const e=Ur(t);return!J_()||!e.visualViewport?aK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ur(t)?!1:e}function Da(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Q_(t);let o=as(1);e&&(r?Mi(r)&&(o=Gl(r)):o=Gl(t));const l=lK(s,n,r)?AI(s):as(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const p=Ur(s),y=r&&Mi(r)?Ur(r):r;let v=p,w=Ix(v);for(;w&&r&&y!==v;){const C=Gl(w),b=w.getBoundingClientRect(),R=Ii(w),T=b.left+(w.clientLeft+parseFloat(R.paddingLeft))*C.x,P=b.top+(w.clientTop+parseFloat(R.paddingTop))*C.y;c*=C.x,d*=C.y,h*=C.x,f*=C.y,c+=T,d+=P,v=Ur(w),w=Ix(v)}}return vm({width:h,height:f,x:c,y:d})}function ew(t,e){const n=mg(t).scrollLeft;return e?e.left+n:Da(ds(t)).left+n}function MI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:ew(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function cK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ds(r),l=e?fg(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=as(1);const h=as(0),f=us(r);if((f||!f&&!s)&&((_c(r)!=="body"||Nd(o))&&(c=mg(r)),us(r))){const y=Da(r);d=Gl(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=o&&!f&&!s?MI(o,c,!0):as(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function uK(t){return Array.from(t.getClientRects())}function dK(t){const e=ds(t),n=mg(t),r=t.ownerDocument.body,i=$r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=$r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ew(t);const l=-n.scrollTop;return Ii(r).direction==="rtl"&&(o+=$r(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function hK(t,e){const n=Ur(t),r=ds(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=J_();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}const fK=new Set(["absolute","fixed"]);function mK(t,e){const n=Da(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=us(t)?Gl(t):as(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function qR(t,e,n){let r;if(e==="viewport")r=hK(t,n);else if(e==="document")r=dK(ds(t));else if(Mi(e))r=mK(e,n);else{const i=AI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vm(r)}function II(t,e){const n=Do(t);return n===e||!Mi(n)||nc(n)?!1:Ii(n).position==="fixed"||II(n,e)}function gK(t,e){const n=e.get(t);if(n)return n;let r=od(t,[],!1).filter(l=>Mi(l)&&_c(l)!=="body"),i=null;const s=Ii(t).position==="fixed";let o=s?Do(t):t;for(;Mi(o)&&!nc(o);){const l=Ii(o),c=q_(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&fK.has(i.position)||Nd(o)&&!c&&II(t,o))?r=r.filter(h=>h!==o):i=l,o=Do(o)}return e.set(t,r),r}function pK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?fg(e)?[]:gK(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const f=qR(e,h,i);return d.top=$r(f.top,d.top),d.right=Lo(f.right,d.right),d.bottom=Lo(f.bottom,d.bottom),d.left=$r(f.left,d.left),d},qR(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yK(t){const{width:e,height:n}=kI(t);return{width:e,height:n}}function xK(t,e,n){const r=us(e),i=ds(e),s=n==="fixed",o=Da(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=as(0);function d(){c.x=ew(i)}if(r||!r&&!s)if((_c(e)!=="body"||Nd(i))&&(l=mg(e)),r){const y=Da(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?MI(i,l):as(0),f=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function l0(t){return Ii(t).position==="static"}function JR(t,e){if(!us(t)||Ii(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ds(t)===n&&(n=n.ownerDocument.body),n}function NI(t,e){const n=Ur(t);if(fg(t))return n;if(!us(t)){let i=Do(t);for(;i&&!nc(i);){if(Mi(i)&&!l0(i))return i;i=Do(i)}return n}let r=JR(t,e);for(;r&&eK(r)&&l0(r);)r=JR(r,e);return r&&nc(r)&&l0(r)&&!q_(r)?n:r||sK(t)||n}const vK=async function(t){const e=this.getOffsetParent||NI,n=this.getDimensions,r=await n(t.floating);return{reference:xK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _K(t){return Ii(t).direction==="rtl"}const wK={convertOffsetParentRelativeRectToViewportRelativeRect:cK,getDocumentElement:ds,getClippingRect:pK,getOffsetParent:NI,getElementRects:vK,getClientRects:uK,getDimensions:yK,getScale:Gl,isElement:Mi,isRTL:_K};function FI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SK(t,e){let n=null,r;const i=ds(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=d;if(l||e(),!p||!y)return;const v=ff(f),w=ff(i.clientWidth-(h+p)),C=ff(i.clientHeight-(f+y)),b=ff(h),T={rootMargin:-v+"px "+-w+"px "+-C+"px "+-b+"px",threshold:$r(0,Lo(1,c))||1};let P=!0;function k(M){const F=M[0].intersectionRatio;if(F!==c){if(!P)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!FI(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(k,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(t)}return o(!0),s}function CK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Q_(t),h=i||s?[...d?od(d):[],...od(e)]:[];h.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=d&&l?SK(d,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(b=>{let[R]=b;R&&R.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let v,w=c?Da(t):null;c&&C();function C(){const b=Da(t);w&&!FI(w,b)&&n(),w=b,v=requestAnimationFrame(C)}return n(),()=>{var b;h.forEach(R=>{i&&R.removeEventListener("scroll",n),s&&R.removeEventListener("resize",n)}),f==null||f(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const bK=KX,EK=YX,RK=WX,TK=qX,PK=HX,QR=UX,kK=ZX,AK=(t,e,n)=>{const r=new Map,i={platform:wK,...n},s={...i.platform,_c:r};return GX(t,e,{...i,platform:s})};var MK=typeof document<"u",IK=function(){},Df=MK?_.useLayoutEffect:IK;function _m(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_m(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!_m(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function jI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function eT(t,e){const n=jI(t);return Math.round(e*n)/n}function c0(t){const e=_.useRef(t);return Df(()=>{e.current=t}),e}function NK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=_.useState(r);_m(p,r)||y(r);const[v,w]=_.useState(null),[C,b]=_.useState(null),R=_.useCallback(j=>{j!==M.current&&(M.current=j,w(j))},[]),T=_.useCallback(j=>{j!==F.current&&(F.current=j,b(j))},[]),P=s||v,k=o||C,M=_.useRef(null),F=_.useRef(null),I=_.useRef(h),z=c!=null,G=c0(c),V=c0(i),H=c0(d),B=_.useCallback(()=>{if(!M.current||!F.current)return;const j={placement:e,strategy:n,middleware:p};V.current&&(j.platform=V.current),AK(M.current,F.current,j).then(U=>{const q={...U,isPositioned:H.current!==!1};X.current&&!_m(I.current,q)&&(I.current=q,$a.flushSync(()=>{f(q)}))})},[p,e,n,V,H]);Df(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[d]);const X=_.useRef(!1);Df(()=>(X.current=!0,()=>{X.current=!1}),[]),Df(()=>{if(P&&(M.current=P),k&&(F.current=k),P&&k){if(G.current)return G.current(P,k,B);B()}},[P,k,B,G,z]);const Z=_.useMemo(()=>({reference:M,floating:F,setReference:R,setFloating:T}),[R,T]),Y=_.useMemo(()=>({reference:P,floating:k}),[P,k]),D=_.useMemo(()=>{const j={position:n,left:0,top:0};if(!Y.floating)return j;const U=eT(Y.floating,h.x),q=eT(Y.floating,h.y);return l?{...j,transform:"translate("+U+"px, "+q+"px)",...jI(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:q}},[n,l,Y.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:B,refs:Z,elements:Y,floatingStyles:D}),[h,B,Z,Y,D])}const FK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QR({element:r.current,padding:i}).fn(n):{}:r?QR({element:r,padding:i}).fn(n):{}}}},jK=(t,e)=>({...bK(t),options:[t,e]}),LK=(t,e)=>({...EK(t),options:[t,e]}),DK=(t,e)=>({...kK(t),options:[t,e]}),OK=(t,e)=>({...RK(t),options:[t,e]}),VK=(t,e)=>({...TK(t),options:[t,e]}),zK=(t,e)=>({...PK(t),options:[t,e]}),$K=(t,e)=>({...FK(t),options:[t,e]});var BK="Arrow",LI=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(qe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});LI.displayName=BK;var GK=LI;function DI(t){const[e,n]=_.useState(void 0);return Xn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tw="Popper",[OI,wc]=Vi(tw),[UK,VI]=OI(tw),zI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return g.jsx(UK,{scope:e,anchor:r,onAnchorChange:i,children:n})};zI.displayName=tw;var $I="PopperAnchor",BI=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=VI($I,n),o=_.useRef(null),l=ht(e,o);return _.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(qe.div,{...i,ref:l})});BI.displayName=$I;var nw="PopperContent",[WK,HK]=OI(nw),GI=_.forwardRef((t,e)=>{var ae,pe,we,be,$e,Ve;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:v,...w}=t,C=VI(nw,n),[b,R]=_.useState(null),T=ht(e,yt=>R(yt)),[P,k]=_.useState(null),M=DI(P),F=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,z=r+(s!=="center"?"-"+s:""),G=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},V=Array.isArray(d)?d:[d],H=V.length>0,B={padding:G,boundary:V.filter(KK),altBoundary:H},{refs:X,floatingStyles:Z,placement:Y,isPositioned:D,middlewareData:j}=NK({strategy:"fixed",placement:z,whileElementsMounted:(...yt)=>CK(...yt,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[jK({mainAxis:i+I,alignmentAxis:o}),c&&LK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?DK():void 0,...B}),c&&OK({...B}),VK({...B,apply:({elements:yt,rects:mt,availableWidth:Wt,availableHeight:Dt})=>{const{width:Ot,height:zn}=mt.reference,lt=yt.floating.style;lt.setProperty("--radix-popper-available-width",`${Wt}px`),lt.setProperty("--radix-popper-available-height",`${Dt}px`),lt.setProperty("--radix-popper-anchor-width",`${Ot}px`),lt.setProperty("--radix-popper-anchor-height",`${zn}px`)}}),P&&$K({element:P,padding:l}),YK({arrowWidth:F,arrowHeight:I}),p&&zK({strategy:"referenceHidden",...B})]}),[U,q]=HI(Y),N=Hn(v);Xn(()=>{D&&(N==null||N())},[D,N]);const L=(ae=j.arrow)==null?void 0:ae.x,re=(pe=j.arrow)==null?void 0:pe.y,ie=((we=j.arrow)==null?void 0:we.centerOffset)!==0,[ce,ge]=_.useState();return Xn(()=>{b&&ge(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:D?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(be=j.transformOrigin)==null?void 0:be.x,($e=j.transformOrigin)==null?void 0:$e.y].join(" "),...((Ve=j.hide)==null?void 0:Ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(WK,{scope:n,placedSide:U,onArrowChange:k,arrowX:L,arrowY:re,shouldHideArrow:ie,children:g.jsx(qe.div,{"data-side":U,"data-align":q,...w,ref:T,style:{...w.style,animation:D?void 0:"none"}})})})});GI.displayName=nw;var UI="PopperArrow",XK={top:"bottom",right:"left",bottom:"top",left:"right"},WI=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=HK(UI,r),o=XK[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(GK,{...i,ref:n,style:{...i.style,display:"block"}})})});WI.displayName=UI;function KK(t){return t!==null}var YK=t=>({name:"transformOrigin",options:t,fn(e){var C,b,R;const{placement:n,rects:r,middlewareData:i}=e,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=HI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,y=(((R=i.arrow)==null?void 0:R.y)??0)+c/2;let v="",w="";return d==="bottom"?(v=o?f:`${p}px`,w=`${-c}px`):d==="top"?(v=o?f:`${p}px`,w=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,w=o?f:`${y}px`):d==="left"&&(v=`${r.floating.width+c}px`,w=o?f:`${y}px`),{data:{x:v,y:w}}}});function HI(t){const[e,n="center"]=t.split("-");return[e,n]}var rw=zI,iw=BI,sw=GI,ow=WI,ZK="Portal",Fd=_.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=_.useState(!1);Xn(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?jT.createPortal(g.jsx(qe.div,{...r,ref:e}),o):null});Fd.displayName=ZK;function XI(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var KI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qK="VisuallyHidden",YI=_.forwardRef((t,e)=>g.jsx(qe.span,{...t,ref:e,style:{...KI,...t.style}}));YI.displayName=qK;var JK=YI,QK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sl=new WeakMap,mf=new WeakMap,gf={},u0=0,ZI=function(t){return t&&(t.host||ZI(t.parentNode))},eY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ZI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tY=function(t,e,n,r){var i=eY(e,Array.isArray(t)?t:[t]);gf[n]||(gf[n]=new WeakMap);var s=gf[n],o=[],l=new Set,c=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(r),v=y!==null&&y!=="false",w=(Sl.get(p)||0)+1,C=(s.get(p)||0)+1;Sl.set(p,w),s.set(p,C),o.push(p),w===1&&v&&mf.set(p,!0),C===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),l.clear(),u0++,function(){o.forEach(function(f){var p=Sl.get(f)-1,y=s.get(f)-1;Sl.set(f,p),s.set(f,y),p||(mf.has(f)||f.removeAttribute(r),mf.delete(f)),y||f.removeAttribute(n)}),u0--,u0||(Sl=new WeakMap,Sl=new WeakMap,mf=new WeakMap,gf={})}},aw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=QK(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),tY(r,i,n,"aria-hidden")):function(){return null}},Ji=function(){return Ji=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ji.apply(this,arguments)};function qI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nY(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Of="right-scroll-bar-position",Vf="width-before-scroll-bar",rY="with-scroll-bars-hidden",iY="--removed-body-scroll-bar-size";function d0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sY(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var oY=typeof window<"u"?_.useLayoutEffect:_.useEffect,tT=new WeakMap;function aY(t,e){var n=sY(null,function(r){return t.forEach(function(i){return d0(i,r)})});return oY(function(){var r=tT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||d0(l,null)}),s.forEach(function(l){i.has(l)||d0(l,o)})}tT.set(n,t)},[t]),n}function lY(t){return t}function cY(t,e){e===void 0&&(e=lY);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var h=o;o=[],h.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function uY(t){t===void 0&&(t={});var e=cY(null);return e.options=Ji({async:!0,ssr:!1},t),e}var JI=function(t){var e=t.sideCar,n=qI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Ji({},n))};JI.isSideCarExport=!0;function dY(t,e){return t.useMedium(e),JI}var QI=uY(),h0=function(){},gg=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:h0,onWheelCapture:h0,onTouchMoveCapture:h0}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noRelative,v=t.noIsolation,w=t.inert,C=t.allowPinchZoom,b=t.as,R=b===void 0?"div":b,T=t.gapMode,P=qI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,M=aY([n,e]),F=Ji(Ji({},P),i);return _.createElement(_.Fragment,null,h&&_.createElement(k,{sideCar:QI,removeScrollBar:d,shards:f,noRelative:y,noIsolation:v,inert:w,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:T}),o?_.cloneElement(_.Children.only(l),Ji(Ji({},F),{ref:M})):_.createElement(R,Ji({},F,{className:c,ref:M}),l))});gg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gg.classNames={fullWidth:Vf,zeroRight:Of};var hY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hY();return e&&t.setAttribute("nonce",e),t}function mY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var pY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fY())&&(mY(e,n),gY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yY=function(){var t=pY();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},e2=function(){var t=yY(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},xY={left:0,top:0,right:0,gap:0},f0=function(t){return parseInt(t||"",10)||0},vY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[f0(n),f0(r),f0(i)]},_Y=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xY;var e=vY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wY=e2(),Ul="data-scroll-locked",SY=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Of,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Vf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vf," .").concat(Vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(iY,": ").concat(l,`px;
  }
`)},nT=function(){var t=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(t)?t:0},CY=function(){_.useEffect(function(){return document.body.setAttribute(Ul,(nT()+1).toString()),function(){var t=nT()-1;t<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,t.toString())}},[])},bY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;CY();var s=_.useMemo(function(){return _Y(i)},[i]);return _.createElement(wY,{styles:SY(s,!e,i,n?"":"!important")})},Nx=!1;if(typeof window<"u")try{var pf=Object.defineProperty({},"passive",{get:function(){return Nx=!0,!0}});window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{Nx=!1}var Cl=Nx?{passive:!1}:!1,EY=function(t){return t.tagName==="TEXTAREA"},t2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!EY(t)&&n[e]==="visible")},RY=function(t){return t2(t,"overflowY")},TY=function(t){return t2(t,"overflowX")},rT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=n2(t,r);if(i){var s=r2(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},PY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},n2=function(t,e){return t==="v"?RY(e):TY(e)},r2=function(t,e){return t==="v"?PY(e):kY(e)},AY=function(t,e){return t==="h"&&e==="rtl"?-1:1},MY=function(t,e,n,r,i){var s=AY(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),d=!1,h=o>0,f=0,p=0;do{if(!l)break;var y=r2(t,l),v=y[0],w=y[1],C=y[2],b=w-C-s*v;(v||b)&&n2(t,l)&&(f+=b,p+=v);var R=l.parentNode;l=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},yf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},iT=function(t){return[t.deltaX,t.deltaY]},sT=function(t){return t&&"current"in t?t.current:t},IY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},NY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FY=0,bl=[];function jY(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(FY++)[0],s=_.useState(e2)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=nY([t.lockRef.current],(t.shards||[]).map(sT),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=yf(w),R=n.current,T="deltaX"in w?w.deltaX:R[0]-b[0],P="deltaY"in w?w.deltaY:R[1]-b[1],k,M=w.target,F=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in w&&F==="h"&&M.type==="range")return!1;var I=rT(F,M);if(!I)return!0;if(I?k=F:(k=F==="v"?"h":"v",I=rT(F,M)),!I)return!1;if(!r.current&&"changedTouches"in w&&(T||P)&&(r.current=k),!k)return!0;var z=r.current||k;return MY(z,C,w,z==="h"?T:P)},[]),c=_.useCallback(function(w){var C=w;if(!(!bl.length||bl[bl.length-1]!==s)){var b="deltaY"in C?iT(C):yf(C),R=e.current.filter(function(k){return k.name===C.type&&(k.target===C.target||C.target===k.shadowParent)&&IY(k.delta,b)})[0];if(R&&R.should){C.cancelable&&C.preventDefault();return}if(!R){var T=(o.current.shards||[]).map(sT).filter(Boolean).filter(function(k){return k.contains(C.target)}),P=T.length>0?l(C,T[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),d=_.useCallback(function(w,C,b,R){var T={name:w,delta:C,target:b,should:R,shadowParent:LY(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),h=_.useCallback(function(w){n.current=yf(w),r.current=void 0},[]),f=_.useCallback(function(w){d(w.type,iT(w),w.target,l(w,t.lockRef.current))},[]),p=_.useCallback(function(w){d(w.type,yf(w),w.target,l(w,t.lockRef.current))},[]);_.useEffect(function(){return bl.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Cl),document.addEventListener("touchmove",c,Cl),document.addEventListener("touchstart",h,Cl),function(){bl=bl.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,Cl),document.removeEventListener("touchmove",c,Cl),document.removeEventListener("touchstart",h,Cl)}},[]);var y=t.removeScrollBar,v=t.inert;return _.createElement(_.Fragment,null,v?_.createElement(s,{styles:NY(i)}):null,y?_.createElement(bY,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function LY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const DY=dY(QI,jY);var pg=_.forwardRef(function(t,e){return _.createElement(gg,Ji({},t,{ref:e,sideCar:DY}))});pg.classNames=gg.classNames;var OY=[" ","Enter","ArrowUp","ArrowDown"],VY=[" ","Enter"],Oa="Select",[yg,xg,zY]=W_(Oa),[Sc,Yee]=Vi(Oa,[zY,wc]),vg=wc(),[$Y,zo]=Sc(Oa),[BY,GY]=Sc(Oa),i2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:y,form:v}=t,w=vg(e),[C,b]=_.useState(null),[R,T]=_.useState(null),[P,k]=_.useState(!1),M=Ad(d),[F,I]=jo({prop:r,defaultProp:i??!1,onChange:s,caller:Oa}),[z,G]=jo({prop:o,defaultProp:l,onChange:c,caller:Oa}),V=_.useRef(null),H=C?v||!!C.closest("form"):!0,[B,X]=_.useState(new Set),Z=Array.from(B).map(Y=>Y.props.value).join(";");return g.jsx(rw,{...w,children:g.jsxs($Y,{required:y,scope:e,trigger:C,onTriggerChange:b,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:Pi(),value:z,onValueChange:G,open:F,onOpenChange:I,dir:M,triggerPointerDownPosRef:V,disabled:p,children:[g.jsx(yg.Provider,{scope:e,children:g.jsx(BY,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(Y=>{X(D=>new Set(D).add(Y))},[]),onNativeOptionRemove:_.useCallback(Y=>{X(D=>{const j=new Set(D);return j.delete(Y),j})},[]),children:n})}),H?g.jsxs(P2,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:z,onChange:Y=>G(Y.target.value),disabled:p,form:v,children:[z===void 0?g.jsx("option",{value:""}):null,Array.from(B)]},Z):null]})})};i2.displayName=Oa;var s2="SelectTrigger",o2=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=vg(n),o=zo(s2,n),l=o.disabled||r,c=ht(e,o.onTriggerChange),d=xg(n),h=_.useRef("touch"),[f,p,y]=A2(w=>{const C=d().filter(T=>!T.disabled),b=C.find(T=>T.value===o.value),R=M2(C,w,b);R!==void 0&&o.onValueChange(R.value)}),v=w=>{l||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return g.jsx(iw,{asChild:!0,...s,children:g.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":k2(o.value)?"":void 0,...i,ref:c,onClick:Ce(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&v(w)}),onPointerDown:Ce(i.onPointerDown,w=>{h.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:Ce(i.onKeyDown,w=>{const C=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(C&&w.key===" ")&&OY.includes(w.key)&&(v(),w.preventDefault())})})})});o2.displayName=s2;var a2="SelectValue",l2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=zo(a2,n),{onValueNodeHasChildrenChange:d}=c,h=s!==void 0,f=ht(e,c.onValueNodeChange);return Xn(()=>{d(h)},[d,h]),g.jsx(qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:k2(c.value)?g.jsx(g.Fragment,{children:o}):s})});l2.displayName=a2;var UY="SelectIcon",c2=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(qe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});c2.displayName=UY;var WY="SelectPortal",u2=t=>g.jsx(Fd,{asChild:!0,...t});u2.displayName=WY;var Va="SelectContent",d2=_.forwardRef((t,e)=>{const n=zo(Va,t.__scopeSelect),[r,i]=_.useState();if(Xn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?$a.createPortal(g.jsx(h2,{scope:t.__scopeSelect,children:g.jsx(yg.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(f2,{...t,ref:e})});d2.displayName=Va;var xi=10,[h2,$o]=Sc(Va),HY="SelectContentImpl",XY=ka("SelectContent.RemoveScroll"),f2=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:C,...b}=t,R=zo(Va,n),[T,P]=_.useState(null),[k,M]=_.useState(null),F=ht(e,ae=>P(ae)),[I,z]=_.useState(null),[G,V]=_.useState(null),H=xg(n),[B,X]=_.useState(!1),Z=_.useRef(!1);_.useEffect(()=>{if(T)return aw(T)},[T]),X_();const Y=_.useCallback(ae=>{const[pe,...we]=H().map(Ve=>Ve.ref.current),[be]=we.slice(-1),$e=document.activeElement;for(const Ve of ae)if(Ve===$e||(Ve==null||Ve.scrollIntoView({block:"nearest"}),Ve===pe&&k&&(k.scrollTop=0),Ve===be&&k&&(k.scrollTop=k.scrollHeight),Ve==null||Ve.focus(),document.activeElement!==$e))return},[H,k]),D=_.useCallback(()=>Y([I,T]),[Y,I,T]);_.useEffect(()=>{B&&D()},[B,D]);const{onOpenChange:j,triggerPointerDownPosRef:U}=R;_.useEffect(()=>{if(T){let ae={x:0,y:0};const pe=be=>{var $e,Ve;ae={x:Math.abs(Math.round(be.pageX)-((($e=U.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Ve=U.current)==null?void 0:Ve.y)??0))}},we=be=>{ae.x<=10&&ae.y<=10?be.preventDefault():T.contains(be.target)||j(!1),document.removeEventListener("pointermove",pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",we,{capture:!0})}}},[T,j,U]),_.useEffect(()=>{const ae=()=>j(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[j]);const[q,N]=A2(ae=>{const pe=H().filter($e=>!$e.disabled),we=pe.find($e=>$e.ref.current===document.activeElement),be=M2(pe,ae,we);be&&setTimeout(()=>be.ref.current.focus())}),L=_.useCallback((ae,pe,we)=>{const be=!Z.current&&!we;(R.value!==void 0&&R.value===pe||be)&&(z(ae),be&&(Z.current=!0))},[R.value]),re=_.useCallback(()=>T==null?void 0:T.focus(),[T]),ie=_.useCallback((ae,pe,we)=>{const be=!Z.current&&!we;(R.value!==void 0&&R.value===pe||be)&&V(ae)},[R.value]),ce=r==="popper"?Fx:m2,ge=ce===Fx?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:C}:{};return g.jsx(h2,{scope:n,content:T,viewport:k,onViewportChange:M,itemRefCallback:L,selectedItem:I,onItemLeave:re,itemTextRefCallback:ie,focusSelectedItem:D,selectedItemText:G,position:r,isPositioned:B,searchRef:q,children:g.jsx(pg,{as:XY,allowPinchZoom:!0,children:g.jsx(dg,{asChild:!0,trapped:R.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ce(i,ae=>{var pe;(pe=R.trigger)==null||pe.focus({preventScroll:!0}),ae.preventDefault()}),children:g.jsx(Id,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:g.jsx(ce,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ae=>ae.preventDefault(),...b,...ge,onPlaced:()=>X(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ce(b.onKeyDown,ae=>{const pe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!pe&&ae.key.length===1&&N(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let be=H().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const $e=ae.target,Ve=be.indexOf($e);be=be.slice(Ve+1)}setTimeout(()=>Y(be)),ae.preventDefault()}})})})})})})});f2.displayName=HY;var KY="SelectItemAlignedPosition",m2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=zo(Va,n),o=$o(Va,n),[l,c]=_.useState(null),[d,h]=_.useState(null),f=ht(e,F=>h(F)),p=xg(n),y=_.useRef(!1),v=_.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:b,focusSelectedItem:R}=o,T=_.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&w&&C&&b){const F=s.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),G=b.getBoundingClientRect();if(s.dir!=="rtl"){const $e=G.left-I.left,Ve=z.left-$e,yt=F.left-Ve,mt=F.width+yt,Wt=Math.max(mt,I.width),Dt=window.innerWidth-xi,Ot=Px(Ve,[xi,Math.max(xi,Dt-Wt)]);l.style.minWidth=mt+"px",l.style.left=Ot+"px"}else{const $e=I.right-G.right,Ve=window.innerWidth-z.right-$e,yt=window.innerWidth-F.right-Ve,mt=F.width+yt,Wt=Math.max(mt,I.width),Dt=window.innerWidth-xi,Ot=Px(Ve,[xi,Math.max(xi,Dt-Wt)]);l.style.minWidth=mt+"px",l.style.right=Ot+"px"}const V=p(),H=window.innerHeight-xi*2,B=w.scrollHeight,X=window.getComputedStyle(d),Z=parseInt(X.borderTopWidth,10),Y=parseInt(X.paddingTop,10),D=parseInt(X.borderBottomWidth,10),j=parseInt(X.paddingBottom,10),U=Z+Y+B+j+D,q=Math.min(C.offsetHeight*5,U),N=window.getComputedStyle(w),L=parseInt(N.paddingTop,10),re=parseInt(N.paddingBottom,10),ie=F.top+F.height/2-xi,ce=H-ie,ge=C.offsetHeight/2,ae=C.offsetTop+ge,pe=Z+Y+ae,we=U-pe;if(pe<=ie){const $e=V.length>0&&C===V[V.length-1].ref.current;l.style.bottom="0px";const Ve=d.clientHeight-w.offsetTop-w.offsetHeight,yt=Math.max(ce,ge+($e?re:0)+Ve+D),mt=pe+yt;l.style.height=mt+"px"}else{const $e=V.length>0&&C===V[0].ref.current;l.style.top="0px";const yt=Math.max(ie,Z+w.offsetTop+($e?L:0)+ge)+we;l.style.height=yt+"px",w.scrollTop=pe-ie+w.offsetTop}l.style.margin=`${xi}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,s.trigger,s.valueNode,l,d,w,C,b,s.dir,r]);Xn(()=>T(),[T]);const[P,k]=_.useState();Xn(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const M=_.useCallback(F=>{F&&v.current===!0&&(T(),R==null||R(),v.current=!1)},[T,R]);return g.jsx(ZY,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:g.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:g.jsx(qe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});m2.displayName=KY;var YY="SelectPopperPosition",Fx=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xi,...s}=t,o=vg(n);return g.jsx(sw,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fx.displayName=YY;var[ZY,lw]=Sc(Va,{}),jx="SelectViewport",g2=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=$o(jx,n),o=lw(jx,n),l=ht(e,s.onViewportChange),c=_.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(yg.Slot,{scope:n,children:g.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const v=window.innerHeight-xi*2,w=parseFloat(f.style.minHeight),C=parseFloat(f.style.height),b=Math.max(w,C);if(b<v){const R=b+y,T=Math.min(v,R),P=R-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});g2.displayName=jx;var p2="SelectGroup",[qY,JY]=Sc(p2),QY=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Pi();return g.jsx(qY,{scope:n,id:i,children:g.jsx(qe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});QY.displayName=p2;var y2="SelectLabel",x2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=JY(y2,n);return g.jsx(qe.div,{id:i.id,...r,ref:e})});x2.displayName=y2;var wm="SelectItem",[eZ,v2]=Sc(wm),_2=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=zo(wm,n),c=$o(wm,n),d=l.value===r,[h,f]=_.useState(s??""),[p,y]=_.useState(!1),v=ht(e,R=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,R,r,i)}),w=Pi(),C=_.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(eZ,{scope:n,value:r,disabled:i,textId:w,isSelected:d,onItemTextChange:_.useCallback(R=>{f(T=>T||((R==null?void 0:R.textContent)??"").trim())},[]),children:g.jsx(yg.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:g.jsx(qe.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ce(o.onFocus,()=>y(!0)),onBlur:Ce(o.onBlur,()=>y(!1)),onClick:Ce(o.onClick,()=>{C.current!=="mouse"&&b()}),onPointerUp:Ce(o.onPointerUp,()=>{C.current==="mouse"&&b()}),onPointerDown:Ce(o.onPointerDown,R=>{C.current=R.pointerType}),onPointerMove:Ce(o.onPointerMove,R=>{var T;C.current=R.pointerType,i?(T=c.onItemLeave)==null||T.call(c):C.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,R=>{var T;R.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:Ce(o.onKeyDown,R=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&R.key===" "||(VY.includes(R.key)&&b(),R.key===" "&&R.preventDefault())})})})})});_2.displayName=wm;var vu="SelectItemText",w2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=zo(vu,n),l=$o(vu,n),c=v2(vu,n),d=GY(vu,n),[h,f]=_.useState(null),p=ht(e,b=>f(b),c.onItemTextChange,b=>{var R;return(R=l.itemTextRefCallback)==null?void 0:R.call(l,b,c.value,c.disabled)}),y=h==null?void 0:h.textContent,v=_.useMemo(()=>g.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=d;return Xn(()=>(w(v),()=>C(v)),[w,C,v]),g.jsxs(g.Fragment,{children:[g.jsx(qe.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$a.createPortal(s.children,o.valueNode):null]})});w2.displayName=vu;var S2="SelectItemIndicator",C2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v2(S2,n).isSelected?g.jsx(qe.span,{"aria-hidden":!0,...r,ref:e}):null});C2.displayName=S2;var Lx="SelectScrollUpButton",b2=_.forwardRef((t,e)=>{const n=$o(Lx,t.__scopeSelect),r=lw(Lx,t.__scopeSelect),[i,s]=_.useState(!1),o=ht(e,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(R2,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});b2.displayName=Lx;var Dx="SelectScrollDownButton",E2=_.forwardRef((t,e)=>{const n=$o(Dx,t.__scopeSelect),r=lw(Dx,t.__scopeSelect),[i,s]=_.useState(!1),o=ht(e,r.onScrollButtonChange);return Xn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;s(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(R2,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});E2.displayName=Dx;var R2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=$o("SelectScrollButton",n),o=_.useRef(null),l=xg(n),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Xn(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),g.jsx(qe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{c()})})}),tZ="SelectSeparator",T2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(qe.div,{"aria-hidden":!0,...r,ref:e})});T2.displayName=tZ;var Ox="SelectArrow",nZ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=vg(n),s=zo(Ox,n),o=$o(Ox,n);return s.open&&o.position==="popper"?g.jsx(ow,{...i,...r,ref:e}):null});nZ.displayName=Ox;var rZ="SelectBubbleInput",P2=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),s=ht(r,i),o=XI(e);return _.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),g.jsx(qe.select,{...n,style:{...KI,...n.style},ref:s,defaultValue:e})});P2.displayName=rZ;function k2(t){return t===""||t===void 0}function A2(t){const e=Hn(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function M2(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=iZ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function iZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sZ=i2,I2=o2,oZ=l2,aZ=c2,lZ=u2,N2=d2,cZ=g2,F2=x2,j2=_2,uZ=w2,dZ=C2,L2=b2,D2=E2,O2=T2;const Si=sZ,Ci=oZ,ni=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(I2,{ref:r,className:Oe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-xl border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(aZ,{asChild:!0,children:g.jsx(md,{className:"h-4 w-4 opacity-50"})})]}));ni.displayName=I2.displayName;const cw=_.forwardRef(({className:t,...e},n)=>g.jsx(L2,{ref:n,className:Oe("flex cursor-default items-center justify-center",t),...e,children:g.jsx(cv,{className:"h-4 w-4"})}));cw.displayName=L2.displayName;const uw=_.forwardRef(({className:t,...e},n)=>g.jsx(D2,{ref:n,className:Oe("flex cursor-default items-center justify-center",t),...e,children:g.jsx(md,{className:"h-4 w-4"})}));uw.displayName=D2.displayName;const ri=_.forwardRef(({className:t,children:e,position:n="popper",withScrollButtons:r=!0,...i},s)=>g.jsx(lZ,{children:g.jsxs(N2,{ref:s,className:Oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[r&&g.jsx(cw,{}),g.jsx(cZ,{className:Oe(n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r&&g.jsx(uw,{})]})}));ri.displayName=N2.displayName;const hZ=_.forwardRef(({className:t,...e},n)=>g.jsx(F2,{ref:n,className:Oe("px-2 py-1.5 text-sm font-semibold",t),...e}));hZ.displayName=F2.displayName;const Pn=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(j2,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-xl py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(dZ,{children:g.jsx(fd,{className:"h-4 w-4"})})}),g.jsx(uZ,{children:e})]}));Pn.displayName=j2.displayName;const fZ=_.forwardRef(({className:t,...e},n)=>g.jsx(O2,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));fZ.displayName=O2.displayName;var[_g,Zee]=Vi("Tooltip",[wc]),wg=wc(),V2="TooltipProvider",mZ=700,Vx="tooltip.open",[gZ,dw]=_g(V2),z2=t=>{const{__scopeTooltip:e,delayDuration:n=mZ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),g.jsx(gZ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};z2.displayName=V2;var ad="Tooltip",[pZ,jd]=_g(ad),$2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=dw(ad,t.__scopeTooltip),d=wg(e),[h,f]=_.useState(null),p=Pi(),y=_.useRef(0),v=o??c.disableHoverableContent,w=l??c.delayDuration,C=_.useRef(!1),[b,R]=jo({prop:r,defaultProp:i??!1,onChange:F=>{F?(c.onOpen(),document.dispatchEvent(new CustomEvent(Vx))):c.onClose(),s==null||s(F)},caller:ad}),T=_.useMemo(()=>b?C.current?"delayed-open":"instant-open":"closed",[b]),P=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,C.current=!1,R(!0)},[R]),k=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,R(!1)},[R]),M=_.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{C.current=!0,R(!0),y.current=0},w)},[w,R]);return _.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),g.jsx(rw,{...d,children:g.jsx(pZ,{scope:e,contentId:p,open:b,stateAttribute:T,trigger:h,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?M():P()},[c.isOpenDelayedRef,M,P]),onTriggerLeave:_.useCallback(()=>{v?k():(window.clearTimeout(y.current),y.current=0)},[k,v]),onOpen:P,onClose:k,disableHoverableContent:v,children:n})})};$2.displayName=ad;var zx="TooltipTrigger",B2=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=jd(zx,n),s=dw(zx,n),o=wg(n),l=_.useRef(null),c=ht(e,l,i.onTriggerChange),d=_.useRef(!1),h=_.useRef(!1),f=_.useCallback(()=>d.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(iw,{asChild:!0,...o,children:g.jsx(qe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ce(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ce(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ce(t.onBlur,i.onClose),onClick:Ce(t.onClick,i.onClose)})})});B2.displayName=zx;var hw="TooltipPortal",[yZ,xZ]=_g(hw,{forceMount:void 0}),G2=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=jd(hw,e);return g.jsx(yZ,{scope:e,forceMount:n,children:g.jsx(mr,{present:n||s.open,children:g.jsx(Fd,{asChild:!0,container:i,children:r})})})};G2.displayName=hw;var rc="TooltipContent",U2=_.forwardRef((t,e)=>{const n=xZ(rc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=jd(rc,t.__scopeTooltip);return g.jsx(mr,{present:r||o.open,children:o.disableHoverableContent?g.jsx(W2,{side:i,...s,ref:e}):g.jsx(vZ,{side:i,...s,ref:e})})}),vZ=_.forwardRef((t,e)=>{const n=jd(rc,t.__scopeTooltip),r=dw(rc,t.__scopeTooltip),i=_.useRef(null),s=ht(e,i),[o,l]=_.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:f}=r,p=_.useCallback(()=>{l(null),f(!1)},[f]),y=_.useCallback((v,w)=>{const C=v.currentTarget,b={x:v.clientX,y:v.clientY},R=bZ(b,C.getBoundingClientRect()),T=EZ(b,R),P=RZ(w.getBoundingClientRect()),k=PZ([...T,...P]);l(k),f(!0)},[f]);return _.useEffect(()=>()=>p(),[p]),_.useEffect(()=>{if(c&&h){const v=C=>y(C,h),w=C=>y(C,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",w)}}},[c,h,y,p]),_.useEffect(()=>{if(o){const v=w=>{const C=w.target,b={x:w.clientX,y:w.clientY},R=(c==null?void 0:c.contains(C))||(h==null?void 0:h.contains(C)),T=!TZ(b,o);R?p():T&&(p(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,o,d,p]),g.jsx(W2,{...t,ref:s})}),[_Z,wZ]=_g(ad,{isInside:!1}),SZ=P3("TooltipContent"),W2=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=jd(rc,n),d=wg(n),{onClose:h}=c;return _.useEffect(()=>(document.addEventListener(Vx,h),()=>document.removeEventListener(Vx,h)),[h]),_.useEffect(()=>{if(c.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),g.jsx(Id,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:g.jsxs(sw,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(SZ,{children:r}),g.jsx(_Z,{scope:n,isInside:!0,children:g.jsx(JK,{id:c.contentId,role:"tooltip",children:i||r})})]})})});U2.displayName=rc;var H2="TooltipArrow",CZ=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=wg(n);return wZ(H2,n).isInside?null:g.jsx(ow,{...i,...r,ref:e})});CZ.displayName=H2;function bZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function EZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function RZ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function TZ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function PZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kZ(e)}function kZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var AZ=z2,MZ=$2,IZ=B2,NZ=G2,X2=U2;const FZ=AZ,El=MZ,Rl=IZ,la=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(NZ,{children:g.jsx(X2,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden bg-white max-w-[150px] max-h-[250px] rounded-xl px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n})}));la.displayName=X2.displayName;var Sg="Switch",[jZ,qee]=Vi(Sg),[LZ,DZ]=jZ(Sg),K2=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,y]=_.useState(null),v=ht(e,T=>y(T)),w=_.useRef(!1),C=p?h||!!p.closest("form"):!0,[b,R]=jo({prop:i,defaultProp:s??!1,onChange:d,caller:Sg});return g.jsxs(LZ,{scope:n,checked:b,disabled:l,children:[g.jsx(qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":J2(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:Ce(t.onClick,T=>{R(P=>!P),C&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),C&&g.jsx(q2,{control:p,bubbles:!w.current,name:r,value:c,checked:b,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});K2.displayName=Sg;var Y2="SwitchThumb",Z2=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=DZ(Y2,n);return g.jsx(qe.span,{"data-state":J2(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Z2.displayName=Y2;var OZ="SwitchBubbleInput",q2=_.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=_.useRef(null),l=ht(o,s),c=XI(n),d=DI(e);return _.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const v=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(v)}},[c,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});q2.displayName=OZ;function J2(t){return t?"checked":"unchecked"}var VZ=K2,zZ=Z2;const Q2=_.forwardRef(({className:t,icon:e,...n},r)=>g.jsx(VZ,{className:Oe("relative peer inline-flex h-10 w-20 shrink-0 cursor-pointer items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n,ref:r,children:g.jsx(zZ,{className:Oe("pointer-events-none absolute left-1 flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-lg transition-transform duration-200","data-[state=checked]:translate-x-9"),children:e})}));Q2.displayName="Switch";var $Z="Label",eN=_.forwardRef((t,e)=>g.jsx(qe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eN.displayName=$Z;var tN=eN;const BZ=pv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cg=_.forwardRef(({className:t,...e},n)=>g.jsx(tN,{ref:n,className:Oe(BZ(),t),...e}));Cg.displayName=tN.displayName;const fw=K9,nN=_.createContext({}),Lt=({...t})=>g.jsx(nN.Provider,{value:{name:t.name},children:g.jsx(J9,{...t})}),bg=()=>{const t=_.useContext(nN),e=_.useContext(rN),{getFieldState:n,formState:r}=lg(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},rN=_.createContext({}),It=_.forwardRef(({className:t,...e},n)=>{const r=_.useId();return g.jsx(rN.Provider,{value:{id:r},children:g.jsx("div",{ref:n,className:Oe("space-y-2",t),...e})})});It.displayName="FormItem";const Gt=_.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=bg();return g.jsx(Cg,{ref:n,className:Oe(r&&"text-destructive",t),htmlFor:i,...e})});Gt.displayName="FormLabel";const Nt=_.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=bg();return g.jsx(vP,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Nt.displayName="FormControl";const vi=_.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=bg();return g.jsx("p",{ref:n,id:r,className:Oe("text-[0.8rem] text-muted-foreground",t),...e})});vi.displayName="FormDescription";const yn=_.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=bg(),o=i?String((i==null?void 0:i.message)??""):e;return o?g.jsx("p",{ref:r,id:s,className:Oe("text-[0.8rem] font-medium text-destructive",t),...n,children:o}):null});yn.displayName="FormMessage";const oT=U_({animal_id:QM().optional(),nombre:qi().min(1,"El nombre es obligatorio."),especie_id:er.number().optional().nullable(),tipo_id:er.number().optional().nullable(),raza_id:er.number().optional().nullable(),sexo_id:er.number().min(1,"El sexo es obligatorio.").optional(),fecha_nacimiento:qi().optional(),peso:er.number().min(0,"Debe ser un número positivo").optional().nullable(),altura_cruz:er.number().min(0,"Debe ser un número positivo").optional().nullable(),longitud_tronco:er.number().min(0,"Debe ser un número positivo").optional().nullable(),perimetro_toracico:er.number().min(0,"Debe ser un número positivo").optional().nullable(),ancho_grupa:er.number().min(0,"Debe ser un número positivo").optional().nullable(),longitud_grupa:er.number().min(0,"Debe ser un número positivo").optional().nullable(),estado_reproductivo_id:er.number().optional().nullable(),numero_partos:er.number().min(0).optional().nullable(),intervalo_partos:er.number().min(0).optional().nullable(),ubicacion_sensor:qi().optional().nullable(),parcela_id:er.number().optional().nullable()});function GZ({animal:t={},modoEdicion:e,parcelas:n=[],animalOptions:r={},onCancel:i,onSave:s}){var C,b,R,T,P,k,M,F,I,z,G;const o=e?oT:oT.extend({acronimo_identificacion:qi().regex(/^[A-Za-z]{4}$/,"Debe contener exactamente 4 letras.").transform(V=>V.toUpperCase())}),l=$_({resolver:B_(o),defaultValues:{...t,especie_id:t.especie_id!=null?t.especie_id.toString():"",tipo_id:t.tipo_id!=null?t.tipo_id.toString():"",raza_id:t.raza_id!=null?t.raza_id.toString():"",sexo_id:t.sexo_id!=null?parseInt(t.sexo_id):1,estado_reproductivo_id:t.estado_reproductivo_id!=null?t.estado_reproductivo_id.toString():"",parcela_id:t.parcela_id!=null?t.parcela_id.toString():"",peso:((C=t.peso)==null?void 0:C.toString())||"",altura_cruz:((b=t.altura_cruz)==null?void 0:b.toString())||"",longitud_tronco:((R=t.longitud_tronco)==null?void 0:R.toString())||"",perimetro_toracico:((T=t.perimetro_toracico)==null?void 0:T.toString())||"",ancho_grupa:((P=t.ancho_grupa)==null?void 0:P.toString())||"",longitud_grupa:((k=t.longitud_grupa)==null?void 0:k.toString())||"",numero_partos:((M=t.numero_partos)==null?void 0:M.toString())||"",intervalo_partos:((F=t.intervalo_partos)==null?void 0:F.toString())||"",fecha_nacimiento:t.fecha_nacimiento?new Date(t.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:t.ubicacion_sensor||""}}),c=l.watch("especie_id"),d=l.watch("tipo_id"),h=l.watch("sexo_id"),f=h===2;_.useEffect(()=>{var V;if(c&&h){const H=(V=r.estados_reproductivos)==null?void 0:V.filter(X=>X.sexo_id===h&&X.especie_id===parseInt(c)),B=l.getValues("estado_reproductivo_id");B&&!H.some(X=>X.id.toString()===B)&&l.setValue("estado_reproductivo_id","")}},[c,h,r.estados_reproductivos,l]);const p=((I=r.tipos)==null?void 0:I.filter(V=>c?V.especie_id===parseInt(c):!0))||[],y=((z=r.razas)==null?void 0:z.filter(V=>(!c||V.especie_id===parseInt(c))&&(!d||V.tipo_id===parseInt(d))))||[],v=((G=r.estados_reproductivos)==null?void 0:G.filter(V=>V.sexo_id===h&&(!c||V.especie_id===parseInt(c))))||[],w=V=>{const H={...V};["especie_id","tipo_id","raza_id","sexo_id","estado_reproductivo_id","parcela_id"].forEach(B=>{H[B]=H[B]===""?null:parseInt(H[B])}),["peso","altura_cruz","longitud_tronco","perimetro_toracico","ancho_grupa","longitud_grupa","numero_partos","intervalo_partos","fertilidad"].forEach(B=>{H[B]=H[B]!==""?parseFloat(H[B]):null}),s(H)};return g.jsx(FZ,{children:g.jsx(fw,{...l,children:g.jsxs("form",{onSubmit:l.handleSubmit(w),className:"max-h-[85vh] overflow-y-auto bg-white p-4 sm:p-6 lg:p-8 rounded-xl w-full max-w-4xl mx-auto",children:[g.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold text-gray-800 mb-4 sm:mb-6 text-center",children:e?"Editar Registro de Animal":"Nuevo Registro de Animal"}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center mb-6 sm:mb-8",children:"Completa la información detallada para el animal."}),g.jsxs(pX,{defaultValue:"general",className:"space-y-8",children:[g.jsxs(wI,{className:"flex flex-wrap gap-2 w-full p-2 rounded-lg",children:[g.jsxs(jf,{value:"general",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(Ro,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"General"})]}),g.jsxs(jf,{value:"zoometria",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(AC,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Zoometría"})]}),g.jsxs(jf,{value:"reproduccion",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(PC,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Reproducción"})]})]}),g.jsxs(Lf,{value:"general",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(Ro,{className:"h-5 w-5"})," Información General"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"nombre",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Nombre"}),g.jsx(Nt,{children:g.jsx(Yt,{...V,placeholder:"Ej: Camila"})}),g.jsx(vi,{children:"Nombre común del animal."}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:e?g.jsx(Lt,{control:l.control,name:"numero_identificacion",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Número de Identificación"}),g.jsx(Nt,{children:g.jsx(Yt,{...V,disabled:!0})}),g.jsx(vi,{children:"Identificador único del animal."}),g.jsx(yn,{})]})}):g.jsx(Lt,{control:l.control,name:"acronimo_identificacion",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Acrónimo de Identificación"}),g.jsx(Nt,{children:g.jsx(Yt,{...V,placeholder:"Ej: ABCD (4 letras)",maxLength:4,onChange:H=>{const B=H.target.value.replace(/[^a-zA-Z]/g,"").toUpperCase();B.length<=4&&V.onChange(B)}})}),g.jsx(vi,{children:"Acrónimo de agrupación del animal."}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"parcela_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Parcela Actual"}),g.jsxs(Si,{onValueChange:V.onChange,value:V.value,children:[g.jsx(Nt,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar parcela"})})}),g.jsx(ri,{children:n.map(H=>g.jsx(Pn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(vi,{children:"Ubicación actual del animal."}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"especie_id",render:({field:V})=>{var H;return g.jsxs(It,{children:[g.jsx(Gt,{children:"Especie de Animal"}),g.jsxs(Si,{value:V.value,onValueChange:B=>{V.onChange(B),l.setValue("tipo_id",""),l.setValue("raza_id","")},children:[g.jsx(Nt,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccione la especie"})})}),g.jsx(ri,{children:(H=r.especies)==null?void 0:H.map(B=>g.jsx(Pn,{value:B.id.toString(),children:B.nombre},B.id))})]}),g.jsx(vi,{children:"Clasificación de la especie."}),g.jsx(yn,{})]})}})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"tipo_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Tipo de Animal"}),g.jsxs(Si,{onValueChange:H=>{V.onChange(H),l.setValue("raza_id","")},value:V.value,disabled:!c,children:[g.jsx(Nt,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccione el tipo"})})}),g.jsx(ri,{children:p.map(H=>g.jsx(Pn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(vi,{children:"Clasificación del tipo."}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"raza_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Raza de Animal"}),g.jsxs(Si,{onValueChange:V.onChange,value:V.value,disabled:!c||!d,children:[g.jsx(Nt,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccione la raza"})})}),g.jsx(ri,{children:y.map(H=>g.jsx(Pn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(vi,{children:"Clasificación de la raza."}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Lt,{control:l.control,name:"fecha_nacimiento",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Fecha de Nacimiento"}),g.jsx(Nt,{children:g.jsx(Yt,{type:"date",...V})}),g.jsx(vi,{children:"Fecha en formato AAAA-MM-DD."}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Lt,{control:l.control,name:"ubicacion_sensor",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Ubicación del Sensor"}),g.jsxs(Si,{onValueChange:V.onChange,value:V.value,children:[g.jsx(Nt,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar ubicación"})})}),g.jsxs(ri,{children:[g.jsx(Pn,{value:"cuello",children:"Cuello"}),g.jsx(Pn,{value:"pata",children:"Pata"}),g.jsx(Pn,{value:"cola",children:"Cola"}),g.jsx(Pn,{value:"implante",children:"Implante (interna)"}),g.jsx(Pn,{value:"ninguno",children:"Ninguno"})]})]}),g.jsx(yn,{})]})})})]})]}),g.jsxs(Lf,{value:"zoometria",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(AC,{className:"h-5 w-5"})," Medidas Corporales (Zoometría)"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"peso",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Peso (kg)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Yt,{type:"number",min:0,...V,placeholder:"Ej: 500.5"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Indica la masa corporal del animal en kilogramos."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"altura_cruz",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Altura a la Cruz (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Yt,{type:"number",min:0,...V,placeholder:"Ej: 150"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Representa la distancia vertical desde el suelo hasta la protuberancia más alta de la escápula."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"longitud_tronco",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Longitud del Tronco (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Yt,{type:"number",min:0,...V,placeholder:"Ej: 90"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Medida desde la punta del hombro (articulación escápulo-humeral) hasta la punta del isquion."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"perimetro_toracico",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Perímetro Torácico (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Yt,{type:"number",min:0,...V,placeholder:"Ej: 212"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Medición de la circunferencia del tórax justo detrás de las paletas."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"ancho_grupa",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Ancho de Grupa (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Yt,{type:"number",min:0,...V,placeholder:"Ej: 112"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Distancia transversal entre las tuberosidades coxales (puntas de las caderas). Es un indicador importante de la capacidad pélvica, especialmente relevante en hembras para evaluar la facilidad de parto (distocia)."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Lt,{control:l.control,name:"longitud_grupa",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Longitud de Grupa (cm)"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Yt,{type:"number",min:0,...V,placeholder:"Ej: 98"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Medida longitudinal desde las tuberosidades ilíacas (puntas de la cadera) hasta las tuberosidades isquiáticas (puntas de la nalga)."})})]})]})})]})})})]})]}),g.jsxs(Lf,{value:"reproduccion",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(PC,{className:"h-8 w-8"})," Datos Reproductivos"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Lt,{control:l.control,name:"sexo_id",render:({field:V})=>g.jsxs(It,{className:"flex flex-col",children:[g.jsx(Gt,{className:"mb-2",children:"Sexo"}),g.jsx(Nt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Q2,{id:"sexo-switch",checked:V.value===2,onCheckedChange:H=>{const B=H?2:1;V.onChange(B),B===2&&(l.setValue("numero_partos",null),l.setValue("intervalo_partos",null),l.setValue("fertilidad",null))},className:Oe(V.value===2?"bg-blue-500":"bg-pink-500"),icon:V.value===2?g.jsx(u4,{className:"h-5 w-5 text-blue-800"}):g.jsx(V4,{className:"h-5 w-5 text-pink-600"})}),g.jsx("span",{children:V.value===2?"Macho":"Hembra"})]})}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Lt,{control:l.control,name:"estado_reproductivo_id",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Estado Reproductivo"}),g.jsxs(Si,{onValueChange:V.onChange,value:V.value,disabled:!c&&!V.value||v.length===0&&!V.value,children:[g.jsx(Nt,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar estado"})})}),g.jsx(ri,{children:v.map(H=>g.jsx(Pn,{value:H.id.toString(),children:H.nombre},H.id))})]}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Lt,{control:l.control,name:"numero_partos",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Número de Partos"}),g.jsx(Nt,{children:g.jsx(Yt,{type:"number",min:0,...V,disabled:f,placeholder:f?"Solo para hembras":"Ej: 1"})}),g.jsx(vi,{children:"Número de partos registrados."}),g.jsx(yn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Lt,{control:l.control,name:"intervalo_partos",render:({field:V})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Intervalo entre Partos"}),g.jsx(Nt,{children:g.jsx(Yt,{type:"number",min:0,...V,disabled:f,placeholder:f?"Solo para hembras":"Ej: 365 (días)"})}),g.jsx(yn,{})]})})})]})]})]}),g.jsxs("div",{className:"pt-8 flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-4 border-t border-gray-200 mt-8",children:[g.jsx(st,{type:"button",variant:"outline",onClick:i,className:"flex items-center gap-2 px-6 py-3 rounded-xl border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(st,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(VT,{className:"h-5 w-5"}),"Guardar Animal"]})]})]})})})}const UZ=U_({collar_id:QM().optional(),codigo:qi().min(1,"El código es obligatorio."),estado:qi().min(1,"El estado es obligatorio."),bateria:er.number().min(0).max(100).optional().nullable(),animal_id:G7([U7("UNASSIGNED"),qi().regex(/^\d+$/,"ID de animal inválido. Debe ser un número.").transform(Number),B7(),$7()]).optional().nullable(),original_animal_id:qi().optional().nullable(),original_estado:qi().optional().nullable()});function WZ({collar:t={},animals:e=[],onCancel:n,onSave:r,collarStatesOptions:i=[]}){const s=$_({resolver:B_(UZ),defaultValues:{codigo:t.codigo||"",...t,estado:t.estado||"disponible",bateria:t.bateria,animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_estado:t.estado||"disponible"}}),{handleSubmit:o,formState:{errors:l},watch:c,setValue:d}=s,[h,f]=_.useState(""),p=c("estado")==="activo",y=c("estado")==="defectuoso",v=_.useMemo(()=>{var k;if(t.estado&&t.estado.toLowerCase()==="activo")return[{id:(k=i.find(M=>M.nombre.toLowerCase()==="activo"))==null?void 0:k.id,nombre:"activo"}];const P=["activo","sin bateria"];return i.filter(M=>!P.includes(M.nombre.toLowerCase()))},[i,t.estado]),w=P=>{let k=g.jsx(wi,{className:"h-4 w-4"}),M="N/A",F="bg-gray-100 text-gray-700";return typeof P=="number"&&(P>=70?(k=g.jsx(av,{className:"h-4 w-4 text-green-600"}),F="bg-green-100 text-green-800"):P>=30?(k=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),F="bg-yellow-100 text-yellow-800"):(k=g.jsx(Lu,{className:"h-4 w-4 text-red-700"}),F="bg-red-100 text-red-800"),M=`${P}%`),g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 py-1 rounded-xl text-xs font-medium",F),children:[k,M]})};_.useEffect(()=>{y&&d("animal_id","UNASSIGNED",{shouldValidate:!0})},[y,d]),_.useEffect(()=>{Object.keys(l).length>0&&(l.collar_id&&(console.error("Detalle del error de collar_id:",l.collar_id.message),console.error("Valor actual de collar_id en el formulario:",s.getValues("collar_id"))),l.estado&&console.error("Error estado:",l.estado.message),l.bateria&&console.error("Error bateria:",l.bateria.message),l.animal_id&&console.error("Error animal_id:",l.animal_id.message))},[l,s]);const C=c("animal_id"),b=e.find(P=>P.animal_id.toString()===(C==null?void 0:C.toString())),R=_.useMemo(()=>{const P=h.trim().toLowerCase();let k=e;return P&&(k=e.filter(M=>{var F,I,z,G,V;return((F=M.nombre)==null?void 0:F.toLowerCase().includes(P))||((z=(I=M.numero_identificacion)==null?void 0:I.toLowerCase)==null?void 0:z.call(I).includes(P))||((V=(G=M.collar_asignado)==null?void 0:G.codigo)==null?void 0:V.toLowerCase().includes(P))})),b&&!k.some(M=>M.animal_id===b.animal_id)&&(k=[b,...k]),k},[e,h,b]),T=P=>{const k={collar_id:P.collar_id,estado:P.estado,bateria:t.bateria,animal_id:P.animal_id};k.estado==="sin bateria"&&(k.bateria=0),r({...k,original_animal_id:P.original_animal_id,original_estado:P.original_estado,codigo:P.codigo})};return g.jsx(fw,{...s,children:g.jsxs("form",{onSubmit:o(T),className:"space-y-6 p-4",children:[g.jsx(Lt,{control:s.control,name:"collar_id",render:({field:P})=>g.jsxs(It,{className:"hidden",children:[g.jsx(Nt,{children:g.jsx(Yt,{type:"hidden",...P,value:P.value!==void 0?String(P.value):""})}),g.jsx(yn,{})]})}),g.jsx(Lt,{control:s.control,name:"original_animal_id",render:({field:P})=>g.jsx(It,{className:"hidden",children:g.jsx(Nt,{children:g.jsx(Yt,{type:"hidden",...P})})})}),g.jsx(Lt,{control:s.control,name:"original_estado",render:({field:P})=>g.jsx(It,{className:"hidden",children:g.jsx(Nt,{children:g.jsx(Yt,{type:"hidden",...P})})})}),g.jsx(Lt,{control:s.control,name:"codigo",render:({field:P})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Código del Collar"}),g.jsx(Nt,{children:g.jsx(Yt,{...P,disabled:!0})}),g.jsx(yn,{})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Lt,{control:s.control,name:"estado",render:({field:P})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Estado del Collar"}),g.jsxs(Si,{onValueChange:P.onChange,value:P.value,disabled:p,children:[g.jsx(Nt,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar estado"})})}),g.jsx(ri,{children:v.map(k=>g.jsx(Pn,{value:k.nombre,children:k.nombre.charAt(0).toUpperCase()+k.nombre.slice(1)},k.id))})]}),g.jsx(yn,{})]})}),g.jsxs(It,{children:[g.jsx(Gt,{children:"Nivel de Batería"}),g.jsx(Nt,{children:g.jsx("div",{className:"flex items-center h-10",children:w(t.bateria)})})]})]}),g.jsx(Lt,{control:s.control,name:"animal_id",render:({field:P})=>g.jsxs(It,{children:[g.jsx(Gt,{children:"Asignar a Animal"}),g.jsxs(Si,{onValueChange:P.onChange,value:P.value,disabled:y,children:[g.jsx(Nt,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar animal (opcional)"})})}),g.jsxs(ri,{withScrollButtons:!1,className:"bg-white max-h-[350px] overflow-auto",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx(Yt,{value:h,onChange:k=>f(k.target.value),onKeyDown:k=>k.stopPropagation(),placeholder:"Buscar animal o collar",className:"mb-2 text-sm mt-4 px-4"}),g.jsx(Pn,{value:"UNASSIGNED",className:"border-b",children:g.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[g.jsx(E4,{className:"h-4 w-4"})," Desasignar"]})}),g.jsx(cw,{className:"sticky top-[6rem] z-10 bg-white h-max"})]}),R.length===0?g.jsx("div",{className:"text-sm text-gray-400 text-center py-2",children:"Sin resultados"}):R.map(k=>g.jsxs(Pn,{value:k.animal_id.toString(),className:"bg-white",children:[k.nombre," (",k.numero_identificacion,")",k.collar_asignado&&k.collar_asignado.id!==t.collar_id&&g.jsxs("span",{className:"italic ml-2",children:[" - Collar asignado (",k.collar_asignado.codigo,")"]})]},k.animal_id)),g.jsx(uw,{className:"sticky bottom-0 z-10 bg-white h-max"})]})]}),g.jsx(vi,{children:"Asigna este collar a un animal específico. Un collar solo puede estar asignado a un animal a la vez. Si el animal ya tiene un collar, este será desasignado automáticamente."}),g.jsx(yn,{})]})}),g.jsxs("div",{className:"flex justify-end gap-4 mt-6 border-t pt-4",children:[g.jsx(st,{type:"button",variant:"outline",onClick:n,className:"flex items-center gap-2 px-6 py-3 rounded-xl border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(st,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(VT,{className:"h-5 w-5"}),"Guardar Collar"]})]})]})})}const $x=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("rounded-xl border bg-card text-card-foreground shadow",t),...e}));$x.displayName="Card";const HZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",t),...e}));HZ.displayName="CardHeader";const XZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("font-semibold leading-none tracking-tight",t),...e}));XZ.displayName="CardTitle";const KZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));KZ.displayName="CardDescription";const Bx=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("p-6 pt-0",t),...e}));Bx.displayName="CardContent";const YZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",t),...e}));YZ.displayName="CardFooter";function ZZ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const qZ=t=>{switch(t){case"success":return eq;case"info":return nq;case"warning":return tq;case"error":return rq;default:return null}},JZ=Array(12).fill(0),QZ=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},JZ.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),eq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sq=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Gx=1;class oq{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Gx++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],le.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(lq(d)&&!d.ok){s=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(d instanceof Error){s=!1;const f=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){s=!1;const f=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...v})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!le.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...y})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Gx++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const br=new oq,aq=(t,e)=>{const n=(e==null?void 0:e.id)||Gx++;return br.addToast({title:t,...e,id:n}),n},lq=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",cq=aq,uq=()=>br.toasts,dq=()=>br.getActiveToasts(),Pt=Object.assign(cq,{success:br.success,info:br.info,warning:br.warning,error:br.error,custom:br.custom,message:br.message,promise:br.promise,dismiss:br.dismiss,loading:br.loading},{getHistory:uq,getToasts:dq});ZZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function xf(t){return t.label!==void 0}const hq=3,fq="24px",mq="16px",aT=4e3,gq=356,pq=14,yq=45,xq=200;function Ki(...t){return t.filter(Boolean).join(" ")}function vq(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const _q=t=>{var e,n,r,i,s,o,l,c,d;const{invert:h,toast:f,unstyled:p,interacting:y,setHeights:v,visibleToasts:w,heights:C,index:b,toasts:R,expanded:T,removeToast:P,defaultRichColors:k,closeButton:M,style:F,cancelButtonStyle:I,actionButtonStyle:z,className:G="",descriptionClassName:V="",duration:H,position:B,gap:X,expandByDefault:Z,classNames:Y,icons:D,closeButtonAriaLabel:j="Close toast"}=t,[U,q]=le.useState(null),[N,L]=le.useState(null),[re,ie]=le.useState(!1),[ce,ge]=le.useState(!1),[ae,pe]=le.useState(!1),[we,be]=le.useState(!1),[$e,Ve]=le.useState(!1),[yt,mt]=le.useState(0),[Wt,Dt]=le.useState(0),Ot=le.useRef(f.duration||H||aT),zn=le.useRef(null),lt=le.useRef(null),$=b===0,J=b+1<=w,te=f.type,fe=f.dismissible!==!1,he=f.className||"",se=f.descriptionClassName||"",ye=le.useMemo(()=>C.findIndex(Ye=>Ye.toastId===f.id)||0,[C,f.id]),je=le.useMemo(()=>{var Ye;return(Ye=f.closeButton)!=null?Ye:M},[f.closeButton,M]),ze=le.useMemo(()=>f.duration||H||aT,[f.duration,H]),xt=le.useRef(0),Vt=le.useRef(0),ft=le.useRef(0),$n=le.useRef(null),[Ar,Mr]=B.split("-"),ke=le.useMemo(()=>C.reduce((Ye,ct,Be)=>Be>=ye?Ye:Ye+ct.height,0),[C,ye]),ve=sq(),vt=f.invert||h,St=te==="loading";Vt.current=le.useMemo(()=>ye*X+ke,[ye,ke]),le.useEffect(()=>{Ot.current=ze},[ze]),le.useEffect(()=>{ie(!0)},[]),le.useEffect(()=>{const Ye=lt.current;if(Ye){const ct=Ye.getBoundingClientRect().height;return Dt(ct),v(Be=>[{toastId:f.id,height:ct,position:f.position},...Be]),()=>v(Be=>Be.filter(Tt=>Tt.toastId!==f.id))}},[v,f.id]),le.useLayoutEffect(()=>{if(!re)return;const Ye=lt.current,ct=Ye.style.height;Ye.style.height="auto";const Be=Ye.getBoundingClientRect().height;Ye.style.height=ct,Dt(Be),v(Tt=>Tt.find(gt=>gt.toastId===f.id)?Tt.map(gt=>gt.toastId===f.id?{...gt,height:Be}:gt):[{toastId:f.id,height:Be,position:f.position},...Tt])},[re,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const zt=le.useCallback(()=>{ge(!0),mt(Vt.current),v(Ye=>Ye.filter(ct=>ct.toastId!==f.id)),setTimeout(()=>{P(f)},xq)},[f,P,v,Vt]);le.useEffect(()=>{if(f.promise&&te==="loading"||f.duration===1/0||f.type==="loading")return;let Ye;return T||y||ve?(()=>{if(ft.current<xt.current){const Tt=new Date().getTime()-xt.current;Ot.current=Ot.current-Tt}ft.current=new Date().getTime()})():(()=>{Ot.current!==1/0&&(xt.current=new Date().getTime(),Ye=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),zt()},Ot.current))})(),()=>clearTimeout(Ye)},[T,y,f,te,ve,zt]),le.useEffect(()=>{f.delete&&(zt(),f.onDismiss==null||f.onDismiss.call(f,f))},[zt,f.delete]);function Ht(){var Ye;if(D!=null&&D.loading){var ct;return le.createElement("div",{className:Ki(Y==null?void 0:Y.loader,f==null||(ct=f.classNames)==null?void 0:ct.loader,"sonner-loader"),"data-visible":te==="loading"},D.loading)}return le.createElement(QZ,{className:Ki(Y==null?void 0:Y.loader,f==null||(Ye=f.classNames)==null?void 0:Ye.loader),visible:te==="loading"})}const Qt=f.icon||(D==null?void 0:D[te])||qZ(te);var en,Ct;return le.createElement("li",{tabIndex:0,ref:lt,className:Ki(G,he,Y==null?void 0:Y.toast,f==null||(e=f.classNames)==null?void 0:e.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[te],f==null||(n=f.classNames)==null?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":(en=f.richColors)!=null?en:k,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":re,"data-promise":!!f.promise,"data-swiped":$e,"data-removed":ce,"data-visible":J,"data-y-position":Ar,"data-x-position":Mr,"data-index":b,"data-front":$,"data-swiping":ae,"data-dismissible":fe,"data-type":te,"data-invert":vt,"data-swipe-out":we,"data-swipe-direction":N,"data-expanded":!!(T||Z&&re),style:{"--index":b,"--toasts-before":b,"--z-index":R.length-b,"--offset":`${ce?yt:Vt.current}px`,"--initial-height":Z?"auto":`${Wt}px`,...F,...f.style},onDragEnd:()=>{pe(!1),q(null),$n.current=null},onPointerDown:Ye=>{St||!fe||(zn.current=new Date,mt(Vt.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(pe(!0),$n.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,ct,Be;if(we||!fe)return;$n.current=null;const Tt=Number(((Ye=lt.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),In=Number(((ct=lt.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((Be=zn.current)==null?void 0:Be.getTime()),tn=U==="x"?Tt:In,Ir=Math.abs(tn)/gt;if(Math.abs(tn)>=yq||Ir>.11){mt(Vt.current),f.onDismiss==null||f.onDismiss.call(f,f),L(U==="x"?Tt>0?"right":"left":In>0?"down":"up"),zt(),be(!0);return}else{var bt,$t;(bt=lt.current)==null||bt.style.setProperty("--swipe-amount-x","0px"),($t=lt.current)==null||$t.style.setProperty("--swipe-amount-y","0px")}Ve(!1),pe(!1),q(null)},onPointerMove:Ye=>{var ct,Be,Tt;if(!$n.current||!fe||((ct=window.getSelection())==null?void 0:ct.toString().length)>0)return;const gt=Ye.clientY-$n.current.y,tn=Ye.clientX-$n.current.x;var Ir;const bt=(Ir=t.swipeDirections)!=null?Ir:vq(B);!U&&(Math.abs(tn)>1||Math.abs(gt)>1)&&q(Math.abs(tn)>Math.abs(gt)?"x":"y");let $t={x:0,y:0};const Nn=pr=>1/(1.5+Math.abs(pr)/20);if(U==="y"){if(bt.includes("top")||bt.includes("bottom"))if(bt.includes("top")&&gt<0||bt.includes("bottom")&&gt>0)$t.y=gt;else{const pr=gt*Nn(gt);$t.y=Math.abs(pr)<Math.abs(gt)?pr:gt}}else if(U==="x"&&(bt.includes("left")||bt.includes("right")))if(bt.includes("left")&&tn<0||bt.includes("right")&&tn>0)$t.x=tn;else{const pr=tn*Nn(tn);$t.x=Math.abs(pr)<Math.abs(tn)?pr:tn}(Math.abs($t.x)>0||Math.abs($t.y)>0)&&Ve(!0),(Be=lt.current)==null||Be.style.setProperty("--swipe-amount-x",`${$t.x}px`),(Tt=lt.current)==null||Tt.style.setProperty("--swipe-amount-y",`${$t.y}px`)}},je&&!f.jsx&&te!=="loading"?le.createElement("button",{"aria-label":j,"data-disabled":St,"data-close-button":!0,onClick:St||!fe?()=>{}:()=>{zt(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Ki(Y==null?void 0:Y.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(Ct=D==null?void 0:D.close)!=null?Ct:iq):null,(te||f.icon||f.promise)&&f.icon!==null&&((D==null?void 0:D[te])!==null||f.icon)?le.createElement("div",{"data-icon":"",className:Ki(Y==null?void 0:Y.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ht():null,f.type!=="loading"?Qt:null):null,le.createElement("div",{"data-content":"",className:Ki(Y==null?void 0:Y.content,f==null||(s=f.classNames)==null?void 0:s.content)},le.createElement("div",{"data-title":"",className:Ki(Y==null?void 0:Y.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?le.createElement("div",{"data-description":"",className:Ki(V,se,Y==null?void 0:Y.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),le.isValidElement(f.cancel)?f.cancel:f.cancel&&xf(f.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:Ye=>{xf(f.cancel)&&fe&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ye),zt())},className:Ki(Y==null?void 0:Y.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,le.isValidElement(f.action)?f.action:f.action&&xf(f.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||z,onClick:Ye=>{xf(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ye),!Ye.defaultPrevented&&zt())},className:Ki(Y==null?void 0:Y.actionButton,f==null||(d=f.classNames)==null?void 0:d.actionButton)},f.action.label):null)};function lT(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wq(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",l=s?mq:fq;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}const Sq=le.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:y,style:v,visibleToasts:w=hq,toastOptions:C,dir:b=lT(),gap:R=pq,icons:T,containerAriaLabel:P="Notifications"}=e,[k,M]=le.useState([]),F=le.useMemo(()=>Array.from(new Set([i].concat(k.filter(N=>N.position).map(N=>N.position)))),[k,i]),[I,z]=le.useState([]),[G,V]=le.useState(!1),[H,B]=le.useState(!1),[X,Z]=le.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=le.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=le.useRef(null),U=le.useRef(!1),q=le.useCallback(N=>{M(L=>{var re;return(re=L.find(ie=>ie.id===N.id))!=null&&re.delete||br.dismiss(N.id),L.filter(({id:ie})=>ie!==N.id)})},[]);return le.useEffect(()=>br.subscribe(N=>{if(N.dismiss){requestAnimationFrame(()=>{M(L=>L.map(re=>re.id===N.id?{...re,delete:!0}:re))});return}setTimeout(()=>{jT.flushSync(()=>{M(L=>{const re=L.findIndex(ie=>ie.id===N.id);return re!==-1?[...L.slice(0,re),{...L[re],...N},...L.slice(re+1)]:[N,...L]})})})}),[k]),le.useEffect(()=>{if(f!=="system"){Z(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;const N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:L})=>{Z(L?"dark":"light")})}catch{N.addListener(({matches:re})=>{try{Z(re?"dark":"light")}catch(ie){console.error(ie)}})}},[f]),le.useEffect(()=>{k.length<=1&&V(!1)},[k]),le.useEffect(()=>{const N=L=>{var re;if(s.every(ge=>L[ge]||L.code===ge)){var ce;V(!0),(ce=Y.current)==null||ce.focus()}L.code==="Escape"&&(document.activeElement===Y.current||(re=Y.current)!=null&&re.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),le.useEffect(()=>{if(Y.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,U.current=!1)}},[Y.current]),le.createElement("section",{ref:n,"aria-label":`${P} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((N,L)=>{var re;const[ie,ce]=N.split("-");return k.length?le.createElement("ol",{key:N,dir:b==="auto"?lT():b,tabIndex:-1,ref:Y,className:c,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":ie,"data-x-position":ce,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--width":`${gq}px`,"--gap":`${R}px`,...v,...wq(d,h)},onBlur:ge=>{U.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(U.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||U.current||(U.current=!0,j.current=ge.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{H||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},k.filter(ge=>!ge.position&&L===0||ge.position===N).map((ge,ae)=>{var pe,we;return le.createElement(_q,{key:ge.id,icons:T,index:ae,toast:ge,defaultRichColors:p,duration:(pe=C==null?void 0:C.duration)!=null?pe:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:w,closeButton:(we=C==null?void 0:C.closeButton)!=null?we:l,interacting:H,position:N,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:q,toasts:k.filter(be=>be.position==ge.position),heights:I.filter(be=>be.position==ge.position),setHeights:z,expandByDefault:o,gap:R,expanded:G,swipeDirections:e.swipeDirections})})):null}))});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Cq(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Co(t,e){return typeof t=="function"?t(e):t}function Xr(t,e){return n=>{e.setState(r=>({...r,[t]:Co(n,r[t])}))}}function Eg(t){return t instanceof Function}function bq(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Eq(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function Xe(t,e,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(s);if(!(l.length!==r.length||l.some((h,f)=>r[f]!==h)))return i;r=l;let d;if(n.key&&n.debug&&(d=Date.now()),i=e(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-d)*100)/100,p=f/16,y=(v,w)=>{for(v=String(v);v.length<w;)v=" "+v;return v};console.info(`%c⏱ ${y(f,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Ke(t,e,n,r){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function Rq(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Xe(()=>[t,n,e,s],(o,l,c,d)=>({table:o,column:l,row:c,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Ke(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function Tq(t,e,n,r){var i,s;const l={...t._getDefaultColumnDef(),...e},c=l.accessorKey;let d=(i=(s=l.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:c&&(c.includes(".")?h=p=>{let y=p;for(const w of c.split(".")){var v;y=(v=y)==null?void 0:v[w]}return y}:h=p=>p[l.accessorKey]),!d)throw new Error;let f={id:`${String(d)}`,accessorFn:h,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Xe(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(y=>y.getFlatColumns())]},Ke(t.options,"debugColumns")),getLeafColumns:Xe(()=>[t._getOrderColumnsFn()],p=>{var y;if((y=f.columns)!=null&&y.length){let v=f.columns.flatMap(w=>w.getLeafColumns());return p(v)}return[f]},Ke(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(f,t);return f}const Qn="debugHeaders";function cT(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const Pq={createTable:t=>{t.getHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const l=(s=r==null?void 0:r.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?s:[],c=(o=i==null?void 0:i.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?o:[],d=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return vf(e,[...l,...d,...c],t)},Ke(t.options,Qn)),t.getCenterHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),vf(e,n,t,"center")),Ke(t.options,Qn)),t.getLeftHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return vf(e,s,t,"left")},Ke(t.options,Qn)),t.getRightHeaderGroups=Xe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return vf(e,s,t,"right")},Ke(t.options,Qn)),t.getFooterGroups=Xe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ke(t.options,Qn)),t.getLeftFooterGroups=Xe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ke(t.options,Qn)),t.getCenterFooterGroups=Xe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ke(t.options,Qn)),t.getRightFooterGroups=Xe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ke(t.options,Qn)),t.getFlatHeaders=Xe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,Qn)),t.getLeftFlatHeaders=Xe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,Qn)),t.getCenterFlatHeaders=Xe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,Qn)),t.getRightFlatHeaders=Xe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ke(t.options,Qn)),t.getCenterLeafHeaders=Xe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,Qn)),t.getLeftLeafHeaders=Xe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,Qn)),t.getRightLeafHeaders=Xe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ke(t.options,Qn)),t.getLeafHeaders=Xe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,l,c,d;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(d=r[0])==null?void 0:d.headers)!=null?c:[]].map(h=>h.getLeafHeaders()).flat()},Ke(t.options,Qn))}};function vf(t,e,n,r){var i,s;let o=0;const l=function(p,y){y===void 0&&(y=1),o=Math.max(o,y),p.filter(v=>v.getIsVisible()).forEach(v=>{var w;(w=v.columns)!=null&&w.length&&l(v.columns,y+1)},0)};l(t);let c=[];const d=(p,y)=>{const v={depth:y,id:[r,`${y}`].filter(Boolean).join("_"),headers:[]},w=[];p.forEach(C=>{const b=[...w].reverse()[0],R=C.column.depth===v.depth;let T,P=!1;if(R&&C.column.parent?T=C.column.parent:(T=C.column,P=!0),b&&(b==null?void 0:b.column)===T)b.subHeaders.push(C);else{const k=cT(n,T,{id:[r,y,T.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${w.filter(M=>M.column===T).length}`:void 0,depth:y,index:w.length});k.subHeaders.push(C),w.push(k)}v.headers.push(C),C.headerGroup=v}),c.push(v),y>0&&d(w,y-1)},h=e.map((p,y)=>cT(n,p,{depth:o,index:y}));d(h,o-1),c.reverse();const f=p=>p.filter(v=>v.column.getIsVisible()).map(v=>{let w=0,C=0,b=[0];v.subHeaders&&v.subHeaders.length?(b=[],f(v.subHeaders).forEach(T=>{let{colSpan:P,rowSpan:k}=T;w+=P,b.push(k)})):w=1;const R=Math.min(...b);return C=C+R,v.colSpan=w,v.rowSpan=C,{colSpan:w,rowSpan:C}});return f((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const mw=(t,e,n,r,i,s,o)=>{let l={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return l._valuesCache[c]=d.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var d;return(d=l.getValue(c))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Eq(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;c.push(h),d=h}return c.reverse()},getAllCells:Xe(()=>[t.getAllLeafColumns()],c=>c.map(d=>Rq(t,l,d,d.id)),Ke(t.options,"debugRows")),_getAllCellsByColumnId:Xe(()=>[l.getAllCells()],c=>c.reduce((d,h)=>(d[h.column.id]=h,d),{}),Ke(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const d=t._features[c];d==null||d.createRow==null||d.createRow(l,t)}return l},kq={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},iN=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};iN.autoRemove=t=>ki(t);const sN=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};sN.autoRemove=t=>ki(t);const oN=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};oN.autoRemove=t=>ki(t);const aN=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};aN.autoRemove=t=>ki(t);const lN=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});lN.autoRemove=t=>ki(t)||!(t!=null&&t.length);const cN=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});cN.autoRemove=t=>ki(t)||!(t!=null&&t.length);const uN=(t,e,n)=>t.getValue(e)===n;uN.autoRemove=t=>ki(t);const dN=(t,e,n)=>t.getValue(e)==n;dN.autoRemove=t=>ki(t);const gw=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};gw.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const l=s;s=o,o=l}return[s,o]};gw.autoRemove=t=>ki(t)||ki(t[0])&&ki(t[1]);const ks={includesString:iN,includesStringSensitive:sN,equalsString:oN,arrIncludes:aN,arrIncludesAll:lN,arrIncludesSome:cN,equals:uN,weakEquals:dN,inNumberRange:gw};function ki(t){return t==null||t===""}const Aq={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Xr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?ks.includesString:typeof r=="number"?ks.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ks.equals:Array.isArray(r)?ks.arrIncludes:ks.weakEquals},t.getFilterFn=()=>{var n,r;return Eg(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:ks[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r==null?void 0:r.find(h=>h.id===t.id),o=Co(n,s?s.value:void 0);if(uT(i,o,t)){var l;return(l=r==null?void 0:r.filter(h=>h.id!==t.id))!=null?l:[]}const c={id:t.id,value:o};if(s){var d;return(d=r==null?void 0:r.map(h=>h.id===t.id?c:h))!=null?d:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Co(e,i))==null?void 0:s.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(uT(c,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function uT(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Mq=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),Iq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},Nq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Fq=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},jq=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},Lq=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!bq(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},Dq=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Oq=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Vq=(t,e)=>e.length,m0={sum:Mq,min:Iq,max:Nq,extent:Fq,mean:jq,median:Lq,unique:Dq,uniqueCount:Oq,count:Vq},zq={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Xr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return m0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return m0.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Eg(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:m0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function $q(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const Bq={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Xr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Xe(n=>[Fu(e,n)],n=>n.findIndex(r=>r.id===t.id),Ke(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Fu(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=Fu(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Xe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],l=[...i];for(;l.length&&o.length;){const c=o.shift(),d=l.findIndex(h=>h.id===c);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return $q(s,n,r)},Ke(t.options,"debugTable"))}},g0=()=>({left:[],right:[]}),Gq={getInitialState:t=>({columnPinning:g0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Xr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var l,c;return{left:((l=i==null?void 0:i.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var d,h;return{left:[...((d=i==null?void 0:i.left)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},Ke(e.options,"debugRows")),t.getLeftVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Ke(e.options,"debugRows")),t.getRightVisibleCells=Xe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Ke(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?g0():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:g0())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Ke(t.options,"debugColumns")),t.getRightLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Ke(t.options,"debugColumns")),t.getCenterLeafColumns=Xe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},Ke(t.options,"debugColumns"))}};function Uq(t){return t||(typeof document<"u"?document:null)}const _f={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},p0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Wq={getDefaultColumnDef:()=>_f,getInitialState:t=>({columnSizing:{},columnSizingInfo:p0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Xr("columnSizing",t),onColumnSizingInfoChange:Xr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:_f.minSize,(r=s??t.columnDef.size)!=null?r:_f.size),(i=t.columnDef.maxSize)!=null?i:_f.maxSize)},t.getStart=Xe(n=>[n,Fu(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),Ke(e.options,"debugColumns")),t.getAfter=Xe(n=>[n,Fu(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),Ke(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),y0(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],c=y0(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(b,R)=>{typeof R=="number"&&(e.setColumnSizingInfo(T=>{var P,k;const M=e.options.columnResizeDirection==="rtl"?-1:1,F=(R-((P=T==null?void 0:T.startOffset)!=null?P:0))*M,I=Math.max(F/((k=T==null?void 0:T.startSize)!=null?k:0),-.999999);return T.columnSizingStart.forEach(z=>{let[G,V]=z;d[G]=Math.round(Math.max(V+V*I,0)*100)/100}),{...T,deltaOffset:F,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||b==="end")&&e.setColumnSizing(T=>({...T,...d})))},f=b=>h("move",b),p=b=>{h("end",b),e.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=Uq(n),v={moveHandler:b=>f(b.clientX),upHandler:b=>{y==null||y.removeEventListener("mousemove",v.moveHandler),y==null||y.removeEventListener("mouseup",v.upHandler),p(b.clientX)}},w={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),f(b.touches[0].clientX),!1),upHandler:b=>{var R;y==null||y.removeEventListener("touchmove",w.moveHandler),y==null||y.removeEventListener("touchend",w.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),p((R=b.touches[0])==null?void 0:R.clientX)}},C=Hq()?{passive:!1}:!1;y0(s)?(y==null||y.addEventListener("touchmove",w.moveHandler,C),y==null||y.addEventListener("touchend",w.upHandler,C)):(y==null||y.addEventListener("mousemove",v.moveHandler,C),y==null||y.addEventListener("mouseup",v.upHandler,C)),e.setColumnSizingInfo(b=>({...b,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?p0():(n=t.initialState.columnSizingInfo)!=null?n:p0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let wf=null;function Hq(){if(typeof wf=="boolean")return wf;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return wf=t,wf}function y0(t){return t.type==="touchstart"}const Xq={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Xr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Xe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ke(e.options,"debugRows")),t.getVisibleCells=Xe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Ke(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Xe(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Ke(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Fu(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Kq={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},Yq={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Xr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>ks.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Eg(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:ks[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},Zq={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Xr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:l,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Ux=0,Wx=10,x0=()=>({pageIndex:Ux,pageSize:Wx}),qq={getInitialState:t=>({...t,pagination:{...x0(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Xr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>Co(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?x0():(i=t.initialState.pagination)!=null?i:x0())},t.setPageIndex=r=>{t.setPagination(i=>{let s=Co(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?Ux:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:Ux)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?Wx:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:Wx)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,Co(r,i.pageSize)),o=i.pageSize*i.pageIndex,l=Math.floor(o/s);return{...i,pageIndex:l,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let o=Co(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=Xe(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},Ke(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},v0=()=>({top:[],bottom:[]}),Jq={getInitialState:t=>({rowPinning:v0(),...t}),getDefaultOptions:t=>({onRowPinningChange:Xr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(c=>{let{id:d}=c;return d}):[],o=i?t.getParentRows().map(c=>{let{id:d}=c;return d}):[],l=new Set([...o,t.id,...s]);e.setRowPinning(c=>{var d,h;if(n==="bottom"){var f,p;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(w=>!(l!=null&&l.has(w))),bottom:[...((p=c==null?void 0:c.bottom)!=null?p:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)]}}if(n==="top"){var y,v;return{top:[...((y=c==null?void 0:c.top)!=null?y:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)],bottom:((v=c==null?void 0:c.bottom)!=null?v:[]).filter(w=>!(l!=null&&l.has(w)))}}return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(w=>!(l!=null&&l.has(w))),bottom:((h=c==null?void 0:c.bottom)!=null?h:[]).filter(w=>!(l!=null&&l.has(w)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=s==null?void 0:s.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?v0():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:v0())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ke(t.options,"debugRows")),t.getBottomRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ke(t.options,"debugRows")),t.getCenterRows=Xe(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},Ke(t.options,"debugRows"))}},Qq={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Xr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{Hx(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getFilteredSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getGroupedSelectedRowModel=Xe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},Ke(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const l={...s};return Hx(l,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return pw(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Xx(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Xx(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Hx=(t,e,n,r,i)=>{var s;const o=i.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>Hx(t,l.id,n,r,i))};function _0(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,l){return o.map(c=>{var d;const h=pw(c,n);if(h&&(r.push(c),i[c.id]=c),(d=c.subRows)!=null&&d.length&&(c={...c,subRows:s(c.subRows)}),h)return c}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function pw(t,e){var n;return(n=e[t.id])!=null?n:!1}function Xx(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(pw(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const l=Xx(o,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const Kx=/([0-9]+)/gm,eJ=(t,e,n)=>hN(Oo(t.getValue(n)).toLowerCase(),Oo(e.getValue(n)).toLowerCase()),tJ=(t,e,n)=>hN(Oo(t.getValue(n)),Oo(e.getValue(n))),nJ=(t,e,n)=>yw(Oo(t.getValue(n)).toLowerCase(),Oo(e.getValue(n)).toLowerCase()),rJ=(t,e,n)=>yw(Oo(t.getValue(n)),Oo(e.getValue(n))),iJ=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},sJ=(t,e,n)=>yw(t.getValue(n),e.getValue(n));function yw(t,e){return t===e?0:t>e?1:-1}function Oo(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function hN(t,e){const n=t.split(Kx).filter(Boolean),r=e.split(Kx).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),l=parseInt(s,10),c=[o,l].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const mu={alphanumeric:eJ,alphanumericCaseSensitive:tJ,text:nJ,textCaseSensitive:rJ,datetime:iJ,basic:sJ},oJ={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Xr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return mu.datetime;if(typeof s=="string"&&(r=!0,s.split(Kx).length>1))return mu.alphanumeric}return r?mu.text:mu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Eg(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:mu[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(y=>y.id===t.id),c=o==null?void 0:o.findIndex(y=>y.id===t.id);let d=[],h,f=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?l?h="toggle":h="add":o!=null&&o.length&&c!==o.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||i||(h="remove")),h==="add"){var p;d=[...o,{id:t.id,desc:f}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=o.map(y=>y.id===t.id?{...y,desc:f}:y):h==="remove"?d=o.filter(y=>y.id!==t.id):d=[{id:t.id,desc:f}];return d})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},aJ=[Pq,Xq,Bq,Gq,kq,Aq,Kq,Yq,oJ,zq,Zq,qq,Jq,Qq,Wq];function lJ(t){var e,n;const r=[...aJ,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((p,y)=>Object.assign(p,y.getDefaultOptions==null?void 0:y.getDefaultOptions(i)),{}),o=p=>i.options.mergeOptions?i.options.mergeOptions(s,p):{...s,...p};let c={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(p=>{var y;c=(y=p.getInitialState==null?void 0:p.getInitialState(c))!=null?y:c});const d=[];let h=!1;const f={_features:r,options:{...s,...t},initialState:c,_queue:p=>{d.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const y=Co(p,i.options);i.options=o(y)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,y,v)=>{var w;return(w=i.options.getRowId==null?void 0:i.options.getRowId(p,y,v))!=null?w:`${v?[v.id,y].join("."):y}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,y)=>{let v=(y?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!v&&(v=i.getCoreRowModel().rowsById[p],!v))throw new Error;return v},_getDefaultColumnDef:Xe(()=>[i.options.defaultColumn],p=>{var y;return p=(y=p)!=null?y:{},{header:v=>{const w=v.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:v=>{var w,C;return(w=(C=v.renderValue())==null||C.toString==null?void 0:C.toString())!=null?w:null},...i._features.reduce((v,w)=>Object.assign(v,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...p}},Ke(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Xe(()=>[i._getColumnDefs()],p=>{const y=function(v,w,C){return C===void 0&&(C=0),v.map(b=>{const R=Tq(i,b,C,w),T=b;return R.columns=T.columns?y(T.columns,R,C+1):[],R})};return y(p)},Ke(t,"debugColumns")),getAllFlatColumns:Xe(()=>[i.getAllColumns()],p=>p.flatMap(y=>y.getFlatColumns()),Ke(t,"debugColumns")),_getAllFlatColumnsById:Xe(()=>[i.getAllFlatColumns()],p=>p.reduce((y,v)=>(y[v.id]=v,y),{}),Ke(t,"debugColumns")),getAllLeafColumns:Xe(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,y)=>{let v=p.flatMap(w=>w.getLeafColumns());return y(v)},Ke(t,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,f);for(let p=0;p<i._features.length;p++){const y=i._features[p];y==null||y.createTable==null||y.createTable(i)}return i}function fN(){return t=>Xe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const l=[];for(let d=0;d<i.length;d++){const h=mw(t,t._getRowId(i[d],d,o),i[d],d,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var c;h.originalSubRows=t.options.getSubRows(i[d],d),(c=h.originalSubRows)!=null&&c.length&&(h.subRows=r(h.originalSubRows,s+1,h))}}return l};return n.rows=r(e),n},Ke(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function cJ(){return t=>Xe(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,n,r)=>!n.rows.length||e!==!0&&!Object.keys(e??{}).length||!r?n:mN(n),Ke(t.options,"debugTable"))}function mN(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function gN(t,e,n){return n.options.filterFromLeafRows?uJ(t,e,n):dJ(t,e,n)}function uJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,d){d===void 0&&(d=0);const h=[];for(let p=0;p<c.length;p++){var f;let y=c[p];const v=mw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);if(v.columnFilters=y.columnFilters,(f=y.subRows)!=null&&f.length&&d<o){if(v.subRows=l(y.subRows,d+1),y=v,e(y)&&!v.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}if(e(y)||v.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}}else y=v,e(y)&&(h.push(y),s[y.id]=y,i.push(y))}return h};return{rows:l(t),flatRows:i,rowsById:s}}function dJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,d){d===void 0&&(d=0);const h=[];for(let p=0;p<c.length;p++){let y=c[p];if(e(y)){var f;if((f=y.subRows)!=null&&f.length&&d<o){const w=mw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);w.subRows=l(y.subRows,d+1),y=w}h.push(y),i.push(y),s[y.id]=y}}return h};return{rows:l(t),flatRows:i,rowsById:s}}function hJ(){return(t,e)=>Xe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter,t.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(l=>l.id).filter(l=>l!==e),i?"__global__":void 0].filter(Boolean),o=l=>{for(let c=0;c<s.length;c++)if(l.columnFilters[s[c]]===!1)return!1;return!0};return gN(n.rows,o,t)},Ke(t.options,"debugTable"))}function pN(){return t=>Xe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<e.flatRows.length;p++)e.flatRows[p].columnFilters={},e.flatRows[p].columnFiltersMeta={};return e}const i=[],s=[];(n??[]).forEach(p=>{var y;const v=t.getColumn(p.id);if(!v)return;const w=v.getFilterFn();w&&i.push({id:p.id,filterFn:w,resolvedValue:(y=w.resolveFilterValue==null?void 0:w.resolveFilterValue(p.value))!=null?y:p.value})});const o=(n??[]).map(p=>p.id),l=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(p=>{var y;s.push({id:p.id,filterFn:l,resolvedValue:(y=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?y:r})}));let d,h;for(let p=0;p<e.flatRows.length;p++){const y=e.flatRows[p];if(y.columnFilters={},i.length)for(let v=0;v<i.length;v++){d=i[v];const w=d.id;y.columnFilters[w]=d.filterFn(y,w,d.resolvedValue,C=>{y.columnFiltersMeta[w]=C})}if(s.length){for(let v=0;v<s.length;v++){h=s[v];const w=h.id;if(h.filterFn(y,w,h.resolvedValue,C=>{y.columnFiltersMeta[w]=C})){y.columnFilters.__global__=!0;break}}y.columnFilters.__global__!==!0&&(y.columnFilters.__global__=!1)}}const f=p=>{for(let y=0;y<o.length;y++)if(p.columnFilters[o[y]]===!1)return!1;return!0};return gN(e.rows,f,t)},Ke(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function yN(t){return e=>Xe(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:l,rowsById:c}=r;const d=i*s,h=d+i;o=o.slice(d,h);let f;e.options.paginateExpandedRows?f={rows:o,flatRows:l,rowsById:c}:f=mN({rows:o,flatRows:l,rowsById:c}),f.flatRows=[];const p=y=>{f.flatRows.push(y),y.subRows.length&&y.subRows.forEach(p)};return f.rows.forEach(p),f},Ke(e.options,"debugTable"))}function xN(){return t=>Xe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(c=>{var d;return(d=t.getColumn(c.id))==null?void 0:d.getCanSort()}),o={};s.forEach(c=>{const d=t.getColumn(c.id);d&&(o[c.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=c=>{const d=c.map(h=>({...h}));return d.sort((h,f)=>{for(let y=0;y<s.length;y+=1){var p;const v=s[y],w=o[v.id],C=w.sortUndefined,b=(p=v==null?void 0:v.desc)!=null?p:!1;let R=0;if(C){const T=h.getValue(v.id),P=f.getValue(v.id),k=T===void 0,M=P===void 0;if(k||M){if(C==="first")return k?-1:1;if(C==="last")return k?1:-1;R=k&&M?0:k?C:-C}}if(R===0&&(R=w.sortingFn(h,f,v.id)),R!==0)return b&&(R*=-1),w.invertSorting&&(R*=-1),R}return h.index-f.index}),d.forEach(h=>{var f;i.push(h),(f=h.subRows)!=null&&f.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:i,rowsById:n.rowsById}},Ke(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function fJ(t,e){return t?mJ(t)?_.createElement(t,e):t:null}function mJ(t){return gJ(t)||typeof t=="function"||pJ(t)}function gJ(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function pJ(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function vN(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=_.useState(()=>({current:lJ(e)})),[r,i]=_.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}function _N({globalFilter:t,setGlobalFilter:e}){return g.jsx(Yt,{placeholder:"Buscar...",value:t||"",onChange:n=>e(n.target.value),className:"w-full max-w-sm"})}function wN({column:t}){var r,i,s,o;if(!t.getCanFilter())return null;const e=t.columnDef.header||t.id;if(["tipo","especie","sexo","raza","parcela"].includes(t.id)){const l=Array.from(new Set((o=(s=(i=(r=t.getFacetedRowModel())==null?void 0:r.rows)==null?void 0:i.map(c=>c.getValue(t.id)))==null?void 0:s.filter(c=>c!=null&&c!==""))==null?void 0:o.map(c=>String(c).trim()))).sort((c,d)=>c.localeCompare(d));return g.jsxs(Si,{value:t.getFilterValue()||"",onValueChange:c=>t.setFilterValue(c==="all"?"":c),children:[g.jsx(ni,{className:"w-full h-8 text-xs text-center",children:g.jsx(Ci,{placeholder:`${e}`})}),g.jsxs(ri,{children:[g.jsx(Pn,{value:"all",children:"Todas"}),l.map(c=>g.jsx(Pn,{value:c,children:c},c))]})]})}return g.jsx(Yt,{value:t.getFilterValue()||"",onChange:l=>t.setFilterValue(l.target.value),placeholder:`${e}`,className:"w-full h-8 text-xs text-center"})}function SN({table:t}){return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la primera página"}),g.jsx(cV,{className:"h-4 w-4"})]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la página anterior"}),g.jsx(sV,{className:"h-4 w-4"})]}),g.jsxs("div",{className:"flex-center text-sm font-medium whitespace-nowrap",children:[t.getState().pagination.pageIndex+1," de ",t.getPageCount()]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la página siguiente"}),g.jsx(OT,{className:"h-4 w-4"})]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la última página"}),g.jsx(dV,{className:"h-4 w-4"})]})]})}function CN({table:t}){return g.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:g.jsxs(Si,{value:String(t.getState().pagination.pageSize),onValueChange:e=>t.setPageSize(Number(e)),children:[g.jsx(ni,{className:"h-8 w-[70px]",children:g.jsx(Ci,{placeholder:t.getState().pagination.pageSize})}),g.jsx(ri,{children:[10,20,50,100].map(e=>g.jsx(Pn,{value:String(e),children:e},e))})]})})}function bN({animal:t,columnVisibility:e={}}){if(!t)return g.jsx("div",{className:"text-center text-gray-500 py-4",children:"No hay datos detallados para mostrar."});const n=(r,i,s,o="")=>e[r]?null:g.jsxs("div",{children:[g.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",s!=null?`${s}${o}`:"-"]});return g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-1 gap-x-2 text-sm text-gray-700",children:[n("tipo","Tipo",t.tipo),n("raza","Raza",t.raza),n("sexo","Sexo",t.sexo),n("especie","Especie",t.especie),n("parcela","Parcela",t.parcela),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fecha Nacimiento:"})," ",t.fecha_nacimiento||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Peso:"})," ",t.peso!==void 0&&t.peso!==null?`${t.peso} kg`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Altura Cruz:"})," ",t.altura_cruz!==void 0&&t.altura_cruz!==null?`${t.altura_cruz} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Tronco:"})," ",t.longitud_tronco!==void 0&&t.longitud_tronco!==null?`${t.longitud_tronco} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Perímetro Torácico:"})," ",t.perimetro_toracico!==void 0&&t.perimetro_toracico!==null?`${t.perimetro_toracico} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ancho Grupa:"})," ",t.ancho_grupa!==void 0&&t.ancho_grupa!==null?`${t.ancho_grupa} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Grupa:"})," ",t.longitud_grupa!==void 0&&t.longitud_grupa!==null?`${t.longitud_grupa} cm`:"-"]}),n("estado_reproductivo","Estado Reproductivo",t.estado_reproductivo_nombre),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Número Partos:"})," ",t.numero_partos!==void 0&&t.numero_partos!==null?t.numero_partos:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Intervalo Partos:"})," ",t.intervalo_partos!==void 0&&t.intervalo_partos!==null?`${t.intervalo_partos} días`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fertilidad:"})," ",t.fertilidad!==void 0&&t.fertilidad!==null?`${t.fertilidad}%`:"-"]}),t.collar_id&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Collar ID:"})," ",t.collar_id||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ubicación Sensor:"})," ",t.ubicacion_sensor||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Última Latitud:"})," ",t.ultima_latitud!==void 0&&t.ultima_latitud!==null?t.ultima_latitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Última Longitud:"})," ",t.ultima_longitud!==void 0&&t.ultima_longitud!==null?t.ultima_longitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Temperatura Corporal:"})," ",t.temperatura_corporal!==void 0&&t.temperatura_corporal!==null?`${t.temperatura_corporal}°C`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Hora Temperatura:"})," ",t.hora_temperatura||"-"]}),t.campo_id&&g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Campo ID:"})," ",t.campo_id]})]})]})}function yJ({row:t,onEdit:e,onDelete:n,isSelected:r,onToggleSelection:i,columnVisibility:s}){const[o,l]=_.useState(!1),c=h=>{h.stopPropagation(),l(f=>!f)},d=()=>{i&&i(t)};return g.jsxs("div",{className:`border-b ${r?"bg-blue-100":"bg-white"} transition-colors duration-100 ease-in-out`,children:[g.jsxs("div",{onClick:d,className:"p-3 flex justify-between items-center cursor-pointer",children:[g.jsxs("div",{className:"flex-grow min-w-0 mr-2",children:[g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"ID:"})," ",t.original.numero_identificacion||"-"]}),g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"Nombre:"})," ",t.original.nombre||"-"]})]}),g.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 ml-auto",children:[g.jsx(st,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),e(t.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-blue-50","aria-label":"Editar animal",children:g.jsx(hv,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),n(t.original)},className:"text-red-700 hover:text-red-800 hover:bg-red-50","aria-label":"Eliminar animal",children:g.jsx(ua,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:c,"aria-label":o?"Colapsar detalles":"Expandir detalles",className:"text-gray-500 hover:bg-gray-100",children:o?g.jsx(cv,{className:"h-5 w-5"}):g.jsx(md,{className:"h-5 w-5"})})]})]}),o&&g.jsx("div",{className:"p-3 pt-0 bg-gray-50 border-t border-gray-100",children:g.jsx(bN,{animal:t.original,columnVisibility:s})})]})}var Rg="Dialog",[EN,Jee]=Vi(Rg),[xJ,zi]=EN(Rg),RN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=_.useRef(null),c=_.useRef(null),[d,h]=jo({prop:r,defaultProp:i??!1,onChange:s,caller:Rg});return g.jsx(xJ,{scope:e,triggerRef:l,contentRef:c,contentId:Pi(),titleId:Pi(),descriptionId:Pi(),open:d,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};RN.displayName=Rg;var TN="DialogTrigger",PN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(TN,n),s=ht(e,i.triggerRef);return g.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_w(i.open),...r,ref:s,onClick:Ce(t.onClick,i.onOpenToggle)})});PN.displayName=TN;var xw="DialogPortal",[vJ,kN]=EN(xw,{forceMount:void 0}),AN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=zi(xw,e);return g.jsx(vJ,{scope:e,forceMount:n,children:_.Children.map(r,o=>g.jsx(mr,{present:n||s.open,children:g.jsx(Fd,{asChild:!0,container:i,children:o})}))})};AN.displayName=xw;var Sm="DialogOverlay",MN=_.forwardRef((t,e)=>{const n=kN(Sm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=zi(Sm,t.__scopeDialog);return s.modal?g.jsx(mr,{present:r||s.open,children:g.jsx(wJ,{...i,ref:e})}):null});MN.displayName=Sm;var _J=ka("DialogOverlay.RemoveScroll"),wJ=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(Sm,n);return g.jsx(pg,{as:_J,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(qe.div,{"data-state":_w(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),za="DialogContent",IN=_.forwardRef((t,e)=>{const n=kN(za,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=zi(za,t.__scopeDialog);return g.jsx(mr,{present:r||s.open,children:s.modal?g.jsx(SJ,{...i,ref:e}):g.jsx(CJ,{...i,ref:e})})});IN.displayName=za;var SJ=_.forwardRef((t,e)=>{const n=zi(za,t.__scopeDialog),r=_.useRef(null),i=ht(e,n.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return aw(s)},[]),g.jsx(NN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,s=>s.preventDefault())})}),CJ=_.forwardRef((t,e)=>{const n=zi(za,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return g.jsx(NN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),NN=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=zi(za,n),c=_.useRef(null),d=ht(e,c);return X_(),g.jsxs(g.Fragment,{children:[g.jsx(dg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Id,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_w(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(bJ,{titleId:l.titleId}),g.jsx(RJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vw="DialogTitle",FN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(vw,n);return g.jsx(qe.h2,{id:i.titleId,...r,ref:e})});FN.displayName=vw;var jN="DialogDescription",LN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(jN,n);return g.jsx(qe.p,{id:i.descriptionId,...r,ref:e})});LN.displayName=jN;var DN="DialogClose",ON=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(DN,n);return g.jsx(qe.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});ON.displayName=DN;function _w(t){return t?"open":"closed"}var VN="DialogTitleWarning",[Qee,zN]=W7(VN,{contentName:za,titleName:vw,docsSlug:"dialog"}),bJ=({titleId:t})=>{const e=zN(VN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},EJ="DialogDescriptionWarning",RJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zN(EJ).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},TJ=RN,PJ=PN,kJ=AN,$N=MN,BN=IN,GN=FN,UN=LN,AJ=ON;const WN=TJ,HN=PJ,MJ=kJ,XN=_.forwardRef(({className:t,...e},n)=>g.jsx($N,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));XN.displayName=$N.displayName;const ww=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(MJ,{children:[g.jsx(XN,{}),g.jsxs(BN,{ref:r,className:Oe("rounded-xl fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",t),...n,children:[e,g.jsxs(AJ,{className:"absolute right-4 top-4 rounded-xl opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx($s,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ww.displayName=BN.displayName;const Sw=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Sw.displayName="DialogHeader";const KN=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});KN.displayName="DialogFooter";const Cw=_.forwardRef(({className:t,...e},n)=>g.jsx(GN,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Cw.displayName=GN.displayName;const YN=_.forwardRef(({className:t,...e},n)=>g.jsx(UN,{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));YN.displayName=UN.displayName;function IJ(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var bw="ScrollArea",[ZN,ete]=Vi(bw),[NJ,ai]=ZN(bw),qN=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,c]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(null),[y,v]=_.useState(null),[w,C]=_.useState(null),[b,R]=_.useState(0),[T,P]=_.useState(0),[k,M]=_.useState(!1),[F,I]=_.useState(!1),z=ht(e,V=>c(V)),G=Ad(i);return g.jsx(NJ,{scope:n,type:r,dir:G,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:k,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:C,scrollbarYEnabled:F,onScrollbarYEnabledChange:I,onCornerWidthChange:R,onCornerHeightChange:P,children:g.jsx(qe.div,{dir:G,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});qN.displayName=bw;var JN="ScrollAreaViewport",QN=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=ai(JN,n),l=_.useRef(null),c=ht(e,l,o.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QN.displayName=JN;var hs="ScrollAreaScrollbar",Ew=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(hs,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return _.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?g.jsx(FJ,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(jJ,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(eF,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(Rw,{...r,ref:e}):null});Ew.displayName=hs;var FJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(hs,t.__scopeScrollArea),[s,o]=_.useState(!1);return _.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(mr,{present:n||s,children:g.jsx(eF,{"data-state":s?"visible":"hidden",...r,ref:e})})}),jJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(hs,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Pg(()=>c("SCROLL_END"),100),[l,c]=IJ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),_.useEffect(()=>{const d=i.viewport,h=s?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const y=d[h];f!==y&&(c("SCROLL"),o()),f=y};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,s,c,o]),g.jsx(mr,{present:n||l!=="hidden",children:g.jsx(Rw,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ce(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),eF=_.forwardRef((t,e)=>{const n=ai(hs,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=_.useState(!1),l=t.orientation==="horizontal",c=Pg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return ic(n.viewport,c),ic(n.content,c),g.jsx(mr,{present:r||s,children:g.jsx(Rw,{"data-state":s?"visible":"hidden",...i,ref:e})})}),Rw=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ai(hs,t.__scopeScrollArea),s=_.useRef(null),o=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=sF(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,y){return $J(p,o.current,l,y)}return n==="horizontal"?g.jsx(LJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,y=dT(p,l,i.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):n==="vertical"?g.jsx(DJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,y=dT(p,l);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),LJ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ai(hs,t.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),d=ht(e,c,s.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),g.jsx(nF,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),aF(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bm(o.paddingLeft),paddingEnd:bm(o.paddingRight)}})}})}),DJ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ai(hs,t.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),d=ht(e,c,s.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),g.jsx(nF,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),aF(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bm(o.paddingTop),paddingEnd:bm(o.paddingBottom)}})}})}),[OJ,tF]=ZN(hs),nF=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=t,y=ai(hs,n),[v,w]=_.useState(null),C=ht(e,z=>w(z)),b=_.useRef(null),R=_.useRef(""),T=y.viewport,P=r.content-r.viewport,k=Hn(h),M=Hn(c),F=Pg(f,10);function I(z){if(b.current){const G=z.clientX-b.current.left,V=z.clientY-b.current.top;d({x:G,y:V})}}return _.useEffect(()=>{const z=G=>{const V=G.target;(v==null?void 0:v.contains(V))&&k(G,P)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[T,v,P,k]),_.useEffect(M,[r,M]),ic(v,F),ic(y.content,F),g.jsx(OJ,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Hn(s),onThumbPointerUp:Hn(o),onThumbPositionChange:M,onThumbPointerDown:Hn(l),children:g.jsx(qe.div,{...p,ref:C,style:{position:"absolute",...p.style},onPointerDown:Ce(t.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),b.current=v.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),I(z))}),onPointerMove:Ce(t.onPointerMove,I),onPointerUp:Ce(t.onPointerUp,z=>{const G=z.target;G.hasPointerCapture(z.pointerId)&&G.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=R.current,y.viewport&&(y.viewport.style.scrollBehavior=""),b.current=null})})})}),Cm="ScrollAreaThumb",rF=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=tF(Cm,t.__scopeScrollArea);return g.jsx(mr,{present:n||i.hasThumb,children:g.jsx(VJ,{ref:e,...r})})}),VJ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=ai(Cm,n),o=tF(Cm,n),{onThumbPositionChange:l}=o,c=ht(e,f=>o.onThumbChange(f)),d=_.useRef(void 0),h=Pg(()=>{d.current&&(d.current(),d.current=void 0)},100);return _.useEffect(()=>{const f=s.viewport;if(f){const p=()=>{if(h(),!d.current){const y=BJ(f,l);d.current=y,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,h,l]),g.jsx(qe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ce(t.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),v=f.clientX-y.left,w=f.clientY-y.top;o.onThumbPointerDown({x:v,y:w})}),onPointerUp:Ce(t.onPointerUp,o.onThumbPointerUp)})});rF.displayName=Cm;var Tw="ScrollAreaCorner",iF=_.forwardRef((t,e)=>{const n=ai(Tw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(zJ,{...t,ref:e}):null});iF.displayName=Tw;var zJ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ai(Tw,n),[s,o]=_.useState(0),[l,c]=_.useState(0),d=!!(s&&l);return ic(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),ic(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?g.jsx(qe.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bm(t){return t?parseInt(t,10):0}function sF(t,e){const n=t/e;return isNaN(n)?0:n}function Tg(t){const e=sF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function $J(t,e,n,r="ltr"){const i=Tg(n),s=i/2,o=e||s,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return oF([c,d],f)(t)}function dT(t,e,n="ltr"){const r=Tg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Px(t,c);return oF([0,o],[0,l])(d)}function oF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function aF(t,e){return t>0&&t<e}var BJ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Pg(t,e){const n=Hn(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ic(t,e){const n=Hn(e);Xn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var lF=qN,GJ=QN,UJ=iF;const kg=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(lF,{ref:r,className:Oe("relative",t),...n,children:[g.jsx(GJ,{className:"h-full rounded-[inherit]",children:e}),g.jsx(cF,{}),g.jsx(UJ,{})]}));kg.displayName=lF.displayName;const cF=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>g.jsx(Ew,{ref:r,orientation:e,className:Oe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:g.jsx(rF,{className:"relative flex-1 rounded-full bg-border"})}));cF.displayName=Ew.displayName;function WJ({table:t,columnVisibility:e={}}){const n=t.getAllColumns().filter(o=>o.getCanFilter()&&o.id!=="acciones"),r=n.filter(o=>!e[o.id]&&o.id!=="numero_identificacion"&&o.id!=="nombre"),i=()=>{n.forEach(o=>{o.getIsFiltered()&&o.setFilterValue(void 0)}),t.setGlobalFilter("")},s=n.some(o=>o.getIsFiltered())||t.getState().globalFilter;return g.jsxs(WN,{children:[g.jsx(HN,{asChild:!0,children:g.jsxs(st,{variant:"outline",className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[g.jsx(BT,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Filtros"}),s&&g.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:"Activo"})]})}),g.jsxs(ww,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(Sw,{className:"text-center",children:[g.jsx(Cw,{className:"text-lg font-semibold",children:"Filtros Avanzados"}),s&&g.jsx("div",{className:"w-full flex justify-center",children:g.jsxs(st,{variant:"ghost",size:"sm",onClick:i,className:"text-red-500 hover:bg-red-50 gap-1",children:[g.jsx(Vn,{className:"h-4 w-4"})," Limpiar todo"]})})]}),g.jsx(kg,{className:"max-h-[70vh] py-2",children:g.jsx("div",{className:"flex flex-col items-center gap-4",children:r.length>0?r.map(o=>g.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm w-full",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 capitalize",children:o.id.replace(/_/g," ")}),o.getIsFiltered()&&g.jsx(st,{variant:"ghost",size:"icon",onClick:()=>o.setFilterValue(void 0),className:"text-red-500 hover:bg-red-50",children:g.jsx(Vn,{className:"h-4 w-4"})})]}),g.jsx(wN,{column:o}),o.getIsFiltered()&&g.jsxs("p",{className:"text-xs text-blue-800 mt-1",children:["Filtro activo: ",g.jsx("code",{children:String(o.getFilterValue())})]})]},o.id)):g.jsx("p",{className:"text-center text-gray-500",children:"No hay filtros ocultos disponibles para esta vista."})})})]})]})}const HJ=Tl.xs;function XJ({data:t=[],columns:e=[],exportFilename:n="export.csv",onRowClick:r,onEditRow:i,onDeleteRow:s,globalFilter:o,setGlobalFilter:l,rowSelection:c,setRowSelection:d,sorting:h,setSorting:f,pagination:p,setPagination:y,columnVisibility:v,setColumnVisibility:w}){const[C,b]=_.useState(null),R=hz(),T=R<HJ,P=["sexo","tipo","raza","especie","parcela"];_.useEffect(()=>{const X={numero_identificacion:!0,nombre:!0,acciones:!0};X.sexo=R>=Tl.xxl,X.tipo=R>=Tl.xl,X.raza=R>=Tl.lg,X.especie=R>=Tl.md,X.parcela=R>=Tl.sm,T&&P.forEach(Z=>{X[Z]=!1}),w(X)},[R,T]);const k=_.useMemo(()=>P.some(X=>v[X]===!1),[v,P]),M=vN({data:t,columns:e,state:{globalFilter:o,rowSelection:c,sorting:h,pagination:p,columnVisibility:v},onGlobalFilterChange:X=>{y(Z=>({...Z,pageIndex:0})),l(X)},onRowSelectionChange:d,onSortingChange:f,onPaginationChange:y,onColumnVisibilityChange:w,onColumnFiltersChange:()=>{y(X=>({...X,pageIndex:0}))},getCoreRowModel:fN(),getFilteredRowModel:pN(),getSortedRowModel:xN(),getPaginationRowModel:yN(),getExpandedRowModel:cJ(),getFacetedRowModel:hJ(),enableRowSelection:!0,autoResetPageIndex:!1,meta:{showExpandableRows:T,columnVisibility:v}}),F=_.useCallback(()=>{d({}),b(null)},[]);_.useEffect(()=>{const X=Z=>{Z.key==="Escape"&&F()};return window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X)}},[F]);const I=(X,Z,Y)=>{if(!T){let D={...c};if(Y.shiftKey&&C!==null){const j=M.getRowModel().rows.map(N=>N.id),[U,q]=[C,Z].sort((N,L)=>N-L);for(let N=U;N<=q;N++)D[j[N]]=!0}else Y.ctrlKey||Y.metaKey?(D[X.id]=!D[X.id],b(Z)):(D[X.id]&&Object.keys(D).length===1?delete D[X.id]:D={[X.id]:!0},b(Z));d(D)}r&&r(X.original)},z=_.useCallback(X=>{d(Z=>({...Z,[X.id]:!Z[X.id]}))},[]),G=()=>{M.getIsAllPageRowsSelected()?M.toggleAllPageRowsSelected(!1):M.toggleAllPageRowsSelected(!0)},V=()=>M.getIsAllPageRowsSelected()?{text:"Deseleccionar Página",icon:g.jsx($s,{className:"h-4 w-4"}),variant:"outline"}:M.getIsSomePageRowsSelected()?{text:"Deseleccionar Página",icon:g.jsx(GT,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Página",icon:g.jsx(fd,{className:"h-4 w-4"}),variant:"outline"},H=M.getState().globalFilter||M.getAllColumns().some(X=>X.getIsFiltered()),B=V();return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(Ro,{className:"h-5 w-5 text-blue-600"}),"Animales Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(_N,{globalFilter:o,setGlobalFilter:l}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[M.getFilteredRowModel().rows.length>0&&g.jsxs(st,{onClick:G,variant:B.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[B.icon," ",g.jsx("span",{className:"hidden lg:inline",children:B.text})]}),!T&&H&&g.jsxs(st,{onClick:()=>{M.resetGlobalFilter(),M.getAllColumns().forEach(X=>X.setFilterValue(void 0)),d({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(Vn,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),(T||k)&&g.jsx(WJ,{table:M,columnVisibility:v})]})]}),g.jsx("div",{className:"overflow-hidden",children:T?g.jsx("div",{className:"space-y-2",children:M.getRowModel().rows.map(X=>g.jsx(yJ,{row:X,onEdit:()=>i(X.original.animal_id),onDelete:()=>s(X.original),isSelected:X.getIsSelected(),onToggleSelection:z,columnVisibility:M.options.meta.columnVisibility},X.id))}):g.jsxs("table",{className:"min-w-full table-fixed text-center",children:[g.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:M.getHeaderGroups().map(X=>g.jsx("tr",{children:X.headers.map(Z=>g.jsx("th",{className:"border-b p-2",children:Z.isPlaceholder?null:g.jsx("div",{className:"p-1 flex flex-col items-center justify-center space-y-1",children:g.jsxs("div",{className:"flex items-center justify-center w-full",children:[Z.column.getCanSort()&&g.jsx(st,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-gray-200 flex-shrink-0",onClick:Y=>{var D;Y.stopPropagation(),(D=Z.column.getToggleSortingHandler())==null||D(Y)},children:{asc:g.jsx(HO,{className:"h-4 w-4"}),desc:g.jsx(UO,{className:"h-4 w-4"})}[Z.column.getIsSorted()??null]||g.jsx(BT,{className:"h-4 w-4"})}),Z.column.getCanFilter()&&g.jsx("div",{children:g.jsx(wN,{column:Z.column})})]})})},Z.id))},X.id))}),g.jsx("tbody",{children:M.getRowModel().rows.map(X=>g.jsxs(_.Fragment,{children:[g.jsx("tr",{onClick:Z=>I(X,X.index,Z),className:`transition-colors duration-100 ease-in-out
                                            ${X.getIsSelected()?"bg-blue-100 hover:bg-blue-200":"even:bg-gray-50 odd:bg-white hover:bg-gray-100"}`,children:X.getVisibleCells().map(Z=>g.jsx("td",{className:"border-b p-2",children:fJ(Z.column.columnDef.cell,Z.getContext())},Z.id))}),X.getIsExpanded()&&g.jsx("tr",{children:g.jsx("td",{colSpan:X.getVisibleCells().length,className:"p-3 bg-gray-100 border-b border-gray-200 text-left",children:g.jsx(bN,{animal:X.original,columnVisibility:M.options.meta.columnVisibility})})})]},X.id))})]})}),g.jsxs("div",{className:"flex justify-between mt-2 flex-wrap gap-2",children:[g.jsx(SN,{table:M}),Object.keys(c).length>0&&g.jsxs(st,{onClick:F,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(b0,{className:"h-4 w-4"})," Deseleccionar Todo"]}),g.jsx(CN,{table:M})]})]})}var KJ="Separator",hT="horizontal",YJ=["horizontal","vertical"],uF=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=hT,...i}=t,s=ZJ(r)?r:hT,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(qe.div,{"data-orientation":s,...l,...i,ref:e})});uF.displayName=KJ;function ZJ(t){return YJ.includes(t)}var dF=uF;const hF=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>g.jsx(dF,{ref:i,decorative:n,orientation:e,className:Oe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));hF.displayName=dF.displayName;var Yx=["Enter"," "],qJ=["ArrowDown","PageUp","Home"],fF=["ArrowUp","PageDown","End"],JJ=[...qJ,...fF],QJ={ltr:[...Yx,"ArrowRight"],rtl:[...Yx,"ArrowLeft"]},eQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ld="Menu",[ld,tQ,nQ]=W_(Ld),[Wa,mF]=Vi(Ld,[nQ,wc,cg]),Ag=wc(),gF=cg(),[rQ,Ha]=Wa(Ld),[iQ,Dd]=Wa(Ld),pF=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=Ag(e),[c,d]=_.useState(null),h=_.useRef(!1),f=Hn(s),p=Ad(i);return _.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),g.jsx(rw,{...l,children:g.jsx(rQ,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:g.jsx(iQ,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};pF.displayName=Ld;var sQ="MenuAnchor",Pw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ag(n);return g.jsx(iw,{...i,...r,ref:e})});Pw.displayName=sQ;var kw="MenuPortal",[oQ,yF]=Wa(kw,{forceMount:void 0}),xF=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Ha(kw,e);return g.jsx(oQ,{scope:e,forceMount:n,children:g.jsx(mr,{present:n||s.open,children:g.jsx(Fd,{asChild:!0,container:i,children:r})})})};xF.displayName=kw;var si="MenuContent",[aQ,Aw]=Wa(si),vF=_.forwardRef((t,e)=>{const n=yF(si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ha(si,t.__scopeMenu),o=Dd(si,t.__scopeMenu);return g.jsx(ld.Provider,{scope:t.__scopeMenu,children:g.jsx(mr,{present:r||s.open,children:g.jsx(ld.Slot,{scope:t.__scopeMenu,children:o.modal?g.jsx(lQ,{...i,ref:e}):g.jsx(cQ,{...i,ref:e})})})})}),lQ=_.forwardRef((t,e)=>{const n=Ha(si,t.__scopeMenu),r=_.useRef(null),i=ht(e,r);return _.useEffect(()=>{const s=r.current;if(s)return aw(s)},[]),g.jsx(Mw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),cQ=_.forwardRef((t,e)=>{const n=Ha(si,t.__scopeMenu);return g.jsx(Mw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),uQ=ka("MenuContent.ScrollLock"),Mw=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:v,...w}=t,C=Ha(si,n),b=Dd(si,n),R=Ag(n),T=gF(n),P=tQ(n),[k,M]=_.useState(null),F=_.useRef(null),I=ht(e,F,C.onContentChange),z=_.useRef(0),G=_.useRef(""),V=_.useRef(0),H=_.useRef(null),B=_.useRef("right"),X=_.useRef(0),Z=v?pg:_.Fragment,Y=v?{as:uQ,allowPinchZoom:!0}:void 0,D=U=>{var ae,pe;const q=G.current+U,N=P().filter(we=>!we.disabled),L=document.activeElement,re=(ae=N.find(we=>we.ref.current===L))==null?void 0:ae.textValue,ie=N.map(we=>we.textValue),ce=SQ(ie,q,re),ge=(pe=N.find(we=>we.textValue===ce))==null?void 0:pe.ref.current;(function we(be){G.current=be,window.clearTimeout(z.current),be!==""&&(z.current=window.setTimeout(()=>we(""),1e3))})(q),ge&&setTimeout(()=>ge.focus())};_.useEffect(()=>()=>window.clearTimeout(z.current),[]),X_();const j=_.useCallback(U=>{var N,L;return B.current===((N=H.current)==null?void 0:N.side)&&bQ(U,(L=H.current)==null?void 0:L.area)},[]);return g.jsx(aQ,{scope:n,searchRef:G,onItemEnter:_.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:_.useCallback(U=>{var q;j(U)||((q=F.current)==null||q.focus(),M(null))},[j]),onTriggerLeave:_.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:V,onPointerGraceIntentChange:_.useCallback(U=>{H.current=U},[]),children:g.jsx(Z,{...Y,children:g.jsx(dg,{asChild:!0,trapped:i,onMountAutoFocus:Ce(s,U=>{var q;U.preventDefault(),(q=F.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Id,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:g.jsx(oI,{asChild:!0,...T,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:Ce(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(sw,{role:"menu","aria-orientation":"vertical","data-state":jF(C.open),"data-radix-menu-content":"",dir:b.dir,...R,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:Ce(w.onKeyDown,U=>{const N=U.target.closest("[data-radix-menu-content]")===U.currentTarget,L=U.ctrlKey||U.altKey||U.metaKey,re=U.key.length===1;N&&(U.key==="Tab"&&U.preventDefault(),!L&&re&&D(U.key));const ie=F.current;if(U.target!==ie||!JJ.includes(U.key))return;U.preventDefault();const ge=P().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);fF.includes(U.key)&&ge.reverse(),_Q(ge)}),onBlur:Ce(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(z.current),G.current="")}),onPointerMove:Ce(t.onPointerMove,cd(U=>{const q=U.target,N=X.current!==U.clientX;if(U.currentTarget.contains(q)&&N){const L=U.clientX>X.current?"right":"left";B.current=L,X.current=U.clientX}}))})})})})})})});vF.displayName=si;var dQ="MenuGroup",Iw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{role:"group",...r,ref:e})});Iw.displayName=dQ;var hQ="MenuLabel",_F=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{...r,ref:e})});_F.displayName=hQ;var Em="MenuItem",fT="menu.itemSelect",Mg=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=_.useRef(null),o=Dd(Em,t.__scopeMenu),l=Aw(Em,t.__scopeMenu),c=ht(e,s),d=_.useRef(!1),h=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(fT,{bubbles:!0,cancelable:!0});f.addEventListener(fT,y=>r==null?void 0:r(y),{once:!0}),eI(f,p),p.defaultPrevented?d.current=!1:o.onClose()}};return g.jsx(wF,{...i,ref:c,disabled:n,onClick:Ce(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),d.current=!0},onPointerUp:Ce(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Ce(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Yx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Mg.displayName=Em;var wF=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Aw(Em,n),l=gF(n),c=_.useRef(null),d=ht(e,c),[h,f]=_.useState(!1),[p,y]=_.useState("");return _.useEffect(()=>{const v=c.current;v&&y((v.textContent??"").trim())},[s.children]),g.jsx(ld.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:g.jsx(aI,{asChild:!0,...l,focusable:!r,children:g.jsx(qe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:Ce(t.onPointerMove,cd(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,cd(v=>o.onItemLeave(v))),onFocus:Ce(t.onFocus,()=>f(!0)),onBlur:Ce(t.onBlur,()=>f(!1))})})})}),fQ="MenuCheckboxItem",SF=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return g.jsx(TF,{scope:t.__scopeMenu,checked:n,children:g.jsx(Mg,{role:"menuitemcheckbox","aria-checked":Rm(n)?"mixed":n,...i,ref:e,"data-state":Fw(n),onSelect:Ce(i.onSelect,()=>r==null?void 0:r(Rm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});SF.displayName=fQ;var CF="MenuRadioGroup",[mQ,gQ]=Wa(CF,{value:void 0,onValueChange:()=>{}}),bF=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Hn(r);return g.jsx(mQ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:g.jsx(Iw,{...i,ref:e})})});bF.displayName=CF;var EF="MenuRadioItem",RF=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=gQ(EF,t.__scopeMenu),s=n===i.value;return g.jsx(TF,{scope:t.__scopeMenu,checked:s,children:g.jsx(Mg,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Fw(s),onSelect:Ce(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});RF.displayName=EF;var Nw="MenuItemIndicator",[TF,pQ]=Wa(Nw,{checked:!1}),PF=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=pQ(Nw,n);return g.jsx(mr,{present:r||Rm(s.checked)||s.checked===!0,children:g.jsx(qe.span,{...i,ref:e,"data-state":Fw(s.checked)})})});PF.displayName=Nw;var yQ="MenuSeparator",kF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});kF.displayName=yQ;var xQ="MenuArrow",AF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ag(n);return g.jsx(ow,{...i,...r,ref:e})});AF.displayName=xQ;var vQ="MenuSub",[tte,MF]=Wa(vQ),_u="MenuSubTrigger",IF=_.forwardRef((t,e)=>{const n=Ha(_u,t.__scopeMenu),r=Dd(_u,t.__scopeMenu),i=MF(_u,t.__scopeMenu),s=Aw(_u,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},h=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>h,[h]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),g.jsx(Pw,{asChild:!0,...d,children:g.jsx(wF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":jF(n.open),...t,ref:Om(e,i.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,cd(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Ce(t.onPointerLeave,cd(f=>{var y,v;h();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const w=(v=n.content)==null?void 0:v.dataset.side,C=w==="right",b=C?-5:5,R=p[C?"left":"right"],T=p[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:R,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:R,y:p.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,f=>{var y;const p=s.searchRef.current!=="";t.disabled||p&&f.key===" "||QJ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});IF.displayName=_u;var NF="MenuSubContent",FF=_.forwardRef((t,e)=>{const n=yF(si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ha(si,t.__scopeMenu),o=Dd(si,t.__scopeMenu),l=MF(NF,t.__scopeMenu),c=_.useRef(null),d=ht(e,c);return g.jsx(ld.Provider,{scope:t.__scopeMenu,children:g.jsx(mr,{present:r||s.open,children:g.jsx(ld.Slot,{scope:t.__scopeMenu,children:g.jsx(Mw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Ce(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),p=eQ[o.dir].includes(h.key);f&&p&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});FF.displayName=NF;function jF(t){return t?"open":"closed"}function Rm(t){return t==="indeterminate"}function Fw(t){return Rm(t)?"indeterminate":t?"checked":"unchecked"}function _Q(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function wQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function SQ(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=wQ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function CQ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function bQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return CQ(n,e)}function cd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var EQ=pF,RQ=Pw,TQ=xF,PQ=vF,kQ=Iw,AQ=_F,MQ=Mg,IQ=SF,NQ=bF,FQ=RF,jQ=PF,LQ=kF,DQ=AF,OQ=IF,VQ=FF,Ig="DropdownMenu",[zQ,nte]=Vi(Ig,[mF]),gr=mF(),[$Q,LF]=zQ(Ig),DF=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=gr(e),d=_.useRef(null),[h,f]=jo({prop:i,defaultProp:s??!1,onChange:o,caller:Ig});return g.jsx($Q,{scope:e,triggerId:Pi(),triggerRef:d,contentId:Pi(),open:h,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),modal:l,children:g.jsx(EQ,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};DF.displayName=Ig;var OF="DropdownMenuTrigger",VF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=LF(OF,n),o=gr(n);return g.jsx(RQ,{asChild:!0,...o,children:g.jsx(qe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Om(e,s.triggerRef),onPointerDown:Ce(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ce(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});VF.displayName=OF;var BQ="DropdownMenuPortal",zF=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gr(e);return g.jsx(TQ,{...r,...n})};zF.displayName=BQ;var $F="DropdownMenuContent",BF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=LF($F,n),s=gr(n),o=_.useRef(!1);return g.jsx(PQ,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ce(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BF.displayName=$F;var GQ="DropdownMenuGroup",UQ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(kQ,{...i,...r,ref:e})});UQ.displayName=GQ;var WQ="DropdownMenuLabel",GF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(AQ,{...i,...r,ref:e})});GF.displayName=WQ;var HQ="DropdownMenuItem",UF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(MQ,{...i,...r,ref:e})});UF.displayName=HQ;var XQ="DropdownMenuCheckboxItem",WF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(IQ,{...i,...r,ref:e})});WF.displayName=XQ;var KQ="DropdownMenuRadioGroup",YQ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(NQ,{...i,...r,ref:e})});YQ.displayName=KQ;var ZQ="DropdownMenuRadioItem",HF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(FQ,{...i,...r,ref:e})});HF.displayName=ZQ;var qQ="DropdownMenuItemIndicator",XF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(jQ,{...i,...r,ref:e})});XF.displayName=qQ;var JQ="DropdownMenuSeparator",KF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(LQ,{...i,...r,ref:e})});KF.displayName=JQ;var QQ="DropdownMenuArrow",eee=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(DQ,{...i,...r,ref:e})});eee.displayName=QQ;var tee="DropdownMenuSubTrigger",YF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(OQ,{...i,...r,ref:e})});YF.displayName=tee;var nee="DropdownMenuSubContent",ZF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gr(n);return g.jsx(VQ,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZF.displayName=nee;var ree=DF,iee=VF,see=zF,qF=BF,JF=GF,QF=UF,ej=WF,tj=HF,nj=XF,rj=KF,ij=YF,sj=ZF;const oee=ree,aee=iee,lee=_.forwardRef(({className:t,inset:e,children:n,...r},i)=>g.jsxs(ij,{ref:i,className:Oe("flex cursor-default select-none items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,g.jsx(OT,{className:"ml-auto"})]}));lee.displayName=ij.displayName;const cee=_.forwardRef(({className:t,...e},n)=>g.jsx(sj,{ref:n,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));cee.displayName=sj.displayName;const oj=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(see,{children:g.jsx(qF,{ref:r,sideOffset:e,className:Oe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));oj.displayName=qF.displayName;const Nl=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(QF,{ref:r,className:Oe("relative flex cursor-default select-none items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Nl.displayName=QF.displayName;const uee=_.forwardRef(({className:t,children:e,checked:n,...r},i)=>g.jsxs(ej,{ref:i,className:Oe("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(nj,{children:g.jsx(fd,{className:"h-4 w-4"})})}),e]}));uee.displayName=ej.displayName;const dee=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(tj,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(nj,{children:g.jsx(SV,{className:"h-2 w-2 fill-current"})})}),e]}));dee.displayName=tj.displayName;const hee=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(JF,{ref:r,className:Oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));hee.displayName=JF.displayName;const Zx=_.forwardRef(({className:t,...e},n)=>g.jsx(rj,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));Zx.displayName=rj.displayName;function fee({table:t=null,filename:e="data",entityType:n}){const r=(l,c)=>{const d=window.URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download=c,document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(d),Pt.success("Archivo exportado correctamente.")},i=async l=>{let c=[];if(l==="selected"&&t&&(c=t.getSelectedRowModel().rows.map(h=>h.original.id||h.original.animal_id),c.length===0)){Pt.warning("No hay filas seleccionadas para exportar.",{description:"Por favor, selecciona al menos una fila.",icon:g.jsx(ca,{className:"h-4 w-4 text-orange-500"})});return}const d={globalFilter:t?t.getState().globalFilter:null,ids:c};try{let h;if(n==="animals")h=await w6(l,d);else if(n==="collares")h=await U9(l,d);else throw new Error("Tipo de entidad no soportado para exportación.");r(h,`${e}_${l}.csv`)}catch(h){console.error(`Error al exportar ${n} (${l}):`,h),Pt.error(`Error al exportar ${n}.`,{description:h.message,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},s=async()=>{try{let l;if(n==="animals")l=await nA();else if(n==="collares")l=await FM();else throw new Error("Tipo de entidad no soportado para plantilla.");r(l,`plantilla_${n}.csv`)}catch(l){console.error(`Error al descargar plantilla de ${n}:`,l),Pt.error("Error al descargar la plantilla.",{description:l.message,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},o=t&&typeof t=="object"&&t.getFilteredRowModel&&t.getRowModel&&t.getSelectedRowModel;return g.jsxs(oee,{children:[g.jsx(aee,{asChild:!0,children:g.jsxs(st,{className:"gap-2 bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(bV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Exportar"})]})}),g.jsxs(oj,{align:"end",className:"w-[180px] bg-white",children:[g.jsx(Nl,{onClick:()=>i("all"),children:"Exportar Todo"}),o&&g.jsxs(g.Fragment,{children:[g.jsx(Nl,{onClick:()=>i("filtered"),children:"Exportar Filtrado"}),g.jsx(Nl,{onClick:()=>i("page"),children:"Exportar Página"}),t.getIsSomeRowsSelected()||t.getIsAllRowsSelected()?g.jsxs(g.Fragment,{children:[g.jsx(Zx,{}),g.jsxs(Nl,{onClick:()=>i("selected"),children:["Exportar Seleccionado (",t.getSelectedRowModel().rows.length,")"]})]}):null]}),g.jsx(Zx,{}),g.jsxs(Nl,{onClick:s,className:"flex items-center gap-2",children:[g.jsx($T,{className:"h-4 w-4 text-blue-800"})," Descargar Plantilla"]})]})]})}function mee({entityType:t,onImportSuccess:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(null),h=y=>{const v=y.target.files?y.target.files[0]:null;s(v),d(null)},f=async()=>{if(!i){Pt.error("Por favor, selecciona un archivo CSV para importar.");return}l(!0),d(null);try{let y;if(t==="animals")y=await S6(i);else if(t==="collares")y=await W9(i);else throw new Error("Tipo de entidad no soportado para importación.");d(y),y.status==="success"?(Pt.success("Importación completada con éxito.",{description:y.message,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})}),r(!1),s(null),e&&e()):y.status==="partial_success"?Pt.warning("Importación completada con algunos errores.",{description:y.message,icon:g.jsx(ca,{className:"h-4 w-4 text-orange-500"}),duration:5e3}):Pt.error("La importación falló.",{description:y.message||"Ocurrió un error inesperado en el servidor.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}catch(y){console.error(`Error al importar ${t}:`,y),Pt.error("Error al iniciar la importación.",{description:y.message,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})}),d({summary:{total_processed:0,created:0,updated:0,errors_count:1},errors:[{row:"N/A",errors:[{field:"Archivo",value:i==null?void 0:i.name,message:y.message}]}]})}finally{l(!1)}},p=async()=>{l(!0);try{let y;if(t==="animals")y=await nA();else if(t==="collares")y=await FM();else throw new Error("Tipo de entidad no soportado para plantilla.");const v=window.URL.createObjectURL(y),w=document.createElement("a");w.href=v,w.download=`plantilla_${t}.csv`,document.body.appendChild(w),w.click(),w.remove(),window.URL.revokeObjectURL(v),Pt.success(`Plantilla de ${t} descargada correctamente.`)}catch(y){console.error(`Error al descargar plantilla de ${t}:`,y),Pt.error("Error al descargar la plantilla.",{description:y.message,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}finally{l(!1)}};return g.jsxs(WN,{open:n,onOpenChange:r,children:[g.jsx(HN,{asChild:!0,children:g.jsxs(st,{className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(MC,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Importar"})]})}),g.jsxs(ww,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(Sw,{children:[g.jsxs(Cw,{className:"flex items-center gap-2",children:[g.jsx(MC,{className:"h-6 w-6 text-yellow-700"})," Importar ",t==="animals"?"Animales":"Collares"]}),g.jsxs(YN,{children:["Sube un archivo CSV para importar o actualizar ",t==="animals"?"animales":"collares",".",g.jsxs(st,{variant:"link",onClick:p,className:"p-0 h-auto text-blue-800 hover:text-blue-800 flex items-center justify-start",disabled:o,children:[g.jsx($T,{className:"h-4 w-4 mr-1"})," Descargar Plantilla"]})]})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[g.jsx(Cg,{htmlFor:"file",className:"text-right",children:"Archivo CSV"}),g.jsx(Yt,{id:"file",type:"file",accept:".csv",onChange:h,className:"col-span-3",disabled:o})]}),i&&g.jsx("p",{className:"text-sm text-muted-foreground text-center",children:g.jsx("span",{className:"font-semibold",children:i.name})}),c&&g.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-gray-50",children:[g.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Resumen de Importación"}),g.jsxs("p",{className:"text-sm",children:["Total procesados: ",c.summary.total_processed]}),g.jsxs("p",{className:"text-sm",children:["Creados: ",c.summary.created]}),g.jsxs("p",{className:"text-sm",children:["Actualizados: ",c.summary.updated]}),g.jsxs("p",{className:"text-sm font-semibold",children:["Errores: ",c.summary.errors_count]}),c.errors_count>0&&g.jsxs("div",{className:"mt-4",children:[g.jsxs("h5",{className:"font-semibold text-sm text-red-600 mb-2 flex items-center gap-1",children:[g.jsx($V,{className:"h-4 w-4"})," Detalles de Errores:"]}),g.jsx(kg,{className:"h-40 border rounded-xl p-2 bg-white",children:c.errors.map((y,v)=>g.jsxs("div",{className:"mb-2 text-xs text-red-700 border-b pb-1 last:border-b-0",children:[g.jsxs("p",{className:"font-bold",children:["Fila ",y.row,":"]}),g.jsx("ul",{className:"list-disc pl-4",children:y.errors.map((w,C)=>g.jsxs("li",{children:[g.jsxs("span",{className:"font-medium",children:[w.field,":"]})," ",w.message,' (Valor: "',w.value,'")']},C))})]},v))})]})]})]}),g.jsxs(KN,{className:"flex flex-col sm:flex-row justify-between sm:space-x-2",children:[g.jsx(st,{variant:"outline",onClick:()=>{r(!1),s(null),d(null)},className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:"Cerrar"}),g.jsxs(st,{onClick:f,disabled:!i||o,variant:"default",className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[o&&g.jsx(GV,{className:"mr-2 h-4 w-4 animate-spin"}),"Importar Archivo"]})]})]})]})}const gee=U_({identificadorBase:qi().min(1,"El identificador base es obligatorio.").max(4,"El identificador no puede exceder 4 caracteres."),cantidad:er.number().int().min(1,"La cantidad debe ser al menos 1.").max(500,"Máximo 500 collares por lote.")}),pee=(t,e)=>{const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(wi,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(av,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(Lu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(uv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(Lu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batería";break;case"defectuoso":i=g.jsx(Vn,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 py-1 rounded-xl text-xs font-medium whitespace-nowrap max-w-[70%] truncate",o),children:[i,s]})};function yee({collares:t=[],onCreateBatch:e,onDelete:n,onEditCollar:r,fullCollarDataForExport:i=[],onImportSuccess:s,globalFilter:o,setGlobalFilter:l,rowSelection:c,setRowSelection:d,sorting:h,setSorting:f,pagination:p,setPagination:y,columnVisibility:v,setColumnVisibility:w}){const C=$_({resolver:B_(gee),defaultValues:{identificadorBase:"",cantidad:1}}),b=_.useCallback(G=>{e(G.identificadorBase,G.cantidad),C.reset({identificadorBase:"",cantidad:1})},[e,C]),R=_.useMemo(()=>[{accessorKey:"id"},{accessorKey:"codigo"},{accessorKey:"prefijo"},{accessorKey:"estado"},{accessorKey:"bateria"},{accessorKey:"animal_id"},{accessorKey:"animal_nombre"}],[]),T=vN({data:t,columns:R,state:{globalFilter:o,rowSelection:c,sorting:h,pagination:p,columnVisibility:v},onGlobalFilterChange:G=>{y(V=>({...V,pageIndex:0})),l(G)},onRowSelectionChange:d,onSortingChange:f,onPaginationChange:y,onColumnVisibilityChange:w,getCoreRowModel:fN(),getFilteredRowModel:pN(),getPaginationRowModel:yN(),getSortedRowModel:xN(),enableRowSelection:!0,autoResetPageIndex:!1,globalFilterFn:(G,V,H)=>{var D,j,U;const B=String(H).toLowerCase(),X=((D=G.original.codigo)==null?void 0:D.toLowerCase())||"",Z=((j=G.original.estado)==null?void 0:j.toLowerCase())||"",Y=((U=G.original.animal_nombre)==null?void 0:U.toLowerCase())||"";return X.includes(B)||Z.includes(B)||Y.includes(B)}}),P=T.getRowModel().rows,k=_.useCallback(()=>{d({})},[]),M=_.useCallback(()=>{T.getIsAllPageRowsSelected()?T.toggleAllPageRowsSelected(!1):T.toggleAllPageRowsSelected(!0)},[T]),F=_.useCallback(()=>T.getIsAllPageRowsSelected()?{text:"Deseleccionar Página",icon:g.jsx($s,{className:"h-4 w-4"}),variant:"outline"}:T.getIsSomePageRowsSelected()?{text:"Deseleccionar Página",icon:g.jsx(GT,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Página",icon:g.jsx(fd,{className:"h-4 w-4"}),variant:"outline"},[T]),I=T.getState().globalFilter||T.getAllColumns().some(G=>G.getIsFiltered()),z=F();return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(yV,{className:"h-5 w-5 text-purple-600"}),"Registrar Nuevos Collares"]}),g.jsx(fw,{...C,children:g.jsxs("form",{onSubmit:C.handleSubmit(b),className:"flex flex-col md:flex-row md:items-end gap-4 flex-wrap",children:[g.jsx(Lt,{control:C.control,name:"identificadorBase",render:({field:G})=>g.jsxs(It,{className:"flex-grow min-w-[160px]",children:[g.jsx(Gt,{children:"Identificador Base"}),g.jsx(Nt,{children:g.jsx(Yt,{placeholder:"Ej. AFGH",...G,className:C.formState.errors.identificadorBase?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(yn,{})]})}),g.jsx(Lt,{control:C.control,name:"cantidad",render:({field:G})=>g.jsxs(It,{className:"w-full sm:w-40",children:[g.jsx(Gt,{children:"Cantidad"}),g.jsx(Nt,{children:g.jsx(Yt,{type:"number",placeholder:"Ej. 100",...G,onChange:V=>G.onChange(V.target.value===""?"":Number(V.target.value)),className:C.formState.errors.cantidad?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(yn,{})]})}),g.jsxs(st,{type:"submit",className:"flex-shrink-0 gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-sm h-10 px-4",children:[g.jsx(AV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Crear Collares"})]})]})})]}),g.jsx(hF,{}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(w4,{className:"h-5 w-5 text-purple-600"}),"Collares Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(_N,{globalFilter:o,setGlobalFilter:l}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[T.getFilteredRowModel().rows.length>0&&g.jsxs(st,{onClick:M,variant:z.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[z.icon," ",g.jsx("span",{className:"hidden lg:inline",children:z.text})]}),I&&g.jsxs(st,{onClick:()=>{T.resetGlobalFilter(),T.getAllColumns().forEach(G=>G.setFilterValue(void 0)),d({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(Vn,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),g.jsx(fee,{table:T,filename:"collares",entityType:"collares"}),g.jsx(mee,{entityType:"collares",onImportSuccess:s})]})]}),g.jsx(kg,{className:"max-h-[80vh] w-full overflow-y-auto rounded-xl p-3 bg-gray-50",children:P.length===0?g.jsxs("div",{className:"text-center text-gray-500 py-12",children:[g.jsx(b0,{className:"h-10 w-10 mx-auto mb-3 text-gray-400"}),g.jsx("p",{className:"text-lg font-medium",children:t.length>0&&T.getState().globalFilter?"No se encontraron collares con los filtros aplicados.":t.length>0?"No hay collares en esta página con la paginación actual.":"No hay collares registrados."}),g.jsx("p",{className:"text-sm",children:t.length>0&&T.getState().globalFilter?"Intenta ajustar tu búsqueda.":t.length>0?"Ajusta las filas por página o navega a otra página.":"Utiliza el formulario de arriba para añadir uno."})]}):g.jsx("ul",{className:"grid w-full p-1 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:P.map(G=>{const V=G.original,H=G.getIsSelected();return g.jsxs("li",{className:Oe("flex flex-col justify-center p-4 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-150 min-h-[120px] cursor-pointer relative",H?"border-blue-500 ring-2 ring-blue-500 bg-blue-50":"border-gray-200"),onClick:G.getToggleSelectedHandler(),children:[g.jsxs("div",{className:"space-y-1 mb-2",children:[g.jsx("div",{className:"font-semibold text-gray-900 text-base flex items-center gap-2",children:g.jsxs("span",{children:["Código: ",V.codigo]})}),g.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:V.animal_nombre?g.jsxs("span",{className:"flex items-center gap-1",children:["Asignado a: ",g.jsx("b",{className:"text-blue-700",children:V.animal_nombre})]}):g.jsx("span",{className:"text-muted-foreground italic",children:"No asignado"})})]}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 mt-2",children:[pee(V.estado,V.bateria),g.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[g.jsx(st,{size:"icon",variant:"ghost",onClick:B=>{B.stopPropagation(),r(V.id)},title:"Editar collar",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:g.jsx(hv,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:B=>{B.stopPropagation(),n(V)},title:"Eliminar collar",className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:g.jsx(ua,{className:"h-4 w-4"})})]})]})]},V.id)})})}),g.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mt-4",children:[g.jsx(SN,{table:T}),Object.keys(c).length>0&&g.jsxs(st,{onClick:k,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(b0,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Deseleccionar Todo"})]}),g.jsx(CN,{table:T})]})]})]})}const Es=Cq(),aj="animalTableState";function Sf(){try{const t=JSON.parse(sessionStorage.getItem(aj));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnVisibility:{},rowSelection:{}}}}const lj="collarTableState";function Cf(){try{const t=JSON.parse(sessionStorage.getItem(lj));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnVisibility:{},rowSelection:{}}}}function xee(){var $n,Ar,Mr;const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState({tipos:[],razas:[],sexos:[],parcelas:[],especies:[],estados_reproductivos:[]}),[c,d]=_.useState([]),[h,f]=_.useState({}),[p,y]=_.useState({}),[v,w]=_.useState(!1),[C,b]=_.useState(!1),[R,T]=_.useState(!1),[P,k]=_.useState({abierto:!1,animalId:null}),[M,F]=_.useState([]),[I,z]=_.useState(null),[G,V]=_.useState({abierto:!1,animal:null}),[H,B]=_.useState({abierto:!1,collar:null}),X=_.useRef(null),Z=_.useRef(null),Y=_.useRef({animals:0,collares:0}),[D,j]=_.useState(Sf().globalFilter),[U,q]=_.useState(Sf().sorting),[N,L]=_.useState(Sf().pagination),[re,ie]=_.useState(Sf().columnVisibility),[ce,ge]=_.useState({}),[ae,pe]=_.useState(Cf().globalFilter),[we,be]=_.useState(Cf().sorting),[$e,Ve]=_.useState(Cf().pagination),[yt,mt]=_.useState(Cf().columnVisibility),[Wt,Dt]=_.useState({}),Ot=ke=>{L(ve=>({...ve,pageIndex:0})),j(ke)},zn=ke=>{Ve(ve=>({...ve,pageIndex:0})),pe(ke)},lt=_.useCallback(async()=>{X.current&&(Y.current.animals=X.current.scrollTop),Z.current&&(Y.current.collares=Z.current.scrollTop);try{const[ke,ve,vt,St,zt]=await Promise.all([m6(),D9(),Na(),p6(),O9()]),Ht=new Map;ve.forEach(Ct=>{Ct.animal_id&&Ht.set(Ct.animal_id,{id:Ct.id,codigo:Ct.codigo,estado:Ct.estado,bateria:Ct.bateria,ultima_actividad:Ct.ultima_actividad})});const Qt=ke.map(Ct=>{const Ye=Ht.get(Ct.animal_id);return{...Ct,collar_asignado:Ye||null,sexo_nombre:Ct.sexo,especie_nombre:Ct.especie,tipo_nombre:Ct.tipo,raza_nombre:Ct.raza,estado_reproductivo_nombre:Ct.estado_reproductivo_nombre,parcela_nombre:Ct.parcela_nombre,fecha_nacimiento:Ct.fecha_nacimiento}});e(Qt),r(ve);const en=Object.values(vt.parcelas||{}).flat();s(en),l(St),d(zt)}catch(ke){console.error("Error al cargar datos iniciales:",ke),Pt.error("Error al cargar los datos.",{description:"Por favor, intente recargar la página.",icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})})}finally{X.current&&(X.current.scrollTop=Y.current.animals),Z.current&&(Z.current.scrollTop=Y.current.collares)}},[]);_.useEffect(()=>{const ke=localStorage.getItem("token");console.log(ke),ke&&lt()},[lt]);const $=()=>{f({}),w(!1),b(!0)},J=_.useCallback(async ke=>{var ve,vt,St,zt,Ht,Qt,en,Ct,Ye,ct;try{const Be=await y6(ke),Tt={...Be,parcela_id:((ve=Be.parcela_id)==null?void 0:ve.toString())||"",raza_id:Be.raza_id!=null?Be.raza_id.toString():"",sexo_id:Be.sexo_id!=null?Be.sexo_id:1,tipo_id:Be.tipo_id!=null?Be.tipo_id.toString():"",especie_id:Be.especie_id!=null?Be.especie_id.toString():"",estado_reproductivo_id:Be.estado_reproductivo_id!=null?Be.estado_reproductivo_id.toString():"",peso:((vt=Be.peso)==null?void 0:vt.toString())||"",altura_cruz:((St=Be.altura_cruz)==null?void 0:St.toString())||"",longitud_tronco:((zt=Be.longitud_tronco)==null?void 0:zt.toString())||"",perimetro_toracico:((Ht=Be.perimetro_toracico)==null?void 0:Ht.toString())||"",ancho_grupa:((Qt=Be.ancho_grupa)==null?void 0:Qt.toString())||"",longitud_grupa:((en=Be.longitud_grupa)==null?void 0:en.toString())||"",numero_partos:((Ct=Be.numero_partos)==null?void 0:Ct.toString())||"",intervalo_partos:((Ye=Be.intervalo_partos)==null?void 0:Ye.toString())||"",fertilidad:((ct=Be.fertilidad)==null?void 0:ct.toString())||"50",fecha_nacimiento:Be.fecha_nacimiento?new Date(Be.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:Be.ubicacion_sensor||""};f(Tt),w(!0),b(!0)}catch(Be){console.error("Error al cargar ficha de animal:",Be),Pt.error("No se pudo cargar la ficha del animal.",{description:"Por favor, intente de nuevo.",icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})})}},[]),te=async ke=>{try{v?(await v6(ke.animal_id,ke),Pt.success("Animal actualizado.",{description:`Los datos de ${ke.nombre} han sido guardados.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})})):(await x6(ke),Pt.success("Animal creado.",{description:`El animal ${ke.nombre} ha sido añadido.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})})),b(!1),f({}),await lt()}catch(ve){console.error("Error al guardar animal:",ve),Pt.error("Error al guardar el animal.",{description:ve.message||"Hubo un problema al procesar la solicitud.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},fe=async()=>{if(G.animal)try{await _6(G.animal.animal_id),Pt.success("Animal eliminado.",{description:`${G.animal.nombre} ha sido eliminado correctamente.`,icon:g.jsx(ua,{className:"h-4 w-4 text-red-500"})}),V({abierto:!1,animal:null}),await lt()}catch(ke){console.error("Error al eliminar animal:",ke),Pt.error("Error al eliminar el animal.",{description:ke.message||"No se pudo completar la eliminación. Si está asignado a un collar, se desvinculará automáticamente.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},he=async(ke,ve)=>{try{await $9({identificador:ke,cantidad:ve}),Pt.success("Collares creados.",{description:`Se han registrado ${ve} collares con identificador ${ke}.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})}),await lt()}catch(vt){console.error("Error al crear collares en lote:",vt),Pt.error("Error al crear collares.",{description:vt.message||"Hubo un problema al procesar la solicitud de creación masiva.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},se=ke=>{B({abierto:!0,collar:ke})},ye=async()=>{if(H.collar)try{await z9(H.collar.id),Pt.success("Collar eliminado.",{description:`El collar con código ${H.collar.codigo} ha sido eliminado.`,icon:g.jsx(ua,{className:"h-4 w-4 text-red-500"})}),B({abierto:!1,collar:null}),await lt()}catch(ke){console.error("Error al eliminar collar:",ke),Pt.error("Error al eliminar el collar.",{description:ke.message||"No se pudo completar la eliminación. Si está asignado, se desvinculará automáticamente.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},je=_.useCallback(async ke=>{try{const ve=await G9(ke);y({collar_id:ve.id,codigo:ve.codigo,estado:ve.estado,bateria:ve.bateria,animal_id:ve.animal_id!=null?ve.animal_id.toString():"UNASSIGNED",original_animal_id:ve.animal_id!=null?ve.animal_id.toString():"UNASSIGNED",original_estado:ve.estado}),T(!0)}catch(ve){console.error("Error al cargar detalles del collar:",ve),Pt.error("No se pudo cargar la ficha del collar.",{description:"Verifique la conexión o intente de nuevo.",icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})})}},[]),ze=async ke=>{try{const{collar_id:ve,animal_id:vt,original_animal_id:St,original_estado:zt,...Ht}=ke;let Qt=!1;const en=Ht.estado!==zt,Ct=Ht.bateria!==p.bateria;(en||Ct)&&(await B9(ve,{estado:Ht.estado,bateria:Ht.bateria}),Qt=!0,Pt.success("Collar actualizado.",{description:`Los datos del collar ${ke.codigo} han sido guardados.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})})),vt!==St?(await hR(ve,vt==="UNASSIGNED"?null:vt),Qt=!0,Pt.success("Asignación de collar actualizada.",{description:`La asignación del collar ${ke.codigo} ha sido modificada.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})})):!en&&!Ct&&Pt.info("No se detectaron cambios en el collar.",{description:"No se realizó ninguna actualización.",icon:g.jsx(wi,{className:"h-4 w-4 text-blue-500"})}),Qt&&await lt(),T(!1),y({})}catch(ve){console.error("Error al guardar collar:",ve);const vt=ve.message||"Hubo un problema al procesar la solicitud.";Pt.error("Error al guardar el collar.",{description:vt,icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},xt=_.useCallback(async ke=>{try{const ve=await V9();F(ve),z(null),k({abierto:!0,animalId:ke})}catch(ve){console.error("Error al cargar collares disponibles:",ve),Pt.error("No se pudieron cargar collares disponibles para asignar.",{description:"Por favor, intente de nuevo.",icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})})}},[]),Vt=async()=>{if(!I||!P.animalId){Pt.error("Debe seleccionar un collar para asignar.",{icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})});return}try{await hR(parseInt(I),P.animalId),Pt.success("Collar asignado.",{description:`Collar ${I} asignado al animal.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})}),k({abierto:!1,animalId:null}),z(null),await lt()}catch(ke){console.error("Error al asignar collar:",ke),Pt.error("Error al asignar el collar.",{description:ke.message||"Hubo un problema al procesar la asignación.",icon:g.jsx(Vn,{className:"h-4 w-4 text-red-500"})})}},ft=_.useMemo(()=>{var ke;return[Es.accessor("numero_identificacion",{header:"ID"}),Es.accessor("nombre",{header:"Nombre"}),Es.accessor(ve=>ve.collar_asignado?ve.collar_asignado.codigo:null,{id:"collar_info",header:"Collar",cell:({row:ve})=>{const vt=ve.original;return vt.collar_asignado?g.jsx(st,{onClick:St=>{St.stopPropagation(),je(vt.collar_asignado.id)},className:"gap-2 h-auto bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto hover:underline",children:vt.collar_asignado.codigo}):g.jsxs(st,{onClick:St=>{St.stopPropagation(),xt(vt.animal_id)},className:"gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(kC,{className:"h-3 w-3"})," ",g.jsx("span",{className:"hidden md:inline",children:"Asignar"})]})},filterFn:(ve,vt,St)=>{var Ht;const zt=(Ht=ve.original.collar_asignado)==null?void 0:Ht.codigo;return zt?zt.toLowerCase().startsWith(St.toLowerCase()):!1}}),Es.accessor(ve=>ve.parcela?ve.parcela:"-",{id:"parcela",header:"Parcela",enableColumnFilter:!0,meta:{filterOptions:o.parcelas.map(ve=>ve.nombre)}}),Es.accessor(ve=>ve.especie?ve.especie:"-",{id:"especie",header:"Especie",enableColumnFilter:!0,meta:{filterOptions:o.especies.map(ve=>ve.nombre)}}),Es.accessor(ve=>ve.raza?ve.raza:"-",{id:"raza",header:"Raza",enableColumnFilter:!0,meta:{filterOptions:o.razas.map(ve=>ve.nombre)}}),Es.accessor(ve=>ve.tipo?ve.tipo:"-",{id:"tipo",header:"Tipo",enableColumnFilter:!0,meta:{filterOptions:o.tipos.map(ve=>ve.nombre)}}),Es.accessor(ve=>ve.sexo?ve.sexo:"-",{id:"sexo",header:"Sexo",enableColumnFilter:!0,meta:{filterOptions:(ke=o.sexos)==null?void 0:ke.map(ve=>ve.nombre)}}),Es.display({id:"acciones",header:"Funciones",enableColumnFilter:!1,cell:({row:ve,table:vt})=>g.jsxs("div",{className:"flex gap-2 justify-center",children:[g.jsxs(st,{size:"icon",variant:"ghost",onClick:St=>{St.stopPropagation(),J(ve.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:[g.jsx(hv,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Editar animal"})]}),g.jsxs(st,{size:"icon",variant:"ghost",onClick:St=>{St.stopPropagation(),V({abierto:!0,animal:ve.original})},className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:[g.jsx(ua,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Eliminar animal"})]}),!vt.options.meta.showExpandableRows&&g.jsx(st,{size:"icon",variant:"ghost",onClick:St=>{St.stopPropagation(),ve.toggleExpanded()},className:"text-gray-500 hover:bg-gray-100","aria-label":ve.getIsExpanded()?"Colapsar detalles":"Expandir detalles",children:ve.getIsExpanded()?g.jsx(cv,{className:"h-5 w-5"}):g.jsx(md,{className:"h-5 w-5"})})]})})]},[o,J,je,xt]);return _.useEffect(()=>{sessionStorage.setItem(aj,JSON.stringify({globalFilter:D,sorting:U,pagination:N,columnVisibility:re}))},[D,U,N,re]),_.useEffect(()=>{sessionStorage.setItem(lj,JSON.stringify({globalFilter:ae,sorting:we,pagination:$e,columnVisibility:yt}))},[ae,we,$e,yt]),g.jsxs("div",{className:"px-6 py-20 sm:px-8 md:px-10 lg:px-12 xl:px-16 bg-white min-h-screen",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:[g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(DT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-blue-800 mr-2 sm:mr-3 align-middle"}),"Gestión de Animales"]}),g.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:g.jsxs(st,{onClick:$,className:"gap-2 bg-blue-800 hover:bg-blue-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(kC,{className:"h-4 w-4"})," Nuevo Animal"]})})]}),g.jsx("div",{className:"gap-4 sm:gap-6 lg:gap-8",children:g.jsx($x,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(Bx,{className:"p-4",ref:X,children:g.jsx(XJ,{data:t,columns:ft,exportFilename:"animales",fullData:t,onRowClick:ke=>console.log("Seleccionado:",ke.numero_identificacion),onEditRow:J,onDeleteRow:ke=>V({abierto:!0,animal:ke}),globalFilter:D,setGlobalFilter:Ot,rowSelection:ce,setRowSelection:ge,sorting:U,setSorting:q,pagination:N,setPagination:L,columnVisibility:re,setColumnVisibility:ie})})})}),g.jsx("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(WT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-purple-600 mr-2 sm:mr-3 align-middle"}),"Gestión de Collares"]})}),g.jsx("div",{className:"mb-4 gap-4 sm:gap-6 lg:gap-8",children:g.jsx($x,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(Bx,{ref:Z,children:g.jsx(yee,{collares:n,onCreateBatch:he,onDelete:se,onEditCollar:je,fullCollarDataForExport:n,collarStatesOptions:c,onImportSuccess:lt,globalFilter:ae,setGlobalFilter:zn,rowSelection:Wt,setRowSelection:Dt,sorting:we,setSorting:be,pagination:$e,setPagination:Ve,columnVisibility:yt,setColumnVisibility:mt})})})}),g.jsx(da,{isOpen:C,size:"xxxxl",children:g.jsx(GZ,{animal:h,modoEdicion:v,parcelas:i,animalOptions:o,onCancel:()=>b(!1),onSave:te})}),g.jsx(da,{isOpen:R,size:"xl",children:g.jsx(WZ,{collar:p,animals:t,collarStatesOptions:c,onCancel:()=>T(!1),onSave:ze})}),g.jsx(da,{isOpen:P.abierto,title:`Asignar Collar a ${P.animalId?($n=t.find(ke=>ke.animal_id===P.animalId))==null?void 0:$n.nombre:"animal desconocido"}`,description:"Selecciona un collar disponible para asignar a este animal.",onCancel:()=>{k({abierto:!1,animalId:null}),z(null)},onConfirm:Vt,confirmText:"Asignar Collar",confirmColor:"bg-purple-600 hover:bg-purple-700",cancelText:"Cancelar",icon:g.jsx(OV,{className:"h-6 w-6 text-purple-500"}),size:"sm",message:g.jsx("div",{className:"p-4 space-y-4",children:g.jsxs("div",{children:[g.jsx(Cg,{htmlFor:"collar-select",className:"mb-2 block text-sm font-medium text-gray-700",children:"Seleccionar Collar"}),g.jsxs(Si,{onValueChange:z,value:I||"",disabled:M.length===0,children:[g.jsx(ni,{className:"w-full",children:g.jsx(Ci,{placeholder:M.length===0?"No hay collares disponibles":"Seleccionar collar"})}),g.jsx(ri,{children:M.length===0?g.jsx(Pn,{value:"no-available",disabled:!0,children:"No hay collares disponibles"}):M.map(ke=>g.jsxs(Pn,{value:ke.id.toString(),children:[ke.codigo," (Batería: ",ke.bateria,"%, Estado: ",ke.estado,")"]},ke.id))})]}),M.length===0&&g.jsx("p",{className:"text-sm text-red-500 mt-2",children:"No hay collares con estado 'disponible' para asignar."})]})})}),g.jsx(da,{isOpen:H.abierto,title:"Confirmar Eliminación de Collar",onConfirm:ye,onCancel:()=>B({abierto:!1,collar:null}),confirmText:"Eliminar Collar",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(ua,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["¿Estás seguro de que quieres eliminar el collar ",g.jsx("span",{className:"font-bold text-red-600",children:(Ar=H.collar)==null?void 0:Ar.codigo}),"?",g.jsx("br",{}),"Si este collar está asignado a un animal, se desvinculará automáticamente."]})}),g.jsx(da,{isOpen:G.abierto,title:"Confirmar Eliminación de Animal",onConfirm:fe,onCancel:()=>V({abierto:!1,animal:null}),confirmText:"Eliminar Animal",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(ua,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["¿Estás seguro de que quieres eliminar a ",g.jsx("span",{className:"font-bold text-red-600",children:(Mr=G.animal)==null?void 0:Mr.nombre}),"?",g.jsx("br",{}),"Esta acción es irreversible y también desvinculará cualquier collar asociado."]})})]})}function vee({mapRef:t}){const e=_.useRef(null),n=_.useRef(!1),r=_.useRef({x:0,y:0}),i=_.useRef(0),s=_.useRef(0),o=.4;_.useEffect(()=>{if(!(t!=null&&t.current))return;const p=t.current.getView(),y=()=>{const v=p.getRotation();e.current&&(e.current.style.transform=`rotate(${-v}rad)`)};return y(),p.on("change:rotation",y),()=>p.un("change:rotation",y)},[t]);const l=(p,y)=>{const v=p-r.current.x,w=r.current.y-y;return Math.atan2(v,w)},c=p=>{if(!t.current)return;n.current=!0;const y=p.currentTarget.getBoundingClientRect();r.current={x:y.left+y.width/2,y:y.top+y.height/2},i.current=t.current.getView().getRotation(),s.current=l(p.clientX,p.clientY),window.addEventListener("mousemove",d),window.addEventListener("mouseup",h)},d=p=>{if(!n.current||!t.current)return;const v=l(p.clientX,p.clientY)-s.current,w=i.current+v*o;t.current.getView().setRotation(w)},h=()=>{n.current=!1,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)},f=()=>{!n.current&&t.current&&t.current.getView().setRotation(0)};return g.jsx("button",{title:"Brújula",className:"bg-white rounded-full p-3 shadow-md transition-transform select-none",onMouseDown:c,onClick:f,children:g.jsx("img",{ref:e,src:"/dist/compass.svg",alt:"Compass",className:"w-6 h-6 transition-transform pointer-events-none"})})}function _ee({mapRef:t,onToggleLayer:e=()=>{},onLocate:n=()=>{},onCenterCampo:r=()=>{}}){const i=_.useRef(null);return _.useEffect(()=>{if(!(t!=null&&t.current))return;const s=t.current.getView(),o=()=>{const l=s.getRotation();i.current&&(i.current.style.transform=`rotate(${-l}rad)`)};return s.on("change:rotation",o),()=>s.un("change:rotation",o)},[t]),g.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-col gap-2",children:[g.jsx("button",{onClick:e,title:"Cambiar capa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(LV,{className:"w-6 h-6 text-gray-800"})}),g.jsx("button",{onClick:r,title:"Centrar en campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(o4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:n,title:"Centrar mapa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(WV,{className:"w-6 h-6 text-gray-800"})}),g.jsx(vee,{mapRef:t})]})}function wee({campos:t={},campoId:e="",parcelaId:n="",parcelaNombre:r="",areaParcela:i=0,areaCampo:s=0,selectorOpen:o=!1,setSelectorOpen:l=()=>{},onSelectCampo:c=()=>{},mapRef:d=null}){const h=f=>{const p=t[f];p&&(d!=null&&d.current)&&d.current.getView().animate({center:Ao([p.lon,p.lat]),duration:800,easing:kr}),c(f),l(!1),window.dispatchEvent(new Event("cerrarPopupResumen"))};return _.useEffect(()=>{const f=()=>l(!1);return window.addEventListener("closeCampoSelector",f),()=>window.removeEventListener("closeCampoSelector",f)},[]),g.jsxs("div",{className:"relative","data-testid":"campo-selector",children:[g.jsxs("button",{onClick:()=>{l(f=>{const p=!f;return p&&window.dispatchEvent(new Event("closeForm")),p})},className:"flex items-center px-4 py-2 bg-black/60 backdrop-blur-md rounded-full shadow-lg text-white text-sm hover:bg-black/70 transition-all max-w-full",children:[g.jsxs("div",{className:"flex flex-col items-center min-w-[120px] max-w-[150px]",children:[g.jsx("span",{className:"text-xs text-gray-300 truncate",children:e&&t[e]?t[e].nombre:"Creando nuevo campo"}),n&&e?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-center gap-1 flex-wrap",children:[g.jsx(dv,{size:14,className:"text-blue-400"}),g.jsx("span",{className:"text-sm truncate",children:r})]}),g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(i/1e4).toFixed(2)," ha"]})]}):e&&t[e]?g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(s/1e4).toFixed(2)," ha"]}):g.jsx("span",{className:"text-xs text-green-400 mt-0.5",children:"0.00 ha"})]}),g.jsx(md,{size:16,className:"text-white"})]}),o&&g.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-md text-sm overflow-hidden z-20 w-full",children:Object.entries(t).map(([f,p])=>g.jsx("button",{onClick:()=>h(f),disabled:f===e,className:"w-full px-4 py-2 text-left hover:bg-gray-100 disabled:text-gray-400 disabled:italic disabled:cursor-not-allowed",children:p.nombre},f))})]})}function See(){const{mapRef:t,ready:e}=_.useContext(Cd),{campoSeleccionado:n,setCampoSeleccionado:r,lastCampoId:i}=_.useContext(bd),[s,o]=_.useState({}),[l,c]=_.useState({}),[d,h]=_.useState({campo_id:"",parcela_id:"",nombre:"",descripcion:""}),[f,p]=_.useState(0),[y,v]=_.useState(0),[w,C]=_.useState(!1);return _.useEffect(()=>{async function b(){const R=await Na();o(R.campos),c(R.parcelas);const T=R.campo_preferido_id||Object.keys(R.campos)[0],P=n??i??T;if(P){r(P),h(F=>({...F,campo_id:P}));const k=R.campos[P],M=M6("map",[k.lat,k.lon]);t.current=M}}b()},[]),_.useEffect(()=>{const b=()=>C(!1);return window.addEventListener("closeCampoSelector",b),()=>window.removeEventListener("closeCampoSelector",b)},[]),g.jsxs(g.Fragment,{children:[t.current&&g.jsx(_ee,{mapRef:t,onToggleLayer:()=>{const b=window.osm,R=window.esriSat;b&&R&&(b.setVisible(!b.getVisible()),R.setVisible(!R.getVisible()))},onCenterCampo:()=>{if(!t.current||!n||!s[n])return;const b=s[n];t.current.getView().animate({center:Ao([b.lon,b.lat]),duration:800,easing:kr})},onLocate:()=>{navigator.geolocation&&t.current&&navigator.geolocation.getCurrentPosition(b=>{const R=[b.coords.longitude,b.coords.latitude];t.current.getView().animate({center:Ao(R),duration:800,easing:kr})})}}),g.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:g.jsx(wee,{campos:s,campoId:n,parcelaId:d.parcela_id,parcelaNombre:d.nombre,areaParcela:y,areaCampo:f,selectorOpen:w,setSelectorOpen:C,onSelectCampo:b=>{r(b),h(R=>({...R,campo_id:b,parcela_id:"",nombre:"",descripcion:""}))},mapRef:t})}),g.jsx(eO,{context:{campos:s,parcelas:l,formData:d,setFormData:h,setCampos:o,setParcelas:c,setAreaParcela:v,setAreaCampo:p}})]})}function mT(){const t=ji(),{menuOpen:e,setMenuOpen:n}=b3(),r=t.pathname==="/login";return g.jsxs(g.Fragment,{children:[!r&&g.jsx(C3,{menuOpen:e,setMenuOpen:n}),g.jsxs(nO,{children:[g.jsx(Rs,{path:"/login",element:g.jsx(R3,{})}),g.jsx(Rs,{path:"/animales",element:g.jsxs(w0,{children:[" ",g.jsx(xee,{})," "]})}),g.jsxs(Rs,{element:g.jsx(w0,{children:g.jsx(sG,{children:g.jsx(See,{})})}),children:[g.jsx(Rs,{path:"/mapa",element:g.jsx(N6,{})}),g.jsx(Rs,{path:"/parcelas",element:g.jsx(A9,{})}),g.jsx(Rs,{path:"/campos",element:g.jsx(L9,{})})]}),g.jsx(Rs,{path:"/alertas",element:g.jsx(w0,{children:g.jsx(Cee,{label:"Alertas"})})}),g.jsx(Rs,{path:"*",element:g.jsx(PT,{to:"/login",replace:!0})})]}),!r&&g.jsx(E3,{setMenuOpen:n})]})}function Cee({label:t}){return g.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-100",children:g.jsx("h1",{className:"text-3xl font-bold",children:t})})}function w0({children:t}){const{isAuthenticated:e,loading:n}=Dm();return n?g.jsx("div",{className:"text-center text-blue-800 mt-10",children:"Verificando sesión..."}):e?t:g.jsx(PT,{to:"/login",replace:!0})}function bee(){const{isAuthenticated:t,loading:e}=Dm();return e?g.jsx("div",{className:"p-4 text-green-950",children:"Verificando sesión..."}):t?g.jsxs(oG,{children:[g.jsx(Sq,{richColors:!0,position:"top-right"}),g.jsx(mT,{})]}):g.jsx(mT,{})}yT.createRoot(document.getElementById("root")).render(g.jsx(le.StrictMode,{children:g.jsx(RO,{children:g.jsx(S3,{children:g.jsx(bee,{})})})}));
