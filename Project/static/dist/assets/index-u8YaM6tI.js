function nD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my={exports:{}},iu={},gy={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function rD(){if(hC)return dt;hC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(N){return N===null||typeof N!="object"?null:(N=f&&N[f]||N["@@iterator"],typeof N=="function"?N:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function S(N,L,ne){this.props=N,this.context=L,this.refs=w,this.updater=ne||y}S.prototype.isReactComponent={},S.prototype.setState=function(N,L){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,L,"setState")},S.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function b(){}b.prototype=S.prototype;function R(N,L,ne){this.props=N,this.context=L,this.refs=w,this.updater=ne||y}var T=R.prototype=new b;T.constructor=R,v(T,S.prototype),T.isPureReactComponent=!0;var P=Array.isArray,k=Object.prototype.hasOwnProperty,M={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function I(N,L,ne){var ie,ce={},ge=null,ae=null;if(L!=null)for(ie in L.ref!==void 0&&(ae=L.ref),L.key!==void 0&&(ge=""+L.key),L)k.call(L,ie)&&!F.hasOwnProperty(ie)&&(ce[ie]=L[ie]);var pe=arguments.length-2;if(pe===1)ce.children=ne;else if(1<pe){for(var we=Array(pe),be=0;be<pe;be++)we[be]=arguments[be+2];ce.children=we}if(N&&N.defaultProps)for(ie in pe=N.defaultProps,pe)ce[ie]===void 0&&(ce[ie]=pe[ie]);return{$$typeof:t,type:N,key:ge,ref:ae,props:ce,_owner:M.current}}function z(N,L){return{$$typeof:t,type:N.type,key:L,ref:N.ref,props:N.props,_owner:N._owner}}function W(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function V(N){var L={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ne){return L[ne]})}var X=/\/+/g;function G(N,L){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):L.toString(36)}function te(N,L,ne,ie,ce){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var ae=!1;if(N===null)ae=!0;else switch(ge){case"string":case"number":ae=!0;break;case"object":switch(N.$$typeof){case t:case e:ae=!0}}if(ae)return ae=N,ce=ce(ae),N=ie===""?"."+G(ae,0):ie,P(ce)?(ne="",N!=null&&(ne=N.replace(X,"$&/")+"/"),te(ce,L,ne,"",function(be){return be})):ce!=null&&(W(ce)&&(ce=z(ce,ne+(!ce.key||ae&&ae.key===ce.key?"":(""+ce.key).replace(X,"$&/")+"/")+N)),L.push(ce)),1;if(ae=0,ie=ie===""?".":ie+":",P(N))for(var pe=0;pe<N.length;pe++){ge=N[pe];var we=ie+G(ge,pe);ae+=te(ge,L,ne,we,ce)}else if(we=p(N),typeof we=="function")for(N=we.call(N),pe=0;!(ge=N.next()).done;)ge=ge.value,we=ie+G(ge,pe++),ae+=te(ge,L,ne,we,ce);else if(ge==="object")throw L=String(N),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ae}function J(N,L,ne){if(N==null)return N;var ie=[],ce=0;return te(N,ie,"","",function(ge){return L.call(ne,ge,ce++)}),ie}function $(N){if(N._status===-1){var L=N._result;L=L(),L.then(function(ne){(N._status===0||N._status===-1)&&(N._status=1,N._result=ne)},function(ne){(N._status===0||N._status===-1)&&(N._status=2,N._result=ne)}),N._status===-1&&(N._status=0,N._result=L)}if(N._status===1)return N._result.default;throw N._result}var D={current:null},j={transition:null},U={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:M};function Y(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:J,forEach:function(N,L,ne){J(N,function(){L.apply(this,arguments)},ne)},count:function(N){var L=0;return J(N,function(){L++}),L},toArray:function(N){return J(N,function(L){return L})||[]},only:function(N){if(!W(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},dt.Component=S,dt.Fragment=n,dt.Profiler=i,dt.PureComponent=R,dt.StrictMode=r,dt.Suspense=u,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,dt.act=Y,dt.cloneElement=function(N,L,ne){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ie=v({},N.props),ce=N.key,ge=N.ref,ae=N._owner;if(L!=null){if(L.ref!==void 0&&(ge=L.ref,ae=M.current),L.key!==void 0&&(ce=""+L.key),N.type&&N.type.defaultProps)var pe=N.type.defaultProps;for(we in L)k.call(L,we)&&!F.hasOwnProperty(we)&&(ie[we]=L[we]===void 0&&pe!==void 0?pe[we]:L[we])}var we=arguments.length-2;if(we===1)ie.children=ne;else if(1<we){pe=Array(we);for(var be=0;be<we;be++)pe[be]=arguments[be+2];ie.children=pe}return{$$typeof:t,type:N.type,key:ce,ref:ge,props:ie,_owner:ae}},dt.createContext=function(N){return N={$$typeof:o,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:s,_context:N},N.Consumer=N},dt.createElement=I,dt.createFactory=function(N){var L=I.bind(null,N);return L.type=N,L},dt.createRef=function(){return{current:null}},dt.forwardRef=function(N){return{$$typeof:l,render:N}},dt.isValidElement=W,dt.lazy=function(N){return{$$typeof:h,_payload:{_status:-1,_result:N},_init:$}},dt.memo=function(N,L){return{$$typeof:d,type:N,compare:L===void 0?null:L}},dt.startTransition=function(N){var L=j.transition;j.transition={};try{N()}finally{j.transition=L}},dt.unstable_act=Y,dt.useCallback=function(N,L){return D.current.useCallback(N,L)},dt.useContext=function(N){return D.current.useContext(N)},dt.useDebugValue=function(){},dt.useDeferredValue=function(N){return D.current.useDeferredValue(N)},dt.useEffect=function(N,L){return D.current.useEffect(N,L)},dt.useId=function(){return D.current.useId()},dt.useImperativeHandle=function(N,L,ne){return D.current.useImperativeHandle(N,L,ne)},dt.useInsertionEffect=function(N,L){return D.current.useInsertionEffect(N,L)},dt.useLayoutEffect=function(N,L){return D.current.useLayoutEffect(N,L)},dt.useMemo=function(N,L){return D.current.useMemo(N,L)},dt.useReducer=function(N,L,ne){return D.current.useReducer(N,L,ne)},dt.useRef=function(N){return D.current.useRef(N)},dt.useState=function(N){return D.current.useState(N)},dt.useSyncExternalStore=function(N,L,ne){return D.current.useSyncExternalStore(N,L,ne)},dt.useTransition=function(){return D.current.useTransition()},dt.version="18.3.1",dt}var fC;function Jx(){return fC||(fC=1,gy.exports=rD()),gy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function iD(){if(mC)return iu;mC=1;var t=Jx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var h,f={},p=null,y=null;d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(y=u.ref);for(h in u)r.call(u,h)&&!s.hasOwnProperty(h)&&(f[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)f[h]===void 0&&(f[h]=u[h]);return{$$typeof:e,type:l,key:p,ref:y,props:f,_owner:i.current}}return iu.Fragment=n,iu.jsx=o,iu.jsxs=o,iu}var gC;function sD(){return gC||(gC=1,my.exports=iD()),my.exports}var g=sD(),_=Jx();const le=qx(_),gT=nD({__proto__:null,default:le},[_]);var Uh={},py={exports:{}},wr={},yy={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function oD(){return pC||(pC=1,function(t){function e(j,U){var Y=j.length;j.push(U);e:for(;0<Y;){var N=Y-1>>>1,L=j[N];if(0<i(L,U))j[N]=U,j[Y]=L,Y=N;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],Y=j.pop();if(Y!==U){j[0]=Y;e:for(var N=0,L=j.length,ne=L>>>1;N<ne;){var ie=2*(N+1)-1,ce=j[ie],ge=ie+1,ae=j[ge];if(0>i(ce,Y))ge<L&&0>i(ae,ce)?(j[N]=ae,j[ge]=Y,N=ge):(j[N]=ce,j[ie]=Y,N=ie);else if(ge<L&&0>i(ae,Y))j[N]=ae,j[ge]=Y,N=ge;else break e}}return U}function i(j,U){var Y=j.sortIndex-U.sortIndex;return Y!==0?Y:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,f=null,p=3,y=!1,v=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=j)r(d),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(d)}}function P(j){if(w=!1,T(j),!v)if(n(u)!==null)v=!0,$(k);else{var U=n(d);U!==null&&D(P,U.startTime-j)}}function k(j,U){v=!1,w&&(w=!1,b(I),I=-1),y=!0;var Y=p;try{for(T(U),f=n(u);f!==null&&(!(f.expirationTime>U)||j&&!V());){var N=f.callback;if(typeof N=="function"){f.callback=null,p=f.priorityLevel;var L=N(f.expirationTime<=U);U=t.unstable_now(),typeof L=="function"?f.callback=L:f===n(u)&&r(u),T(U)}else r(u);f=n(u)}if(f!==null)var ne=!0;else{var ie=n(d);ie!==null&&D(P,ie.startTime-U),ne=!1}return ne}finally{f=null,p=Y,y=!1}}var M=!1,F=null,I=-1,z=5,W=-1;function V(){return!(t.unstable_now()-W<z)}function X(){if(F!==null){var j=t.unstable_now();W=j;var U=!0;try{U=F(!0,j)}finally{U?G():(M=!1,F=null)}}else M=!1}var G;if(typeof R=="function")G=function(){R(X)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,J=te.port2;te.port1.onmessage=X,G=function(){J.postMessage(null)}}else G=function(){S(X,0)};function $(j){F=j,M||(M=!0,G())}function D(j,U){I=S(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,$(k))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var Y=p;p=U;try{return j()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=p;p=j;try{return U()}finally{p=Y}},t.unstable_scheduleCallback=function(j,U,Y){var N=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?N+Y:N):Y=N,j){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Y+L,j={id:h++,callback:U,priorityLevel:j,startTime:Y,expirationTime:L,sortIndex:-1},Y>N?(j.sortIndex=Y,e(d,j),n(u)===null&&j===n(d)&&(w?(b(I),I=-1):w=!0,D(P,Y-N))):(j.sortIndex=L,e(u,j),v||y||(v=!0,$(k))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var U=p;return function(){var Y=p;p=U;try{return j.apply(this,arguments)}finally{p=Y}}}}(xy)),xy}var yC;function aD(){return yC||(yC=1,yy.exports=oD()),yy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC;function lD(){if(xC)return wr;xC=1;var t=Jx(),e=aD();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(a){return u.call(f,a)?!0:u.call(h,a)?!1:d.test(a)?f[a]=!0:(h[a]=!0,!1)}function y(a,c,m,x){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function v(a,c,m,x){if(c===null||typeof c>"u"||y(a,c,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,m,x,C,E,A){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=m,this.propertyName=a,this.type=c,this.sanitizeURL=E,this.removeEmptyString=A}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){S[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];S[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){S[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){S[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){S[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){S[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){S[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){S[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){S[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(b,R);S[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(b,R);S[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(b,R);S[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){S[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){S[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,c,m,x){var C=S.hasOwnProperty(c)?S[c]:null;(C!==null?C.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(v(c,m,C,x)&&(m=null),x||C===null?p(c)&&(m===null?a.removeAttribute(c):a.setAttribute(c,""+m)):C.mustUseProperty?a[C.propertyName]=m===null?C.type===3?!1:"":m:(c=C.attributeName,x=C.attributeNamespace,m===null?a.removeAttribute(c):(C=C.type,m=C===3||C===4&&m===!0?"":""+m,x?a.setAttributeNS(x,c,m):a.setAttribute(c,m))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),M=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),V=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),j=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var Y=Object.assign,N;function L(a){if(N===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);N=c&&c[1]||""}return`
`+N+a}var ne=!1;function ie(a,c){if(!a||ne)return"";ne=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(re){var x=re}Reflect.construct(a,[],c)}else{try{c.call()}catch(re){x=re}a.call(c.prototype)}else{try{throw Error()}catch(re){x=re}a()}}catch(re){if(re&&x&&typeof re.stack=="string"){for(var C=re.stack.split(`
`),E=x.stack.split(`
`),A=C.length-1,O=E.length-1;1<=A&&0<=O&&C[A]!==E[O];)O--;for(;1<=A&&0<=O;A--,O--)if(C[A]!==E[O]){if(A!==1||O!==1)do if(A--,O--,0>O||C[A]!==E[O]){var H=`
`+C[A].replace(" at new "," at ");return a.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",a.displayName)),H}while(1<=A&&0<=O);break}}}finally{ne=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?L(a):""}function ce(a){switch(a.tag){case 5:return L(a.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return a=ie(a.type,!1),a;case 11:return a=ie(a.type.render,!1),a;case 1:return a=ie(a.type,!0),a;default:return""}}function ge(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case M:return"Portal";case z:return"Profiler";case I:return"StrictMode";case G:return"Suspense";case te:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case V:return(a.displayName||"Context")+".Consumer";case W:return(a._context.displayName||"Context")+".Provider";case X:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case J:return c=a.displayName||null,c!==null?c:ge(a.type)||"Memo";case $:c=a._payload,a=a._init;try{return ge(a(c))}catch{}}return null}function ae(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(c);case 8:return c===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function pe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function we(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function be(a){var c=we(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),x=""+a[c];if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,E=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return C.call(this)},set:function(A){x=""+A,E.call(this,A)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function $e(a){a._valueTracker||(a._valueTracker=be(a))}function Be(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return a&&(x=we(a)?a.checked?"true":"false":a.value),a=x,a!==m?(c.setValue(a),!0):!1}function _t(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function pt(a,c){var m=c.checked;return Y({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Dt(a,c){var m=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;m=pe(c.value!=null?c.value:m),a._wrapperState={initialChecked:x,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Vt(a,c){c=c.checked,c!=null&&T(a,"checked",c,!1)}function zt(a,c){Vt(a,c);var m=pe(c.value),x=c.type;if(m!=null)x==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(x==="submit"||x==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Tt(a,c.type,m):c.hasOwnProperty("defaultValue")&&Tt(a,c.type,pe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function On(a,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,m||c===a.value||(a.value=c),a.defaultValue=c}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function Tt(a,c,m){(c!=="number"||_t(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var B=Array.isArray;function Z(a,c,m,x){if(a=a.options,c){c={};for(var C=0;C<m.length;C++)c["$"+m[C]]=!0;for(m=0;m<a.length;m++)C=c.hasOwnProperty("$"+a[m].value),a[m].selected!==C&&(a[m].selected=C),C&&x&&(a[m].defaultSelected=!0)}else{for(m=""+pe(m),c=null,C=0;C<a.length;C++){if(a[C].value===m){a[C].selected=!0,x&&(a[C].defaultSelected=!0);return}c!==null||a[C].disabled||(c=a[C])}c!==null&&(c.selected=!0)}}function ee(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function he(a,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(n(92));if(B(m)){if(1<m.length)throw Error(n(93));m=m[0]}c=m}c==null&&(c=""),m=c}a._wrapperState={initialValue:pe(m)}}function fe(a,c){var m=pe(c.value),x=pe(c.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),c.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),x!=null&&(a.defaultValue=""+x)}function se(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function ye(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?ye(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ve,yt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,m,x,C){MSApp.execUnsafeLocalFunction(function(){return a(c,m,x,C)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ve.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function $t(a,c){if(c){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=c;return}}a.textContent=c}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wn=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(a){Wn.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),mt[c]=mt[a]})});function Hr(a,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||mt.hasOwnProperty(a)&&mt[a]?(""+c).trim():c+"px"}function kr(a,c){a=a.style;for(var m in c)if(c.hasOwnProperty(m)){var x=m.indexOf("--")===0,C=Hr(m,c[m],x);m==="float"&&(m="cssFloat"),x?a.setProperty(m,C):a[m]=C}}var Xr=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function or(a,c){if(c){if(Xr[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Pe(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function ut(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Pt=null,Zt=null,jt=null;function An(a){if(a=Gc(a)){if(typeof Pt!="function")throw Error(n(280));var c=a.stateNode;c&&(c=sh(c),Pt(a.stateNode,a.type,c))}}function ze(a){Zt?jt?jt.push(a):jt=[a]:Zt=a}function st(){if(Zt){var a=Zt,c=jt;if(jt=Zt=null,An(a),c)for(a=0;a<c.length;a++)An(c[a])}}function qe(a,c){return a(c)}function xt(){}var et=!1;function gt(a,c,m){if(et)return a(c,m);et=!0;try{return qe(a,c,m)}finally{et=!1,(Zt!==null||jt!==null)&&(xt(),st())}}function Qt(a,c){var m=a.stateNode;if(m===null)return null;var x=sh(m);if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,c,typeof m));return m}var Ar=!1;if(l)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{Ar=!1}function Bt(a,c,m,x,C,E,A,O,H){var re=Array.prototype.slice.call(arguments,3);try{c.apply(m,re)}catch(de){this.onError(de)}}var Mn=!1,gr=null,bc=!1,Ng=null,cj={onError:function(a){Mn=!0,gr=a}};function uj(a,c,m,x,C,E,A,O,H){Mn=!1,gr=null,Bt.apply(cj,arguments)}function dj(a,c,m,x,C,E,A,O,H){if(uj.apply(this,arguments),Mn){if(Mn){var re=gr;Mn=!1,gr=null}else throw Error(n(198));bc||(bc=!0,Ng=re)}}function Bo(a){var c=a,m=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(m=c.return),a=c.return;while(a)}return c.tag===3?m:null}function jw(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Lw(a){if(Bo(a)!==a)throw Error(n(188))}function hj(a){var c=a.alternate;if(!c){if(c=Bo(a),c===null)throw Error(n(188));return c!==a?null:a}for(var m=a,x=c;;){var C=m.return;if(C===null)break;var E=C.alternate;if(E===null){if(x=C.return,x!==null){m=x;continue}break}if(C.child===E.child){for(E=C.child;E;){if(E===m)return Lw(C),a;if(E===x)return Lw(C),c;E=E.sibling}throw Error(n(188))}if(m.return!==x.return)m=C,x=E;else{for(var A=!1,O=C.child;O;){if(O===m){A=!0,m=C,x=E;break}if(O===x){A=!0,x=C,m=E;break}O=O.sibling}if(!A){for(O=E.child;O;){if(O===m){A=!0,m=E,x=C;break}if(O===x){A=!0,x=E,m=C;break}O=O.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:c}function Dw(a){return a=hj(a),a!==null?Ow(a):null}function Ow(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=Ow(a);if(c!==null)return c;a=a.sibling}return null}var Vw=e.unstable_scheduleCallback,zw=e.unstable_cancelCallback,fj=e.unstable_shouldYield,mj=e.unstable_requestPaint,ln=e.unstable_now,gj=e.unstable_getCurrentPriorityLevel,Fg=e.unstable_ImmediatePriority,$w=e.unstable_UserBlockingPriority,Vd=e.unstable_NormalPriority,pj=e.unstable_LowPriority,Bw=e.unstable_IdlePriority,zd=null,$i=null;function yj(a){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(zd,a,void 0,(a.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:_j,xj=Math.log,vj=Math.LN2;function _j(a){return a>>>=0,a===0?32:31-(xj(a)/vj|0)|0}var $d=64,Bd=4194304;function Ec(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Gd(a,c){var m=a.pendingLanes;if(m===0)return 0;var x=0,C=a.suspendedLanes,E=a.pingedLanes,A=m&268435455;if(A!==0){var O=A&~C;O!==0?x=Ec(O):(E&=A,E!==0&&(x=Ec(E)))}else A=m&~C,A!==0?x=Ec(A):E!==0&&(x=Ec(E));if(x===0)return 0;if(c!==0&&c!==x&&(c&C)===0&&(C=x&-x,E=c&-c,C>=E||C===16&&(E&4194240)!==0))return c;if((x&4)!==0&&(x|=m&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=x;0<c;)m=31-li(c),C=1<<m,x|=a[m],c&=~C;return x}function wj(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sj(a,c){for(var m=a.suspendedLanes,x=a.pingedLanes,C=a.expirationTimes,E=a.pendingLanes;0<E;){var A=31-li(E),O=1<<A,H=C[A];H===-1?((O&m)===0||(O&x)!==0)&&(C[A]=wj(O,c)):H<=c&&(a.expiredLanes|=O),E&=~O}}function jg(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Gw(){var a=$d;return $d<<=1,($d&4194240)===0&&($d=64),a}function Lg(a){for(var c=[],m=0;31>m;m++)c.push(a);return c}function Rc(a,c,m){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-li(c),a[c]=m}function Cj(a,c){var m=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var x=a.eventTimes;for(a=a.expirationTimes;0<m;){var C=31-li(m),E=1<<C;c[C]=0,x[C]=-1,a[C]=-1,m&=~E}}function Dg(a,c){var m=a.entangledLanes|=c;for(a=a.entanglements;m;){var x=31-li(m),C=1<<x;C&c|a[x]&c&&(a[x]|=c),m&=~C}}var Mt=0;function Uw(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Ww,Og,Hw,Xw,Kw,Vg=!1,Ud=[],Gs=null,Us=null,Ws=null,Tc=new Map,Pc=new Map,Hs=[],bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(a,c){switch(a){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Tc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(c.pointerId)}}function kc(a,c,m,x,C,E){return a===null||a.nativeEvent!==E?(a={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:E,targetContainers:[C]},c!==null&&(c=Gc(c),c!==null&&Og(c)),a):(a.eventSystemFlags|=x,c=a.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),a)}function Ej(a,c,m,x,C){switch(c){case"focusin":return Gs=kc(Gs,a,c,m,x,C),!0;case"dragenter":return Us=kc(Us,a,c,m,x,C),!0;case"mouseover":return Ws=kc(Ws,a,c,m,x,C),!0;case"pointerover":var E=C.pointerId;return Tc.set(E,kc(Tc.get(E)||null,a,c,m,x,C)),!0;case"gotpointercapture":return E=C.pointerId,Pc.set(E,kc(Pc.get(E)||null,a,c,m,x,C)),!0}return!1}function Zw(a){var c=Go(a.target);if(c!==null){var m=Bo(c);if(m!==null){if(c=m.tag,c===13){if(c=jw(m),c!==null){a.blockedOn=c,Kw(a.priority,function(){Hw(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Wd(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var m=$g(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var x=new m.constructor(m.type,m);xe=x,m.target.dispatchEvent(x),xe=null}else return c=Gc(m),c!==null&&Og(c),a.blockedOn=m,!1;c.shift()}return!0}function qw(a,c,m){Wd(a)&&m.delete(c)}function Rj(){Vg=!1,Gs!==null&&Wd(Gs)&&(Gs=null),Us!==null&&Wd(Us)&&(Us=null),Ws!==null&&Wd(Ws)&&(Ws=null),Tc.forEach(qw),Pc.forEach(qw)}function Ac(a,c){a.blockedOn===c&&(a.blockedOn=null,Vg||(Vg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rj)))}function Mc(a){function c(C){return Ac(C,a)}if(0<Ud.length){Ac(Ud[0],a);for(var m=1;m<Ud.length;m++){var x=Ud[m];x.blockedOn===a&&(x.blockedOn=null)}}for(Gs!==null&&Ac(Gs,a),Us!==null&&Ac(Us,a),Ws!==null&&Ac(Ws,a),Tc.forEach(c),Pc.forEach(c),m=0;m<Hs.length;m++)x=Hs[m],x.blockedOn===a&&(x.blockedOn=null);for(;0<Hs.length&&(m=Hs[0],m.blockedOn===null);)Zw(m),m.blockedOn===null&&Hs.shift()}var Xa=P.ReactCurrentBatchConfig,Hd=!0;function Tj(a,c,m,x){var C=Mt,E=Xa.transition;Xa.transition=null;try{Mt=1,zg(a,c,m,x)}finally{Mt=C,Xa.transition=E}}function Pj(a,c,m,x){var C=Mt,E=Xa.transition;Xa.transition=null;try{Mt=4,zg(a,c,m,x)}finally{Mt=C,Xa.transition=E}}function zg(a,c,m,x){if(Hd){var C=$g(a,c,m,x);if(C===null)ip(a,c,x,Xd,m),Yw(a,x);else if(Ej(C,a,c,m,x))x.stopPropagation();else if(Yw(a,x),c&4&&-1<bj.indexOf(a)){for(;C!==null;){var E=Gc(C);if(E!==null&&Ww(E),E=$g(a,c,m,x),E===null&&ip(a,c,x,Xd,m),E===C)break;C=E}C!==null&&x.stopPropagation()}else ip(a,c,x,null,m)}}var Xd=null;function $g(a,c,m,x){if(Xd=null,a=ut(x),a=Go(a),a!==null)if(c=Bo(a),c===null)a=null;else if(m=c.tag,m===13){if(a=jw(c),a!==null)return a;a=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Xd=a,null}function Jw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gj()){case Fg:return 1;case $w:return 4;case Vd:case pj:return 16;case Bw:return 536870912;default:return 16}default:return 16}}var Xs=null,Bg=null,Kd=null;function Qw(){if(Kd)return Kd;var a,c=Bg,m=c.length,x,C="value"in Xs?Xs.value:Xs.textContent,E=C.length;for(a=0;a<m&&c[a]===C[a];a++);var A=m-a;for(x=1;x<=A&&c[m-x]===C[E-x];x++);return Kd=C.slice(a,1<x?1-x:void 0)}function Yd(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Zd(){return!0}function e1(){return!1}function Mr(a){function c(m,x,C,E,A){this._reactName=m,this._targetInst=C,this.type=x,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(m=a[O],this[O]=m?m(E):E[O]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Zd:e1,this.isPropagationStopped=e1,this}return Y(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),c}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gg=Mr(Ka),Ic=Y({},Ka,{view:0,detail:0}),kj=Mr(Ic),Ug,Wg,Nc,qd=Y({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Nc&&(Nc&&a.type==="mousemove"?(Ug=a.screenX-Nc.screenX,Wg=a.screenY-Nc.screenY):Wg=Ug=0,Nc=a),Ug)},movementY:function(a){return"movementY"in a?a.movementY:Wg}}),t1=Mr(qd),Aj=Y({},qd,{dataTransfer:0}),Mj=Mr(Aj),Ij=Y({},Ic,{relatedTarget:0}),Hg=Mr(Ij),Nj=Y({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Fj=Mr(Nj),jj=Y({},Ka,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Lj=Mr(jj),Dj=Y({},Ka,{data:0}),n1=Mr(Dj),Oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $j(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=zj[a])?!!c[a]:!1}function Xg(){return $j}var Bj=Y({},Ic,{key:function(a){if(a.key){var c=Oj[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Yd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Vj[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(a){return a.type==="keypress"?Yd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Gj=Mr(Bj),Uj=Y({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r1=Mr(Uj),Wj=Y({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),Hj=Mr(Wj),Xj=Y({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kj=Mr(Xj),Yj=Y({},qd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zj=Mr(Yj),qj=[9,13,27,32],Kg=l&&"CompositionEvent"in window,Fc=null;l&&"documentMode"in document&&(Fc=document.documentMode);var Jj=l&&"TextEvent"in window&&!Fc,i1=l&&(!Kg||Fc&&8<Fc&&11>=Fc),s1=" ",o1=!1;function a1(a,c){switch(a){case"keyup":return qj.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ya=!1;function Qj(a,c){switch(a){case"compositionend":return l1(c);case"keypress":return c.which!==32?null:(o1=!0,s1);case"textInput":return a=c.data,a===s1&&o1?null:a;default:return null}}function eL(a,c){if(Ya)return a==="compositionend"||!Kg&&a1(a,c)?(a=Qw(),Kd=Bg=Xs=null,Ya=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return i1&&c.locale!=="ko"?null:c.data;default:return null}}var tL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!tL[a.type]:c==="textarea"}function u1(a,c,m,x){ze(x),c=nh(c,"onChange"),0<c.length&&(m=new Gg("onChange","change",null,m,x),a.push({event:m,listeners:c}))}var jc=null,Lc=null;function nL(a){P1(a,0)}function Jd(a){var c=el(a);if(Be(c))return a}function rL(a,c){if(a==="change")return c}var d1=!1;if(l){var Yg;if(l){var Zg="oninput"in document;if(!Zg){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Zg=typeof h1.oninput=="function"}Yg=Zg}else Yg=!1;d1=Yg&&(!document.documentMode||9<document.documentMode)}function f1(){jc&&(jc.detachEvent("onpropertychange",m1),Lc=jc=null)}function m1(a){if(a.propertyName==="value"&&Jd(Lc)){var c=[];u1(c,Lc,a,ut(a)),gt(nL,c)}}function iL(a,c,m){a==="focusin"?(f1(),jc=c,Lc=m,jc.attachEvent("onpropertychange",m1)):a==="focusout"&&f1()}function sL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jd(Lc)}function oL(a,c){if(a==="click")return Jd(c)}function aL(a,c){if(a==="input"||a==="change")return Jd(c)}function lL(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var ci=typeof Object.is=="function"?Object.is:lL;function Dc(a,c){if(ci(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var m=Object.keys(a),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var C=m[x];if(!u.call(c,C)||!ci(a[C],c[C]))return!1}return!0}function g1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function p1(a,c){var m=g1(a);a=0;for(var x;m;){if(m.nodeType===3){if(x=a+m.textContent.length,a<=c&&x>=c)return{node:m,offset:c-a};a=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=g1(m)}}function y1(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?y1(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function x1(){for(var a=window,c=_t();c instanceof a.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)a=c.contentWindow;else break;c=_t(a.document)}return c}function qg(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function cL(a){var c=x1(),m=a.focusedElem,x=a.selectionRange;if(c!==m&&m&&m.ownerDocument&&y1(m.ownerDocument.documentElement,m)){if(x!==null&&qg(m)){if(c=x.start,a=x.end,a===void 0&&(a=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(a,m.value.length);else if(a=(c=m.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var C=m.textContent.length,E=Math.min(x.start,C);x=x.end===void 0?E:Math.min(x.end,C),!a.extend&&E>x&&(C=x,x=E,E=C),C=p1(m,E);var A=p1(m,x);C&&A&&(a.rangeCount!==1||a.anchorNode!==C.node||a.anchorOffset!==C.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),a.removeAllRanges(),E>x?(a.addRange(c),a.extend(A.node,A.offset)):(c.setEnd(A.node,A.offset),a.addRange(c)))}}for(c=[],a=m;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)a=c[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var uL=l&&"documentMode"in document&&11>=document.documentMode,Za=null,Jg=null,Oc=null,Qg=!1;function v1(a,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Qg||Za==null||Za!==_t(x)||(x=Za,"selectionStart"in x&&qg(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Oc&&Dc(Oc,x)||(Oc=x,x=nh(Jg,"onSelect"),0<x.length&&(c=new Gg("onSelect","select",null,c,m),a.push({event:c,listeners:x}),c.target=Za)))}function Qd(a,c){var m={};return m[a.toLowerCase()]=c.toLowerCase(),m["Webkit"+a]="webkit"+c,m["Moz"+a]="moz"+c,m}var qa={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionend:Qd("Transition","TransitionEnd")},ep={},_1={};l&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function eh(a){if(ep[a])return ep[a];if(!qa[a])return a;var c=qa[a],m;for(m in c)if(c.hasOwnProperty(m)&&m in _1)return ep[a]=c[m];return a}var w1=eh("animationend"),S1=eh("animationiteration"),C1=eh("animationstart"),b1=eh("transitionend"),E1=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(a,c){E1.set(a,c),s(c,[a])}for(var tp=0;tp<R1.length;tp++){var np=R1[tp],dL=np.toLowerCase(),hL=np[0].toUpperCase()+np.slice(1);Ks(dL,"on"+hL)}Ks(w1,"onAnimationEnd"),Ks(S1,"onAnimationIteration"),Ks(C1,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(b1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vc));function T1(a,c,m){var x=a.type||"unknown-event";a.currentTarget=m,dj(x,c,void 0,a),a.currentTarget=null}function P1(a,c){c=(c&4)!==0;for(var m=0;m<a.length;m++){var x=a[m],C=x.event;x=x.listeners;e:{var E=void 0;if(c)for(var A=x.length-1;0<=A;A--){var O=x[A],H=O.instance,re=O.currentTarget;if(O=O.listener,H!==E&&C.isPropagationStopped())break e;T1(C,O,re),E=H}else for(A=0;A<x.length;A++){if(O=x[A],H=O.instance,re=O.currentTarget,O=O.listener,H!==E&&C.isPropagationStopped())break e;T1(C,O,re),E=H}}}if(bc)throw a=Ng,bc=!1,Ng=null,a}function Ht(a,c){var m=c[up];m===void 0&&(m=c[up]=new Set);var x=a+"__bubble";m.has(x)||(k1(c,a,2,!1),m.add(x))}function rp(a,c,m){var x=0;c&&(x|=4),k1(m,a,x,c)}var th="_reactListening"+Math.random().toString(36).slice(2);function zc(a){if(!a[th]){a[th]=!0,r.forEach(function(m){m!=="selectionchange"&&(fL.has(m)||rp(m,!1,a),rp(m,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[th]||(c[th]=!0,rp("selectionchange",!1,c))}}function k1(a,c,m,x){switch(Jw(c)){case 1:var C=Tj;break;case 4:C=Pj;break;default:C=zg}m=C.bind(null,c,m,a),C=void 0,!Ar||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),x?C!==void 0?a.addEventListener(c,m,{capture:!0,passive:C}):a.addEventListener(c,m,!0):C!==void 0?a.addEventListener(c,m,{passive:C}):a.addEventListener(c,m,!1)}function ip(a,c,m,x,C){var E=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var O=x.stateNode.containerInfo;if(O===C||O.nodeType===8&&O.parentNode===C)break;if(A===4)for(A=x.return;A!==null;){var H=A.tag;if((H===3||H===4)&&(H=A.stateNode.containerInfo,H===C||H.nodeType===8&&H.parentNode===C))return;A=A.return}for(;O!==null;){if(A=Go(O),A===null)return;if(H=A.tag,H===5||H===6){x=E=A;continue e}O=O.parentNode}}x=x.return}gt(function(){var re=E,de=ut(m),me=[];e:{var ue=E1.get(a);if(ue!==void 0){var Ee=Gg,Ae=a;switch(a){case"keypress":if(Yd(m)===0)break e;case"keydown":case"keyup":Ee=Gj;break;case"focusin":Ae="focus",Ee=Hg;break;case"focusout":Ae="blur",Ee=Hg;break;case"beforeblur":case"afterblur":Ee=Hg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=t1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=Hj;break;case w1:case S1:case C1:Ee=Fj;break;case b1:Ee=Kj;break;case"scroll":Ee=kj;break;case"wheel":Ee=Zj;break;case"copy":case"cut":case"paste":Ee=Lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=r1}var Ne=(c&4)!==0,cn=!Ne&&a==="scroll",q=Ne?ue!==null?ue+"Capture":null:ue;Ne=[];for(var K=re,Q;K!==null;){Q=K;var ve=Q.stateNode;if(Q.tag===5&&ve!==null&&(Q=ve,q!==null&&(ve=Qt(K,q),ve!=null&&Ne.push($c(K,ve,Q)))),cn)break;K=K.return}0<Ne.length&&(ue=new Ee(ue,Ae,null,m,de),me.push({event:ue,listeners:Ne}))}}if((c&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",ue&&m!==xe&&(Ae=m.relatedTarget||m.fromElement)&&(Go(Ae)||Ae[fs]))break e;if((Ee||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,Ee?(Ae=m.relatedTarget||m.toElement,Ee=re,Ae=Ae?Go(Ae):null,Ae!==null&&(cn=Bo(Ae),Ae!==cn||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Ee=null,Ae=re),Ee!==Ae)){if(Ne=t1,ve="onMouseLeave",q="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=r1,ve="onPointerLeave",q="onPointerEnter",K="pointer"),cn=Ee==null?ue:el(Ee),Q=Ae==null?ue:el(Ae),ue=new Ne(ve,K+"leave",Ee,m,de),ue.target=cn,ue.relatedTarget=Q,ve=null,Go(de)===re&&(Ne=new Ne(q,K+"enter",Ae,m,de),Ne.target=Q,Ne.relatedTarget=cn,ve=Ne),cn=ve,Ee&&Ae)t:{for(Ne=Ee,q=Ae,K=0,Q=Ne;Q;Q=Ja(Q))K++;for(Q=0,ve=q;ve;ve=Ja(ve))Q++;for(;0<K-Q;)Ne=Ja(Ne),K--;for(;0<Q-K;)q=Ja(q),Q--;for(;K--;){if(Ne===q||q!==null&&Ne===q.alternate)break t;Ne=Ja(Ne),q=Ja(q)}Ne=null}else Ne=null;Ee!==null&&A1(me,ue,Ee,Ne,!1),Ae!==null&&cn!==null&&A1(me,cn,Ae,Ne,!0)}}e:{if(ue=re?el(re):window,Ee=ue.nodeName&&ue.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&ue.type==="file")var je=rL;else if(c1(ue))if(d1)je=aL;else{je=sL;var He=iL}else(Ee=ue.nodeName)&&Ee.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(je=oL);if(je&&(je=je(a,re))){u1(me,je,m,de);break e}He&&He(a,ue,re),a==="focusout"&&(He=ue._wrapperState)&&He.controlled&&ue.type==="number"&&Tt(ue,"number",ue.value)}switch(He=re?el(re):window,a){case"focusin":(c1(He)||He.contentEditable==="true")&&(Za=He,Jg=re,Oc=null);break;case"focusout":Oc=Jg=Za=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,v1(me,m,de);break;case"selectionchange":if(uL)break;case"keydown":case"keyup":v1(me,m,de)}var Xe;if(Kg)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ya?a1(a,m)&&(Je="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(Je="onCompositionStart");Je&&(i1&&m.locale!=="ko"&&(Ya||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ya&&(Xe=Qw()):(Xs=de,Bg="value"in Xs?Xs.value:Xs.textContent,Ya=!0)),He=nh(re,Je),0<He.length&&(Je=new n1(Je,a,null,m,de),me.push({event:Je,listeners:He}),Xe?Je.data=Xe:(Xe=l1(m),Xe!==null&&(Je.data=Xe)))),(Xe=Jj?Qj(a,m):eL(a,m))&&(re=nh(re,"onBeforeInput"),0<re.length&&(de=new n1("onBeforeInput","beforeinput",null,m,de),me.push({event:de,listeners:re}),de.data=Xe))}P1(me,c)})}function $c(a,c,m){return{instance:a,listener:c,currentTarget:m}}function nh(a,c){for(var m=c+"Capture",x=[];a!==null;){var C=a,E=C.stateNode;C.tag===5&&E!==null&&(C=E,E=Qt(a,m),E!=null&&x.unshift($c(a,E,C)),E=Qt(a,c),E!=null&&x.push($c(a,E,C))),a=a.return}return x}function Ja(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function A1(a,c,m,x,C){for(var E=c._reactName,A=[];m!==null&&m!==x;){var O=m,H=O.alternate,re=O.stateNode;if(H!==null&&H===x)break;O.tag===5&&re!==null&&(O=re,C?(H=Qt(m,E),H!=null&&A.unshift($c(m,H,O))):C||(H=Qt(m,E),H!=null&&A.push($c(m,H,O)))),m=m.return}A.length!==0&&a.push({event:c,listeners:A})}var mL=/\r\n?/g,gL=/\u0000|\uFFFD/g;function M1(a){return(typeof a=="string"?a:""+a).replace(mL,`
`).replace(gL,"")}function rh(a,c,m){if(c=M1(c),M1(a)!==c&&m)throw Error(n(425))}function ih(){}var sp=null,op=null;function ap(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,pL=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,yL=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(a){return I1.resolve(null).then(a).catch(xL)}:lp;function xL(a){setTimeout(function(){throw a})}function cp(a,c){var m=c,x=0;do{var C=m.nextSibling;if(a.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"){if(x===0){a.removeChild(C),Mc(c);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=C}while(m);Mc(c)}function Ys(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function N1(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return a;c--}else m==="/$"&&c++}a=a.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Qa,Bc="__reactProps$"+Qa,fs="__reactContainer$"+Qa,up="__reactEvents$"+Qa,vL="__reactListeners$"+Qa,_L="__reactHandles$"+Qa;function Go(a){var c=a[Bi];if(c)return c;for(var m=a.parentNode;m;){if(c=m[fs]||m[Bi]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(a=N1(a);a!==null;){if(m=a[Bi])return m;a=N1(a)}return c}a=m,m=a.parentNode}return null}function Gc(a){return a=a[Bi]||a[fs],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function el(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function sh(a){return a[Bc]||null}var dp=[],tl=-1;function Zs(a){return{current:a}}function Xt(a){0>tl||(a.current=dp[tl],dp[tl]=null,tl--)}function Gt(a,c){tl++,dp[tl]=a.current,a.current=c}var qs={},Hn=Zs(qs),pr=Zs(!1),Uo=qs;function nl(a,c){var m=a.type.contextTypes;if(!m)return qs;var x=a.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var C={},E;for(E in m)C[E]=c[E];return x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=C),C}function yr(a){return a=a.childContextTypes,a!=null}function oh(){Xt(pr),Xt(Hn)}function F1(a,c,m){if(Hn.current!==qs)throw Error(n(168));Gt(Hn,c),Gt(pr,m)}function j1(a,c,m){var x=a.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var C in x)if(!(C in c))throw Error(n(108,ae(a)||"Unknown",C));return Y({},m,x)}function ah(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||qs,Uo=Hn.current,Gt(Hn,a),Gt(pr,pr.current),!0}function L1(a,c,m){var x=a.stateNode;if(!x)throw Error(n(169));m?(a=j1(a,c,Uo),x.__reactInternalMemoizedMergedChildContext=a,Xt(pr),Xt(Hn),Gt(Hn,a)):Xt(pr),Gt(pr,m)}var ms=null,lh=!1,hp=!1;function D1(a){ms===null?ms=[a]:ms.push(a)}function wL(a){lh=!0,D1(a)}function Js(){if(!hp&&ms!==null){hp=!0;var a=0,c=Mt;try{var m=ms;for(Mt=1;a<m.length;a++){var x=m[a];do x=x(!0);while(x!==null)}ms=null,lh=!1}catch(C){throw ms!==null&&(ms=ms.slice(a+1)),Vw(Fg,Js),C}finally{Mt=c,hp=!1}}return null}var rl=[],il=0,ch=null,uh=0,Kr=[],Yr=0,Wo=null,gs=1,ps="";function Ho(a,c){rl[il++]=uh,rl[il++]=ch,ch=a,uh=c}function O1(a,c,m){Kr[Yr++]=gs,Kr[Yr++]=ps,Kr[Yr++]=Wo,Wo=a;var x=gs;a=ps;var C=32-li(x)-1;x&=~(1<<C),m+=1;var E=32-li(c)+C;if(30<E){var A=C-C%5;E=(x&(1<<A)-1).toString(32),x>>=A,C-=A,gs=1<<32-li(c)+C|m<<C|x,ps=E+a}else gs=1<<E|m<<C|x,ps=a}function fp(a){a.return!==null&&(Ho(a,1),O1(a,1,0))}function mp(a){for(;a===ch;)ch=rl[--il],rl[il]=null,uh=rl[--il],rl[il]=null;for(;a===Wo;)Wo=Kr[--Yr],Kr[Yr]=null,ps=Kr[--Yr],Kr[Yr]=null,gs=Kr[--Yr],Kr[Yr]=null}var Ir=null,Nr=null,qt=!1,ui=null;function V1(a,c){var m=Qr(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=a,c=a.deletions,c===null?(a.deletions=[m],a.flags|=16):c.push(m)}function z1(a,c){switch(a.tag){case 5:var m=a.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Ir=a,Nr=Ys(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Ir=a,Nr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=Wo!==null?{id:gs,overflow:ps}:null,a.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=Qr(18,null,null,0),m.stateNode=c,m.return=a,a.child=m,Ir=a,Nr=null,!0):!1;default:return!1}}function gp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function pp(a){if(qt){var c=Nr;if(c){var m=c;if(!z1(a,c)){if(gp(a))throw Error(n(418));c=Ys(m.nextSibling);var x=Ir;c&&z1(a,c)?V1(x,m):(a.flags=a.flags&-4097|2,qt=!1,Ir=a)}}else{if(gp(a))throw Error(n(418));a.flags=a.flags&-4097|2,qt=!1,Ir=a}}}function $1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ir=a}function dh(a){if(a!==Ir)return!1;if(!qt)return $1(a),qt=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!ap(a.type,a.memoizedProps)),c&&(c=Nr)){if(gp(a))throw B1(),Error(n(418));for(;c;)V1(a,c),c=Ys(c.nextSibling)}if($1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(c===0){Nr=Ys(a.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}a=a.nextSibling}Nr=null}}else Nr=Ir?Ys(a.stateNode.nextSibling):null;return!0}function B1(){for(var a=Nr;a;)a=Ys(a.nextSibling)}function sl(){Nr=Ir=null,qt=!1}function yp(a){ui===null?ui=[a]:ui.push(a)}var SL=P.ReactCurrentBatchConfig;function Uc(a,c,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,a));var C=x,E=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===E?c.ref:(c=function(A){var O=C.refs;A===null?delete O[E]:O[E]=A},c._stringRef=E,c)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function hh(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function G1(a){var c=a._init;return c(a._payload)}function U1(a){function c(q,K){if(a){var Q=q.deletions;Q===null?(q.deletions=[K],q.flags|=16):Q.push(K)}}function m(q,K){if(!a)return null;for(;K!==null;)c(q,K),K=K.sibling;return null}function x(q,K){for(q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function C(q,K){return q=oo(q,K),q.index=0,q.sibling=null,q}function E(q,K,Q){return q.index=Q,a?(Q=q.alternate,Q!==null?(Q=Q.index,Q<K?(q.flags|=2,K):Q):(q.flags|=2,K)):(q.flags|=1048576,K)}function A(q){return a&&q.alternate===null&&(q.flags|=2),q}function O(q,K,Q,ve){return K===null||K.tag!==6?(K=ly(Q,q.mode,ve),K.return=q,K):(K=C(K,Q),K.return=q,K)}function H(q,K,Q,ve){var je=Q.type;return je===F?de(q,K,Q.props.children,ve,Q.key):K!==null&&(K.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===$&&G1(je)===K.type)?(ve=C(K,Q.props),ve.ref=Uc(q,K,Q),ve.return=q,ve):(ve=Lh(Q.type,Q.key,Q.props,null,q.mode,ve),ve.ref=Uc(q,K,Q),ve.return=q,ve)}function re(q,K,Q,ve){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=cy(Q,q.mode,ve),K.return=q,K):(K=C(K,Q.children||[]),K.return=q,K)}function de(q,K,Q,ve,je){return K===null||K.tag!==7?(K=ea(Q,q.mode,ve,je),K.return=q,K):(K=C(K,Q),K.return=q,K)}function me(q,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number")return K=ly(""+K,q.mode,Q),K.return=q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return Q=Lh(K.type,K.key,K.props,null,q.mode,Q),Q.ref=Uc(q,null,K),Q.return=q,Q;case M:return K=cy(K,q.mode,Q),K.return=q,K;case $:var ve=K._init;return me(q,ve(K._payload),Q)}if(B(K)||U(K))return K=ea(K,q.mode,Q,null),K.return=q,K;hh(q,K)}return null}function ue(q,K,Q,ve){var je=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return je!==null?null:O(q,K,""+Q,ve);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return Q.key===je?H(q,K,Q,ve):null;case M:return Q.key===je?re(q,K,Q,ve):null;case $:return je=Q._init,ue(q,K,je(Q._payload),ve)}if(B(Q)||U(Q))return je!==null?null:de(q,K,Q,ve,null);hh(q,Q)}return null}function Ee(q,K,Q,ve,je){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return q=q.get(Q)||null,O(K,q,""+ve,je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case k:return q=q.get(ve.key===null?Q:ve.key)||null,H(K,q,ve,je);case M:return q=q.get(ve.key===null?Q:ve.key)||null,re(K,q,ve,je);case $:var He=ve._init;return Ee(q,K,Q,He(ve._payload),je)}if(B(ve)||U(ve))return q=q.get(Q)||null,de(K,q,ve,je,null);hh(K,ve)}return null}function Ae(q,K,Q,ve){for(var je=null,He=null,Xe=K,Je=K=0,Fn=null;Xe!==null&&Je<Q.length;Je++){Xe.index>Je?(Fn=Xe,Xe=null):Fn=Xe.sibling;var bt=ue(q,Xe,Q[Je],ve);if(bt===null){Xe===null&&(Xe=Fn);break}a&&Xe&&bt.alternate===null&&c(q,Xe),K=E(bt,K,Je),He===null?je=bt:He.sibling=bt,He=bt,Xe=Fn}if(Je===Q.length)return m(q,Xe),qt&&Ho(q,Je),je;if(Xe===null){for(;Je<Q.length;Je++)Xe=me(q,Q[Je],ve),Xe!==null&&(K=E(Xe,K,Je),He===null?je=Xe:He.sibling=Xe,He=Xe);return qt&&Ho(q,Je),je}for(Xe=x(q,Xe);Je<Q.length;Je++)Fn=Ee(Xe,q,Je,Q[Je],ve),Fn!==null&&(a&&Fn.alternate!==null&&Xe.delete(Fn.key===null?Je:Fn.key),K=E(Fn,K,Je),He===null?je=Fn:He.sibling=Fn,He=Fn);return a&&Xe.forEach(function(ao){return c(q,ao)}),qt&&Ho(q,Je),je}function Ne(q,K,Q,ve){var je=U(Q);if(typeof je!="function")throw Error(n(150));if(Q=je.call(Q),Q==null)throw Error(n(151));for(var He=je=null,Xe=K,Je=K=0,Fn=null,bt=Q.next();Xe!==null&&!bt.done;Je++,bt=Q.next()){Xe.index>Je?(Fn=Xe,Xe=null):Fn=Xe.sibling;var ao=ue(q,Xe,bt.value,ve);if(ao===null){Xe===null&&(Xe=Fn);break}a&&Xe&&ao.alternate===null&&c(q,Xe),K=E(ao,K,Je),He===null?je=ao:He.sibling=ao,He=ao,Xe=Fn}if(bt.done)return m(q,Xe),qt&&Ho(q,Je),je;if(Xe===null){for(;!bt.done;Je++,bt=Q.next())bt=me(q,bt.value,ve),bt!==null&&(K=E(bt,K,Je),He===null?je=bt:He.sibling=bt,He=bt);return qt&&Ho(q,Je),je}for(Xe=x(q,Xe);!bt.done;Je++,bt=Q.next())bt=Ee(Xe,q,Je,bt.value,ve),bt!==null&&(a&&bt.alternate!==null&&Xe.delete(bt.key===null?Je:bt.key),K=E(bt,K,Je),He===null?je=bt:He.sibling=bt,He=bt);return a&&Xe.forEach(function(tD){return c(q,tD)}),qt&&Ho(q,Je),je}function cn(q,K,Q,ve){if(typeof Q=="object"&&Q!==null&&Q.type===F&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:e:{for(var je=Q.key,He=K;He!==null;){if(He.key===je){if(je=Q.type,je===F){if(He.tag===7){m(q,He.sibling),K=C(He,Q.props.children),K.return=q,q=K;break e}}else if(He.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===$&&G1(je)===He.type){m(q,He.sibling),K=C(He,Q.props),K.ref=Uc(q,He,Q),K.return=q,q=K;break e}m(q,He);break}else c(q,He);He=He.sibling}Q.type===F?(K=ea(Q.props.children,q.mode,ve,Q.key),K.return=q,q=K):(ve=Lh(Q.type,Q.key,Q.props,null,q.mode,ve),ve.ref=Uc(q,K,Q),ve.return=q,q=ve)}return A(q);case M:e:{for(He=Q.key;K!==null;){if(K.key===He)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){m(q,K.sibling),K=C(K,Q.children||[]),K.return=q,q=K;break e}else{m(q,K);break}else c(q,K);K=K.sibling}K=cy(Q,q.mode,ve),K.return=q,q=K}return A(q);case $:return He=Q._init,cn(q,K,He(Q._payload),ve)}if(B(Q))return Ae(q,K,Q,ve);if(U(Q))return Ne(q,K,Q,ve);hh(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,K!==null&&K.tag===6?(m(q,K.sibling),K=C(K,Q),K.return=q,q=K):(m(q,K),K=ly(Q,q.mode,ve),K.return=q,q=K),A(q)):m(q,K)}return cn}var ol=U1(!0),W1=U1(!1),fh=Zs(null),mh=null,al=null,xp=null;function vp(){xp=al=mh=null}function _p(a){var c=fh.current;Xt(fh),a._currentValue=c}function wp(a,c,m){for(;a!==null;){var x=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),a===m)break;a=a.return}}function ll(a,c){mh=a,xp=al=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(xr=!0),a.firstContext=null)}function Zr(a){var c=a._currentValue;if(xp!==a)if(a={context:a,memoizedValue:c,next:null},al===null){if(mh===null)throw Error(n(308));al=a,mh.dependencies={lanes:0,firstContext:a}}else al=al.next=a;return c}var Xo=null;function Sp(a){Xo===null?Xo=[a]:Xo.push(a)}function H1(a,c,m,x){var C=c.interleaved;return C===null?(m.next=m,Sp(c)):(m.next=C.next,C.next=m),c.interleaved=m,ys(a,x)}function ys(a,c){a.lanes|=c;var m=a.alternate;for(m!==null&&(m.lanes|=c),m=a,a=a.return;a!==null;)a.childLanes|=c,m=a.alternate,m!==null&&(m.childLanes|=c),m=a,a=a.return;return m.tag===3?m.stateNode:null}var Qs=!1;function Cp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X1(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function xs(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function eo(a,c,m){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(wt&2)!==0){var C=x.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),x.pending=c,ys(a,m)}return C=x.interleaved,C===null?(c.next=c,Sp(x)):(c.next=C.next,C.next=c),x.interleaved=c,ys(a,m)}function gh(a,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var x=c.lanes;x&=a.pendingLanes,m|=x,c.lanes=m,Dg(a,m)}}function K1(a,c){var m=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var C=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?C=E=A:E=E.next=A,m=m.next}while(m!==null);E===null?C=E=c:E=E.next=c}else C=E=c;m={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:E,shared:x.shared,effects:x.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=c}function ph(a,c,m,x){var C=a.updateQueue;Qs=!1;var E=C.firstBaseUpdate,A=C.lastBaseUpdate,O=C.shared.pending;if(O!==null){C.shared.pending=null;var H=O,re=H.next;H.next=null,A===null?E=re:A.next=re,A=H;var de=a.alternate;de!==null&&(de=de.updateQueue,O=de.lastBaseUpdate,O!==A&&(O===null?de.firstBaseUpdate=re:O.next=re,de.lastBaseUpdate=H))}if(E!==null){var me=C.baseState;A=0,de=re=H=null,O=E;do{var ue=O.lane,Ee=O.eventTime;if((x&ue)===ue){de!==null&&(de=de.next={eventTime:Ee,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ae=a,Ne=O;switch(ue=c,Ee=m,Ne.tag){case 1:if(Ae=Ne.payload,typeof Ae=="function"){me=Ae.call(Ee,me,ue);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ne.payload,ue=typeof Ae=="function"?Ae.call(Ee,me,ue):Ae,ue==null)break e;me=Y({},me,ue);break e;case 2:Qs=!0}}O.callback!==null&&O.lane!==0&&(a.flags|=64,ue=C.effects,ue===null?C.effects=[O]:ue.push(O))}else Ee={eventTime:Ee,lane:ue,tag:O.tag,payload:O.payload,callback:O.callback,next:null},de===null?(re=de=Ee,H=me):de=de.next=Ee,A|=ue;if(O=O.next,O===null){if(O=C.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,C.lastBaseUpdate=ue,C.shared.pending=null}}while(!0);if(de===null&&(H=me),C.baseState=H,C.firstBaseUpdate=re,C.lastBaseUpdate=de,c=C.shared.interleaved,c!==null){C=c;do A|=C.lane,C=C.next;while(C!==c)}else E===null&&(C.shared.lanes=0);Zo|=A,a.lanes=A,a.memoizedState=me}}function Y1(a,c,m){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var x=a[c],C=x.callback;if(C!==null){if(x.callback=null,x=m,typeof C!="function")throw Error(n(191,C));C.call(x)}}}var Wc={},Gi=Zs(Wc),Hc=Zs(Wc),Xc=Zs(Wc);function Ko(a){if(a===Wc)throw Error(n(174));return a}function bp(a,c){switch(Gt(Xc,c),Gt(Hc,a),Gt(Gi,Wc),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:De(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=De(c,a)}Xt(Gi),Gt(Gi,c)}function cl(){Xt(Gi),Xt(Hc),Xt(Xc)}function Z1(a){Ko(Xc.current);var c=Ko(Gi.current),m=De(c,a.type);c!==m&&(Gt(Hc,a),Gt(Gi,m))}function Ep(a){Hc.current===a&&(Xt(Gi),Xt(Hc))}var en=Zs(0);function yh(a){for(var c=a;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Rp=[];function Tp(){for(var a=0;a<Rp.length;a++)Rp[a]._workInProgressVersionPrimary=null;Rp.length=0}var xh=P.ReactCurrentDispatcher,Pp=P.ReactCurrentBatchConfig,Yo=0,tn=null,Sn=null,In=null,vh=!1,Kc=!1,Yc=0,CL=0;function Xn(){throw Error(n(321))}function kp(a,c){if(c===null)return!1;for(var m=0;m<c.length&&m<a.length;m++)if(!ci(a[m],c[m]))return!1;return!0}function Ap(a,c,m,x,C,E){if(Yo=E,tn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,xh.current=a===null||a.memoizedState===null?TL:PL,a=m(x,C),Kc){E=0;do{if(Kc=!1,Yc=0,25<=E)throw Error(n(301));E+=1,In=Sn=null,c.updateQueue=null,xh.current=kL,a=m(x,C)}while(Kc)}if(xh.current=Sh,c=Sn!==null&&Sn.next!==null,Yo=0,In=Sn=tn=null,vh=!1,c)throw Error(n(300));return a}function Mp(){var a=Yc!==0;return Yc=0,a}function Ui(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?tn.memoizedState=In=a:In=In.next=a,In}function qr(){if(Sn===null){var a=tn.alternate;a=a!==null?a.memoizedState:null}else a=Sn.next;var c=In===null?tn.memoizedState:In.next;if(c!==null)In=c,Sn=a;else{if(a===null)throw Error(n(310));Sn=a,a={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},In===null?tn.memoizedState=In=a:In=In.next=a}return In}function Zc(a,c){return typeof c=="function"?c(a):c}function Ip(a){var c=qr(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var x=Sn,C=x.baseQueue,E=m.pending;if(E!==null){if(C!==null){var A=C.next;C.next=E.next,E.next=A}x.baseQueue=C=E,m.pending=null}if(C!==null){E=C.next,x=x.baseState;var O=A=null,H=null,re=E;do{var de=re.lane;if((Yo&de)===de)H!==null&&(H=H.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),x=re.hasEagerState?re.eagerState:a(x,re.action);else{var me={lane:de,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};H===null?(O=H=me,A=x):H=H.next=me,tn.lanes|=de,Zo|=de}re=re.next}while(re!==null&&re!==E);H===null?A=x:H.next=O,ci(x,c.memoizedState)||(xr=!0),c.memoizedState=x,c.baseState=A,c.baseQueue=H,m.lastRenderedState=x}if(a=m.interleaved,a!==null){C=a;do E=C.lane,tn.lanes|=E,Zo|=E,C=C.next;while(C!==a)}else C===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function Np(a){var c=qr(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var x=m.dispatch,C=m.pending,E=c.memoizedState;if(C!==null){m.pending=null;var A=C=C.next;do E=a(E,A.action),A=A.next;while(A!==C);ci(E,c.memoizedState)||(xr=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),m.lastRenderedState=E}return[E,x]}function q1(){}function J1(a,c){var m=tn,x=qr(),C=c(),E=!ci(x.memoizedState,C);if(E&&(x.memoizedState=C,xr=!0),x=x.queue,Fp(tS.bind(null,m,x,a),[a]),x.getSnapshot!==c||E||In!==null&&In.memoizedState.tag&1){if(m.flags|=2048,qc(9,eS.bind(null,m,x,C,c),void 0,null),Nn===null)throw Error(n(349));(Yo&30)!==0||Q1(m,c,C)}return C}function Q1(a,c,m){a.flags|=16384,a={getSnapshot:c,value:m},c=tn.updateQueue,c===null?(c={lastEffect:null,stores:null},tn.updateQueue=c,c.stores=[a]):(m=c.stores,m===null?c.stores=[a]:m.push(a))}function eS(a,c,m,x){c.value=m,c.getSnapshot=x,nS(c)&&rS(a)}function tS(a,c,m){return m(function(){nS(c)&&rS(a)})}function nS(a){var c=a.getSnapshot;a=a.value;try{var m=c();return!ci(a,m)}catch{return!0}}function rS(a){var c=ys(a,1);c!==null&&mi(c,a,1,-1)}function iS(a){var c=Ui();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:a},c.queue=a,a=a.dispatch=RL.bind(null,tn,a),[c.memoizedState,a]}function qc(a,c,m,x){return a={tag:a,create:c,destroy:m,deps:x,next:null},c=tn.updateQueue,c===null?(c={lastEffect:null,stores:null},tn.updateQueue=c,c.lastEffect=a.next=a):(m=c.lastEffect,m===null?c.lastEffect=a.next=a:(x=m.next,m.next=a,a.next=x,c.lastEffect=a)),a}function sS(){return qr().memoizedState}function _h(a,c,m,x){var C=Ui();tn.flags|=a,C.memoizedState=qc(1|c,m,void 0,x===void 0?null:x)}function wh(a,c,m,x){var C=qr();x=x===void 0?null:x;var E=void 0;if(Sn!==null){var A=Sn.memoizedState;if(E=A.destroy,x!==null&&kp(x,A.deps)){C.memoizedState=qc(c,m,E,x);return}}tn.flags|=a,C.memoizedState=qc(1|c,m,E,x)}function oS(a,c){return _h(8390656,8,a,c)}function Fp(a,c){return wh(2048,8,a,c)}function aS(a,c){return wh(4,2,a,c)}function lS(a,c){return wh(4,4,a,c)}function cS(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function uS(a,c,m){return m=m!=null?m.concat([a]):null,wh(4,4,cS.bind(null,c,a),m)}function jp(){}function dS(a,c){var m=qr();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&kp(c,x[1])?x[0]:(m.memoizedState=[a,c],a)}function hS(a,c){var m=qr();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&kp(c,x[1])?x[0]:(a=a(),m.memoizedState=[a,c],a)}function fS(a,c,m){return(Yo&21)===0?(a.baseState&&(a.baseState=!1,xr=!0),a.memoizedState=m):(ci(m,c)||(m=Gw(),tn.lanes|=m,Zo|=m,a.baseState=!0),c)}function bL(a,c){var m=Mt;Mt=m!==0&&4>m?m:4,a(!0);var x=Pp.transition;Pp.transition={};try{a(!1),c()}finally{Mt=m,Pp.transition=x}}function mS(){return qr().memoizedState}function EL(a,c,m){var x=io(a);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},gS(a))pS(c,m);else if(m=H1(a,c,m,x),m!==null){var C=lr();mi(m,a,x,C),yS(m,c,x)}}function RL(a,c,m){var x=io(a),C={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(gS(a))pS(c,C);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var A=c.lastRenderedState,O=E(A,m);if(C.hasEagerState=!0,C.eagerState=O,ci(O,A)){var H=c.interleaved;H===null?(C.next=C,Sp(c)):(C.next=H.next,H.next=C),c.interleaved=C;return}}catch{}finally{}m=H1(a,c,C,x),m!==null&&(C=lr(),mi(m,a,x,C),yS(m,c,x))}}function gS(a){var c=a.alternate;return a===tn||c!==null&&c===tn}function pS(a,c){Kc=vh=!0;var m=a.pending;m===null?c.next=c:(c.next=m.next,m.next=c),a.pending=c}function yS(a,c,m){if((m&4194240)!==0){var x=c.lanes;x&=a.pendingLanes,m|=x,c.lanes=m,Dg(a,m)}}var Sh={readContext:Zr,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},TL={readContext:Zr,useCallback:function(a,c){return Ui().memoizedState=[a,c===void 0?null:c],a},useContext:Zr,useEffect:oS,useImperativeHandle:function(a,c,m){return m=m!=null?m.concat([a]):null,_h(4194308,4,cS.bind(null,c,a),m)},useLayoutEffect:function(a,c){return _h(4194308,4,a,c)},useInsertionEffect:function(a,c){return _h(4,2,a,c)},useMemo:function(a,c){var m=Ui();return c=c===void 0?null:c,a=a(),m.memoizedState=[a,c],a},useReducer:function(a,c,m){var x=Ui();return c=m!==void 0?m(c):c,x.memoizedState=x.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},x.queue=a,a=a.dispatch=EL.bind(null,tn,a),[x.memoizedState,a]},useRef:function(a){var c=Ui();return a={current:a},c.memoizedState=a},useState:iS,useDebugValue:jp,useDeferredValue:function(a){return Ui().memoizedState=a},useTransition:function(){var a=iS(!1),c=a[0];return a=bL.bind(null,a[1]),Ui().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,m){var x=tn,C=Ui();if(qt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=c(),Nn===null)throw Error(n(349));(Yo&30)!==0||Q1(x,c,m)}C.memoizedState=m;var E={value:m,getSnapshot:c};return C.queue=E,oS(tS.bind(null,x,E,a),[a]),x.flags|=2048,qc(9,eS.bind(null,x,E,m,c),void 0,null),m},useId:function(){var a=Ui(),c=Nn.identifierPrefix;if(qt){var m=ps,x=gs;m=(x&~(1<<32-li(x)-1)).toString(32)+m,c=":"+c+"R"+m,m=Yc++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=CL++,c=":"+c+"r"+m.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},PL={readContext:Zr,useCallback:dS,useContext:Zr,useEffect:Fp,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:hS,useReducer:Ip,useRef:sS,useState:function(){return Ip(Zc)},useDebugValue:jp,useDeferredValue:function(a){var c=qr();return fS(c,Sn.memoizedState,a)},useTransition:function(){var a=Ip(Zc)[0],c=qr().memoizedState;return[a,c]},useMutableSource:q1,useSyncExternalStore:J1,useId:mS,unstable_isNewReconciler:!1},kL={readContext:Zr,useCallback:dS,useContext:Zr,useEffect:Fp,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:hS,useReducer:Np,useRef:sS,useState:function(){return Np(Zc)},useDebugValue:jp,useDeferredValue:function(a){var c=qr();return Sn===null?c.memoizedState=a:fS(c,Sn.memoizedState,a)},useTransition:function(){var a=Np(Zc)[0],c=qr().memoizedState;return[a,c]},useMutableSource:q1,useSyncExternalStore:J1,useId:mS,unstable_isNewReconciler:!1};function di(a,c){if(a&&a.defaultProps){c=Y({},c),a=a.defaultProps;for(var m in a)c[m]===void 0&&(c[m]=a[m]);return c}return c}function Lp(a,c,m,x){c=a.memoizedState,m=m(x,c),m=m==null?c:Y({},c,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var Ch={isMounted:function(a){return(a=a._reactInternals)?Bo(a)===a:!1},enqueueSetState:function(a,c,m){a=a._reactInternals;var x=lr(),C=io(a),E=xs(x,C);E.payload=c,m!=null&&(E.callback=m),c=eo(a,E,C),c!==null&&(mi(c,a,C,x),gh(c,a,C))},enqueueReplaceState:function(a,c,m){a=a._reactInternals;var x=lr(),C=io(a),E=xs(x,C);E.tag=1,E.payload=c,m!=null&&(E.callback=m),c=eo(a,E,C),c!==null&&(mi(c,a,C,x),gh(c,a,C))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var m=lr(),x=io(a),C=xs(m,x);C.tag=2,c!=null&&(C.callback=c),c=eo(a,C,x),c!==null&&(mi(c,a,x,m),gh(c,a,x))}};function xS(a,c,m,x,C,E,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,E,A):c.prototype&&c.prototype.isPureReactComponent?!Dc(m,x)||!Dc(C,E):!0}function vS(a,c,m){var x=!1,C=qs,E=c.contextType;return typeof E=="object"&&E!==null?E=Zr(E):(C=yr(c)?Uo:Hn.current,x=c.contextTypes,E=(x=x!=null)?nl(a,C):qs),c=new c(m,E),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ch,a.stateNode=c,c._reactInternals=a,x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=C,a.__reactInternalMemoizedMaskedChildContext=E),c}function _S(a,c,m,x){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==a&&Ch.enqueueReplaceState(c,c.state,null)}function Dp(a,c,m,x){var C=a.stateNode;C.props=m,C.state=a.memoizedState,C.refs={},Cp(a);var E=c.contextType;typeof E=="object"&&E!==null?C.context=Zr(E):(E=yr(c)?Uo:Hn.current,C.context=nl(a,E)),C.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Lp(a,c,E,m),C.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&Ch.enqueueReplaceState(C,C.state,null),ph(a,m,C,x),C.state=a.memoizedState),typeof C.componentDidMount=="function"&&(a.flags|=4194308)}function ul(a,c){try{var m="",x=c;do m+=ce(x),x=x.return;while(x);var C=m}catch(E){C=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:c,stack:C,digest:null}}function Op(a,c,m){return{value:a,source:null,stack:m??null,digest:c??null}}function Vp(a,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var AL=typeof WeakMap=="function"?WeakMap:Map;function wS(a,c,m){m=xs(-1,m),m.tag=3,m.payload={element:null};var x=c.value;return m.callback=function(){Ah||(Ah=!0,ey=x),Vp(a,c)},m}function SS(a,c,m){m=xs(-1,m),m.tag=3;var x=a.type.getDerivedStateFromError;if(typeof x=="function"){var C=c.value;m.payload=function(){return x(C)},m.callback=function(){Vp(a,c)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){Vp(a,c),typeof x!="function"&&(no===null?no=new Set([this]):no.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})}),m}function CS(a,c,m){var x=a.pingCache;if(x===null){x=a.pingCache=new AL;var C=new Set;x.set(c,C)}else C=x.get(c),C===void 0&&(C=new Set,x.set(c,C));C.has(m)||(C.add(m),a=UL.bind(null,a,c,m),c.then(a,a))}function bS(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function ES(a,c,m,x,C){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=xs(-1,1),c.tag=2,eo(m,c,1))),m.lanes|=1),a):(a.flags|=65536,a.lanes=C,a)}var ML=P.ReactCurrentOwner,xr=!1;function ar(a,c,m,x){c.child=a===null?W1(c,null,m,x):ol(c,a.child,m,x)}function RS(a,c,m,x,C){m=m.render;var E=c.ref;return ll(c,C),x=Ap(a,c,m,x,E,C),m=Mp(),a!==null&&!xr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~C,vs(a,c,C)):(qt&&m&&fp(c),c.flags|=1,ar(a,c,x,C),c.child)}function TS(a,c,m,x,C){if(a===null){var E=m.type;return typeof E=="function"&&!ay(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=E,PS(a,c,E,x,C)):(a=Lh(m.type,null,x,c,c.mode,C),a.ref=c.ref,a.return=c,c.child=a)}if(E=a.child,(a.lanes&C)===0){var A=E.memoizedProps;if(m=m.compare,m=m!==null?m:Dc,m(A,x)&&a.ref===c.ref)return vs(a,c,C)}return c.flags|=1,a=oo(E,x),a.ref=c.ref,a.return=c,c.child=a}function PS(a,c,m,x,C){if(a!==null){var E=a.memoizedProps;if(Dc(E,x)&&a.ref===c.ref)if(xr=!1,c.pendingProps=x=E,(a.lanes&C)!==0)(a.flags&131072)!==0&&(xr=!0);else return c.lanes=a.lanes,vs(a,c,C)}return zp(a,c,m,x,C)}function kS(a,c,m){var x=c.pendingProps,C=x.children,E=a!==null?a.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(hl,Fr),Fr|=m;else{if((m&1073741824)===0)return a=E!==null?E.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Gt(hl,Fr),Fr|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=E!==null?E.baseLanes:m,Gt(hl,Fr),Fr|=x}else E!==null?(x=E.baseLanes|m,c.memoizedState=null):x=m,Gt(hl,Fr),Fr|=x;return ar(a,c,C,m),c.child}function AS(a,c){var m=c.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function zp(a,c,m,x,C){var E=yr(m)?Uo:Hn.current;return E=nl(c,E),ll(c,C),m=Ap(a,c,m,x,E,C),x=Mp(),a!==null&&!xr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~C,vs(a,c,C)):(qt&&x&&fp(c),c.flags|=1,ar(a,c,m,C),c.child)}function MS(a,c,m,x,C){if(yr(m)){var E=!0;ah(c)}else E=!1;if(ll(c,C),c.stateNode===null)Eh(a,c),vS(c,m,x),Dp(c,m,x,C),x=!0;else if(a===null){var A=c.stateNode,O=c.memoizedProps;A.props=O;var H=A.context,re=m.contextType;typeof re=="object"&&re!==null?re=Zr(re):(re=yr(m)?Uo:Hn.current,re=nl(c,re));var de=m.getDerivedStateFromProps,me=typeof de=="function"||typeof A.getSnapshotBeforeUpdate=="function";me||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==x||H!==re)&&_S(c,A,x,re),Qs=!1;var ue=c.memoizedState;A.state=ue,ph(c,x,A,C),H=c.memoizedState,O!==x||ue!==H||pr.current||Qs?(typeof de=="function"&&(Lp(c,m,de,x),H=c.memoizedState),(O=Qs||xS(c,m,O,x,ue,H,re))?(me||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=H),A.props=x,A.state=H,A.context=re,x=O):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{A=c.stateNode,X1(a,c),O=c.memoizedProps,re=c.type===c.elementType?O:di(c.type,O),A.props=re,me=c.pendingProps,ue=A.context,H=m.contextType,typeof H=="object"&&H!==null?H=Zr(H):(H=yr(m)?Uo:Hn.current,H=nl(c,H));var Ee=m.getDerivedStateFromProps;(de=typeof Ee=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(O!==me||ue!==H)&&_S(c,A,x,H),Qs=!1,ue=c.memoizedState,A.state=ue,ph(c,x,A,C);var Ae=c.memoizedState;O!==me||ue!==Ae||pr.current||Qs?(typeof Ee=="function"&&(Lp(c,m,Ee,x),Ae=c.memoizedState),(re=Qs||xS(c,m,re,x,ue,Ae,H)||!1)?(de||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,Ae,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,Ae,H)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Ae),A.props=x,A.state=Ae,A.context=H,x=re):(typeof A.componentDidUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ue===a.memoizedState||(c.flags|=1024),x=!1)}return $p(a,c,m,x,E,C)}function $p(a,c,m,x,C,E){AS(a,c);var A=(c.flags&128)!==0;if(!x&&!A)return C&&L1(c,m,!1),vs(a,c,E);x=c.stateNode,ML.current=c;var O=A&&typeof m.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,a!==null&&A?(c.child=ol(c,a.child,null,E),c.child=ol(c,null,O,E)):ar(a,c,O,E),c.memoizedState=x.state,C&&L1(c,m,!0),c.child}function IS(a){var c=a.stateNode;c.pendingContext?F1(a,c.pendingContext,c.pendingContext!==c.context):c.context&&F1(a,c.context,!1),bp(a,c.containerInfo)}function NS(a,c,m,x,C){return sl(),yp(C),c.flags|=256,ar(a,c,m,x),c.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Gp(a){return{baseLanes:a,cachePool:null,transitions:null}}function FS(a,c,m){var x=c.pendingProps,C=en.current,E=!1,A=(c.flags&128)!==0,O;if((O=A)||(O=a!==null&&a.memoizedState===null?!1:(C&2)!==0),O?(E=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(C|=1),Gt(en,C&1),a===null)return pp(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(A=x.children,a=x.fallback,E?(x=c.mode,E=c.child,A={mode:"hidden",children:A},(x&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=A):E=Dh(A,x,0,null),a=ea(a,x,m,null),E.return=c,a.return=c,E.sibling=a,c.child=E,c.child.memoizedState=Gp(m),c.memoizedState=Bp,a):Up(c,A));if(C=a.memoizedState,C!==null&&(O=C.dehydrated,O!==null))return IL(a,c,A,x,O,C,m);if(E){E=x.fallback,A=c.mode,C=a.child,O=C.sibling;var H={mode:"hidden",children:x.children};return(A&1)===0&&c.child!==C?(x=c.child,x.childLanes=0,x.pendingProps=H,c.deletions=null):(x=oo(C,H),x.subtreeFlags=C.subtreeFlags&14680064),O!==null?E=oo(O,E):(E=ea(E,A,m,null),E.flags|=2),E.return=c,x.return=c,x.sibling=E,c.child=x,x=E,E=c.child,A=a.child.memoizedState,A=A===null?Gp(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=a.childLanes&~m,c.memoizedState=Bp,x}return E=a.child,a=E.sibling,x=oo(E,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=m),x.return=c,x.sibling=null,a!==null&&(m=c.deletions,m===null?(c.deletions=[a],c.flags|=16):m.push(a)),c.child=x,c.memoizedState=null,x}function Up(a,c){return c=Dh({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function bh(a,c,m,x){return x!==null&&yp(x),ol(c,a.child,null,m),a=Up(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function IL(a,c,m,x,C,E,A){if(m)return c.flags&256?(c.flags&=-257,x=Op(Error(n(422))),bh(a,c,A,x)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(E=x.fallback,C=c.mode,x=Dh({mode:"visible",children:x.children},C,0,null),E=ea(E,C,A,null),E.flags|=2,x.return=c,E.return=c,x.sibling=E,c.child=x,(c.mode&1)!==0&&ol(c,a.child,null,A),c.child.memoizedState=Gp(A),c.memoizedState=Bp,E);if((c.mode&1)===0)return bh(a,c,A,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var O=x.dgst;return x=O,E=Error(n(419)),x=Op(E,x,void 0),bh(a,c,A,x)}if(O=(A&a.childLanes)!==0,xr||O){if(x=Nn,x!==null){switch(A&-A){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(x.suspendedLanes|A))!==0?0:C,C!==0&&C!==E.retryLane&&(E.retryLane=C,ys(a,C),mi(x,a,C,-1))}return oy(),x=Op(Error(n(421))),bh(a,c,A,x)}return C.data==="$?"?(c.flags|=128,c.child=a.child,c=WL.bind(null,a),C._reactRetry=c,null):(a=E.treeContext,Nr=Ys(C.nextSibling),Ir=c,qt=!0,ui=null,a!==null&&(Kr[Yr++]=gs,Kr[Yr++]=ps,Kr[Yr++]=Wo,gs=a.id,ps=a.overflow,Wo=c),c=Up(c,x.children),c.flags|=4096,c)}function jS(a,c,m){a.lanes|=c;var x=a.alternate;x!==null&&(x.lanes|=c),wp(a.return,c,m)}function Wp(a,c,m,x,C){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:C}:(E.isBackwards=c,E.rendering=null,E.renderingStartTime=0,E.last=x,E.tail=m,E.tailMode=C)}function LS(a,c,m){var x=c.pendingProps,C=x.revealOrder,E=x.tail;if(ar(a,c,x.children,m),x=en.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&jS(a,m,c);else if(a.tag===19)jS(a,m,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}x&=1}if(Gt(en,x),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(m=c.child,C=null;m!==null;)a=m.alternate,a!==null&&yh(a)===null&&(C=m),m=m.sibling;m=C,m===null?(C=c.child,c.child=null):(C=m.sibling,m.sibling=null),Wp(c,!1,C,m,E);break;case"backwards":for(m=null,C=c.child,c.child=null;C!==null;){if(a=C.alternate,a!==null&&yh(a)===null){c.child=C;break}a=C.sibling,C.sibling=m,m=C,C=a}Wp(c,!0,m,null,E);break;case"together":Wp(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Eh(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function vs(a,c,m){if(a!==null&&(c.dependencies=a.dependencies),Zo|=c.lanes,(m&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,m=oo(a,a.pendingProps),c.child=m,m.return=c;a.sibling!==null;)a=a.sibling,m=m.sibling=oo(a,a.pendingProps),m.return=c;m.sibling=null}return c.child}function NL(a,c,m){switch(c.tag){case 3:IS(c),sl();break;case 5:Z1(c);break;case 1:yr(c.type)&&ah(c);break;case 4:bp(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,C=c.memoizedProps.value;Gt(fh,x._currentValue),x._currentValue=C;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Gt(en,en.current&1),c.flags|=128,null):(m&c.child.childLanes)!==0?FS(a,c,m):(Gt(en,en.current&1),a=vs(a,c,m),a!==null?a.sibling:null);Gt(en,en.current&1);break;case 19:if(x=(m&c.childLanes)!==0,(a.flags&128)!==0){if(x)return LS(a,c,m);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Gt(en,en.current),x)break;return null;case 22:case 23:return c.lanes=0,kS(a,c,m)}return vs(a,c,m)}var DS,Hp,OS,VS;DS=function(a,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Hp=function(){},OS=function(a,c,m,x){var C=a.memoizedProps;if(C!==x){a=c.stateNode,Ko(Gi.current);var E=null;switch(m){case"input":C=pt(a,C),x=pt(a,x),E=[];break;case"select":C=Y({},C,{value:void 0}),x=Y({},x,{value:void 0}),E=[];break;case"textarea":C=ee(a,C),x=ee(a,x),E=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(a.onclick=ih)}or(m,x);var A;m=null;for(re in C)if(!x.hasOwnProperty(re)&&C.hasOwnProperty(re)&&C[re]!=null)if(re==="style"){var O=C[re];for(A in O)O.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?E||(E=[]):(E=E||[]).push(re,null));for(re in x){var H=x[re];if(O=C!=null?C[re]:void 0,x.hasOwnProperty(re)&&H!==O&&(H!=null||O!=null))if(re==="style")if(O){for(A in O)!O.hasOwnProperty(A)||H&&H.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in H)H.hasOwnProperty(A)&&O[A]!==H[A]&&(m||(m={}),m[A]=H[A])}else m||(E||(E=[]),E.push(re,m)),m=H;else re==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,O=O?O.__html:void 0,H!=null&&O!==H&&(E=E||[]).push(re,H)):re==="children"?typeof H!="string"&&typeof H!="number"||(E=E||[]).push(re,""+H):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(H!=null&&re==="onScroll"&&Ht("scroll",a),E||O===H||(E=[])):(E=E||[]).push(re,H))}m&&(E=E||[]).push("style",m);var re=E;(c.updateQueue=re)&&(c.flags|=4)}},VS=function(a,c,m,x){m!==x&&(c.flags|=4)};function Jc(a,c){if(!qt)switch(a.tailMode){case"hidden":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function Kn(a){var c=a.alternate!==null&&a.alternate.child===a.child,m=0,x=0;if(c)for(var C=a.child;C!==null;)m|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=a,C=C.sibling;else for(C=a.child;C!==null;)m|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=a,C=C.sibling;return a.subtreeFlags|=x,a.childLanes=m,c}function FL(a,c,m){var x=c.pendingProps;switch(mp(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(c),null;case 1:return yr(c.type)&&oh(),Kn(c),null;case 3:return x=c.stateNode,cl(),Xt(pr),Xt(Hn),Tp(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(a===null||a.child===null)&&(dh(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ui!==null&&(ry(ui),ui=null))),Hp(a,c),Kn(c),null;case 5:Ep(c);var C=Ko(Xc.current);if(m=c.type,a!==null&&c.stateNode!=null)OS(a,c,m,x,C),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(n(166));return Kn(c),null}if(a=Ko(Gi.current),dh(c)){x=c.stateNode,m=c.type;var E=c.memoizedProps;switch(x[Bi]=c,x[Bc]=E,a=(c.mode&1)!==0,m){case"dialog":Ht("cancel",x),Ht("close",x);break;case"iframe":case"object":case"embed":Ht("load",x);break;case"video":case"audio":for(C=0;C<Vc.length;C++)Ht(Vc[C],x);break;case"source":Ht("error",x);break;case"img":case"image":case"link":Ht("error",x),Ht("load",x);break;case"details":Ht("toggle",x);break;case"input":Dt(x,E),Ht("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!E.multiple},Ht("invalid",x);break;case"textarea":he(x,E),Ht("invalid",x)}or(m,E),C=null;for(var A in E)if(E.hasOwnProperty(A)){var O=E[A];A==="children"?typeof O=="string"?x.textContent!==O&&(E.suppressHydrationWarning!==!0&&rh(x.textContent,O,a),C=["children",O]):typeof O=="number"&&x.textContent!==""+O&&(E.suppressHydrationWarning!==!0&&rh(x.textContent,O,a),C=["children",""+O]):i.hasOwnProperty(A)&&O!=null&&A==="onScroll"&&Ht("scroll",x)}switch(m){case"input":$e(x),On(x,E,!0);break;case"textarea":$e(x),se(x);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(x.onclick=ih)}x=C,c.updateQueue=x,x!==null&&(c.flags|=4)}else{A=C.nodeType===9?C:C.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ye(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof x.is=="string"?a=A.createElement(m,{is:x.is}):(a=A.createElement(m),m==="select"&&(A=a,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):a=A.createElementNS(a,m),a[Bi]=c,a[Bc]=x,DS(a,c,!1,!1),c.stateNode=a;e:{switch(A=Pe(m,x),m){case"dialog":Ht("cancel",a),Ht("close",a),C=x;break;case"iframe":case"object":case"embed":Ht("load",a),C=x;break;case"video":case"audio":for(C=0;C<Vc.length;C++)Ht(Vc[C],a);C=x;break;case"source":Ht("error",a),C=x;break;case"img":case"image":case"link":Ht("error",a),Ht("load",a),C=x;break;case"details":Ht("toggle",a),C=x;break;case"input":Dt(a,x),C=pt(a,x),Ht("invalid",a);break;case"option":C=x;break;case"select":a._wrapperState={wasMultiple:!!x.multiple},C=Y({},x,{value:void 0}),Ht("invalid",a);break;case"textarea":he(a,x),C=ee(a,x),Ht("invalid",a);break;default:C=x}or(m,C),O=C;for(E in O)if(O.hasOwnProperty(E)){var H=O[E];E==="style"?kr(a,H):E==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&yt(a,H)):E==="children"?typeof H=="string"?(m!=="textarea"||H!=="")&&$t(a,H):typeof H=="number"&&$t(a,""+H):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?H!=null&&E==="onScroll"&&Ht("scroll",a):H!=null&&T(a,E,H,A))}switch(m){case"input":$e(a),On(a,x,!1);break;case"textarea":$e(a),se(a);break;case"option":x.value!=null&&a.setAttribute("value",""+pe(x.value));break;case"select":a.multiple=!!x.multiple,E=x.value,E!=null?Z(a,!!x.multiple,E,!1):x.defaultValue!=null&&Z(a,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(a.onclick=ih)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Kn(c),null;case 6:if(a&&c.stateNode!=null)VS(a,c,a.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(n(166));if(m=Ko(Xc.current),Ko(Gi.current),dh(c)){if(x=c.stateNode,m=c.memoizedProps,x[Bi]=c,(E=x.nodeValue!==m)&&(a=Ir,a!==null))switch(a.tag){case 3:rh(x.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&rh(x.nodeValue,m,(a.mode&1)!==0)}E&&(c.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[Bi]=c,c.stateNode=x}return Kn(c),null;case 13:if(Xt(en),x=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(qt&&Nr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)B1(),sl(),c.flags|=98560,E=!1;else if(E=dh(c),x!==null&&x.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Bi]=c}else sl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kn(c),E=!1}else ui!==null&&(ry(ui),ui=null),E=!0;if(!E)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=m,c):(x=x!==null,x!==(a!==null&&a.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(en.current&1)!==0?Cn===0&&(Cn=3):oy())),c.updateQueue!==null&&(c.flags|=4),Kn(c),null);case 4:return cl(),Hp(a,c),a===null&&zc(c.stateNode.containerInfo),Kn(c),null;case 10:return _p(c.type._context),Kn(c),null;case 17:return yr(c.type)&&oh(),Kn(c),null;case 19:if(Xt(en),E=c.memoizedState,E===null)return Kn(c),null;if(x=(c.flags&128)!==0,A=E.rendering,A===null)if(x)Jc(E,!1);else{if(Cn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(A=yh(a),A!==null){for(c.flags|=128,Jc(E,!1),x=A.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=m,m=c.child;m!==null;)E=m,a=x,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,a=A.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return Gt(en,en.current&1|2),c.child}a=a.sibling}E.tail!==null&&ln()>fl&&(c.flags|=128,x=!0,Jc(E,!1),c.lanes=4194304)}else{if(!x)if(a=yh(A),a!==null){if(c.flags|=128,x=!0,m=a.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),Jc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!qt)return Kn(c),null}else 2*ln()-E.renderingStartTime>fl&&m!==1073741824&&(c.flags|=128,x=!0,Jc(E,!1),c.lanes=4194304);E.isBackwards?(A.sibling=c.child,c.child=A):(m=E.last,m!==null?m.sibling=A:c.child=A,E.last=A)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=ln(),c.sibling=null,m=en.current,Gt(en,x?m&1|2:m&1),c):(Kn(c),null);case 22:case 23:return sy(),x=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Fr&1073741824)!==0&&(Kn(c),c.subtreeFlags&6&&(c.flags|=8192)):Kn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function jL(a,c){switch(mp(c),c.tag){case 1:return yr(c.type)&&oh(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return cl(),Xt(pr),Xt(Hn),Tp(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Ep(c),null;case 13:if(Xt(en),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));sl()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Xt(en),null;case 4:return cl(),null;case 10:return _p(c.type._context),null;case 22:case 23:return sy(),null;case 24:return null;default:return null}}var Rh=!1,Yn=!1,LL=typeof WeakSet=="function"?WeakSet:Set,ke=null;function dl(a,c){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){sn(a,c,x)}else m.current=null}function Xp(a,c,m){try{m()}catch(x){sn(a,c,x)}}var zS=!1;function DL(a,c){if(sp=Hd,a=x1(),qg(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var C=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var A=0,O=-1,H=-1,re=0,de=0,me=a,ue=null;t:for(;;){for(var Ee;me!==m||C!==0&&me.nodeType!==3||(O=A+C),me!==E||x!==0&&me.nodeType!==3||(H=A+x),me.nodeType===3&&(A+=me.nodeValue.length),(Ee=me.firstChild)!==null;)ue=me,me=Ee;for(;;){if(me===a)break t;if(ue===m&&++re===C&&(O=A),ue===E&&++de===x&&(H=A),(Ee=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=Ee}m=O===-1||H===-1?null:{start:O,end:H}}else m=null}m=m||{start:0,end:0}}else m=null;for(op={focusedElem:a,selectionRange:m},Hd=!1,ke=c;ke!==null;)if(c=ke,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,ke=a;else for(;ke!==null;){c=ke;try{var Ae=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Ne=Ae.memoizedProps,cn=Ae.memoizedState,q=c.stateNode,K=q.getSnapshotBeforeUpdate(c.elementType===c.type?Ne:di(c.type,Ne),cn);q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var Q=c.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){sn(c,c.return,ve)}if(a=c.sibling,a!==null){a.return=c.return,ke=a;break}ke=c.return}return Ae=zS,zS=!1,Ae}function Qc(a,c,m){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&a)===a){var E=C.destroy;C.destroy=void 0,E!==void 0&&Xp(c,m,E)}C=C.next}while(C!==x)}}function Th(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&a)===a){var x=m.create;m.destroy=x()}m=m.next}while(m!==c)}}function Kp(a){var c=a.ref;if(c!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof c=="function"?c(a):c.current=a}}function $S(a){var c=a.alternate;c!==null&&(a.alternate=null,$S(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Bi],delete c[Bc],delete c[up],delete c[vL],delete c[_L])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function BS(a){return a.tag===5||a.tag===3||a.tag===4}function GS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||BS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Yp(a,c,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(a,c):m.insertBefore(a,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(a,m)):(c=m,c.appendChild(a)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=ih));else if(x!==4&&(a=a.child,a!==null))for(Yp(a,c,m),a=a.sibling;a!==null;)Yp(a,c,m),a=a.sibling}function Zp(a,c,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,c?m.insertBefore(a,c):m.appendChild(a);else if(x!==4&&(a=a.child,a!==null))for(Zp(a,c,m),a=a.sibling;a!==null;)Zp(a,c,m),a=a.sibling}var Vn=null,hi=!1;function to(a,c,m){for(m=m.child;m!==null;)US(a,c,m),m=m.sibling}function US(a,c,m){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(zd,m)}catch{}switch(m.tag){case 5:Yn||dl(m,c);case 6:var x=Vn,C=hi;Vn=null,to(a,c,m),Vn=x,hi=C,Vn!==null&&(hi?(a=Vn,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):Vn.removeChild(m.stateNode));break;case 18:Vn!==null&&(hi?(a=Vn,m=m.stateNode,a.nodeType===8?cp(a.parentNode,m):a.nodeType===1&&cp(a,m),Mc(a)):cp(Vn,m.stateNode));break;case 4:x=Vn,C=hi,Vn=m.stateNode.containerInfo,hi=!0,to(a,c,m),Vn=x,hi=C;break;case 0:case 11:case 14:case 15:if(!Yn&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var E=C,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&Xp(m,c,A),C=C.next}while(C!==x)}to(a,c,m);break;case 1:if(!Yn&&(dl(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(O){sn(m,c,O)}to(a,c,m);break;case 21:to(a,c,m);break;case 22:m.mode&1?(Yn=(x=Yn)||m.memoizedState!==null,to(a,c,m),Yn=x):to(a,c,m);break;default:to(a,c,m)}}function WS(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new LL),c.forEach(function(x){var C=HL.bind(null,a,x);m.has(x)||(m.add(x),x.then(C,C))})}}function fi(a,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var C=m[x];try{var E=a,A=c,O=A;e:for(;O!==null;){switch(O.tag){case 5:Vn=O.stateNode,hi=!1;break e;case 3:Vn=O.stateNode.containerInfo,hi=!0;break e;case 4:Vn=O.stateNode.containerInfo,hi=!0;break e}O=O.return}if(Vn===null)throw Error(n(160));US(E,A,C),Vn=null,hi=!1;var H=C.alternate;H!==null&&(H.return=null),C.return=null}catch(re){sn(C,c,re)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)HS(c,a),c=c.sibling}function HS(a,c){var m=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(fi(c,a),Wi(a),x&4){try{Qc(3,a,a.return),Th(3,a)}catch(Ne){sn(a,a.return,Ne)}try{Qc(5,a,a.return)}catch(Ne){sn(a,a.return,Ne)}}break;case 1:fi(c,a),Wi(a),x&512&&m!==null&&dl(m,m.return);break;case 5:if(fi(c,a),Wi(a),x&512&&m!==null&&dl(m,m.return),a.flags&32){var C=a.stateNode;try{$t(C,"")}catch(Ne){sn(a,a.return,Ne)}}if(x&4&&(C=a.stateNode,C!=null)){var E=a.memoizedProps,A=m!==null?m.memoizedProps:E,O=a.type,H=a.updateQueue;if(a.updateQueue=null,H!==null)try{O==="input"&&E.type==="radio"&&E.name!=null&&Vt(C,E),Pe(O,A);var re=Pe(O,E);for(A=0;A<H.length;A+=2){var de=H[A],me=H[A+1];de==="style"?kr(C,me):de==="dangerouslySetInnerHTML"?yt(C,me):de==="children"?$t(C,me):T(C,de,me,re)}switch(O){case"input":zt(C,E);break;case"textarea":fe(C,E);break;case"select":var ue=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!E.multiple;var Ee=E.value;Ee!=null?Z(C,!!E.multiple,Ee,!1):ue!==!!E.multiple&&(E.defaultValue!=null?Z(C,!!E.multiple,E.defaultValue,!0):Z(C,!!E.multiple,E.multiple?[]:"",!1))}C[Bc]=E}catch(Ne){sn(a,a.return,Ne)}}break;case 6:if(fi(c,a),Wi(a),x&4){if(a.stateNode===null)throw Error(n(162));C=a.stateNode,E=a.memoizedProps;try{C.nodeValue=E}catch(Ne){sn(a,a.return,Ne)}}break;case 3:if(fi(c,a),Wi(a),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Mc(c.containerInfo)}catch(Ne){sn(a,a.return,Ne)}break;case 4:fi(c,a),Wi(a);break;case 13:fi(c,a),Wi(a),C=a.child,C.flags&8192&&(E=C.memoizedState!==null,C.stateNode.isHidden=E,!E||C.alternate!==null&&C.alternate.memoizedState!==null||(Qp=ln())),x&4&&WS(a);break;case 22:if(de=m!==null&&m.memoizedState!==null,a.mode&1?(Yn=(re=Yn)||de,fi(c,a),Yn=re):fi(c,a),Wi(a),x&8192){if(re=a.memoizedState!==null,(a.stateNode.isHidden=re)&&!de&&(a.mode&1)!==0)for(ke=a,de=a.child;de!==null;){for(me=ke=de;ke!==null;){switch(ue=ke,Ee=ue.child,ue.tag){case 0:case 11:case 14:case 15:Qc(4,ue,ue.return);break;case 1:dl(ue,ue.return);var Ae=ue.stateNode;if(typeof Ae.componentWillUnmount=="function"){x=ue,m=ue.return;try{c=x,Ae.props=c.memoizedProps,Ae.state=c.memoizedState,Ae.componentWillUnmount()}catch(Ne){sn(x,m,Ne)}}break;case 5:dl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){YS(me);continue}}Ee!==null?(Ee.return=ue,ke=Ee):YS(me)}de=de.sibling}e:for(de=null,me=a;;){if(me.tag===5){if(de===null){de=me;try{C=me.stateNode,re?(E=C.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(O=me.stateNode,H=me.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null,O.style.display=Hr("display",A))}catch(Ne){sn(a,a.return,Ne)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=re?"":me.memoizedProps}catch(Ne){sn(a,a.return,Ne)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===a)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===a)break e;for(;me.sibling===null;){if(me.return===null||me.return===a)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:fi(c,a),Wi(a),x&4&&WS(a);break;case 21:break;default:fi(c,a),Wi(a)}}function Wi(a){var c=a.flags;if(c&2){try{e:{for(var m=a.return;m!==null;){if(BS(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&($t(C,""),x.flags&=-33);var E=GS(a);Zp(a,E,C);break;case 3:case 4:var A=x.stateNode.containerInfo,O=GS(a);Yp(a,O,A);break;default:throw Error(n(161))}}catch(H){sn(a,a.return,H)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function OL(a,c,m){ke=a,XS(a)}function XS(a,c,m){for(var x=(a.mode&1)!==0;ke!==null;){var C=ke,E=C.child;if(C.tag===22&&x){var A=C.memoizedState!==null||Rh;if(!A){var O=C.alternate,H=O!==null&&O.memoizedState!==null||Yn;O=Rh;var re=Yn;if(Rh=A,(Yn=H)&&!re)for(ke=C;ke!==null;)A=ke,H=A.child,A.tag===22&&A.memoizedState!==null?ZS(C):H!==null?(H.return=A,ke=H):ZS(C);for(;E!==null;)ke=E,XS(E),E=E.sibling;ke=C,Rh=O,Yn=re}KS(a)}else(C.subtreeFlags&8772)!==0&&E!==null?(E.return=C,ke=E):KS(a)}}function KS(a){for(;ke!==null;){var c=ke;if((c.flags&8772)!==0){var m=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Yn||Th(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Yn)if(m===null)x.componentDidMount();else{var C=c.elementType===c.type?m.memoizedProps:di(c.type,m.memoizedProps);x.componentDidUpdate(C,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var E=c.updateQueue;E!==null&&Y1(c,E,x);break;case 3:var A=c.updateQueue;if(A!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}Y1(c,A,m)}break;case 5:var O=c.stateNode;if(m===null&&c.flags&4){m=O;var H=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&m.focus();break;case"img":H.src&&(m.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var re=c.alternate;if(re!==null){var de=re.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Mc(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Yn||c.flags&512&&Kp(c)}catch(ue){sn(c,c.return,ue)}}if(c===a){ke=null;break}if(m=c.sibling,m!==null){m.return=c.return,ke=m;break}ke=c.return}}function YS(a){for(;ke!==null;){var c=ke;if(c===a){ke=null;break}var m=c.sibling;if(m!==null){m.return=c.return,ke=m;break}ke=c.return}}function ZS(a){for(;ke!==null;){var c=ke;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{Th(4,c)}catch(H){sn(c,m,H)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var C=c.return;try{x.componentDidMount()}catch(H){sn(c,C,H)}}var E=c.return;try{Kp(c)}catch(H){sn(c,E,H)}break;case 5:var A=c.return;try{Kp(c)}catch(H){sn(c,A,H)}}}catch(H){sn(c,c.return,H)}if(c===a){ke=null;break}var O=c.sibling;if(O!==null){O.return=c.return,ke=O;break}ke=c.return}}var VL=Math.ceil,Ph=P.ReactCurrentDispatcher,qp=P.ReactCurrentOwner,Jr=P.ReactCurrentBatchConfig,wt=0,Nn=null,mn=null,zn=0,Fr=0,hl=Zs(0),Cn=0,eu=null,Zo=0,kh=0,Jp=0,tu=null,vr=null,Qp=0,fl=1/0,_s=null,Ah=!1,ey=null,no=null,Mh=!1,ro=null,Ih=0,nu=0,ty=null,Nh=-1,Fh=0;function lr(){return(wt&6)!==0?ln():Nh!==-1?Nh:Nh=ln()}function io(a){return(a.mode&1)===0?1:(wt&2)!==0&&zn!==0?zn&-zn:SL.transition!==null?(Fh===0&&(Fh=Gw()),Fh):(a=Mt,a!==0||(a=window.event,a=a===void 0?16:Jw(a.type)),a)}function mi(a,c,m,x){if(50<nu)throw nu=0,ty=null,Error(n(185));Rc(a,m,x),((wt&2)===0||a!==Nn)&&(a===Nn&&((wt&2)===0&&(kh|=m),Cn===4&&so(a,zn)),_r(a,x),m===1&&wt===0&&(c.mode&1)===0&&(fl=ln()+500,lh&&Js()))}function _r(a,c){var m=a.callbackNode;Sj(a,c);var x=Gd(a,a===Nn?zn:0);if(x===0)m!==null&&zw(m),a.callbackNode=null,a.callbackPriority=0;else if(c=x&-x,a.callbackPriority!==c){if(m!=null&&zw(m),c===1)a.tag===0?wL(JS.bind(null,a)):D1(JS.bind(null,a)),yL(function(){(wt&6)===0&&Js()}),m=null;else{switch(Uw(x)){case 1:m=Fg;break;case 4:m=$w;break;case 16:m=Vd;break;case 536870912:m=Bw;break;default:m=Vd}m=oC(m,qS.bind(null,a))}a.callbackPriority=c,a.callbackNode=m}}function qS(a,c){if(Nh=-1,Fh=0,(wt&6)!==0)throw Error(n(327));var m=a.callbackNode;if(ml()&&a.callbackNode!==m)return null;var x=Gd(a,a===Nn?zn:0);if(x===0)return null;if((x&30)!==0||(x&a.expiredLanes)!==0||c)c=jh(a,x);else{c=x;var C=wt;wt|=2;var E=eC();(Nn!==a||zn!==c)&&(_s=null,fl=ln()+500,Jo(a,c));do try{BL();break}catch(O){QS(a,O)}while(!0);vp(),Ph.current=E,wt=C,mn!==null?c=0:(Nn=null,zn=0,c=Cn)}if(c!==0){if(c===2&&(C=jg(a),C!==0&&(x=C,c=ny(a,C))),c===1)throw m=eu,Jo(a,0),so(a,x),_r(a,ln()),m;if(c===6)so(a,x);else{if(C=a.current.alternate,(x&30)===0&&!zL(C)&&(c=jh(a,x),c===2&&(E=jg(a),E!==0&&(x=E,c=ny(a,E))),c===1))throw m=eu,Jo(a,0),so(a,x),_r(a,ln()),m;switch(a.finishedWork=C,a.finishedLanes=x,c){case 0:case 1:throw Error(n(345));case 2:Qo(a,vr,_s);break;case 3:if(so(a,x),(x&130023424)===x&&(c=Qp+500-ln(),10<c)){if(Gd(a,0)!==0)break;if(C=a.suspendedLanes,(C&x)!==x){lr(),a.pingedLanes|=a.suspendedLanes&C;break}a.timeoutHandle=lp(Qo.bind(null,a,vr,_s),c);break}Qo(a,vr,_s);break;case 4:if(so(a,x),(x&4194240)===x)break;for(c=a.eventTimes,C=-1;0<x;){var A=31-li(x);E=1<<A,A=c[A],A>C&&(C=A),x&=~E}if(x=C,x=ln()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*VL(x/1960))-x,10<x){a.timeoutHandle=lp(Qo.bind(null,a,vr,_s),x);break}Qo(a,vr,_s);break;case 5:Qo(a,vr,_s);break;default:throw Error(n(329))}}}return _r(a,ln()),a.callbackNode===m?qS.bind(null,a):null}function ny(a,c){var m=tu;return a.current.memoizedState.isDehydrated&&(Jo(a,c).flags|=256),a=jh(a,c),a!==2&&(c=vr,vr=m,c!==null&&ry(c)),a}function ry(a){vr===null?vr=a:vr.push.apply(vr,a)}function zL(a){for(var c=a;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var C=m[x],E=C.getSnapshot;C=C.value;try{if(!ci(E(),C))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function so(a,c){for(c&=~Jp,c&=~kh,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var m=31-li(c),x=1<<m;a[m]=-1,c&=~x}}function JS(a){if((wt&6)!==0)throw Error(n(327));ml();var c=Gd(a,0);if((c&1)===0)return _r(a,ln()),null;var m=jh(a,c);if(a.tag!==0&&m===2){var x=jg(a);x!==0&&(c=x,m=ny(a,x))}if(m===1)throw m=eu,Jo(a,0),so(a,c),_r(a,ln()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Qo(a,vr,_s),_r(a,ln()),null}function iy(a,c){var m=wt;wt|=1;try{return a(c)}finally{wt=m,wt===0&&(fl=ln()+500,lh&&Js())}}function qo(a){ro!==null&&ro.tag===0&&(wt&6)===0&&ml();var c=wt;wt|=1;var m=Jr.transition,x=Mt;try{if(Jr.transition=null,Mt=1,a)return a()}finally{Mt=x,Jr.transition=m,wt=c,(wt&6)===0&&Js()}}function sy(){Fr=hl.current,Xt(hl)}function Jo(a,c){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,pL(m)),mn!==null)for(m=mn.return;m!==null;){var x=m;switch(mp(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&oh();break;case 3:cl(),Xt(pr),Xt(Hn),Tp();break;case 5:Ep(x);break;case 4:cl();break;case 13:Xt(en);break;case 19:Xt(en);break;case 10:_p(x.type._context);break;case 22:case 23:sy()}m=m.return}if(Nn=a,mn=a=oo(a.current,null),zn=Fr=c,Cn=0,eu=null,Jp=kh=Zo=0,vr=tu=null,Xo!==null){for(c=0;c<Xo.length;c++)if(m=Xo[c],x=m.interleaved,x!==null){m.interleaved=null;var C=x.next,E=m.pending;if(E!==null){var A=E.next;E.next=C,x.next=A}m.pending=x}Xo=null}return a}function QS(a,c){do{var m=mn;try{if(vp(),xh.current=Sh,vh){for(var x=tn.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}vh=!1}if(Yo=0,In=Sn=tn=null,Kc=!1,Yc=0,qp.current=null,m===null||m.return===null){Cn=1,eu=c,mn=null;break}e:{var E=a,A=m.return,O=m,H=c;if(c=zn,O.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var re=H,de=O,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ee=bS(A);if(Ee!==null){Ee.flags&=-257,ES(Ee,A,O,E,c),Ee.mode&1&&CS(E,re,c),c=Ee,H=re;var Ae=c.updateQueue;if(Ae===null){var Ne=new Set;Ne.add(H),c.updateQueue=Ne}else Ae.add(H);break e}else{if((c&1)===0){CS(E,re,c),oy();break e}H=Error(n(426))}}else if(qt&&O.mode&1){var cn=bS(A);if(cn!==null){(cn.flags&65536)===0&&(cn.flags|=256),ES(cn,A,O,E,c),yp(ul(H,O));break e}}E=H=ul(H,O),Cn!==4&&(Cn=2),tu===null?tu=[E]:tu.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,c&=-c,E.lanes|=c;var q=wS(E,H,c);K1(E,q);break e;case 1:O=H;var K=E.type,Q=E.stateNode;if((E.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(no===null||!no.has(Q)))){E.flags|=65536,c&=-c,E.lanes|=c;var ve=SS(E,O,c);K1(E,ve);break e}}E=E.return}while(E!==null)}nC(m)}catch(je){c=je,mn===m&&m!==null&&(mn=m=m.return);continue}break}while(!0)}function eC(){var a=Ph.current;return Ph.current=Sh,a===null?Sh:a}function oy(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Nn===null||(Zo&268435455)===0&&(kh&268435455)===0||so(Nn,zn)}function jh(a,c){var m=wt;wt|=2;var x=eC();(Nn!==a||zn!==c)&&(_s=null,Jo(a,c));do try{$L();break}catch(C){QS(a,C)}while(!0);if(vp(),wt=m,Ph.current=x,mn!==null)throw Error(n(261));return Nn=null,zn=0,Cn}function $L(){for(;mn!==null;)tC(mn)}function BL(){for(;mn!==null&&!fj();)tC(mn)}function tC(a){var c=sC(a.alternate,a,Fr);a.memoizedProps=a.pendingProps,c===null?nC(a):mn=c,qp.current=null}function nC(a){var c=a;do{var m=c.alternate;if(a=c.return,(c.flags&32768)===0){if(m=FL(m,c,Fr),m!==null){mn=m;return}}else{if(m=jL(m,c),m!==null){m.flags&=32767,mn=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Cn=6,mn=null;return}}if(c=c.sibling,c!==null){mn=c;return}mn=c=a}while(c!==null);Cn===0&&(Cn=5)}function Qo(a,c,m){var x=Mt,C=Jr.transition;try{Jr.transition=null,Mt=1,GL(a,c,m,x)}finally{Jr.transition=C,Mt=x}return null}function GL(a,c,m,x){do ml();while(ro!==null);if((wt&6)!==0)throw Error(n(327));m=a.finishedWork;var C=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var E=m.lanes|m.childLanes;if(Cj(a,E),a===Nn&&(mn=Nn=null,zn=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Mh||(Mh=!0,oC(Vd,function(){return ml(),null})),E=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||E){E=Jr.transition,Jr.transition=null;var A=Mt;Mt=1;var O=wt;wt|=4,qp.current=null,DL(a,m),HS(m,a),cL(op),Hd=!!sp,op=sp=null,a.current=m,OL(m),mj(),wt=O,Mt=A,Jr.transition=E}else a.current=m;if(Mh&&(Mh=!1,ro=a,Ih=C),E=a.pendingLanes,E===0&&(no=null),yj(m.stateNode),_r(a,ln()),c!==null)for(x=a.onRecoverableError,m=0;m<c.length;m++)C=c[m],x(C.value,{componentStack:C.stack,digest:C.digest});if(Ah)throw Ah=!1,a=ey,ey=null,a;return(Ih&1)!==0&&a.tag!==0&&ml(),E=a.pendingLanes,(E&1)!==0?a===ty?nu++:(nu=0,ty=a):nu=0,Js(),null}function ml(){if(ro!==null){var a=Uw(Ih),c=Jr.transition,m=Mt;try{if(Jr.transition=null,Mt=16>a?16:a,ro===null)var x=!1;else{if(a=ro,ro=null,Ih=0,(wt&6)!==0)throw Error(n(331));var C=wt;for(wt|=4,ke=a.current;ke!==null;){var E=ke,A=E.child;if((ke.flags&16)!==0){var O=E.deletions;if(O!==null){for(var H=0;H<O.length;H++){var re=O[H];for(ke=re;ke!==null;){var de=ke;switch(de.tag){case 0:case 11:case 15:Qc(8,de,E)}var me=de.child;if(me!==null)me.return=de,ke=me;else for(;ke!==null;){de=ke;var ue=de.sibling,Ee=de.return;if($S(de),de===re){ke=null;break}if(ue!==null){ue.return=Ee,ke=ue;break}ke=Ee}}}var Ae=E.alternate;if(Ae!==null){var Ne=Ae.child;if(Ne!==null){Ae.child=null;do{var cn=Ne.sibling;Ne.sibling=null,Ne=cn}while(Ne!==null)}}ke=E}}if((E.subtreeFlags&2064)!==0&&A!==null)A.return=E,ke=A;else e:for(;ke!==null;){if(E=ke,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Qc(9,E,E.return)}var q=E.sibling;if(q!==null){q.return=E.return,ke=q;break e}ke=E.return}}var K=a.current;for(ke=K;ke!==null;){A=ke;var Q=A.child;if((A.subtreeFlags&2064)!==0&&Q!==null)Q.return=A,ke=Q;else e:for(A=K;ke!==null;){if(O=ke,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Th(9,O)}}catch(je){sn(O,O.return,je)}if(O===A){ke=null;break e}var ve=O.sibling;if(ve!==null){ve.return=O.return,ke=ve;break e}ke=O.return}}if(wt=C,Js(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(zd,a)}catch{}x=!0}return x}finally{Mt=m,Jr.transition=c}}return!1}function rC(a,c,m){c=ul(m,c),c=wS(a,c,1),a=eo(a,c,1),c=lr(),a!==null&&(Rc(a,1,c),_r(a,c))}function sn(a,c,m){if(a.tag===3)rC(a,a,m);else for(;c!==null;){if(c.tag===3){rC(c,a,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(no===null||!no.has(x))){a=ul(m,a),a=SS(c,a,1),c=eo(c,a,1),a=lr(),c!==null&&(Rc(c,1,a),_r(c,a));break}}c=c.return}}function UL(a,c,m){var x=a.pingCache;x!==null&&x.delete(c),c=lr(),a.pingedLanes|=a.suspendedLanes&m,Nn===a&&(zn&m)===m&&(Cn===4||Cn===3&&(zn&130023424)===zn&&500>ln()-Qp?Jo(a,0):Jp|=m),_r(a,c)}function iC(a,c){c===0&&((a.mode&1)===0?c=1:(c=Bd,Bd<<=1,(Bd&130023424)===0&&(Bd=4194304)));var m=lr();a=ys(a,c),a!==null&&(Rc(a,c,m),_r(a,m))}function WL(a){var c=a.memoizedState,m=0;c!==null&&(m=c.retryLane),iC(a,m)}function HL(a,c){var m=0;switch(a.tag){case 13:var x=a.stateNode,C=a.memoizedState;C!==null&&(m=C.retryLane);break;case 19:x=a.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(c),iC(a,m)}var sC;sC=function(a,c,m){if(a!==null)if(a.memoizedProps!==c.pendingProps||pr.current)xr=!0;else{if((a.lanes&m)===0&&(c.flags&128)===0)return xr=!1,NL(a,c,m);xr=(a.flags&131072)!==0}else xr=!1,qt&&(c.flags&1048576)!==0&&O1(c,uh,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Eh(a,c),a=c.pendingProps;var C=nl(c,Hn.current);ll(c,m),C=Ap(null,c,x,a,C,m);var E=Mp();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,yr(x)?(E=!0,ah(c)):E=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Cp(c),C.updater=Ch,c.stateNode=C,C._reactInternals=c,Dp(c,x,a,m),c=$p(null,c,x,!0,E,m)):(c.tag=0,qt&&E&&fp(c),ar(null,c,C,m),c=c.child),c;case 16:x=c.elementType;e:{switch(Eh(a,c),a=c.pendingProps,C=x._init,x=C(x._payload),c.type=x,C=c.tag=KL(x),a=di(x,a),C){case 0:c=zp(null,c,x,a,m);break e;case 1:c=MS(null,c,x,a,m);break e;case 11:c=RS(null,c,x,a,m);break e;case 14:c=TS(null,c,x,di(x.type,a),m);break e}throw Error(n(306,x,""))}return c;case 0:return x=c.type,C=c.pendingProps,C=c.elementType===x?C:di(x,C),zp(a,c,x,C,m);case 1:return x=c.type,C=c.pendingProps,C=c.elementType===x?C:di(x,C),MS(a,c,x,C,m);case 3:e:{if(IS(c),a===null)throw Error(n(387));x=c.pendingProps,E=c.memoizedState,C=E.element,X1(a,c),ph(c,x,null,m);var A=c.memoizedState;if(x=A.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){C=ul(Error(n(423)),c),c=NS(a,c,x,m,C);break e}else if(x!==C){C=ul(Error(n(424)),c),c=NS(a,c,x,m,C);break e}else for(Nr=Ys(c.stateNode.containerInfo.firstChild),Ir=c,qt=!0,ui=null,m=W1(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(sl(),x===C){c=vs(a,c,m);break e}ar(a,c,x,m)}c=c.child}return c;case 5:return Z1(c),a===null&&pp(c),x=c.type,C=c.pendingProps,E=a!==null?a.memoizedProps:null,A=C.children,ap(x,C)?A=null:E!==null&&ap(x,E)&&(c.flags|=32),AS(a,c),ar(a,c,A,m),c.child;case 6:return a===null&&pp(c),null;case 13:return FS(a,c,m);case 4:return bp(c,c.stateNode.containerInfo),x=c.pendingProps,a===null?c.child=ol(c,null,x,m):ar(a,c,x,m),c.child;case 11:return x=c.type,C=c.pendingProps,C=c.elementType===x?C:di(x,C),RS(a,c,x,C,m);case 7:return ar(a,c,c.pendingProps,m),c.child;case 8:return ar(a,c,c.pendingProps.children,m),c.child;case 12:return ar(a,c,c.pendingProps.children,m),c.child;case 10:e:{if(x=c.type._context,C=c.pendingProps,E=c.memoizedProps,A=C.value,Gt(fh,x._currentValue),x._currentValue=A,E!==null)if(ci(E.value,A)){if(E.children===C.children&&!pr.current){c=vs(a,c,m);break e}}else for(E=c.child,E!==null&&(E.return=c);E!==null;){var O=E.dependencies;if(O!==null){A=E.child;for(var H=O.firstContext;H!==null;){if(H.context===x){if(E.tag===1){H=xs(-1,m&-m),H.tag=2;var re=E.updateQueue;if(re!==null){re=re.shared;var de=re.pending;de===null?H.next=H:(H.next=de.next,de.next=H),re.pending=H}}E.lanes|=m,H=E.alternate,H!==null&&(H.lanes|=m),wp(E.return,m,c),O.lanes|=m;break}H=H.next}}else if(E.tag===10)A=E.type===c.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(n(341));A.lanes|=m,O=A.alternate,O!==null&&(O.lanes|=m),wp(A,m,c),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===c){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}ar(a,c,C.children,m),c=c.child}return c;case 9:return C=c.type,x=c.pendingProps.children,ll(c,m),C=Zr(C),x=x(C),c.flags|=1,ar(a,c,x,m),c.child;case 14:return x=c.type,C=di(x,c.pendingProps),C=di(x.type,C),TS(a,c,x,C,m);case 15:return PS(a,c,c.type,c.pendingProps,m);case 17:return x=c.type,C=c.pendingProps,C=c.elementType===x?C:di(x,C),Eh(a,c),c.tag=1,yr(x)?(a=!0,ah(c)):a=!1,ll(c,m),vS(c,x,C),Dp(c,x,C,m),$p(null,c,x,!0,a,m);case 19:return LS(a,c,m);case 22:return kS(a,c,m)}throw Error(n(156,c.tag))};function oC(a,c){return Vw(a,c)}function XL(a,c,m,x){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(a,c,m,x){return new XL(a,c,m,x)}function ay(a){return a=a.prototype,!(!a||!a.isReactComponent)}function KL(a){if(typeof a=="function")return ay(a)?1:0;if(a!=null){if(a=a.$$typeof,a===X)return 11;if(a===J)return 14}return 2}function oo(a,c){var m=a.alternate;return m===null?(m=Qr(a.tag,c,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=c,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,c=a.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function Lh(a,c,m,x,C,E){var A=2;if(x=a,typeof a=="function")ay(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case F:return ea(m.children,C,E,c);case I:A=8,C|=8;break;case z:return a=Qr(12,m,c,C|2),a.elementType=z,a.lanes=E,a;case G:return a=Qr(13,m,c,C),a.elementType=G,a.lanes=E,a;case te:return a=Qr(19,m,c,C),a.elementType=te,a.lanes=E,a;case D:return Dh(m,C,E,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case W:A=10;break e;case V:A=9;break e;case X:A=11;break e;case J:A=14;break e;case $:A=16,x=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Qr(A,m,c,C),c.elementType=a,c.type=x,c.lanes=E,c}function ea(a,c,m,x){return a=Qr(7,a,x,c),a.lanes=m,a}function Dh(a,c,m,x){return a=Qr(22,a,x,c),a.elementType=D,a.lanes=m,a.stateNode={isHidden:!1},a}function ly(a,c,m){return a=Qr(6,a,null,c),a.lanes=m,a}function cy(a,c,m){return c=Qr(4,a.children!==null?a.children:[],a.key,c),c.lanes=m,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function YL(a,c,m,x,C){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lg(0),this.expirationTimes=Lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lg(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function uy(a,c,m,x,C,E,A,O,H){return a=new YL(a,c,m,O,H),c===1?(c=1,E===!0&&(c|=8)):c=0,E=Qr(3,null,null,c),a.current=E,E.stateNode=a,E.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(E),a}function ZL(a,c,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:x==null?null:""+x,children:a,containerInfo:c,implementation:m}}function aC(a){if(!a)return qs;a=a._reactInternals;e:{if(Bo(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(yr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(yr(m))return j1(a,m,c)}return c}function lC(a,c,m,x,C,E,A,O,H){return a=uy(m,x,!0,a,C,E,A,O,H),a.context=aC(null),m=a.current,x=lr(),C=io(m),E=xs(x,C),E.callback=c??null,eo(m,E,C),a.current.lanes=C,Rc(a,C,x),_r(a,x),a}function Oh(a,c,m,x){var C=c.current,E=lr(),A=io(C);return m=aC(m),c.context===null?c.context=m:c.pendingContext=m,c=xs(E,A),c.payload={element:a},x=x===void 0?null:x,x!==null&&(c.callback=x),a=eo(C,c,A),a!==null&&(mi(a,C,A,E),gh(a,C,A)),A}function Vh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function cC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<c?m:c}}function dy(a,c){cC(a,c),(a=a.alternate)&&cC(a,c)}function qL(){return null}var uC=typeof reportError=="function"?reportError:function(a){console.error(a)};function hy(a){this._internalRoot=a}zh.prototype.render=hy.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Oh(a,c,null,null)},zh.prototype.unmount=hy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;qo(function(){Oh(null,a,null,null)}),c[fs]=null}};function zh(a){this._internalRoot=a}zh.prototype.unstable_scheduleHydration=function(a){if(a){var c=Xw();a={blockedOn:null,target:a,priority:c};for(var m=0;m<Hs.length&&c!==0&&c<Hs[m].priority;m++);Hs.splice(m,0,a),m===0&&Zw(a)}};function fy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function $h(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function dC(){}function JL(a,c,m,x,C){if(C){if(typeof x=="function"){var E=x;x=function(){var re=Vh(A);E.call(re)}}var A=lC(c,x,a,0,null,!1,!1,"",dC);return a._reactRootContainer=A,a[fs]=A.current,zc(a.nodeType===8?a.parentNode:a),qo(),A}for(;C=a.lastChild;)a.removeChild(C);if(typeof x=="function"){var O=x;x=function(){var re=Vh(H);O.call(re)}}var H=uy(a,0,!1,null,null,!1,!1,"",dC);return a._reactRootContainer=H,a[fs]=H.current,zc(a.nodeType===8?a.parentNode:a),qo(function(){Oh(c,H,m,x)}),H}function Bh(a,c,m,x,C){var E=m._reactRootContainer;if(E){var A=E;if(typeof C=="function"){var O=C;C=function(){var H=Vh(A);O.call(H)}}Oh(c,A,a,C)}else A=JL(m,c,a,C,x);return Vh(A)}Ww=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var m=Ec(c.pendingLanes);m!==0&&(Dg(c,m|1),_r(c,ln()),(wt&6)===0&&(fl=ln()+500,Js()))}break;case 13:qo(function(){var x=ys(a,1);if(x!==null){var C=lr();mi(x,a,1,C)}}),dy(a,1)}},Og=function(a){if(a.tag===13){var c=ys(a,134217728);if(c!==null){var m=lr();mi(c,a,134217728,m)}dy(a,134217728)}},Hw=function(a){if(a.tag===13){var c=io(a),m=ys(a,c);if(m!==null){var x=lr();mi(m,a,c,x)}dy(a,c)}},Xw=function(){return Mt},Kw=function(a,c){var m=Mt;try{return Mt=a,c()}finally{Mt=m}},Pt=function(a,c,m){switch(c){case"input":if(zt(a,m),c=m.name,m.type==="radio"&&c!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==a&&x.form===a.form){var C=sh(x);if(!C)throw Error(n(90));Be(x),zt(x,C)}}}break;case"textarea":fe(a,m);break;case"select":c=m.value,c!=null&&Z(a,!!m.multiple,c,!1)}},qe=iy,xt=qo;var QL={usingClientEntryPoint:!1,Events:[Gc,el,sh,ze,st,iy]},ru={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eD={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Dw(a),a===null?null:a.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||qL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{zd=Gh.inject(eD),$i=Gh}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QL,wr.createPortal=function(a,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(c))throw Error(n(200));return ZL(a,c,null,m)},wr.createRoot=function(a,c){if(!fy(a))throw Error(n(299));var m=!1,x="",C=uC;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=uy(a,1,!1,null,null,m,!1,x,C),a[fs]=c.current,zc(a.nodeType===8?a.parentNode:a),new hy(c)},wr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Dw(c),a=a===null?null:a.stateNode,a},wr.flushSync=function(a){return qo(a)},wr.hydrate=function(a,c,m){if(!$h(c))throw Error(n(200));return Bh(null,a,c,!0,m)},wr.hydrateRoot=function(a,c,m){if(!fy(a))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,C=!1,E="",A=uC;if(m!=null&&(m.unstable_strictMode===!0&&(C=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),c=lC(c,null,a,1,m??null,C,!1,E,A),a[fs]=c.current,zc(a),x)for(a=0;a<x.length;a++)m=x[a],C=m._getVersion,C=C(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,C]:c.mutableSourceEagerHydrationData.push(m,C);return new zh(c)},wr.render=function(a,c,m){if(!$h(c))throw Error(n(200));return Bh(null,a,c,!1,m)},wr.unmountComponentAtNode=function(a){if(!$h(a))throw Error(n(40));return a._reactRootContainer?(qo(function(){Bh(null,null,a,!1,function(){a._reactRootContainer=null,a[fs]=null})}),!0):!1},wr.unstable_batchedUpdates=iy,wr.unstable_renderSubtreeIntoContainer=function(a,c,m,x){if(!$h(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Bh(a,c,m,!1,x)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var vC;function pT(){if(vC)return py.exports;vC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),py.exports=lD(),py.exports}var _C;function cD(){if(_C)return Uh;_C=1;var t=pT();return Uh.createRoot=t.createRoot,Uh.hydrateRoot=t.hydrateRoot,Uh}var uD=cD();const yT=qx(uD);var su={},wC;function dD(){if(wC)return su;wC=1,Object.defineProperty(su,"__esModule",{value:!0}),su.parse=o,su.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const v=new s,w=p.length;if(w<2)return v;const S=(y==null?void 0:y.decode)||h;let b=0;do{const R=p.indexOf("=",b);if(R===-1)break;const T=p.indexOf(";",b),P=T===-1?w:T;if(R>P){b=p.lastIndexOf(";",R-1)+1;continue}const k=l(p,b,R),M=u(p,R,k),F=p.slice(k,M);if(v[F]===void 0){let I=l(p,R+1,P),z=u(p,P,I);const W=S(p.slice(I,z));v[F]=W}b=P+1}while(b<w);return v}function l(p,y,v){do{const w=p.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function u(p,y,v){for(;y>v;){const w=p.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function d(p,y,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=w(y);if(!e.test(S))throw new TypeError(`argument val is invalid: ${y}`);let b=p+"="+S;if(!v)return b;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);b+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);b+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);b+="; Path="+v.path}if(v.expires){if(!f(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);b+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(b+="; HttpOnly"),v.secure&&(b+="; Secure"),v.partitioned&&(b+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return b}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return i.call(p)==="[object Date]"}return su}dD();var SC="popstate";function hD(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return S0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Du(i)}return mD(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fD(){return Math.random().toString(36).substring(2,10)}function CC(t,e){return{usr:t.state,key:t.key,idx:e}}function S0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sc(e):e,state:n,key:e&&e.key||r||fD()}}function Du({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",u=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let S=h(),b=S==null?null:S-d;d=S,u&&u({action:l,location:w.location,delta:b})}function p(S,b){l="PUSH";let R=S0(w.location,S,b);d=h()+1;let T=CC(R,d),P=w.createHref(R);try{o.pushState(T,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(P)}s&&u&&u({action:l,location:w.location,delta:1})}function y(S,b){l="REPLACE";let R=S0(w.location,S,b);d=h();let T=CC(R,d),P=w.createHref(R);o.replaceState(T,"",P),s&&u&&u({action:l,location:w.location,delta:0})}function v(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof S=="string"?S:Du(S);return R=R.replace(/ $/,"%20"),Jt(b,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,b)}let w={get action(){return l},get location(){return t(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(SC,f),u=S,()=>{i.removeEventListener(SC,f),u=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let b=v(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:y,go(S){return o.go(S)}};return w}function xT(t,e,n="/"){return gD(t,e,n,!1)}function gD(t,e,n,r){let i=typeof e=="string"?sc(e):e,s=Ns(i.pathname||"/",n);if(s==null)return null;let o=vT(t);pD(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=TD(s);l=ED(o[u],d,r)}return l}function vT(t,e=[],n=[],r=""){let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Jt(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let d=Ms([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Jt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),vT(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:CD(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of _T(s.path))i(s,o,u)}),e}function _T(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_T(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function pD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var yD=/^:[\w-]+$/,xD=3,vD=2,_D=1,wD=10,SD=-2,bC=t=>t==="*";function CD(t,e){let n=t.split("/"),r=n.length;return n.some(bC)&&(r+=SD),e&&(r+=vD),n.filter(i=>!bC(i)).reduce((i,s)=>i+(yD.test(s)?xD:s===""?_D:wD),r)}function bD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ED(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=zf({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=zf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ms([s,f.pathname]),pathnameBase:MD(Ms([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Ms([s,f.pathnameBase]))}return o}function zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let v=l[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[p];return f&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function RD(t,e=!1,n=!0){Ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sc(t):t;return{pathname:n?n.startsWith("/")?n:kD(n,e):e,search:ID(r),hash:ND(i)}}function kD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qx(t){let e=AD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ev(t,e,n,r=!1){let i;typeof t=="string"?i=sc(t):(i={...t},Jt(!i.pathname||!i.pathname.includes("?"),vy("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),vy("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),vy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?e[f]:"/"}let u=PD(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Ms=t=>t.join("/").replace(/\/\/+/g,"/"),MD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ID=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ND=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var jD=["GET",...wT];new Set(jD);var oc=_.createContext(null);oc.displayName="DataRouter";var Tm=_.createContext(null);Tm.displayName="DataRouterState";var ST=_.createContext({isTransitioning:!1});ST.displayName="ViewTransition";var LD=_.createContext(new Map);LD.displayName="Fetchers";var DD=_.createContext(null);DD.displayName="Await";var Ni=_.createContext(null);Ni.displayName="Navigation";var hd=_.createContext(null);hd.displayName="Location";var Fi=_.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var tv=_.createContext(null);tv.displayName="RouteError";function OD(t,{relative:e}={}){Jt(ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Ni),{hash:i,pathname:s,search:o}=md(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Ms([n,s])),r.createHref({pathname:l,search:o,hash:i})}function ac(){return _.useContext(hd)!=null}function ji(){return Jt(ac(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(hd).location}var CT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bT(t){_.useContext(Ni).static||_.useLayoutEffect(t)}function fd(){let{isDataRoute:t}=_.useContext(Fi);return t?JD():VD()}function VD(){Jt(ac(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(oc),{basename:e,navigator:n}=_.useContext(Ni),{matches:r}=_.useContext(Fi),{pathname:i}=ji(),s=JSON.stringify(Qx(r)),o=_.useRef(!1);return bT(()=>{o.current=!0}),_.useCallback((u,d={})=>{if(Ai(o.current,CT),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=ev(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ms([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}var ET=_.createContext(null);function nv(){return _.useContext(ET)}function zD(t){let e=_.useContext(Fi).outlet;return e&&_.createElement(ET.Provider,{value:t},e)}function md(t,{relative:e}={}){let{matches:n}=_.useContext(Fi),{pathname:r}=ji(),i=JSON.stringify(Qx(n));return _.useMemo(()=>ev(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function $D(t,e){return RT(t,e)}function RT(t,e,n,r){var R;Jt(ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=_.useContext(Ni),{matches:o}=_.useContext(Fi),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let T=f&&f.path||"";TT(d,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=ji(),y;if(e){let T=typeof e=="string"?sc(e):e;Jt(h==="/"||((R=T.pathname)==null?void 0:R.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=p;let v=y.pathname||"/",w=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=!s&&n&&n.matches&&n.matches.length>0?n.matches:xT(t,{pathname:w});Ai(f||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ai(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=HD(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Ms([h,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:Ms([h,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&b?_.createElement(hd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function BD(){let t=qD(),e=FD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,o)}var GD=_.createElement(BD,null),UD=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(Fi.Provider,{value:this.props.routeContext},_.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WD({routeContext:t,match:e,children:n}){let r=_.useContext(oc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Fi.Provider,{value:t},n)}function HD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Jt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,h)=>{let f,p=!1,y=null,v=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||GD,o&&(l<0&&h===0?(TT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),S=()=>{let b;return f?b=y:p?b=v:d.route.Component?b=_.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,_.createElement(WD,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(UD,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function rv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XD(t){let e=_.useContext(oc);return Jt(e,rv(t)),e}function KD(t){let e=_.useContext(Tm);return Jt(e,rv(t)),e}function YD(t){let e=_.useContext(Fi);return Jt(e,rv(t)),e}function iv(t){let e=YD(t),n=e.matches[e.matches.length-1];return Jt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZD(){return iv("useRouteId")}function qD(){var r;let t=_.useContext(tv),e=KD("useRouteError"),n=iv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function JD(){let{router:t}=XD("useNavigate"),e=iv("useNavigate"),n=_.useRef(!1);return bT(()=>{n.current=!0}),_.useCallback(async(i,s={})=>{Ai(n.current,CT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var EC={};function TT(t,e,n){!e&&!EC[t]&&(EC[t]=!0,Ai(!1,n))}_.memo(QD);function QD({routes:t,future:e,state:n}){return RT(t,void 0,n,e)}function PT({to:t,replace:e,state:n,relative:r}){Jt(ac(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Ni);Ai(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Fi),{pathname:o}=ji(),l=fd(),u=ev(t,Qx(s),o,r==="path"),d=JSON.stringify(u);return _.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function eO(t){return zD(t.context)}function Rs(t){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Jt(!ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=sc(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,y=_.useMemo(()=>{let v=Ns(u,o);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:r}},[o,u,d,h,f,p,r]);return Ai(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(Ni.Provider,{value:l},_.createElement(hd.Provider,{children:e,value:y}))}function nO({children:t,location:e}){return $D(C0(t),e)}function C0(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,C0(r.props.children,s));return}Jt(r.type===Rs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=C0(r.props.children,s)),n.push(o)}),n}var bf="get",Ef="application/x-www-form-urlencoded";function Pm(t){return t!=null&&typeof t.tagName=="string"}function rO(t){return Pm(t)&&t.tagName.toLowerCase()==="button"}function iO(t){return Pm(t)&&t.tagName.toLowerCase()==="form"}function sO(t){return Pm(t)&&t.tagName.toLowerCase()==="input"}function oO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aO(t,e){return t.button===0&&(!e||e==="_self")&&!oO(t)}var Wh=null;function lO(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var cO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _y(t){return t!=null&&!cO.has(t)?(Ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function uO(t,e){let n,r,i,s,o;if(iO(t)){let l=t.getAttribute("action");r=l?Ns(l,e):null,n=t.getAttribute("method")||bf,i=_y(t.getAttribute("enctype"))||Ef,s=new FormData(t)}else if(rO(t)||sO(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Ns(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||bf,i=_y(t.getAttribute("formenctype"))||_y(l.getAttribute("enctype"))||Ef,s=new FormData(l,t),!lO()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,f)}}else{if(Pm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bf,r=null,i=Ef,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function sv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function dO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fO(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await dO(s,n);return o.links?o.links():[]}return[]}));return yO(r.flat(1).filter(hO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function RC(t,e,n,r,i,s){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>{var h;return n[d].pathname!==u.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,d)=>o(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{var f;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function mO(t,e,{includeHydrateFallback:n}={}){return gO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function gO(t){return[...new Set(t)]}function pO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function yO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(pO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var xO=new Set([100,101,204,205]);function vO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ns(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function kT(){let t=_.useContext(oc);return sv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _O(){let t=_.useContext(Tm);return sv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ov=_.createContext(void 0);ov.displayName="FrameworkContext";function AT(){let t=_.useContext(ov);return sv(t,"You must render this element inside a <HydratedRouter> element"),t}function wO(t,e){let n=_.useContext(ov),[r,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=b=>{b.forEach(R=>{o(R.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[t]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:ou(l,y),onBlur:ou(u,v),onMouseEnter:ou(d,y),onMouseLeave:ou(h,v),onTouchStart:ou(f,y)}]:[!1,p,{}]}function ou(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function SO({page:t,...e}){let{router:n}=kT(),r=_.useMemo(()=>xT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(bO,{page:t,matches:r,...e}):null}function CO(t){let{manifest:e,routeModules:n}=AT(),[r,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return fO(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function bO({page:t,matches:e,...n}){let r=ji(),{manifest:i,routeModules:s}=AT(),{basename:o}=kT(),{loaderData:l,matches:u}=_O(),d=_.useMemo(()=>RC(t,e,u,i,r,"data"),[t,e,u,i,r]),h=_.useMemo(()=>RC(t,e,u,i,r,"assets"),[t,e,u,i,r]),f=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(b=>{var T;let R=i.routes[b.route.id];!R||!R.hasLoader||(!d.some(P=>P.route.id===b.route.id)&&b.route.id in l&&((T=s[b.route.id])!=null&&T.shouldRevalidate)||R.hasClientLoader?w=!0:v.add(b.route.id))}),v.size===0)return[];let S=vO(t,o);return w&&v.size>0&&S.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[o,l,r,i,d,e,t,s]),p=_.useMemo(()=>mO(h,i),[h,i]),y=CO(h);return _.createElement(_.Fragment,null,f.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:w})=>_.createElement("link",{key:v,...w})))}function EO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MT&&(window.__reactRouterVersion="7.5.2")}catch{}function RO({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=hD({window:n,v5Compat:!0}));let i=r.current,[s,o]=_.useState({action:i.action,location:i.location}),l=_.useCallback(u=>{_.startTransition(()=>o(u))},[o]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(tO,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var IT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NT=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:f,...p},y){let{basename:v}=_.useContext(Ni),w=typeof d=="string"&&IT.test(d),S,b=!1;if(typeof d=="string"&&w&&(S=d,MT))try{let z=new URL(window.location.href),W=d.startsWith("//")?new URL(z.protocol+d):new URL(d),V=Ns(W.pathname,v);W.origin===z.origin&&V!=null?d=V+W.search+W.hash:b=!0}catch{Ai(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=OD(d,{relative:i}),[T,P,k]=wO(r,p),M=AO(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:f});function F(z){e&&e(z),z.defaultPrevented||M(z)}let I=_.createElement("a",{...p,...k,href:S||R,onClick:b||s?e:F,ref:EO(y,P),target:u,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?_.createElement(_.Fragment,null,I,_.createElement(SO,{page:R})):I});NT.displayName="Link";var TO=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...d},h){let f=md(o,{relative:d.relative}),p=ji(),y=_.useContext(Tm),{navigator:v,basename:w}=_.useContext(Ni),S=y!=null&&jO(f)&&l===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,R=p.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(R=R.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&w&&(T=Ns(T,w)||T);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=R===b||!i&&R.startsWith(b)&&R.charAt(P)==="/",M=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),F={isActive:k,isPending:M,isTransitioning:S},I=k?e:void 0,z;typeof r=="function"?z=r(F):z=[r,k?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(F):s;return _.createElement(NT,{...d,"aria-current":I,className:z,ref:h,style:W,to:o,viewTransition:l},typeof u=="function"?u(F):u)});TO.displayName="NavLink";var PO=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=bf,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:f,...p},y)=>{let v=NO(),w=FO(l,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&IT.test(l),R=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||o;v(P||T.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:f})};return _.createElement("form",{ref:y,method:S,action:w,onSubmit:r?u:R,...p,"data-discover":!b&&t==="render"?"true":void 0})});PO.displayName="Form";function kO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(t){let e=_.useContext(oc);return Jt(e,kO(t)),e}function AO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=fd(),u=ji(),d=md(t,{relative:s});return _.useCallback(h=>{if(aO(h,e)){h.preventDefault();let f=n!==void 0?n:Du(u)===Du(d);l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,d,n,r,e,t,i,s,o])}var MO=0,IO=()=>`__${String(++MO)}__`;function NO(){let{router:t}=FT("useSubmit"),{basename:e}=_.useContext(Ni),n=ZD();return _.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:u,body:d}=uO(r,e);if(i.navigate===!1){let h=i.fetcherKey||IO();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function FO(t,{relative:e}={}){let{basename:n}=_.useContext(Ni),r=_.useContext(Fi);Jt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...md(t||".",{relative:e})},o=ji();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ms([n,s.pathname])),Du(s)}function jO(t,e={}){let n=_.useContext(ST);Jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FT("useViewTransitionState"),i=md(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zf(i.pathname,o)!=null||zf(i.pathname,s)!=null}new TextEncoder;[...xO];var $a=pT();const jT=qx($a);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TC=t=>{const e=DO(t);return e.charAt(0).toUpperCase()+e.slice(1)},LT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),OO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},u)=>_.createElement("svg",{ref:u,...VO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LT("lucide",i),...!s&&!OO(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(zO,{ref:s,iconNode:e,className:LT(`lucide-${LO(TC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=TC(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],BO=Te("activity",$O);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],UO=Te("arrow-down-wide-narrow",GO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],HO=Te("arrow-up-narrow-wide",WO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],b0=Te("ban",XO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]],av=Te("battery-full",KO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]],Ou=Te("battery-low",YO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}]],lv=Te("battery-medium",ZO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JO=Te("bell",qO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]],DT=Te("bone",QO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tV=Te("calendar",eV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gd=Te("check",nV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lc=Te("chevron-down",rV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sV=Te("chevron-left",iV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OT=Te("chevron-right",oV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cv=Te("chevron-up",aV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],cV=Te("chevrons-left",lV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],dV=Te("chevrons-right",uV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ca=Te("circle-alert",hV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sa=Te("circle-check-big",fV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],VT=Te("circle-dashed",mV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M10.1 2.18a9.93 9.93 0 0 1 3.8 0",key:"1qdqn0"}],["path",{d:"M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7",key:"1bq7p6"}],["path",{d:"M21.82 10.1a9.93 9.93 0 0 1 0 3.8",key:"1rlaqf"}],["path",{d:"M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69",key:"1xk03u"}],["path",{d:"M13.9 21.82a9.94 9.94 0 0 1-3.8 0",key:"l7re25"}],["path",{d:"M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7",key:"1v18p6"}],["path",{d:"M2.18 13.9a9.93 9.93 0 0 1 0-3.8",key:"xdo6bj"}],["path",{d:"M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69",key:"1jjmaz"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],uv=Te("circle-dot-dashed",gV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],yV=Te("circle-plus",pV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vV=Te("circle-user-round",xV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Dn=Te("circle-x",_V);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SV=Te("circle",wV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],bV=Te("download",CV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],RV=Te("dumbbell",EV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"1n2rgs"}],["path",{d:"M6 8h4",key:"utf9t1"}],["path",{d:"M6 18h4",key:"12yh4b"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"3ha7mj"}],["path",{d:"M14 8h4",key:"1r8wg2"}],["path",{d:"M14 18h4",key:"1t3kbu"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"dfd4e2"}]],zT=Te("fence",TV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$T=Te("file-text",PV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],AV=Te("hash",kV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M13.5 19.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5A5.5 5.5 0 0 1 7.5 3c1.76 0 3 .5 4.5 2 1.5-1.5 2.74-2 4.5-2a5.5 5.5 0 0 1 5.402 6.5",key:"vd0vy5"}],["path",{d:"M15 15h6",key:"1u4692"}],["path",{d:"M18 12v6",key:"1houu1"}]],IV=Te("heart-plus",MV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],PC=Te("heart",NV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wi=Te("info",FV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],LV=Te("layers",jV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],OV=Te("link",DV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],BT=Te("list-filter",VV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],$V=Te("list",zV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GV=Te("loader-circle",BV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WV=Te("locate-fixed",UV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],XV=Te("lock-keyhole",HV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],YV=Te("log-out",KV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],qV=Te("map-pin-minus-inside",ZV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],QV=Te("map-pin-plus-inside",JV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],t4=Te("map-pin-plus",e4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077",key:"y0ewhp"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m21.5 15.5-5 5",key:"11iqnx"}],["path",{d:"m21.5 20.5-5-5",key:"1bylgx"}]],r4=Te("map-pin-x",n4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dv=Te("map-pin",i4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],o4=Te("map-pinned",s4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],l4=Te("map",a4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],u4=Te("mars",c4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],h4=Te("menu",d4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M5 12h14",key:"1ays0h"}]],GT=Te("minus",f4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],g4=Te("origami",m4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],Ro=Te("paw-print",p4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kC=Te("plus",y4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],AC=Te("ruler",x4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],UT=Te("save",v4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w4=Te("settings",_4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],C4=Te("shell",S4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],E4=Te("slash",b4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],T4=Te("spline-pointer",R4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hv=Te("square-pen",P4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],WT=Te("tag",k4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],M4=Te("thermometer",A4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ua=Te("trash-2",I4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],F4=Te("undo",N4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],MC=Te("upload",j4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M10 20h4",key:"ni2waw"}],["path",{d:"M12 16v6",key:"c8a4gj"}],["path",{d:"M17 2h4v4",key:"vhe59"}],["path",{d:"m21 2-5.46 5.46",key:"19kypf"}],["circle",{cx:"12",cy:"11",r:"5",key:"16gxyc"}]],D4=Te("venus-and-mars",L4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],V4=Te("venus",O4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$s=Te("x",z4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],B4=Te("zap",$4);function HT(t,e){return function(){return t.apply(e,arguments)}}const{toString:G4}=Object.prototype,{getPrototypeOf:fv}=Object,{iterator:km,toStringTag:XT}=Symbol,Am=(t=>e=>{const n=G4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Li=t=>(t=t.toLowerCase(),e=>Am(e)===t),Mm=t=>e=>typeof e===t,{isArray:cc}=Array,Vu=Mm("undefined");function U4(t){return t!==null&&!Vu(t)&&t.constructor!==null&&!Vu(t.constructor)&&Er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const KT=Li("ArrayBuffer");function W4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KT(t.buffer),e}const H4=Mm("string"),Er=Mm("function"),YT=Mm("number"),Im=t=>t!==null&&typeof t=="object",X4=t=>t===!0||t===!1,Rf=t=>{if(Am(t)!=="object")return!1;const e=fv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(XT in t)&&!(km in t)},K4=Li("Date"),Y4=Li("File"),Z4=Li("Blob"),q4=Li("FileList"),J4=t=>Im(t)&&Er(t.pipe),Q4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Er(t.append)&&((e=Am(t))==="formdata"||e==="object"&&Er(t.toString)&&t.toString()==="[object FormData]"))},e5=Li("URLSearchParams"),[t5,n5,r5,i5]=["ReadableStream","Request","Response","Headers"].map(Li),s5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),cc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function ZT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qT=t=>!Vu(t)&&t!==fa;function E0(){const{caseless:t}=qT(this)&&this||{},e={},n=(r,i)=>{const s=t&&ZT(e,i)||i;Rf(e[s])&&Rf(r)?e[s]=E0(e[s],r):Rf(r)?e[s]=E0({},r):cc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&pd(arguments[r],n);return e}const o5=(t,e,n,{allOwnKeys:r}={})=>(pd(e,(i,s)=>{n&&Er(i)?t[s]=HT(i,n):t[s]=i},{allOwnKeys:r}),t),a5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},c5=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&fv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},u5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},d5=t=>{if(!t)return null;if(cc(t))return t;let e=t.length;if(!YT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},h5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fv(Uint8Array)),f5=(t,e)=>{const r=(t&&t[km]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},m5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},g5=Li("HTMLFormElement"),p5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),IC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),y5=Li("RegExp"),JT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};pd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},x5=t=>{JT(t,(e,n)=>{if(Er(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Er(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},v5=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return cc(t)?r(t):r(String(t).split(e)),n},_5=()=>{},w5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function S5(t){return!!(t&&Er(t.append)&&t[XT]==="FormData"&&t[km])}const C5=t=>{const e=new Array(10),n=(r,i)=>{if(Im(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=cc(r)?[]:{};return pd(r,(o,l)=>{const u=n(o,i+1);!Vu(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},b5=Li("AsyncFunction"),E5=t=>t&&(Im(t)||Er(t))&&Er(t.then)&&Er(t.catch),QT=((t,e)=>t?setImmediate:e?((n,r)=>(fa.addEventListener("message",({source:i,data:s})=>{i===fa&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),fa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Er(fa.postMessage)),R5=typeof queueMicrotask<"u"?queueMicrotask.bind(fa):typeof process<"u"&&process.nextTick||QT,T5=t=>t!=null&&Er(t[km]),oe={isArray:cc,isArrayBuffer:KT,isBuffer:U4,isFormData:Q4,isArrayBufferView:W4,isString:H4,isNumber:YT,isBoolean:X4,isObject:Im,isPlainObject:Rf,isReadableStream:t5,isRequest:n5,isResponse:r5,isHeaders:i5,isUndefined:Vu,isDate:K4,isFile:Y4,isBlob:Z4,isRegExp:y5,isFunction:Er,isStream:J4,isURLSearchParams:e5,isTypedArray:h5,isFileList:q4,forEach:pd,merge:E0,extend:o5,trim:s5,stripBOM:a5,inherits:l5,toFlatObject:c5,kindOf:Am,kindOfTest:Li,endsWith:u5,toArray:d5,forEachEntry:f5,matchAll:m5,isHTMLForm:g5,hasOwnProperty:IC,hasOwnProp:IC,reduceDescriptors:JT,freezeMethods:x5,toObjectSet:v5,toCamelCase:p5,noop:_5,toFiniteNumber:w5,findKey:ZT,global:fa,isContextDefined:qT,isSpecCompliantForm:S5,toJSONObject:C5,isAsyncFn:b5,isThenable:E5,setImmediate:QT,asap:R5,isIterable:T5};function ot(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const eP=ot.prototype,tP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tP[t]={value:t}});Object.defineProperties(ot,tP);Object.defineProperty(eP,"isAxiosError",{value:!0});ot.from=(t,e,n,r,i,s)=>{const o=Object.create(eP);return oe.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),ot.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const P5=null;function R0(t){return oe.isPlainObject(t)||oe.isArray(t)}function nP(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function NC(t,e,n){return t?t.concat(e).map(function(i,s){return i=nP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function k5(t){return oe.isArray(t)&&!t.some(R0)}const A5=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Nm(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!oe.isUndefined(S[w])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(oe.isDate(v))return v.toISOString();if(!u&&oe.isBlob(v))throw new ot("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(v)||oe.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,w,S){let b=v;if(v&&!S&&typeof v=="object"){if(oe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(oe.isArray(v)&&k5(v)||(oe.isFileList(v)||oe.endsWith(w,"[]"))&&(b=oe.toArray(v)))return w=nP(w),b.forEach(function(T,P){!(oe.isUndefined(T)||T===null)&&e.append(o===!0?NC([w],P,s):o===null?w:w+"[]",d(T))}),!1}return R0(v)?!0:(e.append(NC(S,w,s),d(v)),!1)}const f=[],p=Object.assign(A5,{defaultVisitor:h,convertValue:d,isVisitable:R0});function y(v,w){if(!oe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),oe.forEach(v,function(b,R){(!(oe.isUndefined(b)||b===null)&&i.call(e,b,oe.isString(R)?R.trim():R,w,p))===!0&&y(b,w?w.concat(R):[R])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function FC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function mv(t,e){this._pairs=[],t&&Nm(t,this,e)}const rP=mv.prototype;rP.append=function(e,n){this._pairs.push([e,n])};rP.toString=function(e){const n=e?function(r){return e.call(this,r,FC)}:FC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function M5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iP(t,e,n){if(!e)return t;const r=n&&n.encode||M5;oe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=oe.isURLSearchParams(e)?e.toString():new mv(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class jC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I5=typeof URLSearchParams<"u"?URLSearchParams:mv,N5=typeof FormData<"u"?FormData:null,F5=typeof Blob<"u"?Blob:null,j5={isBrowser:!0,classes:{URLSearchParams:I5,FormData:N5,Blob:F5},protocols:["http","https","file","blob","url","data"]},gv=typeof window<"u"&&typeof document<"u",T0=typeof navigator=="object"&&navigator||void 0,L5=gv&&(!T0||["ReactNative","NativeScript","NS"].indexOf(T0.product)<0),D5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O5=gv&&window.location.href||"http://localhost",V5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gv,hasStandardBrowserEnv:L5,hasStandardBrowserWebWorkerEnv:D5,navigator:T0,origin:O5},Symbol.toStringTag,{value:"Module"})),ir={...V5,...j5};function z5(t,e){return Nm(t,new ir.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return ir.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function $5(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function B5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function oP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=n.length;return o=!o&&oe.isArray(i)?i.length:o,u?(oe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!oe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&oe.isArray(i[o])&&(i[o]=B5(i[o])),!l)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,i)=>{e($5(r),i,n,0)}),n}return null}function G5(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const yd={transitional:sP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(oP(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return z5(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Nm(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),G5(e)):e}],transformResponse:[function(e){const n=this.transitional||yd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?ot.from(l,ot.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{yd.headers[t]={}});const U5=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&U5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},LC=Symbol("internals");function au(t){return t&&String(t).trim().toLowerCase()}function Tf(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Tf):String(t)}function H5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const X5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wy(t,e,n,r,i){if(oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function K5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Y5(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Rr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,d){const h=au(u);if(!h)throw new Error("header name must be a non-empty string");const f=oe.findKey(i,h);(!f||i[f]===void 0||d===!0||d===void 0&&i[f]!==!1)&&(i[f||u]=Tf(l))}const o=(l,u)=>oe.forEach(l,(d,h)=>s(d,h,u));if(oe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(oe.isString(e)&&(e=e.trim())&&!X5(e))o(W5(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let l={},u,d;for(const h of e){if(!oe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(u=l[d])?oe.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=au(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return H5(i);if(oe.isFunction(n))return n.call(this,i,r);if(oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=au(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=au(o),o){const l=oe.findKey(r,o);l&&(!n||wy(r,r[l],l,n))&&(delete r[l],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||wy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return oe.forEach(this,(i,s)=>{const o=oe.findKey(r,s);if(o){n[o]=Tf(i),delete n[s];return}const l=e?K5(s):String(s).trim();l!==s&&delete n[s],n[l]=Tf(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[LC]=this[LC]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=au(o);r[l]||(Y5(i,o),r[l]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}};Rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Rr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(Rr);function Sy(t,e){const n=this||yd,r=e||n,i=Rr.from(r.headers);let s=r.data;return oe.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function aP(t){return!!(t&&t.__CANCEL__)}function uc(t,e,n){ot.call(this,t??"canceled",ot.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(uc,ot,{__CANCEL__:!0});function lP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ot("Request failed with status code "+n.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Z5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function q5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),h=r[s];o||(o=d),n[i]=u,r[i]=d;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const y=h&&d-h;return y?Math.round(p*1e3/y):void 0}}function J5(t,e){let n=0,r=1e3/e,i,s;const o=(d,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=r?o(d,h):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const $f=(t,e,n=3)=>{let r=0;const i=q5(50,250);return J5(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-r,d=i(u),h=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},DC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},OC=t=>(...e)=>oe.asap(()=>t(...e)),Q5=ir.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ir.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ir.origin),ir.navigator&&/(msie|trident)/i.test(ir.navigator.userAgent)):()=>!0,e3=ir.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function n3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cP(t,e,n){let r=!t3(e);return t&&(r||n==!1)?n3(t,e):e}const VC=t=>t instanceof Rr?{...t}:t;function Pa(t,e){e=e||{};const n={};function r(d,h,f,p){return oe.isPlainObject(d)&&oe.isPlainObject(h)?oe.merge.call({caseless:p},d,h):oe.isPlainObject(h)?oe.merge({},h):oe.isArray(h)?h.slice():h}function i(d,h,f,p){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d,f,p)}else return r(d,h,f,p)}function s(d,h){if(!oe.isUndefined(h))return r(void 0,h)}function o(d,h){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,f){if(f in e)return r(d,h);if(f in t)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,f)=>i(VC(d),VC(h),f,!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=u[h]||i,p=f(t[h],e[h],h);oe.isUndefined(p)&&f!==l||(n[h]=p)}),n}const uP=t=>{const e=Pa({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Rr.from(o),e.url=iP(cP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(oe.isFormData(n)){if(ir.hasStandardBrowserEnv||ir.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...h]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(ir.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&Q5(e.url))){const d=i&&s&&e3.read(s);d&&o.set(i,d)}return e},r3=typeof XMLHttpRequest<"u",i3=r3&&function(t){return new Promise(function(n,r){const i=uP(t);let s=i.data;const o=Rr.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,h,f,p,y,v;function w(){y&&y(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function b(){if(!S)return;const T=Rr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:t,request:S};lP(function(F){n(F),w()},function(F){r(F),w()},k),S=null}"onloadend"in S?S.onloadend=b:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(b)},S.onabort=function(){S&&(r(new ot("Request aborted",ot.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new ot("Network Error",ot.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||sP;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new ot(P,k.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,t,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&oe.forEach(o.toJSON(),function(P,k){S.setRequestHeader(k,P)}),oe.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),l&&l!=="json"&&(S.responseType=i.responseType),d&&([p,v]=$f(d,!0),S.addEventListener("progress",p)),u&&S.upload&&([f,y]=$f(u),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=T=>{S&&(r(!T||T.type?new uc(null,t,S):T),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const R=Z5(i.url);if(R&&ir.protocols.indexOf(R)===-1){r(new ot("Unsupported protocol "+R+":",ot.ERR_BAD_REQUEST,t));return}S.send(s||null)})},s3=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof ot?h:new uc(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new ot(`timeout ${e} of ms exceeded`,ot.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>oe.asap(l),u}},o3=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},a3=async function*(t,e){for await(const n of l3(t))yield*o3(n,e)},l3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},zC=(t,e,n,r)=>{const i=a3(t,e);let s=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:h}=await i.next();if(d){l(),u.close();return}let f=h.byteLength;if(n){let p=s+=f;n(p)}u.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Fm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",dP=Fm&&typeof ReadableStream=="function",c3=Fm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},u3=dP&&hP(()=>{let t=!1;const e=new Request(ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),$C=64*1024,P0=dP&&hP(()=>oe.isReadableStream(new Response("").body)),Bf={stream:P0&&(t=>t.body)};Fm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bf[e]&&(Bf[e]=oe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ot(`Response type '${e}' is not supported`,ot.ERR_NOT_SUPPORT,r)})})})(new Response);const d3=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(ir.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await c3(t)).byteLength},h3=async(t,e)=>{const n=oe.toFiniteNumber(t.getContentLength());return n??d3(e)},f3=Fm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:h,withCredentials:f="same-origin",fetchOptions:p}=uP(t);d=d?(d+"").toLowerCase():"text";let y=s3([i,s&&s.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(u&&u3&&n!=="get"&&n!=="head"&&(S=await h3(h,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(oe.isFormData(r)&&(M=k.headers.get("content-type"))&&h.setContentType(M),k.body){const[F,I]=DC(S,$f(OC(u)));r=zC(k.body,$C,F,I)}}oe.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;v=new Request(e,{...p,signal:y,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0});let R=await fetch(v);const T=P0&&(d==="stream"||d==="response");if(P0&&(l||T&&w)){const k={};["status","statusText","headers"].forEach(z=>{k[z]=R[z]});const M=oe.toFiniteNumber(R.headers.get("content-length")),[F,I]=l&&DC(M,$f(OC(l),!0))||[];R=new Response(zC(R.body,$C,F,()=>{I&&I(),w&&w()}),k)}d=d||"text";let P=await Bf[oe.findKey(Bf,d)||"text"](R,t);return!T&&w&&w(),await new Promise((k,M)=>{lP(k,M,{data:P,headers:Rr.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:v})})}catch(b){throw w&&w(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,t,v),{cause:b.cause||b}):ot.from(b,b&&b.code,t,v)}}),k0={http:P5,xhr:i3,fetch:f3};oe.forEach(k0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const BC=t=>`- ${t}`,m3=t=>oe.isFunction(t)||t===null||t===!1,fP={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!m3(n)&&(r=k0[(o=String(n)).toLowerCase()],r===void 0))throw new ot(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(BC).join(`
`):" "+BC(s[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:k0};function Cy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new uc(null,t)}function GC(t){return Cy(t),t.headers=Rr.from(t.headers),t.data=Sy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fP.getAdapter(t.adapter||yd.adapter)(t).then(function(r){return Cy(t),r.data=Sy.call(t,t.transformResponse,r),r.headers=Rr.from(r.headers),r},function(r){return aP(r)||(Cy(t),r&&r.response&&(r.response.data=Sy.call(t,t.transformResponse,r.response),r.response.headers=Rr.from(r.response.headers))),Promise.reject(r)})}const mP="1.9.0",jm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{jm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const UC={};jm.transitional=function(e,n,r){function i(s,o){return"[Axios v"+mP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new ot(i(o," has been removed"+(n?" in "+n:"")),ot.ERR_DEPRECATED);return n&&!UC[o]&&(UC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};jm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function g3(t,e,n){if(typeof t!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],u=l===void 0||o(l,s,t);if(u!==!0)throw new ot("option "+s+" must be "+u,ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ot("Unknown option "+s,ot.ERR_BAD_OPTION)}}const Pf={assertOptions:g3,validators:jm},Hi=Pf.validators;let wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jC,response:new jC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Pa(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Pf.assertOptions(r,{silentJSONParsing:Hi.transitional(Hi.boolean),forcedJSONParsing:Hi.transitional(Hi.boolean),clarifyTimeoutError:Hi.transitional(Hi.boolean)},!1),i!=null&&(oe.isFunction(i)?n.paramsSerializer={serialize:i}:Pf.assertOptions(i,{encode:Hi.function,serialize:Hi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Pf.assertOptions(n,{baseUrl:Hi.spelling("baseURL"),withXsrfToken:Hi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[n.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Rr.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,f=0,p;if(!u){const v=[GC.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,d),p=v.length,h=Promise.resolve(n);f<p;)h=h.then(v[f++],v[f++]);return h}p=l.length;let y=n;for(f=0;f<p;){const v=l[f++],w=l[f++];try{y=v(y)}catch(S){w.call(this,S);break}}try{h=GC.call(this,y)}catch(v){return Promise.reject(v)}for(f=0,p=d.length;f<p;)h=h.then(d[f++],d[f++]);return h}getUri(e){e=Pa(this.defaults,e);const n=cP(e.baseURL,e.url,e.allowAbsoluteUrls);return iP(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){wa.prototype[e]=function(n,r){return this.request(Pa(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Pa(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}wa.prototype[e]=n(),wa.prototype[e+"Form"]=n(!0)});let p3=class gP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new uc(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new gP(function(i){e=i}),cancel:e}}};function y3(t){return function(n){return t.apply(null,n)}}function x3(t){return oe.isObject(t)&&t.isAxiosError===!0}const A0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(A0).forEach(([t,e])=>{A0[e]=t});function pP(t){const e=new wa(t),n=HT(wa.prototype.request,e);return oe.extend(n,wa.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return pP(Pa(t,i))},n}const fn=pP(yd);fn.Axios=wa;fn.CanceledError=uc;fn.CancelToken=p3;fn.isCancel=aP;fn.VERSION=mP;fn.toFormData=Nm;fn.AxiosError=ot;fn.Cancel=fn.CanceledError;fn.all=function(e){return Promise.all(e)};fn.spread=y3;fn.isAxiosError=x3;fn.mergeConfig=Pa;fn.AxiosHeaders=Rr;fn.formToJSON=t=>oP(oe.isHTMLForm(t)?new FormData(t):t);fn.getAdapter=fP.getAdapter;fn.HttpStatusCode=A0;fn.default=fn;const{Axios:Aee,AxiosError:Mee,CanceledError:Iee,isCancel:Nee,CancelToken:Fee,VERSION:jee,all:Lee,Cancel:Dee,isAxiosError:Oee,spread:Vee,toFormData:zee,AxiosHeaders:$ee,HttpStatusCode:Bee,formToJSON:Gee,getAdapter:Uee,mergeConfig:Wee}=fn,yP="http://192.168.1.35:5000",Lm=fn.create({baseURL:yP,withCredentials:!0,headers:{"Content-Type":"application/json"}});Lm.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});async function At(t,e={}){const n=localStorage.getItem("token"),r=e.headers?{...e.headers}:{};n&&(r.Authorization=`Bearer ${n}`);const i=`${yP}${t}`;return await fetch(i,{credentials:"include",...e,headers:r})}const v3=async t=>{try{return(await Lm.post("/api/user/login",t,{withCredentials:!0})).data}catch(e){throw e.response?new Error(e.response.data.message||"Error de autenticacin."):new Error("No se pudo conectar con el servidor.")}},_3=async()=>{try{return(await Lm.post("/api/user/logout",{},{withCredentials:!0})).data}catch{throw new Error("Error al cerrar sesin.")}},w3=async()=>{try{return(await Lm.get("/api/user/session",{withCredentials:!0})).data}catch(t){if(t.response&&t.response.status===401)return{authenticated:!1};throw new Error("Error al verificar sesin.")}},xP=_.createContext(null),Dm=()=>_.useContext(xP);function S3({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const u=await w3();u.authenticated?n(u.user):n(null)}catch(u){console.log(" No autenticado:",u.message),n(null)}finally{i(!1)}})()},[]);const s=async l=>{const u=await v3(l);return u.status==="ok"&&(n(u.user),u.access_token&&localStorage.setItem("token",u.access_token)),u},o=async()=>{await _3(),localStorage.removeItem("token"),n(null)};return g.jsx(xP.Provider,{value:{user:e,login:s,logout:o,isAuthenticated:!!e,loading:r},children:t})}function C3({menuOpen:t,setMenuOpen:e}){ji();const n=fd(),{logout:r}=Dm(),[i,s]=_.useState({width:window.innerWidth,height:window.innerHeight}),o=d=>{e(!1),setTimeout(()=>{n(d,{replace:!0})},100)},l=d=>{d.stopPropagation()},u=async()=>{await r(),n("/login",{replace:!0})};return _.useEffect(()=>{const d=()=>{s({width:window.innerWidth,height:window.innerHeight})},h=f=>{f.key==="Escape"&&e(!1)};return window.addEventListener("resize",d),document.addEventListener("keydown",h),()=>{window.removeEventListener("resize",d),document.removeEventListener("keydown",h)}},[e]),g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:g.jsx("button",{onClick:()=>e(!0),className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(h4,{className:"w-6 h-6 text-gray-800"})})}),t&&g.jsxs("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-md z-50 transition-all duration-300 ease-in-out animate-slide-in-left",onClick:()=>e(!1),children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-6 text-lg text-gray-700 hover:text-red-600",children:""}),g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-4 text-center",onClick:l,children:[[["Mapa","/mapa"],["Parcelas","/parcelas"],["Campos","/campos"],["Alertas","/alertas"],["Animales","/animales"]].map(([d,h])=>g.jsx("button",{onClick:()=>o(h),className:`w-full text-gray-800 font-semibold hover:text-green-600 transition-all\r
                                    text-xl sm:text-2xl md:text-3xl lg:text-4xl menu-button`,children:d},h)),g.jsxs("button",{onClick:u,className:"mt-10 text-red-600 hover:text-red-800 flex items-center gap-2 text-lg",children:[g.jsx(YV,{className:"w-5 h-5"}),"Cerrar sesin"]})]})]},i.width)]})}function b3(){const[t,e]=_.useState(!1);return{menuOpen:t,setMenuOpen:e}}function lu({label:t,icon:e,path:n,current:r,navigate:i,full:s=!1,onClick:o}){const l=()=>{i(n),o&&o()};return g.jsxs("button",{onClick:l,className:`h-full w-full flex flex-col items-center justify-center flex-1 py-1
                        ${r===n?"text-green-600 font-semibold":"text-gray-700"}
                        transition-all`,children:[g.jsx("span",{className:"text-lg",children:e}),g.jsx("span",{className:"text-[10px] min-[400px]:block hidden leading-none",children:t})]})}function E3({setMenuOpen:t}){const e=ji(),n=fd(),r=i=>{t(!1),setTimeout(()=>{n(i,{replace:!0})},100)};return g.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-16 z-50 bg-white border-t flex justify-around items-center",children:[g.jsx(lu,{label:"Campos",icon:g.jsx(dv,{}),path:"/campos",current:e.pathname,navigate:r}),g.jsx(lu,{label:"Parcelas",icon:g.jsx(zT,{}),path:"/parcelas",current:e.pathname,navigate:r}),g.jsx(lu,{label:"Mapa",icon:g.jsx(l4,{}),path:"/mapa",current:e.pathname,navigate:r}),g.jsx(lu,{label:"Alertas",icon:g.jsx(JO,{}),path:"/alertas",current:e.pathname,navigate:r}),g.jsx(lu,{label:"Animales",icon:g.jsx(Ro,{}),path:"/animales",current:e.pathname,navigate:r})]})}function R3(){const{login:t,isAuthenticated:e,loading:n}=Dm(),r=fd(),[i,s]=_.useState({username:"",password:""}),[o,l]=_.useState(null),[u,d]=_.useState(!1);_.useEffect(()=>{!n&&e&&r("/mapa",{replace:!0})},[n,e,r]);const h=p=>{s({...i,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault(),d(!0),l(null);try{await t(i),r("/mapa")}catch(y){l(y.message||"Error de autenticacin"),d(!1)}};return n?g.jsx("div",{className:"text-center text-red-600 mt-10",children:"Verificando sesin..."}):g.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-green-50 bg-gray-400",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white shadow-xl rounded-xl overflow-hidden max-w-4xl w-full",children:[g.jsx("div",{className:"hidden md:block w-1/2 min-h-[500px] bg-cover bg-center",style:{backgroundImage:"url('https://i.pinimg.com/736x/4f/ec/ee/4fecee3b0ba71316c5ffe25a78265c9e.jpg')"}}),g.jsxs("form",{onSubmit:f,className:"p-8 w-full md:w-1/2",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 text-center",children:"Bienvenido"}),g.jsx("p",{className:"text-sm text-gray-500 mb-6 text-center",children:"Acced a tu sistema de gestin ganadera"}),o&&g.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:o}),g.jsxs("div",{className:"mb-4 relative",children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),g.jsxs("div",{className:"flex items-center border rounded-xl shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(vV,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:i.username,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsxs("div",{className:"mb-6 relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),g.jsxs("div",{className:"flex items-center border rounded-xl shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(XV,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:i.password,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsx("button",{type:"submit",disabled:u,className:"w-full py-2 px-4 bg-black text-white font-semibold rounded-xl hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition",children:u?"Ingresando...":"Ingresar"})]})]})})}function WC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Om(...t){return e=>{let n=!1;const r=t.map(i=>{const s=WC(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():WC(t[i],null)}}}}function ft(...t){return _.useCallback(Om(...t),t)}function ka(t){const e=T3(t),n=_.forwardRef((r,i)=>{const{children:s,...o}=r,l=_.Children.toArray(s),u=l.find(k3);if(u){const d=u.props.children,h=l.map(f=>f===u?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:f);return g.jsx(e,{...o,ref:i,children:_.isValidElement(d)?_.cloneElement(d,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var vP=ka("Slot");function T3(t){const e=_.forwardRef((n,r)=>{const{children:i,...s}=n;if(_.isValidElement(i)){const o=M3(i),l=A3(s,i.props);return i.type!==_.Fragment&&(l.ref=r?Om(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _P=Symbol("radix.slottable");function P3(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_P,e}function k3(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_P}function A3(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function M3(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function SP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wP(t))&&(r&&(r+=" "),r+=e);return r}const HC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,XC=SP,pv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return XC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],f=s==null?void 0:s[d];if(h===null)return null;const p=HC(h)||HC(f);return i[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(v=>{let[w,S]=v;return Array.isArray(S)?S.includes({...s,...l}[w]):{...s,...l}[w]===S})?[...d,f,p]:d},[]);return XC(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},yv="-",I3=t=>{const e=F3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(yv);return l[0]===""&&l.length!==1&&l.shift(),CP(l,e)||N3(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},CP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?CP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(yv);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},KC=/^\[(.+)\]$/,N3=t=>{if(KC.test(t)){const e=KC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},F3=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)M0(n[i],r,i,e);return r},M0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:YC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(j3(i)){M0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{M0(o,YC(e,s),n,r)})})},YC=(t,e)=>{let n=t;return e.split(yv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},j3=t=>t.isThemeGetter,L3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},I0="!",N0=":",D3=N0.length,O3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,u=0,d;for(let v=0;v<i.length;v++){let w=i[v];if(o===0&&l===0){if(w===N0){s.push(i.slice(u,v)),u=v+D3;continue}if(w==="/"){d=v;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const h=s.length===0?i:i.substring(u),f=V3(h),p=f!==h,y=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:y}};if(e){const i=e+N0,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},V3=t=>t.endsWith(I0)?t.substring(0,t.length-1):t.startsWith(I0)?t.substring(1):t,z3=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},$3=t=>({cache:L3(t.cacheSize),parseClassName:O3(t),sortModifiers:z3(t),...I3(t)}),B3=/\s+/,G3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(B3);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:f,modifiers:p,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}=n(h);if(f){u=h+(u.length>0?" "+u:u);continue}let S=!!w,b=r(S?v.substring(0,w):v);if(!b){if(!S){u=h+(u.length>0?" "+u:u);continue}if(b=r(v),!b){u=h+(u.length>0?" "+u:u);continue}S=!1}const R=s(p).join(":"),T=y?R+I0:R,P=T+b;if(o.includes(P))continue;o.push(P);const k=i(b,S);for(let M=0;M<k.length;++M){const F=k[M];o.push(T+F)}u=h+(u.length>0?" "+u:u)}return u};function U3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bP(e))&&(r&&(r+=" "),r+=n);return r}const bP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bP(t[r]))&&(n&&(n+=" "),n+=e);return n};function W3(t,...e){let n,r,i,s=o;function o(u){const d=e.reduce((h,f)=>f(h),t());return n=$3(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const h=G3(u,n);return i(u,h),h}return function(){return s(U3.apply(null,arguments))}}const bn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},EP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H3=/^\d+\/\d+$/,X3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gl=t=>H3.test(t),lt=t=>!!t&&!Number.isNaN(Number(t)),lo=t=>!!t&&Number.isInteger(Number(t)),by=t=>t.endsWith("%")&&lt(t.slice(0,-1)),ws=t=>X3.test(t),J3=()=>!0,Q3=t=>K3.test(t)&&!Y3.test(t),TP=()=>!1,ez=t=>Z3.test(t),tz=t=>q3.test(t),nz=t=>!Me(t)&&!Ie(t),rz=t=>dc(t,AP,TP),Me=t=>EP.test(t),ta=t=>dc(t,MP,Q3),Ey=t=>dc(t,lz,lt),ZC=t=>dc(t,PP,TP),iz=t=>dc(t,kP,tz),Hh=t=>dc(t,IP,ez),Ie=t=>RP.test(t),cu=t=>hc(t,MP),sz=t=>hc(t,cz),qC=t=>hc(t,PP),oz=t=>hc(t,AP),az=t=>hc(t,kP),Xh=t=>hc(t,IP,!0),dc=(t,e,n)=>{const r=EP.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},hc=(t,e,n=!1)=>{const r=RP.exec(t);return r?r[1]?e(r[1]):n:!1},PP=t=>t==="position"||t==="percentage",kP=t=>t==="image"||t==="url",AP=t=>t==="length"||t==="size"||t==="bg-size",MP=t=>t==="length",lz=t=>t==="number",cz=t=>t==="family-name",IP=t=>t==="shadow",uz=()=>{const t=bn("color"),e=bn("font"),n=bn("text"),r=bn("font-weight"),i=bn("tracking"),s=bn("leading"),o=bn("breakpoint"),l=bn("container"),u=bn("spacing"),d=bn("radius"),h=bn("shadow"),f=bn("inset-shadow"),p=bn("text-shadow"),y=bn("drop-shadow"),v=bn("blur"),w=bn("perspective"),S=bn("aspect"),b=bn("ease"),R=bn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...P(),Ie,Me],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],I=()=>[Ie,Me,u],z=()=>[gl,"full","auto",...I()],W=()=>[lo,"none","subgrid",Ie,Me],V=()=>["auto",{span:["full",lo,Ie,Me]},lo,Ie,Me],X=()=>[lo,"auto",Ie,Me],G=()=>["auto","min","max","fr",Ie,Me],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...I()],D=()=>[gl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],j=()=>[t,Ie,Me],U=()=>[...P(),qC,ZC,{position:[Ie,Me]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",oz,rz,{size:[Ie,Me]}],L=()=>[by,cu,ta],ne=()=>["","none","full",d,Ie,Me],ie=()=>["",lt,cu,ta],ce=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[lt,by,qC,ZC],pe=()=>["","none",v,Ie,Me],we=()=>["none",lt,Ie,Me],be=()=>["none",lt,Ie,Me],$e=()=>[lt,Ie,Me],Be=()=>[gl,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ws],breakpoint:[ws],color:[J3],container:[ws],"drop-shadow":[ws],ease:["in","out","in-out"],font:[nz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ws],shadow:[ws],spacing:["px",lt],text:[ws],"text-shadow":[ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gl,Me,Ie,S]}],container:["container"],columns:[{columns:[lt,Me,Ie,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[lo,"auto",Ie,Me]}],basis:[{basis:[gl,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lt,gl,"auto","initial","none",Me]}],grow:[{grow:["",lt,Ie,Me]}],shrink:[{shrink:["",lt,Ie,Me]}],order:[{order:[lo,"first","last","none",Ie,Me]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[l,"screen",...D()]}],"min-w":[{"min-w":[l,"screen","none",...D()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",n,cu,ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,Ey]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",by,Me]}],"font-family":[{font:[sz,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ie,Me]}],"line-clamp":[{"line-clamp":[lt,"none",Ie,Ey]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",Ie,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[lt,"from-font","auto",Ie,ta]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[lt,"auto",Ie,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lo,Ie,Me],radial:["",Ie,Me],conic:[lo,Ie,Me]},az,iz]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lt,Ie,Me]}],"outline-w":[{outline:["",lt,cu,ta]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,Xh,Hh]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",f,Xh,Hh]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[lt,ta]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",p,Xh,Hh]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[lt,Ie,Me]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Ie,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Me]}],filter:[{filter:["","none",Ie,Me]}],blur:[{blur:pe()}],brightness:[{brightness:[lt,Ie,Me]}],contrast:[{contrast:[lt,Ie,Me]}],"drop-shadow":[{"drop-shadow":["","none",y,Xh,Hh]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",lt,Ie,Me]}],"hue-rotate":[{"hue-rotate":[lt,Ie,Me]}],invert:[{invert:["",lt,Ie,Me]}],saturate:[{saturate:[lt,Ie,Me]}],sepia:[{sepia:["",lt,Ie,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Me]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[lt,Ie,Me]}],"backdrop-contrast":[{"backdrop-contrast":[lt,Ie,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lt,Ie,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lt,Ie,Me]}],"backdrop-invert":[{"backdrop-invert":["",lt,Ie,Me]}],"backdrop-opacity":[{"backdrop-opacity":[lt,Ie,Me]}],"backdrop-saturate":[{"backdrop-saturate":[lt,Ie,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",lt,Ie,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lt,"initial",Ie,Me]}],ease:[{ease:["linear","initial",b,Ie,Me]}],delay:[{delay:[lt,Ie,Me]}],animate:[{animate:["none",R,Ie,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ie,Me]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ie,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Me]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[lt,cu,ta,Ey]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dz=W3(uz);function Oe(...t){return dz(SP(t))}function hz(){const[t,e]=_.useState(0);return _.useEffect(()=>{const n=()=>e(window.innerWidth);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}const Tl={xs:640,sm:850,md:1040,lg:1200,xl:1390,xxl:1540},fz=pv("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-8",xs:"h-4 px-2 py-2",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),at=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?vP:"button";return g.jsx(o,{className:Oe(fz({variant:e,size:n,className:t})),ref:s,...i})});at.displayName="Button";function da({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i,confirmText:s="Aceptar",cancelText:o="Cancelar",children:l=null,confirmVariant:u="default",confirmColor:d="bg-black hover:bg-gray-700",cancelVariant:h="outline",icon:f=null,size:p="md"}){if(_.useEffect(()=>{if(t){const v=setTimeout(()=>{if(!l){const w=document.querySelector(".modal-footer-confirm-button");w&&w.focus()}},50);return()=>clearTimeout(v)}},[t,l]),!t)return null;const y={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",xxxxl:"max-w-4xl",full:"max-w-full"};return $a.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onKeyDown:v=>{v.key==="Escape"&&(i==null||i())},tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:g.jsx("div",{className:`bg-white p-4 rounded-xl shadow-xl w-full relative ${y[p]||y.md}`,children:l||g.jsxs(g.Fragment,{children:[g.jsxs("h2",{id:"modal-title",className:"text-lg font-bold mb-2 flex items-center gap-2",children:[f&&g.jsx("span",{className:"mr-1",children:f}),e]}),n&&g.jsx("p",{id:"modal-description",className:"text-sm text-gray-700 mb-4",children:n}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(at,{variant:h,onClick:i,className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:o}),g.jsx(at,{variant:u,onClick:r,className:`gap-2 ${d} text-white shadow-md w-full sm:w-auto modal-footer-confirm-button`,children:s})]})]})})}),document.body)}function xv({isOpen:t,message:e,onClose:n}){return _.useEffect(()=>{if(t){const r=setTimeout(()=>{const i=document.querySelector(".modal-info-confirm-button");i&&i.focus()},50);return()=>clearTimeout(r)}},[t]),t?$a.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg w-full max-w-sm text-center",role:"dialog","aria-modal":"true","aria-labelledby":"info-modal-title","aria-describedby":"info-modal-description",children:[g.jsx("h2",{id:"info-modal-title",className:"sr-only",children:"Informacin"}),g.jsx("p",{id:"info-modal-description",className:"text-sm text-gray-700 mb-4",children:e}),g.jsx(at,{onClick:n,className:"modal-info-confirm-button w-full sm:w-auto",children:"OK"})]})}),document.body):null}class Di{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Wl={PROPERTYCHANGE:"propertychange"};class vv{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function mz(t,e,n){let r,i;n=n||Aa;let s=0,o=t.length,l=!1;for(;s<o;)r=s+(o-s>>1),i=+n(t[r],e),i<0?s=r+1:(o=r,l=!i);return l?s:~s}function Aa(t,e){return t>e?1:t<e?-1:0}function _v(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return typeof n=="function"?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function gz(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function Ti(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function Bs(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function pz(t,e,n){const r=e||Aa;return t.every(function(i,s){if(s===0)return!0;const o=r(t[s-1],i);return!(o>0||o===0)})}function Ma(){return!0}function xd(){return!1}function Hl(){}function yz(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!Bs(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function fc(t){for(const e in t)delete t[e]}function Xl(t){let e;for(e in t)return!1;return!e}class Vm extends vv{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Di(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in o||(o[r]=0,l[r]=0),++o[r];let u;for(let d=0,h=i.length;d<h;++d)if("handleEvent"in i[d]?u=i[d].handleEvent(s):u=i[d].call(this,s),u===!1||s.propagationStopped){u=!1;break}if(--o[r]===0){let d=l[r];for(delete l[r];d--;)this.removeEventListener(r,Hl);delete o[r]}return u}disposeInternal(){this.listeners_&&fc(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=Hl,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}}const tt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function vt(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function Gf(t,e,n,r){return vt(t,e,n,r,!0)}function Wt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),fc(t))}class vd extends Vm{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(tt.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=vt(this,e[s],n);return i}return vt(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=Gf(this,e[s],n)}else r=Gf(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)xz(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}vd.prototype.on;vd.prototype.once;vd.prototype.un;function xz(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Wt(t[e]);else Wt(t)}function Qe(){throw new Error("Unimplemented abstract method.")}let vz=0;function nt(t){return t.ol_uid||(t.ol_uid=String(++vz))}class JC extends Di{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class Oi extends vd{constructor(e){super(),this.on,this.once,this.un,nt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new JC(r,e,n)),r=Wl.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new JC(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],Xl(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}const _z={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class NP extends Error{constructor(e){const n=_z[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}function ct(t,e){if(!t)throw new NP(e)}let rr=class FP extends Oi{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new FP(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Wt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=vt(e,tt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?wz(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function wz(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(ct(typeof t.getZIndex=="function",41),e=[t]),function(){return e}}const To=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Sz=To.includes("firefox"),Cz=To.includes("safari")&&!To.includes("chrom");Cz&&(To.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(To));const bz=To.includes("webkit")&&!To.includes("edge"),Ez=To.includes("macintosh"),jP=typeof devicePixelRatio<"u"?devicePixelRatio:1,wv=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Rz=typeof Image<"u"&&Image.prototype.decode,LP=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();new Array(6);function ns(){return[1,0,0,1,0,0]}function Tz(t,e,n,r,i,s,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t}function Pz(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ln(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function kz(t,e,n){return Tz(t,e,0,0,n,0,0)}function Po(t,e,n,r,i,s,o,l){const u=Math.sin(s),d=Math.cos(s);return t[0]=r*d,t[1]=i*u,t[2]=-r*u,t[3]=i*d,t[4]=o*r*d-l*r*u+e,t[5]=o*i*u+l*i*d+n,t}function Sv(t,e){const n=Az(e);ct(n!==0,32);const r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5];return t[0]=o/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*u-o*l)/n,t[5]=-(r*u-i*l)/n,t}function Az(t){return t[0]*t[3]-t[1]*t[2]}let QC;function DP(t){const e="matrix("+t.join(", ")+")";if(wv)return e;const n=QC||(QC=document.createElement("div"));return n.style.transform=e,n.style.transform}const jn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function pi(t){const e=Gr();for(let n=0,r=t.length;n<r;++n)bu(e,t[n]);return e}function _d(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function OP(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Ba(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function zm(t,e){return Cv(t,e[0],e[1])}function ma(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Cv(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function F0(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],o=e[0],l=e[1];let u=jn.UNKNOWN;return o<n?u=u|jn.LEFT:o>i&&(u=u|jn.RIGHT),l<r?u=u|jn.BELOW:l>s&&(u=u|jn.ABOVE),u===jn.UNKNOWN&&(u=jn.INTERSECTING),u}function Gr(){return[1/0,1/0,-1/0,-1/0]}function Fs(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function wd(t){return Fs(1/0,1/0,-1/0,-1/0,t)}function Cu(t,e){const n=t[0],r=t[1];return Fs(n,r,n,r,e)}function VP(t,e,n,r,i){const s=wd(i);return $P(s,t,e,n,r)}function zu(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function zP(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function bu(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function $P(t,e,n,r,i){for(;n<r;n+=i)Mz(t,e[n],e[n+1]);return t}function Mz(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function BP(t,e){let n;return n=e($m(t)),n||(n=e(Bm(t)),n)||(n=e(Gm(t)),n)||(n=e(Ga(t)),n)?n:!1}function j0(t){let e=0;return bv(t)||(e=Yt(t)*ls(t)),e}function $m(t){return[t[0],t[1]]}function Bm(t){return[t[2],t[1]]}function ko(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Iz(t,e){let n;return e==="bottom-left"?n=$m(t):e==="bottom-right"?n=Bm(t):e==="top-left"?n=Ga(t):e==="top-right"?n=Gm(t):ct(!1,13),n}function L0(t,e,n,r,i){const[s,o,l,u,d,h,f,p]=D0(t,e,n,r);return Fs(Math.min(s,l,d,f),Math.min(o,u,h,p),Math.max(s,l,d,f),Math.max(o,u,h,p),i)}function D0(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,o=Math.cos(n),l=Math.sin(n),u=i*o,d=i*l,h=s*o,f=s*l,p=t[0],y=t[1];return[p-u+f,y-d-h,p-u-f,y-d+h,p+u-f,y+d+h,p+u+f,y+d-h,p-u+f,y-d-h]}function ls(t){return t[3]-t[1]}function Eu(t,e,n){const r=n||Gr();return ur(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):wd(r),r}function Ga(t){return[t[0],t[3]]}function Gm(t){return[t[2],t[3]]}function Yt(t){return t[2]-t[0]}function ur(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function bv(t){return t[2]<t[0]||t[3]<t[1]}function Nz(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Fz(t,e,n){let r=!1;const i=F0(t,e),s=F0(t,n);if(i===jn.INTERSECTING||s===jn.INTERSECTING)r=!0;else{const o=t[0],l=t[1],u=t[2],d=t[3],h=e[0],f=e[1],p=n[0],y=n[1],v=(y-f)/(p-h);let w,S;s&jn.ABOVE&&!(i&jn.ABOVE)&&(w=p-(y-d)/v,r=w>=o&&w<=u),!r&&s&jn.RIGHT&&!(i&jn.RIGHT)&&(S=y-(p-u)*v,r=S>=l&&S<=d),!r&&s&jn.BELOW&&!(i&jn.BELOW)&&(w=p-(y-l)/v,r=w>=o&&w<=u),!r&&s&jn.LEFT&&!(i&jn.LEFT)&&(S=y-(p-o)*v,r=S>=l&&S<=d)}return r}function GP(t,e){const n=e.getExtent(),r=ko(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=Yt(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}function jz(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];GP(t,e);const r=Yt(n);if(Yt(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}const Ev={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class UP{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Ev[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Sd=6378137,Fl=Math.PI*Sd,Lz=[-Fl,-Fl,Fl,Fl],Dz=[-180,-85,180,85],Kh=Sd*Math.log(Math.tan(Math.PI/2));class pl extends UP{constructor(e){super({code:e,units:"m",extent:Lz,global:!0,worldExtent:Dz,getPointResolution:function(n,r){return n/Math.cosh(r[1]/Sd)}})}}const eb=[new pl("EPSG:3857"),new pl("EPSG:102100"),new pl("EPSG:102113"),new pl("EPSG:900913"),new pl("http://www.opengis.net/def/crs/EPSG/0/3857"),new pl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Oz(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=Fl*t[i]/180;let s=Sd*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>Kh?s=Kh:s<-Kh&&(s=-Kh),e[i+1]=s}return e}function Vz(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Fl,e[i+1]=360*Math.atan(Math.exp(t[i+1]/Sd))/Math.PI-90;return e}const zz=6378137,tb=[-180,-90,180,90],$z=Math.PI*zz/180;class na extends UP{constructor(e,n){super({code:e,units:"degrees",extent:tb,axisOrientation:n,global:!0,metersPerUnit:$z,worldExtent:tb})}}const nb=[new na("CRS:84"),new na("EPSG:4326","neu"),new na("urn:ogc:def:crs:OGC:1.3:CRS84"),new na("urn:ogc:def:crs:OGC:2:84"),new na("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new na("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new na("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let O0={};function Bz(t){return O0[t]||O0[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Gz(t,e){O0[t]=e}let zl={};function Uf(t,e,n){const r=t.getCode(),i=e.getCode();r in zl||(zl[r]={}),zl[r][i]=n}function Uz(t,e){let n;return t in zl&&e in zl[t]&&(n=zl[t][e]),n}function _n(t,e,n){return Math.min(Math.max(t,e),n)}function Wz(t,e,n,r,i,s){const o=i-n,l=s-r;if(o!==0||l!==0){const u=((t-n)*o+(e-r)*l)/(o*o+l*l);u>1?(n=i,r=s):u>0&&(n+=o*u,r+=l*u)}return Sa(t,e,n,r)}function Sa(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function Hz(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let l=r+1;l<e;l++){const u=Math.abs(t[l][r]);u>s&&(s=u,i=l)}if(s===0)return null;const o=t[i];t[i]=t[r],t[r]=o;for(let l=r+1;l<e;l++){const u=-t[l][r]/t[r][r];for(let d=r;d<e+1;d++)r==d?t[l][d]=0:t[l][d]+=u*t[r][d]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function Ca(t){return t*Math.PI/180}function ba(t,e){const n=t%e;return n*e<0?n+e:n}function Dr(t,e,n){return t+n*(e-t)}function Rv(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Yh(t,e){return Math.floor(Rv(t,e))}function Zh(t,e){return Math.ceil(Rv(t,e))}function WP(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function HP(t,e){const n=t[0],r=t[1],i=e[0],s=e[1],o=i[0],l=i[1],u=s[0],d=s[1],h=u-o,f=d-l,p=h===0&&f===0?0:(h*(n-o)+f*(r-l))/(h*h+f*f||0);let y,v;return p<=0?(y=o,v=l):p>=1?(y=u,v=d):(y=o+p*h,v=l+p*f),[y,v]}function _i(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Tv(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function XP(t,e){return t[0]*=e,t[1]*=e,t}function $u(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function rb(t,e){return Math.sqrt($u(t,e))}function Xz(t,e){return $u(t,HP(t,e))}function KP(t,e){if(e.canWrapX()){const n=Yt(e.getExtent()),r=Kz(t,e,n);r&&(t[0]-=r*n)}return t}function Kz(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||Yt(r),i=Math.floor((t[0]-r[0])/n)),i}const YP=63710088e-1;function ib(t,e,n){n=n||YP;const r=Ca(t[1]),i=Ca(e[1]),s=(i-r)/2,o=Ca(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function qh(t,e){let n=0;const r=t.length;let i=t[r-1][0],s=t[r-1][1];for(let o=0;o<r;o++){const l=t[o][0],u=t[o][1];n+=Ca(l-i)*(2+Math.sin(Ca(s))+Math.sin(Ca(u))),i=l,s=u}return n*e*e/2}function Um(t,e){e=e||{};const n=e.radius||YP,r=e.projection||"EPSG:3857",i=t.getType();i!=="GeometryCollection"&&(t=t.clone().transform(r,"EPSG:4326"));let s=0,o,l,u,d,h,f;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(o=t.getCoordinates(),s=Math.abs(qh(o[0],n)),u=1,d=o.length;u<d;++u)s-=Math.abs(qh(o[u],n));break}case"MultiPolygon":{for(o=t.getCoordinates(),u=0,d=o.length;u<d;++u)for(l=o[u],s+=Math.abs(qh(l[0],n)),h=1,f=l.length;h<f;++h)s-=Math.abs(qh(l[h],n));break}case"GeometryCollection":{const p=t.getGeometries();for(u=0,d=p.length;u<d;++u)s+=Um(p[u],e);break}default:throw new Error("Unsupported geometry type: "+i)}return s}function ZP(...t){console.warn(...t)}let V0=!0;function qP(t){V0=!1}function Pv(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function JP(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function Yz(t){Gz(t.getCode(),t),Uf(t,t,Pv)}function Zz(t){t.forEach(Yz)}function wn(t){return typeof t=="string"?Bz(t):t||null}function sb(t,e,n,r){t=wn(t);let i;const s=t.getPointResolutionFunc();if(s)i=s(e,n);else{const o=t.getUnits();if(o=="degrees"||r=="degrees")i=e;else{const l=Av(t,wn("EPSG:4326"));if(l===JP&&o!=="degrees")i=e*t.getMetersPerUnit();else{let d=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];d=l(d,d,2);const h=ib(d.slice(0,2),d.slice(2,4)),f=ib(d.slice(4,6),d.slice(6,8));i=(h+f)/2}const u=t.getMetersPerUnit();u!==void 0&&(i/=u)}}return i}function ob(t){Zz(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Uf(e,n,Pv)})})}function qz(t,e,n,r){t.forEach(function(i){e.forEach(function(s){Uf(i,s,n),Uf(s,i,r)})})}function kv(t,e){if(t){if(typeof t=="string")return wn(t)}else return wn(e);return t}function Wm(t,e){return qP(),Mv(t,"EPSG:4326","EPSG:3857")}function QP(t,e){const n=Mv(t,"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=ba(r+180,360)-180),n}function ha(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Av(t,e)===Pv)&&n}function Av(t,e){const n=t.getCode(),r=e.getCode();let i=Uz(n,r);return i||(i=JP),i}function Wf(t,e){const n=wn(t),r=wn(e);return Av(n,r)}function Mv(t,e,n){return Wf(e,n)(t,void 0,t.length)}function Bu(t,e){return t}function Pn(t,e){return V0&&!_i(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(V0=!1,ZP("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function Iv(t,e){return t}function _o(t,e){return t}function Jz(){ob(eb),ob(nb),qz(nb,eb,Oz,Vz)}Jz();function Ea(t,e,n,r,i,s){s=s||[];let o=0;for(let l=e;l<n;l+=r){const u=t[l],d=t[l+1];s[o++]=i[0]*u+i[2]*d+i[4],s[o++]=i[1]*u+i[3]*d+i[5]}return s&&s.length!=o&&(s.length=o),s}function ek(t,e,n,r,i,s,o){o=o||[];const l=Math.cos(i),u=Math.sin(i),d=s[0],h=s[1];let f=0;for(let p=e;p<n;p+=r){const y=t[p]-d,v=t[p+1]-h;o[f++]=d+y*l-v*u,o[f++]=h+y*u+v*l;for(let w=p+2;w<p+r;++w)o[f++]=t[w]}return o&&o.length!=f&&(o.length=f),o}function Qz(t,e,n,r,i,s,o,l){l=l||[];const u=o[0],d=o[1];let h=0;for(let f=e;f<n;f+=r){const p=t[f]-u,y=t[f+1]-d;l[h++]=u+i*p,l[h++]=d+s*y;for(let v=f+2;v<f+r;++v)l[h++]=t[v]}return l&&l.length!=h&&(l.length=h),l}function e$(t,e,n,r,i,s,o){o=o||[];let l=0;for(let u=e;u<n;u+=r){o[l++]=t[u]+i,o[l++]=t[u+1]+s;for(let d=u+2;d<u+r;++d)o[l++]=t[d]}return o&&o.length!=l&&(o.length=l),o}const ab=ns();class tk extends Oi{constructor(){super(),this.extent_=Gr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=yz(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Qe()}closestPointXY(e,n,r,i){return Qe()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Qe()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&wd(n),this.extentRevision_=this.getRevision()}return Nz(this.extent_,e)}rotate(e,n){Qe()}scale(e,n,r){Qe()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Qe()}getType(){return Qe()}applyTransform(e){Qe()}intersectsExtent(e){return Qe()}translate(e,n){Qe()}transform(e,n){const r=wn(e),i=r.getUnits()=="tile-pixels"?function(s,o,l){const u=r.getExtent(),d=r.getWorldExtent(),h=ls(d)/ls(u);return Po(ab,d[0],d[3],h,-h,0,0,0),Ea(s,0,s.length,l,ab,o),Wf(r,n)(s,o,l)}:Wf(r,n);return this.applyTransform(i),this}}class Hf extends tk{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Wt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,n=this.geometries_.length;e<n;++e)this.changeEventsKeys_.push(vt(this.geometries_[e],tt.CHANGE,this.changed,this))}clone(){const e=new Hf(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<Ba(this.getExtent(),e,n))return i;const s=this.geometries_;for(let o=0,l=s.length;o<l;++o)i=s[o].closestPointXY(e,n,r,i);return i}containsXY(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){wd(e);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)zP(e,n[r].getExtent());return e}getGeometries(){return lb(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let s=0,o=r.length;s<o;++s){const l=r[s],u=l.getSimplifiedGeometry(e);n.push(u),u!==l&&(i=!0)}if(i){const s=new Hf(null);return s.setGeometriesArray(n),s}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=ko(this.getExtent()));const i=this.geometries_;for(let s=0,o=i.length;s<o;++s)i[s].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(lb(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function lb(t){const e=[];for(let n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}class t${constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?wn(n.dataProjection):this.readProjection(e);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=wn(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return Qe()}readFeature(e,n){return Qe()}readFeatures(e,n){return Qe()}readGeometry(e,n){return Qe()}readProjection(e){return Qe()}writeFeature(e,n){return Qe()}writeFeatures(e,n){return Qe()}writeGeometry(e,n){return Qe()}}function nk(t,e,n){const r=n?wn(n.featureProjection):null,i=n?wn(n.dataProjection):null;let s;if(r&&i&&!ha(r,i)?s=(e?t.clone():t).transform(e?r:i,e?i:r):s=t,e&&n&&n.decimals!==void 0){const o=Math.pow(10,n.decimals),l=function(u){for(let d=0,h=u.length;d<h;++d)u[d]=Math.round(u[d]*o)/o;return u};s===t&&(s=t.clone()),s.applyTransform(l)}return s}class n$ extends t${constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(Jh(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(Jh(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return Qe()}readFeaturesFromObject(e,n){return Qe()}readGeometry(e,n){return this.readGeometryFromObject(Jh(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return Qe()}readProjection(e){return this.readProjectionFromObject(Jh(e))}readProjectionFromObject(e){return Qe()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return Qe()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return Qe()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return Qe()}}function Jh(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}else if(t!==null)return t;return null}class Ua extends tk{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return VP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Qe()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=cb(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Qe()}setLayout(e,n,r){let i;if(e)i=cb(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=r$(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();ek(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=ko(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();Qz(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();e$(r,0,r.length,i,e,n,r),this.changed()}}}function r$(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function cb(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function i$(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return Ea(r,0,r.length,i,e,n)}function ub(t,e,n,r,i,s,o){const l=t[e],u=t[e+1],d=t[n]-l,h=t[n+1]-u;let f;if(d===0&&h===0)f=e;else{const p=((i-l)*d+(s-u)*h)/(d*d+h*h);if(p>1)f=n;else if(p>0){for(let y=0;y<r;++y)o[y]=Dr(t[e+y],t[n+y],p);o.length=r;return}else f=e}for(let p=0;p<r;++p)o[p]=t[f+p];o.length=r}function Nv(t,e,n,r,i){let s=t[e],o=t[e+1];for(e+=r;e<n;e+=r){const l=t[e],u=t[e+1],d=Sa(s,o,l,u);d>i&&(i=d),s=l,o=u}return i}function Fv(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=Nv(t,e,l,r,i),e=l}return i}function s$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=Fv(t,e,l,r,i),e=l[l.length-1]}return i}function jv(t,e,n,r,i,s,o,l,u,d,h){if(e==n)return d;let f,p;if(i===0){if(p=Sa(o,l,t[e],t[e+1]),p<d){for(f=0;f<r;++f)u[f]=t[e+f];return u.length=r,p}return d}h=h||[NaN,NaN];let y=e+r;for(;y<n;)if(ub(t,y-r,y,r,o,l,h),p=Sa(o,l,h[0],h[1]),p<d){for(d=p,f=0;f<r;++f)u[f]=h[f];u.length=r,y+=r}else y+=r*Math.max((Math.sqrt(p)-Math.sqrt(d))/i|0,1);if(s&&(ub(t,n-r,e,r,o,l,h),p=Sa(o,l,h[0],h[1]),p<d)){for(d=p,f=0;f<r;++f)u[f]=h[f];u.length=r}return d}function Lv(t,e,n,r,i,s,o,l,u,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=jv(t,e,y,r,i,s,o,l,u,d,h),e=y}return d}function o$(t,e,n,r,i,s,o,l,u,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=Lv(t,e,y,r,i,s,o,l,u,d,h),e=y[y.length-1]}return d}function a$(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function Hm(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0;l<r;++l)t[e++]=o[l]}return e}function Dv(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const u=Hm(t,e,n[o],r);i[s++]=u,e=u}return i.length=s,i}function l$(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const u=Dv(t,e,n[o],r,i[s]);u.length===0&&(u[0]=e),i[s++]=u,e=u[u.length-1]}return i.length=s,i}function Ov(t,e,n,r,i,s,o){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[o++]=t[e],s[o++]=t[e+1];return o}const u=new Array(l);u[0]=1,u[l-1]=1;const d=[e,n-r];let h=0;for(;d.length>0;){const f=d.pop(),p=d.pop();let y=0;const v=t[p],w=t[p+1],S=t[f],b=t[f+1];for(let R=p+r;R<f;R+=r){const T=t[R],P=t[R+1],k=Wz(T,P,v,w,S,b);k>y&&(h=R,y=k)}y>i&&(u[(h-e)/r]=1,p+r<h&&d.push(p,h),h+r<f&&d.push(h,f))}for(let f=0;f<l;++f)u[f]&&(s[o++]=t[e+f*r],s[o++]=t[e+f*r+1]);return o}function c$(t,e,n,r,i,s,o,l){for(let u=0,d=n.length;u<d;++u){const h=n[u];o=Ov(t,e,h,r,i,s,o),l.push(o),e=h}return o}function oa(t,e){return e*Math.round(t/e)}function u$(t,e,n,r,i,s,o){if(e==n)return o;let l=oa(t[e],i),u=oa(t[e+1],i);e+=r,s[o++]=l,s[o++]=u;let d,h;do if(d=oa(t[e],i),h=oa(t[e+1],i),e+=r,e==n)return s[o++]=d,s[o++]=h,o;while(d==l&&h==u);for(;e<n;){const f=oa(t[e],i),p=oa(t[e+1],i);if(e+=r,f==d&&p==h)continue;const y=d-l,v=h-u,w=f-l,S=p-u;if(y*S==v*w&&(y<0&&w<y||y==w||y>0&&w>y)&&(v<0&&S<v||v==S||v>0&&S>v)){d=f,h=p;continue}s[o++]=d,s[o++]=h,l=d,u=h,d=f,h=p}return s[o++]=d,s[o++]=h,o}function rk(t,e,n,r,i,s,o,l){for(let u=0,d=n.length;u<d;++u){const h=n[u];o=u$(t,e,h,r,i,s,o),l.push(o),e=h}return o}function d$(t,e,n,r,i,s,o,l){for(let u=0,d=n.length;u<d;++u){const h=n[u],f=[];o=rk(t,e,h,r,i,s,o,f),l.push(f),e=h[h.length-1]}return o}function ik(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function wo(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=e;o<n;o+=r)i[s++]=t.slice(o,o+r);return i.length=s,i}function Gu(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const u=n[o];i[s++]=wo(t,e,u,r,i[s]),e=u}return i.length=s,i}function z0(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const u=n[o];i[s++]=u.length===1&&u[0]===e?[]:Gu(t,e,u,r,i[s]),e=u[u.length-1]}return i.length=s,i}function sk(t,e,n,r,i,s,o){let l,u;const d=(n-e)/r;if(d===1)l=e;else if(d===2)l=e,u=i;else if(d!==0){let h=t[e],f=t[e+1],p=0;const y=[0];for(let S=e+r;S<n;S+=r){const b=t[S],R=t[S+1];p+=Math.sqrt((b-h)*(b-h)+(R-f)*(R-f)),y.push(p),h=b,f=R}const v=i*p,w=mz(y,v);w<0?(u=(v-y[-w-2])/(y[-w-1]-y[-w-2]),l=e+(-w-2)*r):l=e+w*r}o=o>1?o:2,s=s||new Array(o);for(let h=0;h<o;++h)s[h]=l===void 0?NaN:u===void 0?t[l+h]:Dr(t[l+h],t[l+r+h],u);return s}function $0(t,e,n,r,i,s){if(n==e)return null;let o;if(i<t[e+r-1])return s?(o=t.slice(e,e+r),o[r-1]=i,o):null;if(t[n-1]<i)return s?(o=t.slice(n-r,n),o[r-1]=i,o):null;if(i==t[e+r-1])return t.slice(e,e+r);let l=e/r,u=n/r;for(;l<u;){const p=l+u>>1;i<t[(p+1)*r-1]?u=p:l=p+1}const d=t[l*r-1];if(i==d)return t.slice((l-1)*r,(l-1)*r+r);const h=t[(l+1)*r-1],f=(i-d)/(h-d);o=[];for(let p=0;p<r-1;++p)o.push(Dr(t[(l-1)*r+p],t[l*r+p],f));return o.push(i),o}function h$(t,e,n,r,i,s,o){if(o)return $0(t,e,n[n.length-1],r,i,s);let l;if(i<t[r-1])return s?(l=t.slice(0,r),l[r-1]=i,l):null;if(t[t.length-1]<i)return s?(l=t.slice(t.length-r),l[r-1]=i,l):null;for(let u=0,d=n.length;u<d;++u){const h=n[u];if(e!=h){if(i<t[e+r-1])return null;if(i<=t[h-1])return $0(t,e,h,r,i,!1);e=h}}return null}function f$(t,e,n,r,i){return!BP(i,function(o){return!ga(t,e,n,r,o[0],o[1])})}function ga(t,e,n,r,i,s){let o=0,l=t[n-r],u=t[n-r+1];for(;e<n;e+=r){const d=t[e],h=t[e+1];u<=s?h>s&&(d-l)*(s-u)-(i-l)*(h-u)>0&&o++:h<=s&&(d-l)*(s-u)-(i-l)*(h-u)<0&&o--,l=d,u=h}return o!==0}function Vv(t,e,n,r,i,s){if(n.length===0||!ga(t,e,n[0],r,i,s))return!1;for(let o=1,l=n.length;o<l;++o)if(ga(t,n[o-1],n[o],r,i,s))return!1;return!0}function m$(t,e,n,r,i,s){if(n.length===0)return!1;for(let o=0,l=n.length;o<l;++o){const u=n[o];if(Vv(t,e,u,r,i,s))return!0;e=u[u.length-1]}return!1}function Xm(t,e,n,r,i){const s=$P(Gr(),t,e,n,r);return ur(i,s)?ma(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:ik(t,e,n,r,function(o,l){return Fz(i,o,l)}):!1}function g$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){if(Xm(t,e,n[s],r,i))return!0;e=n[s]}return!1}function ok(t,e,n,r,i){return!!(Xm(t,e,n,r,i)||ga(t,e,n,r,i[0],i[1])||ga(t,e,n,r,i[0],i[3])||ga(t,e,n,r,i[2],i[1])||ga(t,e,n,r,i[2],i[3]))}function ak(t,e,n,r,i){if(!ok(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(f$(t,n[s-1],n[s],r,i)&&!Xm(t,n[s-1],n[s],r,i))return!1;return!0}function p$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(ak(t,e,l,r,i))return!0;e=l[l.length-1]}return!1}function lk(t,e,n,r){let i=t[e],s=t[e+1],o=0;for(let l=e+r;l<n;l+=r){const u=t[l],d=t[l+1];o+=Math.sqrt((u-i)*(u-i)+(d-s)*(d-s)),i=u,s=d}return o}class Ia extends Ua{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){this.flatCoordinates?Ti(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new Ia(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return ik(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,$0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return sk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return lk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Ov(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Ia(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Xm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hm(this.flatCoordinates,0,e,this.stride),this.changed()}}class Xf extends Ua{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{let i=this.getLayout();const s=e,o=[],l=[];for(let u=0,d=s.length;u<d;++u){const h=s[u];u===0&&(i=h.getLayout()),Ti(o,h.getFlatCoordinates()),l.push(o.length)}this.setFlatCoordinates(i,o),this.ends_=l}}appendLineString(e){this.flatCoordinates?Ti(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Xf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Fv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,h$(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return Gu(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Ia(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let o=0,l=n.length;o<l;++o){const u=n[o],d=new Ia(e.slice(s,u),r);i.push(d),s=u}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let o=0,l=i.length;o<l;++o){const u=i[o],d=sk(n,r,u,s,.5);Ti(e,d),r=u}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=c$(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new Xf(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return g$(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Dv(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class Tr extends Ua{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Tr(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,o=Sa(e,n,s[0],s[1]);if(o<i){const l=this.stride;for(let u=0;u<l;++u)r[u]=s[u];return r.length=l,o}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return Cu(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Cv(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=a$(this.flatCoordinates,0,e,this.stride),this.changed()}}class Km extends Ua{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){this.flatCoordinates?Ti(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Km(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<Ba(this.getExtent(),e,n))return i;const s=this.flatCoordinates,o=this.stride;for(let l=0,u=s.length;l<u;l+=o){const d=Sa(e,n,s[l],s[l+1]);if(d<i){i=d;for(let h=0;h<o;++h)r[h]=s[l+h];r.length=o}}return i}getCoordinates(){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||n<=e?null:new Tr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,o=e.length;s<o;s+=r){const l=new Tr(e.slice(s,s+r),n);i.push(l)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const o=n[i],l=n[i+1];if(Cv(e,o,l))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hm(this.flatCoordinates,0,e,this.stride),this.changed()}}function ck(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],u=t[e+1];i+=o*l-s*u,s=l,o=u}return i/2}function uk(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=ck(t,e,l,r),e=l}return i}function y$(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=uk(t,e,l,r),e=l[l.length-1]}return i}class Uu extends Ua{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Uu(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return ck(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Ov(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Uu(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hm(this.flatCoordinates,0,e,this.stride),this.changed()}}function dk(t,e,n,r,i,s,o){let l,u,d,h,f,p,y;const v=i[s+1],w=[];for(let R=0,T=n.length;R<T;++R){const P=n[R];for(h=t[P-r],p=t[P-r+1],l=e;l<P;l+=r)f=t[l],y=t[l+1],(v<=p&&y<=v||p<=v&&v<=y)&&(d=(v-p)/(y-p)*(f-h)+h,w.push(d)),h=f,p=y}let S=NaN,b=-1/0;for(w.sort(Aa),h=w[0],l=1,u=w.length;l<u;++l){f=w[l];const R=Math.abs(f-h);R>b&&(d=(h+f)/2,Vv(t,e,n,r,d,v)&&(S=d,b=R)),h=f}return isNaN(S)&&(S=i[s]),o?(o.push(S,v,b),o):[S,v,b]}function x$(t,e,n,r,i){let s=[];for(let o=0,l=n.length;o<l;++o){const u=n[o];s=dk(t,e,u,r,i,2*o,s),e=u[u.length-1]}return s}function v$(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function hk(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],u=t[e+1];i+=(l-s)*(u+o),s=l,o=u}return i===0?void 0:i>0}function fk(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],u=hk(t,e,l,r);if(s===0){if(i&&u||!i&&!u)return!1}else if(i&&!u||!i&&u)return!1;e=l}return!0}function _$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(!fk(t,e,l,r,i))return!1;l.length&&(e=l[l.length-1])}return!0}function B0(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],u=hk(t,e,l,r);(s===0?i&&u||!i&&!u:i&&!u||!i&&u)&&v$(t,e,l,r),e=l}return e}function db(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s)e=B0(t,e,n[s],r,i);return e}class tr extends Ua{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Ti(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new tr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Fv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Vv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return uk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),B0(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Gu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=ko(this.getExtent());this.flatInteriorPoint_=dk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Tr(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Uu(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const u=r[o],d=new Uu(n.slice(s,u),e);i.push(d),s=u}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;fk(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=B0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=rk(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new tr(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return ak(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Dv(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function hb(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new tr(s,"XY",[s.length])}function w$(t,e,n,r){const i=[];let s=Gr();for(let o=0,l=n.length;o<l;++o){const u=n[o];s=VP(t,e,u[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=u[u.length-1]}return i}class Kf extends Ua{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=this.getLayout();const s=e,o=[],l=[];for(let u=0,d=s.length;u<d;++u){const h=s[u];u===0&&(i=h.getLayout());const f=o.length,p=h.getEnds();for(let y=0,v=p.length;y<v;++y)p[y]+=f;Ti(o,h.getFlatCoordinates()),l.push(p)}n=i,e=o,r=l}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;Ti(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new Kf(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<Ba(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(s$(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),o$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return m$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return y$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),db(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,z0(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=w$(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=x$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Km(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;_$(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=db(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=d$(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new Kf(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,o=r.length;s<o;++s)r[s]-=n;return new tr(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const u=r[o].slice(),d=u[u.length-1];if(s!==0)for(let f=0,p=u.length;f<p;++f)u[f]-=s;const h=new tr(n.slice(s,d),e,u);i.push(h),s=d}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return p$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=l$(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}class mk extends n${constructor(e){e=e||{},super(),this.dataProjection=wn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=wn(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};const i=G0(r.geometry,n),s=new rr;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&s.setGeometryName(r.geometry_name),s.setGeometry(i),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,n){const r=e;let i=null;if(r.type==="FeatureCollection"){const s=e;i=[];const o=s.features;for(let l=0,u=o.length;l<u;++l)i.push(this.readFeatureFromObject(o[l],n))}else i=[this.readFeatureFromObject(e,n)];return i}readGeometryFromObject(e,n){return G0(e,n)}readProjectionFromObject(e){const n=e.crs;let r;return n?n.type=="name"?r=wn(n.properties.name):n.type==="EPSG"?r=wn("EPSG:"+n.properties.code):ct(!1,36):r=this.dataProjection,r}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;const s=e.getProperties(),o=e.getGeometry();return o&&(r.geometry=U0(o,n),delete s[e.getGeometryName()]),Xl(s)||(r.properties=s),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,s=e.length;i<s;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return U0(e,this.adaptOptions(n))}}function G0(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=C$(t);break}case"LineString":{n=b$(t);break}case"Polygon":{n=P$(t);break}case"MultiPoint":{n=R$(t);break}case"MultiLineString":{n=E$(t);break}case"MultiPolygon":{n=T$(t);break}case"GeometryCollection":{n=S$(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return nk(n,!1,e)}function S$(t,e){const n=t.geometries.map(function(r){return G0(r,e)});return new Hf(n)}function C$(t){return new Tr(t.coordinates)}function b$(t){return new Ia(t.coordinates)}function E$(t){return new Xf(t.coordinates)}function R$(t){return new Km(t.coordinates)}function T$(t){return new Kf(t.coordinates)}function P$(t){return new tr(t.coordinates)}function U0(t,e){t=nk(t,!0,e);const n=t.getType();let r;switch(n){case"Point":{r=F$(t);break}case"LineString":{r=A$(t);break}case"Polygon":{r=j$(t,e);break}case"MultiPoint":{r=I$(t);break}case"MultiLineString":{r=M$(t);break}case"MultiPolygon":{r=N$(t,e);break}case"GeometryCollection":{r=k$(t,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function k$(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return U0(r,e)})}}function A$(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function M$(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function I$(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function N$(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function F$(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function j$(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}const vn={ADD:"add",REMOVE:"remove"},fb={LENGTH:"length"};class Qh extends Di{constructor(e,n,r){super(e),this.element=n,this.index=r}}let $r=class extends Oi{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(fb.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Qh(vn.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Qh(vn.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Qh(vn.REMOVE,i,e)),this.dispatchEvent(new Qh(vn.ADD,n,e))}updateLength_(){this.set(fb.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new NP(58)}};function L$(t,e,n,r,i){gk(t,e,n||0,r||t.length-1,i||D$)}function gk(t,e,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,o=e-n+1,l=Math.log(s),u=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*u*(s-u)/s)*(o-s/2<0?-1:1),h=Math.max(n,Math.floor(e-o*u/s+d)),f=Math.min(r,Math.floor(e+(s-o)*u/s+d));gk(t,e,h,f,i)}var p=t[e],y=n,v=r;for(uu(t,n,e),i(t[r],p)>0&&uu(t,n,r);y<v;){for(uu(t,y,v),y++,v--;i(t[y],p)<0;)y++;for(;i(t[v],p)>0;)v--}i(t[n],p)===0?uu(t,n,v):(v++,uu(t,v,r)),v<=e&&(n=v+1),e<=v&&(r=v-1)}}function uu(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function D$(t,e){return t<e?-1:t>e?1:0}let pk=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!tf(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const l=n.children[o],u=n.leaf?i(l):l;tf(e,u)&&(n.leaf?r.push(l):Ty(e,u)?this._all(l,r):s.push(l))}n=s.pop()}return r}collides(e){let n=this.data;if(!tf(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],o=n.leaf?this.toBBox(s):s;if(tf(e,o)){if(n.leaf||Ty(e,o))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Pl([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],o=[];let l,u,d;for(;r||s.length;){if(r||(r=s.pop(),u=s[s.length-1],l=o.pop(),d=!0),r.leaf){const h=O$(e,r.children,n);if(h!==-1)return r.children.splice(h,1),s.push(r),this._condense(s),this}!d&&!r.leaf&&Ty(r,i)?(s.push(r),o.push(l),l=0,u=r,r=r.children[0]):u?(l++,r=u.children[l],d=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let o=this._maxEntries,l;if(s<=o)return l=Pl(e.slice(n,r+1)),yl(l,this.toBBox),l;i||(i=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,i-1))),l=Pl([]),l.leaf=!1,l.height=i;const u=Math.ceil(s/o),d=u*Math.ceil(Math.sqrt(o));mb(e,n,r,d,this.compareMinX);for(let h=n;h<=r;h+=d){const f=Math.min(h+d-1,r);mb(e,h,f,u,this.compareMinY);for(let p=h;p<=f;p+=u){const y=Math.min(p+u-1,f);l.children.push(this._build(e,p,y,i-1))}}return yl(l,this.toBBox),l}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,o=1/0,l;for(let u=0;u<n.children.length;u++){const d=n.children[u],h=Ry(d),f=$$(e,d)-h;f<o?(o=f,s=h<s?h:s,l=d):f===o&&h<s&&(s=h,l=d)}n=l||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],o=this._chooseSubtree(i,this.data,n,s);for(o.children.push(e),xu(o,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const o=this._chooseSplitIndex(r,s,i),l=Pl(r.children.splice(o,r.children.length-o));l.height=r.height,l.leaf=r.leaf,yl(r,this.toBBox),yl(l,this.toBBox),n?e[n-1].children.push(l):this._splitRoot(r,l)}_splitRoot(e,n){this.data=Pl([e,n]),this.data.height=e.height+1,this.data.leaf=!1,yl(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,o=1/0;for(let l=n;l<=r-n;l++){const u=yu(e,0,l,this.toBBox),d=yu(e,l,r,this.toBBox),h=B$(u,d),f=Ry(u)+Ry(d);h<s?(s=h,i=l,o=f<o?f:o):h===s&&f<o&&(o=f,i=l)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:V$,s=e.leaf?this.compareMinY:z$,o=this._allDistMargin(e,n,r,i),l=this._allDistMargin(e,n,r,s);o<l&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,o=yu(e,0,n,s),l=yu(e,r-n,r,s);let u=ef(o)+ef(l);for(let d=n;d<r-n;d++){const h=e.children[d];xu(o,e.leaf?s(h):h),u+=ef(o)}for(let d=r-n-1;d>=n;d--){const h=e.children[d];xu(l,e.leaf?s(h):h),u+=ef(l)}return u}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)xu(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():yl(e[n],this.toBBox)}};function O$(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function yl(t,e){yu(t,0,t.children.length,e,t)}function yu(t,e,n,r,i){i||(i=Pl(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const o=t.children[s];xu(i,t.leaf?r(o):o)}return i}function xu(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function V$(t,e){return t.minX-e.minX}function z$(t,e){return t.minY-e.minY}function Ry(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ef(t){return t.maxX-t.minX+(t.maxY-t.minY)}function $$(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function B$(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function Ty(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function tf(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Pl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mb(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const o=e+Math.ceil((n-e)/r/2)*r;L$(t,o,e,n,i),s.push(e,o,o,n)}}class W0{constructor(e){this.rbush_=new pk(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[nt(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const o=e[i],l=n[i],u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};r[i]=u,this.items_[nt(l)]=u}this.rbush_.load(r)}remove(e){const n=nt(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[nt(n)],i=[r.minX,r.minY,r.maxX,r.maxY];zu(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return Xl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Fs(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class yk extends Oi{constructor(e){super(),this.projection=wn(e.projection),this.attributions_=gb(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=gb(e),this.changed()}setState(e){this.state_=e,this.changed()}}function gb(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const jr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function G$(t,e){return[[-1/0,-1/0,1/0,1/0]]}let U$=!1;function W$(t,e,n,r,i,s,o){const l=new XMLHttpRequest;l.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(l.responseType="arraybuffer"),l.withCredentials=U$,l.onload=function(u){if(!l.status||l.status>=200&&l.status<300){const d=e.getType();let h;d=="json"||d=="text"?h=l.responseText:d=="xml"?(h=l.responseXML,h||(h=new DOMParser().parseFromString(l.responseText,"application/xml"))):d=="arraybuffer"&&(h=l.response),h?s(e.readFeatures(h,{extent:n,featureProjection:i}),e.readProjection(h)):o()}else o()},l.onerror=o,l.send()}function pb(t,e){return function(n,r,i,s,o){const l=this;W$(t,e,n,r,i,function(u,d){l.addFeatures(u),s!==void 0&&s(u)},o||Hl)}}class co extends Di{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class js extends yk{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Hl,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(ct(this.format_,7),this.loader_=pb(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:G$;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new W0:null,this.loadedExtentsRtree_=new W0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new $r(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=nt(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new co(jr.ADDFEATURE,e))}setupChangeEvents_(e,n){this.featureChangeKeys_[e]=[vt(n,tt.CHANGE,this.handleFeatureChange_,this),vt(n,Wl.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,n){let r=!0;const i=n.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=n),r&&(ct(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,o=e.length;s<o;s++){const l=e[s],u=nt(l);this.addToIndex_(u,l)&&r.push(l)}for(let s=0,o=r.length;s<o;s++){const l=r[s],u=nt(l);this.setupChangeEvents_(u,l);const d=l.getGeometry();if(d){const h=d.getExtent();n.push(h),i.push(l)}else this.nullGeometryFeatures_[u]=l}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(jr.ADDFEATURE))for(let s=0,o=r.length;s<o;s++)this.dispatchEvent(new co(jr.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(jr.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(jr.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(vn.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(vn.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(Wt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new co(jr.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){if(i.getGeometry().intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Xl(this.nullGeometryFeatures_)||Ti(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=jz(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const o=[NaN,NaN];let l=1/0;const u=[-1/0,-1/0,1/0,1/0];return n=n||Ma,this.featuresRtree_.forEachInExtent(u,function(d){if(n(d)){const h=d.getGeometry(),f=l;if(l=h.closestPointXY(r,i,o,l),l<f){s=d;const p=Math.sqrt(l);u[0]=r-p,u[1]=i-p,u[2]=r+p,u[3]=i+p}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=nt(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const o=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const s=n.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new co(jr.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:nt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Xl(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let o=0,l=s.length;o<l;++o){const u=s[o];i.forEachInExtent(u,function(h){return ma(h.extent,u)})||(++this.loadingExtentsCount_,this.dispatchEvent(new co(jr.FEATURESLOADSTART)),this.loader_.call(this,u,n,r,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new co(jr.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new co(jr.FEATURESLOADERROR))}),i.insert(u,{extent:u.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if(zu(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeature(e){if(!e)return;const n=nt(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=nt(e),r=this.featureChangeKeys_[n];if(!r)return;r.forEach(Wt),delete this.featureChangeKeys_[n];const i=e.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new co(jr.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}return n}setLoader(e){this.loader_=e}setUrl(e){ct(this.format_,7),this.url_=e,this.setLoader(pb(e,this.format_))}}const It={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class xk extends Oi{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[It.OPACITY]=e.opacity!==void 0?e.opacity:1,ct(typeof n[It.OPACITY]=="number",64),n[It.VISIBLE]=e.visible!==void 0?e.visible:!0,n[It.Z_INDEX]=e.zIndex,n[It.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[It.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[It.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[It.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=_n(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Qe()}getLayerStatesArray(e){return Qe()}getExtent(){return this.get(It.EXTENT)}getMaxResolution(){return this.get(It.MAX_RESOLUTION)}getMinResolution(){return this.get(It.MIN_RESOLUTION)}getMinZoom(){return this.get(It.MIN_ZOOM)}getMaxZoom(){return this.get(It.MAX_ZOOM)}getOpacity(){return this.get(It.OPACITY)}getSourceState(){return Qe()}getVisible(){return this.get(It.VISIBLE)}getZIndex(){return this.get(It.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(It.EXTENT,e)}setMaxResolution(e){this.set(It.MAX_RESOLUTION,e)}setMinResolution(e){this.set(It.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(It.MAX_ZOOM,e)}setMinZoom(e){this.set(It.MIN_ZOOM,e)}setOpacity(e){ct(typeof e=="number",64),this.set(It.OPACITY,e)}setVisible(e){this.set(It.VISIBLE,e)}setZIndex(e){this.set(It.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const bo={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},er={ANIMATING:0,INTERACTING:1},gi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},H$=42,zv=256;function yb(t,e,n){return function(r,i,s,o,l){if(!r)return;if(!i&&!e)return r;const u=e?0:s[0]*i,d=e?0:s[1]*i,h=l?l[0]:0,f=l?l[1]:0;let p=t[0]+u/2+h,y=t[2]-u/2+h,v=t[1]+d/2+f,w=t[3]-d/2+f;p>y&&(p=(y+p)/2,y=p),v>w&&(v=(w+v)/2,w=v);let S=_n(r[0],p,y),b=_n(r[1],v,w);if(o&&n&&i){const R=30*i;S+=-R*Math.log(1+Math.max(0,p-r[0])/R)+R*Math.log(1+Math.max(0,r[0]-y)/R),b+=-R*Math.log(1+Math.max(0,v-r[1])/R)+R*Math.log(1+Math.max(0,r[1]-w)/R)}return[S,b]}}function X$(t){return t}function $v(t,e,n,r){const i=Yt(e)/n[0],s=ls(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function Bv(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),_n(r,n/2,e*2)}function K$(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,o,l){if(i!==void 0){const u=t[0],d=t[t.length-1],h=n?$v(u,n,o,r):u;if(l)return e?Bv(i,h,d):_n(i,d,h);const f=Math.min(h,i),p=Math.floor(_v(t,f,s));return t[p]>h&&p<t.length-1?t[p+1]:t[p]}}}function Y$(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(o,l,u,d){if(o!==void 0){const h=i?$v(e,i,u,s):e;if(d)return r?Bv(o,h,n):_n(o,n,h);const f=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(t)-f),y=-l*(.5-f)+.5,v=Math.min(h,o),w=Math.floor(Math.log(e/v)/Math.log(t)+y),S=Math.max(p,w),b=e/Math.pow(t,S);return _n(b,n,h)}}}function xb(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,o,l,u){if(s!==void 0){const d=r?$v(t,r,l,i):t;return!n||!u?_n(s,e,d):Bv(s,d,e)}}}function Gv(t){if(t!==void 0)return 0}function vb(t){if(t!==void 0)return t}function Z$(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function q$(t){return t=t||Ca(5),function(e,n){if(n)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}function vk(t){return Math.pow(t,3)}function Pr(t){return 1-vk(1-t)}function J$(t){return 3*t*t-2*t*t*t}function Q$(t){return t}const Py=0;class Yi extends Oi{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=kv(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&qP(),e.center&&(e.center=Pn(e.center,this.projection_)),e.extent&&(e.extent=_o(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const l in gi)delete n[l];this.setProperties(n,!0);const r=tB(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=eB(e),s=r.constraint,o=nB(e);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(i[3]-n[3]+n[1]-i[1]),l=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+o,r[1]-l])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Pn(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Pn(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const h=arguments[i];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(i===n){r&&nf(r,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,u=this.targetRotation_;const d=[];for(;i<n;++i){const h=arguments[i],f={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||J$,callback:r};if(h.center&&(f.sourceCenter=o,f.targetCenter=h.center.slice(),o=f.targetCenter),h.zoom!==void 0?(f.sourceResolution=l,f.targetResolution=this.getResolutionForZoom(h.zoom),l=f.targetResolution):h.resolution&&(f.sourceResolution=l,f.targetResolution=h.resolution,l=f.targetResolution),h.rotation!==void 0){f.sourceRotation=u;const p=ba(h.rotation-u+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=u+p,u=f.targetRotation}rB(f)?f.complete=!0:s+=f.duration,d.push(f)}this.animations_.push(d),this.setHint(er.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[er.ANIMATING]>0}getInteracting(){return this.hints_[er.INTERACTING]>0}cancelAnimations(){this.setHint(er.ANIMATING,-this.hints_[er.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&nf(i[0].callback,!1),!e)for(let s=0,o=i.length;s<o;++s){const l=i[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,l=i.length;o<l;++o){const u=i[o];if(u.complete)continue;const d=e-u.start;let h=u.duration>0?d/u.duration:1;h>=1?(u.complete=!0,h=1):s=!1;const f=u.easing(h);if(u.sourceCenter){const p=u.sourceCenter[0],y=u.sourceCenter[1],v=u.targetCenter[0],w=u.targetCenter[1];this.nextCenter_=u.targetCenter;const S=p+f*(v-p),b=y+f*(w-y);this.targetCenter_=[S,b]}if(u.sourceResolution&&u.targetResolution){const p=f===1?u.targetResolution:u.sourceResolution+f*(u.targetResolution-u.sourceResolution);if(u.anchor){const y=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(p,0,y,!0);this.targetCenter_=this.calculateCenterZoom(v,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(u.sourceRotation!==void 0&&u.targetRotation!==void 0){const p=f===1?ba(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+f*(u.targetRotation-u.sourceRotation);if(u.anchor){const y=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(y,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),n=!0,!u.complete)break}if(s){this.animations_[r]=null,this.setHint(er.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&nf(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],Tv(r,e-this.getRotation()),WP(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-i[0])/s,l=n[1]-e*(n[1]-i[1])/s;r=[o,l]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Bu(e,this.getProjection())}getCenterInternal(){return this.get(gi.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return Iv(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ct(n,1);const r=this.getResolution();ct(r!==void 0,2);const i=this.getRotation();return ct(i!==void 0,3),L0(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(gi.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(_o(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=Yt(e)/n[0],i=ls(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(gi.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(o){return Math.log(r/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=ky(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=_v(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=_n(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,_n(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(ct(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){ct(!bv(e),25);const i=_o(e,this.getProjection());r=hb(i)}else if(e.getType()==="Circle"){const i=_o(e.getExtent(),this.getProjection());r=hb(i),r.rotate(this.getRotation(),ko(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let l=1/0,u=1/0,d=-1/0,h=-1/0;for(let f=0,p=s.length;f<p;f+=o){const y=s[f]*r-s[f+1]*i,v=s[f]*i+s[f+1]*r;l=Math.min(l,y),u=Math.min(u,v),d=Math.max(d,y),h=Math.max(h,v)}return[l,u,d,h]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const l=this.rotatedExtentForGeometry(e);let u=this.getResolutionForExtentInternal(l,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);u=isNaN(u)?o:Math.max(u,o),u=this.getConstrainedResolution(u,s?0:1);const d=this.getRotation(),h=Math.sin(d),f=Math.cos(d),p=ko(l);p[0]+=(i[1]-i[3])/2*u,p[1]+=(i[0]-i[2])/2*u;const y=p[0]*f-p[1]*h,v=p[1]*f+p[0]*h,w=this.getConstrainedCenter([y,v],u),S=n.callback?n.callback:Hl;n.duration!==void 0?this.animateInternal({resolution:u,center:w,duration:n.duration,easing:n.easing},S):(this.targetResolution_=u,this.targetCenter_=w,this.applyTargetState_(!1,!0),nf(S,!0))}centerOn(e,n,r){this.centerOnInternal(Pn(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(ky(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const o=this.padding_;if(o&&e){const l=this.getViewportSizeMinusPadding_(-r),u=ky(e,i,[l[0]/2+o[3],l[1]/2+o[0]],n,r);s=[e[0]-u[0],e[1]-u[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Bu(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Pn(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Pn(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Pn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),l=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(gi.ROTATION)!==i&&this.set(gi.ROTATION,i),this.get(gi.RESOLUTION)!==o&&(this.set(gi.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(gi.CENTER)||!_i(this.get(gi.CENTER),l))&&this.set(gi.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,i,o),u=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=u,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!_i(this.getCenterInternal(),u))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:u,resolution:l,duration:e,easing:Pr,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(er.INTERACTING,1)}endInteraction(e,n,r){r=r&&Pn(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(er.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function nf(t,e){setTimeout(function(){t(e)},0)}function eB(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return yb(t.extent,t.constrainOnlyCenter,n)}const e=kv(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,yb(n,!1,!1)}return X$}function tB(t){let e,n,r,o=t.minZoom!==void 0?t.minZoom:Py,l=t.maxZoom!==void 0?t.maxZoom:28;const u=t.zoomFactor!==void 0?t.zoomFactor:2,d=t.multiWorld!==void 0?t.multiWorld:!1,h=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,f=t.showFullExtent!==void 0?t.showFullExtent:!1,p=kv(t.projection,"EPSG:3857"),y=p.getExtent();let v=t.constrainOnlyCenter,w=t.extent;if(!d&&!w&&p.isGlobal()&&(v=!1,w=y),t.resolutions!==void 0){const S=t.resolutions;n=S[o],r=S[l]!==void 0?S[l]:S[S.length-1],t.constrainResolution?e=K$(S,h,!v&&w,f):e=xb(n,r,h,!v&&w,f)}else{const b=(y?Math.max(Yt(y),ls(y)):360*Ev.degrees/p.getMetersPerUnit())/zv/Math.pow(2,Py),R=b/Math.pow(2,28-Py);n=t.maxResolution,n!==void 0?o=0:n=b/Math.pow(u,o),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(u,l):r=b/Math.pow(u,l):r=R),l=o+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,l-o),t.constrainResolution?e=Y$(u,n,r,h,!v&&w,f):e=xb(n,r,h,!v&&w,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:u}}function nB(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?q$():n===!1?vb:typeof n=="number"?Z$(n):vb}return Gv}function rB(t){return!(t.sourceCenter&&t.targetCenter&&!_i(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function ky(t,e,n,r,i){const s=Math.cos(-i);let o=Math.sin(-i),l=t[0]*s-t[1]*o,u=t[1]*s+t[0]*o;l+=(e[0]/2-n[0])*r,u+=(n[1]-e[1]/2)*r,o=-o;const d=l*s-u*o,h=u*s+l*o;return[d,h]}class Ym extends xk{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(It.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(It.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Wt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=vt(e,tt.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;e instanceof Yi?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e;const r=this.getExtent();return this.getVisible()&&Uv(this.getLayerState(),n.viewState)&&(!r||ur(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof Yi?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(It.MAP,e)}getMapInternal(){return this.get(It.MAP)}setMap(e){this.mapPrecomposeKey_&&(Wt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Wt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=vt(e,bo.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);ct(!i.some(function(o){return o.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=vt(this,tt.CHANGE,e.render,e),this.changed())}setSource(e){this.set(It.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Uv(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const kn={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function _b(t){return t[0]>0&&t[1]>0}function iB(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function zr(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Zm{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=zr(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Zm({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Qe()}getImage(e){return Qe()}getHitDetectionImage(){return Qe()}getPixelRatio(e){return 1}getImageState(){return Qe()}getImageSize(){return Qe()}getOrigin(){return Qe()}getSize(){return Qe()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=zr(e)}listenImageChange(e){Qe()}load(){Qe()}unlistenImageChange(e){Qe()}}const sB=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,oB=/^([a-z]*)$|^hsla?\(.*\)$/i;function _k(t){return typeof t=="string"?t:wk(t)}function aB(t){const e=document.createElement("div");if(e.style.color=t,e.style.color!==""){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}const lB=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let s=0;for(const o in e)(s++&3)===0&&(delete e[o],--n)}i=cB(r),e[r]=i,++n}return i}}();function Yf(t){return Array.isArray(t)?t:lB(t)}function cB(t){let e,n,r,i,s;if(oB.exec(t)&&(t=aB(t)),sB.exec(t)){const o=t.length-1;let l;o<=4?l=1:l=2;const u=o===4||o===8;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),r=parseInt(t.substr(1+2*l,l),16),u?i=parseInt(t.substr(1+3*l,l),16):i=255,l==1&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),s=[e,n,r,i/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),wb(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),wb(s)):ct(!1,14);return s}function wb(t){return t[0]=_n(t[0]+.5|0,0,255),t[1]=_n(t[1]+.5|0,0,255),t[2]=_n(t[2]+.5|0,0,255),t[3]=_n(t[3],0,1),t}function wk(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*100)/100;return"rgba("+e+","+n+","+r+","+i+")"}function Qi(t){return Array.isArray(t)?wk(t):t}function hr(t,e,n,r){let i;return n&&n.length?i=n.shift():wv?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function qm(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function uB(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function dB(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function Sb(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Zf(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Sk(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function hB(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}const rf="ol-hidden",fB="ol-selectable",Jm="ol-unselectable",Wv="ol-control",Cb="ol-collapsed",mB=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),bb=["style","variant","weight","size","lineHeight","family"],Ck=function(t){const e=t.match(mB);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=bb.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[bb[r]]=s)}return n.families=n.family.split(/,\s?/),n},bk="10px sans-serif",Is="#000",qf="round",Wu=[],Hu=0,Kl="round",Xu=10,Ku="#000",Yu="center",Jf="middle",pa=[0,0,0,0],Zu=1,Ts=new Oi;let kl=null,H0;const X0={},gB=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,o;function l(d,h,f){let p=!0;for(let y=0;y<r;++y){const v=n[y];if(o=Qf(d+" "+h+" "+e+v,i),f!=v){const w=Qf(d+" "+h+" "+e+f+","+v,i);p=p&&w!=o}}return!!p}function u(){let d=!0;const h=Ts.getKeys();for(let f=0,p=h.length;f<p;++f){const y=h[f];Ts.get(y)<100&&(l.apply(this,y.split(`
`))?(fc(X0),kl=null,H0=void 0,Ts.set(y,100)):(Ts.set(y,Ts.get(y)+1,!0),d=!1))}d&&(clearInterval(s),s=void 0)}return function(d){const h=Ck(d);if(!h)return;const f=h.families;for(let p=0,y=f.length;p<y;++p){const v=f[p],w=h.style+`
`+h.weight+`
`+v;Ts.get(w)===void 0&&(Ts.set(w,100,!0),l(h.style,h.weight,v)||(Ts.set(w,0,!0),s===void 0&&(s=setInterval(u,32))))}}}(),pB=function(){let t;return function(e){let n=X0[e];if(n==null){if(wv){const r=Ck(e),i=Ek(e,"g");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);X0[e]=n}return n}}();function Ek(t,e){return kl||(kl=hr(1,1)),t!=H0&&(kl.font=t,H0=kl.font),kl.measureText(e)}function Qf(t,e){return Ek(t,e).width}function Eb(t,e,n){if(e in n)return n[e];const r=e.split(`
`).reduce((i,s)=>Math.max(i,Qf(t,s)),0);return n[e]=r,r}function yB(t,e){const n=[],r=[],i=[];let s=0,o=0,l=0,u=0;for(let d=0,h=e.length;d<=h;d+=2){const f=e[d];if(f===`
`||d===h){s=Math.max(s,o),i.push(o),o=0,l+=u;continue}const p=e[d+1]||t.font,y=Qf(p,f);n.push(y),o+=y;const v=pB(p);r.push(v),u=Math.max(u,v)}return{width:s,height:l,widths:n,heights:r,lineWidths:i}}function xB(t,e,n,r,i,s,o,l,u,d,h){t.save(),n!==1&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(u,d),t.scale(h[0],h[1]),vB(r,t)):h[0]<0||h[1]<0?(t.translate(u,d),t.scale(h[0],h[1]),t.drawImage(r,i,s,o,l,0,0,o,l)):t.drawImage(r,i,s,o,l,u,d,o*h[0],l*h[1]),t.restore()}function vB(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class Qm extends Zm{constructor(e){const n=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:n,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),n=new Qm({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_;if(!e)return null;const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let n=this.canvas_[e];if(!n){const r=this.renderOptions_,i=hr(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvas_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return kn.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const M=i;i=s,s=M}const o=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/o,u=s*Math.sin(l),d=Math.sqrt(s*s-u*u),h=i-d,f=Math.sqrt(u*u+h*h),p=f/u;if(e==="miter"&&p<=r)return p*n;const y=n/2/p,v=n/2*(h/f),S=Math.sqrt((i+y)*(i+y)+v*v)-i;if(this.radius2_===void 0||e==="bevel")return S*2;const b=i*Math.sin(l),R=Math.sqrt(i*i-b*b),T=s-R,k=Math.sqrt(b*b+T*T)/b;if(k<=r){const M=k*n/2-s-i;return 2*Math.max(S,M)}return S*2}createRenderOptions(){let e=Kl,n=0,r=null,i=0,s,o=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=Ku),s=Qi(s),o=this.stroke_.getWidth(),o===void 0&&(o=Zu),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=Kl),n=this.stroke_.getMiterLimit(),n===void 0&&(n=Xu));const l=this.calculateLineJoinSize_(e,o,n),u=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*u+l);return{strokeStyle:s,strokeWidth:o,size:d,lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Is),n.fillStyle=Qi(i),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let n=this.fill_.getColor(),r=0;if(typeof n=="string"&&(n=Yf(n)),n===null?r=1:Array.isArray(n)&&(r=n.length===4?n[3]:1),r===0){const i=hr(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let l=0;l<n;l++){const u=s+l*o,d=l%2===0?r:i;e.lineTo(d*Math.cos(u),d*Math.sin(u))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Is,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}}class Or extends Qm{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Or({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}class Tn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new Tn({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}class pn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new pn({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}let on=class Rk{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Rb,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Rk({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Rb,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function _B(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(ct(typeof t.getZIndex=="function",41),n=[t]),e=function(){return n}}return e}let Ay=null;function wB(t,e){if(!Ay){const n=new Tn({color:"rgba(255,255,255,0.4)"}),r=new pn({color:"#3399CC",width:1.25});Ay=[new on({image:new Or({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Ay}function Tk(){const t={},e=[255,255,255,1],n=[0,153,255,1],r=3;return t.Polygon=[new on({fill:new Tn({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new on({stroke:new pn({color:e,width:r+2})}),new on({stroke:new pn({color:n,width:r})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new on({image:new Or({radius:r*2,fill:new Tn({color:n}),stroke:new pn({color:e,width:r/2})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Rb(t){return t.getGeometry()}class SB{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(e,n,r){const i=Tb(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const s=Tb(e,n,r);this.cache_[s]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Tb(t,e,n){const r=n?_k(n):"null";return e+":"+t+":"+r}const em=new SB;function Pk(t,e,n){const r=t;let i=!0,s=!1,o=!1;const l=[Gf(r,tt.LOAD,function(){o=!0,s||e()})];return r.src&&Rz?(s=!0,r.decode().then(function(){i&&e()}).catch(function(u){i&&(o?e():n())})):l.push(Gf(r,tt.ERROR,n)),function(){i=!1,l.forEach(Wt)}}let du=null;class CB extends Vm{constructor(e,n,r,i,s,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=s,this.size_=r,this.src_=n,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===kn.LOADED){du||(du=hr(1,1,void 0,{willReadFrequently:!0})),du.drawImage(this.image_,0,0);try{du.getImageData(0,0,1,1),this.tainted_=!1}catch{du=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(tt.CHANGE)}handleImageError_(){this.imageState_=kn.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=kn.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=hr(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===kn.IDLE){this.image_||this.initializeImage_(),this.imageState_=kn.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Pk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==kn.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=_k(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function bB(t,e,n,r,i,s){let o=em.get(e,r,s);return o||(o=new CB(t,e,n,r,i,s),em.set(e,r,s,o)),o}let eg=class kk extends Zm{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let l=e.src;ct(!(l!==void 0&&o),4),ct(!o||o&&this.imgSize_,5),(l===void 0||l.length===0)&&o&&(l=o.src||nt(o)),ct(l!==void 0&&l.length>0,6),ct(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const u=e.src!==void 0?kn.IDLE:kn.LOADED;if(this.color_=e.color!==void 0?Yf(e.color):null,this.iconImage_=bB(o,l,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,u,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.width_=e.width,this.height_=e.height,this.width_!==void 0||this.height_!==void 0){const d=this.getImage(1),h=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};d.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):d.addEventListener("load",h)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(this.width_!==void 0||this.height_!==void 0)&&(e=void 0),new kk({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,n){const r=this.getImage(1);e!==void 0&&n!==void 0?super.setScale([e/r.width,n/r.height]):e!==void 0?super.setScale([e/r.width,e/r.width]):n!==void 0?super.setScale([n/r.height,n/r.height]):super.setScale([1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const n=this.getImage(1);if(n){const r=Array.isArray(e)?e[0]:e;r!==void 0&&(this.width_=r*n.width);const i=Array.isArray(e)?e[1]:e;i!==void 0&&(this.height_=i*n.height)}}listenImageChange(e){this.iconImage_.addEventListener(tt.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(tt.CHANGE,e)}};const EB="#333";class tg{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=zr(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Tn({color:EB}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new tg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=zr(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function Pb(t){return new on({fill:qu(t,""),stroke:Ju(t,""),text:RB(t),image:TB(t)})}function qu(t,e){const n=t[e+"fill-color"];if(n)return new Tn({color:n})}function Ju(t,e){const n=t[e+"stroke-width"],r=t[e+"stroke-color"];if(!(!n&&!r))return new pn({width:n,color:r,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function RB(t){const e=t["text-value"];return e?new tg({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],repeat:t["text-repeat"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:qu(t,"text-"),backgroundFill:qu(t,"text-background-"),stroke:Ju(t,"text-"),backgroundStroke:Ju(t,"text-background-")}):void 0}function TB(t){const e=t["icon-src"],n=t["icon-img"];if(e||n)return new eg({src:e,img:n,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const r=t["shape-points"];if(r){const s="shape-";return new Qm({points:r,fill:qu(t,s),stroke:Ju(t,s),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const i=t["circle-radius"];if(i){const s="circle-";return new Or({radius:i,fill:qu(t,s),stroke:Ju(t,s),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const kb={RENDER_ORDER:"renderOrder"};class PB extends Ym{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(kb.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new pk(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(kb.RENDER_ORDER,e)}setStyle(e){let n;if(e===void 0)n=wB;else if(e===null)n=null;else if(typeof e=="function")n=e;else if(e instanceof on)n=e;else if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s){const o=e[s];o instanceof on?i[s]=o:i[s]=Pb(o)}n=i}else n=Pb(e);this.style_=n,this.styleFunction_=e===null?void 0:_B(this.style_),this.changed()}}const Ge={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},sf=[Ge.FILL],So=[Ge.STROKE],ya=[Ge.BEGIN_PATH],Ab=[Ge.CLOSE_PATH];class Ak{drawCustom(e,n,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,n){}drawFeature(e,n){}drawGeometryCollection(e,n){}drawLineString(e,n){}drawMultiLineString(e,n){}drawMultiPoint(e,n){}drawMultiPolygon(e,n){}drawPoint(e,n){}drawPolygon(e,n){}drawText(e,n){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class Cd extends Ak{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let l=0,u=e.length;l<u;l+=n)i[0]=e[l],i[1]=e[l+1],zm(r,i)&&(s[o++]=i[0],s[o++]=i[1]);return o}appendFlatLineCoordinates(e,n,r,i,s,o){const l=this.coordinates;let u=l.length;const d=this.getBufferedMaxExtent();o&&(n+=i);let h=e[n],f=e[n+1];const p=this.tmpCoordinate_;let y=!0,v,w,S;for(v=n+i;v<r;v+=i)p[0]=e[v],p[1]=e[v+1],S=F0(d,p),S!==w?(y&&(l[u++]=h,l[u++]=f,y=!1),l[u++]=p[0],l[u++]=p[1]):S===jn.INTERSECTING?(l[u++]=p[0],l[u++]=p[1],y=!1):y=!0,h=p[0],f=p[1],w=S;return(s&&y||v===n+i)&&(l[u++]=h,l[u++]=f),u}drawCustomCoordinates_(e,n,r,i,s){for(let o=0,l=r.length;o<l;++o){const u=r[o],d=this.appendFlatLineCoordinates(e,n,u,i,!1,!1);s.push(d),n=u}return n}drawCustom(e,n,r,i){this.beginGeometry(e,n);const s=e.getType(),o=e.getStride(),l=this.coordinates.length;let u,d,h,f,p;switch(s){case"MultiPolygon":u=e.getOrientedFlatCoordinates(),f=[];const y=e.getEndss();p=0;for(let v=0,w=y.length;v<w;++v){const S=[];p=this.drawCustomCoordinates_(u,p,y[v],o,S),f.push(S)}this.instructions.push([Ge.CUSTOM,l,f,e,r,z0]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,f,e,i||r,z0]);break;case"Polygon":case"MultiLineString":h=[],u=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(u,0,e.getEnds(),o,h),this.instructions.push([Ge.CUSTOM,l,h,e,r,Gu]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,h,e,i||r,Gu]);break;case"LineString":case"Circle":u=e.getFlatCoordinates(),d=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([Ge.CUSTOM,l,d,e,r,wo]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r,wo]);break;case"MultiPoint":u=e.getFlatCoordinates(),d=this.appendFlatPointCoordinates(u,o),d>l&&(this.instructions.push([Ge.CUSTOM,l,d,e,r,wo]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r,wo]));break;case"Point":u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),d=this.coordinates.length,this.instructions.push([Ge.CUSTOM,l,d,e,r]),this.hitDetectionInstructions.push([Ge.CUSTOM,l,d,e,i||r]);break}this.endGeometry(n)}beginGeometry(e,n){this.beginGeometryInstruction1_=[Ge.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ge.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,o=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==Ge.END_GEOMETRY?o=n:s==Ge.BEGIN_GEOMETRY&&(i[2]=n,gz(this.hitDetectionInstructions,o,n),o=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillStyle=Qi(i||Is)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=Qi(i||Ku);const s=n.getLineCap();r.lineCap=s!==void 0?s:qf;const o=n.getLineDash();r.lineDash=o?o.slice():Wu;const l=n.getLineDashOffset();r.lineDashOffset=l||Hu;const u=n.getLineJoin();r.lineJoin=u!==void 0?u:Kl;const d=n.getWidth();r.lineWidth=d!==void 0?d:Zu;const h=n.getMiterLimit();r.miterLimit=h!==void 0?h:Xu,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[Ge.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(!0),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Ge.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,o=e.lineDashOffset,l=e.lineJoin,u=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!Bs(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=l||e.currentLineWidth!=u||e.currentMiterLimit!=d)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=l,e.currentLineWidth=u,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[Ge.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=OP(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;_d(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class kB extends Cd{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([Ge.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([Ge.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class AB extends Cd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),l=[Ge.MOVE_TO_LINE_TO,s,o];return this.instructions.push(l),this.hitDetectionInstructions.push(l),r}drawLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Wu,Hu],ya);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(So),this.endGeometry(n)}drawMultiLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],ya);const o=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinates_(l,d,o[h],u);this.hitDetectionInstructions.push(So),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(So),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(So),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(ya)}}class Mb extends Cd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,o=s.fillStyle!==void 0,l=s.strokeStyle!==void 0,u=r.length;this.instructions.push(ya),this.hitDetectionInstructions.push(ya);for(let d=0;d<u;++d){const h=r[d],f=this.coordinates.length,p=this.appendFlatLineCoordinates(e,n,h,i,!0,!l),y=[Ge.MOVE_TO_LINE_TO,f,p];this.instructions.push(y),this.hitDetectionInstructions.push(y),l&&(this.instructions.push(Ab),this.hitDetectionInstructions.push(Ab)),n=h}return o&&(this.instructions.push(sf),this.hitDetectionInstructions.push(sf)),l&&(this.instructions.push(So),this.hitDetectionInstructions.push(So)),n}drawCircle(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Is]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const d=[Ge.CIRCLE,u];this.instructions.push(ya,d),this.hitDetectionInstructions.push(ya,d),r.fillStyle!==void 0&&(this.instructions.push(sf),this.hitDetectionInstructions.push(sf)),r.strokeStyle!==void 0&&(this.instructions.push(So),this.hitDetectionInstructions.push(So)),this.endGeometry(n)}drawPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Is]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,o,u),this.endGeometry(n)}drawMultiPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_FILL_STYLE,Is]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Ge.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinatess_(l,d,o[h],u);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=oa(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function MB(t,e,n,r,i){const s=[];let o=n,l=0,u=e.slice(n,2);for(;l<t&&o+i<r;){const[d,h]=u.slice(-2),f=e[o+i],p=e[o+i+1],y=Math.sqrt((f-d)*(f-d)+(p-h)*(p-h));if(l+=y,l>=t){const v=(t-l+y)/y,w=Dr(d,f,v),S=Dr(h,p,v);u.push(w,S),s.push(u),u=[w,S],l==t&&(o+=i),l=0}else if(l<t)u.push(e[o+i],e[o+i+1]),o+=i;else{const v=y-l,w=Dr(d,f,v/y),S=Dr(h,p,v/y);u.push(w,S),s.push(u),u=[w,S],l=0,o+=i}}return l>0&&s.push(u),s}function IB(t,e,n,r,i){let s=n,o=n,l=0,u=0,d=n,h,f,p,y,v,w,S,b,R,T;for(f=n;f<r;f+=i){const P=e[f],k=e[f+1];v!==void 0&&(R=P-v,T=k-w,y=Math.sqrt(R*R+T*T),S!==void 0&&(u+=p,h=Math.acos((S*R+b*T)/(p*y)),h>t&&(u>l&&(l=u,s=d,o=f),u=0,d=f-i)),p=y,S=R,b=T),v=P,w=k}return u+=y,u>l?[d,f]:[s,o]}const Ru={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class NB extends Cd{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n){const r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!i)return;const o=this.coordinates;let l=o.length;const u=e.getType();let d=null,h=e.getStride();if(s.placement==="line"&&(u=="LineString"||u=="MultiLineString"||u=="Polygon"||u=="MultiPolygon")){if(!ur(this.getBufferedMaxExtent(),e.getExtent()))return;let f;if(d=e.getFlatCoordinates(),u=="LineString")f=[d.length];else if(u=="MultiLineString")f=e.getEnds();else if(u=="Polygon")f=e.getEnds().slice(0,1);else if(u=="MultiPolygon"){const w=e.getEndss();f=[];for(let S=0,b=w.length;S<b;++S)f.push(w[S][0])}this.beginGeometry(e,n);const p=s.repeat,y=p?void 0:s.textAlign;let v=0;for(let w=0,S=f.length;w<S;++w){let b;p?b=MB(p*this.resolution,d,v,f[w],h):b=[d.slice(v,f[w])];for(let R=0,T=b.length;R<T;++R){const P=b[R];let k=0,M=P.length;if(y==null){const I=IB(s.maxAngle,P,0,P.length,2);k=I[0],M=I[1]}for(let I=k;I<M;I+=h)o.push(P[I],P[I+1]);const F=o.length;v=f[w],this.drawChars_(l,F),l=F}}this.endGeometry(n)}else{let f=s.overflow?null:[];switch(u){case"Point":case"MultiPoint":d=e.getFlatCoordinates();break;case"LineString":d=e.getFlatMidpoint();break;case"Circle":d=e.getCenter();break;case"MultiLineString":d=e.getFlatMidpoints(),h=2;break;case"Polygon":d=e.getFlatInteriorPoint(),s.overflow||f.push(d[2]/this.resolution),h=3;break;case"MultiPolygon":const S=e.getFlatInteriorPoints();d=[];for(let b=0,R=S.length;b<R;b+=3)s.overflow||f.push(S[b+2]/this.resolution),d.push(S[b],S[b+1]);if(d.length===0)return;h=2;break}const p=this.appendFlatPointCoordinates(d,h);if(p===l)return;if(f&&(p-l)/2!==d.length/h){let S=l/2;f=f.filter((b,R)=>{const T=o[(S+R)*2]===d[R*h]&&o[(S+R)*2+1]===d[R*h+1];return T||--S,T})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);let y=s.padding;if(y!=pa&&(s.scale[0]<0||s.scale[1]<0)){let S=s.padding[0],b=s.padding[1],R=s.padding[2],T=s.padding[3];s.scale[0]<0&&(b=-b,T=-T),s.scale[1]<0&&(S=-S,R=-R),y=[S,b,R,T]}const v=this.pixelRatio;this.instructions.push([Ge.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,y==pa?pa:y.map(function(S){return S*v}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const w=1/v;this.hitDetectionInstructions.push([Ge.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,void 0,this.declutterImageWithText_,y,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||Yu,justify:n.justify,textBaseline:n.textBaseline||Jf,scale:n.scale});const o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,o=this.textKey_,l=this.fillKey_;this.saveTextStates_();const u=this.pixelRatio,d=Ru[i.textBaseline],h=this.textOffsetY_*u,f=this.text_,p=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([Ge.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,u,h,s,p*u,f,o,1]),this.hitDetectionInstructions.push([Ge.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,1,h,s,p,f,o,1/u])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const o=e.getFill();o?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Qi(o.getColor()||Is)):(i=null,this.textFillState_=i);const l=e.getStroke();if(!l)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const v=l.getLineDash(),w=l.getLineDashOffset(),S=l.getWidth(),b=l.getMiterLimit();s.lineCap=l.getLineCap()||qf,s.lineDash=v?v.slice():Wu,s.lineDashOffset=w===void 0?Hu:w,s.lineJoin=l.getLineJoin()||Kl,s.lineWidth=S===void 0?Zu:S,s.miterLimit=b===void 0?Xu:b,s.strokeStyle=Qi(l.getColor()||Ku)}r=this.textState_;const u=e.getFont()||bk;gB(u);const d=e.getScaleArray();r.overflow=e.getOverflow(),r.font=u,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Jf,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||pa,r.scale=d===void 0?[1,1]:d;const h=e.getOffsetX(),f=e.getOffsetY(),p=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=f===void 0?0:f,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:nt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+nt(i.fillStyle):""}this.declutterImageWithText_=n}}const FB={Circle:Mb,Default:Cd,Image:kB,LineString:AB,Polygon:Mb,Text:NB};class Ib{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const o=FB[n];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}class jB extends vd{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Qe()}getData(e){return null}prepareFrame(e){return Qe()}renderFrame(e,n){return Qe()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,o)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===kn.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=kn.LOADED&&n!=kn.ERROR&&e.addEventListener(tt.CHANGE,this.boundHandleImageChange_),n==kn.IDLE&&(e.load(),n=e.getState()),n==kn.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}class Mk extends Di{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}const Nb=[];let Al=null;function LB(){Al=hr(1,1,void 0,{willReadFrequently:!0})}class Ik extends jB{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=ns(),this.pixelTransform=ns(),this.inversePixelTransform=ns(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){Al||LB(),Al.clearRect(0,0,1,1);let i;try{Al.drawImage(e,n,r,1,1,0,0,1,1),i=Al.getImageData(0,0,1,1).data}catch{return Al=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,o;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&Bs(Yf(e.style.backgroundColor),Yf(r)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=i;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",o=hr();const u=o.canvas;s.appendChild(u),l=u.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=Ga(r),s=Gm(r),o=Bm(r),l=$m(r);Ln(n.coordinateToPixelTransform,i),Ln(n.coordinateToPixelTransform,s),Ln(n.coordinateToPixelTransform,o),Ln(n.coordinateToPixelTransform,l);const u=this.inversePixelTransform;Ln(u,i),Ln(u,s),Ln(u,o),Ln(u,l),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new Mk(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_(bo.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(bo.POSTRENDER,e,n)}getRenderTransform(e,n,r,i,s,o,l){const u=s/2,d=o/2,h=i/n,f=-h,p=-e[0]+l,y=-e[1];return Po(this.tempTransform,u,d,h,f,-r,p,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function DB(t,e,n,r,i,s,o,l,u,d,h,f){let p=t[e],y=t[e+1],v=0,w=0,S=0,b=0;function R(){v=p,w=y,e+=r,p=t[e],y=t[e+1],b+=S,S=Math.sqrt((p-v)*(p-v)+(y-w)*(y-w))}do R();while(e<n-r&&b+S<s);let T=S===0?0:(s-b)/S;const P=Dr(v,p,T),k=Dr(w,y,T),M=e-r,F=b,I=s+l*u(d,i,h);for(;e<n-r&&b+S<I;)R();T=S===0?0:(I-b)/S;const z=Dr(v,p,T),W=Dr(w,y,T);let V;if(f){const $=[P,k,z,W];ek($,0,4,2,f,$,$),V=$[0]>$[2]}else V=P>z;const X=Math.PI,G=[],te=M+r===e;e=M,S=0,b=F,p=t[e],y=t[e+1];let J;if(te){R(),J=Math.atan2(y-w,p-v),V&&(J+=J>0?-X:X);const $=(z+P)/2,D=(W+k)/2;return G[0]=[$,D,(I-s)/2,J,i],G}i=i.replace(/\n/g," ");for(let $=0,D=i.length;$<D;){R();let j=Math.atan2(y-w,p-v);if(V&&(j+=j>0?-X:X),J!==void 0){let ie=j-J;if(ie+=ie>X?-2*X:ie<-X?2*X:0,Math.abs(ie)>o)return null}J=j;const U=$;let Y=0;for(;$<D;++$){const ie=V?D-$-1:$,ce=l*u(d,i[ie],h);if(e+r<n&&b+S<s+Y+ce/2)break;Y+=ce}if($===U)continue;const N=V?i.substring(D-U,D-$):i.substring(U,$);T=S===0?0:(s+Y/2-b)/S;const L=Dr(v,p,T),ne=Dr(w,y,T);G.push([L,ne,Y/2,j,N]),s+=Y}return G}const xl=Gr(),uo=[],Ss=[],Cs=[],ho=[];function Fb(t){return t[3].declutterBox}const OB=new RegExp("[-----]");function jb(t,e){return(e==="start"||e==="end")&&!OB.test(t)&&(e=e==="start"?"left":"right"),Ru[e]}function VB(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class zB{constructor(e,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=ns(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const o=i?this.strokeStates[i]:null,l=r?this.fillStates[r]:null,u=this.textStates[n],d=this.pixelRatio,h=[u.scale[0]*d,u.scale[1]*d],f=Array.isArray(e),p=u.justify?Ru[u.justify]:jb(Array.isArray(e)?e[0]:e,u.textAlign||Yu),y=i&&o.lineWidth?o.lineWidth:0,v=f?e:e.split(`
`).reduce(VB,[]),{width:w,height:S,widths:b,heights:R,lineWidths:T}=yB(u,v),P=w+y,k=[],M=(P+2)*h[0],F=(S+y)*h[1],I={width:M<0?Math.floor(M):Math.ceil(M),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:k};(h[0]!=1||h[1]!=1)&&k.push("scale",h),i&&(k.push("strokeStyle",o.strokeStyle),k.push("lineWidth",y),k.push("lineCap",o.lineCap),k.push("lineJoin",o.lineJoin),k.push("miterLimit",o.miterLimit),k.push("setLineDash",[o.lineDash]),k.push("lineDashOffset",o.lineDashOffset)),r&&k.push("fillStyle",l.fillStyle),k.push("textBaseline","middle"),k.push("textAlign","center");const z=.5-p;let W=p*P+z*y;const V=[],X=[];let G=0,te=0,J=0,$=0,D;for(let j=0,U=v.length;j<U;j+=2){const Y=v[j];if(Y===`
`){te+=G,G=0,W=p*P+z*y,++$;continue}const N=v[j+1]||u.font;N!==D&&(i&&V.push("font",N),r&&X.push("font",N),D=N),G=Math.max(G,R[J]);const L=[Y,W+z*b[J]+p*(b[J]-T[$]),.5*(y+G)+te];W+=b[J],i&&V.push("strokeText",L),r&&X.push("fillText",L),++J}return Array.prototype.push.apply(k,V),Array.prototype.push.apply(k,X),this.labels_[s]=I,I}replayTextBackground_(e,n,r,i,s,o,l){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),o&&(this.alignFill_=o[2],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,o,l,u,d,h,f,p,y,v,w,S){l*=p[0],u*=p[1];let b=r-l,R=i-u;const T=s+d>e?e-d:s,P=o+h>n?n-h:o,k=v[3]+T*p[0]+v[1],M=v[0]+P*p[1]+v[2],F=b-v[3],I=R-v[0];(w||f!==0)&&(uo[0]=F,ho[0]=F,uo[1]=I,Ss[1]=I,Ss[0]=F+k,Cs[0]=Ss[0],Cs[1]=I+M,ho[1]=Cs[1]);let z;return f!==0?(z=Po(ns(),r,i,1,1,f,-r,-i),Ln(z,uo),Ln(z,Ss),Ln(z,Cs),Ln(z,ho),Fs(Math.min(uo[0],Ss[0],Cs[0],ho[0]),Math.min(uo[1],Ss[1],Cs[1],ho[1]),Math.max(uo[0],Ss[0],Cs[0],ho[0]),Math.max(uo[1],Ss[1],Cs[1],ho[1]),xl)):Fs(Math.min(F,F+k),Math.min(I,I+M),Math.max(F,F+k),Math.max(I,I+M),xl),y&&(b=Math.round(b),R=Math.round(R)),{drawImageX:b,drawImageY:R,drawImageW:T,drawImageH:P,originX:d,originY:h,declutterBox:{minX:xl[0],minY:xl[1],maxX:xl[2],maxY:xl[3],value:S},canvasTransform:z,scale:p}}replayImageOrLabel_(e,n,r,i,s,o,l){const u=!!(o||l),d=i.declutterBox,h=e.canvas,f=l?l[2]*i.scale[0]/2:0;return d.minX-f<=h.width/n&&d.maxX+f>=0&&d.minY-f<=h.height/n&&d.maxY+f>=0&&(u&&this.replayTextBackground_(e,uo,Ss,Cs,ho,o,l),xB(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){if(this.alignFill_){const n=Ln(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],o=this.createLabel(e,n,i,r),l=this.strokeStates[r],u=this.pixelRatio,d=jb(Array.isArray(e)?e[0]:e,s.textAlign||Yu),h=Ru[s.textBaseline||Jf],f=l&&l.lineWidth?l.lineWidth:0,p=o.width/u-2*s.scale[0],y=d*p+2*(.5-d)*f,v=h*o.height/u+2*(.5-h)*f;return{label:o,anchorX:y,anchorY:v}}execute_(e,n,r,i,s,o,l,u){let d;this.pixelCoordinates_&&Bs(r,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=Ea(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Pz(this.renderedTransform_,r));let h=0;const f=i.length;let p=0,y,v,w,S,b,R,T,P,k,M,F,I,z=0,W=0,V=null,X=null;const G=this.coordinateCache_,te=this.viewRotation_,J=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,$={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:te},D=this.instructions!=i||this.overlaps?0:200;let j,U,Y,N;for(;h<f;){const L=i[h];switch(L[0]){case Ge.BEGIN_GEOMETRY:j=L[1],N=L[3],j.getGeometry()?l!==void 0&&!ur(l,N.getExtent())?h=L[2]+1:++h:h=L[2];break;case Ge.BEGIN_PATH:z>D&&(this.fill_(e),z=0),W>D&&(e.stroke(),W=0),!z&&!W&&(e.beginPath(),S=NaN,b=NaN),++h;break;case Ge.CIRCLE:p=L[1];const ie=d[p],ce=d[p+1],ge=d[p+2],ae=d[p+3],pe=ge-ie,we=ae-ce,be=Math.sqrt(pe*pe+we*we);e.moveTo(ie+be,ce),e.arc(ie,ce,be,0,2*Math.PI,!0),++h;break;case Ge.CLOSE_PATH:e.closePath(),++h;break;case Ge.CUSTOM:p=L[1],y=L[2];const $e=L[3],Be=L[4],_t=L.length==6?L[5]:void 0;$.geometry=$e,$.feature=j,h in G||(G[h]=[]);const pt=G[h];_t?_t(d,p,y,2,pt):(pt[0]=d[p],pt[1]=d[p+1],pt.length=2),Be(pt,$),++h;break;case Ge.DRAW_IMAGE:p=L[1],y=L[2],P=L[3],v=L[4],w=L[5];let Dt=L[6];const Vt=L[7],zt=L[8],On=L[9],Tt=L[10];let B=L[11];const Z=L[12];let ee=L[13];const he=L[14],fe=L[15];if(!P&&L.length>=20){k=L[19],M=L[20],F=L[21],I=L[22];const st=this.drawLabelWithPointPlacement_(k,M,F,I);P=st.label,L[3]=P;const qe=L[23];v=(st.anchorX-qe)*this.pixelRatio,L[4]=v;const xt=L[24];w=(st.anchorY-xt)*this.pixelRatio,L[5]=w,Dt=P.height,L[6]=Dt,ee=P.width,L[13]=ee}let se;L.length>25&&(se=L[25]);let ye,De,Ve;L.length>17?(ye=L[16],De=L[17],Ve=L[18]):(ye=pa,De=!1,Ve=!1),Tt&&J?B+=te:!Tt&&!J&&(B-=te);let yt=0;for(;p<y;p+=2){if(se&&se[yt++]<ee/this.pixelRatio)continue;const st=this.calculateImageOrLabelDimensions_(P.width,P.height,d[p],d[p+1],ee,Dt,v,w,zt,On,B,Z,s,ye,De||Ve,j),qe=[e,n,P,st,Vt,De?V:null,Ve?X:null];if(u){if(he==="none")continue;if(he==="obstacle"){u.insert(st.declutterBox);continue}else{let xt,et;if(fe){const gt=y-p;if(!fe[gt]){fe[gt]=qe;continue}if(xt=fe[gt],delete fe[gt],et=Fb(xt),u.collides(et))continue}if(u.collides(st.declutterBox))continue;xt&&(u.insert(et),this.replayImageOrLabel_.apply(this,xt)),u.insert(st.declutterBox)}}this.replayImageOrLabel_.apply(this,qe)}++h;break;case Ge.DRAW_CHARS:const $t=L[1],mt=L[2],Wn=L[3],Hr=L[4];I=L[5];const kr=L[6],Xr=L[7],or=L[8];F=L[9];const Pe=L[10];k=L[11],M=L[12];const xe=[L[13],L[13]],ut=this.textStates[M],Pt=ut.font,Zt=[ut.scale[0]*Xr,ut.scale[1]*Xr];let jt;Pt in this.widths_?jt=this.widths_[Pt]:(jt={},this.widths_[Pt]=jt);const An=lk(d,$t,mt,2),ze=Math.abs(Zt[0])*Eb(Pt,k,jt);if(Hr||ze<=An){const st=this.textStates[M].textAlign,qe=(An-ze)*Ru[st],xt=DB(d,$t,mt,2,k,qe,kr,Math.abs(Zt[0]),Eb,Pt,jt,J?0:this.viewRotation_);e:if(xt){const et=[];let gt,Qt,Ar,Ct,Bt;if(F)for(gt=0,Qt=xt.length;gt<Qt;++gt){Bt=xt[gt],Ar=Bt[4],Ct=this.createLabel(Ar,M,"",F),v=Bt[2]+(Zt[0]<0?-Pe:Pe),w=Wn*Ct.height+(.5-Wn)*2*Pe*Zt[1]/Zt[0]-or;const Mn=this.calculateImageOrLabelDimensions_(Ct.width,Ct.height,Bt[0],Bt[1],Ct.width,Ct.height,v,w,0,0,Bt[3],xe,!1,pa,!1,j);if(u&&u.collides(Mn.declutterBox))break e;et.push([e,n,Ct,Mn,1,null,null])}if(I)for(gt=0,Qt=xt.length;gt<Qt;++gt){Bt=xt[gt],Ar=Bt[4],Ct=this.createLabel(Ar,M,I,""),v=Bt[2],w=Wn*Ct.height-or;const Mn=this.calculateImageOrLabelDimensions_(Ct.width,Ct.height,Bt[0],Bt[1],Ct.width,Ct.height,v,w,0,0,Bt[3],xe,!1,pa,!1,j);if(u&&u.collides(Mn.declutterBox))break e;et.push([e,n,Ct,Mn,1,null,null])}u&&u.load(et.map(Fb));for(let Mn=0,gr=et.length;Mn<gr;++Mn)this.replayImageOrLabel_.apply(this,et[Mn])}}++h;break;case Ge.END_GEOMETRY:if(o!==void 0){j=L[1];const st=o(j,N);if(st)return st}++h;break;case Ge.FILL:D?z++:this.fill_(e),++h;break;case Ge.MOVE_TO_LINE_TO:for(p=L[1],y=L[2],U=d[p],Y=d[p+1],R=U+.5|0,T=Y+.5|0,(R!==S||T!==b)&&(e.moveTo(U,Y),S=R,b=T),p+=2;p<y;p+=2)U=d[p],Y=d[p+1],R=U+.5|0,T=Y+.5|0,(p==y-2||R!==S||T!==b)&&(e.lineTo(U,Y),S=R,b=T);++h;break;case Ge.SET_FILL_STYLE:V=L,this.alignFill_=L[2],z&&(this.fill_(e),z=0,W&&(e.stroke(),W=0)),e.fillStyle=L[1],++h;break;case Ge.SET_STROKE_STYLE:X=L,W&&(e.stroke(),W=0),this.setStrokeStyle_(e,L),++h;break;case Ge.STROKE:D?W++:e.stroke(),++h;break;default:++h;break}}z&&this.fill_(e),W&&e.stroke()}execute(e,n,r,i,s,o){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,1,n,this.hitDetectionInstructions,!0,i,s)}}const My=["Polygon","Circle","LineString","Image","Text","Default"];class Lb{constructor(e,n,r,i,s,o){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=ns(),this.createExecutors_(s)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e){for(const n in e){let r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);const i=e[n];for(const s in i){const o=i[s];r[s]=new zB(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,o){i=Math.round(i);const l=i*2+1,u=Po(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=hr(l,l,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):d||h.clearRect(0,0,l,l);let f;this.renderBuffer_!==void 0&&(f=Gr(),bu(f,e),_d(f,n*(this.renderBuffer_+i),f));const p=$B(i);let y;function v(k,M){const F=h.getImageData(0,0,l,l).data;for(let I=0,z=p.length;I<z;I++)if(F[p[I]]>0){if(!o||y!=="Image"&&y!=="Text"||o.includes(k)){const W=(p[I]-3)/4,V=i-W%l,X=i-(W/l|0),G=s(k,M,V*V+X*X);if(G)return G}h.clearRect(0,0,l,l);break}}const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Aa);let S,b,R,T,P;for(S=w.length-1;S>=0;--S){const k=w[S].toString();for(R=this.executorsByZIndex_[k],b=My.length-1;b>=0;--b)if(y=My[b],T=R[y],T!==void 0&&(P=T.executeHitDetection(h,u,r,v,f),P))return P}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],o=n[3],l=[r,i,r,o,s,o,s,i];return Ea(l,0,8,2,e,l),l}isEmpty(){return Xl(this.executorsByZIndex_)}execute(e,n,r,i,s,o,l){const u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(Aa),this.maxExtent_&&(e.save(),this.clip(e,r)),o=o||My;let d,h,f,p,y,v;for(l&&u.reverse(),d=0,h=u.length;d<h;++d){const w=u[d].toString();for(y=this.executorsByZIndex_[w],f=0,p=o.length;f<p;++f){const S=o[f];v=y[S],v!==void 0&&v.execute(e,n,r,i,s,l)}}this.maxExtent_&&e.restore()}}const Iy={};function $B(t){if(Iy[t]!==void 0)return Iy[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let o=0;o<=t;++o){const l=s*s+o*o;if(l>n)break;let u=r[l];u||(u=[],r[l]=u),u.push(((t+s)*e+(t+o))*4+3),s>0&&u.push(((t-s)*e+(t+o))*4+3),o>0&&(u.push(((t+s)*e+(t-o))*4+3),s>0&&u.push(((t-s)*e+(t-o))*4+3))}const i=[];for(let s=0,o=r.length;s<o;++s)r[s]&&i.push(...r[s]);return Iy[t]=i,i}class BB extends Ak{constructor(e,n,r,i,s,o,l){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?Rv(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ns()}drawImages_(e,n,r,i){if(!this.image_)return;const s=Ea(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,l=this.tmpLocalTransform_,u=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=u*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let h=0,f=s.length;h<f;h+=2){const p=s[h]-this.imageAnchorX_,y=s[h+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const v=p+this.imageAnchorX_,w=y+this.imageAnchorY_;Po(l,v,w,1,1,d,-v,-w),o.setTransform.apply(o,l),o.translate(v,w),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,y,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=u)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Ea(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_;let l=this.textRotation_;for(this.transformRotation_===0&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);n<r;n+=i){const u=s[n]+this.textOffsetX_,d=s[n+1]+this.textOffsetY_;l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.translate(u-this.textOffsetX_,d-this.textOffsetY_),o.rotate(l),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,u,d),this.textFillState_&&o.fillText(this.text_,u,d))}}moveToLineTo_(e,n,r,i,s){const o=this.context_,l=Ea(e,n,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(l[0],l[1]);let u=l.length;s&&(u-=2);for(let d=2;d<u;d+=2)o.lineTo(l[d],l[d+1]);return s&&o.closePath(),r}drawRings_(e,n,r,i){for(let s=0,o=r.length;s<o;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(ur(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=i$(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),o=this.context_;o.beginPath(),o.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);!r||!ur(this.extent_,r.getExtent())||(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(ur(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const o=e.getEnds(),l=e.getStride();r.beginPath();for(let u=0,d=o.length;u<d;++u)s=this.moveToLineTo_(i,s,o[u],l,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),o=e.getStride();n.beginPath();for(let l=0,u=s.length;l<u;++l){const d=s[l];i=this.drawRings_(r,i,d,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),Bs(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:Yu;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:Qi(r||Is)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),o=n.getLineDashOffset(),l=n.getLineJoin(),u=n.getWidth(),d=n.getMiterLimit(),h=s||Wu;this.strokeState_={lineCap:i!==void 0?i:qf,lineDash:this.pixelRatio_===1?h:h.map(f=>f*this.pixelRatio_),lineDashOffset:(o||Hu)*this.pixelRatio_,lineJoin:l!==void 0?l:Kl,lineWidth:(u!==void 0?u:Zu)*this.pixelRatio_,miterLimit:d!==void 0?d:Xu,strokeStyle:Qi(r||Ku)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/r,o[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const y=n.getColor();this.textFillState_={fillStyle:Qi(y||Is)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const y=r.getColor(),v=r.getLineCap(),w=r.getLineDash(),S=r.getLineDashOffset(),b=r.getLineJoin(),R=r.getWidth(),T=r.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:qf,lineDash:w||Wu,lineDashOffset:S||Hu,lineJoin:b!==void 0?b:Kl,lineWidth:R!==void 0?R:Zu,miterLimit:T!==void 0?T:Xu,strokeStyle:Qi(y||Ku)}}const i=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),l=e.getRotateWithView(),u=e.getRotation(),d=e.getScaleArray(),h=e.getText(),f=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:i!==void 0?i:bk,textAlign:f!==void 0?f:Yu,textBaseline:p!==void 0?p:Jf},this.text_=h!==void 0?Array.isArray(h)?h.reduce((y,v,w)=>y+=w%2?" ":v,""):h:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=l!==void 0?l:!1,this.textRotation_=u!==void 0?u:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}}const Zi=.5;function GB(t,e,n,r,i,s,o){const l=t[0]*Zi,u=t[1]*Zi,d=hr(l,u);d.imageSmoothingEnabled=!1;const h=d.canvas,f=new BB(d,Zi,i,null,o),p=n.length,y=Math.floor((256*256*256-1)/p),v={};for(let S=1;S<=p;++S){const b=n[S-1],R=b.getStyleFunction()||r;if(!r)continue;let T=R(b,s);if(!T)continue;Array.isArray(T)||(T=[T]);const k=(S*y).toString(16).padStart(7,"#00000");for(let M=0,F=T.length;M<F;++M){const I=T[M],z=I.getGeometryFunction()(b);if(!z||!ur(i,z.getExtent()))continue;const W=I.clone(),V=W.getFill();V&&V.setColor(k);const X=W.getStroke();X&&(X.setColor(k),X.setLineDash(null)),W.setText(void 0);const G=I.getImage();if(G&&G.getOpacity()!==0){const D=G.getImageSize();if(!D)continue;const j=hr(D[0],D[1],void 0,{alpha:!1}),U=j.canvas;j.fillStyle=k,j.fillRect(0,0,U.width,U.height),W.setImage(new eg({img:U,imgSize:D,anchor:G.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:G.getOrigin(),opacity:1,size:G.getSize(),scale:G.getScale(),rotation:G.getRotation(),rotateWithView:G.getRotateWithView()}))}const te=W.getZIndex()||0;let J=v[te];J||(J={},v[te]=J,J.Polygon=[],J.Circle=[],J.LineString=[],J.Point=[]);const $=z.getType();if($==="GeometryCollection"){const D=z.getGeometriesArrayRecursive();for(let j=0,U=D.length;j<U;++j){const Y=D[j];J[Y.getType().replace("Multi","")].push(Y,W)}}else J[$.replace("Multi","")].push(z,W)}}const w=Object.keys(v).map(Number).sort(Aa);for(let S=0,b=w.length;S<b;++S){const R=v[w[S]];for(const T in R){const P=R[T];for(let k=0,M=P.length;k<M;k+=2){f.setStyle(P[k+1]);for(let F=0,I=e.length;F<I;++F)f.setTransform(e[F]),f.drawGeometry(P[k])}}}return d.getImageData(0,0,h.width,h.height)}function UB(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*Zi),s=Math.floor(Math.round(t[1])*Zi),o=(_n(i,0,n.width-1)+_n(s,0,n.height-1)*n.width)*4,l=n.data[o],u=n.data[o+1],h=n.data[o+2]+256*(u+256*l),f=Math.floor((256*256*256-1)/e.length);h&&h%f===0&&r.push(e[h/f-1])}return r}const WB=.5,Nk={Point:eG,LineString:qB,Polygon:nG,MultiPoint:tG,MultiLineString:JB,MultiPolygon:QB,GeometryCollection:ZB,Circle:KB};function HB(t,e){return parseInt(nt(t),10)-parseInt(nt(e),10)}function XB(t,e){const n=K0(t,e);return n*n}function K0(t,e){return WB*t/e}function KB(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const u=t.getBuilder(n.getZIndex(),"Circle");u.setFillStrokeStyle(s,o),u.drawCircle(e,r)}const l=n.getText();if(l&&l.getText()){const u=(i||t).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,r)}}function Db(t,e,n,r,i,s,o){let l=!1;const u=n.getImage();if(u){const d=u.getImageState();d==kn.LOADED||d==kn.ERROR?u.unlistenImageChange(i):(d==kn.IDLE&&u.load(),u.listenImageChange(i),l=!0)}return YB(t,e,n,r,s,o),l}function YB(t,e,n,r,i,s){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(r,i);if(n.getRenderer())Fk(t,l,n,e);else{const d=Nk[l.getType()];d(t,l,n,e,s)}}function Fk(t,e,n,r){if(e.getType()=="GeometryCollection"){const s=e.getGeometries();for(let o=0,l=s.length;o<l;++o)Fk(t,s[o],n,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer())}function ZB(t,e,n,r,i){const s=e.getGeometriesArray();let o,l;for(o=0,l=s.length;o<l;++o){const u=Nk[s[o].getType()];u(t,s[o],n,r,i)}}function qB(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function JB(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawMultiLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function QB(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(o||s){const u=t.getBuilder(n.getZIndex(),"Polygon");u.setFillStrokeStyle(s,o),u.drawMultiPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const u=(i||t).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,r)}}function eG(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=kn.LOADED)return;let u=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(u=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawPoint(e,r)}else o&&o.getText()&&(l={})}const d=u.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawPoint(e,r)}if(o&&o.getText()){let u=t;i&&(u=i);const d=u.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function tG(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=kn.LOADED)return;let u=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(u=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawMultiPoint(e,r)}else o&&o.getText()&&(l={})}const d=u.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawMultiPoint(e,r)}if(o&&o.getText()){let u=t;i&&(u=i);const d=u.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function nG(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const u=t.getBuilder(n.getZIndex(),"Polygon");u.setFillStrokeStyle(s,o),u.drawPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const u=(i||t).getBuilder(n.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,r)}}class rG extends Ik{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Gr(),this.wrappedRenderedExtent_=Gr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,o=s.center,l=s.resolution,u=s.projection,d=s.rotation,h=u.getExtent(),f=this.getLayer().getSource(),p=n.pixelRatio,y=n.viewHints,v=!(y[er.ANIMATING]||y[er.INTERACTING]),w=this.compositionContext_,S=Math.round(n.size[0]*p),b=Math.round(n.size[1]*p),R=f.getWrapX()&&u.canWrapX(),T=R?Yt(h):null,P=R?Math.ceil((i[2]-h[2])/T)+1:1;let k=R?Math.floor((i[0]-h[0])/T):0;do{const M=this.getRenderTransform(o,l,d,p,S,b,k*T);e.execute(w,1,M,d,v,void 0,r)}while(++k<P)}setupCompositionContext_(){if(this.opacity_!==1){const e=hr(this.context.canvas.width,this.context.canvas.height,Nb);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,qm(this.compositionContext_),Nb.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,n){const r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];kz(this.pixelTransform,1/r,1/r),Sv(this.inversePixelTransform,this.pixelTransform);const s=DP(this.pixelTransform);this.useContainer(n,s,this.getBackground(e));const o=this.context,l=o.canvas,u=this.replayGroup_,d=this.declutterExecutorGroup;if((!u||u.isEmpty())&&(!d||d.isEmpty()))return null;const h=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);l.width!=h||l.height!=f?(l.width=h,l.height=f,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||o.clearRect(0,0,h,f),this.preRender(o,e);const p=e.viewState;p.projection,this.opacity_=i.opacity,this.setupCompositionContext_();let y=!1,v=!0;if(i.extent&&this.clipping){const w=_o(i.extent);v=ur(w,e.extent),y=v&&!ma(w,e.extent),y&&this.clipUnrotated(this.compositionContext_,e,w)}return v&&this.renderWorlds(u,e),y&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];Ln(this.pixelTransform,r);const i=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,l=this.renderedProjection_,u=this.wrappedRenderedExtent_,d=this.getLayer(),h=[],f=r[0]*Zi,p=r[1]*Zi;h.push(this.getRenderTransform(i,s,o,Zi,f,p,0).slice());const y=d.getSource(),v=l.getExtent();if(y.getWrapX()&&l.canWrapX()&&!ma(v,u)){let w=u[0];const S=Yt(v);let b=0,R;for(;w<v[0];)--b,R=S*b,h.push(this.getRenderTransform(i,s,o,Zi,f,p,R).slice()),w+=S;for(b=0,w=u[2];w>v[2];)++b,R=S*b,h.push(this.getRenderTransform(i,s,o,Zi,f,p,R).slice()),w-=S}this.hitDetectionImageData_=GB(r,h,this.renderedFeatures_,d.getStyleFunction(),u,s,o)}n(UB(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){if(!this.replayGroup_)return;const o=n.viewState.resolution,l=n.viewState.rotation,u=this.getLayer(),d={},h=function(y,v,w){const S=nt(y),b=d[S];if(b){if(b!==!0&&w<b.distanceSq){if(w===0)return d[S]=!0,s.splice(s.lastIndexOf(b),1),i(y,u,v);b.geometry=v,b.distanceSq=w}}else{if(w===0)return d[S]=!0,i(y,u,v);s.push(d[S]={feature:y,layer:u,geometry:v,distanceSq:w,callback:i})}};let f;const p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(y=>f=y.forEachFeatureAtCoordinate(e,o,l,r,h,y===this.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(v=>v.value):null)),f}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[er.ANIMATING],s=e.viewHints[er.INTERACTING],o=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(this.ready&&!o&&i||!l&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const u=e.extent,d=e.viewState,h=d.projection,f=d.resolution,p=e.pixelRatio,y=n.getRevision(),v=n.getRenderBuffer();let w=n.getRenderOrder();w===void 0&&(w=HB);const S=d.center.slice(),b=_d(u,v*f),R=b.slice(),T=[b.slice()],P=h.getExtent();if(r.getWrapX()&&h.canWrapX()&&!ma(P,e.extent)){const J=Yt(P),$=Math.max(Yt(b)/2,J);b[0]=P[0]-$,b[2]=P[2]+$,KP(S,h);const D=GP(T[0],h);D[0]<P[0]&&D[2]<P[2]?T.push([D[0]+J,D[1],D[2]+J,D[3]]):D[0]>P[0]&&D[2]>P[2]&&T.push([D[0]-J,D[1],D[2]-J,D[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==y&&this.renderedRenderOrder_==w&&ma(this.wrappedRenderedExtent_,b))return Bs(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=S,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const k=new Ib(K0(f,p),b,f,p);let M;this.getLayer().getDeclutter()&&(M=new Ib(K0(f,p),b,f,p));let F;for(let J=0,$=T.length;J<$;++J)r.loadFeatures(T[J],f,h);const I=XB(f,p);let z=!0;const W=J=>{let $;const D=J.getStyleFunction()||n.getStyleFunction();if(D&&($=D(J,f)),$){const j=this.renderFeature(J,I,$,k,F,M);z=z&&!j}},V=Iv(b),X=r.getFeaturesInExtent(V);w&&X.sort(w);for(let J=0,$=X.length;J<$;++J)W(X[J]);this.renderedFeatures_=X,this.ready=z;const G=k.finish(),te=new Lb(b,f,p,r.getOverlaps(),G,n.getRenderBuffer());return M&&(this.declutterExecutorGroup=new Lb(b,f,p,r.getOverlaps(),M.finish(),n.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=y,this.renderedRenderOrder_=w,this.renderedExtent_=R,this.wrappedRenderedExtent_=b,this.renderedCenter_=S,this.renderedProjection_=h,this.replayGroup_=te,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,o){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let u=0,d=r.length;u<d;++u)l=Db(i,e,r[u],n,this.boundHandleStyleImageChange_,s,o)||l;else l=Db(i,e,r,n,this.boundHandleStyleImageChange_,s,o);return l}}class cs extends PB{constructor(e){super(e)}createRenderer(){return new rG(this)}}const bi={modeRef:{current:null},onFinishCallback:{current:null}};function iG(){const[t,e]=_.useState(null),[n,r]=_.useState(0),[i,s]=_.useState("Click para colocar el primer vrtice");return{polygonMode:t,setMode:u=>{bi.modeRef.current=u,e(u)},resetPolygonState:()=>{bi.modeRef.current=null,bi.onFinishCallback.current=null,e(null),r(0),s("Click para colocar el primer vrtice")},area:n,setArea:r,tooltipText:i,setTooltipText:s}}function Tu(t){if(!t)return 0;try{return Um(t,{projection:"EPSG:3857"})}catch{return 0}}const nr={base:new on({stroke:new pn({color:"#FFFFFF",width:5}),fill:new Tn({color:"rgba(255, 255, 255, 0.05)"})}),draw:new on({stroke:new pn({color:"#FF4D00",width:4,lineDash:[0,0,10,10]}),fill:new Tn({color:"rgba(255, 77, 0, 0.2)"})}),edit:new on({stroke:new pn({color:"#00FFFF",width:4,lineDash:[0,0,10,10]}),fill:new Tn({color:"rgba(0, 255, 255, 0.15)"})}),vertexEdit:new on({image:new Or({radius:6,fill:new Tn({color:"#00FFFF"}),stroke:new pn({color:"#FFFFFF",width:3})})}),vertexIntermediate:new on({image:new Or({radius:4.5,fill:new Tn({color:"#777777"}),stroke:new pn({color:"#FFFFFF",width:2.5})})}),vertexDelete:new on({image:new Or({radius:6,fill:new Tn({color:"#860000"}),stroke:new pn({color:"#FF0000",width:4})})}),vertexDraw:new on({image:new Or({radius:6,fill:new Tn({color:"#FF4D00"}),stroke:new pn({color:"#FFFFFF",width:3})})}),previewVertex:new on({image:new Or({radius:6,fill:new Tn({color:"#777777"}),stroke:new pn({color:"#FFFFFF",width:3})})}),previewVertexSnap:new on({image:new Or({radius:6,fill:new Tn({color:"#FFFFFF"}),stroke:new pn({color:"#FF4D00",width:3})})}),previewLine:new on({stroke:new pn({color:"#FF8300",width:4,lineDash:[0,0,10,10]})})};function Hv({mapRef:t,parcelas:e,formData:n,clearEdit:r,activateEditMode:i,getCreatedFeature:s,setFormData:o,setAreaCampo:l,setAreaParcela:u,enabled:d=!0,modoVisualizacionCampo:h=!1,onSelectFeature:f=null}){const p=_.useRef(null),y=_.useRef([]),v=()=>{const b=t.current;b&&(y.current.forEach(R=>b.removeLayer(R)),y.current=[],b.getLayers().getArray().forEach(R=>{var P;((P=R.getStyle)==null?void 0:P.call(R))===nr.edit&&b.removeLayer(R)}))},w=b=>{var P;if(["draw","draw-edit"].includes(bi.modeRef.current))return;const R=t.current;if(!R)return;const T=s();if((P=T==null?void 0:T.getGeometry())!=null&&P.intersectsCoordinate(b.coordinate)){r(),i(T);return}R.forEachFeatureAtPixel(b.pixel,k=>{if(!k||!k.getGeometry())return;const M=k.getGeometry().getType();if(M!=="Polygon"&&M!=="MultiPolygon")return;const F=k.getId()||k.get("parcela_id"),I=n.campo_id,z=(e[I]||[]).find(W=>W.id==F);if(z){o(h?W=>({...W,parcela_id:z.id}):{campo_id:I,parcela_id:z.id,nombre:z.nombre||"",descripcion:z.descripcion||""});try{const W=k.clone();W.setId(z.id),i(W);try{const V=k.clone();V.setId(z.id),i(V),typeof f=="function"&&f(V,z)}catch(V){console.error("Error al clonar feature:",V)}}catch(W){console.error("Error al clonar feature:",W)}}})},S=()=>{const b=t.current;if(!b||!n.campo_id)return;r(),v(),p.current&&(b.un("click",p.current),p.current=null),h||(b.on("click",w),p.current=w);const R=e[n.campo_id]||[],T=new mk;let P=0;if(h){R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const F=new js({features:[M]}),I=new cs({source:F,style:nr.base});b.addLayer(I),y.current.push(I),P+=Tu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),u(0);return}if(n.parcela_id===""||n.parcela_id==="temporal")R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const F=new js({features:[M]}),I=new cs({source:F,style:nr.base});b.addLayer(I),y.current.push(I),P+=Tu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),u(0);else{const k=R.find(M=>M.id==n.parcela_id);if(k)try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id),i(M);const F=Tu(M.getGeometry());u(F),typeof f=="function"&&f(M,k)}catch(M){console.error("Error leyendo feature seleccionada:",M)}}};return _.useEffect(()=>{if(d)return S(),()=>{v(),p.current&&t.current&&(t.current.un("click",p.current),p.current=null)}},[n.campo_id,n.parcela_id,e]),{setFeaturesOnMap:S,clearParcelas:v}}function Xv(t){_.useEffect(()=>()=>{typeof t=="function"&&t()},[])}const bd=_.createContext(null);function sG({children:t}){const e=_.useRef(null),[n,r]=_.useState(!1),i=_.useCallback(()=>{const s=document.getElementById("map");s&&e.current&&(e.current.setTarget(null),e.current=null,s.innerHTML="",r(!1))},[]);return _.useEffect(()=>{const s=new ResizeObserver(()=>{const l=document.getElementById("map");(l==null?void 0:l.offsetWidth)>0&&(l==null?void 0:l.offsetHeight)>0&&!e.current&&r(!0)}),o=document.getElementById("map");return o&&s.observe(o),()=>s.disconnect()},[]),g.jsx(bd.Provider,{value:{mapRef:e,ready:n,resetMap:i},children:g.jsxs("div",{className:"relative w-full h-full flex-grow overflow-hidden",children:[g.jsx("div",{id:"map",className:"absolute inset-0 z-0",children:g.jsx("div",{id:"popup-cluster-container",className:"min-w-[250px]"})}),n&&t]})})}const Ed=_.createContext();function oG({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(null);return g.jsx(Ed.Provider,{value:{campoSeleccionado:e,setCampoSeleccionado:n,lastCampoId:r,setLastCampoId:i},children:t})}class yo extends Di{constructor(e,n){super(e),this.layer=n}}const Ny={LAYERS:"layers"};class mc extends xk{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Ny.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new $r(r.slice(),{unique:!0}):ct(typeof r.getArray=="function",43):r=new $r(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Wt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(vt(e,vn.ADD,this.handleLayersAdd_,this),vt(e,vn.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(Wt);fc(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new yo("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[vt(e,Wl.PROPERTYCHANGE,this.handleLayerChange_,this),vt(e,tt.CHANGE,this.handleLayerChange_,this)];e instanceof mc&&n.push(vt(e,"addlayer",this.handleLayerGroupAdd_,this),vt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[nt(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new yo("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new yo("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new yo("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=nt(n);this.listenerKeys_[r].forEach(Wt),delete this.listenerKeys_[r],this.dispatchEvent(new yo("removelayer",n)),this.changed()}getLayers(){return this.get(Ny.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new yo("removelayer",r[i]))}this.set(Ny.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let o=r,l=n.length;o<l;o++){const u=n[o];u.opacity*=i.opacity,u.visible=u.visible&&i.visible,u.maxResolution=Math.min(u.maxResolution,i.maxResolution),u.minResolution=Math.max(u.minResolution,i.minResolution),u.minZoom=Math.max(u.minZoom,i.minZoom),u.maxZoom=Math.min(u.maxZoom,i.maxZoom),i.extent!==void 0&&(u.extent!==void 0?u.extent=Eu(u.extent,i.extent):u.extent=i.extent),u.zIndex===void 0&&(u.zIndex=s)}return n}getSourceState(){return"ready"}}const Ke={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class jk extends Vm{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(tt.CHANGE)}release(){this.state===Ke.ERROR&&this.setState(Ke.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==Ke.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(e.getState()==Ke.LOADED){e.interimTile=null;break}else e.getState()==Ke.LOADING?n=e:e.getState()==Ke.IDLE?n.interimTile=e.interimTile:n=e;e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Ke.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Qe()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:vk(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class Lk extends jk{constructor(e,n,r,i,s,o){super(e,n,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Ke.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Ke.ERROR,this.unlistenImage_(),this.image_=aG(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Ke.LOADED:this.state=Ke.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Ke.ERROR&&(this.state=Ke.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Ke.IDLE&&(this.state=Ke.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Pk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function aG(){const t=hr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const lG=.5,cG=10,Ob=.25;class uG{constructor(e,n,r,i,s,o){this.sourceProj_=e,this.targetProj_=n;let l={};const u=Wf(this.targetProj_,this.sourceProj_);this.transformInv_=function(R){const T=R[0]+"/"+R[1];return l[T]||(l[T]=u(R)),l[T]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Yt(i)==Yt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Yt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Yt(this.targetProj_.getExtent()):null;const d=Ga(r),h=Gm(r),f=Bm(r),p=$m(r),y=this.transformInv_(d),v=this.transformInv_(h),w=this.transformInv_(f),S=this.transformInv_(p),b=cG+(o?Math.max(0,Math.ceil(Math.log2(j0(r)/(o*o*256*256)))):0);if(this.addQuad_(d,h,f,p,y,v,w,S,b),this.wrapsXInSource_){let R=1/0;this.triangles_.forEach(function(T,P,k){R=Math.min(R,T.source[0][0],T.source[1][0],T.source[2][0])}),this.triangles_.forEach(T=>{if(Math.max(T.source[0][0],T.source[1][0],T.source[2][0])-R>this.sourceWorldWidth_/2){const P=[[T.source[0][0],T.source[0][1]],[T.source[1][0],T.source[1][1]],[T.source[2][0],T.source[2][1]]];P[0][0]-R>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-R>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-R>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);const k=Math.min(P[0][0],P[1][0],P[2][0]);Math.max(P[0][0],P[1][0],P[2][0])-k<this.sourceWorldWidth_/2&&(T.source=P)}})}l={}}addTriangle_(e,n,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[e,n,r]})}addQuad_(e,n,r,i,s,o,l,u,d){const h=pi([s,o,l,u]),f=this.sourceWorldWidth_?Yt(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&f>.5&&f<1;let v=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const S=pi([e,n,r,i]);v=Yt(S)/this.targetWorldWidth_>Ob||v}!y&&this.sourceProj_.isGlobal()&&f&&(v=f>Ob||v)}if(!v&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!ur(h,this.maxSourceExtent_))return;let w=0;if(!v&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(u[0])||!isFinite(u[1]))){if(d>0)v=!0;else if(w=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(d>0){if(!v){const S=[(e[0]+r[0])/2,(e[1]+r[1])/2],b=this.transformInv_(S);let R;y?R=(ba(s[0],p)+ba(l[0],p))/2-ba(b[0],p):R=(s[0]+l[0])/2-b[0];const T=(s[1]+l[1])/2-b[1];v=R*R+T*T>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const S=[(n[0]+r[0])/2,(n[1]+r[1])/2],b=this.transformInv_(S),R=[(i[0]+e[0])/2,(i[1]+e[1])/2],T=this.transformInv_(R);this.addQuad_(e,n,S,R,s,o,b,T,d-1),this.addQuad_(R,S,r,i,T,b,l,u,d-1)}else{const S=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(S),R=[(r[0]+i[0])/2,(r[1]+i[1])/2],T=this.transformInv_(R);this.addQuad_(e,S,R,i,s,b,T,u,d-1),this.addQuad_(S,n,r,R,b,o,l,T,d-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(e,r,i,s,l,u),(w&14)==0&&this.addTriangle_(e,r,n,s,l,o),w&&((w&13)==0&&this.addTriangle_(n,i,e,o,u,s),(w&7)==0&&this.addTriangle_(n,i,r,o,u,l))}calculateSourceExtent(){const e=Gr();return this.triangles_.forEach(function(n,r,i){const s=n.source;bu(e,s[0]),bu(e,s[1]),bu(e,s[2])}),e}getTriangles(){return this.triangles_}}let Fy;const $l=[];function Vb(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function jy(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function dG(){if(Fy===void 0){const t=hr(6,6,$l);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Vb(t,4,5,4,0),Vb(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Fy=jy(e,0)||jy(e,4)||jy(e,8),qm(t),$l.push(t.canvas)}return Fy}function zb(t,e,n,r){const i=Mv(n,e,t);let s=sb(e,r,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const l=t.getMetersPerUnit();l!==void 0&&(s/=l);const u=t.getExtent();if(!u||zm(u,i)){const d=sb(t,s,i)/s;isFinite(d)&&d>0&&(s/=d)}return s}function hG(t,e,n,r){const i=ko(n);let s=zb(t,e,i,r);return(!isFinite(s)||s<=0)&&BP(n,function(o){return s=zb(t,e,o,r),isFinite(s)&&s>0}),s}function fG(t,e,n,r,i,s,o,l,u,d,h,f){const p=hr(Math.round(n*t),Math.round(n*e),$l);if(f||(p.imageSmoothingEnabled=!1),u.length===0)return p.canvas;p.scale(n,n);function y(P){return Math.round(P*n)/n}p.globalCompositeOperation="lighter";const v=Gr();u.forEach(function(P,k,M){zP(v,P.extent)});const w=Yt(v),S=ls(v),b=hr(Math.round(n*w/r),Math.round(n*S/r),$l);f||(b.imageSmoothingEnabled=!1);const R=n/r;u.forEach(function(P,k,M){const F=P.extent[0]-v[0],I=-(P.extent[3]-v[3]),z=Yt(P.extent),W=ls(P.extent);P.image.width>0&&P.image.height>0&&b.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,F*R,I*R,z*R,W*R)});const T=Ga(o);return l.getTriangles().forEach(function(P,k,M){const F=P.source,I=P.target;let z=F[0][0],W=F[0][1],V=F[1][0],X=F[1][1],G=F[2][0],te=F[2][1];const J=y((I[0][0]-T[0])/s),$=y(-(I[0][1]-T[1])/s),D=y((I[1][0]-T[0])/s),j=y(-(I[1][1]-T[1])/s),U=y((I[2][0]-T[0])/s),Y=y(-(I[2][1]-T[1])/s),N=z,L=W;z=0,W=0,V-=N,X-=L,G-=N,te-=L;const ne=[[V,X,0,0,D-J],[G,te,0,0,U-J],[0,0,V,X,j-$],[0,0,G,te,Y-$]],ie=Hz(ne);if(ie){if(p.save(),p.beginPath(),dG()||!f){p.moveTo(D,j);const ce=4,ge=J-D,ae=$-j;for(let pe=0;pe<ce;pe++)p.lineTo(D+y((pe+1)*ge/ce),j+y(pe*ae/(ce-1))),pe!=ce-1&&p.lineTo(D+y((pe+1)*ge/ce),j+y((pe+1)*ae/(ce-1)));p.lineTo(U,Y)}else p.moveTo(D,j),p.lineTo(J,$),p.lineTo(U,Y);p.clip(),p.transform(ie[0],ie[2],ie[1],ie[3],J,$),p.translate(v[0]-N,v[3]-L),p.scale(r/n,-r/n),p.drawImage(b.canvas,0,0),p.restore()}}),qm(b),$l.push(b.canvas),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,l.getTriangles().forEach(function(P,k,M){const F=P.target,I=(F[0][0]-T[0])/s,z=-(F[0][1]-T[1])/s,W=(F[1][0]-T[0])/s,V=-(F[1][1]-T[1])/s,X=(F[2][0]-T[0])/s,G=-(F[2][1]-T[1])/s;p.beginPath(),p.moveTo(W,V),p.lineTo(I,z),p.lineTo(X,G),p.closePath(),p.stroke()}),p.restore()),p.canvas}class Y0 extends jk{constructor(e,n,r,i,s,o,l,u,d,h,f,p){super(s,Ke.IDLE,{interpolate:!!p}),this.renderEdges_=f!==void 0?f:!1,this.pixelRatio_=l,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const y=i.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const S=v?Eu(y,v):y;if(j0(S)===0){this.state=Ke.EMPTY;return}const b=e.getExtent();b&&(w?w=Eu(w,b):w=b);const R=i.getResolution(this.wrappedTileCoord_[0]),T=hG(e,r,S,R);if(!isFinite(T)||T<=0){this.state=Ke.EMPTY;return}const P=h!==void 0?h:lG;if(this.triangulation_=new uG(e,r,S,w,T*P,R),this.triangulation_.getTriangles().length===0){this.state=Ke.EMPTY;return}this.sourceZ_=n.getZForResolution(T);let k=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(k[1]=_n(k[1],w[1],w[3]),k[3]=_n(k[3],w[1],w[3])):k=Eu(k,w)),!j0(k))this.state=Ke.EMPTY;else{const M=n.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let F=M.minX;F<=M.maxX;F++)for(let I=M.minY;I<=M.maxY;I++){const z=d(this.sourceZ_,F,I,l);z&&this.sourceTiles_.push(z)}this.sourceTiles_.length===0&&(this.state=Ke.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==Ke.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=Ke.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],o=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=fG(i,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Ke.LOADED}this.changed()}load(){if(this.state==Ke.IDLE){this.state=Ke.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==Ke.IDLE||r==Ke.LOADING){e++;const i=vt(n,tt.CHANGE,function(s){const o=n.getState();(o==Ke.LOADED||o==Ke.ERROR||o==Ke.EMPTY)&&(Wt(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==Ke.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Wt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(qm(this.canvas_.getContext("2d")),$l.push(this.canvas_),this.canvas_=null),super.release()}}class Kv{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function vl(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new Kv(t,e,n,r)}class mG extends Ik{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Gr(),this.tmpTileRange_=new Kv(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==Ke.LOADED||r==Ke.EMPTY||r==Ke.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,o=i.viewState.projection,l=this.getLayer();let d=l.getSource().getTile(e,n,r,s,o);return d.getState()==Ke.ERROR&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(d)||(d=d.getInterimTile()),d}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Ln(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!zm(s,i))return null;const o=n.pixelRatio,l=n.viewState.projection,u=n.viewState,d=r.getRenderSource(),h=d.getTileGridForProjection(u.projection),f=d.getTilePixelRatio(n.pixelRatio);for(let p=h.getZForResolution(u.resolution);p>=h.getMinZoom();--p){const y=h.getTileCoordForCoordAndZ(i,p),v=d.getTile(p,y[1],y[2],o,l);if(!(v instanceof Lk||v instanceof Y0)||v instanceof Y0&&v.getState()===Ke.EMPTY)return null;if(v.getState()!==Ke.LOADED)continue;const w=h.getOrigin(p),S=zr(h.getTileSize(p)),b=h.getResolution(p),R=Math.floor(f*((i[0]-w[0])/b-y[1]*S[0])),T=Math.floor(f*((w[1]-i[1])/b-y[2]*S[1])),P=Math.round(f*d.getGutterForProjection(u.projection));return this.getImageData(v.getImage(),R+P,T+P)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,o=i.resolution,l=i.center,u=i.rotation,d=e.pixelRatio,h=this.getLayer(),f=h.getSource(),p=f.getRevision(),y=f.getTileGridForProjection(s),v=y.getZForResolution(o,f.zDirection),w=y.getResolution(v);let S=e.extent;const b=e.viewState.resolution,R=f.getTilePixelRatio(d),T=Math.round(Yt(S)/b*d),P=Math.round(ls(S)/b*d),k=r.extent&&_o(r.extent);k&&(S=Eu(S,_o(r.extent)));const M=w*T/2/R,F=w*P/2/R,I=[l[0]-M,l[1]-F,l[0]+M,l[1]+F],z=y.getTileRangeForExtentAndZ(S,v),W={};W[v]={};const V=this.createLoadedTileFinder(f,s,W),X=this.tmpExtent,G=this.tmpTileRange_;this.newTiles_=!1;const te=u?D0(i.center,b,u,e.size):void 0;for(let ne=z.minX;ne<=z.maxX;++ne)for(let ie=z.minY;ie<=z.maxY;++ie){if(u&&!y.tileCoordIntersectsViewport([v,ne,ie],te))continue;const ce=this.getTile(v,ne,ie,e);if(this.isDrawableTile(ce)){const pe=nt(this);if(ce.getState()==Ke.LOADED){W[v][ce.tileCoord.toString()]=ce;let we=ce.inTransition(pe);we&&r.opacity!==1&&(ce.endTransition(pe),we=!1),!this.newTiles_&&(we||!this.renderedTiles.includes(ce))&&(this.newTiles_=!0)}if(ce.getAlpha(pe,e.time)===1)continue}const ge=y.getTileCoordChildTileRange(ce.tileCoord,G,X);let ae=!1;ge&&(ae=V(v+1,ge)),ae||y.forEachTileCoordParentTileRange(ce.tileCoord,V,G,X)}const J=w/o*d/R;Po(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,u,-T/2,-P/2);const $=DP(this.pixelTransform);this.useContainer(n,$,this.getBackground(e));const D=this.context,j=D.canvas;Sv(this.inversePixelTransform,this.pixelTransform),Po(this.tempTransform,T/2,P/2,J,J,0,-T/2,-P/2),j.width!=T||j.height!=P?(j.width=T,j.height=P):this.containerReused||D.clearRect(0,0,T,P),k&&this.clipUnrotated(D,e,k),f.getInterpolate()||(D.imageSmoothingEnabled=!1),this.preRender(D,e),this.renderedTiles.length=0;let U=Object.keys(W).map(Number);U.sort(Aa);let Y,N,L;r.opacity===1&&(!this.containerReused||f.getOpaque(e.viewState.projection))?U=U.reverse():(Y=[],N=[]);for(let ne=U.length-1;ne>=0;--ne){const ie=U[ne],ce=f.getTilePixelSize(ie,d,s),ae=y.getResolution(ie)/w,pe=ce[0]*ae*J,we=ce[1]*ae*J,be=y.getTileCoordForCoordAndZ(Ga(I),ie),$e=y.getTileCoordExtent(be),Be=Ln(this.tempTransform,[R*($e[0]-I[0])/w,R*(I[3]-$e[3])/w]),_t=R*f.getGutterForProjection(s),pt=W[ie];for(const Dt in pt){const Vt=pt[Dt],zt=Vt.tileCoord,On=be[1]-zt[1],Tt=Math.round(Be[0]-(On-1)*pe),B=be[2]-zt[2],Z=Math.round(Be[1]-(B-1)*we),ee=Math.round(Be[0]-On*pe),he=Math.round(Be[1]-B*we),fe=Tt-ee,se=Z-he,ye=v===ie,De=ye&&Vt.getAlpha(nt(this),e.time)!==1;let Ve=!1;if(!De)if(Y){L=[ee,he,ee+fe,he,ee+fe,he+se,ee,he+se];for(let yt=0,$t=Y.length;yt<$t;++yt)if(v!==ie&&ie<N[yt]){const mt=Y[yt];ur([ee,he,ee+fe,he+se],[mt[0],mt[3],mt[4],mt[7]])&&(Ve||(D.save(),Ve=!0),D.beginPath(),D.moveTo(L[0],L[1]),D.lineTo(L[2],L[3]),D.lineTo(L[4],L[5]),D.lineTo(L[6],L[7]),D.moveTo(mt[6],mt[7]),D.lineTo(mt[4],mt[5]),D.lineTo(mt[2],mt[3]),D.lineTo(mt[0],mt[1]),D.clip())}Y.push(L),N.push(ie)}else D.clearRect(ee,he,fe,se);this.drawTileImage(Vt,e,ee,he,fe,se,_t,ye),Y&&!De?(Ve&&D.restore(),this.renderedTiles.unshift(Vt)):this.renderedTiles.push(Vt),this.updateUsedTiles(e.usedTiles,f,Vt)}}return this.renderedRevision=p,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!zu(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=d,this.renderedProjection=s,this.manageTilePyramid(e,f,y,d,s,S,v,h.getPreload()),this.scheduleExpireCache(e,f),this.postRender(D,e),r.extent&&D.restore(),D.imageSmoothingEnabled=!0,$!==j.style.transform&&(j.style.transform=$),this.container}drawTileImage(e,n,r,i,s,o,l,u){const d=this.getTileImage(e);if(!d)return;const h=nt(this),f=n.layerStatesArray[n.layerIndex],p=f.opacity*(u?e.getAlpha(h,n.time):1),y=p!==this.context.globalAlpha;y&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(d,l,l,d.width-2*l,d.height-2*l,r,i,s,o),y&&this.context.restore(),p!==f.opacity?n.animate=!0:u&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=(function(i,s,o){const l=nt(i);l in o.usedTiles&&i.expireCache(o.viewState.projection,o.usedTiles[l])}).bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=nt(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,o,l,u,d){const h=nt(n);h in e.wantedTiles||(e.wantedTiles[h]={});const f=e.wantedTiles[h],p=e.tileQueue,y=r.getMinZoom(),v=e.viewState.rotation,w=v?D0(e.viewState.center,e.viewState.resolution,v,e.size):void 0;let S=0,b,R,T,P,k,M;for(M=y;M<=l;++M)for(R=r.getTileRangeForExtentAndZ(o,M,R),T=r.getResolution(M),P=R.minX;P<=R.maxX;++P)for(k=R.minY;k<=R.maxY;++k)v&&!r.tileCoordIntersectsViewport([M,P,k],w)||(l-M<=u?(++S,b=n.getTile(M,P,k,i,s),b.getState()==Ke.IDLE&&(f[b.getKey()]=!0,p.isKeyQueued(b.getKey())||p.enqueue([b,h,r.getTileCoordCenter(b.tileCoord),T])),d!==void 0&&d(b)):n.useTile(M,P,k,s));n.updateCacheSize(S,s)}}const of={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class gG{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return ct(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return ct(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){ct(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}function $b(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function ng(t,e,n){return t+"/"+e+"/"+n}function Dk(t){return ng(t[0],t[1],t[2])}function pG(t){return t.split("/").map(Number)}function yG(t){return(t[1]<<t[0])+t[2]}function xG(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}class Ok extends gG{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=pG(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(Dk(i.tileCoord)),i.release())})}}const _l=[0,0,0],fo=5;class Vk{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ct(pz(this.resolutions_,function(i,s){return s-i}),17);let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ct(this.origins_.length==this.resolutions_.length,20));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Ga(r)),ct(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ct(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:zv,ct(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(i,s){const o=new Kv(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const l=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,o=i.maxX;s<=o;++s)for(let l=i.minY,u=i.maxY;l<=u;++l)r([n,s,l])}forEachTileCoordParentTileRange(e,n,r,i){let s,o,l,u=null,d=e[0]-1;for(this.zoomFactor_===2?(o=e[1],l=e[2]):u=this.getTileCoordExtent(e,i);d>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),l=Math.floor(l/2),s=vl(o,o,l,l,r)):s=this.getTileRangeForExtentAndZ(u,d,r),n(d,s))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return vl(s,s+1,o,o+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],o=e[2];if(n===i)return vl(s,o,s,o,r);if(this.zoomFactor_){const u=Math.pow(this.zoomFactor_,n-i),d=Math.floor(s*u),h=Math.floor(o*u);if(n<i)return vl(d,d,h,h,r);const f=Math.floor(u*(s+1))-1,p=Math.floor(u*(o+1))-1;return vl(d,f,h,p,r)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,n,r)}getTileRangeExtent(e,n,r){const i=this.getOrigin(e),s=this.getResolution(e),o=zr(this.getTileSize(e),this.tmpSize_),l=i[0]+n.minX*o[0]*s,u=i[0]+(n.maxX+1)*o[0]*s,d=i[1]+n.minY*o[1]*s,h=i[1]+(n.maxY+1)*o[1]*s;return Fs(l,d,u,h,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,_l);const i=_l[1],s=_l[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,_l);const o=_l[1],l=_l[2];return vl(i,o,s,l,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=zr(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=zr(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*i,l=r[1]-(e[2]+1)*s[1]*i,u=o+s[0]*i,d=l+s[1]*i;return Fs(o,l,u,d,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const o=this.getZForResolution(r),l=r/this.getResolution(o),u=this.getOrigin(o),d=zr(this.getTileSize(o),this.tmpSize_);let h=l*(e-u[0])/r/d[0],f=l*(u[1]-n)/r/d[1];return i?(h=Zh(h,fo)-1,f=Zh(f,fo)-1):(h=Yh(h,fo),f=Yh(f,fo)),$b(o,h,f,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const o=this.getOrigin(r),l=this.getResolution(r),u=zr(this.getTileSize(r),this.tmpSize_);let d=(e-o[0])/l/u[0],h=(o[1]-n)/l/u[1];return i?(d=Zh(d,fo)-1,h=Zh(h,fo)-1):(d=Yh(d,fo),h=Yh(h,fo)),$b(r,d,h,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=_v(this.resolutions_,e,n||0);return _n(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return ok(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}const Ly={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function zk(t){let e=t.getDefaultTileGrid();return e||(e=wG(t),t.setDefaultTileGrid(e)),e}function vG(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=Yv(n);if(!zm(s,i)){const o=Yt(s),l=Math.ceil((s[0]-i[0])/o);return i[0]+=o*l,t.getTileCoordForCoordAndZ(i,r)}return e}function _G(t,e,n,r){r=r!==void 0?r:"top-left";const i=Bk(t,e,n);return new Vk({extent:t,origin:Iz(t,r),resolutions:i,tileSize:n})}function $k(t){const e=t||{},n=e.extent||wn("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Bk(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Vk(r)}function Bk(t,e,n,r){e=e!==void 0?e:H$,n=zr(n!==void 0?n:zv);const i=ls(t),s=Yt(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const o=e+1,l=new Array(o);for(let u=0;u<o;++u)l[u]=r/Math.pow(2,u);return l}function wG(t,e,n,r){const i=Yv(t);return _G(i,e,n,r)}function Yv(t){t=wn(t);let e=t.getExtent();if(!e){const n=180*Ev.degrees/t.getMetersPerUnit();e=Fs(-n,-n,n,n)}return e}class SG extends yk{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&zr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new Ok(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let o=!0,l,u,d;for(let h=r.minX;h<=r.maxX;++h)for(let f=r.minY;f<=r.maxY;++f)u=ng(n,h,f),d=!1,s.containsKey(u)&&(l=s.get(u),d=l.getState()===Ke.LOADED,d&&(d=i(l)!==!1)),d||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return Qe()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:zk(e)}getTileCacheForProjection(e){const n=this.getProjection();return ct(n===null||ha(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),o=zr(i.getTileSize(e),this.tmpSize);return s==1?o:iB(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=vG(r,e,n)),xG(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class CG extends Di{constructor(e,n){super(e),this.tile=n}}function bG(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,l,u){if(o)return t.replace(n,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const d=o[0],h=e.getFullTileRange(d);return ct(h,55),(h.getHeight()-o[2]-1).toString()})}}function EG(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=bG(t[i],e);return RG(r)}function RG(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=yG(e),s=ba(i,t.length);return t[s](e,n,r)}}function TG(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class Zv extends SG{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Zv.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=nt(n),i=n.getState();let s;i==Ke.LOADING?(this.tileLoadingKeys_[r]=!0,s=Ly.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==Ke.ERROR?Ly.TILELOADERROR:i==Ke.LOADED?Ly.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new CG(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=TG(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(EG(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=ng(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class PG extends vv{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Qe()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Po(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Sv(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,o,l,u){let d;const h=n.viewState;function f(P,k,M,F){return s.call(o,k,P?M:null,F)}const p=h.projection,y=KP(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&i){const P=p.getExtent(),k=Yt(P);v.push([-k,0],[k,0])}const w=n.layerStatesArray,S=w.length,b=[],R=[];for(let P=0;P<v.length;P++)for(let k=S-1;k>=0;--k){const M=w[k],F=M.layer;if(F.hasRenderer()&&Uv(M,h)&&l.call(u,F)){const I=F.getRenderer(),z=F.getSource();if(I&&z){const W=z.getWrapX()?y:e,V=f.bind(null,M.managed);R[0]=W[0]+v[P][0],R[1]=W[1]+v[P][1],d=I.forEachFeatureAtCoordinate(R,n,r,V,b)}if(d)return d}}if(b.length===0)return;const T=1/b.length;return b.forEach((P,k)=>P.distanceSq+=k*T),b.sort((P,k)=>P.distanceSq-k.distanceSq),b.some(P=>d=P.callback(P.feature,P.layer,P.geometry)),d}hasFeatureAtCoordinate(e,n,r,i,s,o){return this.forEachFeatureAtCoordinate(e,n,r,i,Ma,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Qe()}scheduleExpireIconCache(e){em.canExpireCache()&&e.postRenderFunctions.push(kG)}}function kG(t,e){em.expire()}class AG extends PG{constructor(e){super(e),this.fontChangeListenerKey_=vt(Ts,Wl.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Jm+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new Mk(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){Wt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(bo.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let s=null;for(let o=0,l=n.length;o<l;++o){const u=n[o];e.layerIndex=o;const d=u.layer,h=d.getSourceState();if(!Uv(u,r)||h!="ready"&&h!="undefined"){d.unrender();continue}const f=d.render(e,s);f&&(f!==s&&(this.children_.push(f),s=f),"getDeclutter"in d&&i.push(d))}for(let o=i.length-1;o>=0;--o)i[o].renderDeclutter(e);hB(this.element_,this.children_),this.dispatchRenderEvent(bo.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}class Ml extends Di{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class mo extends Ml{constructor(e,n,r,i,s,o){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Lt={SINGLECLICK:"singleclick",CLICK:tt.CLICK,DBLCLICK:tt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Z0={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class MG extends Vm{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=vt(r,Z0.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=vt(r,Z0.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(tt.TOUCHMOVE,this.boundHandleTouchMove_,LP?{passive:!1}:!1)}emulateClick_(e){let n=new mo(Lt.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new mo(Lt.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new mo(Lt.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==Lt.POINTERUP||n.type==Lt.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==Lt.POINTERDOWN||n.type==Lt.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new mo(Lt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Wt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new mo(Lt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(vt(r,Lt.POINTERMOVE,this.handlePointerMove_,this),vt(r,Lt.POINTERUP,this.handlePointerUp_,this),vt(this.element_,Lt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(vt(this.element_.getRootNode(),Lt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new mo(Lt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new mo(Lt.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Wt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(tt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Wt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Wt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ps={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Qn={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},tm=1/0;class IG{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,fc(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){ct(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=tm?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],o=r[e],l=e;for(;e<i>>1;){const u=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<i&&r[d]<r[u]?d:u;n[e]=n[h],r[e]=r[h],e=h}n[e]=s,r[e]=o,this.siftDown_(l,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],o=i[n];for(;n>e;){const l=this.getParentIndex_(n);if(i[l]>o)r[n]=r[l],i[n]=i[l],n=l;else break}r[n]=s,i[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let o,l,u;for(l=0;l<s;++l)o=n[l],u=e(o),u==tm?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=u,n[i++]=o);n.length=i,r.length=i,this.heapify_()}}class NG extends IG{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(tt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===Ke.LOADED||r===Ke.ERROR||r===Ke.EMPTY){r!==Ke.ERROR&&n.removeEventListener(tt.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,o;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),i=s.getState(),i===Ke.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,s.load())}}function FG(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return tm;const s=t.viewState.center,o=r[0]-s[0],l=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(o*o+l*l)/i}class qv extends Oi{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Zf(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Zf(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)Wt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Hl&&this.listenerKeys.push(vt(e,Ps.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class jG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const l=e.label!==void 0?e.label:"i";typeof l=="string"?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=i):this.label_=l;const u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(u),this.toggleButton_.addEventListener(tt.CLICK,this.handleClick_.bind(this),!1);const d=n+" "+Jm+" "+Wv+(this.collapsed_&&this.collapsible_?" "+Cb:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=d,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Bs(n,this.renderedAttributions_)){Sk(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const o=document.createElement("li");o.innerHTML=n[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Cb),this.collapsed_?Sb(this.collapseLabel_,this.label_):Sb(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class LG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(tt.CLICK,this.handleClick_.bind(this),!1);const l=n+" "+Jm+" "+Wv,u=this.element;u.className=l,u.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(rf)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Pr}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(rf);!s&&r===0?this.element.classList.add(rf):s&&r!==0&&this.element.classList.remove(rf)}this.label_.style.transform=i}this.rotation_=r}}class DG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",l=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",u=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(tt.CLICK,this.handleClick_.bind(this,r),!1);const f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=d,f.appendChild(typeof l=="string"?document.createTextNode(l):l),f.addEventListener(tt.CLICK,this.handleClick_.bind(this,-r),!1);const p=n+" "+Jm+" "+Wv,y=this.element;y.className=p,y.appendChild(h),y.appendChild(f),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:Pr})):r.setZoom(s)}}}function OG(t){t=t||{};const e=new $r;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new DG(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new LG(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new jG(t.attributionOptions)),e}const Bb={ACTIVE:"active"};class gc extends Oi{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Bb.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Bb.ACTIVE,e)}setMap(e){this.map_=e}}function VG(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:Q$,center:t.getConstrainedCenter(i)})}}function Jv(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:r!==void 0?r:250,easing:Pr})}class zG extends gc{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Lt.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_,l=i.getView();Jv(l,o,s,this.duration_),r.preventDefault(),n=!0}return!n}}class pc extends gc{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Lt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Lt.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==Lt.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==Lt.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Qv(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function q0(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const $G=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},BG=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},GG=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},Gk=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?GG(t):!0},Uk=Ma,UG=function(t){return t.type==Lt.CLICK},Wk=function(t){const e=t.originalEvent;return e.button==0&&!(bz&&Ez&&e.ctrlKey)},Gb=xd,Hk=function(t){return t.type==Lt.SINGLECLICK},Xk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Kk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Yk=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},kf=function(t){const e=t.originalEvent;return ct(e!==void 0,56),e.pointerType=="mouse"},Zk=function(t){const e=t.originalEvent;return ct(e!==void 0,56),e.isPrimary&&e.button===0};class WG extends pc{constructor(e){super({stopDown:xd}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:q0(Xk,Zk);this.condition_=e.onFocusOnly?q0(Gk,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(Qv(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],l=e.map.getView();XP(s,l.getResolution()),Tv(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),l=n.getPixelFromCoordinateInternal(o),u=n.getCoordinateFromPixelInternal([l[0]-i*Math.cos(s),l[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(u),duration:500,easing:Pr})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class qk extends pc{constructor(e){e=e||{},super({stopDown:xd}),this.condition_=e.condition?e.condition:BG,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!kf(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===Gv)return;const i=n.getSize(),s=e.pixel,o=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=o}handleUpEvent(e){return kf(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return kf(e)&&Wk(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class HG extends vv{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new tr([i])}getGeometry(){return this.geometry_}}const af={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Dy extends Di{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class XG extends pc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new HG(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Wk,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Dy(af.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Dy(n?af.BOXEND:af.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Dy(af.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class KG extends XG{constructor(e){e=e||{};const n=e.condition?e.condition:Kk;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),o=r.getResolutionForExtentInternal(s),l=r.getResolution()/o;i=i.clone(),i.scale(l*l)}r.fitInternal(i,{duration:this.duration_,easing:Pr})}}const ra={LEFT:37,UP:38,RIGHT:39,DOWN:40};class YG extends gc{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return Xk(n)&&Yk(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==tt.KEYDOWN){const r=e.originalEvent,i=r.keyCode;if(this.condition_(e)&&(i==ra.DOWN||i==ra.LEFT||i==ra.RIGHT||i==ra.UP)){const o=e.map.getView(),l=o.getResolution()*this.pixelDelta_;let u=0,d=0;i==ra.DOWN?d=-l:i==ra.LEFT?u=-l:i==ra.RIGHT?u=l:d=l;const h=[u,d];Tv(h,o.getRotation()),VG(o,h,this.duration_),r.preventDefault(),n=!0}}return!n}}class ZG extends gc{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:Yk,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==tt.KEYDOWN||e.type==tt.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,o=i==="+"?this.delta_:-this.delta_,l=s.getView();Jv(l,o,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class qG{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],o=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class JG extends gc{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:Uk;this.condition_=e.onFocusOnly?q0(Gk,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==tt.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==tt.WHEEL&&(s=i.deltaY,Sz&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=jP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const l=r.getView();if(this.mode_==="trackpad"&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const u=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),u),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-_n(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),Jv(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class QG extends pc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=xd),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const u=s-this.lastAngle_;this.rotationDelta_+=u,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=u}this.lastAngle_=s;const o=e.map,l=o.getView();l.getConstraints().rotation!==Gv&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Qv(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class e6 extends pc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=xd),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,o=r.clientY-i.clientY,l=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/l),this.lastDistance_=l;const u=e.map,d=u.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel(Qv(this.targetPointers))),u.render(),d.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Jk(t){t=t||{};const e=new $r,n=new qG(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new qk),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new zG({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new WG({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new QG),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new e6({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new YG),e.push(new ZG({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new JG({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new KG({duration:t.zoomDuration})),e}function Qk(t){if(t instanceof Ym){t.setMapInternal(null);return}t instanceof mc&&t.getLayers().forEach(Qk)}function eA(t,e){if(t instanceof Ym){t.setMapInternal(e);return}if(t instanceof mc){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)eA(n[r],e)}}let t6=class extends Oi{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=n6(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:jP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=ns(),this.pixelToCoordinateTransform_=ns(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||OG(),this.interactions=n.interactions||Jk({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new NG(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Qn.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Qn.VIEW,this.handleViewChanged_),this.addChangeListener(Qn.SIZE,this.handleSizeChanged_),this.addChangeListener(Qn.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof Yi)&&e.view.then(function(i){r.setView(new Yi(i))}),this.controls.addEventListener(vn.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(vn.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(vn.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(vn.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(vn.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(vn.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){eA(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,o=r.layerFilter!==void 0?r.layerFilter:Ma,l=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,l,n,null,o,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof mc?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:Ma,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,o,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],o=r.height/i[1],l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-r.left)/s,(l.clientY-r.top)/o]}getTarget(){return this.get(Qn.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Bu(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Ln(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Qn.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof $r){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Pn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Ln(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Qn.SIZE)}getView(){return this.get(Qn.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return FG(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new mo(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===Z0.POINTERDOWN||r===tt.WHEEL||r===tt.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===i?i.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const o=e.viewHints;if(o[er.ANIMATING]||o[er.INTERACTING]){const l=Date.now()-e.time>8;i=l?0:8,s=l?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(bo.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(bo.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Ml(Ps.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Ml(Ps.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)Wt(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(tt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(tt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Zf(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new AG(this)),this.mapBrowserEventHandler_=new MG(this,this.moveTolerance_);for(const s in Lt)this.mapBrowserEventHandler_.addEventListener(Lt[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(tt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(tt.WHEEL,this.boundHandleBrowserEvent_,LP?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[vt(r,tt.KEYDOWN,this.handleBrowserEvent,this),vt(r,tt.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Wt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Wt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=vt(e,Wl.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=vt(e,tt.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Wt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new yo("addlayer",e)),this.layerGroupPropertyListenerKeys_=[vt(e,Wl.PROPERTYCHANGE,this.render,this),vt(e,tt.CHANGE,this.render,this),vt(e,"addlayer",this.handleLayerAdd_,this),vt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Qk(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&_b(n)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:L0(l.center,l.resolution,l.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:nt(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const u=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=L0(l.nextCenter,l.nextResolution,u,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!bv(this.previousExtent_)&&!zu(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Ml(Ps.MOVESTART,this,i)),this.previousExtent_=wd(this.previousExtent_)),this.previousExtent_&&!s.viewHints[er.ANIMATING]&&!s.viewHints[er.INTERACTING]&&!zu(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Ml(Ps.MOVEEND,this,s)),OP(s.extent,this.previousExtent_))),this.dispatchEvent(new Ml(Ps.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ps.LOADSTART)||this.hasListener(Ps.LOADEND)||this.hasListener(bo.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new yo("removelayer",n)),this.set(Qn.LAYERGROUP,e)}setSize(e){this.set(Qn.SIZE,e)}setTarget(e){this.set(Qn.TARGET,e)}setView(e){if(!e||e instanceof Yi){this.set(Qn.VIEW,e);return}this.set(Qn.VIEW,new Yi);const n=this;e.then(function(r){n.setView(new Yi(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[s,o],!_b(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&ZP("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!Bs(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}};function n6(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new mc({layers:t.layers});n[Qn.LAYERGROUP]=r,n[Qn.TARGET]=t.target,n[Qn.VIEW]=t.view instanceof Yi?t.view:new Yi;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new $r(t.controls.slice()):(ct(typeof t.controls.getArray=="function",47),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new $r(t.interactions.slice()):(ct(typeof t.interactions.getArray=="function",48),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new $r(t.overlays.slice()):(ct(typeof t.overlays.getArray=="function",49),o=t.overlays):o=new $r,{controls:i,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}class r6 extends Ym{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(of.PRELOAD)}setPreload(e){this.set(of.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(of.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(of.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class Ub extends r6{constructor(e){super(e)}createRenderer(){return new mG(this)}}class i6 extends Zv{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:s6,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Lk,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!ha(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!ha(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||ha(n,e)))return this.tileGrid;const r=nt(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=zk(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||ha(n,e))return this.tileCache;const r=nt(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new Ok(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,o){const l=[e,n,r],u=this.getTileCoordForTileUrlFunction(l,s),d=u?this.tileUrlFunction(u,i,s):void 0,h=new this.tileClass(l,d!==void 0?Ke.IDLE:Ke.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(tt.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,n,r,i,s){const o=this.getProjection();if(!o||!s||ha(o,s))return this.getTileInternal(e,n,r,i,o||s);const l=this.getTileCacheForProjection(s),u=[e,n,r];let d;const h=Dk(u);l.containsKey(h)&&(d=l.get(h));const f=this.getKey();if(d&&d.key==f)return d;const p=this.getTileGridForProjection(o),y=this.getTileGridForProjection(s),v=this.getTileCoordForTileUrlFunction(u,s),w=new Y0(o,p,s,y,u,v,this.getTilePixelRatio(i),this.getGutter(),(S,b,R,T)=>this.getTileInternal(S,b,R,T,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return w.key=f,d?(w.interimTile=d,w.refreshInterimChain(),l.replace(h,w)):l.set(h,w),w}getTileInternal(e,n,r,i,s){let o=null;const l=ng(e,n,r),u=this.getKey();if(!this.tileCache.containsKey(l))o=this.createTile_(e,n,r,i,s,u),this.tileCache.set(l,o);else if(o=this.tileCache.get(l),o.key!=u){const d=o;o=this.createTile_(e,n,r,i,s,u),d.getState()==Ke.IDLE?o.interimTile=d.interimTile:o.interimTile=d,o.refreshInterimChain(),this.tileCache.replace(l,o)}return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=wn(e);if(r){const i=nt(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function s6(t,e){t.getImage().src=e}const Zn={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};let nm=class extends Oi{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+fB,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Zn.ELEMENT,this.handleElementChanged),this.addChangeListener(Zn.MAP,this.handleMapChanged),this.addChangeListener(Zn.OFFSET,this.handleOffsetChanged),this.addChangeListener(Zn.POSITION,this.handlePositionChanged),this.addChangeListener(Zn.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Zn.ELEMENT)}getId(){return this.id}getMap(){return this.get(Zn.MAP)||null}getOffset(){return this.get(Zn.OFFSET)}getPosition(){return this.get(Zn.POSITION)}getPositioning(){return this.get(Zn.POSITIONING)}handleElementChanged(){Sk(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Zf(this.element),Wt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=vt(e,Ps.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Zn.ELEMENT,e)}setMap(e){this.set(Zn.MAP,e)}setOffset(e){this.set(Zn.OFFSET,e)}setPosition(e){this.set(Zn.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Zn.POSITION))return;const r=this.getRect(n.getTargetElement(),n.getSize()),i=this.getElement(),s=this.getRect(i,[uB(i),dB(i)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!ma(r,s)){const l=s[0]-r[0],u=r[2]-s[2],d=s[1]-r[1],h=r[3]-s[3],f=[0,0];if(l<0?f[0]=l-o:u<0&&(f[0]=Math.abs(u)+o),d<0?f[1]=d-o:h<0&&(f[1]=Math.abs(h)+o),f[0]!==0||f[1]!==0){const p=n.getView().getCenterInternal(),y=n.getPixelFromCoordinateInternal(p);if(!y)return;const v=[y[0]+f[0],y[1]+f[1]],w=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(v),duration:w.duration,easing:w.easing})}}}getRect(e,n){const r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[i,s,i+n[0],s+n[1]]}setPositioning(e){this.set(Zn.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const r=e.getPixelFromCoordinate(n),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,n){const r=this.element.style,i=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const o=Math.round(e[0]+i[0])+"px",l=Math.round(e[1]+i[1])+"px";let u="0%",d="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?u="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(u="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?d="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(d="-50%");const h=`translate(${u}, ${d}) translate(${o}, ${l})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,r.transform=h)}getOptions(){return this.options}};const o6=pv("inline-flex items-center rounded-xl border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function e_({className:t,variant:e,...n}){return g.jsx("div",{className:Oe(o6({variant:e}),t),...n})}function Oy({metadata:t,onClose:e}){var S;if(!t)return null;const{nombre:n,raza:r,sexo:i,peso:s,tipo:o,estado_reproductivo:l,especie:u,campo:d,parcela:h,numero_identificacion:f,ubicacion_sensor:p,fecha_nacimiento:y,temperatura_corporal_actual:v,collar_asignado:w}=t;return g.jsxs("div",{className:"space-y-1 p-4 rounded-xl bg-white max-h-[355px] overflow-y-auto",role:"dialog","aria-label":`Informacin de ${n??"animal"}`,tabIndex:0,onClick:b=>b.stopPropagation(),children:[g.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx($s,{size:20})}),g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-blue-700 break-words",children:[g.jsx(Ro,{size:20})," ",n||"Animal"," (",f,")"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsx(Xi,{icon:dv,label:"Campo",value:d,color:"text-blue-800"}),g.jsx(Xi,{icon:zT,label:"Parcela",value:h,color:"text-blue-400"}),g.jsx(Xi,{icon:DT,label:"Especie",value:u,color:"text-pink-600"}),g.jsx(Xi,{icon:C4,label:"Tipo",value:o,color:"text-yellow-600"}),g.jsx(Xi,{icon:g4,label:"Raza",value:r,color:"text-orange-600"}),g.jsx(Xi,{icon:RV,label:"Peso",value:`${s} kg`,color:"text-emerald-600"}),g.jsx(Xi,{icon:tV,label:"Nacimiento",value:y,color:"text-blue-800"}),g.jsx(Xi,{icon:B4,label:"Sensor",value:p,color:"text-rose-600"}),g.jsx(Xi,{icon:D4,label:"Sexo",value:i,color:"text-indigo-600"}),g.jsx(Xi,{icon:M4,label:"Temperatura",value:v??"N/A",color:"text-red-600"})]}),g.jsx("div",{className:"grid grid-cols-1 gap-y-2 gap-x-4 mb-3",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(IV,{size:16,className:Oe("mt-0.5","text-violet-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Estado Reproductivo: "}),l]})}),w&&g.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[g.jsx("h4",{className:"text-gray-700 text-center font-semibold mb-2",children:" Collar asignado"}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(WT,{size:16,className:Oe("mt-0.5","text-purple-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Cdigo: "}),w.codigo]}),g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(uv,{size:16,className:Oe("mt-0.5","text-green-600")}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("p",{className:"font-medium leading-tight",children:"Batera y estado: "}),a6(w.estado,w.bateria)]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(BO,{size:16,className:Oe("mt-0.5","text-red-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"ltima actividad: "}),(S=w.ultima_actividad)==null?void 0:S.split(".")[0]]})]})]})}function Xi({icon:t,label:e,value:n,color:r="text-gray-700"}){return g.jsxs("div",{className:"flex items-start gap-2 break-words",children:[g.jsx(t,{size:16,className:Oe("mt-0.5",r)}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:"font-medium leading-tight",children:[e,":"]}),g.jsx("span",{className:"text-gray-800 leading-tight break-words whitespace-pre-wrap",children:n})]})]})}function a6(t,e){const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(wi,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(av,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(Ou,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(uv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(Ou,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batera";break;case"defectuoso":i=g.jsx(Dn,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 mt-0.5 py-1 rounded-xl text-xs font-medium whitespace-nowrap",o),children:[i,s]})}const Kt=_.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Oe("flex h-9 w-full rounded-xl border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Kt.displayName="Input";function l6({features:t=[],onClose:e=()=>{},onSelectAnimal:n=()=>{}}){const[r,i]=_.useState(""),s=_.useMemo(()=>t.map(o=>o.get("metadata")).filter(Boolean).filter(o=>{var u,d,h,f,p;const l=r.toLowerCase();return((u=o.nombre)==null?void 0:u.toLowerCase().includes(l))||((d=o.numero_identificacion)==null?void 0:d.toLowerCase().includes(l))||((h=o.especie)==null?void 0:h.toLowerCase().includes(l))||((f=o.raza)==null?void 0:f.toLowerCase().includes(l))||((p=o.estado_reproductivo)==null?void 0:p.toLowerCase().includes(l))}),[t,r]);return _.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),g.jsxs("div",{className:"absolute top-0 bg-white rounded-xl shadow-xl border border-gray-200 px-3 w-[280px] max-h-[360px] overflow-auto z-50",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx("button",{onClick:e,className:"absolute z-30 top-2 -right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx($s,{size:18})}),g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Animales en esta zona"})}),g.jsx(Kt,{value:r,onChange:o=>i(o.target.value),placeholder:"Buscar por nombre, ID, especie...",className:"mb-2 text-sm mt-4 px-4"})]}),s.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1",children:s.map(o=>g.jsx("li",{children:g.jsxs(at,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>{const l=t.find(u=>{var d;return((d=u.get("metadata"))==null?void 0:d.animal_id)===o.animal_id});l&&n(l)},children:[g.jsx(Ro,{size:16,className:"text-blue-800"})," ",o.nombre," (",o.numero_identificacion,") - ",o.especie]})},o.animal_id))})]})}function Wb(t={}){const{baseColor:e="#f97316",iconUrl:n=null}=t,r={};return i=>{const s=i.get("features");if((s==null?void 0:s.length)>1){const d=s.length;return r[d]||(r[d]=new on({image:new Or({radius:10+Math.min(d,30)*.4,fill:new Tn({color:e}),stroke:new pn({color:"#ffffff",width:2})}),text:new tg({text:d.toString(),font:"bold 12px sans-serif",fill:new Tn({color:"#ffffff"}),stroke:new pn({color:"#000000",width:2})})})),r[d]}const u=(i.get("metadata")||{}).is_outside===!0?"#e60000":e;return n?new on({image:new eg({src:n,scale:.5,anchor:[.5,1]})}):new on({image:new Or({radius:6,fill:new Tn({color:u}),stroke:new pn({color:"#ffffff",width:1.5})})})}}class tA extends i6{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:$k({extent:Yv(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}class c6 extends js{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(n){const r=n.getGeometry();return ct(r.getType()=="Point",10),r},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,n,r){this.source.loadFeatures(e,n,r),n!==this.resolution&&(this.resolution=n,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(tt.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(tt.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,n){const r=e===0?0:Math.min(n,e)/e,i=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=n,this.interpolationRatio=r,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Gr(),n=this.distance*this.resolution,r=this.source.getFeatures(),i={};for(let s=0,o=r.length;s<o;s++){const l=r[s];if(!(nt(l)in i)){const u=this.geometryFunction(l);if(u){const d=u.getCoordinates();Cu(d,e),_d(e,n,e);const h=this.source.getFeaturesInExtent(e).filter(function(f){const p=nt(f);return p in i?!1:(i[p]=!0,!0)});this.features.push(this.createCluster(h,e))}}}}createCluster(e,n){const r=[0,0];for(let l=e.length-1;l>=0;--l){const u=this.geometryFunction(e[l]);u?WP(r,u.getCoordinates()):e.splice(l,1)}XP(r,1/e.length);const i=ko(n),s=this.interpolationRatio,o=new Tr([r[0]*(1-s)+i[0]*s,r[1]*(1-s)+i[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new rr({geometry:o,features:e})}}const u6='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class d6 extends tA{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[u6];const r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}}function h6(t=[]){const e=[],n=new Map;return t.forEach(r=>{if((r==null?void 0:r.lon)==null||(r==null?void 0:r.lat)==null)return;const i=new rr({geometry:new Tr(Wm([r.lon,r.lat])),metadata:r});r.__feature=i,i.setId(`a-${r.animal_id}`),n.set(r.animal_id,i),e.push(i)}),{features:e,featureMap:n}}function Hb({map:t,settings:e,inside:n=[]}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef(new Map);return _.useEffect(()=>{if(!t)return;const o=new js,l=new c6({distance:e.distance||50,source:o});return r.current=o,i.current=l,()=>{o.clear(),l.setSource(null)}},[t,e.distance]),_.useEffect(()=>{const o=r.current;if(!o)return;const{features:l,featureMap:u}=h6(n);s.current=u,o.clear(),o.addFeatures(l)},[n]),{vectorSource:r.current,clusterSource:i.current,featuresMapRef:s}}function f6({map:t,inside:e=[],outside:n=[],insideRef:r,outsideRef:i,settings:s={distance:50,baseColor:"orange"},setExplodedFeatures:o}){const l=_.useRef(),u=_.useRef(),d="popup-cluster-container",h=Hb({map:t,settings:s,inside:e}),f=Hb({map:t,settings:s,inside:n});return r&&(r.current=h.featuresMapRef),i&&(i.current=f.featuresMapRef),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=new cs({source:h.clusterSource,style:Wb({...s,baseColor:"#f97316",iconUrl:s.iconUrl}),zIndex:10}),y=new cs({source:f.clusterSource,style:Wb({...s,baseColor:"#e60000"}),zIndex:9});return t.addLayer(p),t.addLayer(y),()=>{t.removeLayer(p),t.removeLayer(y)}},[t,h.clusterSource,f.clusterSource]),_.useEffect(()=>{if(!t)return;let p=document.getElementById(d);p||(p=document.createElement("div"),p.id=d,p.className="relative z-5",document.body.appendChild(p));const y=new nm({element:p,positioning:"top-center",offset:[0,12],autoPan:{animation:{duration:200}}});return t.addOverlay(y),l.current=y,u.current||(u.current=yT.createRoot(p)),()=>{var v;t.removeOverlay(y),(v=u.current)==null||v.unmount(),u.current=null,p==null||p.remove()}},[t]),_.useEffect(()=>{if(!t||!l.current||!u.current)return;const p=y=>{const v=t.forEachFeatureAtPixel(y.pixel,b=>b);if(!v)return;const w=v.get("features"),S=t.getView().getZoom();if((w==null?void 0:w.length)>1){const b=v.getGeometry().getCoordinates();t.getView().animate({center:b,duration:500}),l.current.setPosition(b),u.current.render(g.jsx(l6,{features:w,onClose:()=>{l.current.setPosition(void 0),u.current.render(null),t.getView().animate({center:b,duration:500})},onSelectAnimal:R=>{const T=R.getGeometry().getCoordinates();l.current.setPosition(T),u.current.render(g.jsx(Oy,{metadata:R.get("metadata"),onClose:()=>{l.current.setPosition(void 0),u.current.render(null),t.getView().animate({center:[T[0],T[1]-60],duration:500})}})),o&&o(w),t.getView().animate({center:[T[0],T[1]-60],zoom:S<17?18:S,duration:500})}}))}else if((w==null?void 0:w.length)===1){const b=w[0],R=b.getGeometry().getCoordinates(),T=b.get("metadata");t.getView().animate({center:[R[0],R[1]-60],zoom:S<17?18:S,duration:500}),l.current.setPosition(R),u.current.render(g.jsx(Oy,{metadata:T,onClose:()=>{l.current.setPosition(void 0),u.current.render(null),t.getView().animate({center:R,zoom:S>17?16:S,duration:500})}}))}};return t.on("singleclick",p),()=>t.un("singleclick",p)},[t,o]),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=()=>{const v=t.getView().getZoom()>=15.5?0:s.distance||50;h.clusterSource.setDistance(v),f.clusterSource.setDistance(v)};return p(),t.getView().on("change:resolution",p),()=>t.getView().un("change:resolution",p)},[t,h.clusterSource,f.clusterSource,s.distance]),_.useEffect(()=>{if(!t||!l.current||!u.current)return;const p=y=>{if(!y)return;const v=y.getGeometry().getCoordinates(),w=y.get("metadata"),S=t.getView().getZoom();t.getView().animate({center:[v[0],v[1]-60],zoom:S<17?18:S,duration:500}),l.current.setPosition(v),u.current.render(g.jsx(Oy,{metadata:w,onClose:()=>{l.current.setPosition(void 0),u.current.render(null),t.getView().animate({center:v,zoom:S>17?16:S,duration:500})}}))};return window.ClusterPopup={open:p,close:()=>{l.current&&u.current&&(l.current.setPosition(void 0),u.current.render(null))}},()=>{var y;((y=window.ClusterPopup)==null?void 0:y.open)===p&&delete window.ClusterPopup}},[t]),null}async function m6(){const t=await At("/api/animals/");if(!t.ok)throw new Error("Error al cargar animales");return await t.json()}async function g6(t){const e=await At(`/api/animals/${t}/entities`);if(!e.ok)throw new Error("Error al cargar clusters de animales");return await e.json()}async function p6(){const t=await At("/api/animals/acronimos");if(!t.ok)throw new Error("Error al cargar los acrnimos");return await t.json()}async function y6(){const t=await At("/api/animals/options");if(!t.ok)throw new Error("Error al cargar las opciones");return await t.json()}async function x6(t){const e=await At(`/api/animals/${t}/complete_sheet`);if(!e.ok)throw new Error("Error al cargar ficha completa");return await e.json()}async function v6(t){const e=await At("/api/animals/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear animal")}return await e.json()}async function _6(t,e){const n=await At(`/api/animals/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar animal")}return await n.json()}async function w6(t){const e=await At(`/api/animals/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar animal");return await e.json()}async function nA(){const t=await At("/api/animals/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de animales.")}return t.blob()}async function S6(t,e={}){const n=new URLSearchParams({type:t});e.globalFilter&&n.append("globalFilter",e.globalFilter),e.ids&&e.ids.length>0&&n.append("ids",e.ids.join(","));const r=await At(`/api/animals/export?${n.toString()}`);if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al exportar animales.")}return r.blob()}async function C6(t){const e=new FormData;e.append("file",t);const n=await At("/api/animals/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar animales.")}return await n.json()}function b6(t=1e4,e){const[n,r]=_.useState([]),[i,s]=_.useState([]);return _.useEffect(()=>{if(!e)return;const o=async()=>{try{const u=await g6(e);r(u.inside||[]),s(u.outside||[])}catch(u){console.error("Error al obtener animales:",u)}};o();const l=setInterval(o,t);return()=>clearInterval(l)},[e,t]),{inside:n,outside:i}}const Xb=0,Pu=1,Kb=[0,0,0,0],Bl=[],Vy={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class zy extends Di{constructor(e,n,r){super(e),this.features=n,this.mapBrowserEvent=r}}class E6 extends pc{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:Zk,this.defaultDeleteCondition_=function(r){return $G(r)&&Hk(r)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:Uk,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new W0,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new cs({source:new js({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:T6(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let n;if(e.features?n=e.features:e.source&&(this.source_=e.source,n=new $r(this.source_.getFeatures()),this.source_.addEventListener(jr.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(jr.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!n)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(vn.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(vn.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const n=e.getGeometry();if(n){const i=this.SEGMENT_WRITERS_[n.getType()];i&&i(e,n)}const r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),e.addEventListener(tt.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,n){if(!this.featuresBeingModified_){this.featuresBeingModified_=new $r;const r=this.featuresBeingModified_.getArray();for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0,u=o.length;l<u;++l){const d=o[l].feature;d&&!r.includes(d)&&this.featuresBeingModified_.push(d)}}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new zy(Vy.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(tt.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const n=this.rBush_,r=[];n.forEach(function(i){e===i.feature&&r.push(i)});for(let i=r.length-1;i>=0;--i){const s=r[i];for(let o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===s&&this.dragSegments_.splice(o,1);n.remove(s)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const n=e.target;this.removeFeature_(n),this.addFeature_(n)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,n){const r=n.getCoordinates(),i={feature:e,geometry:n,segment:[r,r]};this.rBush_.insert(n.getExtent(),i)}writeMultiPointGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i],l={feature:e,geometry:n,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(n.getExtent(),l)}}writeLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length-1;i<s;++i){const o=r.slice(i,i+2),l={feature:e,geometry:n,index:i,segment:o};this.rBush_.insert(pi(o),l)}}writeMultiLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,u=o.length-1;l<u;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(pi(d),h)}}}writePolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,u=o.length-1;l<u;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(pi(d),h)}}}writeMultiPolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,u=o.length;l<u;++l){const d=o[l];for(let h=0,f=d.length-1;h<f;++h){const p=d.slice(h,h+2),y={feature:e,geometry:n,depth:[l,i],index:h,segment:p};this.rBush_.insert(pi(p),y)}}}}writeCircleGeometry_(e,n){const r=n.getCenter(),i={feature:e,geometry:n,index:Xb,segment:[r,r]},s={feature:e,geometry:n,index:Pu,segment:[r,r]},o=[i,s];i.featureSegments=o,s.featureSegments=o,this.rBush_.insert(Cu(r),i);let l=n;this.rBush_.insert(l.getExtent(),s)}writeGeometryCollectionGeometry_(e,n){const r=n.getGeometriesArray();for(let i=0;i<r.length;++i){const s=r[i],o=this.SEGMENT_WRITERS_[s.getType()];o(e,s)}}createOrUpdateVertexFeature_(e,n,r){let i=this.vertexFeature_;return i?i.getGeometry().setCoordinates(e):(i=new rr(new Tr(e)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i)),i.set("features",n),i.set("geometries",r),i}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let n;return!e.map.getView().getInteracting()&&e.type==Lt.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=Lt.SINGLECLICK||!this.ignoreNextSingleClick_?n=this.removePoint():n=!0),e.type==Lt.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!n}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const n=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],r=[],i=[];for(let s=0,o=this.dragSegments_.length;s<o;++s){const l=this.dragSegments_[s],u=l[0],d=u.feature;r.includes(d)||r.push(d);const h=u.geometry;i.includes(h)||i.push(h);const f=u.depth;let p;const y=u.segment,v=l[1];for(;n.length<h.getStride();)n.push(y[v][n.length]);switch(h.getType()){case"Point":p=n,y[0]=n,y[1]=n;break;case"MultiPoint":p=h.getCoordinates(),p[u.index]=n,y[0]=n,y[1]=n;break;case"LineString":p=h.getCoordinates(),p[u.index+v]=n,y[v]=n;break;case"MultiLineString":p=h.getCoordinates(),p[f[0]][u.index+v]=n,y[v]=n;break;case"Polygon":p=h.getCoordinates(),p[f[0]][u.index+v]=n,y[v]=n;break;case"MultiPolygon":p=h.getCoordinates(),p[f[1]][f[0]][u.index+v]=n,y[v]=n;break;case"Circle":if(y[0]=n,y[1]=n,u.index===Xb)this.changingFeature_=!0,h.setCenter(n),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let w=rb(Pn(h.getCenter()),Pn(n));h.setRadius(w),this.changingFeature_=!1}break}p&&this.setGeometryCoordinates_(h,p)}this.createOrUpdateVertexFeature_(n,r,i)}handleDownEvent(e){if(!this.condition_(e))return!1;const n=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,n),this.dragSegments_.length=0,this.featuresBeingModified_=null;const r=this.vertexFeature_;if(r){e.map.getView().getProjection();const i=[],s=r.getGeometry().getCoordinates(),o=pi([s]),l=this.rBush_.getInExtent(o),u={};l.sort(R6);for(let d=0,h=l.length;d<h;++d){const f=l[d],p=f.segment;let y=nt(f.geometry);const v=f.depth;if(v&&(y+="-"+v.join("-")),u[y]||(u[y]=new Array(2)),f.geometry.getType()==="Circle"&&f.index===Pu){const w=Zb(n,f);_i(w,s)&&!u[y][0]&&(this.dragSegments_.push([f,0]),u[y][0]=f);continue}if(_i(p[0],s)&&!u[y][0]){this.dragSegments_.push([f,0]),u[y][0]=f;continue}if(_i(p[1],s)&&!u[y][1]){if(u[y][0]&&u[y][0].index===0){let w=f.geometry.getCoordinates();switch(f.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":w=w[v[1]];case"Polygon":if(f.index!==w[v[0]].length-2)continue;break}}this.dragSegments_.push([f,1]),u[y][1]=f;continue}nt(p)in this.vertexSegments_&&!u[y][0]&&!u[y][1]&&this.insertVertexCondition_(e)&&i.push(f)}i.length&&this.willModifyFeatures_(e,[i]);for(let d=i.length-1;d>=0;--d)this.insertVertex_(i[d],s)}return!!this.vertexFeature_}handleUpEvent(e){for(let n=this.dragSegments_.length-1;n>=0;--n){const r=this.dragSegments_[n][0],i=r.geometry;if(i.getType()==="Circle"){const s=i.getCenter(),o=r.featureSegments[0],l=r.featureSegments[1];o.segment[0]=s,o.segment[1]=s,l.segment[0]=s,l.segment[1]=s,this.rBush_.update(Cu(s),o);let u=i;this.rBush_.update(u.getExtent(),l)}else this.rBush_.update(pi(r.segment),r)}return this.featuresBeingModified_&&(this.dispatchEvent(new zy(Vy.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,n,r){const i=r||n.getCoordinateFromPixel(e);n.getView().getProjection();const s=function(u,d){return Yb(i,u)-Yb(i,d)};let o,l;if(this.hitDetection_){const u=typeof this.hitDetection_=="object"?d=>d===this.hitDetection_:void 0;n.forEachFeatureAtPixel(e,(d,h,f)=>{const p=f||d.getGeometry();if(p.getType()==="Point"&&d instanceof rr&&this.features_.getArray().includes(d)){l=p;const y=l.getFlatCoordinates().slice(0,2);o=[{feature:d,geometry:l,segment:[y,y]}]}return!0},{layerFilter:u})}if(!o){const u=_o(Cu(i,Kb)),d=n.getView().getResolution()*this.pixelTolerance_,h=Iv(_d(u,d,Kb));o=this.rBush_.getInExtent(h)}if(o&&o.length>0){const u=o.sort(s)[0],d=u.segment;let h=Zb(i,u);const f=n.getPixelFromCoordinate(h);let p=rb(e,f);if(l||p<=this.pixelTolerance_){const y={};if(y[nt(d)]=!0,this.snapToPointer_||(this.delta_[0]=h[0]-i[0],this.delta_[1]=h[1]-i[1]),u.geometry.getType()==="Circle"&&u.index===Pu)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h,[u.feature],[u.geometry]);else{const v=n.getPixelFromCoordinate(d[0]),w=n.getPixelFromCoordinate(d[1]),S=$u(f,v),b=$u(f,w);p=Math.sqrt(Math.min(S,b)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(h=S>b?d[1]:d[0]),this.createOrUpdateVertexFeature_(h,[u.feature],[u.geometry]);const R={};R[nt(u.geometry)]=!0;for(let T=1,P=o.length;T<P;++T){const k=o[T].segment;if(_i(d[0],k[0])&&_i(d[1],k[1])||_i(d[0],k[1])&&_i(d[1],k[0])){const M=nt(o[T].geometry);M in R||(R[M]=!0,y[nt(k)]=!0)}else break}}this.vertexSegments_=y;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,n){const r=e.segment,i=e.feature,s=e.geometry,o=e.depth,l=e.index;let u;for(;n.length<s.getStride();)n.push(0);switch(s.getType()){case"MultiLineString":u=s.getCoordinates(),u[o[0]].splice(l+1,0,n);break;case"Polygon":u=s.getCoordinates(),u[o[0]].splice(l+1,0,n);break;case"MultiPolygon":u=s.getCoordinates(),u[o[1]][o[0]].splice(l+1,0,n);break;case"LineString":u=s.getCoordinates(),u.splice(l+1,0,n);break;default:return}this.setGeometryCoordinates_(s,u);const d=this.rBush_;d.remove(e),this.updateSegmentIndices_(s,l,o,1);const h={segment:[r[0],n],feature:i,geometry:s,depth:o,index:l};d.insert(pi(h.segment),h),this.dragSegments_.push([h,1]);const f={segment:[n,r[1]],feature:i,geometry:s,depth:o,index:l+1};d.insert(pi(f.segment),f),this.dragSegments_.push([f,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Lt.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const n=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new zy(Vy.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,n}return!1}removeVertex_(){const e=this.dragSegments_,n={};let r=!1,i,s,o,l,u,d,h,f,p,y,v;for(u=e.length-1;u>=0;--u)o=e[u],y=o[0],v=nt(y.feature),y.depth&&(v+="-"+y.depth.join("-")),v in n||(n[v]={}),o[1]===0?(n[v].right=y,n[v].index=y.index):o[1]==1&&(n[v].left=y,n[v].index=y.index+1);for(v in n){switch(p=n[v].right,h=n[v].left,d=n[v].index,f=d-1,h!==void 0?y=h:y=p,f<0&&(f=0),l=y.geometry,s=l.getCoordinates(),i=s,r=!1,l.getType()){case"MultiLineString":s[y.depth[0]].length>2&&(s[y.depth[0]].splice(d,1),r=!0);break;case"LineString":s.length>2&&(s.splice(d,1),r=!0);break;case"MultiPolygon":i=i[y.depth[1]];case"Polygon":i=i[y.depth[0]],i.length>4&&(d==i.length-1&&(d=0),i.splice(d,1),r=!0,d===0&&(i.pop(),i.push(i[0]),f=i.length-1));break}if(r){this.setGeometryCoordinates_(l,s);const w=[];if(h!==void 0&&(this.rBush_.remove(h),w.push(h.segment[0])),p!==void 0&&(this.rBush_.remove(p),w.push(p.segment[1])),h!==void 0&&p!==void 0){const S={depth:y.depth,feature:y.feature,geometry:y.geometry,index:f,segment:w};this.rBush_.insert(pi(S.segment),S)}this.updateSegmentIndices_(l,d,y.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return r}setGeometryCoordinates_(e,n){this.changingFeature_=!0,e.setCoordinates(n),this.changingFeature_=!1}updateSegmentIndices_(e,n,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(s){s.geometry===e&&(r===void 0||s.depth===void 0||Bs(s.depth,r))&&s.index>n&&(s.index+=i)})}}function R6(t,e){return t.index-e.index}function Yb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"){let s=r;if(e.index===Pu){const o=$u(s.getCenter(),Pn(t)),l=Math.sqrt(o)-s.getRadius();return l*l}}const i=Pn(t);return Bl[0]=Pn(e.segment[0]),Bl[1]=Pn(e.segment[1]),Xz(i,Bl)}function Zb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"&&e.index===Pu)return Bu(r.getClosestPoint(Pn(t)));const i=Pn(t);return Bl[0]=Pn(e.segment[0]),Bl[1]=Pn(e.segment[1]),Bu(HP(i,Bl))}function T6(){const t=Tk();return function(e,n){return t.Point}}const P6={SELECT:"select"};class k6 extends Di{constructor(e,n,r,i){super(e),this.selected=n,this.deselected=r,this.mapBrowserEvent=i}}const lf={};let A6=class rA extends gc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:Hk,this.addCondition_=e.addCondition?e.addCondition:Gb,this.removeCondition_=e.removeCondition?e.removeCondition:Gb,this.toggleCondition_=e.toggleCondition?e.toggleCondition:Kk,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:Ma,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:M6(),this.features_=e.features||new $r;let n;if(e.layers)if(typeof e.layers=="function")n=e.layers;else{const r=e.layers;n=function(i){return r.includes(i)}}else n=Ma;this.layerFilter_=n,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,n){this.featureLayerAssociation_[nt(e)]=n}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[nt(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(vn.ADD,this.boundAddFeature_),this.features_.addEventListener(vn.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(vn.ADD,this.boundAddFeature_),this.features_.removeEventListener(vn.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const n=e.element;if(this.style_&&this.applySelectedStyle_(n),!this.getLayer(n)){const r=this.getMap().getAllLayers().find(function(i){if(i instanceof cs&&i.getSource()&&i.getSource().hasFeature(n))return i});r&&this.addFeatureLayerAssociation_(n,r)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const n=nt(e);n in lf||(lf[n]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const n=this.getMap().getInteractions().getArray();for(let i=n.length-1;i>=0;--i){const s=n[i];if(s!==this&&s instanceof rA&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const r=nt(e);e.setStyle(lf[r]),delete lf[r]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[nt(e)]}handleEvent(e){if(!this.condition_(e))return!0;const n=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),s=!n&&!r&&!i,o=e.map,l=this.getFeatures(),u=[],d=[];if(s){fc(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof rr)||!this.filter_(h,f)))return this.addFeatureLayerAssociation_(h,f),d.push(h),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=l.getLength()-1;h>=0;--h){const f=l.item(h),p=d.indexOf(f);p>-1?d.splice(p,1):(l.remove(f),u.push(f))}d.length!==0&&l.extend(d)}else{o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof rr)||!this.filter_(h,f)))return(n||i)&&!l.getArray().includes(h)?(this.addFeatureLayerAssociation_(h,f),d.push(h)):(r||i)&&l.getArray().includes(h)&&(u.push(h),this.removeFeatureLayerAssociation_(h)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=u.length-1;h>=0;--h)l.remove(u[h]);l.extend(d)}return(d.length>0||u.length>0)&&this.dispatchEvent(new k6(P6.SELECT,d,u,e)),!0}};function M6(){const t=Tk();return Ti(t.Polygon,t.LineString),Ti(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}async function Na(){const t=await At("/api/map/");if(!t.ok)throw new Error("Error al cargar datos");return await t.json()}let $y=null,By=null;function I6(t,[e,n]){$y=new Ub({source:new d6,visible:!1,title:"OSM Base",preload:1/0}),By=new Ub({source:new tA({url:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}",attributions:"UB  Satlite",tileGrid:$k({extent:wn("EPSG:3857").getExtent(),tileSize:256}),maxZoom:21}),visible:!0,title:"MapTiler Satellite",preload:1/0});const r=new t6({target:t,layers:[By,$y],view:new Yi({center:Wm([n,e]),zoom:14,maxZoom:21,minZoom:4,rotation:0,constrainRotation:!1}),controls:[],interactions:Jk().extend([new qk({condition:i=>kf(i)&&i.originalEvent.button===1})])});return window._ol_map_instance=r,window.osm=$y,window.esriSat=By,r}function Ao([t,e]){return Wm([t,e])}function N6({inside:t=[],outside:e=[],featuresMapRef:n}){const[r,i]=_.useState(!1),[s,o]=_.useState(""),l=_.useMemo(()=>[...t,...e].filter(Boolean).map(d=>({label:`${d.nombre||"Animal"} (${d.numero_identificacion||"sin ID"})`,value:String(d.animal_id),full:d})).filter(d=>{var p,y,v,w,S;const h=s.toLowerCase(),f=d.full;return((p=f.nombre)==null?void 0:p.toLowerCase().includes(h))||((y=f.numero_identificacion)==null?void 0:y.toLowerCase().includes(h))||((v=f.especie)==null?void 0:v.toLowerCase().includes(h))||((w=f.raza)==null?void 0:w.toLowerCase().includes(h))||((S=f.estado_reproductivo)==null?void 0:S.toLowerCase().includes(h))}),[t,e,s]),u=d=>{var f,p,y;const h=(p=(f=n==null?void 0:n.current)==null?void 0:f.get)==null?void 0:p.call(f,Number(d));h&&((y=window.ClusterPopup)!=null&&y.open)?window.ClusterPopup.open(h):console.warn("No se encontr el animal en featuresMapRef o no est definido ClusterPopup."),i(!1)};return _.useEffect(()=>{const d=h=>{h.key==="Escape"&&i(!1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),g.jsxs("div",{className:"absolute top-16 mt-2 right-4 z-40 flex items-center gap-2",children:[g.jsx("button",{onClick:()=>{var d;i(!r),(d=window.ClusterPopup)!=null&&d.close&&window.ClusterPopup.close()},className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(Ro,{className:"h-6 w-6 text-gray-800"})}),r&&g.jsxs("div",{style:{top:"60px"},className:"absolute right-0 bg-white rounded-xl shadow-xl border border-gray-200 px-3 w-[250px] max-h-[360px] overflow-auto z-50",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx("button",{onClick:()=>i(!1),className:"absolute z-30 top-2 -right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx($s,{size:18})}),g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Buscar animal"})}),g.jsx(Kt,{value:s,onChange:d=>o(d.target.value),placeholder:"Nombre, ID, especie...",className:"mb-2 text-sm mt-4 px-4"})]}),l.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1 pr-1",children:l.map(d=>g.jsx("li",{children:g.jsxs(at,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>u(d.value),children:[g.jsx(Ro,{size:16,className:"text-blue-800 mr-2"}),d.label," - ",d.full.especie]})},d.value))})]})]})}function F6(){const[t,e]=_.useState(!1),[n,r]=_.useState(""),[i,s]=_.useState({}),{mapRef:o,ready:l}=_.useContext(bd),{campoSeleccionado:u,setCampoSeleccionado:d,lastCampoId:h}=_.useContext(Ed),{campos:f,parcelas:p,formData:y,setFormData:v,setAreaCampo:w,setAreaParcela:S}=nv(),b=_.useRef(new Map),R=_.useRef(),T=_.useRef(),{setFeaturesOnMap:P,clearParcelas:k}=Hv({mapRef:o,parcelas:p,formData:y,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:v,setAreaCampo:w,setAreaParcela:S,enabled:!0,modoVisualizacionCampo:!0});Xv(()=>k()),_.useEffect(()=>{Na().then(I=>s(I.parcelas)).catch(I=>console.error("Error al cargar parcelas:",I))},[]);const{inside:M,outside:F}=b6(1e4,y.campo_id);return _.useEffect(()=>{!l||!y.campo_id||P()},[l,y.campo_id,y.parcela_id,p]),_.useEffect(()=>{!y.campo_id&&!u&&h&&f[h]&&(d(h),v(I=>({...I,campo_id:h,parcela_id:"",nombre:"",descripcion:""})),S(0))},[]),_.useEffect(()=>{u||!y.campo_id||!f[y.campo_id]||(d(y.campo_id),o.current.getView().animate({center:Ao([f[y.campo_id].lon,f[y.campo_id].lat]),duration:800,easing:Pr}))},[y.campo_id,u]),_.useEffect(()=>{var V,X;const I=new Map,z=(V=R.current)==null?void 0:V.current,W=(X=T.current)==null?void 0:X.current;if(z)for(const[G,te]of z.entries())I.set(G,te);if(W)for(const[G,te]of W.entries())I.set(G,te);b.current=I},[M,F]),g.jsxs(g.Fragment,{children:[g.jsx(xv,{isOpen:t,message:n,onClose:()=>e(!1)}),g.jsx(f6,{map:o.current,inside:M,outside:F,insideRef:R,outsideRef:T,settings:{distance:50,baseColor:"orange"}}),g.jsx(N6,{mapRef:o,inside:M,outside:F,featuresMapRef:b})]})}async function j6(){const t=await At("/api/parcelas/animales/resumen");if(!t.ok)throw new Error("Error al cargar resumen de parcelas");return await t.json()}async function L6(t){const e=await At("/api/parcelas/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al guardar")}return await e.json()}async function D6(t,e,n="",r="",i){const s=await At(`/api/parcelas/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geojson:e,nombre:n,descripcion:r,area:i})});if(!s.ok){const o=await s.json();throw new Error(o.message||"Error al actualizar")}return await s.json()}async function O6(t){const e=await At(`/api/parcelas/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar la parcela");return await e.json()}function V6({onFinish:t,onUndo:e,onStart:n,onCancel:r,canFinish:i,closedBySnap:s,firstVertexDraw:o,open:l,setOpen:u,finished:d}){const h=()=>{const f=!l;u(f),f&&(n==null||n())};return g.jsxs(g.Fragment,{children:[!l&&g.jsx("button",{onClick:h,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Dibujar polgono",children:g.jsx(T4,{className:"w-6 h-6 text-gray-800"})}),l&&g.jsxs("div",{className:"flex flex-row-reverse gap-1 items-center",children:[g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar",children:g.jsx($s,{className:"w-6 h-6"})}),!d&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:e,disabled:!o,className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${o?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Deshacer ltimo punto",children:g.jsx(F4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:t,disabled:!(i||s),className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${i||s?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Finalizar dibujo",children:g.jsx(gd,{className:"w-6 h-6"})})]})]})]})}function z6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo"}),g.jsx("select",{name:"campo_id",value:e.campo_id,onChange:r=>{n(r),window.dispatchEvent(new Event("cerrarPopupResumen"))},className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del rea"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:14,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripcin de la parcela"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]})]})}function $6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo existente"}),g.jsxs("select",{name:"campo_id",value:e.campo_id,onChange:n,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:[g.jsx("option",{value:"",children:"-- Crear nuevo campo --"}),Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del campo"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:16,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripcin del campo"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsx("input",{type:"hidden",name:"lat",value:e.lat}),g.jsx("input",{type:"hidden",name:"lon",value:e.lon})]})}function B6({mode:t="edit",isDeleteMode:e=!1,onToggleDeleteMode:n=()=>{},onCancel:r=()=>{},onSave:i=()=>{},showDelete:s=!0,showCancel:o=!0,showSave:l=!0}){return["edit","draw-edit"].includes(t)?g.jsxs(g.Fragment,{children:[s&&g.jsx("button",{onClick:n,className:`p-3 rounded-full shadow-md flex items-center justify-center ${e?"bg-red-600":"bg-white"}`,title:"Eliminar vrtices",children:g.jsx(Dn,{className:"w-6 h-6"})}),o&&g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar edicin",children:g.jsx($s,{className:"w-6 h-6"})}),l&&g.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Guardar cambios",children:g.jsx(UT,{className:"w-6 h-6"})})]}):null}const t_=_.createContext({});function n_(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const r_=typeof window<"u",iA=r_?_.useLayoutEffect:_.useEffect,rg=_.createContext(null);function i_(t,e){t.indexOf(e)===-1&&t.push(e)}function s_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ls=(t,e,n)=>n>e?e:n<t?t:n;let o_=()=>{};const Ds={},sA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oA(t){return typeof t=="object"&&t!==null}const aA=t=>/^0[^.\s]+$/u.test(t);function a_(t){let e;return()=>(e===void 0&&(e=t()),e)}const ii=t=>t,G6=(t,e)=>n=>e(t(n)),Rd=(...t)=>t.reduce(G6),Qu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class l_{constructor(){this.subscriptions=[]}add(e){return i_(this.subscriptions,e),()=>s_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rs=t=>t*1e3,is=t=>t/1e3;function lA(t,e){return e?t*(1e3/e):0}const cA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,U6=1e-7,W6=12;function H6(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=cA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>U6&&++l<W6);return o}function Td(t,e,n,r){if(t===e&&n===r)return ii;const i=s=>H6(s,0,1,t,n);return s=>s===0||s===1?s:cA(i(s),e,r)}const uA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dA=t=>e=>1-t(1-e),hA=Td(.33,1.53,.69,.99),c_=dA(hA),fA=uA(c_),mA=t=>(t*=2)<1?.5*c_(t):.5*(2-Math.pow(2,-10*(t-1))),u_=t=>1-Math.sin(Math.acos(t)),gA=dA(u_),pA=uA(u_),X6=Td(.42,0,1,1),K6=Td(0,0,.58,1),yA=Td(.42,0,.58,1),Y6=t=>Array.isArray(t)&&typeof t[0]!="number",xA=t=>Array.isArray(t)&&typeof t[0]=="number",Z6={linear:ii,easeIn:X6,easeInOut:yA,easeOut:K6,circIn:u_,circInOut:pA,circOut:gA,backIn:c_,backInOut:fA,backOut:hA,anticipate:mA},q6=t=>typeof t=="string",qb=t=>{if(xA(t)){o_(t.length===4);const[e,n,r,i]=t;return Td(e,n,r,i)}else if(q6(t))return Z6[t];return t},cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Jb={value:null};function J6(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function d(f){o.has(f)&&(h.schedule(f),t()),u++,f(l)}const h={schedule:(f,p=!1,y=!1)=>{const w=y&&i?n:r;return p&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),e&&Jb.value&&Jb.value.frameloop[e].push(u),u=0,n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const Q6=40;function vA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=cf.reduce((T,P)=>(T[P]=J6(s,e?P:void 0),T),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:h,update:f,preRender:p,render:y,postRender:v}=o,w=()=>{const T=Ds.useManualTiming?i.timestamp:performance.now();n=!1,Ds.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,Q6),1)),i.timestamp=T,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),h.process(i),f.process(i),p.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},S=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:cf.reduce((T,P)=>{const k=o[P];return T[P]=(M,F=!1,I=!1)=>(n||S(),k.schedule(M,F,I)),T},{}),cancel:T=>{for(let P=0;P<cf.length;P++)o[cf[P]].cancel(T)},state:i,steps:o}}const{schedule:rn,cancel:Mo,state:Bn,steps:Gy}=vA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ii,!0);let Af;function eU(){Af=void 0}const br={now:()=>(Af===void 0&&br.set(Bn.isProcessing||Ds.useManualTiming?Bn.timestamp:performance.now()),Af),set:t=>{Af=t,queueMicrotask(eU)}},_A=t=>e=>typeof e=="string"&&e.startsWith(t),d_=_A("--"),tU=_A("var(--"),h_=t=>tU(t)?nU.test(t.split("/*")[0].trim()):!1,nU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ed={...yc,transform:t=>Ls(0,1,t)},uf={...yc,default:1},ku=t=>Math.round(t*1e5)/1e5,f_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rU(t){return t==null}const iU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m_=(t,e)=>n=>!!(typeof n=="string"&&iU.test(n)&&n.startsWith(t)||e&&!rU(n)&&Object.prototype.hasOwnProperty.call(n,e)),wA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(f_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},sU=t=>Ls(0,255,t),Uy={...yc,transform:t=>Math.round(sU(t))},xa={test:m_("rgb","red"),parse:wA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Uy.transform(t)+", "+Uy.transform(e)+", "+Uy.transform(n)+", "+ku(ed.transform(r))+")"};function oU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const J0={test:m_("#"),parse:oU,transform:xa.transform},Pd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),go=Pd("deg"),ss=Pd("%"),Ye=Pd("px"),aU=Pd("vh"),lU=Pd("vw"),Qb={...ss,parse:t=>ss.parse(t)/100,transform:t=>ss.transform(t*100)},jl={test:m_("hsl","hue"),parse:wA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ss.transform(ku(e))+", "+ss.transform(ku(n))+", "+ku(ed.transform(r))+")"},yn={test:t=>xa.test(t)||J0.test(t)||jl.test(t),parse:t=>xa.test(t)?xa.parse(t):jl.test(t)?jl.parse(t):J0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xa.transform(t):jl.transform(t),getAnimatableNone:t=>{const e=yn.parse(t);return e.alpha=0,yn.transform(e)}},cU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(f_))==null?void 0:e.length)||0)+(((n=t.match(cU))==null?void 0:n.length)||0)>0}const SA="number",CA="color",dU="var",hU="var(",eE="${}",fU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function td(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(fU,u=>(yn.test(u)?(r.color.push(s),i.push(CA),n.push(yn.parse(u))):u.startsWith(hU)?(r.var.push(s),i.push(dU),n.push(u)):(r.number.push(s),i.push(SA),n.push(parseFloat(u))),++s,eE)).split(eE);return{values:n,split:l,indexes:r,types:i}}function bA(t){return td(t).values}function EA(t){const{split:e,types:n}=td(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===SA?s+=ku(i[o]):l===CA?s+=yn.transform(i[o]):s+=i[o]}return s}}const mU=t=>typeof t=="number"?0:yn.test(t)?yn.getAnimatableNone(t):t;function gU(t){const e=bA(t);return EA(t)(e.map(mU))}const Io={test:uU,parse:bA,createTransformer:EA,getAnimatableNone:gU};function Wy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=Wy(u,l,t+1/3),s=Wy(u,l,t),o=Wy(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function rm(t,e){return n=>n>0?e:t}const nn=(t,e,n)=>t+(e-t)*n,Hy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},yU=[J0,xa,jl],xU=t=>yU.find(e=>e.test(t));function tE(t){const e=xU(t);if(!e)return!1;let n=e.parse(t);return e===jl&&(n=pU(n)),n}const nE=(t,e)=>{const n=tE(t),r=tE(e);if(!n||!r)return rm(t,e);const i={...n};return s=>(i.red=Hy(n.red,r.red,s),i.green=Hy(n.green,r.green,s),i.blue=Hy(n.blue,r.blue,s),i.alpha=nn(n.alpha,r.alpha,s),xa.transform(i))},Q0=new Set(["none","hidden"]);function vU(t,e){return Q0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _U(t,e){return n=>nn(t,e,n)}function g_(t){return typeof t=="number"?_U:typeof t=="string"?h_(t)?rm:yn.test(t)?nE:CU:Array.isArray(t)?RA:typeof t=="object"?yn.test(t)?nE:wU:rm}function RA(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>g_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function wU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=g_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function SU(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const CU=(t,e)=>{const n=Io.createTransformer(e),r=td(t),i=td(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Q0.has(t)&&!i.values.length||Q0.has(e)&&!r.values.length?vU(t,e):Rd(RA(SU(r,i),i.values),n):rm(t,e)};function TA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nn(t,e,n):g_(t)(t,e)}const bU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rn.update(e,n),stop:()=>Mo(e),now:()=>Bn.isProcessing?Bn.timestamp:br.now()}},PA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},im=2e4;function p_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<im;)e+=n,r=t.next(e);return e>=im?1/0:e}function EU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(p_(r),im);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:is(i)}}const RU=5;function kA(t,e,n){const r=Math.max(e-RU,0);return lA(n-t(r),e-r)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rE=.001;function TU({duration:t=an.duration,bounce:e=an.bounce,velocity:n=an.velocity,mass:r=an.mass}){let i,s,o=1-e;o=Ls(an.minDamping,an.maxDamping,o),t=Ls(an.minDuration,an.maxDuration,is(t)),o<1?(i=d=>{const h=d*o,f=h*t,p=h-n,y=ex(d,o),v=Math.exp(-f);return rE-p/y*v},s=d=>{const f=d*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-f),w=ex(Math.pow(d,2),o);return(-i(d)+rE>0?-1:1)*((p-y)*v)/w}):(i=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-.001+h*f},s=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,u=kU(i,s,l);if(t=rs(t),isNaN(u))return{stiffness:an.stiffness,damping:an.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const PU=12;function kU(t,e,n){let r=n;for(let i=1;i<PU;i++)r=r-t(r)/e(r);return r}function ex(t,e){return t*Math.sqrt(1-e*e)}const AU=["duration","bounce"],MU=["stiffness","damping","mass"];function iE(t,e){return e.some(n=>t[n]!==void 0)}function IU(t){let e={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...t};if(!iE(t,MU)&&iE(t,AU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ls(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:an.mass,stiffness:i,damping:s}}else{const n=TU(t);e={...e,...n,mass:an.mass},e.isResolvedFromDuration=!0}return e}function sm(t=an.visualDuration,e=an.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=IU({...n,velocity:-is(n.velocity||0)}),v=p||0,w=d/(2*Math.sqrt(u*h)),S=o-s,b=is(Math.sqrt(u/h)),R=Math.abs(S)<5;r||(r=R?an.restSpeed.granular:an.restSpeed.default),i||(i=R?an.restDelta.granular:an.restDelta.default);let T;if(w<1){const k=ex(b,w);T=M=>{const F=Math.exp(-w*b*M);return o-F*((v+w*b*S)/k*Math.sin(k*M)+S*Math.cos(k*M))}}else if(w===1)T=k=>o-Math.exp(-b*k)*(S+(v+b*S)*k);else{const k=b*Math.sqrt(w*w-1);T=M=>{const F=Math.exp(-w*b*M),I=Math.min(k*M,300);return o-F*((v+w*b*S)*Math.sinh(I)+k*S*Math.cosh(I))/k}}const P={calculatedDuration:y&&f||null,next:k=>{const M=T(k);if(y)l.done=k>=f;else{let F=k===0?v:0;w<1&&(F=k===0?rs(v):kA(T,k,M));const I=Math.abs(F)<=r,z=Math.abs(o-M)<=i;l.done=I&&z}return l.value=l.done?o:M,l},toString:()=>{const k=Math.min(p_(P),im),M=PA(F=>P.next(k*F).value,k,30);return k+"ms "+M},toTransition:()=>{}};return P}sm.applyToOptions=t=>{const e=EU(t,100,sm);return t.ease=e.ease,t.duration=rs(e.duration),t.type="keyframes",t};function tx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=I=>l!==void 0&&I<l||u!==void 0&&I>u,v=I=>l===void 0?u:u===void 0||Math.abs(l-I)<Math.abs(u-I)?l:u;let w=n*e;const S=f+w,b=o===void 0?S:o(S);b!==S&&(w=b-f);const R=I=>-w*Math.exp(-I/r),T=I=>b+R(I),P=I=>{const z=R(I),W=T(I);p.done=Math.abs(z)<=d,p.value=p.done?b:W};let k,M;const F=I=>{y(p.value)&&(k=I,M=sm({keyframes:[p.value,v(p.value)],velocity:kA(T,I,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return F(0),{calculatedDuration:null,next:I=>{let z=!1;return!M&&k===void 0&&(z=!0,P(I),F(I)),k!==void 0&&I>=k?M.next(I-k):(!z&&P(I),p)}}}function NU(t,e,n){const r=[],i=n||Ds.mix||TA,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||ii:e;l=Rd(u,l)}r.push(l)}return r}function FU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(o_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=NU(e,r,i),u=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=Qu(t[f],t[f+1],h);return l[f](p)};return n?h=>d(Ls(t[0],t[s-1],h)):d}function jU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Qu(0,e,r);t.push(nn(n,1,i))}}function LU(t){const e=[0];return jU(e,t.length-1),e}function DU(t,e){return t.map(n=>n*e)}function OU(t,e){return t.map(()=>e||yA).splice(0,t.length-1)}function Au({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Y6(r)?r.map(qb):qb(r),s={done:!1,value:e[0]},o=DU(n&&n.length===e.length?n:LU(e),t),l=FU(o,e,{ease:Array.isArray(i)?i:OU(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const VU=t=>t!==null;function y_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(VU),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const zU={decay:tx,inertia:tx,tween:Au,keyframes:Au,spring:sm};function AA(t){typeof t.type=="string"&&(t.type=zU[t.type])}class x_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $U=t=>t/100;class v_ extends x_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==br.now()&&this.tick(br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;AA(e);const{type:n=Au,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const u=n||Au;u!==Au&&typeof l[0]!="number"&&(this.mixKeyframes=Rd($U,TA(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=p_(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,P=r;if(f){const I=Math.min(this.currentTime,i)/l;let z=Math.floor(I),W=I%1;!W&&I>=1&&(W=1),W===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(p==="reverse"?(W=1-W,y&&(W-=y/l)):p==="mirror"&&(P=o)),T=Ls(0,1,W)*l}const k=R?{done:!1,value:h[0]}:P.next(T);s&&(k.value=s(k.value));let{done:M}=k;!R&&u!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return F&&v!==tx&&(k.value=y_(h,this.options,S,this.speed)),w&&w(k.value),F&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return is(this.calculatedDuration)}get time(){return is(this.currentTime)}set time(e){var n;e=rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(br.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=is(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=bU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function BU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const va=t=>t*180/Math.PI,nx=t=>{const e=va(Math.atan2(t[1],t[0]));return rx(e)},GU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:nx,rotateZ:nx,skewX:t=>va(Math.atan(t[1])),skewY:t=>va(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rx=t=>(t=t%360,t<0&&(t+=360),t),sE=nx,oE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),UU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oE,scaleY:aE,scale:t=>(oE(t)+aE(t))/2,rotateX:t=>rx(va(Math.atan2(t[6],t[5]))),rotateY:t=>rx(va(Math.atan2(-t[2],t[0]))),rotateZ:sE,rotate:sE,skewX:t=>va(Math.atan(t[4])),skewY:t=>va(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ix(t){return t.includes("scale")?1:0}function sx(t,e){if(!t||t==="none")return ix(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=UU,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=GU,i=l}if(!i)return ix(e);const s=r[e],o=i[1].split(",").map(HU);return typeof s=="function"?s(o):o[s]}const WU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sx(n,e)};function HU(t){return parseFloat(t.trim())}const xc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vc=new Set(xc),lE=t=>t===yc||t===Ye,XU=new Set(["x","y","z"]),KU=xc.filter(t=>!XU.has(t));function YU(t){const e=[];return KU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ra={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sx(e,"x"),y:(t,{transform:e})=>sx(e,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Ta=new Set;let ox=!1,ax=!1,lx=!1;function MA(){if(ax){const t=Array.from(Ta).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=YU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ax=!1,ox=!1,Ta.forEach(t=>t.complete(lx)),Ta.clear()}function IA(){Ta.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ax=!0)})}function ZU(){lx=!0,IA(),MA(),lx=!1}class __{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),ox||(ox=!0,rn.read(IA),rn.resolveKeyframes(MA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}BU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qU=t=>t.startsWith("--");function JU(t,e,n){qU(e)?t.style.setProperty(e,n):t.style[e]=n}const QU=a_(()=>window.ScrollTimeline!==void 0),e8={};function t8(t,e){const n=a_(t);return()=>e8[e]??n()}const NA=t8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,cE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vu([0,.65,.55,1]),circOut:vu([.55,0,1,.45]),backIn:vu([.31,.01,.66,-.59]),backOut:vu([.33,1.53,.69,.99])};function FA(t,e){if(t)return typeof t=="function"?NA()?PA(t,e):"ease-out":xA(t)?vu(t):Array.isArray(t)?t.map(n=>FA(n,e)||cE.easeOut):cE[t]}function n8(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const h={[e]:n};u&&(h.offset=u);const f=FA(l,i);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(h,p)}function jA(t){return typeof t=="function"&&"applyToOptions"in t}function r8({type:t,...e}){return jA(t)&&NA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class i8 extends x_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,o_(typeof e.type!="string");const d=r8(e);this.animation=n8(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=y_(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):JU(n,r,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return is(Number(e))}get time(){return is(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&QU()?(this.animation.timeline=e,ii):n(this)}}const LA={anticipate:mA,backInOut:fA,circInOut:pA};function s8(t){return t in LA}function o8(t){typeof t.ease=="string"&&s8(t.ease)&&(t.ease=LA[t.ease])}const uE=10;class a8 extends i8{constructor(e){o8(e),AA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new v_({...o,autoplay:!1}),u=rs(this.finishedTime??this.time);n.setWithVelocity(l.sample(u-uE).value,l.sample(u).value,uE),l.stop()}}const dE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Io.test(t)||t==="0")&&!t.startsWith("url("));function l8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function c8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=dE(i,e),l=dE(s,e);return!o||!l?!1:l8(t)||(n==="spring"||jA(n))&&r}function w_(t){return oA(t)&&"offsetHeight"in t}const u8=new Set(["opacity","clipPath","filter","transform"]),d8=a_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h8(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!w_((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return d8()&&n&&u8.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const f8=40;class m8 extends x_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:h,...f}){var v;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=br.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:d,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||__;this.keyframeResolver=new y(l,(w,S,b)=>this.onKeyframesResolved(w,S,p,!b),u,d,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:h}=r;this.resolvedAt=br.now(),c8(e,s,o,l)||((Ds.instantAnimations||!u)&&(h==null||h(y_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>f8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&h8(p)?new a8({...p,element:p.motionValue.owner.current}):new v_(p);y.finished.then(()=>this.notifyFinished()).catch(ii),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ZU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const g8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p8(t){const e=g8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function DA(t,e,n=1){const[r,i]=p8(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return sA(o)?parseFloat(o):o}return h_(i)?DA(i,e,n+1):i}function S_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const OA=new Set(["width","height","top","left","right","bottom",...xc]),y8={test:t=>t==="auto",parse:t=>t},VA=t=>e=>e.test(t),zA=[yc,Ye,ss,go,lU,aU,y8],hE=t=>zA.find(VA(t));function x8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aA(t):!0}const v8=new Set(["brightness","contrast","saturate","opacity"]);function _8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(f_)||[];if(!r)return t;const i=n.replace(r,"");let s=v8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const w8=/\b([a-z-]*)\(.*?\)/gu,cx={...Io,getAnimatableNone:t=>{const e=t.match(w8);return e?e.map(_8).join(" "):t}},fE={...yc,transform:Math.round},S8={rotate:go,rotateX:go,rotateY:go,rotateZ:go,scale:uf,scaleX:uf,scaleY:uf,scaleZ:uf,skew:go,skewX:go,skewY:go,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:ed,originX:Qb,originY:Qb,originZ:Ye},C_={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye,...S8,zIndex:fE,fillOpacity:ed,strokeOpacity:ed,numOctaves:fE},C8={...C_,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:cx,WebkitFilter:cx},$A=t=>C8[t];function BA(t,e){let n=$A(t);return n!==cx&&(n=Io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const b8=new Set(["auto","none","0"]);function E8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!b8.has(s)&&td(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=BA(n,i)}class R8 extends __{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),h_(d))){const h=DA(d,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!OA.has(r)||e.length!==2)return;const[i,s]=e,o=hE(i),l=hE(s);if(o!==l)if(lE(o)&&lE(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Ra[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||x8(e[i]))&&r.push(i);r.length&&E8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ra[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function T8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const GA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mE=30,P8=t=>!isNaN(parseFloat(t));class k8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,l;const s=br.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=P8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new l_);const r=this.events[e].add(n);return e==="change"?()=>{r(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mE);return lA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yl(t,e){return new k8(t,e)}const{schedule:b_}=vA(queueMicrotask,!1),yi={x:!1,y:!1};function UA(){return yi.x||yi.y}function A8(t){return t==="x"||t==="y"?yi[t]?null:(yi[t]=!0,()=>{yi[t]=!1}):yi.x||yi.y?null:(yi.x=yi.y=!0,()=>{yi.x=yi.y=!1})}function WA(t,e){const n=T8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function gE(t){return!(t.pointerType==="touch"||UA())}function M8(t,e,n={}){const[r,i,s]=WA(t,n),o=l=>{if(!gE(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const h=f=>{gE(f)&&(d(f),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const HA=(t,e)=>e?t===e?!0:HA(t,e.parentElement):!1,E_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,I8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N8(t){return I8.has(t.tagName)||t.tabIndex!==-1}const Mf=new WeakSet;function pE(t){return e=>{e.key==="Enter"&&t(e)}}function Xy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const F8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pE(()=>{if(Mf.has(n))return;Xy(n,"down");const i=pE(()=>{Xy(n,"up")}),s=()=>Xy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yE(t){return E_(t)&&!UA()}function j8(t,e,n={}){const[r,i,s]=WA(t,n),o=l=>{const u=l.currentTarget;if(!yE(l))return;Mf.add(u);const d=e(u,l),h=(y,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Mf.has(u)&&Mf.delete(u),yE(y)&&typeof d=="function"&&d(y,{success:v})},f=y=>{h(y,u===window||u===document||n.useGlobalTarget||HA(u,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),w_(l)&&(l.addEventListener("focus",d=>F8(d,i)),!N8(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function XA(t){return oA(t)&&"ownerSVGElement"in t}function L8(t){return XA(t)&&t.tagName==="svg"}const sr=t=>!!(t&&t.getVelocity),D8=[...zA,yn,Io],O8=t=>D8.find(VA(t)),R_=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class V8 extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=w_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function z8({children:t,isPresent:e,anchorX:n}){const r=_.useId(),i=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(R_);return _.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:h,right:f}=s.current;if(e||!i.current||!l||!u)return;const p=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),g.jsx(V8,{isPresent:e,childRef:i,sizeRef:s,children:_.cloneElement(t,{ref:i})})}const $8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const u=n_(B8),d=_.useId();let h=!0,f=_.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const y of u.values())if(!y)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return s&&h&&(f={...f}),_.useMemo(()=>{u.forEach((p,y)=>u.set(y,!1))},[n]),_.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(z8,{isPresent:n,anchorX:l,children:t})),g.jsx(rg.Provider,{value:f,children:t})};function B8(){return new Map}function KA(t=!0){const e=_.useContext(rg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const o=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const df=t=>t.key||"";function xE(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const G8=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[u,d]=KA(o),h=_.useMemo(()=>xE(t),[t]),f=o&&!u?[]:h.map(df),p=_.useRef(!0),y=_.useRef(h),v=n_(()=>new Map),[w,S]=_.useState(h),[b,R]=_.useState(h);iA(()=>{p.current=!1,y.current=h;for(let k=0;k<b.length;k++){const M=df(b[k]);f.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[b,f.length,f.join("-")]);const T=[];if(h!==w){let k=[...h];for(let M=0;M<b.length;M++){const F=b[M],I=df(F);f.includes(I)||(k.splice(M,0,F),T.push(F))}return s==="wait"&&T.length&&(k=T),R(xE(k)),S(h),null}const{forceRender:P}=_.useContext(t_);return g.jsx(g.Fragment,{children:b.map(k=>{const M=df(k),F=o&&!u?!1:h===b||f.includes(M),I=()=>{if(v.has(M))v.set(M,!0);else return;let z=!0;v.forEach(W=>{W||(z=!1)}),z&&(P==null||P(),R(y.current),o&&(d==null||d()),r&&r())};return g.jsx($8,{isPresent:F,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:F?void 0:I,anchorX:l,children:k},M)})})},YA=_.createContext({strict:!1}),vE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zl={};for(const t in vE)Zl[t]={isEnabled:e=>vE[t].some(n=>!!e[n])};function U8(t){for(const e in t)Zl[e]={...Zl[e],...t[e]}}const W8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function om(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||W8.has(t)}let ZA=t=>!om(t);function H8(t){typeof t=="function"&&(ZA=e=>e.startsWith("on")?!om(e):t(e))}try{H8(require("@emotion/is-prop-valid").default)}catch{}function X8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZA(i)||n===!0&&om(i)||!e&&!om(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function K8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ig=_.createContext({});function sg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function nd(t){return typeof t=="string"||Array.isArray(t)}const T_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],P_=["initial",...T_];function og(t){return sg(t.animate)||P_.some(e=>nd(t[e]))}function qA(t){return!!(og(t)||t.variants)}function Y8(t,e){if(og(t)){const{initial:n,animate:r}=t;return{initial:n===!1||nd(n)?n:void 0,animate:nd(r)?r:void 0}}return t.inherit!==!1?e:{}}function Z8(t){const{initial:e,animate:n}=Y8(t,_.useContext(ig));return _.useMemo(()=>({initial:e,animate:n}),[_E(e),_E(n)])}function _E(t){return Array.isArray(t)?t.join(" "):t}const q8=Symbol.for("motionComponentSymbol");function Ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function J8(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ll(n)&&(n.current=r))},[e])}const k_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q8="framerAppearId",JA="data-"+k_(Q8),QA=_.createContext({});function eW(t,e,n,r,i){var w,S;const{visualElement:s}=_.useContext(ig),o=_.useContext(YA),l=_.useContext(rg),u=_.useContext(R_).reducedMotion,d=_.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,f=_.useContext(QA);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&tW(d.current,n,i,f);const p=_.useRef(!1);_.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const y=n[JA],v=_.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return iA(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),b_.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),_.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,y)}),v.current=!1))}),h}function tW(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eM(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Ll(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:d})}function eM(t){if(t)return t.options.allowProjection!==!1?t.projection:eM(t.parent)}function nW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&U8(t);function s(l,u){let d;const h={..._.useContext(R_),...l,layoutId:rW(l)},{isStatic:f}=h,p=Z8(l),y=r(l,f);if(!f&&r_){iW();const v=sW(h);d=v.MeasureLayout,p.visualElement=eW(i,y,h,e,v.ProjectionNode)}return g.jsxs(ig.Provider,{value:p,children:[d&&p.visualElement?g.jsx(d,{visualElement:p.visualElement,...h}):null,n(i,l,J8(y,p.visualElement,u),y,f,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=_.forwardRef(s);return o[q8]=i,o}function rW({layoutId:t}){const e=_.useContext(t_).id;return e&&t!==void 0?e+"-"+t:t}function iW(t,e){_.useContext(YA).strict}function sW(t){const{drag:e,layout:n}=Zl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const rd={};function oW(t){for(const e in t)rd[e]=t[e],d_(e)&&(rd[e].isCSSVariable=!0)}function tM(t,{layout:e,layoutId:n}){return vc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rd[t]||t==="opacity")}const aW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lW=xc.length;function cW(t,e,n){let r="",i=!0;for(let s=0;s<lW;s++){const o=xc[s],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=GA(l,C_[o]);if(!u){i=!1;const h=aW[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function A_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(vc.has(u)){o=!0;continue}else if(d_(u)){i[u]=d;continue}else{const h=GA(d,C_[u]);u.startsWith("origin")?(l=!0,s[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=cW(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${d} ${h}`}}const M_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nM(t,e,n){for(const r in e)!sr(e[r])&&!tM(r,n)&&(t[r]=e[r])}function uW({transformTemplate:t},e){return _.useMemo(()=>{const n=M_();return A_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dW(t,e){const n=t.style||{},r={};return nM(r,n,t),Object.assign(r,uW(t,e)),r}function hW(t,e){const n={},r=dW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const fW={offset:"stroke-dashoffset",array:"stroke-dasharray"},mW={offset:"strokeDashoffset",array:"strokeDasharray"};function gW(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?fW:mW;t[s.offset]=Ye.transform(-r);const o=Ye.transform(e),l=Ye.transform(n);t[s.array]=`${o} ${l}`}function rM(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},u,d,h){if(A_(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&gW(f,i,s,o,!1)}const iM=()=>({...M_(),attrs:{}}),sM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pW(t,e,n,r){const i=_.useMemo(()=>{const s=iM();return rM(s,e,sM(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};nM(s,t.style,t),i.style={...s,...i.style}}return i}const yW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I_(t){return typeof t!="string"||t.includes("-")?!1:!!(yW.indexOf(t)>-1||/[A-Z]/u.test(t))}function xW(t=!1){return(n,r,i,{latestValues:s},o)=>{const u=(I_(n)?pW:hW)(r,s,o,n),d=X8(r,typeof n=="string",t),h=n!==_.Fragment?{...d,...u,ref:i}:{},{children:f}=r,p=_.useMemo(()=>sr(f)?f.get():f,[f]);return _.createElement(n,{...h,children:p})}}function wE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function N_(t,e,n,r){if(typeof e=="function"){const[i,s]=wE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=wE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function If(t){return sr(t)?t.get():t}function vW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:_W(n,r,i,t),renderState:e()}}const oM=t=>(e,n)=>{const r=_.useContext(ig),i=_.useContext(rg),s=()=>vW(t,e,r,i);return n?s():n_(s)};function _W(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=If(s[p]);let{initial:o,animate:l}=t;const u=og(t),d=qA(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!sg(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const v=N_(t,p[y]);if(v){const{transitionEnd:w,transition:S,...b}=v;for(const R in b){let T=b[R];if(Array.isArray(T)){const P=h?T.length-1:0;T=T[P]}T!==null&&(i[R]=T)}for(const R in w)i[R]=w[R]}}}return i}function F_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(sr(r[o])||e.style&&sr(e.style[o])||tM(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const wW={useVisualState:oM({scrapeMotionValuesFromProps:F_,createRenderState:M_})};function aM(t,e,n){const r=F_(t,e,n);for(const i in t)if(sr(t[i])||sr(e[i])){const s=xc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const SW={useVisualState:oM({scrapeMotionValuesFromProps:aM,createRenderState:iM})};function CW(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...I_(r)?SW:wW,preloadedFeatures:t,useRender:xW(i),createVisualElement:e,Component:r};return nW(o)}}function id(t,e,n){const r=t.getProps();return N_(r,e,n!==void 0?n:r.custom,t)}const ux=t=>Array.isArray(t);function bW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yl(n))}function EW(t){return ux(t)?t[t.length-1]||0:t}function RW(t,e){const n=id(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=EW(s[o]);bW(t,o,l)}}function TW(t){return!!(sr(t)&&t.add)}function dx(t,e){const n=t.getValue("willChange");if(TW(n))return n.add(e);if(!n&&Ds.WillChange){const r=new Ds.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lM(t){return t.props[JA]}const PW=t=>t!==null;function kW(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(PW),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const AW={type:"spring",stiffness:500,damping:25,restSpeed:10},MW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),IW={type:"keyframes",duration:.8},NW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FW=(t,{keyframes:e})=>e.length>2?IW:vc.has(t)?t.startsWith("scale")?MW(e[1]):AW:NW;function jW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const j_=(t,e,n,r={},i,s)=>o=>{const l=S_(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-rs(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};jW(l)||Object.assign(h,FW(t,h)),h.duration&&(h.duration=rs(h.duration)),h.repeatDelay&&(h.repeatDelay=rs(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),(Ds.instantAnimations||Ds.skipAnimations)&&(f=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!s&&e.get()!==void 0){const p=kW(h.keyframes,l);if(p!==void 0){rn.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new v_(h):new m8(h)};function LW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function cM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),p=l[h];if(p===void 0||d&&LW(d,h))continue;const y={delay:n,...S_(s||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=lM(t);if(b){const R=window.MotionHandoffAnimation(b,h,rn);R!==null&&(y.startTime=R,w=!0)}}dx(t,h),f.start(j_(h,f,p,t.shouldReduceMotion&&OA.has(h)?{type:!1}:y,t,w));const S=f.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{rn.update(()=>{o&&RW(t,o)})}),u}function hx(t,e,n={}){var u;const r=id(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(cM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return DW(t,e,h+d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function DW(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,u=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(OW).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(hx(d,e,{...s,delay:n+u(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function OW(t,e){return t.sortNodePosition(e)}function VW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>hx(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=hx(t,e,n);else{const i=typeof e=="function"?id(t,e,n.custom):e;r=Promise.all(cM(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function uM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const zW=P_.length;function dM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zW;n++){const r=P_[n],i=t.props[r];(nd(i)||i===!1)&&(e[r]=i)}return e}const $W=[...T_].reverse(),BW=T_.length;function GW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>VW(t,n,r)))}function UW(t){let e=GW(t),n=SE(),r=!0;const i=u=>(d,h)=>{var p;const f=id(t,h,u==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:v,...w}=f;d={...d,...w,...v}}return d};function s(u){e=u(t)}function o(u){const{props:d}=t,h=dM(t.parent)||{},f=[],p=new Set;let y={},v=1/0;for(let S=0;S<BW;S++){const b=$W[S],R=n[b],T=d[b]!==void 0?d[b]:h[b],P=nd(T),k=b===u?R.isActive:null;k===!1&&(v=S);let M=T===h[b]&&T!==d[b]&&P;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),R.protectedKeys={...y},!R.isActive&&k===null||!T&&!R.prevProp||sg(T)||typeof T=="boolean")continue;const F=WW(R.prevProp,T);let I=F||b===u&&R.isActive&&!M&&P||S>v&&P,z=!1;const W=Array.isArray(T)?T:[T];let V=W.reduce(i(b),{});k===!1&&(V={});const{prevResolvedValues:X={}}=R,G={...X,...V},te=D=>{I=!0,p.has(D)&&(z=!0,p.delete(D)),R.needsAnimating[D]=!0;const j=t.getValue(D);j&&(j.liveStyle=!1)};for(const D in G){const j=V[D],U=X[D];if(y.hasOwnProperty(D))continue;let Y=!1;ux(j)&&ux(U)?Y=!uM(j,U):Y=j!==U,Y?j!=null?te(D):p.add(D):j!==void 0&&p.has(D)?te(D):R.protectedKeys[D]=!0}R.prevProp=T,R.prevResolvedValues=V,R.isActive&&(y={...y,...V}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&F)||z)&&f.push(...W.map(D=>({animation:D,options:{type:b}})))}if(p.size){const S={};if(typeof d.initial!="boolean"){const b=id(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(S.transition=b.transition)}p.forEach(b=>{const R=t.getBaseTarget(b),T=t.getValue(b);T&&(T.liveStyle=!0),S[b]=R??null}),f.push({animation:S})}let w=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function l(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(u,d)}),n[u].isActive=d;const h=o(u);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=SE(),r=!0}}}function WW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uM(e,t):!1}function ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SE(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class Vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HW extends Vo{constructor(e){super(e),e.animationState||(e.animationState=UW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let XW=0;class KW extends Vo{constructor(){super(...arguments),this.id=XW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const YW={animation:{Feature:HW},exit:{Feature:KW}};function sd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function kd(t){return{point:{x:t.pageX,y:t.pageY}}}const ZW=t=>e=>E_(e)&&t(e,kd(e));function Mu(t,e,n,r){return sd(t,e,ZW(n),r)}function hM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const fM=1e-4,QW=1-fM,eH=1+fM,mM=.01,tH=0-mM,nH=0+mM;function dr(t){return t.max-t.min}function rH(t,e,n){return Math.abs(t-e)<=n}function CE(t,e,n,r=.5){t.origin=r,t.originPoint=nn(e.min,e.max,t.origin),t.scale=dr(n)/dr(e),t.translate=nn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=QW&&t.scale<=eH||isNaN(t.scale))&&(t.scale=1),(t.translate>=tH&&t.translate<=nH||isNaN(t.translate))&&(t.translate=0)}function Iu(t,e,n,r){CE(t.x,e.x,n.x,r?r.originX:void 0),CE(t.y,e.y,n.y,r?r.originY:void 0)}function bE(t,e,n){t.min=n.min+e.min,t.max=t.min+dr(e)}function iH(t,e,n){bE(t.x,e.x,n.x),bE(t.y,e.y,n.y)}function EE(t,e,n){t.min=e.min-n.min,t.max=t.min+dr(e)}function Nu(t,e,n){EE(t.x,e.x,n.x),EE(t.y,e.y,n.y)}const RE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:RE(),y:RE()}),TE=()=>({min:0,max:0}),un=()=>({x:TE(),y:TE()});function ti(t){return[t("x"),t("y")]}function Ky(t){return t===void 0||t===1}function fx({scale:t,scaleX:e,scaleY:n}){return!Ky(t)||!Ky(e)||!Ky(n)}function aa(t){return fx(t)||gM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gM(t){return PE(t.x)||PE(t.y)}function PE(t){return t&&t!=="0%"}function am(t,e,n){const r=t-n,i=e*r;return n+i}function kE(t,e,n,r,i){return i!==void 0&&(t=am(t,i,r)),am(t,n,r)+e}function mx(t,e=0,n=1,r,i){t.min=kE(t.min,e,n,r,i),t.max=kE(t.max,e,n,r,i)}function pM(t,{x:e,y:n}){mx(t.x,e.translate,e.scale,e.originPoint),mx(t.y,n.translate,n.scale,n.originPoint)}const AE=.999999999999,ME=1.0000000000001;function sH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Vl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pM(t,o)),r&&aa(s.latestValues)&&Vl(t,s.latestValues))}e.x<ME&&e.x>AE&&(e.x=1),e.y<ME&&e.y>AE&&(e.y=1)}function Ol(t,e){t.min=t.min+e,t.max=t.max+e}function IE(t,e,n,r,i=.5){const s=nn(t.min,t.max,i);mx(t,e,n,s,r)}function Vl(t,e){IE(t.x,e.x,e.scaleX,e.scale,e.originX),IE(t.y,e.y,e.scaleY,e.scale,e.originY)}function yM(t,e){return hM(JW(t.getBoundingClientRect(),e))}function oH(t,e,n){const r=yM(t,n),{scroll:i}=e;return i&&(Ol(r.x,i.offset.x),Ol(r.y,i.offset.y)),r}const xM=({current:t})=>t?t.ownerDocument.defaultView:null,NE=(t,e)=>Math.abs(t-e);function aH(t,e){const n=NE(t.x,e.x),r=NE(t.y,e.y);return Math.sqrt(n**2+r**2)}class vM{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=aH(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:v}=f,{timestamp:w}=Bn;this.history.push({...v,timestamp:w});const{onStart:S,onMove:b}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Yy(p,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Zy(f.type==="pointercancel"?this.lastMoveEventInfo:Yy(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,S),v&&v(f,S)},!E_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=kd(e),l=Yy(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=Bn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Zy(l,this.history)),this.removeListeners=Rd(Mu(this.contextWindow,"pointermove",this.handlePointerMove),Mu(this.contextWindow,"pointerup",this.handlePointerUp),Mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}}function Yy(t,e){return e?{point:e(t.point)}:t}function FE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zy({point:t},e){return{point:t,delta:FE(t,_M(e)),offset:FE(t,lH(e)),velocity:cH(e,.1)}}function lH(t){return t[0]}function _M(t){return t[t.length-1]}function cH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=_M(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>rs(e)));)n--;if(!r)return{x:0,y:0};const s=is(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function uH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?nn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?nn(n,t,r.max):Math.min(t,n)),t}function jE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dH(t,{top:e,left:n,bottom:r,right:i}){return{x:jE(t.x,n,i),y:jE(t.y,e,r)}}function LE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hH(t,e){return{x:LE(t.x,e.x),y:LE(t.y,e.y)}}function fH(t,e){let n=.5;const r=dr(t),i=dr(e);return i>r?n=Qu(e.min,e.max-r,t.min):r>i&&(n=Qu(t.min,t.max-i,e.min)),Ls(0,1,n)}function mH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gx=.35;function gH(t=gx){return t===!1?t=0:t===!0&&(t=gx),{x:DE(t,"left","right"),y:DE(t,"top","bottom")}}function DE(t,e,n){return{min:OE(t,e),max:OE(t,n)}}function OE(t,e){return typeof t=="number"?t:t[e]||0}const pH=new WeakMap;class yH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kd(h).point)},s=(h,f)=>{const{drag:p,dragPropagation:y,onDragStart:v}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A8(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(S=>{let b=this.getAxisMotionValue(S).get()||0;if(ss.test(b)){const{projection:R}=this.visualElement;if(R&&R.layout){const T=R.layout.layoutBox[S];T&&(b=dr(T)*(parseFloat(b)/100))}}this.originPoint[S]=b}),v&&rn.postRender(()=>v(h,f)),dx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=f;if(y&&this.currentDirection===null){this.currentDirection=xH(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>this.stop(h,f),u=()=>ti(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new vM(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:xM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&rn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=uH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=dH(r.layoutBox,e):this.constraints=!1,this.elastic=gH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ti(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ll(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=oH(r,i.root,this.visualElement.getTransformPagePoint());let o=hH(i.layout.layoutBox,s);if(n){const l=n(qW(o));this.hasMutatedConstraints=!!l,l&&(o=hM(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=ti(h=>{if(!hf(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dx(this.visualElement,e),r.start(j_(e,r,0,n,this.visualElement,!1))}stopAnimation(){ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ti(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ti(n=>{const{drag:r}=this.getProps();if(!hf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-nn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ll(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ti(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();i[o]=fH({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ti(o=>{if(!hf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(nn(u,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;pH.set(this.visualElement,this);const e=this.visualElement.current,n=Mu(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ll(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rn.read(r);const o=sd(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(ti(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=gx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function hf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vH extends Vo{constructor(e){super(e),this.removeGroupControls=ii,this.removeListeners=ii,this.controls=new yH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const VE=t=>(e,n)=>{t&&rn.postRender(()=>t(e,n))};class _H extends Vo{constructor(){super(...arguments),this.removePointerDownListener=ii}onPointerDown(e){this.session=new vM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:VE(e),onStart:VE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&rn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Mu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ye.test(t))t=parseFloat(t);else return t;const n=zE(t,e.target.x),r=zE(t,e.target.y);return`${n}% ${r}%`}},wH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Io.parse(t);if(i.length>5)return r;const s=Io.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=u;const d=nn(l,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class SH extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;oW(CH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||rn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),b_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wM(t){const[e,n]=KA(),r=_.useContext(t_);return g.jsx(SH,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(QA),isPresent:e,safeToRemove:n})}const CH={borderRadius:{...hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hu,borderTopRightRadius:hu,borderBottomLeftRadius:hu,borderBottomRightRadius:hu,boxShadow:wH};function bH(t,e,n){const r=sr(t)?t:Yl(t);return r.start(j_("",r,e,n)),r.animation}const EH=(t,e)=>t.depth-e.depth;class RH{constructor(){this.children=[],this.isDirty=!1}add(e){i_(this.children,e),this.isDirty=!0}remove(e){s_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EH),this.isDirty=!1,this.children.forEach(e)}}function TH(t,e){const n=br.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mo(r),t(s-e))};return rn.setup(r,!0),()=>Mo(r)}const SM=["TopLeft","TopRight","BottomLeft","BottomRight"],PH=SM.length,$E=t=>typeof t=="string"?parseFloat(t):t,BE=t=>typeof t=="number"||Ye.test(t);function kH(t,e,n,r,i,s){i?(t.opacity=nn(0,n.opacity??1,AH(r)),t.opacityExit=nn(e.opacity??1,0,MH(r))):s&&(t.opacity=nn(e.opacity??1,n.opacity??1,r));for(let o=0;o<PH;o++){const l=`border${SM[o]}Radius`;let u=GE(e,l),d=GE(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||BE(u)===BE(d)?(t[l]=Math.max(nn($E(u),$E(d),r),0),(ss.test(d)||ss.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=nn(e.rotate||0,n.rotate||0,r))}function GE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const AH=CM(0,.5,gA),MH=CM(.5,.95,ii);function CM(t,e,n){return r=>r<t?0:r>e?1:n(Qu(t,e,r))}function UE(t,e){t.min=e.min,t.max=e.max}function ei(t,e){UE(t.x,e.x),UE(t.y,e.y)}function WE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HE(t,e,n,r,i){return t-=e,t=am(t,1/n,r),i!==void 0&&(t=am(t,1/i,r)),t}function IH(t,e=0,n=1,r=.5,i,s=t,o=t){if(ss.test(e)&&(e=parseFloat(e),e=nn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=nn(s.min,s.max,r);t===s&&(l-=e),t.min=HE(t.min,e,n,l,i),t.max=HE(t.max,e,n,l,i)}function XE(t,e,[n,r,i],s,o){IH(t,e[n],e[r],e[i],e.scale,s,o)}const NH=["x","scaleX","originX"],FH=["y","scaleY","originY"];function KE(t,e,n,r){XE(t.x,e,NH,n?n.x:void 0,r?r.x:void 0),XE(t.y,e,FH,n?n.y:void 0,r?r.y:void 0)}function YE(t){return t.translate===0&&t.scale===1}function bM(t){return YE(t.x)&&YE(t.y)}function ZE(t,e){return t.min===e.min&&t.max===e.max}function jH(t,e){return ZE(t.x,e.x)&&ZE(t.y,e.y)}function qE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EM(t,e){return qE(t.x,e.x)&&qE(t.y,e.y)}function JE(t){return dr(t.x)/dr(t.y)}function QE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LH{constructor(){this.members=[]}add(e){i_(this.members,e),e.scheduleRender()}remove(e){if(s_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:p,skewX:y,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const qy=["","X","Y","Z"],OH={visibility:"hidden"},VH=1e3;let zH=0;function Jy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RM(r)}function TM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=zH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GH),this.nodes.forEach(XH),this.nodes.forEach(KH),this.nodes.forEach(UH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new RH)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new l_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=XA(o)&&!L8(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=TH(f,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(nR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||QH,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=d.getProps(),b=!this.targetLayout||!EM(this.targetLayout,y),R=!f&&p;if(this.options.layoutRoot||this.resumeFrom||R||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...S_(v,"layout"),onPlay:w,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(h,R)}else f||nR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tR);return}this.isUpdating||this.nodes.forEach(tR),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(HH),this.nodes.forEach($H),this.nodes.forEach(BH),this.clearAllSnapshots();const l=br.now();Bn.delta=Ls(0,1e3/60,l-Bn.timestamp),Bn.timestamp=l,Bn.isProcessing=!0,Gy.update.process(Bn),Gy.preRender.process(Bn),Gy.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WH),this.sharedNodes.forEach(ZH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dr(this.snapshot.measuredBox.x)&&!dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bM(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||aa(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),e9(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return un();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(t9))){const{scroll:h}=this.root;h&&(Ol(l.x,h.offset.x),Ol(l.y,h.offset.y))}return l}removeElementScroll(o){var u;const l=un();if(ei(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&ei(l,o),Ol(l.x,f.offset.x),Ol(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const u=un();ei(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Vl(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),aa(h.latestValues)&&Vl(u,h.latestValues)}return aa(this.latestValues)&&Vl(u,this.latestValues),u}removeTransform(o){const l=un();ei(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!aa(d.latestValues))continue;fx(d.latestValues)&&d.updateSnapshot();const h=un(),f=d.measurePageBox();ei(h,f),KE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return aa(this.latestValues)&&KE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),Nu(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ei(this.target,this.layout.layoutBox),pM(this.target,this.targetDelta)):ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),Nu(this.relativeTargetOrigin,this.target,y.target),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fx(this.parent.latestValues)||gM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ei(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;sH(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=un());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WE(this.prevProjectionDelta.x,this.projectionDelta.x),WE(this.prevProjectionDelta.y,this.projectionDelta.y)),Iu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!QE(this.projectionDelta.x,this.prevProjectionDelta.x)||!QE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},f=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=un(),y=u?u.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,S=this.getStack(),b=!S||S.members.length<=1,R=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(JH));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const k=P/1e3;rR(f.x,o.x,k),rR(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qH(this.relativeTarget,this.relativeTargetOrigin,p,k),T&&jH(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=un()),ei(T,this.relativeTarget)),w&&(this.animationValues=h,kH(h,d,this.latestValues,k,R,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yl(0)),this.currentAnimation=bH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&PM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||un();const f=dr(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const p=dr(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}ei(l,u),Vl(l,h),Iu(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LH),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Jy("z",o,d,this.animationValues);for(let h=0;h<qy.length;h++)Jy(`rotate${qy[h]}`,o,d,this.animationValues),Jy(`skew${qy[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return OH;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=If(o==null?void 0:o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=If(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=DH(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:f,y:p}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in rd){if(h[y]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:S}=rd[y],b=l.transform==="none"?h[y]:v(h[y],d);if(w){const R=w.length;for(let T=0;T<R;T++)l[w[T]]=b}else S?this.options.visualElement.renderState.vars[y]=b:l[y]=b}return this.options.layoutId&&(l.pointerEvents=d===this?If(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(eR),this.root.sharedNodes.clear()}}}function $H(t){t.updateLayout()}function BH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ti(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=dr(p);p.min=r[f].min,p.max=p.min+y}):PM(s,e.layoutBox,r)&&ti(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=dr(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const l=Dl();Iu(l,r,e.layoutBox);const u=Dl();o?Iu(u,t.applyTransform(i,!0),e.measuredBox):Iu(u,r,e.layoutBox);const d=!bM(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const v=un();Nu(v,e.layoutBox,p.layoutBox);const w=un();Nu(w,r,y.layoutBox),EM(v,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function GH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WH(t){t.clearSnapshot()}function eR(t){t.clearMeasurements()}function tR(t){t.isLayoutDirty=!1}function HH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XH(t){t.resolveTargetDelta()}function KH(t){t.calcProjection()}function YH(t){t.resetSkewAndRotation()}function ZH(t){t.removeLeadSnapshot()}function rR(t,e,n){t.translate=nn(e.translate,0,n),t.scale=nn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iR(t,e,n,r){t.min=nn(e.min,n.min,r),t.max=nn(e.max,n.max,r)}function qH(t,e,n,r){iR(t.x,e.x,n.x,r),iR(t.y,e.y,n.y,r)}function JH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QH={duration:.45,ease:[.4,0,.1,1]},sR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oR=sR("applewebkit/")&&!sR("chrome/")?Math.round:ii;function aR(t){t.min=oR(t.min),t.max=oR(t.max)}function e9(t){aR(t.x),aR(t.y)}function PM(t,e,n){return t==="position"||t==="preserve-aspect"&&!rH(JE(e),JE(n),.2)}function t9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const n9=TM({attachResizeListener:(t,e)=>sd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qy={current:void 0},kM=TM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qy.current){const t=new n9({});t.mount(window),t.setOptions({layoutScroll:!0}),Qy.current=t}return Qy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),r9={pan:{Feature:_H},drag:{Feature:vH,ProjectionNode:kM,MeasureLayout:wM}};function lR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&rn.postRender(()=>s(e,kd(e)))}class i9 extends Vo{mount(){const{current:e}=this.node;e&&(this.unmount=M8(e,(n,r)=>(lR(this.node,r,"Start"),i=>lR(this.node,i,"End"))))}unmount(){}}class s9 extends Vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rd(sd(this.node.current,"focus",()=>this.onFocus()),sd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&rn.postRender(()=>s(e,kd(e)))}class o9 extends Vo{mount(){const{current:e}=this.node;e&&(this.unmount=j8(e,(n,r)=>(cR(this.node,r,"Start"),(i,{success:s})=>cR(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const px=new WeakMap,e0=new WeakMap,a9=t=>{const e=px.get(t.target);e&&e(t)},l9=t=>{t.forEach(a9)};function c9({root:t,...e}){const n=t||document;e0.has(n)||e0.set(n,{});const r=e0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(l9,{root:t,...e})),r[i]}function u9(t,e,n){const r=c9(e);return px.set(t,n),r.observe(t),()=>{px.delete(t),r.unobserve(t)}}const d9={some:0,all:1};class h9 extends Vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:d9[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(u)};return u9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(f9(e,n))&&this.startObserver()}unmount(){}}function f9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const m9={inView:{Feature:h9},tap:{Feature:o9},focus:{Feature:s9},hover:{Feature:i9}},g9={layout:{ProjectionNode:kM,MeasureLayout:wM}},yx={current:null},AM={current:!1};function p9(){if(AM.current=!0,!!r_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yx.current=t.matches;t.addListener(e),e()}else yx.current=!1}const y9=new WeakMap;function x9(t,e,n){for(const r in e){const i=e[r],s=n[r];if(sr(i))t.addValue(r,i);else if(sr(s))t.addValue(r,Yl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Yl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=__,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=br.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,rn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=og(n),this.isVariantNode=qA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];u[p]!==void 0&&sr(y)&&y.set(u[p],!1)}}mount(e){this.current=e,y9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AM.current||p9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&rn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zl){const n=Zl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uR.length;r++){const i=uR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=x9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sA(r)||aA(r))?r=parseFloat(r):!O8(r)&&Io.test(n)&&(r=BA(e,n)),this.setBaseTarget(e,sr(r)?r.get():r)),sr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=N_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!sr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new l_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class MM extends v9{constructor(){super(...arguments),this.KeyframeResolver=R8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IM(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function _9(t){return window.getComputedStyle(t)}class w9 extends MM{constructor(){super(...arguments),this.type="html",this.renderInstance=IM}readValueFromInstance(e,n){var r;if(vc.has(n))return(r=this.projection)!=null&&r.isProjecting?ix(n):WU(e,n);{const i=_9(e),s=(d_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yM(e,n)}build(e,n,r){A_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return F_(e,n,r)}}const NM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function S9(t,e,n,r){IM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(NM.has(i)?i:k_(i),e.attrs[i])}class C9 extends MM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vc.has(n)){const r=$A(n);return r&&r.default||0}return n=NM.has(n)?n:k_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aM(e,n,r)}build(e,n,r){rM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){S9(e,n,r,i)}mount(e){this.isSVGTag=sM(e.tagName),super.mount(e)}}const b9=(t,e)=>I_(t)?new C9(e):new w9(e,{allowProjection:t!==_.Fragment}),E9=CW({...YW,...m9,...r9,...g9},b9),R9=K8(E9);function T9({resumen:t,visible:e,onClose:n}){return t?g.jsx(G8,{children:e&&g.jsx(R9.div,{initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{duration:.2,ease:"easeOut"},className:`absolute bottom-20 left-20 right-20 md:left-20
                        z-20 flex justify-center px-4 sm:bottom-20`,children:g.jsxs("div",{className:"relative bg-white w-full max-w-[400px] max-h-[45vh] overflow-y-auto rounded-2xl shadow-xl p-4 border border-gray-300 dark:bg-zinc-900 dark:text-white",children:[g.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-1 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700",title:"Cerrar",children:g.jsx($s,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-xl font-bold mb-2 break-words",children:t.nombre}),g.jsxs("p",{className:"text-sm",children:["Animales: ",g.jsx("strong",{children:t.total_animales})]}),g.jsxs("p",{className:"text-sm",children:["Collares: ",g.jsx("strong",{children:t.total_collares})]}),t.tipos&&g.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(t.tipos).map(([r,i])=>g.jsxs("div",{className:"break-words",children:[g.jsxs("h3",{className:"font-semibold text-sm mt-2",children:[r," (",i.cantidad,")"]}),g.jsxs("p",{className:"text-xs",children:["Razas: ",Object.entries(i.por_raza).map(([s,o])=>`${s} (${o})`).join(", ")]}),g.jsxs("p",{className:"text-xs",children:["Sexos: ",Object.entries(i.por_sexo).map(([s,o])=>`${s} (${o})`).join(", ")]})]},r))})]})})}):null}function P9(t,{setMode:e,setArea:n,setTooltipText:r}){const i=_.useRef([]),s=_.useRef([]),o=_.useRef(null),l=_.useRef(null),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=_.useRef(null),y=_.useRef(!1),[v,w]=_.useState(!1),[S,b]=_.useState(!1),[R,T]=_.useState(!1),P=15,k=()=>{i.current=[],s.current=[],o.current=null,l.current=null,p.current=null,w(!1),n(0),b(!1),T(!1),r("")},M=_.useRef(N=>{y.current&&bi.modeRef.current==="draw"&&i.current.length>=3&&(b(!0),$(),N.preventDefault())}).current,F=N=>{if(!h.current||i.current.length===0)return;o.current&&h.current.removeFeature(o.current);const L=i.current[i.current.length-1],ne=new Ia([L,N]);o.current=new rr(ne),o.current.setStyle(nr.previewLine),h.current.addFeature(o.current)},I=(N,L)=>{h.current&&(l.current?l.current.getGeometry().setCoordinates(N):(l.current=new rr(new Tr(N)),h.current.addFeature(l.current)),l.current.setStyle(L?nr.previewVertexSnap:nr.previewVertex))},z=N=>{const L=new rr(new Tr(N));L.setStyle(nr.vertexDraw),s.current.push(L),h.current.addFeature(L)},W=()=>{if(!h.current||i.current.length<2)return;h.current.getFeatures().forEach(L=>{L.getGeometry()instanceof tr&&h.current.removeFeature(L)});const N=new rr(new tr([i.current]));N.setStyle(nr.draw),h.current.addFeature(N)},V=()=>{const N=t.current;if(!N||i.current.length<3){u.current&&(N.removeOverlay(u.current),u.current=null),n(0);return}const L=new tr([i.current]),ne=Um(L,{projection:"EPSG:3857"});n(ne);const ie=`${(ne/1e4).toFixed(2)} ha`,ce=L.getInteriorPoint().getCoordinates();if(!u.current){const ge=document.createElement("div");ge.className="area-label",ge.textContent=ie,u.current=new nm({element:ge,positioning:"center-center",stopEvent:!1}),N.addOverlay(u.current)}u.current.getElement().textContent=ie,u.current.setPosition(ce)},X=(N,L)=>{const ne=t.current;if(ne){if(!d.current){const ie=document.createElement("div");ie.className="map-tooltip",d.current=new nm({element:ie,offset:[0,-15],positioning:"bottom-center",className:"ol-tooltip-text"}),ne.addOverlay(d.current)}d.current.getElement().textContent=N,d.current.setPosition(L)}},G=_.useRef(N=>{if(!y.current||bi.modeRef.current!=="draw")return;const L=t.current,ne=N.coordinate,ie=i.current[0];if(ie&&L.getPixelFromCoordinate(ne)&&L.getPixelFromCoordinate(ie)&&t0(L.getPixelFromCoordinate(ne),L.getPixelFromCoordinate(ie))<P&&i.current.length>=3){i.current.push(ie),b(!0),$();return}i.current.push(ne),z(ne),W(),V(),i.current.length>0?T(!0):T(!1);const ae=i.current.length===1?"Click para continuar dibujando":"Click para cerrar polgono";r(ae),X(ae,ne),w(i.current.length>=3)}).current,te=_.useRef(N=>{if(!y.current||bi.modeRef.current!=="draw")return;const L=t.current,ne=N.coordinate,ie=i.current[0],ge=(ie?t0(L.getPixelFromCoordinate(ne),L.getPixelFromCoordinate(ie)):1/0)<P,ae=ge?"Click sobre el primer punto para cerrar":i.current.length===0?"Click para colocar el primer vrtice":"Click para continuar dibujando";r(ae),X(ae,ne),F(ne),I(ne,ge)}).current,J=()=>{const N=t.current;N&&(D(),f.current&&N.removeLayer(f.current),h.current=new js,f.current=new cs({source:h.current}),N.addLayer(f.current),N.on("click",G),N.on("pointermove",te),N.on("dblclick",M),k(),e("draw"),r("Click para colocar el primer vrtice"),document.body.classList.add("draw-mode"),u.current&&(N.removeOverlay(u.current),u.current=null),d.current&&(N.removeOverlay(d.current),d.current=null),y.current=!0)},$=()=>{const N=t.current;if(!N||i.current.length<3)return;const L=i.current[0],ne=i.current[i.current.length-1];L&&ne&&t0(L,ne)>1&&i.current.push(L),h.current&&(s.current.forEach(ce=>h.current.removeFeature(ce)),o.current&&h.current.removeFeature(o.current),l.current&&h.current.removeFeature(l.current),h.current.getFeatures().forEach(ce=>{ce.getGeometry()instanceof tr&&h.current.removeFeature(ce)}));const ie=new tr([i.current]);p.current=new rr(ie),h.current.addFeature(p.current),d.current&&(N.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),r(""),i.current=[],s.current=[],o.current=null,l.current=null,w(!1),typeof bi.onFinishCallback.current=="function"&&bi.onFinishCallback.current(p.current)},D=()=>{const N=t.current;N&&(N.on("click",G),N.on("pointermove",te),N.on("dblclick",M),k(),d.current&&(N.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),e(null),r(""),u.current&&(N.removeOverlay(u.current),u.current=null),f.current&&(N.removeLayer(f.current),f.current=null,h.current=null),document.body.classList.remove("draw-mode"),y.current=!1)},j=()=>D(),U=()=>{if(!i.current.length)return;i.current.pop();const N=s.current.pop();if(N&&h.current&&h.current.removeFeature(N),o.current&&h.current&&(h.current.removeFeature(o.current),o.current=null),h.current&&h.current.getFeatures().forEach(L=>{L.getGeometry()instanceof tr&&h.current.removeFeature(L)}),i.current.length>=2){const L=new rr(new tr([i.current]));L.setStyle(nr.draw),h.current.addFeature(L)}if(i.current.length>=1&&d.current){const L=d.current.getPosition();L&&F(L)}V(),T(i.current.length>0),w(i.current.length>=3)},Y=()=>p.current||null;return _.useEffect(()=>D,[]),{enableDraw:J,disableDraw:D,cancelDraw:j,endPolygon:$,removeLastPoint:U,getCreatedFeature:Y,canFinish:v,closedBySnap:S,firstVertexDraw:R}}function t0(t,e){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function k9(t,{setMode:e},n=()=>{}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef([]),o=_.useRef([]),l=_.useRef(!1),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=(M,F="edit")=>{const I=t.current;if(!I||!M)return;S();const z=M.getGeometry();if(!z)return;e(F);let W;if(z.getType()==="Polygon"){const D=z.getCoordinates();W=Array.isArray(D[0])?D[0]:[]}else if(z.getType()==="MultiPolygon"){const D=z.getCoordinates();W=Array.isArray(D[0][0])?D[0][0]:[]}else{console.error("Tipo no soportado:",z.getType());return}if(W.length<3)return;const V=new js,X=new cs({source:V,style:nr.edit});r.current=X,I.addLayer(X);const G=M.clone();G.setStyle(nr.edit),V.addFeature(G),h.current=G,I.getLayers().forEach(D=>{var U,Y;const j=(U=D.getSource)==null?void 0:U.call(D);j&&((Y=j.hasFeature)!=null&&Y.call(j,M))&&j.removeFeature(M)}),i.current=new cs({source:new js,style:null}),I.addLayer(i.current);const te=new E6({source:V});u.current=te;const J=D=>{I.forEachFeatureAtPixel(D.pixel,j=>{j.get("insertAfter")!==void 0&&(i.current.getSource().removeFeature(j),o.current=o.current.filter(U=>U!==j))})};I.on("pointerdown",J),u.current._pointerDownHandler=J,I.getOverlays().getArray().forEach(D=>{const j=D.getElement();j&&j.className.includes("area-label")&&I.removeOverlay(D)});const $=()=>{var ne;const D=G.getGeometry();if(!D||D.getType()!=="Polygon")return;const j=(ne=D.getCoordinates())==null?void 0:ne[0];if(!j||j.length<3)return;const U=new tr([j]),N=`${(Um(U,{projection:"EPSG:3857"})/1e4).toFixed(2)} ha`,L=U.getInteriorPoint().getCoordinates();if(!f.current){const ie=document.createElement("div");ie.className="area-label",ie.textContent=N,f.current=new nm({element:ie,positioning:"center-center",stopEvent:!1}),I.addOverlay(f.current)}f.current.getElement().textContent=N,f.current.setPosition(L)};te.on("modifyend",D=>{const j=D.features.item(0);if(!j)return;const U=j.getGeometry(),Y=k(U);y(Y),n(P(Y)),$()}),G.getGeometry().on("change",()=>{const D=G.getGeometry(),j=k(D);y(j),n(P(j)),$()}),I.addInteraction(te),y(W),n(P(W)),$()},y=M=>{var W;const F=t.current,I=(W=i.current)==null?void 0:W.getSource();if(!F||!I||!Array.isArray(M)||M.length<2)return;I.clear(),s.current=[],o.current=[];const z=M.slice(0,-1);z.forEach((V,X)=>{const G=new rr(new Tr(V));G.set("vertexIndex",X),G.setStyle(l.current?nr.vertexDelete:nr.vertexEdit),I.addFeature(G),s.current.push(G)});for(let V=0;V<z.length;V++){const X=z[V],G=z[(V+1)%z.length],te=[(X[0]+G[0])/2,(X[1]+G[1])/2],J=new rr(new Tr(te));J.set("insertAfter",V),J.setStyle(nr.vertexIntermediate),I.addFeature(J),o.current.push(J)}},v=()=>{var W;const M=t.current,F=(W=r.current)==null?void 0:W.getSource(),I=R();if(!M||!F||!I)return;l.current=!0;const z=new A6({condition:UG,layers:[i.current],filter:V=>V.getGeometry().getType()==="Point"});s.current.forEach(V=>{V.setStyle(nr.vertexDelete)}),z.on("select",V=>{const X=V.selected[0],G=X==null?void 0:X.get("vertexIndex");if(G===void 0)return;const te=T();te.length<=4||(te.splice(G,1),te[te.length-1]=te[0],I.getGeometry().setCoordinates([te]),y(te),n(P(te)))}),d.current=z,M.addInteraction(z)},w=()=>{const M=t.current;if(!M||!d.current)return;M.removeInteraction(d.current),d.current=null,l.current=!1,s.current.forEach(I=>{I.setStyle(nr.vertexEdit)}),R()&&y(T())},S=()=>{const M=t.current;if(M){if(r.current&&(M.removeLayer(r.current),r.current=null),i.current&&(M.removeLayer(i.current),i.current=null),u.current){M.removeInteraction(u.current);const F=u.current._pointerDownHandler;F&&M.un("pointerdown",F),u.current=null}d.current&&(M.removeInteraction(d.current),d.current=null),f.current&&(M.removeOverlay(f.current),f.current=null),s.current=[],o.current=[],l.current=!1,h.current=null,e(null)}},b=()=>h.current||null,R=()=>{var M,F;return((F=(M=r.current)==null?void 0:M.getSource())==null?void 0:F.getFeatures().find(I=>I.getGeometry().getType()==="Polygon"))||null},T=()=>{const M=R();return k(M==null?void 0:M.getGeometry())},P=M=>M.map(F=>{const[I,z]=QP(F);return{lat:z,lng:I}}),k=M=>{if(!M||typeof M.getCoordinates!="function")return[];const F=M.getCoordinates();return M.getType()==="Polygon"&&Array.isArray(F)&&Array.isArray(F[0])?F[0]:M.getType()==="MultiPolygon"&&Array.isArray(F)&&Array.isArray(F[0])&&Array.isArray(F[0][0])?F[0][0]:[]};return{activateEditMode:p,clearEdit:S,getEditedFeature:b,activateDeleteMode:v,disableDeleteMode:w}}function A9(t,e=()=>{}){const n=iG(),r=P9(t,{setMode:n.setMode,setArea:n.setArea,setTooltipText:n.setTooltipText}),i=k9(t,{setMode:n.setMode},e);return{...n,...r,...i}}function M9(){const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[u,d]=_.useState(!1),[h,f]=_.useState(""),[p,y]=_.useState(!1),[v,w]=_.useState(!1),[S,b]=_.useState(null),[R,T]=_.useState([]),[P,k]=_.useState(!1),{mapRef:M,ready:F}=_.useContext(bd),{campoSeleccionado:I,setCampoSeleccionado:z,lastCampoId:W}=_.useContext(Ed),{campos:V,parcelas:X,formData:G,setFormData:te,setParcelas:J,setAreaCampo:$,setAreaParcela:D}=nv(),{enableDraw:j,disableDraw:U,cancelDraw:Y,endPolygon:N,removeLastPoint:L,canFinish:ne,closedBySnap:ie,firstVertexDraw:ce,activateDeleteMode:ge,disableDeleteMode:ae,activateEditMode:pe,clearEdit:we,getEditedFeature:be,getCreatedFeature:$e,polygonMode:Be}=A9(M,()=>{var ye;const se=(ye=be())==null?void 0:ye.getGeometry();se&&D(Tu(se))}),{setFeaturesOnMap:_t,clearParcelas:pt}=Hv({mapRef:M,parcelas:X,formData:G,clearEdit:we,activateEditMode:pe,getCreatedFeature:$e,setFormData:te,setAreaCampo:$,setAreaParcela:D,onSelectFeature:(se,ye)=>{b(R.find(De=>De.parcela_id===ye.id)||null),w(!1)}});Xv(()=>{we(),U(),ae(),te(se=>({...se,parcela_id:"",nombre:"",descripcion:""}))});const Dt=()=>{we(),U(),ae(),pt(),l(!1),r(!1),e(!1)},Vt=()=>["edit","draw-edit"].includes(bi.modeRef.current)?be():$e(),zt=se=>{const{name:ye,value:De}=se.target;if(ye==="campo_id"){if(De===G.campo_id)return;Dt();const Ve=V[De];Ve&&M.current&&M.current.getView().animate({center:Ao([Ve.lon,Ve.lat]),duration:800,easing:Pr}),z(De),te({campo_id:De,parcela_id:"",nombre:"",descripcion:""}),D(0)}else te(Ve=>({...Ve,[ye]:De}))},On=async()=>{if(!G.campo_id||!G.nombre){f("Todos los campos son obligatorios."),d(!0);return}const se=Vt();if(!se){f("Debe crear o seleccionar una parcela."),d(!0);return}const ye=new mk,De=se.clone();De.getGeometry().transform("EPSG:3857","EPSG:4326");const Ve=ye.writeFeatureObject(De,{featureProjection:"EPSG:4326"});try{G.parcela_id?await D6(G.parcela_id,Ve,G.nombre,G.descripcion):await L6({campo_id:G.campo_id,nombre:G.nombre,descripcion:G.descripcion,perimetro_geojson:Ve});const yt=await Na();J(yt.parcelas),te($t=>({...$t,parcela_id:"",nombre:"",descripcion:""})),Dt(),D(0),w(!1),b(null)}catch(yt){console.error("Error al guardar:",yt)}},Tt=()=>{G.parcela_id&&y(!0)},B=async()=>{y(!1),w(!1);try{await O6(G.parcela_id);const se=await Na();J(se.parcelas),te(ye=>({...ye,parcela_id:"",nombre:"",descripcion:""})),D(0)}catch(se){console.error("Error al eliminar parcela:",se)}},Z=()=>{N(),l(!0),r(!0)},ee=()=>{Y(),we(),l(!1),r(!1)},he=()=>{we(),ae(),e(!1),l(!1),r(!1),w(!1),b(null),te(se=>({...se,parcela_id:"",nombre:"",descripcion:""})),D(0)},fe=()=>{s(se=>!se),i||window.dispatchEvent(new Event("closeCampoSelector"))};return _.useEffect(()=>{Dt(),bi.onFinishCallback.current=se=>{if(se){l(!0),r(!0),pe(se,"draw-edit"),te(De=>({...De,parcela_id:""}));const ye=se.getGeometry();ye&&D(Tu(ye))}}},[]),_.useEffect(()=>{!F||!G.campo_id||_t()},[F,G.campo_id,G.parcela_id,X]),_.useEffect(()=>{I&&I!==G.campo_id&&V[I]&&(te(se=>({...se,campo_id:I,parcela_id:"",nombre:"",descripcion:""})),D(0))},[I]),_.useEffect(()=>{!G.campo_id&&!I&&W&&V[W]&&(z(W),te(se=>({...se,campo_id:W,parcela_id:"",nombre:"",descripcion:""})),D(0))},[]),_.useEffect(()=>{I||!G.campo_id||!V[G.campo_id]||(z(G.campo_id),M.current.getView().animate({center:Ao([V[G.campo_id].lon,V[G.campo_id].lat]),duration:800,easing:Pr}))},[G.campo_id,I]),_.useEffect(()=>{const se=()=>s(!1);return window.addEventListener("closeForm",se),()=>window.removeEventListener("closeForm",se)},[]),_.useEffect(()=>{(async()=>{if(k(!1),!!G.campo_id)try{const ye=await j6(G.campo_id);T(ye),k(!0)}catch(ye){console.error("Error al cargar resumen de parcelas:",ye),k(!0)}})()},[G.campo_id]),_.useEffect(()=>{const se=()=>{w(!1),b(null)};return window.addEventListener("cerrarPopupResumen",se),()=>{window.removeEventListener("cerrarPopupResumen",se)}},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[G.parcela_id&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>w(se=>!se),className:`bg-white p-3 rounded-full shadow-md transition-colors ${S?"hover:bg-gray-100":"opacity-50 cursor-not-allowed"}`,disabled:!S,title:S?"Ver resumen":"Seleccion una parcela primero",children:g.jsx(wi,{className:"w-6 h-6"})}),g.jsx("button",{onClick:Tt,className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(qV,{className:"w-6 h-6"})})]}),g.jsx("button",{className:"bg-white p-3 rounded-full shadow-md transition-all duration-300",onClick:fe,children:g.jsx(QV,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${i?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx(z6,{campos:V,formData:G,onChange:zt})}),g.jsxs("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:[g.jsx(B6,{mode:Be,isDeleteMode:t,onToggleDeleteMode:()=>{e(se=>!se),t?ae():ge()},onCancel:he,onSave:On,showCancel:G.parcela_id!==""}),G.parcela_id===""&&i&&g.jsx(V6,{open:n,setOpen:r,onStart:j,onFinish:Z,onUndo:L,onCancel:ee,canFinish:ne,closedBySnap:ie,firstVertexDraw:ce,finished:o})]}),g.jsx(T9,{visible:v,resumen:S,onClose:()=>w(!1)}),g.jsx(xv,{isOpen:u,message:h,onClose:()=>d(!1)}),g.jsx(da,{isOpen:p,title:"Eliminar parcela",message:"Esta accin eliminar la parcela seleccionada. Deses continuar?",onCancel:()=>y(!1),onConfirm:B,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})}async function I9(t){const e=await At("/api/campos/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear campo")}return await e.json()}async function N9(t,e){const n=await At(`/api/campos/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar campo")}return await n.json()}async function F9(t){const e=await At(`/api/campos/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar el campo");return await e.json()}function dR(t){const e=new rr({geometry:new Tr(t)});e.setStyle(new on({image:new eg({src:"/dist/map_pin.svg",anchor:[.5,1],scale:1})}));const n=new js({features:[e]}),r=new cs({source:n,zIndex:1e3});return{feature:e,layer:r}}function j9(t){const e=document.createElement("div");e.className="ripple-effect",e.style.left=`${t.clientX}px`,e.style.top=`${t.clientY}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),600)}function L9(t){const e=_.useRef(null);return{colocarMarcadorGps:(s,o)=>{if(!t.current||!(s!=null&&s.coordinate))return;j9(s.originalEvent);const l=s.coordinate,[u,d]=QP(l);o(f=>({...f,lat:d,lon:u})),e.current&&t.current.removeLayer(e.current);const{layer:h}=dR(l);e.current=h,t.current.addLayer(h)},moverMarcadorGps:(s,o)=>{var p,y,v,w;if(!t.current)return;const l=Wm([s,o]),u=(v=(y=(p=e.current)==null?void 0:p.getSource())==null?void 0:y.getFeatures())==null?void 0:v[0],d=(w=u==null?void 0:u.getGeometry())==null?void 0:w.getCoordinates();if(d&&Math.abs(d[0]-l[0])<.001&&Math.abs(d[1]-l[1])<.001)return;e.current&&t.current.removeLayer(e.current);const{layer:f}=dR(l);e.current=f,t.current.addLayer(f)},limpiarMarcadorGps:()=>{e.current&&t.current&&(t.current.removeLayer(e.current),e.current=null)},markerLayerRef:e}}function D9(){const[t,e]=_.useState({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[u,d]=_.useState(""),{mapRef:h,ready:f}=_.useContext(bd),{campoSeleccionado:p,setCampoSeleccionado:y,setLastCampoId:v}=_.useContext(Ed),{campos:w,parcelas:S,setFormData:b,setCampos:R,setParcelas:T,setAreaCampo:P,setAreaParcela:k}=nv(),{colocarMarcadorGps:M,moverMarcadorGps:F,limpiarMarcadorGps:I}=L9(h),{setFeaturesOnMap:z,clearParcelas:W}=Hv({mapRef:h,parcelas:S,formData:t,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:e,setAreaCampo:P,setAreaParcela:k,enabled:!0,modoVisualizacionCampo:!0});Xv(()=>{I(),W()});const V=D=>{const{name:j,value:U}=D.target;if(j==="campo_id"&&U===""){p&&v(p),I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}if(j==="campo_id"){if(U===""){I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}const Y=w[U];Y&&(y(U),e({campo_id:U,nombre:Y.nombre,descripcion:Y.descripcion||"",lat:Y.lat,lon:Y.lon}),b(N=>({...N,campo_id:U,parcela_id:"",nombre:"",descripcion:""})),r(!0),h.current&&(h.current.getView().animate({center:Ao([Y.lon,Y.lat]),duration:800,easing:Pr}),F(Y.lon,Y.lat)));return}e(Y=>({...Y,[j]:U}))},X=async()=>{const{campo_id:D,nombre:j,descripcion:U,lat:Y,lon:N}=t;if(!j||!U||!Y||!N){d("Todos los campos son obligatorios."),l(!0);return}try{D?await N9(D,{nombre:j,descripcion:U,lat:Y,lon:N}):await I9({nombre:j,descripcion:U,lat:Y,lon:N});const L=await Na();R(L.campos),T(L.parcelas);const ne=Object.entries(L.campos).find(([ie,ce])=>ce.nombre===j&&ce.lat===Y&&ce.lon===N);if(ne){const[ie,ce]=ne;y(ie),e({campo_id:ie,nombre:ce.nombre,descripcion:ce.descripcion||"",lat:ce.lat,lon:ce.lon}),G(ce)}}catch(L){console.error("Error al guardar campo:",L)}},G=D=>{h.current&&(h.current.getView().animate({center:Ao([D.lon,D.lat]),duration:800,easing:Pr}),F(D.lon,D.lat))},te=()=>s(!0),J=async()=>{if(s(!1),!!t.campo_id)try{await F9(t.campo_id);const D=await Na();R(D.campos),T(D.parcelas),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),I()}catch(D){console.error("Error al eliminar campo:",D)}};_.useEffect(()=>{!f||!t.campo_id||z()},[f,t.campo_id,S]),_.useEffect(()=>{t.lat&&t.lon&&f&&h.current&&F(t.lon,t.lat)},[t.lat,t.lon,f]),_.useEffect(()=>{if(!f||!h.current)return;const D=h.current,j=U=>M(U,e);return D.on("click",j),()=>D.un("click",j)},[f]),_.useEffect(()=>{if(p&&p!==t.campo_id&&w[p]){const D=w[p];e({campo_id:p,nombre:D.nombre,descripcion:D.descripcion||"",lat:D.lat,lon:D.lon}),f&&h.current&&F(D.lon,D.lat)}},[p]);const $=()=>{r(D=>!D),n||window.dispatchEvent(new CustomEvent("closeCampoSelector"))};return _.useEffect(()=>{const D=()=>r(!1);return window.addEventListener("closeForm",D),()=>window.removeEventListener("closeForm",D)},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[t.campo_id&&g.jsx("button",{onClick:te,title:"Eliminar campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(r4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:$,title:"Mostrar formulario",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(t4,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${n?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx($6,{campos:w,formData:t,onChange:V})}),(n||t.campo_id!=="")&&g.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:g.jsx("button",{onClick:X,className:"bg-white p-3 rounded-full shadow-md",title:"Guardar campo",children:g.jsx(UT,{className:"w-6 h-6"})})}),g.jsx(da,{isOpen:i,title:"Eliminar campo",message:"Esta accin no se puede deshacer. Deses continuar?",onCancel:()=>s(!1),onConfirm:J,confirmLabel:"Eliminar",cancelLabel:"Cancelar"}),g.jsx(xv,{isOpen:o,message:u,onClose:()=>l(!1)})]})}async function O9(){const t=await At("/api/collares/");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener todos los collares.")}return await t.json()}async function V9(){const t=await At("/api/collares/states");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los estados de collar.")}return await t.json()}async function z9(){const t=await At("/api/collares/available");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los collares disponibles.")}return await t.json()}async function $9(t){const e=await At(`/api/collares/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al eliminar collar.")}return await e.json()}const B9=async t=>{const e=await At("/api/collares/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log(e),!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear collares en lote.")}return e.json()},G9=async(t,e)=>{const n=await At(`/api/collares/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar collar.")}return n.json()},U9=async t=>{const e=await At(`/api/collares/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al obtener detalles del collar.")}return e.json()},hR=async(t,e)=>{const n=await At(`/api/collares/${t}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({animal_id:e})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al manejar la asignacin del collar.")}return n.json()};async function FM(){const t=await At("/api/collares/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de collares.")}return t.blob()}async function W9(t,e={}){const n=new URLSearchParams({type:t});e.globalFilter&&n.append("globalFilter",e.globalFilter),e.ids&&e.ids.length>0&&n.append("ids",e.ids.join(","));const r=await At(`/api/collares/export?${n.toString()}`);if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al exportar collares.")}return r.blob()}async function H9(t){const e=new FormData;e.append("file",t);const n=await At("/api/collares/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar collares.")}return await n.json()}var Ad=t=>t.type==="checkbox",_a=t=>t instanceof Date,cr=t=>t==null;const jM=t=>typeof t=="object";var hn=t=>!cr(t)&&!Array.isArray(t)&&jM(t)&&!_a(t),LM=t=>hn(t)&&t.target?Ad(t.target)?t.target.checked:t.target.value:t,X9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DM=(t,e)=>t.has(X9(e)),K9=t=>{const e=t.constructor&&t.constructor.prototype;return hn(e)&&e.hasOwnProperty("isPrototypeOf")},L_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $n(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(L_&&(t instanceof Blob||r))&&(n||hn(t)))if(e=n?[]:{},!n&&!K9(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=$n(t[i]));else return t;return e}var ag=t=>Array.isArray(t)?t.filter(Boolean):[],dn=t=>t===void 0,Se=(t,e,n)=>{if(!e||!hn(t))return n;const r=ag(e.split(/[,[\].]+?/)).reduce((i,s)=>cr(i)?i:i[s],t);return dn(r)||r===t?dn(t[e])?n:t[e]:r},Lr=t=>typeof t=="boolean",D_=t=>/^\w*$/.test(t),OM=t=>ag(t.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(t,e,n)=>{let r=-1;const i=D_(e)?[e]:OM(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==o){const d=t[l];u=hn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const lm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},VM=le.createContext(null),lg=()=>le.useContext(VM),Y9=t=>{const{children:e,...n}=t;return le.createElement(VM.Provider,{value:n},e)};var zM=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ei.all&&(e._proxyFormState[o]=!r||Ei.all),n&&(n[o]=!0),t[o]}});return i};const O_=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Z9(t){const e=lg(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,l]=le.useState(n._formState),u=le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return O_(()=>n._subscribe({name:i,formState:u.current,exact:s,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,s]),le.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),le.useMemo(()=>zM(o,n,u.current,!1),[o,n])}var es=t=>typeof t=="string",$M=(t,e,n,r,i)=>es(t)?(r&&e.watch.add(t),Se(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Se(n,s))):(r&&(e.watchAll=!0),n);function q9(t){const e=lg(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},l=le.useRef(i),[u,d]=le.useState(n._getWatch(r,l.current));return O_(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:h=>!s&&d($M(r,n._names,h.values||n._formValues,!1,l.current))}),[r,n,s,o]),le.useEffect(()=>n._removeUnmounted()),u}function J9(t){const e=lg(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=DM(i._names.array,n),l=q9({control:i,name:n,defaultValue:Se(i._formValues,n,Se(i._defaultValues,n,t.defaultValue)),exact:!0}),u=Z9({control:i,name:n,exact:!0}),d=le.useRef(t),h=le.useRef(i.register(n,{...t.rules,value:l,...Lr(t.disabled)?{disabled:t.disabled}:{}})),f=le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Se(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Se(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Se(u.validatingFields,n)},error:{enumerable:!0,get:()=>Se(u.errors,n)}}),[u,n]),p=le.useCallback(S=>h.current.onChange({target:{value:LM(S),name:n},type:lm.CHANGE}),[n]),y=le.useCallback(()=>h.current.onBlur({target:{value:Se(i._formValues,n),name:n},type:lm.BLUR}),[n,i._formValues]),v=le.useCallback(S=>{const b=Se(i._fields,n);b&&S&&(b._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:R=>S.setCustomValidity(R),reportValidity:()=>S.reportValidity()})},[i._fields,n]),w=le.useMemo(()=>({name:n,value:l,...Lr(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:p,onBlur:y,ref:v}),[n,r,u.disabled,p,y,v,l]);return le.useEffect(()=>{const S=i._options.shouldUnregister||s;i.register(n,{...d.current.rules,...Lr(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(R,T)=>{const P=Se(i._fields,R);P&&P._f&&(P._f.mount=T)};if(b(n,!0),S){const R=$n(Se(i._options.defaultValues,n));kt(i._defaultValues,n,R),dn(Se(i._formValues,n))&&kt(i._formValues,n,R)}return!o&&i.register(n),()=>{(o?S&&!i._state.action:S)?i.unregister(n):b(n,!1)}},[n,i,o,s]),le.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),le.useMemo(()=>({field:w,formState:u,fieldState:f}),[w,u,f])}const Q9=t=>t.render(J9(t));var BM=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Fu=t=>Array.isArray(t)?t:[t],fR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},xx=t=>cr(t)||!jM(t);function vo(t,e){if(xx(t)||xx(e))return t===e;if(_a(t)&&_a(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(_a(s)&&_a(o)||hn(s)&&hn(o)||Array.isArray(s)&&Array.isArray(o)?!vo(s,o):s!==o)return!1}}return!0}var Sr=t=>hn(t)&&!Object.keys(t).length,V_=t=>t.type==="file",Ri=t=>typeof t=="function",cm=t=>{if(!L_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},GM=t=>t.type==="select-multiple",z_=t=>t.type==="radio",e7=t=>z_(t)||Ad(t),n0=t=>cm(t)&&t.isConnected;function t7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=dn(t)?r++:t[e[r++]];return t}function n7(t){for(const e in t)if(t.hasOwnProperty(e)&&!dn(t[e]))return!1;return!0}function En(t,e){const n=Array.isArray(e)?e:D_(e)?[e]:OM(e),r=n.length===1?t:t7(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(hn(r)&&Sr(r)||Array.isArray(r)&&n7(r))&&En(t,n.slice(0,-1)),t}var UM=t=>{for(const e in t)if(Ri(t[e]))return!0;return!1};function um(t,e={}){const n=Array.isArray(t);if(hn(t)||n)for(const r in t)Array.isArray(t[r])||hn(t[r])&&!UM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},um(t[r],e[r])):cr(t[r])||(e[r]=!0);return e}function WM(t,e,n){const r=Array.isArray(t);if(hn(t)||r)for(const i in t)Array.isArray(t[i])||hn(t[i])&&!UM(t[i])?dn(e)||xx(n[i])?n[i]=Array.isArray(t[i])?um(t[i],[]):{...um(t[i])}:WM(t[i],cr(e)?{}:e[i],n[i]):n[i]=!vo(t[i],e[i]);return n}var fu=(t,e)=>WM(t,e,um(e));const mR={value:!1,isValid:!1},gR={value:!0,isValid:!0};var HM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dn(t[0].attributes.value)?dn(t[0].value)||t[0].value===""?gR:{value:t[0].value,isValid:!0}:gR:mR}return mR},XM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>dn(t)?t:e?t===""?NaN:t&&+t:n&&es(t)?new Date(t):r?r(t):t;const pR={isValid:!1,value:null};var KM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,pR):pR;function yR(t){const e=t.ref;return V_(e)?e.files:z_(e)?KM(t.refs).value:GM(e)?[...e.selectedOptions].map(({value:n})=>n):Ad(e)?HM(t.refs).value:XM(dn(e.value)?t.ref.value:e.value,t)}var r7=(t,e,n,r)=>{const i={};for(const s of t){const o=Se(e,s);o&&kt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},dm=t=>t instanceof RegExp,mu=t=>dn(t)?t:dm(t)?t.source:hn(t)?dm(t.value)?t.value.source:t.value:t,xR=t=>({isOnSubmit:!t||t===Ei.onSubmit,isOnBlur:t===Ei.onBlur,isOnChange:t===Ei.onChange,isOnAll:t===Ei.all,isOnTouch:t===Ei.onTouched});const vR="AsyncFunction";var i7=t=>!!t&&!!t.validate&&!!(Ri(t.validate)&&t.validate.constructor.name===vR||hn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vR)),s7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),_R=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ju=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Se(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ju(l,e))break}else if(hn(l)&&ju(l,e))break}}};function wR(t,e,n){const r=Se(t,n);if(r||D_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Se(e,s),l=Se(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var o7=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Sr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Ei.all))},a7=(t,e,n)=>!t||!e||t===e||Fu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),l7=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,c7=(t,e)=>!ag(Se(t,e)).length&&En(t,e),u7=(t,e,n)=>{const r=Fu(Se(t,n));return kt(r,"root",e[n]),kt(t,n,r),t},Ff=t=>es(t);function SR(t,e,n="validate"){if(Ff(t)||Array.isArray(t)&&t.every(Ff)||Lr(t)&&!t)return{type:n,message:Ff(t)?t:"",ref:e}}var wl=t=>hn(t)&&!dm(t)?t:{value:t,message:""},CR=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:u,maxLength:d,minLength:h,min:f,max:p,pattern:y,validate:v,name:w,valueAsNumber:S,mount:b}=t._f,R=Se(n,w);if(!b||e.has(w))return{};const T=l?l[0]:o,P=X=>{i&&T.reportValidity&&(T.setCustomValidity(Lr(X)?"":X||""),T.reportValidity())},k={},M=z_(o),F=Ad(o),I=M||F,z=(S||V_(o))&&dn(o.value)&&dn(R)||cm(o)&&o.value===""||R===""||Array.isArray(R)&&!R.length,W=BM.bind(null,w,r,k),V=(X,G,te,J=bs.maxLength,$=bs.minLength)=>{const D=X?G:te;k[w]={type:X?J:$,message:D,ref:o,...W(X?J:$,D)}};if(s?!Array.isArray(R)||!R.length:u&&(!I&&(z||cr(R))||Lr(R)&&!R||F&&!HM(l).isValid||M&&!KM(l).isValid)){const{value:X,message:G}=Ff(u)?{value:!!u,message:u}:wl(u);if(X&&(k[w]={type:bs.required,message:G,ref:T,...W(bs.required,G)},!r))return P(G),k}if(!z&&(!cr(f)||!cr(p))){let X,G;const te=wl(p),J=wl(f);if(!cr(R)&&!isNaN(R)){const $=o.valueAsNumber||R&&+R;cr(te.value)||(X=$>te.value),cr(J.value)||(G=$<J.value)}else{const $=o.valueAsDate||new Date(R),D=Y=>new Date(new Date().toDateString()+" "+Y),j=o.type=="time",U=o.type=="week";es(te.value)&&R&&(X=j?D(R)>D(te.value):U?R>te.value:$>new Date(te.value)),es(J.value)&&R&&(G=j?D(R)<D(J.value):U?R<J.value:$<new Date(J.value))}if((X||G)&&(V(!!X,te.message,J.message,bs.max,bs.min),!r))return P(k[w].message),k}if((d||h)&&!z&&(es(R)||s&&Array.isArray(R))){const X=wl(d),G=wl(h),te=!cr(X.value)&&R.length>+X.value,J=!cr(G.value)&&R.length<+G.value;if((te||J)&&(V(te,X.message,G.message),!r))return P(k[w].message),k}if(y&&!z&&es(R)){const{value:X,message:G}=wl(y);if(dm(X)&&!R.match(X)&&(k[w]={type:bs.pattern,message:G,ref:o,...W(bs.pattern,G)},!r))return P(G),k}if(v){if(Ri(v)){const X=await v(R,n),G=SR(X,T);if(G&&(k[w]={...G,...W(bs.validate,G.message)},!r))return P(G.message),k}else if(hn(v)){let X={};for(const G in v){if(!Sr(X)&&!r)break;const te=SR(await v[G](R,n),T,G);te&&(X={...te,...W(G,te.message)},P(te.message),r&&(k[w]=X))}if(!Sr(X)&&(k[w]={ref:T,...X},!r))return k}}return P(!0),k};const d7={mode:Ei.onSubmit,reValidateMode:Ei.onChange,shouldFocusError:!0};function h7(t={}){let e={...d7,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ri(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=hn(e.defaultValues)||hn(e.values)?$n(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:$n(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const p={array:fR(),state:fR()},y=e.criteriaMode===Ei.all,v=B=>Z=>{clearTimeout(d),d=setTimeout(B,Z)},w=async B=>{if(!e.disabled&&(h.isValid||f.isValid||B)){const Z=e.resolver?Sr((await F()).errors):await z(r,!0);Z!==n.isValid&&p.state.next({isValid:Z})}},S=(B,Z)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((B||Array.from(l.mount)).forEach(ee=>{ee&&(Z?kt(n.validatingFields,ee,Z):En(n.validatingFields,ee))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Sr(n.validatingFields)}))},b=(B,Z=[],ee,he,fe=!0,se=!0)=>{if(he&&ee&&!e.disabled){if(o.action=!0,se&&Array.isArray(Se(r,B))){const ye=ee(Se(r,B),he.argA,he.argB);fe&&kt(r,B,ye)}if(se&&Array.isArray(Se(n.errors,B))){const ye=ee(Se(n.errors,B),he.argA,he.argB);fe&&kt(n.errors,B,ye),c7(n.errors,B)}if((h.touchedFields||f.touchedFields)&&se&&Array.isArray(Se(n.touchedFields,B))){const ye=ee(Se(n.touchedFields,B),he.argA,he.argB);fe&&kt(n.touchedFields,B,ye)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=fu(i,s)),p.state.next({name:B,isDirty:V(B,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kt(s,B,Z)},R=(B,Z)=>{kt(n.errors,B,Z),p.state.next({errors:n.errors})},T=B=>{n.errors=B,p.state.next({errors:n.errors,isValid:!1})},P=(B,Z,ee,he)=>{const fe=Se(r,B);if(fe){const se=Se(s,B,dn(ee)?Se(i,B):ee);dn(se)||he&&he.defaultChecked||Z?kt(s,B,Z?se:yR(fe._f)):te(B,se),o.mount&&w()}},k=(B,Z,ee,he,fe)=>{let se=!1,ye=!1;const De={name:B};if(!e.disabled){if(!ee||he){(h.isDirty||f.isDirty)&&(ye=n.isDirty,n.isDirty=De.isDirty=V(),se=ye!==De.isDirty);const Ve=vo(Se(i,B),Z);ye=!!Se(n.dirtyFields,B),Ve?En(n.dirtyFields,B):kt(n.dirtyFields,B,!0),De.dirtyFields=n.dirtyFields,se=se||(h.dirtyFields||f.dirtyFields)&&ye!==!Ve}if(ee){const Ve=Se(n.touchedFields,B);Ve||(kt(n.touchedFields,B,ee),De.touchedFields=n.touchedFields,se=se||(h.touchedFields||f.touchedFields)&&Ve!==ee)}se&&fe&&p.state.next(De)}return se?De:{}},M=(B,Z,ee,he)=>{const fe=Se(n.errors,B),se=(h.isValid||f.isValid)&&Lr(Z)&&n.isValid!==Z;if(e.delayError&&ee?(u=v(()=>R(B,ee)),u(e.delayError)):(clearTimeout(d),u=null,ee?kt(n.errors,B,ee):En(n.errors,B)),(ee?!vo(fe,ee):fe)||!Sr(he)||se){const ye={...he,...se&&Lr(Z)?{isValid:Z}:{},errors:n.errors,name:B};n={...n,...ye},p.state.next(ye)}},F=async B=>{S(B,!0);const Z=await e.resolver(s,e.context,r7(B||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(B),Z},I=async B=>{const{errors:Z}=await F(B);if(B)for(const ee of B){const he=Se(Z,ee);he?kt(n.errors,ee,he):En(n.errors,ee)}else n.errors=Z;return Z},z=async(B,Z,ee={valid:!0})=>{for(const he in B){const fe=B[he];if(fe){const{_f:se,...ye}=fe;if(se){const De=l.array.has(se.name),Ve=fe._f&&i7(fe._f);Ve&&h.validatingFields&&S([he],!0);const yt=await CR(fe,l.disabled,s,y,e.shouldUseNativeValidation&&!Z,De);if(Ve&&h.validatingFields&&S([he]),yt[se.name]&&(ee.valid=!1,Z))break;!Z&&(Se(yt,se.name)?De?u7(n.errors,yt,se.name):kt(n.errors,se.name,yt[se.name]):En(n.errors,se.name))}!Sr(ye)&&await z(ye,Z,ee)}}return ee.valid},W=()=>{for(const B of l.unMount){const Z=Se(r,B);Z&&(Z._f.refs?Z._f.refs.every(ee=>!n0(ee)):!n0(Z._f.ref))&&ae(B)}l.unMount=new Set},V=(B,Z)=>!e.disabled&&(B&&Z&&kt(s,B,Z),!vo(Y(),i)),X=(B,Z,ee)=>$M(B,l,{...o.mount?s:dn(Z)?i:es(B)?{[B]:Z}:Z},ee,Z),G=B=>ag(Se(o.mount?s:i,B,e.shouldUnregister?Se(i,B,[]):[])),te=(B,Z,ee={})=>{const he=Se(r,B);let fe=Z;if(he){const se=he._f;se&&(!se.disabled&&kt(s,B,XM(Z,se)),fe=cm(se.ref)&&cr(Z)?"":Z,GM(se.ref)?[...se.ref.options].forEach(ye=>ye.selected=fe.includes(ye.value)):se.refs?Ad(se.ref)?se.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(fe)?ye.checked=!!fe.find(De=>De===ye.value):ye.checked=fe===ye.value||!!fe)}):se.refs.forEach(ye=>ye.checked=ye.value===fe):V_(se.ref)?se.ref.value="":(se.ref.value=fe,se.ref.type||p.state.next({name:B,values:$n(s)})))}(ee.shouldDirty||ee.shouldTouch)&&k(B,fe,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&U(B)},J=(B,Z,ee)=>{for(const he in Z){if(!Z.hasOwnProperty(he))return;const fe=Z[he],se=B+"."+he,ye=Se(r,se);(l.array.has(B)||hn(fe)||ye&&!ye._f)&&!_a(fe)?J(se,fe,ee):te(se,fe,ee)}},$=(B,Z,ee={})=>{const he=Se(r,B),fe=l.array.has(B),se=$n(Z);kt(s,B,se),fe?(p.array.next({name:B,values:$n(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&ee.shouldDirty&&p.state.next({name:B,dirtyFields:fu(i,s),isDirty:V(B,se)})):he&&!he._f&&!cr(se)?J(B,se,ee):te(B,se,ee),_R(B,l)&&p.state.next({...n}),p.state.next({name:o.mount?B:void 0,values:$n(s)})},D=async B=>{o.mount=!0;const Z=B.target;let ee=Z.name,he=!0;const fe=Se(r,ee),se=Ve=>{he=Number.isNaN(Ve)||_a(Ve)&&isNaN(Ve.getTime())||vo(Ve,Se(s,ee,Ve))},ye=xR(e.mode),De=xR(e.reValidateMode);if(fe){let Ve,yt;const $t=Z.type?yR(fe._f):LM(B),mt=B.type===lm.BLUR||B.type===lm.FOCUS_OUT,Wn=!s7(fe._f)&&!e.resolver&&!Se(n.errors,ee)&&!fe._f.deps||l7(mt,Se(n.touchedFields,ee),n.isSubmitted,De,ye),Hr=_R(ee,l,mt);kt(s,ee,$t),mt?(fe._f.onBlur&&fe._f.onBlur(B),u&&u(0)):fe._f.onChange&&fe._f.onChange(B);const kr=k(ee,$t,mt),Xr=!Sr(kr)||Hr;if(!mt&&p.state.next({name:ee,type:B.type,values:$n(s)}),Wn)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?mt&&w():mt||w()),Xr&&p.state.next({name:ee,...Hr?{}:kr});if(!mt&&Hr&&p.state.next({...n}),e.resolver){const{errors:or}=await F([ee]);if(se($t),he){const Pe=wR(n.errors,r,ee),xe=wR(or,r,Pe.name||ee);Ve=xe.error,ee=xe.name,yt=Sr(or)}}else S([ee],!0),Ve=(await CR(fe,l.disabled,s,y,e.shouldUseNativeValidation))[ee],S([ee]),se($t),he&&(Ve?yt=!1:(h.isValid||f.isValid)&&(yt=await z(r,!0)));he&&(fe._f.deps&&U(fe._f.deps),M(ee,yt,Ve,kr))}},j=(B,Z)=>{if(Se(n.errors,Z)&&B.focus)return B.focus(),1},U=async(B,Z={})=>{let ee,he;const fe=Fu(B);if(e.resolver){const se=await I(dn(B)?B:fe);ee=Sr(se),he=B?!fe.some(ye=>Se(se,ye)):ee}else B?(he=(await Promise.all(fe.map(async se=>{const ye=Se(r,se);return await z(ye&&ye._f?{[se]:ye}:ye)}))).every(Boolean),!(!he&&!n.isValid)&&w()):he=ee=await z(r);return p.state.next({...!es(B)||(h.isValid||f.isValid)&&ee!==n.isValid?{}:{name:B},...e.resolver||!B?{isValid:ee}:{},errors:n.errors}),Z.shouldFocus&&!he&&ju(r,j,B?fe:l.mount),he},Y=B=>{const Z={...o.mount?s:i};return dn(B)?Z:es(B)?Se(Z,B):B.map(ee=>Se(Z,ee))},N=(B,Z)=>({invalid:!!Se((Z||n).errors,B),isDirty:!!Se((Z||n).dirtyFields,B),error:Se((Z||n).errors,B),isValidating:!!Se(n.validatingFields,B),isTouched:!!Se((Z||n).touchedFields,B)}),L=B=>{B&&Fu(B).forEach(Z=>En(n.errors,Z)),p.state.next({errors:B?n.errors:{}})},ne=(B,Z,ee)=>{const he=(Se(r,B,{_f:{}})._f||{}).ref,fe=Se(n.errors,B)||{},{ref:se,message:ye,type:De,...Ve}=fe;kt(n.errors,B,{...Ve,...Z,ref:he}),p.state.next({name:B,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&he&&he.focus&&he.focus()},ie=(B,Z)=>Ri(B)?p.state.subscribe({next:ee=>B(X(void 0,Z),ee)}):X(B,Z,!0),ce=B=>p.state.subscribe({next:Z=>{a7(B.name,Z.name,B.exact)&&o7(Z,B.formState||h,zt,B.reRenderRoot)&&B.callback({values:{...s},...n,...Z})}}).unsubscribe,ge=B=>(o.mount=!0,f={...f,...B.formState},ce({...B,formState:f})),ae=(B,Z={})=>{for(const ee of B?Fu(B):l.mount)l.mount.delete(ee),l.array.delete(ee),Z.keepValue||(En(r,ee),En(s,ee)),!Z.keepError&&En(n.errors,ee),!Z.keepDirty&&En(n.dirtyFields,ee),!Z.keepTouched&&En(n.touchedFields,ee),!Z.keepIsValidating&&En(n.validatingFields,ee),!e.shouldUnregister&&!Z.keepDefaultValue&&En(i,ee);p.state.next({values:$n(s)}),p.state.next({...n,...Z.keepDirty?{isDirty:V()}:{}}),!Z.keepIsValid&&w()},pe=({disabled:B,name:Z})=>{(Lr(B)&&o.mount||B||l.disabled.has(Z))&&(B?l.disabled.add(Z):l.disabled.delete(Z))},we=(B,Z={})=>{let ee=Se(r,B);const he=Lr(Z.disabled)||Lr(e.disabled);return kt(r,B,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:B}},name:B,mount:!0,...Z}}),l.mount.add(B),ee?pe({disabled:Lr(Z.disabled)?Z.disabled:e.disabled,name:B}):P(B,!0,Z.value),{...he?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:mu(Z.min),max:mu(Z.max),minLength:mu(Z.minLength),maxLength:mu(Z.maxLength),pattern:mu(Z.pattern)}:{},name:B,onChange:D,onBlur:D,ref:fe=>{if(fe){we(B,Z),ee=Se(r,B);const se=dn(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,ye=e7(se),De=ee._f.refs||[];if(ye?De.find(Ve=>Ve===se):se===ee._f.ref)return;kt(r,B,{_f:{...ee._f,...ye?{refs:[...De.filter(n0),se,...Array.isArray(Se(i,B))?[{}]:[]],ref:{type:se.type,name:B}}:{ref:se}}}),P(B,!1,void 0,se)}else ee=Se(r,B,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(DM(l.array,B)&&o.action)&&l.unMount.add(B)}}},be=()=>e.shouldFocusError&&ju(r,j,l.mount),$e=B=>{Lr(B)&&(p.state.next({disabled:B}),ju(r,(Z,ee)=>{const he=Se(r,ee);he&&(Z.disabled=he._f.disabled||B,Array.isArray(he._f.refs)&&he._f.refs.forEach(fe=>{fe.disabled=he._f.disabled||B}))},0,!1))},Be=(B,Z)=>async ee=>{let he;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let fe=$n(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:ye}=await F();n.errors=se,fe=ye}else await z(r);if(l.disabled.size)for(const se of l.disabled)kt(fe,se,void 0);if(En(n.errors,"root"),Sr(n.errors)){p.state.next({errors:{}});try{await B(fe,ee)}catch(se){he=se}}else Z&&await Z({...n.errors},ee),be(),setTimeout(be);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(n.errors)&&!he,submitCount:n.submitCount+1,errors:n.errors}),he)throw he},_t=(B,Z={})=>{Se(r,B)&&(dn(Z.defaultValue)?$(B,$n(Se(i,B))):($(B,Z.defaultValue),kt(i,B,$n(Z.defaultValue))),Z.keepTouched||En(n.touchedFields,B),Z.keepDirty||(En(n.dirtyFields,B),n.isDirty=Z.defaultValue?V(B,$n(Se(i,B))):V()),Z.keepError||(En(n.errors,B),h.isValid&&w()),p.state.next({...n}))},pt=(B,Z={})=>{const ee=B?$n(B):i,he=$n(ee),fe=Sr(B),se=fe?i:he;if(Z.keepDefaultValues||(i=ee),!Z.keepValues){if(Z.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(fu(i,s))]);for(const De of Array.from(ye))Se(n.dirtyFields,De)?kt(se,De,Se(s,De)):$(De,Se(se,De))}else{if(L_&&dn(B))for(const ye of l.mount){const De=Se(r,ye);if(De&&De._f){const Ve=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(cm(Ve)){const yt=Ve.closest("form");if(yt){yt.reset();break}}}}for(const ye of l.mount)$(ye,Se(se,ye))}s=$n(se),p.array.next({values:{...se}}),p.state.next({values:{...se}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:fe?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!vo(B,i)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:fe?{}:Z.keepDirtyValues?Z.keepDefaultValues&&s?fu(i,s):n.dirtyFields:Z.keepDefaultValues&&B?fu(i,B):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Dt=(B,Z)=>pt(Ri(B)?B(s):B,Z),Vt=(B,Z={})=>{const ee=Se(r,B),he=ee&&ee._f;if(he){const fe=he.refs?he.refs[0]:he.ref;fe.focus&&(fe.focus(),Z.shouldSelect&&Ri(fe.select)&&fe.select())}},zt=B=>{n={...n,...B}},Tt={control:{register:we,unregister:ae,getFieldState:N,handleSubmit:Be,setError:ne,_subscribe:ce,_runSchema:F,_focusError:be,_getWatch:X,_getDirty:V,_setValid:w,_setFieldArray:b,_setDisabledField:pe,_setErrors:T,_getFieldArray:G,_reset:pt,_resetDefaultValues:()=>Ri(e.defaultValues)&&e.defaultValues().then(B=>{Dt(B,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:$e,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(B){o=B},get _defaultValues(){return i},get _names(){return l},set _names(B){l=B},get _formState(){return n},get _options(){return e},set _options(B){e={...e,...B}}},subscribe:ge,trigger:U,register:we,handleSubmit:Be,watch:ie,setValue:$,getValues:Y,reset:Dt,resetField:_t,clearErrors:L,unregister:ae,setError:ne,setFocus:Vt,getFieldState:N};return{...Tt,formControl:Tt}}function $_(t={}){const e=le.useRef(void 0),n=le.useRef(void 0),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:Ri(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ri(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:h7(t),formState:r},t.formControl&&t.defaultValues&&!Ri(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,O_(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),le.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),le.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),le.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),le.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),le.useEffect(()=>{t.values&&!vo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),le.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=zM(r,s),e.current}const bR=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Se(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},YM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?bR(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>bR(i,n,t))}},f7=(t,e)=>{e.shouldUseNativeValidation&&YM(t,e);const n={};for(const r in t){const i=Se(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(m7(e.names||Object.keys(t),r)){const o=Object.assign({},Se(n,r));kt(o,"root",s),kt(n,r,o)}else kt(n,r,s)}return n},m7=(t,e)=>{const n=ER(e);return t.some(r=>ER(r).match(`^${n}\\.\\d+`))};function ER(t){return t.replace(/\]|\[/g,"")}function g7(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var u=n[o].types,d=u&&u[r.code];n[o]=BM(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function B_(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&YM({},s),{errors:{},values:n.raw?Object.assign({},r):d}})}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:f7(g7(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}}var Et;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Et||(Et={}));var RR;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(RR||(RR={}));const Fe=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xo=t=>{switch(typeof t){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(t)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(t)?Fe.array:t===null?Fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Fe.promise:typeof Map<"u"&&t instanceof Map?Fe.map:typeof Set<"u"&&t instanceof Set?Fe.set:typeof Date<"u"&&t instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},_e=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Os extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof Os))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Os.create=t=>new Os(t);const vx=(t,e)=>{let n;switch(t.code){case _e.invalid_type:t.received===Fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case _e.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Et.jsonStringifyReplacer)}`;break;case _e.unrecognized_keys:n=`Unrecognized key(s) in object: ${Et.joinValues(t.keys,", ")}`;break;case _e.invalid_union:n="Invalid input";break;case _e.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Et.joinValues(t.options)}`;break;case _e.invalid_enum_value:n=`Invalid enum value. Expected ${Et.joinValues(t.options)}, received '${t.received}'`;break;case _e.invalid_arguments:n="Invalid function arguments";break;case _e.invalid_return_type:n="Invalid function return type";break;case _e.invalid_date:n="Invalid date";break;case _e.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Et.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case _e.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case _e.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case _e.custom:n="Invalid input";break;case _e.invalid_intersection_types:n="Intersection results could not be merged";break;case _e.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case _e.not_finite:n="Number must be finite";break;default:n=e.defaultError,Et.assertNever(t)}return{message:n}};let p7=vx;function y7(){return p7}const x7=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Re(t,e){const n=y7(),r=x7({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===vx?void 0:vx].filter(i=>!!i)});t.common.issues.push(r)}class Ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return rt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ur.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return rt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const rt=Object.freeze({status:"aborted"}),_u=t=>({status:"dirty",value:t}),oi=t=>({status:"valid",value:t}),TR=t=>t.status==="aborted",PR=t=>t.status==="dirty",ql=t=>t.status==="valid",hm=t=>typeof Promise<"u"&&t instanceof Promise;var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));class No{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kR=(t,e)=>{if(ql(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Os(t.common.issues);return this._error=n,this._error}}};function ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:u??n??l.defaultError}},description:i}}class St{get description(){return this._def.description}_getType(e){return xo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ur,ctx:{common:e.parent.common,data:e.data,parsedType:xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(hm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)},i=this._parseSync({data:e,path:r.path,parent:r});return kR(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return ql(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>ql(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xo(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(hm(i)?i:Promise.resolve(i));return kR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:_e.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ec({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Eo.create(this,this._def)}nullable(){return tc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return os.create(this)}promise(){return pm.create(this,this._def)}or(e){return mm.create([this,e],this._def)}and(e){return gm.create(this,e,this._def)}transform(e){return new ec({...ht(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new bx({...ht(this._def),innerType:this,defaultValue:n,typeName:it.ZodDefault})}brand(){return new $7({typeName:it.ZodBranded,type:this,...ht(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ex({...ht(this._def),innerType:this,catchValue:n,typeName:it.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return G_.create(this,e)}readonly(){return Rx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const v7=/^c[^\s-]{8,}$/i,_7=/^[0-9a-z]+$/,w7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,S7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C7=/^[a-z0-9_-]{21}$/i,b7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,E7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,R7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,T7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let r0;const P7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,k7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,A7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,M7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,I7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,N7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",F7=new RegExp(`^${ZM}$`);function qM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function j7(t){return new RegExp(`^${qM(t)}$`)}function L7(t){let e=`${ZM}T${qM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function D7(t,e){return!!((e==="v4"||!e)&&P7.test(t)||(e==="v6"||!e)&&A7.test(t))}function O7(t,e){if(!b7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function V7(t,e){return!!((e==="v4"||!e)&&k7.test(t)||(e==="v6"||!e)&&M7.test(t))}class As extends St{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.string,received:s.parsedType}),rt}const r=new Ur;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Re(i,{code:_e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Re(i,{code:_e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")R7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"email",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")r0||(r0=new RegExp(T7,"u")),r0.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"emoji",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")S7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"uuid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")C7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"nanoid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")v7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cuid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")_7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cuid2",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")w7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"ulid",code:_e.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Re(i,{validation:"url",code:_e.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"regex",code:_e.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?L7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?F7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?j7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?E7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"duration",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?D7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"ip",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?O7(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"jwt",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?V7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"cidr",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?I7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"base64",code:_e.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?N7.test(e.data)||(i=this._getOrReturnCtx(e,i),Re(i,{validation:"base64url",code:_e.invalid_string,message:s.message}),r.dirty()):Et.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:_e.invalid_string,...Le.errToObj(r)})}_addCheck(e){return new As({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Le.errToObj(n)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new As({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new As({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new As({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}As.create=t=>new As({checks:[],typeName:it.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});function z7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Fa extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.number,received:s.parsedType}),rt}let r;const i=new Ur;for(const s of this._def.checks)s.kind==="int"?Et.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?z7(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_finite,message:s.message}),i.dirty()):Et.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new Fa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Et.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Fa.create=t=>new Fa({checks:[],typeName:it.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class ja extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let r;const i=new Ur;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Re(r,{code:_e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Et.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Re(n,{code:_e.invalid_type,expected:Fe.bigint,received:n.parsedType}),rt}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new ja({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ja.create=t=>new ja({checks:[],typeName:it.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});class fm extends St{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.boolean,received:r.parsedType}),rt}return oi(e.data)}}fm.create=t=>new fm({typeName:it.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class Jl extends St{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_type,expected:Fe.date,received:s.parsedType}),rt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Re(s,{code:_e.invalid_date}),rt}const r=new Ur;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Re(i,{code:_e.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Et.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Jl.create=t=>new Jl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:it.ZodDate,...ht(t)});class AR extends St{_parse(e){if(this._getType(e)!==Fe.symbol){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.symbol,received:r.parsedType}),rt}return oi(e.data)}}AR.create=t=>new AR({typeName:it.ZodSymbol,...ht(t)});class _x extends St{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.undefined,received:r.parsedType}),rt}return oi(e.data)}}_x.create=t=>new _x({typeName:it.ZodUndefined,...ht(t)});class wx extends St{_parse(e){if(this._getType(e)!==Fe.null){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.null,received:r.parsedType}),rt}return oi(e.data)}}wx.create=t=>new wx({typeName:it.ZodNull,...ht(t)});class MR extends St{constructor(){super(...arguments),this._any=!0}_parse(e){return oi(e.data)}}MR.create=t=>new MR({typeName:it.ZodAny,...ht(t)});class IR extends St{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oi(e.data)}}IR.create=t=>new IR({typeName:it.ZodUnknown,...ht(t)});class Fo extends St{_parse(e){const n=this._getOrReturnCtx(e);return Re(n,{code:_e.invalid_type,expected:Fe.never,received:n.parsedType}),rt}}Fo.create=t=>new Fo({typeName:it.ZodNever,...ht(t)});class NR extends St{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.void,received:r.parsedType}),rt}return oi(e.data)}}NR.create=t=>new NR({typeName:it.ZodVoid,...ht(t)});class os extends St{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Fe.array)return Re(n,{code:_e.invalid_type,expected:Fe.array,received:n.parsedType}),rt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Re(n,{code:o?_e.too_big:_e.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Re(n,{code:_e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Re(n,{code:_e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new No(n,o,n.path,l)))).then(o=>Ur.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new No(n,o,n.path,l)));return Ur.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new os({...this._def,minLength:{value:e,message:Le.toString(n)}})}max(e,n){return new os({...this._def,maxLength:{value:e,message:Le.toString(n)}})}length(e,n){return new os({...this._def,exactLength:{value:e,message:Le.toString(n)}})}nonempty(e){return this.min(1,e)}}os.create=(t,e)=>new os({type:t,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...ht(e)});function Il(t){if(t instanceof xn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Eo.create(Il(r))}return new xn({...t._def,shape:()=>e})}else return t instanceof os?new os({...t._def,type:Il(t.element)}):t instanceof Eo?Eo.create(Il(t.unwrap())):t instanceof tc?tc.create(Il(t.unwrap())):t instanceof La?La.create(t.items.map(e=>Il(e))):t}class xn extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Et.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Fe.object){const d=this._getOrReturnCtx(e);return Re(d,{code:_e.invalid_type,expected:Fe.object,received:d.parsedType}),rt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fo&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const u=[];for(const d of o){const h=s[d],f=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new No(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Fo){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Re(i,{code:_e.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=i.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new No(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const f=await h.key,p=await h.value;d.push({key:f,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Ur.mergeObjectSync(r,d)):Ur.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new xn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Le.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(e){return new xn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:it.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xn({...this._def,catchall:e})}pick(e){const n={};for(const r of Et.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new xn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Et.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new xn({...this._def,shape:()=>n})}deepPartial(){return Il(this)}partial(e){const n={};for(const r of Et.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new xn({...this._def,shape:()=>n})}required(e){const n={};for(const r of Et.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Eo;)s=s._def.innerType;n[r]=s}return new xn({...this._def,shape:()=>n})}keyof(){return JM(Et.objectKeys(this.shape))}}xn.create=(t,e)=>new xn({shape:()=>t,unknownKeys:"strip",catchall:Fo.create(),typeName:it.ZodObject,...ht(e)});xn.strictCreate=(t,e)=>new xn({shape:()=>t,unknownKeys:"strict",catchall:Fo.create(),typeName:it.ZodObject,...ht(e)});xn.lazycreate=(t,e)=>new xn({shape:t,unknownKeys:"strip",catchall:Fo.create(),typeName:it.ZodObject,...ht(e)});class mm extends St{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Os(l.ctx.common.issues));return Re(n,{code:_e.invalid_union,unionErrors:o}),rt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(u=>new Os(u));return Re(n,{code:_e.invalid_union,unionErrors:l}),rt}}get options(){return this._def.options}}mm.create=(t,e)=>new mm({options:t,typeName:it.ZodUnion,...ht(e)});function Sx(t,e){const n=xo(t),r=xo(e);if(t===e)return{valid:!0,data:t};if(n===Fe.object&&r===Fe.object){const i=Et.objectKeys(e),s=Et.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const u=Sx(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===Fe.array&&r===Fe.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],u=Sx(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Fe.date&&r===Fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gm extends St{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(TR(s)||TR(o))return rt;const l=Sx(s.value,o.value);return l.valid?((PR(s)||PR(o))&&n.dirty(),{status:n.value,value:l.data}):(Re(r,{code:_e.invalid_intersection_types}),rt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gm.create=(t,e,n)=>new gm({left:t,right:e,typeName:it.ZodIntersection,...ht(n)});class La extends St{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.array)return Re(r,{code:_e.invalid_type,expected:Fe.array,received:r.parsedType}),rt;if(r.data.length<this._def.items.length)return Re(r,{code:_e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&r.data.length>this._def.items.length&&(Re(r,{code:_e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new No(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ur.mergeArray(n,o)):Ur.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new La({...this._def,rest:e})}}La.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new La({items:t,typeName:it.ZodTuple,rest:null,...ht(e)})};class FR extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.map)return Re(r,{code:_e.invalid_type,expected:Fe.map,received:r.parsedType}),rt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,u],d)=>({key:i._parse(new No(r,l,r.path,[d,"key"])),value:s._parse(new No(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return rt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return rt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}FR.create=(t,e,n)=>new FR({valueType:e,keyType:t,typeName:it.ZodMap,...ht(n)});class od extends St{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.set)return Re(r,{code:_e.invalid_type,expected:Fe.set,received:r.parsedType}),rt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Re(r,{code:_e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Re(r,{code:_e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const d=new Set;for(const h of u){if(h.status==="aborted")return rt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>s._parse(new No(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new od({...this._def,minSize:{value:e,message:Le.toString(n)}})}max(e,n){return new od({...this._def,maxSize:{value:e,message:Le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}od.create=(t,e)=>new od({valueType:t,minSize:null,maxSize:null,typeName:it.ZodSet,...ht(e)});class jR extends St{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}jR.create=(t,e)=>new jR({getter:t,typeName:it.ZodLazy,...ht(e)});class Cx extends St{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Re(n,{received:n.data,code:_e.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cx.create=(t,e)=>new Cx({value:t,typeName:it.ZodLiteral,...ht(e)});function JM(t,e){return new Ql({values:t,typeName:it.ZodEnum,...ht(e)})}class Ql extends St{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{expected:Et.joinValues(r),received:n.parsedType,code:_e.invalid_type}),rt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Re(n,{received:n.data,code:_e.invalid_enum_value,options:r}),rt}return oi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ql.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ql.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ql.create=JM;class LR extends St{_parse(e){const n=Et.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const i=Et.objectValues(n);return Re(r,{expected:Et.joinValues(i),received:r.parsedType,code:_e.invalid_type}),rt}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Et.objectValues(n);return Re(r,{received:r.data,code:_e.invalid_enum_value,options:i}),rt}return oi(e.data)}get enum(){return this._def.values}}LR.create=(t,e)=>new LR({values:t,typeName:it.ZodNativeEnum,...ht(e)});class pm extends St{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Re(n,{code:_e.invalid_type,expected:Fe.promise,received:n.parsedType}),rt;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return oi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}pm.create=(t,e)=>new pm({type:t,typeName:it.ZodPromise,...ht(e)});class ec extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Re(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return rt;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?rt:u.status==="dirty"||n.value==="dirty"?_u(u.value):u});{if(n.value==="aborted")return rt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?rt:l.status==="dirty"||n.value==="dirty"?_u(l.value):l}}if(i.type==="refinement"){const o=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?rt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?rt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ql(o))return rt;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ql(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):rt);Et.assertNever(i)}}ec.create=(t,e,n)=>new ec({schema:t,typeName:it.ZodEffects,effect:e,...ht(n)});ec.createWithPreprocess=(t,e,n)=>new ec({schema:e,effect:{type:"preprocess",transform:t},typeName:it.ZodEffects,...ht(n)});class Eo extends St{_parse(e){return this._getType(e)===Fe.undefined?oi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Eo.create=(t,e)=>new Eo({innerType:t,typeName:it.ZodOptional,...ht(e)});class tc extends St{_parse(e){return this._getType(e)===Fe.null?oi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tc.create=(t,e)=>new tc({innerType:t,typeName:it.ZodNullable,...ht(e)});class bx extends St{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bx.create=(t,e)=>new bx({innerType:t,typeName:it.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ht(e)});class Ex extends St{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return hm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Os(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Os(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ex.create=(t,e)=>new Ex({innerType:t,typeName:it.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ht(e)});class DR extends St{_parse(e){if(this._getType(e)!==Fe.nan){const r=this._getOrReturnCtx(e);return Re(r,{code:_e.invalid_type,expected:Fe.nan,received:r.parsedType}),rt}return{status:"valid",value:e.data}}}DR.create=t=>new DR({typeName:it.ZodNaN,...ht(t)});class $7 extends St{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class G_ extends St{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?rt:s.status==="dirty"?(n.dirty(),_u(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?rt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new G_({in:e,out:n,typeName:it.ZodPipeline})}}class Rx extends St{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ql(i)&&(i.value=Object.freeze(i.value)),i);return hm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Rx.create=(t,e)=>new Rx({innerType:t,typeName:it.ZodReadonly,...ht(e)});var it;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(it||(it={}));const qi=As.create,QM=Fa.create;ja.create;fm.create;Jl.create;const B7=_x.create,G7=wx.create;Fo.create;os.create;const U_=xn.create,U7=mm.create;gm.create;La.create;const W7=Cx.create;Ql.create;pm.create;Eo.create;tc.create;const Jn={string:t=>As.create({...t,coerce:!0}),number:t=>Fa.create({...t,coerce:!0}),boolean:t=>fm.create({...t,coerce:!0}),bigint:t=>ja.create({...t,coerce:!0}),date:t=>Jl.create({...t,coerce:!0})};function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function H7(t,e){const n=_.createContext(e),r=s=>{const{children:o,...l}=s,u=_.useMemo(()=>l,Object.values(l));return g.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function i(s){const o=_.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Vi(t,e=[]){let n=[];function r(s,o){const l=_.createContext(o),u=n.length;n=[...n,o];const d=f=>{var b;const{scope:p,children:y,...v}=f,w=((b=p==null?void 0:p[t])==null?void 0:b[u])||l,S=_.useMemo(()=>v,Object.values(v));return g.jsx(w.Provider,{value:S,children:y})};d.displayName=s+"Provider";function h(f,p){var w;const y=((w=p==null?void 0:p[t])==null?void 0:w[u])||l,v=_.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(o=>_.createContext(o));return function(l){const u=(l==null?void 0:l[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,X7(i,...e)]}function X7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const f=u(s)[`__scope${d}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function W_(t){const e=t+"CollectionProvider",[n,r]=Vi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:S,children:b}=w,R=le.useRef(null),T=le.useRef(new Map).current;return g.jsx(i,{scope:S,itemMap:T,collectionRef:R,children:b})};o.displayName=e;const l=t+"CollectionSlot",u=ka(l),d=le.forwardRef((w,S)=>{const{scope:b,children:R}=w,T=s(l,b),P=ft(S,T.collectionRef);return g.jsx(u,{ref:P,children:R})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=ka(h),y=le.forwardRef((w,S)=>{const{scope:b,children:R,...T}=w,P=le.useRef(null),k=ft(S,P),M=s(h,b);return le.useEffect(()=>(M.itemMap.set(P,{ref:P,...T}),()=>void M.itemMap.delete(P))),g.jsx(p,{[f]:"",ref:k,children:R})});y.displayName=h;function v(w){const S=s(t+"CollectionConsumer",w);return le.useCallback(()=>{const R=S.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((M,F)=>T.indexOf(M.ref.current)-T.indexOf(F.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},v,r]}var Un=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},K7=gT[" useId ".trim().toString()]||(()=>{}),Y7=0;function Pi(t){const[e,n]=_.useState(K7());return Un(()=>{n(r=>r??String(Y7++))},[t]),e?`radix-${e}`:""}var Z7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=Z7.reduce((t,e)=>{const n=ka(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:o,...l}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function eI(t,e){t&&$a.flushSync(()=>t.dispatchEvent(e))}function Gn(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var q7=gT[" useInsertionEffect ".trim().toString()]||Un;function jo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=J7({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=_.useCallback(h=>{var f;if(l){const p=Q7(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else s(h)},[l,t,s,o]);return[u,d]}function J7({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),s=_.useRef(e);return q7(()=>{s.current=e},[e]),_.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Q7(t){return typeof t=="function"}var eX=_.createContext(void 0);function Md(t){const e=_.useContext(eX);return t||e||"ltr"}var i0="rovingFocusGroup.onEntryFocus",tX={bubbles:!1,cancelable:!0},Id="RovingFocusGroup",[Tx,tI,nX]=W_(Id),[rX,cg]=Vi(Id,[nX]),[iX,sX]=rX(Id),nI=_.forwardRef((t,e)=>g.jsx(Tx.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Tx.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(oX,{...t,ref:e})})}));nI.displayName=Id;var oX=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=_.useRef(null),y=ft(e,p),v=Md(s),[w,S]=jo({prop:o,defaultProp:l??null,onChange:u,caller:Id}),[b,R]=_.useState(!1),T=Gn(d),P=tI(n),k=_.useRef(!1),[M,F]=_.useState(0);return _.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(i0,T),()=>I.removeEventListener(i0,T)},[T]),g.jsx(iX,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:w,onItemFocus:_.useCallback(I=>S(I),[S]),onItemShiftTab:_.useCallback(()=>R(!0),[]),onFocusableItemAdd:_.useCallback(()=>F(I=>I+1),[]),onFocusableItemRemove:_.useCallback(()=>F(I=>I-1),[]),children:g.jsx(Ze.div,{tabIndex:b||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{k.current=!0}),onFocus:Ce(t.onFocus,I=>{const z=!k.current;if(I.target===I.currentTarget&&z&&!b){const W=new CustomEvent(i0,tX);if(I.currentTarget.dispatchEvent(W),!W.defaultPrevented){const V=P().filter($=>$.focusable),X=V.find($=>$.active),G=V.find($=>$.id===w),J=[X,G,...V].filter(Boolean).map($=>$.ref.current);sI(J,h)}}k.current=!1}),onBlur:Ce(t.onBlur,()=>R(!1))})})}),rI="RovingFocusGroupItem",iI=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,u=Pi(),d=s||u,h=sX(rI,n),f=h.currentTabStopId===d,p=tI(n),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:w}=h;return _.useEffect(()=>{if(r)return y(),()=>v()},[r,y,v]),g.jsx(Tx.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:g.jsx(Ze.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Ce(t.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:Ce(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:Ce(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const b=cX(S,h.orientation,h.dir);if(b!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let T=p().filter(P=>P.focusable).map(P=>P.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const P=T.indexOf(S.currentTarget);T=h.loop?uX(T,P+1):T.slice(P+1)}setTimeout(()=>sI(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});iI.displayName=rI;var aX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function cX(t,e,n){const r=lX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aX[r]}function sI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function uX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var oI=nI,aI=iI;function dX(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var fr=t=>{const{present:e,children:n}=t,r=hX(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=ft(r.ref,fX(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};fr.displayName="Presence";function hX(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),o=t?"mounted":"unmounted",[l,u]=dX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=ff(r.current);s.current=l==="mounted"?d:"none"},[l]),Un(()=>{const d=r.current,h=i.current;if(h!==t){const p=s.current,y=ff(d);t?u("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Un(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const w=ff(r.current).includes(y.animationName);if(y.target===e&&w&&(u("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=y=>{y.target===e&&(s.current=ff(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function ff(t){return(t==null?void 0:t.animationName)||"none"}function fX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ug="Tabs",[mX,qee]=Vi(ug,[cg]),lI=cg(),[gX,H_]=mX(ug),cI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=t,h=Md(l),[f,p]=jo({prop:r,onChange:i,defaultProp:s??"",caller:ug});return g.jsx(gX,{scope:n,baseId:Pi(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:u,children:g.jsx(Ze.div,{dir:h,"data-orientation":o,...d,ref:e})})});cI.displayName=ug;var uI="TabsList",dI=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=H_(uI,n),o=lI(n);return g.jsx(oI,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(Ze.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});dI.displayName=uI;var hI="TabsTrigger",fI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=H_(hI,n),l=lI(n),u=pI(o.baseId,r),d=yI(o.baseId,r),h=r===o.value;return g.jsx(aI,{asChild:!0,...l,focusable:!i,active:h,children:g.jsx(Ze.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:e,onMouseDown:Ce(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ce(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ce(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!i&&f&&o.onValueChange(r)})})})});fI.displayName=hI;var mI="TabsContent",gI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=H_(mI,n),u=pI(l.baseId,r),d=yI(l.baseId,r),h=r===l.value,f=_.useRef(h);return _.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(fr,{present:i||h,children:({present:p})=>g.jsx(Ze.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});gI.displayName=mI;function pI(t,e){return`${t}-trigger-${e}`}function yI(t,e){return`${t}-content-${e}`}var pX=cI,xI=dI,vI=fI,_I=gI;const yX=pX,wI=_.forwardRef(({className:t,...e},n)=>g.jsx(xI,{ref:n,className:Oe("inline-flex h-9 items-center justify-center rounded-xl bg-muted p-1 text-muted-foreground",t),...e}));wI.displayName=xI.displayName;const jf=_.forwardRef(({className:t,...e},n)=>g.jsx(vI,{ref:n,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-xl px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));jf.displayName=vI.displayName;const Lf=_.forwardRef(({className:t,...e},n)=>g.jsx(_I,{ref:n,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Lf.displayName=_I.displayName;function xX({value:t="",onChange:e,options:n=[]}){const[r,i]=_.useState(!1),s=_.useRef(null),o=n.filter(l=>l.toLowerCase().includes(t.toLowerCase()));return g.jsxs("div",{className:"relative w-full",children:[g.jsx(Kt,{ref:s,value:t,placeholder:"Ej: ABCD (4 letras)",maxLength:4,onChange:l=>{const u=l.target.value.replace(/[^a-zA-Z]/g,"").toUpperCase();u.length<=4&&(e==null||e(u)),i(!0)},onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),100),className:"appearance-none pr-8"}),g.jsx(lc,{className:"pointer-events-none absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r&&o.length>0&&g.jsx("ul",{className:"absolute z-10 mt-1 max-h-48 w-full overflow-auto rounded-xl border bg-white text-sm shadow-md",children:o.map(l=>g.jsx("li",{onMouseDown:()=>{var u;e==null||e(l),i(!1),(u=s.current)==null||u.blur()},className:"cursor-pointer px-3 py-1.5 hover:bg-accent hover:text-accent-foreground",children:l},l))})]})}function Px(t,[e,n]){return Math.min(n,Math.max(e,t))}function vX(t,e=globalThis==null?void 0:globalThis.document){const n=Gn(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _X="DismissableLayer",kx="dismissableLayer.update",wX="dismissableLayer.pointerDownOutside",SX="dismissableLayer.focusOutside",OR,SI=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...u}=t,d=_.useContext(SI),[h,f]=_.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),v=ft(e,F=>f(F)),w=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(S),R=h?w.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,P=R>=b,k=EX(F=>{const I=F.target,z=[...d.branches].some(W=>W.contains(I));!P||z||(i==null||i(F),o==null||o(F),F.defaultPrevented||l==null||l())},p),M=RX(F=>{const I=F.target;[...d.branches].some(W=>W.contains(I))||(s==null||s(F),o==null||o(F),F.defaultPrevented||l==null||l())},p);return vX(F=>{R===d.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&l&&(F.preventDefault(),l()))},p),_.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(OR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),VR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=OR)}},[h,p,n,d]),_.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),VR())},[h,d]),_.useEffect(()=>{const F=()=>y({});return document.addEventListener(kx,F),()=>document.removeEventListener(kx,F)},[]),g.jsx(Ze.div,{...u,ref:v,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,k.onPointerDownCapture)})});Nd.displayName=_X;var CX="DismissableLayerBranch",bX=_.forwardRef((t,e)=>{const n=_.useContext(SI),r=_.useRef(null),i=ft(e,r);return _.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Ze.div,{...t,ref:i})});bX.displayName=CX;function EX(t,e=globalThis==null?void 0:globalThis.document){const n=Gn(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){CI(wX,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function RX(t,e=globalThis==null?void 0:globalThis.document){const n=Gn(t),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&CI(SX,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VR(){const t=new CustomEvent(kx);document.dispatchEvent(t)}function CI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?eI(i,s):i.dispatchEvent(s)}var s0=0;function X_(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zR()),document.body.insertAdjacentElement("beforeend",t[1]??zR()),s0++,()=>{s0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),s0--}},[])}function zR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var o0="focusScope.autoFocusOnMount",a0="focusScope.autoFocusOnUnmount",$R={bubbles:!1,cancelable:!0},TX="FocusScope",dg=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,u]=_.useState(null),d=Gn(i),h=Gn(s),f=_.useRef(null),p=ft(e,w=>u(w)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let w=function(T){if(y.paused||!l)return;const P=T.target;l.contains(P)?f.current=P:po(f.current,{select:!0})},S=function(T){if(y.paused||!l)return;const P=T.relatedTarget;P!==null&&(l.contains(P)||po(f.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&po(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const R=new MutationObserver(b);return l&&R.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),R.disconnect()}}},[r,l,y.paused]),_.useEffect(()=>{if(l){GR.add(y);const w=document.activeElement;if(!l.contains(w)){const b=new CustomEvent(o0,$R);l.addEventListener(o0,d),l.dispatchEvent(b),b.defaultPrevented||(PX(NX(bI(l)),{select:!0}),document.activeElement===w&&po(l))}return()=>{l.removeEventListener(o0,d),setTimeout(()=>{const b=new CustomEvent(a0,$R);l.addEventListener(a0,h),l.dispatchEvent(b),b.defaultPrevented||po(w??document.body,{select:!0}),l.removeEventListener(a0,h),GR.remove(y)},0)}}},[l,d,h,y]);const v=_.useCallback(w=>{if(!n&&!r||y.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(S&&b){const R=w.currentTarget,[T,P]=kX(R);T&&P?!w.shiftKey&&b===P?(w.preventDefault(),n&&po(T,{select:!0})):w.shiftKey&&b===T&&(w.preventDefault(),n&&po(P,{select:!0})):b===R&&w.preventDefault()}},[n,r,y.paused]);return g.jsx(Ze.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});dg.displayName=TX;function PX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(po(r,{select:e}),document.activeElement!==n)return}function kX(t){const e=bI(t),n=BR(e,t),r=BR(e.reverse(),t);return[n,r]}function bI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BR(t,e){for(const n of t)if(!AX(n,{upTo:e}))return n}function AX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MX(t){return t instanceof HTMLInputElement&&"select"in t}function po(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&MX(t)&&e&&t.select()}}var GR=IX();function IX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=UR(t,e),t.unshift(e)},remove(e){var n;t=UR(t,e),(n=t[0])==null||n.resume()}}}function UR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function NX(t){return t.filter(e=>e.tagName!=="A")}const FX=["top","right","bottom","left"],Lo=Math.min,Vr=Math.max,ym=Math.round,mf=Math.floor,as=t=>({x:t,y:t}),jX={left:"right",right:"left",bottom:"top",top:"bottom"},LX={start:"end",end:"start"};function Ax(t,e,n){return Vr(t,Lo(e,n))}function Vs(t,e){return typeof t=="function"?t(e):t}function zs(t){return t.split("-")[0]}function _c(t){return t.split("-")[1]}function K_(t){return t==="x"?"y":"x"}function Y_(t){return t==="y"?"height":"width"}const DX=new Set(["top","bottom"]);function ts(t){return DX.has(zs(t))?"y":"x"}function Z_(t){return K_(ts(t))}function OX(t,e,n){n===void 0&&(n=!1);const r=_c(t),i=Z_(t),s=Y_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=xm(o)),[o,xm(o)]}function VX(t){const e=xm(t);return[Mx(t),e,Mx(e)]}function Mx(t){return t.replace(/start|end/g,e=>LX[e])}const WR=["left","right"],HR=["right","left"],zX=["top","bottom"],$X=["bottom","top"];function BX(t,e,n){switch(t){case"top":case"bottom":return n?e?HR:WR:e?WR:HR;case"left":case"right":return e?zX:$X;default:return[]}}function GX(t,e,n,r){const i=_c(t);let s=BX(zs(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Mx)))),s}function xm(t){return t.replace(/left|right|bottom|top/g,e=>jX[e])}function UX(t){return{top:0,right:0,bottom:0,left:0,...t}}function EI(t){return typeof t!="number"?UX(t):{top:t,right:t,bottom:t,left:t}}function vm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function XR(t,e,n){let{reference:r,floating:i}=t;const s=ts(e),o=Z_(e),l=Y_(o),u=zs(e),d=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let y;switch(u){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(_c(e)){case"start":y[o]-=p*(n&&d?-1:1);break;case"end":y[o]+=p*(n&&d?-1:1);break}return y}const WX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=XR(d,r,u),p=r,y={},v=0;for(let w=0;w<l.length;w++){const{name:S,fn:b}=l[w],{x:R,y:T,data:P,reset:k}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=R??h,f=T??f,y={...y,[S]:{...y[S],...P}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:h,y:f}=XR(d,p,u)),w=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:y}};async function ad(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=Vs(e,t),v=EI(y),S=l[p?f==="floating"?"reference":"floating":f],b=vm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),R=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),P=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},k=vm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:T,strategy:u}):R);return{top:(b.top-k.top+v.top)/P.y,bottom:(k.bottom-b.bottom+v.bottom)/P.y,left:(b.left-k.left+v.left)/P.x,right:(k.right-b.right+v.right)/P.x}}const HX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=Vs(t,e)||{};if(d==null)return{};const f=EI(h),p={x:n,y:r},y=Z_(i),v=Y_(y),w=await o.getDimensions(d),S=y==="y",b=S?"top":"left",R=S?"bottom":"right",T=S?"clientHeight":"clientWidth",P=s.reference[v]+s.reference[y]-p[y]-s.floating[v],k=p[y]-s.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let F=M?M[T]:0;(!F||!await(o.isElement==null?void 0:o.isElement(M)))&&(F=l.floating[T]||s.floating[v]);const I=P/2-k/2,z=F/2-w[v]/2-1,W=Lo(f[b],z),V=Lo(f[R],z),X=W,G=F-w[v]-V,te=F/2-w[v]/2+I,J=Ax(X,te,G),$=!u.arrow&&_c(i)!=null&&te!==J&&s.reference[v]/2-(te<X?W:V)-w[v]/2<0,D=$?te<X?te-X:te-G:0;return{[y]:p[y]+D,data:{[y]:J,centerOffset:te-J-D,...$&&{alignmentOffset:D}},reset:$}}}),XX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...S}=Vs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=zs(i),R=ts(l),T=zs(l)===l,P=await(u.isRTL==null?void 0:u.isRTL(d.floating)),k=p||(T||!w?[xm(l)]:VX(l)),M=v!=="none";!p&&M&&k.push(...GX(l,w,v,P));const F=[l,...k],I=await ad(e,S),z=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&z.push(I[b]),f){const te=OX(i,o,P);z.push(I[te[0]],I[te[1]])}if(W=[...W,{placement:i,overflows:z}],!z.every(te=>te<=0)){var V,X;const te=(((V=s.flip)==null?void 0:V.index)||0)+1,J=F[te];if(J&&(!(f==="alignment"?R!==ts(J):!1)||W.every(j=>j.overflows[0]>0&&ts(j.placement)===R)))return{data:{index:te,overflows:W},reset:{placement:J}};let $=(X=W.filter(D=>D.overflows[0]<=0).sort((D,j)=>D.overflows[1]-j.overflows[1])[0])==null?void 0:X.placement;if(!$)switch(y){case"bestFit":{var G;const D=(G=W.filter(j=>{if(M){const U=ts(j.placement);return U===R||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,Y)=>U+Y,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:G[0];D&&($=D);break}case"initialPlacement":$=l;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function KR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YR(t){return FX.some(e=>t[e]>=0)}const KX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Vs(t,e);switch(r){case"referenceHidden":{const s=await ad(e,{...i,elementContext:"reference"}),o=KR(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YR(o)}}}case"escaped":{const s=await ad(e,{...i,altBoundary:!0}),o=KR(s,n.floating);return{data:{escapedOffsets:o,escaped:YR(o)}}}default:return{}}}}},RI=new Set(["left","top"]);async function YX(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=zs(n),l=_c(n),u=ts(n)==="y",d=RI.has(o)?-1:1,h=s&&u?-1:1,f=Vs(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(y=l==="end"?v*-1:v),u?{x:y*h,y:p*d}:{x:p*d,y:y*h}}const ZX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await YX(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},qX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:b,y:R}=S;return{x:b,y:R}}},...u}=Vs(t,e),d={x:n,y:r},h=await ad(e,u),f=ts(zs(i)),p=K_(f);let y=d[p],v=d[f];if(s){const S=p==="y"?"top":"left",b=p==="y"?"bottom":"right",R=y+h[S],T=y-h[b];y=Ax(R,y,T)}if(o){const S=f==="y"?"top":"left",b=f==="y"?"bottom":"right",R=v+h[S],T=v-h[b];v=Ax(R,v,T)}const w=l.fn({...e,[p]:y,[f]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:s,[f]:o}}}}}},JX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Vs(t,e),h={x:n,y:r},f=ts(i),p=K_(f);let y=h[p],v=h[f];const w=Vs(l,e),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const T=p==="y"?"height":"width",P=s.reference[p]-s.floating[T]+S.mainAxis,k=s.reference[p]+s.reference[T]-S.mainAxis;y<P?y=P:y>k&&(y=k)}if(d){var b,R;const T=p==="y"?"width":"height",P=RI.has(zs(i)),k=s.reference[f]-s.floating[T]+(P&&((b=o.offset)==null?void 0:b[f])||0)+(P?0:S.crossAxis),M=s.reference[f]+s.reference[T]+(P?0:((R=o.offset)==null?void 0:R[f])||0)-(P?S.crossAxis:0);v<k?v=k:v>M&&(v=M)}return{[p]:y,[f]:v}}}},QX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...d}=Vs(t,e),h=await ad(e,d),f=zs(i),p=_c(i),y=ts(i)==="y",{width:v,height:w}=s.floating;let S,b;f==="top"||f==="bottom"?(S=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,S=p==="end"?"top":"bottom");const R=w-h.top-h.bottom,T=v-h.left-h.right,P=Lo(w-h[S],R),k=Lo(v-h[b],T),M=!e.middlewareData.shift;let F=P,I=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=R),M&&!p){const W=Vr(h.left,0),V=Vr(h.right,0),X=Vr(h.top,0),G=Vr(h.bottom,0);y?I=v-2*(W!==0||V!==0?W+V:Vr(h.left,h.right)):F=w-2*(X!==0||G!==0?X+G:Vr(h.top,h.bottom))}await u({...e,availableWidth:I,availableHeight:F});const z=await o.getDimensions(l.floating);return v!==z.width||w!==z.height?{reset:{rects:!0}}:{}}}};function hg(){return typeof window<"u"}function wc(t){return TI(t)?(t.nodeName||"").toLowerCase():"#document"}function Br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ds(t){var e;return(e=(TI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TI(t){return hg()?t instanceof Node||t instanceof Br(t).Node:!1}function Mi(t){return hg()?t instanceof Element||t instanceof Br(t).Element:!1}function us(t){return hg()?t instanceof HTMLElement||t instanceof Br(t).HTMLElement:!1}function ZR(t){return!hg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Br(t).ShadowRoot}const eK=new Set(["inline","contents"]);function Fd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ii(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!eK.has(i)}const tK=new Set(["table","td","th"]);function nK(t){return tK.has(wc(t))}const rK=[":popover-open",":modal"];function fg(t){return rK.some(e=>{try{return t.matches(e)}catch{return!1}})}const iK=["transform","translate","scale","rotate","perspective"],sK=["transform","translate","scale","rotate","perspective","filter"],oK=["paint","layout","strict","content"];function q_(t){const e=J_(),n=Mi(t)?Ii(t):t;return iK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sK.some(r=>(n.willChange||"").includes(r))||oK.some(r=>(n.contain||"").includes(r))}function aK(t){let e=Do(t);for(;us(e)&&!nc(e);){if(q_(e))return e;if(fg(e))return null;e=Do(e)}return null}function J_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lK=new Set(["html","body","#document"]);function nc(t){return lK.has(wc(t))}function Ii(t){return Br(t).getComputedStyle(t)}function mg(t){return Mi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Do(t){if(wc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZR(t)&&t.host||ds(t);return ZR(e)?e.host:e}function PI(t){const e=Do(t);return nc(e)?t.ownerDocument?t.ownerDocument.body:t.body:us(e)&&Fd(e)?e:PI(e)}function ld(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=PI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Br(i);if(s){const l=Ix(o);return e.concat(o,o.visualViewport||[],Fd(i)?i:[],l&&n?ld(l):[])}return e.concat(i,ld(i,[],n))}function Ix(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kI(t){const e=Ii(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=us(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=ym(n)!==s||ym(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function Q_(t){return Mi(t)?t:t.contextElement}function Gl(t){const e=Q_(t);if(!us(e))return as(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=kI(e);let o=(s?ym(n.width):n.width)/r,l=(s?ym(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const cK=as(0);function AI(t){const e=Br(t);return!J_()||!e.visualViewport?cK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Br(t)?!1:e}function Da(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Q_(t);let o=as(1);e&&(r?Mi(r)&&(o=Gl(r)):o=Gl(t));const l=uK(s,n,r)?AI(s):as(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const p=Br(s),y=r&&Mi(r)?Br(r):r;let v=p,w=Ix(v);for(;w&&r&&y!==v;){const S=Gl(w),b=w.getBoundingClientRect(),R=Ii(w),T=b.left+(w.clientLeft+parseFloat(R.paddingLeft))*S.x,P=b.top+(w.clientTop+parseFloat(R.paddingTop))*S.y;u*=S.x,d*=S.y,h*=S.x,f*=S.y,u+=T,d+=P,v=Br(w),w=Ix(v)}}return vm({width:h,height:f,x:u,y:d})}function ew(t,e){const n=mg(t).scrollLeft;return e?e.left+n:Da(ds(t)).left+n}function MI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:ew(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function dK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ds(r),l=e?fg(e.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=as(1);const h=as(0),f=us(r);if((f||!f&&!s)&&((wc(r)!=="body"||Fd(o))&&(u=mg(r)),us(r))){const y=Da(r);d=Gl(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=o&&!f&&!s?MI(o,u,!0):as(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-u.scrollTop*d.y+h.y+p.y}}function hK(t){return Array.from(t.getClientRects())}function fK(t){const e=ds(t),n=mg(t),r=t.ownerDocument.body,i=Vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ew(t);const l=-n.scrollTop;return Ii(r).direction==="rtl"&&(o+=Vr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function mK(t,e){const n=Br(t),r=ds(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const d=J_();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}const gK=new Set(["absolute","fixed"]);function pK(t,e){const n=Da(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=us(t)?Gl(t):as(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:o,height:l,x:u,y:d}}function qR(t,e,n){let r;if(e==="viewport")r=mK(t,n);else if(e==="document")r=fK(ds(t));else if(Mi(e))r=pK(e,n);else{const i=AI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vm(r)}function II(t,e){const n=Do(t);return n===e||!Mi(n)||nc(n)?!1:Ii(n).position==="fixed"||II(n,e)}function yK(t,e){const n=e.get(t);if(n)return n;let r=ld(t,[],!1).filter(l=>Mi(l)&&wc(l)!=="body"),i=null;const s=Ii(t).position==="fixed";let o=s?Do(t):t;for(;Mi(o)&&!nc(o);){const l=Ii(o),u=q_(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&gK.has(i.position)||Fd(o)&&!u&&II(t,o))?r=r.filter(h=>h!==o):i=l,o=Do(o)}return e.set(t,r),r}function xK(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?fg(e)?[]:yK(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,h)=>{const f=qR(e,h,i);return d.top=Vr(f.top,d.top),d.right=Lo(f.right,d.right),d.bottom=Lo(f.bottom,d.bottom),d.left=Vr(f.left,d.left),d},qR(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function vK(t){const{width:e,height:n}=kI(t);return{width:e,height:n}}function _K(t,e,n){const r=us(e),i=ds(e),s=n==="fixed",o=Da(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=as(0);function d(){u.x=ew(i)}if(r||!r&&!s)if((wc(e)!=="body"||Fd(i))&&(l=mg(e)),r){const y=Da(e,!0,s,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?MI(i,l):as(0),f=o.left+l.scrollLeft-u.x-h.x,p=o.top+l.scrollTop-u.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function l0(t){return Ii(t).position==="static"}function JR(t,e){if(!us(t)||Ii(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ds(t)===n&&(n=n.ownerDocument.body),n}function NI(t,e){const n=Br(t);if(fg(t))return n;if(!us(t)){let i=Do(t);for(;i&&!nc(i);){if(Mi(i)&&!l0(i))return i;i=Do(i)}return n}let r=JR(t,e);for(;r&&nK(r)&&l0(r);)r=JR(r,e);return r&&nc(r)&&l0(r)&&!q_(r)?n:r||aK(t)||n}const wK=async function(t){const e=this.getOffsetParent||NI,n=this.getDimensions,r=await n(t.floating);return{reference:_K(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SK(t){return Ii(t).direction==="rtl"}const CK={convertOffsetParentRelativeRectToViewportRelativeRect:dK,getDocumentElement:ds,getClippingRect:xK,getOffsetParent:NI,getElementRects:wK,getClientRects:hK,getDimensions:vK,getScale:Gl,isElement:Mi,isRTL:SK};function FI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bK(t,e){let n=null,r;const i=ds(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=d;if(l||e(),!p||!y)return;const v=mf(f),w=mf(i.clientWidth-(h+p)),S=mf(i.clientHeight-(f+y)),b=mf(h),T={rootMargin:-v+"px "+-w+"px "+-S+"px "+-b+"px",threshold:Vr(0,Lo(1,u))||1};let P=!0;function k(M){const F=M[0].intersectionRatio;if(F!==u){if(!P)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!FI(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(k,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(t)}return o(!0),s}function EK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Q_(t),h=i||s?[...d?ld(d):[],...ld(e)]:[];h.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=d&&l?bK(d,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(b=>{let[R]=b;R&&R.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),d&&!u&&y.observe(d),y.observe(e));let v,w=u?Da(t):null;u&&S();function S(){const b=Da(t);w&&!FI(w,b)&&n(),w=b,v=requestAnimationFrame(S)}return n(),()=>{var b;h.forEach(R=>{i&&R.removeEventListener("scroll",n),s&&R.removeEventListener("resize",n)}),f==null||f(),(b=y)==null||b.disconnect(),y=null,u&&cancelAnimationFrame(v)}}const RK=ZX,TK=qX,PK=XX,kK=QX,AK=KX,QR=HX,MK=JX,IK=(t,e,n)=>{const r=new Map,i={platform:CK,...n},s={...i.platform,_c:r};return WX(t,e,{...i,platform:s})};var NK=typeof document<"u",FK=function(){},Df=NK?_.useLayoutEffect:FK;function _m(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_m(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!_m(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function jI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function eT(t,e){const n=jI(t);return Math.round(e*n)/n}function c0(t){const e=_.useRef(t);return Df(()=>{e.current=t}),e}function jK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=_.useState(r);_m(p,r)||y(r);const[v,w]=_.useState(null),[S,b]=_.useState(null),R=_.useCallback(j=>{j!==M.current&&(M.current=j,w(j))},[]),T=_.useCallback(j=>{j!==F.current&&(F.current=j,b(j))},[]),P=s||v,k=o||S,M=_.useRef(null),F=_.useRef(null),I=_.useRef(h),z=u!=null,W=c0(u),V=c0(i),X=c0(d),G=_.useCallback(()=>{if(!M.current||!F.current)return;const j={placement:e,strategy:n,middleware:p};V.current&&(j.platform=V.current),IK(M.current,F.current,j).then(U=>{const Y={...U,isPositioned:X.current!==!1};te.current&&!_m(I.current,Y)&&(I.current=Y,$a.flushSync(()=>{f(Y)}))})},[p,e,n,V,X]);Df(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[d]);const te=_.useRef(!1);Df(()=>(te.current=!0,()=>{te.current=!1}),[]),Df(()=>{if(P&&(M.current=P),k&&(F.current=k),P&&k){if(W.current)return W.current(P,k,G);G()}},[P,k,G,W,z]);const J=_.useMemo(()=>({reference:M,floating:F,setReference:R,setFloating:T}),[R,T]),$=_.useMemo(()=>({reference:P,floating:k}),[P,k]),D=_.useMemo(()=>{const j={position:n,left:0,top:0};if(!$.floating)return j;const U=eT($.floating,h.x),Y=eT($.floating,h.y);return l?{...j,transform:"translate("+U+"px, "+Y+"px)",...jI($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Y}},[n,l,$.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:G,refs:J,elements:$,floatingStyles:D}),[h,G,J,$,D])}const LK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QR({element:r.current,padding:i}).fn(n):{}:r?QR({element:r,padding:i}).fn(n):{}}}},DK=(t,e)=>({...RK(t),options:[t,e]}),OK=(t,e)=>({...TK(t),options:[t,e]}),VK=(t,e)=>({...MK(t),options:[t,e]}),zK=(t,e)=>({...PK(t),options:[t,e]}),$K=(t,e)=>({...kK(t),options:[t,e]}),BK=(t,e)=>({...AK(t),options:[t,e]}),GK=(t,e)=>({...LK(t),options:[t,e]});var UK="Arrow",LI=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(Ze.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});LI.displayName=UK;var WK=LI;function DI(t){const[e,n]=_.useState(void 0);return Un(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tw="Popper",[OI,Sc]=Vi(tw),[HK,VI]=OI(tw),zI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return g.jsx(HK,{scope:e,anchor:r,onAnchorChange:i,children:n})};zI.displayName=tw;var $I="PopperAnchor",BI=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=VI($I,n),o=_.useRef(null),l=ft(e,o);return _.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Ze.div,{...i,ref:l})});BI.displayName=$I;var nw="PopperContent",[XK,KK]=OI(nw),GI=_.forwardRef((t,e)=>{var ae,pe,we,be,$e,Be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:v,...w}=t,S=VI(nw,n),[b,R]=_.useState(null),T=ft(e,_t=>R(_t)),[P,k]=_.useState(null),M=DI(P),F=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,z=r+(s!=="center"?"-"+s:""),W=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},V=Array.isArray(d)?d:[d],X=V.length>0,G={padding:W,boundary:V.filter(ZK),altBoundary:X},{refs:te,floatingStyles:J,placement:$,isPositioned:D,middlewareData:j}=jK({strategy:"fixed",placement:z,whileElementsMounted:(..._t)=>EK(..._t,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[DK({mainAxis:i+I,alignmentAxis:o}),u&&OK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VK():void 0,...G}),u&&zK({...G}),$K({...G,apply:({elements:_t,rects:pt,availableWidth:Dt,availableHeight:Vt})=>{const{width:zt,height:On}=pt.reference,Tt=_t.floating.style;Tt.setProperty("--radix-popper-available-width",`${Dt}px`),Tt.setProperty("--radix-popper-available-height",`${Vt}px`),Tt.setProperty("--radix-popper-anchor-width",`${zt}px`),Tt.setProperty("--radix-popper-anchor-height",`${On}px`)}}),P&&GK({element:P,padding:l}),qK({arrowWidth:F,arrowHeight:I}),p&&BK({strategy:"referenceHidden",...G})]}),[U,Y]=HI($),N=Gn(v);Un(()=>{D&&(N==null||N())},[D,N]);const L=(ae=j.arrow)==null?void 0:ae.x,ne=(pe=j.arrow)==null?void 0:pe.y,ie=((we=j.arrow)==null?void 0:we.centerOffset)!==0,[ce,ge]=_.useState();return Un(()=>{b&&ge(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:D?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(be=j.transformOrigin)==null?void 0:be.x,($e=j.transformOrigin)==null?void 0:$e.y].join(" "),...((Be=j.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(XK,{scope:n,placedSide:U,onArrowChange:k,arrowX:L,arrowY:ne,shouldHideArrow:ie,children:g.jsx(Ze.div,{"data-side":U,"data-align":Y,...w,ref:T,style:{...w.style,animation:D?void 0:"none"}})})})});GI.displayName=nw;var UI="PopperArrow",YK={top:"bottom",right:"left",bottom:"top",left:"right"},WI=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=KK(UI,r),o=YK[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(WK,{...i,ref:n,style:{...i.style,display:"block"}})})});WI.displayName=UI;function ZK(t){return t!==null}var qK=t=>({name:"transformOrigin",options:t,fn(e){var S,b,R;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,h]=HI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,y=(((R=i.arrow)==null?void 0:R.y)??0)+u/2;let v="",w="";return d==="bottom"?(v=o?f:`${p}px`,w=`${-u}px`):d==="top"?(v=o?f:`${p}px`,w=`${r.floating.height+u}px`):d==="right"?(v=`${-u}px`,w=o?f:`${y}px`):d==="left"&&(v=`${r.floating.width+u}px`,w=o?f:`${y}px`),{data:{x:v,y:w}}}});function HI(t){const[e,n="center"]=t.split("-");return[e,n]}var rw=zI,iw=BI,sw=GI,ow=WI,JK="Portal",jd=_.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=_.useState(!1);Un(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?jT.createPortal(g.jsx(Ze.div,{...r,ref:e}),o):null});jd.displayName=JK;function XI(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var KI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QK="VisuallyHidden",YI=_.forwardRef((t,e)=>g.jsx(Ze.span,{...t,ref:e,style:{...KI,...t.style}}));YI.displayName=QK;var eY=YI,tY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sl=new WeakMap,gf=new WeakMap,pf={},u0=0,ZI=function(t){return t&&(t.host||ZI(t.parentNode))},nY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ZI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},rY=function(t,e,n,r){var i=nY(e,Array.isArray(t)?t:[t]);pf[n]||(pf[n]=new WeakMap);var s=pf[n],o=[],l=new Set,u=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(r),v=y!==null&&y!=="false",w=(Sl.get(p)||0)+1,S=(s.get(p)||0)+1;Sl.set(p,w),s.set(p,S),o.push(p),w===1&&v&&gf.set(p,!0),S===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),l.clear(),u0++,function(){o.forEach(function(f){var p=Sl.get(f)-1,y=s.get(f)-1;Sl.set(f,p),s.set(f,y),p||(gf.has(f)||f.removeAttribute(r),gf.delete(f)),y||f.removeAttribute(n)}),u0--,u0||(Sl=new WeakMap,Sl=new WeakMap,gf=new WeakMap,pf={})}},aw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=tY(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),rY(r,i,n,"aria-hidden")):function(){return null}},Ji=function(){return Ji=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ji.apply(this,arguments)};function qI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iY(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Of="right-scroll-bar-position",Vf="width-before-scroll-bar",sY="with-scroll-bars-hidden",oY="--removed-body-scroll-bar-size";function d0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function aY(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var lY=typeof window<"u"?_.useLayoutEffect:_.useEffect,tT=new WeakMap;function cY(t,e){var n=aY(null,function(r){return t.forEach(function(i){return d0(i,r)})});return lY(function(){var r=tT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||d0(l,null)}),s.forEach(function(l){i.has(l)||d0(l,o)})}tT.set(n,t)},[t]),n}function uY(t){return t}function dY(t,e){e===void 0&&(e=uY);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var u=function(){var h=o;o=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function hY(t){t===void 0&&(t={});var e=dY(null);return e.options=Ji({async:!0,ssr:!1},t),e}var JI=function(t){var e=t.sideCar,n=qI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Ji({},n))};JI.isSideCarExport=!0;function fY(t,e){return t.useMedium(e),JI}var QI=hY(),h0=function(){},gg=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:h0,onWheelCapture:h0,onTouchMoveCapture:h0}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noRelative,v=t.noIsolation,w=t.inert,S=t.allowPinchZoom,b=t.as,R=b===void 0?"div":b,T=t.gapMode,P=qI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,M=cY([n,e]),F=Ji(Ji({},P),i);return _.createElement(_.Fragment,null,h&&_.createElement(k,{sideCar:QI,removeScrollBar:d,shards:f,noRelative:y,noIsolation:v,inert:w,setCallbacks:s,allowPinchZoom:!!S,lockRef:n,gapMode:T}),o?_.cloneElement(_.Children.only(l),Ji(Ji({},F),{ref:M})):_.createElement(R,Ji({},F,{className:u,ref:M}),l))});gg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gg.classNames={fullWidth:Vf,zeroRight:Of};var mY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=mY();return e&&t.setAttribute("nonce",e),t}function pY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=gY())&&(pY(e,n),yY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vY=function(){var t=xY();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},e2=function(){var t=vY(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},_Y={left:0,top:0,right:0,gap:0},f0=function(t){return parseInt(t||"",10)||0},wY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[f0(n),f0(r),f0(i)]},SY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _Y;var e=wY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},CY=e2(),Ul="data-scroll-locked",bY=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Of,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Vf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vf," .").concat(Vf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(oY,": ").concat(l,`px;
  }
`)},nT=function(){var t=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(t)?t:0},EY=function(){_.useEffect(function(){return document.body.setAttribute(Ul,(nT()+1).toString()),function(){var t=nT()-1;t<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,t.toString())}},[])},RY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;EY();var s=_.useMemo(function(){return SY(i)},[i]);return _.createElement(CY,{styles:bY(s,!e,i,n?"":"!important")})},Nx=!1;if(typeof window<"u")try{var yf=Object.defineProperty({},"passive",{get:function(){return Nx=!0,!0}});window.addEventListener("test",yf,yf),window.removeEventListener("test",yf,yf)}catch{Nx=!1}var Cl=Nx?{passive:!1}:!1,TY=function(t){return t.tagName==="TEXTAREA"},t2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!TY(t)&&n[e]==="visible")},PY=function(t){return t2(t,"overflowY")},kY=function(t){return t2(t,"overflowX")},rT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=n2(t,r);if(i){var s=r2(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},MY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},n2=function(t,e){return t==="v"?PY(e):kY(e)},r2=function(t,e){return t==="v"?AY(e):MY(e)},IY=function(t,e){return t==="h"&&e==="rtl"?-1:1},NY=function(t,e,n,r,i){var s=IY(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,u=e.contains(l),d=!1,h=o>0,f=0,p=0;do{if(!l)break;var y=r2(t,l),v=y[0],w=y[1],S=y[2],b=w-S-s*v;(v||b)&&n2(t,l)&&(f+=b,p+=v);var R=l.parentNode;l=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},xf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},iT=function(t){return[t.deltaX,t.deltaY]},sT=function(t){return t&&"current"in t?t.current:t},FY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},jY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},LY=0,bl=[];function DY(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(LY++)[0],s=_.useState(e2)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=iY([t.lockRef.current],(t.shards||[]).map(sT),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=xf(w),R=n.current,T="deltaX"in w?w.deltaX:R[0]-b[0],P="deltaY"in w?w.deltaY:R[1]-b[1],k,M=w.target,F=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in w&&F==="h"&&M.type==="range")return!1;var I=rT(F,M);if(!I)return!0;if(I?k=F:(k=F==="v"?"h":"v",I=rT(F,M)),!I)return!1;if(!r.current&&"changedTouches"in w&&(T||P)&&(r.current=k),!k)return!0;var z=r.current||k;return NY(z,S,w,z==="h"?T:P)},[]),u=_.useCallback(function(w){var S=w;if(!(!bl.length||bl[bl.length-1]!==s)){var b="deltaY"in S?iT(S):xf(S),R=e.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&FY(k.delta,b)})[0];if(R&&R.should){S.cancelable&&S.preventDefault();return}if(!R){var T=(o.current.shards||[]).map(sT).filter(Boolean).filter(function(k){return k.contains(S.target)}),P=T.length>0?l(S,T[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),d=_.useCallback(function(w,S,b,R){var T={name:w,delta:S,target:b,should:R,shadowParent:OY(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),h=_.useCallback(function(w){n.current=xf(w),r.current=void 0},[]),f=_.useCallback(function(w){d(w.type,iT(w),w.target,l(w,t.lockRef.current))},[]),p=_.useCallback(function(w){d(w.type,xf(w),w.target,l(w,t.lockRef.current))},[]);_.useEffect(function(){return bl.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,Cl),document.addEventListener("touchmove",u,Cl),document.addEventListener("touchstart",h,Cl),function(){bl=bl.filter(function(w){return w!==s}),document.removeEventListener("wheel",u,Cl),document.removeEventListener("touchmove",u,Cl),document.removeEventListener("touchstart",h,Cl)}},[]);var y=t.removeScrollBar,v=t.inert;return _.createElement(_.Fragment,null,v?_.createElement(s,{styles:jY(i)}):null,y?_.createElement(RY,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function OY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const VY=fY(QI,DY);var pg=_.forwardRef(function(t,e){return _.createElement(gg,Ji({},t,{ref:e,sideCar:VY}))});pg.classNames=gg.classNames;var zY=[" ","Enter","ArrowUp","ArrowDown"],$Y=[" ","Enter"],Oa="Select",[yg,xg,BY]=W_(Oa),[Cc,Jee]=Vi(Oa,[BY,Sc]),vg=Sc(),[GY,zo]=Cc(Oa),[UY,WY]=Cc(Oa),i2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:p,required:y,form:v}=t,w=vg(e),[S,b]=_.useState(null),[R,T]=_.useState(null),[P,k]=_.useState(!1),M=Md(d),[F,I]=jo({prop:r,defaultProp:i??!1,onChange:s,caller:Oa}),[z,W]=jo({prop:o,defaultProp:l,onChange:u,caller:Oa}),V=_.useRef(null),X=S?v||!!S.closest("form"):!0,[G,te]=_.useState(new Set),J=Array.from(G).map($=>$.props.value).join(";");return g.jsx(rw,{...w,children:g.jsxs(GY,{required:y,scope:e,trigger:S,onTriggerChange:b,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:Pi(),value:z,onValueChange:W,open:F,onOpenChange:I,dir:M,triggerPointerDownPosRef:V,disabled:p,children:[g.jsx(yg.Provider,{scope:e,children:g.jsx(UY,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback($=>{te(D=>new Set(D).add($))},[]),onNativeOptionRemove:_.useCallback($=>{te(D=>{const j=new Set(D);return j.delete($),j})},[]),children:n})}),X?g.jsxs(P2,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:z,onChange:$=>W($.target.value),disabled:p,form:v,children:[z===void 0?g.jsx("option",{value:""}):null,Array.from(G)]},J):null]})})};i2.displayName=Oa;var s2="SelectTrigger",o2=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=vg(n),o=zo(s2,n),l=o.disabled||r,u=ft(e,o.onTriggerChange),d=xg(n),h=_.useRef("touch"),[f,p,y]=A2(w=>{const S=d().filter(T=>!T.disabled),b=S.find(T=>T.value===o.value),R=M2(S,w,b);R!==void 0&&o.onValueChange(R.value)}),v=w=>{l||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return g.jsx(iw,{asChild:!0,...s,children:g.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":k2(o.value)?"":void 0,...i,ref:u,onClick:Ce(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&v(w)}),onPointerDown:Ce(i.onPointerDown,w=>{h.current=w.pointerType;const S=w.target;S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:Ce(i.onKeyDown,w=>{const S=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(S&&w.key===" ")&&zY.includes(w.key)&&(v(),w.preventDefault())})})})});o2.displayName=s2;var a2="SelectValue",l2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,u=zo(a2,n),{onValueNodeHasChildrenChange:d}=u,h=s!==void 0,f=ft(e,u.onValueNodeChange);return Un(()=>{d(h)},[d,h]),g.jsx(Ze.span,{...l,ref:f,style:{pointerEvents:"none"},children:k2(u.value)?g.jsx(g.Fragment,{children:o}):s})});l2.displayName=a2;var HY="SelectIcon",c2=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(Ze.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});c2.displayName=HY;var XY="SelectPortal",u2=t=>g.jsx(jd,{asChild:!0,...t});u2.displayName=XY;var Va="SelectContent",d2=_.forwardRef((t,e)=>{const n=zo(Va,t.__scopeSelect),[r,i]=_.useState();if(Un(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?$a.createPortal(g.jsx(h2,{scope:t.__scopeSelect,children:g.jsx(yg.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(f2,{...t,ref:e})});d2.displayName=Va;var xi=10,[h2,$o]=Cc(Va),KY="SelectContentImpl",YY=ka("SelectContent.RemoveScroll"),f2=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:S,...b}=t,R=zo(Va,n),[T,P]=_.useState(null),[k,M]=_.useState(null),F=ft(e,ae=>P(ae)),[I,z]=_.useState(null),[W,V]=_.useState(null),X=xg(n),[G,te]=_.useState(!1),J=_.useRef(!1);_.useEffect(()=>{if(T)return aw(T)},[T]),X_();const $=_.useCallback(ae=>{const[pe,...we]=X().map(Be=>Be.ref.current),[be]=we.slice(-1),$e=document.activeElement;for(const Be of ae)if(Be===$e||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===pe&&k&&(k.scrollTop=0),Be===be&&k&&(k.scrollTop=k.scrollHeight),Be==null||Be.focus(),document.activeElement!==$e))return},[X,k]),D=_.useCallback(()=>$([I,T]),[$,I,T]);_.useEffect(()=>{G&&D()},[G,D]);const{onOpenChange:j,triggerPointerDownPosRef:U}=R;_.useEffect(()=>{if(T){let ae={x:0,y:0};const pe=be=>{var $e,Be;ae={x:Math.abs(Math.round(be.pageX)-((($e=U.current)==null?void 0:$e.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Be=U.current)==null?void 0:Be.y)??0))}},we=be=>{ae.x<=10&&ae.y<=10?be.preventDefault():T.contains(be.target)||j(!1),document.removeEventListener("pointermove",pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",we,{capture:!0})}}},[T,j,U]),_.useEffect(()=>{const ae=()=>j(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[j]);const[Y,N]=A2(ae=>{const pe=X().filter($e=>!$e.disabled),we=pe.find($e=>$e.ref.current===document.activeElement),be=M2(pe,ae,we);be&&setTimeout(()=>be.ref.current.focus())}),L=_.useCallback((ae,pe,we)=>{const be=!J.current&&!we;(R.value!==void 0&&R.value===pe||be)&&(z(ae),be&&(J.current=!0))},[R.value]),ne=_.useCallback(()=>T==null?void 0:T.focus(),[T]),ie=_.useCallback((ae,pe,we)=>{const be=!J.current&&!we;(R.value!==void 0&&R.value===pe||be)&&V(ae)},[R.value]),ce=r==="popper"?Fx:m2,ge=ce===Fx?{side:l,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:S}:{};return g.jsx(h2,{scope:n,content:T,viewport:k,onViewportChange:M,itemRefCallback:L,selectedItem:I,onItemLeave:ne,itemTextRefCallback:ie,focusSelectedItem:D,selectedItemText:W,position:r,isPositioned:G,searchRef:Y,children:g.jsx(pg,{as:YY,allowPinchZoom:!0,children:g.jsx(dg,{asChild:!0,trapped:R.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ce(i,ae=>{var pe;(pe=R.trigger)==null||pe.focus({preventScroll:!0}),ae.preventDefault()}),children:g.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:g.jsx(ce,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ae=>ae.preventDefault(),...b,...ge,onPlaced:()=>te(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ce(b.onKeyDown,ae=>{const pe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!pe&&ae.key.length===1&&N(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let be=X().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const $e=ae.target,Be=be.indexOf($e);be=be.slice(Be+1)}setTimeout(()=>$(be)),ae.preventDefault()}})})})})})})});f2.displayName=KY;var ZY="SelectItemAlignedPosition",m2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=zo(Va,n),o=$o(Va,n),[l,u]=_.useState(null),[d,h]=_.useState(null),f=ft(e,F=>h(F)),p=xg(n),y=_.useRef(!1),v=_.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:b,focusSelectedItem:R}=o,T=_.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&w&&S&&b){const F=s.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),W=b.getBoundingClientRect();if(s.dir!=="rtl"){const $e=W.left-I.left,Be=z.left-$e,_t=F.left-Be,pt=F.width+_t,Dt=Math.max(pt,I.width),Vt=window.innerWidth-xi,zt=Px(Be,[xi,Math.max(xi,Vt-Dt)]);l.style.minWidth=pt+"px",l.style.left=zt+"px"}else{const $e=I.right-W.right,Be=window.innerWidth-z.right-$e,_t=window.innerWidth-F.right-Be,pt=F.width+_t,Dt=Math.max(pt,I.width),Vt=window.innerWidth-xi,zt=Px(Be,[xi,Math.max(xi,Vt-Dt)]);l.style.minWidth=pt+"px",l.style.right=zt+"px"}const V=p(),X=window.innerHeight-xi*2,G=w.scrollHeight,te=window.getComputedStyle(d),J=parseInt(te.borderTopWidth,10),$=parseInt(te.paddingTop,10),D=parseInt(te.borderBottomWidth,10),j=parseInt(te.paddingBottom,10),U=J+$+G+j+D,Y=Math.min(S.offsetHeight*5,U),N=window.getComputedStyle(w),L=parseInt(N.paddingTop,10),ne=parseInt(N.paddingBottom,10),ie=F.top+F.height/2-xi,ce=X-ie,ge=S.offsetHeight/2,ae=S.offsetTop+ge,pe=J+$+ae,we=U-pe;if(pe<=ie){const $e=V.length>0&&S===V[V.length-1].ref.current;l.style.bottom="0px";const Be=d.clientHeight-w.offsetTop-w.offsetHeight,_t=Math.max(ce,ge+($e?ne:0)+Be+D),pt=pe+_t;l.style.height=pt+"px"}else{const $e=V.length>0&&S===V[0].ref.current;l.style.top="0px";const _t=Math.max(ie,J+w.offsetTop+($e?L:0)+ge)+we;l.style.height=_t+"px",w.scrollTop=pe-ie+w.offsetTop}l.style.margin=`${xi}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=X+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,s.trigger,s.valueNode,l,d,w,S,b,s.dir,r]);Un(()=>T(),[T]);const[P,k]=_.useState();Un(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const M=_.useCallback(F=>{F&&v.current===!0&&(T(),R==null||R(),v.current=!1)},[T,R]);return g.jsx(JY,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:g.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:g.jsx(Ze.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});m2.displayName=ZY;var qY="SelectPopperPosition",Fx=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=xi,...s}=t,o=vg(n);return g.jsx(sw,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fx.displayName=qY;var[JY,lw]=Cc(Va,{}),jx="SelectViewport",g2=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=$o(jx,n),o=lw(jx,n),l=ft(e,s.onViewportChange),u=_.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(yg.Slot,{scope:n,children:g.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const y=Math.abs(u.current-h.scrollTop);if(y>0){const v=window.innerHeight-xi*2,w=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),b=Math.max(w,S);if(b<v){const R=b+y,T=Math.min(v,R),P=R-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});g2.displayName=jx;var p2="SelectGroup",[QY,eZ]=Cc(p2),tZ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Pi();return g.jsx(QY,{scope:n,id:i,children:g.jsx(Ze.div,{role:"group","aria-labelledby":i,...r,ref:e})})});tZ.displayName=p2;var y2="SelectLabel",x2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=eZ(y2,n);return g.jsx(Ze.div,{id:i.id,...r,ref:e})});x2.displayName=y2;var wm="SelectItem",[nZ,v2]=Cc(wm),_2=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=zo(wm,n),u=$o(wm,n),d=l.value===r,[h,f]=_.useState(s??""),[p,y]=_.useState(!1),v=ft(e,R=>{var T;return(T=u.itemRefCallback)==null?void 0:T.call(u,R,r,i)}),w=Pi(),S=_.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(nZ,{scope:n,value:r,disabled:i,textId:w,isSelected:d,onItemTextChange:_.useCallback(R=>{f(T=>T||((R==null?void 0:R.textContent)??"").trim())},[]),children:g.jsx(yg.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:g.jsx(Ze.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ce(o.onFocus,()=>y(!0)),onBlur:Ce(o.onBlur,()=>y(!1)),onClick:Ce(o.onClick,()=>{S.current!=="mouse"&&b()}),onPointerUp:Ce(o.onPointerUp,()=>{S.current==="mouse"&&b()}),onPointerDown:Ce(o.onPointerDown,R=>{S.current=R.pointerType}),onPointerMove:Ce(o.onPointerMove,R=>{var T;S.current=R.pointerType,i?(T=u.onItemLeave)==null||T.call(u):S.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,R=>{var T;R.currentTarget===document.activeElement&&((T=u.onItemLeave)==null||T.call(u))}),onKeyDown:Ce(o.onKeyDown,R=>{var P;((P=u.searchRef)==null?void 0:P.current)!==""&&R.key===" "||($Y.includes(R.key)&&b(),R.key===" "&&R.preventDefault())})})})})});_2.displayName=wm;var wu="SelectItemText",w2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=zo(wu,n),l=$o(wu,n),u=v2(wu,n),d=WY(wu,n),[h,f]=_.useState(null),p=ft(e,b=>f(b),u.onItemTextChange,b=>{var R;return(R=l.itemTextRefCallback)==null?void 0:R.call(l,b,u.value,u.disabled)}),y=h==null?void 0:h.textContent,v=_.useMemo(()=>g.jsx("option",{value:u.value,disabled:u.disabled,children:y},u.value),[u.disabled,u.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=d;return Un(()=>(w(v),()=>S(v)),[w,S,v]),g.jsxs(g.Fragment,{children:[g.jsx(Ze.span,{id:u.textId,...s,ref:p}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$a.createPortal(s.children,o.valueNode):null]})});w2.displayName=wu;var S2="SelectItemIndicator",C2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v2(S2,n).isSelected?g.jsx(Ze.span,{"aria-hidden":!0,...r,ref:e}):null});C2.displayName=S2;var Lx="SelectScrollUpButton",b2=_.forwardRef((t,e)=>{const n=$o(Lx,t.__scopeSelect),r=lw(Lx,t.__scopeSelect),[i,s]=_.useState(!1),o=ft(e,r.onScrollButtonChange);return Un(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;s(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(R2,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});b2.displayName=Lx;var Dx="SelectScrollDownButton",E2=_.forwardRef((t,e)=>{const n=$o(Dx,t.__scopeSelect),r=lw(Dx,t.__scopeSelect),[i,s]=_.useState(!1),o=ft(e,r.onScrollButtonChange);return Un(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;s(h)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(R2,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});E2.displayName=Dx;var R2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=$o("SelectScrollButton",n),o=_.useRef(null),l=xg(n),u=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>u(),[u]),Un(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),g.jsx(Ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{u()})})}),rZ="SelectSeparator",T2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(Ze.div,{"aria-hidden":!0,...r,ref:e})});T2.displayName=rZ;var Ox="SelectArrow",iZ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=vg(n),s=zo(Ox,n),o=$o(Ox,n);return s.open&&o.position==="popper"?g.jsx(ow,{...i,...r,ref:e}):null});iZ.displayName=Ox;var sZ="SelectBubbleInput",P2=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),s=ft(r,i),o=XI(e);return _.useEffect(()=>{const l=i.current;if(!l)return;const u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),g.jsx(Ze.select,{...n,style:{...KI,...n.style},ref:s,defaultValue:e})});P2.displayName=sZ;function k2(t){return t===""||t===void 0}function A2(t){const e=Gn(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const l=n.current+o;e(l),function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),s=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function M2(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=oZ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function oZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var aZ=i2,I2=o2,lZ=l2,cZ=c2,uZ=u2,N2=d2,dZ=g2,F2=x2,j2=_2,hZ=w2,fZ=C2,L2=b2,D2=E2,O2=T2;const Si=aZ,Ci=lZ,ni=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(I2,{ref:r,className:Oe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-xl border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(cZ,{asChild:!0,children:g.jsx(lc,{className:"h-4 w-4 opacity-50"})})]}));ni.displayName=I2.displayName;const cw=_.forwardRef(({className:t,...e},n)=>g.jsx(L2,{ref:n,className:Oe("flex cursor-default items-center justify-center",t),...e,children:g.jsx(cv,{className:"h-4 w-4"})}));cw.displayName=L2.displayName;const uw=_.forwardRef(({className:t,...e},n)=>g.jsx(D2,{ref:n,className:Oe("flex cursor-default items-center justify-center",t),...e,children:g.jsx(lc,{className:"h-4 w-4"})}));uw.displayName=D2.displayName;const ri=_.forwardRef(({className:t,children:e,position:n="popper",withScrollButtons:r=!0,...i},s)=>g.jsx(uZ,{children:g.jsxs(N2,{ref:s,className:Oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[r&&g.jsx(cw,{}),g.jsx(dZ,{className:Oe(n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r&&g.jsx(uw,{})]})}));ri.displayName=N2.displayName;const mZ=_.forwardRef(({className:t,...e},n)=>g.jsx(F2,{ref:n,className:Oe("px-2 py-1.5 text-sm font-semibold",t),...e}));mZ.displayName=F2.displayName;const Rn=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(j2,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-xl py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(fZ,{children:g.jsx(gd,{className:"h-4 w-4"})})}),g.jsx(hZ,{children:e})]}));Rn.displayName=j2.displayName;const gZ=_.forwardRef(({className:t,...e},n)=>g.jsx(O2,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));gZ.displayName=O2.displayName;var[_g,Qee]=Vi("Tooltip",[Sc]),wg=Sc(),V2="TooltipProvider",pZ=700,Vx="tooltip.open",[yZ,dw]=_g(V2),z2=t=>{const{__scopeTooltip:e,delayDuration:n=pZ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=_.useRef(!0),l=_.useRef(!1),u=_.useRef(0);return _.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),g.jsx(yZ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};z2.displayName=V2;var cd="Tooltip",[xZ,Ld]=_g(cd),$2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,u=dw(cd,t.__scopeTooltip),d=wg(e),[h,f]=_.useState(null),p=Pi(),y=_.useRef(0),v=o??u.disableHoverableContent,w=l??u.delayDuration,S=_.useRef(!1),[b,R]=jo({prop:r,defaultProp:i??!1,onChange:F=>{F?(u.onOpen(),document.dispatchEvent(new CustomEvent(Vx))):u.onClose(),s==null||s(F)},caller:cd}),T=_.useMemo(()=>b?S.current?"delayed-open":"instant-open":"closed",[b]),P=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,S.current=!1,R(!0)},[R]),k=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,R(!1)},[R]),M=_.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{S.current=!0,R(!0),y.current=0},w)},[w,R]);return _.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),g.jsx(rw,{...d,children:g.jsx(xZ,{scope:e,contentId:p,open:b,stateAttribute:T,trigger:h,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{u.isOpenDelayedRef.current?M():P()},[u.isOpenDelayedRef,M,P]),onTriggerLeave:_.useCallback(()=>{v?k():(window.clearTimeout(y.current),y.current=0)},[k,v]),onOpen:P,onClose:k,disableHoverableContent:v,children:n})})};$2.displayName=cd;var zx="TooltipTrigger",B2=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ld(zx,n),s=dw(zx,n),o=wg(n),l=_.useRef(null),u=ft(e,l,i.onTriggerChange),d=_.useRef(!1),h=_.useRef(!1),f=_.useCallback(()=>d.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(iw,{asChild:!0,...o,children:g.jsx(Ze.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:Ce(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ce(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ce(t.onBlur,i.onClose),onClick:Ce(t.onClick,i.onClose)})})});B2.displayName=zx;var hw="TooltipPortal",[vZ,_Z]=_g(hw,{forceMount:void 0}),G2=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=Ld(hw,e);return g.jsx(vZ,{scope:e,forceMount:n,children:g.jsx(fr,{present:n||s.open,children:g.jsx(jd,{asChild:!0,container:i,children:r})})})};G2.displayName=hw;var rc="TooltipContent",U2=_.forwardRef((t,e)=>{const n=_Z(rc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Ld(rc,t.__scopeTooltip);return g.jsx(fr,{present:r||o.open,children:o.disableHoverableContent?g.jsx(W2,{side:i,...s,ref:e}):g.jsx(wZ,{side:i,...s,ref:e})})}),wZ=_.forwardRef((t,e)=>{const n=Ld(rc,t.__scopeTooltip),r=dw(rc,t.__scopeTooltip),i=_.useRef(null),s=ft(e,i),[o,l]=_.useState(null),{trigger:u,onClose:d}=n,h=i.current,{onPointerInTransitChange:f}=r,p=_.useCallback(()=>{l(null),f(!1)},[f]),y=_.useCallback((v,w)=>{const S=v.currentTarget,b={x:v.clientX,y:v.clientY},R=RZ(b,S.getBoundingClientRect()),T=TZ(b,R),P=PZ(w.getBoundingClientRect()),k=AZ([...T,...P]);l(k),f(!0)},[f]);return _.useEffect(()=>()=>p(),[p]),_.useEffect(()=>{if(u&&h){const v=S=>y(S,h),w=S=>y(S,u);return u.addEventListener("pointerleave",v),h.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",w)}}},[u,h,y,p]),_.useEffect(()=>{if(o){const v=w=>{const S=w.target,b={x:w.clientX,y:w.clientY},R=(u==null?void 0:u.contains(S))||(h==null?void 0:h.contains(S)),T=!kZ(b,o);R?p():T&&(p(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[u,h,o,d,p]),g.jsx(W2,{...t,ref:s})}),[SZ,CZ]=_g(cd,{isInside:!1}),bZ=P3("TooltipContent"),W2=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,u=Ld(rc,n),d=wg(n),{onClose:h}=u;return _.useEffect(()=>(document.addEventListener(Vx,h),()=>document.removeEventListener(Vx,h)),[h]),_.useEffect(()=>{if(u.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),g.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:g.jsxs(sw,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(bZ,{children:r}),g.jsx(SZ,{scope:n,isInside:!0,children:g.jsx(eY,{id:u.contentId,role:"tooltip",children:i||r})})]})})});U2.displayName=rc;var H2="TooltipArrow",EZ=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=wg(n);return CZ(H2,n).isInside?null:g.jsx(ow,{...i,...r,ref:e})});EZ.displayName=H2;function RZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function PZ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function kZ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],u=e[o],d=l.x,h=l.y,f=u.x,p=u.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function AZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),MZ(e)}function MZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var IZ=z2,NZ=$2,FZ=B2,jZ=G2,X2=U2;const LZ=IZ,El=NZ,Rl=FZ,la=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(jZ,{children:g.jsx(X2,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden bg-white max-w-[150px] max-h-[250px] rounded-xl px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n})}));la.displayName=X2.displayName;var Sg="Switch",[DZ,ete]=Vi(Sg),[OZ,VZ]=DZ(Sg),K2=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:u="on",onCheckedChange:d,form:h,...f}=t,[p,y]=_.useState(null),v=ft(e,T=>y(T)),w=_.useRef(!1),S=p?h||!!p.closest("form"):!0,[b,R]=jo({prop:i,defaultProp:s??!1,onChange:d,caller:Sg});return g.jsxs(OZ,{scope:n,checked:b,disabled:l,children:[g.jsx(Ze.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":J2(b),"data-disabled":l?"":void 0,disabled:l,value:u,...f,ref:v,onClick:Ce(t.onClick,T=>{R(P=>!P),S&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),S&&g.jsx(q2,{control:p,bubbles:!w.current,name:r,value:u,checked:b,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});K2.displayName=Sg;var Y2="SwitchThumb",Z2=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=VZ(Y2,n);return g.jsx(Ze.span,{"data-state":J2(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Z2.displayName=Y2;var zZ="SwitchBubbleInput",q2=_.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=_.useRef(null),l=ft(o,s),u=XI(n),d=DI(e);return _.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==n&&y){const v=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(v)}},[u,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});q2.displayName=zZ;function J2(t){return t?"checked":"unchecked"}var $Z=K2,BZ=Z2;const Q2=_.forwardRef(({className:t,icon:e,...n},r)=>g.jsx($Z,{className:Oe("relative peer inline-flex h-10 w-20 shrink-0 cursor-pointer items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n,ref:r,children:g.jsx(BZ,{className:Oe("pointer-events-none absolute left-1 flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-lg transition-transform duration-200","data-[state=checked]:translate-x-9"),children:e})}));Q2.displayName="Switch";var GZ="Label",eN=_.forwardRef((t,e)=>g.jsx(Ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eN.displayName=GZ;var tN=eN;const UZ=pv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Cg=_.forwardRef(({className:t,...e},n)=>g.jsx(tN,{ref:n,className:Oe(UZ(),t),...e}));Cg.displayName=tN.displayName;const fw=Y9,nN=_.createContext({}),Ot=({...t})=>g.jsx(nN.Provider,{value:{name:t.name},children:g.jsx(Q9,{...t})}),bg=()=>{const t=_.useContext(nN),e=_.useContext(rN),{getFieldState:n,formState:r}=lg(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},rN=_.createContext({}),Nt=_.forwardRef(({className:t,...e},n)=>{const r=_.useId();return g.jsx(rN.Provider,{value:{id:r},children:g.jsx("div",{ref:n,className:Oe("space-y-2",t),...e})})});Nt.displayName="FormItem";const Ut=_.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=bg();return g.jsx(Cg,{ref:n,className:Oe(r&&"text-destructive",t),htmlFor:i,...e})});Ut.displayName="FormLabel";const Ft=_.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=bg();return g.jsx(vP,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Ft.displayName="FormControl";const vi=_.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=bg();return g.jsx("p",{ref:n,id:r,className:Oe("text-[0.8rem] text-muted-foreground",t),...e})});vi.displayName="FormDescription";const gn=_.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=bg(),o=i?String((i==null?void 0:i.message)??""):e;return o?g.jsx("p",{ref:r,id:s,className:Oe("text-[0.8rem] font-medium text-destructive",t),...n,children:o}):null});gn.displayName="FormMessage";const oT=U_({animal_id:QM().optional(),nombre:qi().min(1,"El nombre es obligatorio."),especie_id:Jn.number().optional().nullable(),tipo_id:Jn.number().optional().nullable(),raza_id:Jn.number().optional().nullable(),sexo_id:Jn.number().min(1,"El sexo es obligatorio.").optional(),fecha_nacimiento:qi().optional(),peso:Jn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),altura_cruz:Jn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),longitud_tronco:Jn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),perimetro_toracico:Jn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),ancho_grupa:Jn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),longitud_grupa:Jn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),estado_reproductivo_id:Jn.number().optional().nullable(),numero_partos:Jn.number().min(0).optional().nullable(),intervalo_partos:Jn.number().min(0).optional().nullable(),ubicacion_sensor:qi().optional().nullable(),parcela_id:Jn.number().optional().nullable()});function WZ({animal:t={},modoEdicion:e,parcelas:n=[],animalOptions:r={},onCancel:i,onSave:s}){var S,b,R,T,P,k,M,F,I,z,W;const o=e?oT:oT.extend({acronimo_identificacion:qi().regex(/^[A-Za-z]{4}$/,"Debe contener exactamente 4 letras.").transform(V=>V.toUpperCase())}),l=$_({resolver:B_(o),defaultValues:{...t,especie_id:t.especie_id!=null?t.especie_id.toString():"",tipo_id:t.tipo_id!=null?t.tipo_id.toString():"",raza_id:t.raza_id!=null?t.raza_id.toString():"",sexo_id:t.sexo_id!=null?parseInt(t.sexo_id):1,estado_reproductivo_id:t.estado_reproductivo_id!=null?t.estado_reproductivo_id.toString():"",parcela_id:t.parcela_id!=null?t.parcela_id.toString():"",peso:((S=t.peso)==null?void 0:S.toString())||"",altura_cruz:((b=t.altura_cruz)==null?void 0:b.toString())||"",longitud_tronco:((R=t.longitud_tronco)==null?void 0:R.toString())||"",perimetro_toracico:((T=t.perimetro_toracico)==null?void 0:T.toString())||"",ancho_grupa:((P=t.ancho_grupa)==null?void 0:P.toString())||"",longitud_grupa:((k=t.longitud_grupa)==null?void 0:k.toString())||"",numero_partos:((M=t.numero_partos)==null?void 0:M.toString())||"",intervalo_partos:((F=t.intervalo_partos)==null?void 0:F.toString())||"",fecha_nacimiento:t.fecha_nacimiento?new Date(t.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:t.ubicacion_sensor||""}}),u=l.watch("especie_id"),d=l.watch("tipo_id"),h=l.watch("sexo_id"),f=h===2;_.useEffect(()=>{var V;if(u&&h){const X=(V=r.estados_reproductivos)==null?void 0:V.filter(te=>te.sexo_id===h&&te.especie_id===parseInt(u)),G=l.getValues("estado_reproductivo_id");G&&!X.some(te=>te.id.toString()===G)&&l.setValue("estado_reproductivo_id","")}},[u,h,r.estados_reproductivos,l]);const p=((I=r.tipos)==null?void 0:I.filter(V=>u?V.especie_id===parseInt(u):!0))||[],y=((z=r.razas)==null?void 0:z.filter(V=>(!u||V.especie_id===parseInt(u))&&(!d||V.tipo_id===parseInt(d))))||[],v=((W=r.estados_reproductivos)==null?void 0:W.filter(V=>V.sexo_id===h&&(!u||V.especie_id===parseInt(u))))||[],w=V=>{const X={...V};["especie_id","tipo_id","raza_id","sexo_id","estado_reproductivo_id","parcela_id"].forEach(G=>{X[G]=X[G]===""?null:parseInt(X[G])}),["peso","altura_cruz","longitud_tronco","perimetro_toracico","ancho_grupa","longitud_grupa","numero_partos","intervalo_partos","fertilidad"].forEach(G=>{X[G]=X[G]!==""?parseFloat(X[G]):null}),s(X)};return g.jsx(LZ,{children:g.jsx(fw,{...l,children:g.jsxs("form",{onSubmit:l.handleSubmit(w),className:"max-h-[85vh] overflow-y-auto bg-white p-4 sm:p-6 lg:p-8 rounded-xl w-full max-w-4xl mx-auto",children:[g.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold text-gray-800 mb-4 sm:mb-6 text-center",children:e?"Editar Registro de Animal":"Nuevo Registro de Animal"}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center mb-6 sm:mb-8",children:"Completa la informacin detallada para el animal."}),g.jsxs(yX,{defaultValue:"general",className:"space-y-8",children:[g.jsxs(wI,{className:"flex flex-wrap gap-2 w-full p-2 rounded-lg",children:[g.jsxs(jf,{value:"general",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(Ro,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"General"})]}),g.jsxs(jf,{value:"zoometria",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(AC,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Zoometra"})]}),g.jsxs(jf,{value:"reproduccion",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(PC,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Reproduccin"})]})]}),g.jsxs(Lf,{value:"general",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(Ro,{className:"h-5 w-5"})," Informacin General"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"nombre",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Nombre"}),g.jsx(Ft,{children:g.jsx(Kt,{...V,placeholder:"Ej: Camila"})}),g.jsx(vi,{children:"Nombre comn del animal."}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:e?g.jsx(Ot,{control:l.control,name:"numero_identificacion",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Nmero de Identificacin"}),g.jsx(Ft,{children:g.jsx(Kt,{...V,disabled:!0})}),g.jsx(vi,{children:"Identificador nico del animal."}),g.jsx(gn,{})]})}):g.jsx(Ot,{control:l.control,name:"acronimo_identificacion",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Acrnimo de Identificacin"}),g.jsx(Ft,{children:g.jsx(xX,{value:V.value,onChange:V.onChange,options:r.acronimos||[]})}),g.jsx(vi,{children:"Acrnimo de agrupacin del animal."}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"parcela_id",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Parcela Actual"}),g.jsxs(Si,{onValueChange:V.onChange,value:V.value,children:[g.jsx(Ft,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar parcela"})})}),g.jsx(ri,{children:n.map(X=>g.jsx(Rn,{value:X.id.toString(),children:X.nombre},X.id))})]}),g.jsx(vi,{children:"Ubicacin actual del animal."}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"especie_id",render:({field:V})=>{var X;return g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Especie de Animal"}),g.jsxs(Si,{value:V.value,onValueChange:G=>{V.onChange(G),l.setValue("tipo_id",""),l.setValue("raza_id","")},children:[g.jsx(Ft,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccione la especie"})})}),g.jsx(ri,{children:(X=r.especies)==null?void 0:X.map(G=>g.jsx(Rn,{value:G.id.toString(),children:G.nombre},G.id))})]}),g.jsx(vi,{children:"Clasificacin de la especie."}),g.jsx(gn,{})]})}})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"tipo_id",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Tipo de Animal"}),g.jsxs(Si,{onValueChange:X=>{V.onChange(X),l.setValue("raza_id","")},value:V.value,disabled:!u,children:[g.jsx(Ft,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccione el tipo"})})}),g.jsx(ri,{children:p.map(X=>g.jsx(Rn,{value:X.id.toString(),children:X.nombre},X.id))})]}),g.jsx(vi,{children:"Clasificacin del tipo."}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"raza_id",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Raza de Animal"}),g.jsxs(Si,{onValueChange:V.onChange,value:V.value,disabled:!u||!d,children:[g.jsx(Ft,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccione la raza"})})}),g.jsx(ri,{children:y.map(X=>g.jsx(Rn,{value:X.id.toString(),children:X.nombre},X.id))})]}),g.jsx(vi,{children:"Clasificacin de la raza."}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"fecha_nacimiento",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Fecha de Nacimiento"}),g.jsx(Ft,{children:g.jsx(Kt,{type:"date",...V})}),g.jsx(vi,{children:"Fecha en formato AAAA-MM-DD."}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"ubicacion_sensor",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Ubicacin del Sensor"}),g.jsxs(Si,{onValueChange:V.onChange,value:V.value,children:[g.jsx(Ft,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar ubicacin"})})}),g.jsxs(ri,{children:[g.jsx(Rn,{value:"cuello",children:"Cuello"}),g.jsx(Rn,{value:"pata",children:"Pata"}),g.jsx(Rn,{value:"cola",children:"Cola"}),g.jsx(Rn,{value:"implante",children:"Implante (interna)"}),g.jsx(Rn,{value:"ninguno",children:"Ninguno"})]})]}),g.jsx(gn,{})]})})})]})]}),g.jsxs(Lf,{value:"zoometria",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(AC,{className:"h-5 w-5"})," Medidas Corporales (Zoometra)"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"peso",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Peso (kg)"}),g.jsx(Ft,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 500.5"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Indica la masa corporal del animal en kilogramos."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"altura_cruz",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Altura a la Cruz (cm)"}),g.jsx(Ft,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 150"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Representa la distancia vertical desde el suelo hasta la protuberancia ms alta de la escpula."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"longitud_tronco",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Longitud del Tronco (cm)"}),g.jsx(Ft,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 90"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Medida desde la punta del hombro (articulacin escpulo-humeral) hasta la punta del isquion."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"perimetro_toracico",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Permetro Torcico (cm)"}),g.jsx(Ft,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 212"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Medicin de la circunferencia del trax justo detrs de las paletas."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"ancho_grupa",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Ancho de Grupa (cm)"}),g.jsx(Ft,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 112"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Distancia transversal entre las tuberosidades coxales (puntas de las caderas). Es un indicador importante de la capacidad plvica, especialmente relevante en hembras para evaluar la facilidad de parto (distocia)."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"longitud_grupa",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Longitud de Grupa (cm)"}),g.jsx(Ft,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Kt,{type:"number",min:0,...V,placeholder:"Ej: 98"}),g.jsxs(El,{children:[g.jsx(Rl,{asChild:!0,children:g.jsx(wi,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(la,{children:g.jsx("p",{children:"Medida longitudinal desde las tuberosidades ilacas (puntas de la cadera) hasta las tuberosidades isquiticas (puntas de la nalga)."})})]})]})})]})})})]})]}),g.jsxs(Lf,{value:"reproduccion",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(PC,{className:"h-8 w-8"})," Datos Reproductivos"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"sexo_id",render:({field:V})=>g.jsxs(Nt,{className:"flex flex-col",children:[g.jsx(Ut,{className:"mb-2",children:"Sexo"}),g.jsx(Ft,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Q2,{id:"sexo-switch",checked:V.value===2,onCheckedChange:X=>{const G=X?2:1;V.onChange(G),G===2&&(l.setValue("numero_partos",null),l.setValue("intervalo_partos",null),l.setValue("fertilidad",null))},className:Oe(V.value===2?"bg-blue-500":"bg-pink-500"),icon:V.value===2?g.jsx(u4,{className:"h-5 w-5 text-blue-800"}):g.jsx(V4,{className:"h-5 w-5 text-pink-600"})}),g.jsx("span",{children:V.value===2?"Macho":"Hembra"})]})}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"estado_reproductivo_id",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Estado Reproductivo"}),g.jsxs(Si,{onValueChange:V.onChange,value:V.value,disabled:!u&&!V.value||v.length===0&&!V.value,children:[g.jsx(Ft,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar estado"})})}),g.jsx(ri,{children:v.map(X=>g.jsx(Rn,{value:X.id.toString(),children:X.nombre},X.id))})]}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"numero_partos",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Nmero de Partos"}),g.jsx(Ft,{children:g.jsx(Kt,{type:"number",min:0,...V,disabled:f,placeholder:f?"Solo para hembras":"Ej: 1"})}),g.jsx(vi,{children:"Nmero de partos registrados."}),g.jsx(gn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"intervalo_partos",render:({field:V})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Intervalo entre Partos"}),g.jsx(Ft,{children:g.jsx(Kt,{type:"number",min:0,...V,disabled:f,placeholder:f?"Solo para hembras":"Ej: 365 (das)"})}),g.jsx(gn,{})]})})})]})]})]}),g.jsxs("div",{className:"pt-8 flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-4 border-t border-gray-200 mt-8",children:[g.jsx(at,{type:"button",variant:"outline",onClick:i,className:"flex items-center gap-2 px-6 py-3 rounded-xl border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(at,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(VT,{className:"h-5 w-5"}),"Guardar Animal"]})]})]})})})}const HZ=U_({collar_id:QM().optional(),codigo:qi().min(1,"El cdigo es obligatorio."),estado:qi().min(1,"El estado es obligatorio."),bateria:Jn.number().min(0).max(100).optional().nullable(),animal_id:U7([W7("UNASSIGNED"),qi().regex(/^\d+$/,"ID de animal invlido. Debe ser un nmero.").transform(Number),G7(),B7()]).optional().nullable(),original_animal_id:qi().optional().nullable(),original_estado:qi().optional().nullable()});function XZ({collar:t={},animals:e=[],onCancel:n,onSave:r,collarStatesOptions:i=[]}){const s=$_({resolver:B_(HZ),defaultValues:{codigo:t.codigo||"",...t,estado:t.estado||"disponible",bateria:t.bateria,animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_estado:t.estado||"disponible"}}),{handleSubmit:o,formState:{errors:l},watch:u,setValue:d}=s,[h,f]=_.useState(""),p=u("estado")==="activo",y=u("estado")==="defectuoso",v=_.useMemo(()=>{var k;if(t.estado&&t.estado.toLowerCase()==="activo")return[{id:(k=i.find(M=>M.nombre.toLowerCase()==="activo"))==null?void 0:k.id,nombre:"activo"}];const P=["activo","sin bateria"];return i.filter(M=>!P.includes(M.nombre.toLowerCase()))},[i,t.estado]),w=P=>{let k=g.jsx(wi,{className:"h-4 w-4"}),M="N/A",F="bg-gray-100 text-gray-700";return typeof P=="number"&&(P>=70?(k=g.jsx(av,{className:"h-4 w-4 text-green-600"}),F="bg-green-100 text-green-800"):P>=30?(k=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),F="bg-yellow-100 text-yellow-800"):(k=g.jsx(Ou,{className:"h-4 w-4 text-red-700"}),F="bg-red-100 text-red-800"),M=`${P}%`),g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 py-1 rounded-xl text-xs font-medium",F),children:[k,M]})};_.useEffect(()=>{y&&d("animal_id","UNASSIGNED",{shouldValidate:!0})},[y,d]),_.useEffect(()=>{Object.keys(l).length>0&&(l.collar_id&&(console.error("Detalle del error de collar_id:",l.collar_id.message),console.error("Valor actual de collar_id en el formulario:",s.getValues("collar_id"))),l.estado&&console.error("Error estado:",l.estado.message),l.bateria&&console.error("Error bateria:",l.bateria.message),l.animal_id&&console.error("Error animal_id:",l.animal_id.message))},[l,s]);const S=u("animal_id"),b=e.find(P=>P.animal_id.toString()===(S==null?void 0:S.toString())),R=_.useMemo(()=>{const P=h.trim().toLowerCase();let k=e;return P&&(k=e.filter(M=>{var F,I,z,W,V;return((F=M.nombre)==null?void 0:F.toLowerCase().includes(P))||((z=(I=M.numero_identificacion)==null?void 0:I.toLowerCase)==null?void 0:z.call(I).includes(P))||((V=(W=M.collar_asignado)==null?void 0:W.codigo)==null?void 0:V.toLowerCase().includes(P))})),b&&!k.some(M=>M.animal_id===b.animal_id)&&(k=[b,...k]),k},[e,h,b]),T=P=>{const k={collar_id:P.collar_id,estado:P.estado,bateria:t.bateria,animal_id:P.animal_id};k.estado==="sin bateria"&&(k.bateria=0),r({...k,original_animal_id:P.original_animal_id,original_estado:P.original_estado,codigo:P.codigo})};return g.jsx(fw,{...s,children:g.jsxs("form",{onSubmit:o(T),className:"space-y-6 p-4",children:[g.jsx(Ot,{control:s.control,name:"collar_id",render:({field:P})=>g.jsxs(Nt,{className:"hidden",children:[g.jsx(Ft,{children:g.jsx(Kt,{type:"hidden",...P,value:P.value!==void 0?String(P.value):""})}),g.jsx(gn,{})]})}),g.jsx(Ot,{control:s.control,name:"original_animal_id",render:({field:P})=>g.jsx(Nt,{className:"hidden",children:g.jsx(Ft,{children:g.jsx(Kt,{type:"hidden",...P})})})}),g.jsx(Ot,{control:s.control,name:"original_estado",render:({field:P})=>g.jsx(Nt,{className:"hidden",children:g.jsx(Ft,{children:g.jsx(Kt,{type:"hidden",...P})})})}),g.jsx(Ot,{control:s.control,name:"codigo",render:({field:P})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Cdigo del Collar"}),g.jsx(Ft,{children:g.jsx(Kt,{...P,disabled:!0})}),g.jsx(gn,{})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Ot,{control:s.control,name:"estado",render:({field:P})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Estado del Collar"}),g.jsxs(Si,{onValueChange:P.onChange,value:P.value,disabled:p,children:[g.jsx(Ft,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar estado"})})}),g.jsx(ri,{children:v.map(k=>g.jsx(Rn,{value:k.nombre,children:k.nombre.charAt(0).toUpperCase()+k.nombre.slice(1)},k.id))})]}),g.jsx(gn,{})]})}),g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Nivel de Batera"}),g.jsx(Ft,{children:g.jsx("div",{className:"flex items-center h-10",children:w(t.bateria)})})]})]}),g.jsx(Ot,{control:s.control,name:"animal_id",render:({field:P})=>g.jsxs(Nt,{children:[g.jsx(Ut,{children:"Asignar a Animal"}),g.jsxs(Si,{onValueChange:P.onChange,value:P.value,disabled:y,children:[g.jsx(Ft,{children:g.jsx(ni,{children:g.jsx(Ci,{placeholder:"Seleccionar animal (opcional)"})})}),g.jsxs(ri,{withScrollButtons:!1,className:"bg-white max-h-[350px] overflow-auto",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx(Kt,{value:h,onChange:k=>f(k.target.value),onKeyDown:k=>k.stopPropagation(),placeholder:"Buscar animal o collar",className:"mb-2 text-sm mt-4 px-4"}),g.jsx(Rn,{value:"UNASSIGNED",className:"border-b",children:g.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[g.jsx(E4,{className:"h-4 w-4"})," Desasignar"]})}),g.jsx(cw,{className:"sticky top-[6rem] z-10 bg-white h-max"})]}),R.length===0?g.jsx("div",{className:"text-sm text-gray-400 text-center py-2",children:"Sin resultados"}):R.map(k=>g.jsxs(Rn,{value:k.animal_id.toString(),className:"bg-white",children:[k.nombre," (",k.numero_identificacion,")",k.collar_asignado&&k.collar_asignado.id!==t.collar_id&&g.jsxs("span",{className:"italic ml-2",children:[" - Collar asignado (",k.collar_asignado.codigo,")"]})]},k.animal_id)),g.jsx(uw,{className:"sticky bottom-0 z-10 bg-white h-max"})]})]}),g.jsx(vi,{children:"Asigna este collar a un animal especfico. Un collar solo puede estar asignado a un animal a la vez. Si el animal ya tiene un collar, este ser desasignado automticamente."}),g.jsx(gn,{})]})}),g.jsxs("div",{className:"flex justify-end gap-4 mt-6 border-t pt-4",children:[g.jsx(at,{type:"button",variant:"outline",onClick:n,className:"flex items-center gap-2 px-6 py-3 rounded-xl border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(at,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(VT,{className:"h-5 w-5"}),"Guardar Collar"]})]})]})})}const $x=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("rounded-xl border bg-card text-card-foreground shadow",t),...e}));$x.displayName="Card";const KZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",t),...e}));KZ.displayName="CardHeader";const YZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("font-semibold leading-none tracking-tight",t),...e}));YZ.displayName="CardTitle";const ZZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));ZZ.displayName="CardDescription";const Bx=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("p-6 pt-0",t),...e}));Bx.displayName="CardContent";const qZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",t),...e}));qZ.displayName="CardFooter";function JZ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const QZ=t=>{switch(t){case"success":return nq;case"info":return iq;case"warning":return rq;case"error":return sq;default:return null}},eq=Array(12).fill(0),tq=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},eq.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),nq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aq=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Gx=1;class lq{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Gx++,o=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:r}),{...u,...e,id:s,dismissible:l,title:r}):u):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],le.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(uq(d)&&!d.ok){s=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(d instanceof Error){s=!1;const f=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){s=!1;const f=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...v})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!le.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...y})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Gx++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cr=new lq,cq=(t,e)=>{const n=(e==null?void 0:e.id)||Gx++;return Cr.addToast({title:t,...e,id:n}),n},uq=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dq=cq,hq=()=>Cr.toasts,fq=()=>Cr.getActiveToasts(),Rt=Object.assign(dq,{success:Cr.success,info:Cr.info,warning:Cr.warning,error:Cr.error,custom:Cr.custom,message:Cr.message,promise:Cr.promise,dismiss:Cr.dismiss,loading:Cr.loading},{getHistory:hq,getToasts:fq});JZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vf(t){return t.label!==void 0}const mq=3,gq="24px",pq="16px",aT=4e3,yq=356,xq=14,vq=45,_q=200;function Ki(...t){return t.filter(Boolean).join(" ")}function wq(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Sq=t=>{var e,n,r,i,s,o,l,u,d;const{invert:h,toast:f,unstyled:p,interacting:y,setHeights:v,visibleToasts:w,heights:S,index:b,toasts:R,expanded:T,removeToast:P,defaultRichColors:k,closeButton:M,style:F,cancelButtonStyle:I,actionButtonStyle:z,className:W="",descriptionClassName:V="",duration:X,position:G,gap:te,expandByDefault:J,classNames:$,icons:D,closeButtonAriaLabel:j="Close toast"}=t,[U,Y]=le.useState(null),[N,L]=le.useState(null),[ne,ie]=le.useState(!1),[ce,ge]=le.useState(!1),[ae,pe]=le.useState(!1),[we,be]=le.useState(!1),[$e,Be]=le.useState(!1),[_t,pt]=le.useState(0),[Dt,Vt]=le.useState(0),zt=le.useRef(f.duration||X||aT),On=le.useRef(null),Tt=le.useRef(null),B=b===0,Z=b+1<=w,ee=f.type,he=f.dismissible!==!1,fe=f.className||"",se=f.descriptionClassName||"",ye=le.useMemo(()=>S.findIndex(ze=>ze.toastId===f.id)||0,[S,f.id]),De=le.useMemo(()=>{var ze;return(ze=f.closeButton)!=null?ze:M},[f.closeButton,M]),Ve=le.useMemo(()=>f.duration||X||aT,[f.duration,X]),yt=le.useRef(0),$t=le.useRef(0),mt=le.useRef(0),Wn=le.useRef(null),[Hr,kr]=G.split("-"),Xr=le.useMemo(()=>S.reduce((ze,st,qe)=>qe>=ye?ze:ze+st.height,0),[S,ye]),or=aq(),Pe=f.invert||h,xe=ee==="loading";$t.current=le.useMemo(()=>ye*te+Xr,[ye,Xr]),le.useEffect(()=>{zt.current=Ve},[Ve]),le.useEffect(()=>{ie(!0)},[]),le.useEffect(()=>{const ze=Tt.current;if(ze){const st=ze.getBoundingClientRect().height;return Vt(st),v(qe=>[{toastId:f.id,height:st,position:f.position},...qe]),()=>v(qe=>qe.filter(xt=>xt.toastId!==f.id))}},[v,f.id]),le.useLayoutEffect(()=>{if(!ne)return;const ze=Tt.current,st=ze.style.height;ze.style.height="auto";const qe=ze.getBoundingClientRect().height;ze.style.height=st,Vt(qe),v(xt=>xt.find(gt=>gt.toastId===f.id)?xt.map(gt=>gt.toastId===f.id?{...gt,height:qe}:gt):[{toastId:f.id,height:qe,position:f.position},...xt])},[ne,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const ut=le.useCallback(()=>{ge(!0),pt($t.current),v(ze=>ze.filter(st=>st.toastId!==f.id)),setTimeout(()=>{P(f)},_q)},[f,P,v,$t]);le.useEffect(()=>{if(f.promise&&ee==="loading"||f.duration===1/0||f.type==="loading")return;let ze;return T||y||or?(()=>{if(mt.current<yt.current){const xt=new Date().getTime()-yt.current;zt.current=zt.current-xt}mt.current=new Date().getTime()})():(()=>{zt.current!==1/0&&(yt.current=new Date().getTime(),ze=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ut()},zt.current))})(),()=>clearTimeout(ze)},[T,y,f,ee,or,ut]),le.useEffect(()=>{f.delete&&(ut(),f.onDismiss==null||f.onDismiss.call(f,f))},[ut,f.delete]);function Pt(){var ze;if(D!=null&&D.loading){var st;return le.createElement("div",{className:Ki($==null?void 0:$.loader,f==null||(st=f.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":ee==="loading"},D.loading)}return le.createElement(tq,{className:Ki($==null?void 0:$.loader,f==null||(ze=f.classNames)==null?void 0:ze.loader),visible:ee==="loading"})}const Zt=f.icon||(D==null?void 0:D[ee])||QZ(ee);var jt,An;return le.createElement("li",{tabIndex:0,ref:Tt,className:Ki(W,fe,$==null?void 0:$.toast,f==null||(e=f.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[ee],f==null||(n=f.classNames)==null?void 0:n[ee]),"data-sonner-toast":"","data-rich-colors":(jt=f.richColors)!=null?jt:k,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":ne,"data-promise":!!f.promise,"data-swiped":$e,"data-removed":ce,"data-visible":Z,"data-y-position":Hr,"data-x-position":kr,"data-index":b,"data-front":B,"data-swiping":ae,"data-dismissible":he,"data-type":ee,"data-invert":Pe,"data-swipe-out":we,"data-swipe-direction":N,"data-expanded":!!(T||J&&ne),style:{"--index":b,"--toasts-before":b,"--z-index":R.length-b,"--offset":`${ce?_t:$t.current}px`,"--initial-height":J?"auto":`${Dt}px`,...F,...f.style},onDragEnd:()=>{pe(!1),Y(null),Wn.current=null},onPointerDown:ze=>{xe||!he||(On.current=new Date,pt($t.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(pe(!0),Wn.current={x:ze.clientX,y:ze.clientY}))},onPointerUp:()=>{var ze,st,qe;if(we||!he)return;Wn.current=null;const xt=Number(((ze=Tt.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),et=Number(((st=Tt.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gt=new Date().getTime()-((qe=On.current)==null?void 0:qe.getTime()),Qt=U==="x"?xt:et,Ar=Math.abs(Qt)/gt;if(Math.abs(Qt)>=vq||Ar>.11){pt($t.current),f.onDismiss==null||f.onDismiss.call(f,f),L(U==="x"?xt>0?"right":"left":et>0?"down":"up"),ut(),be(!0);return}else{var Ct,Bt;(Ct=Tt.current)==null||Ct.style.setProperty("--swipe-amount-x","0px"),(Bt=Tt.current)==null||Bt.style.setProperty("--swipe-amount-y","0px")}Be(!1),pe(!1),Y(null)},onPointerMove:ze=>{var st,qe,xt;if(!Wn.current||!he||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;const gt=ze.clientY-Wn.current.y,Qt=ze.clientX-Wn.current.x;var Ar;const Ct=(Ar=t.swipeDirections)!=null?Ar:wq(G);!U&&(Math.abs(Qt)>1||Math.abs(gt)>1)&&Y(Math.abs(Qt)>Math.abs(gt)?"x":"y");let Bt={x:0,y:0};const Mn=gr=>1/(1.5+Math.abs(gr)/20);if(U==="y"){if(Ct.includes("top")||Ct.includes("bottom"))if(Ct.includes("top")&&gt<0||Ct.includes("bottom")&&gt>0)Bt.y=gt;else{const gr=gt*Mn(gt);Bt.y=Math.abs(gr)<Math.abs(gt)?gr:gt}}else if(U==="x"&&(Ct.includes("left")||Ct.includes("right")))if(Ct.includes("left")&&Qt<0||Ct.includes("right")&&Qt>0)Bt.x=Qt;else{const gr=Qt*Mn(Qt);Bt.x=Math.abs(gr)<Math.abs(Qt)?gr:Qt}(Math.abs(Bt.x)>0||Math.abs(Bt.y)>0)&&Be(!0),(qe=Tt.current)==null||qe.style.setProperty("--swipe-amount-x",`${Bt.x}px`),(xt=Tt.current)==null||xt.style.setProperty("--swipe-amount-y",`${Bt.y}px`)}},De&&!f.jsx&&ee!=="loading"?le.createElement("button",{"aria-label":j,"data-disabled":xe,"data-close-button":!0,onClick:xe||!he?()=>{}:()=>{ut(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Ki($==null?void 0:$.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(An=D==null?void 0:D.close)!=null?An:oq):null,(ee||f.icon||f.promise)&&f.icon!==null&&((D==null?void 0:D[ee])!==null||f.icon)?le.createElement("div",{"data-icon":"",className:Ki($==null?void 0:$.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Pt():null,f.type!=="loading"?Zt:null):null,le.createElement("div",{"data-content":"",className:Ki($==null?void 0:$.content,f==null||(s=f.classNames)==null?void 0:s.content)},le.createElement("div",{"data-title":"",className:Ki($==null?void 0:$.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?le.createElement("div",{"data-description":"",className:Ki(V,se,$==null?void 0:$.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),le.isValidElement(f.cancel)?f.cancel:f.cancel&&vf(f.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:ze=>{vf(f.cancel)&&he&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,ze),ut())},className:Ki($==null?void 0:$.cancelButton,f==null||(u=f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,le.isValidElement(f.action)?f.action:f.action&&vf(f.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||z,onClick:ze=>{vf(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,ze),!ze.defaultPrevented&&ut())},className:Ki($==null?void 0:$.actionButton,f==null||(d=f.classNames)==null?void 0:d.actionButton)},f.action.label):null)};function lT(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Cq(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",l=s?pq:gq;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(l)}),n}const bq=le.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:y,style:v,visibleToasts:w=mq,toastOptions:S,dir:b=lT(),gap:R=xq,icons:T,containerAriaLabel:P="Notifications"}=e,[k,M]=le.useState([]),F=le.useMemo(()=>Array.from(new Set([i].concat(k.filter(N=>N.position).map(N=>N.position)))),[k,i]),[I,z]=le.useState([]),[W,V]=le.useState(!1),[X,G]=le.useState(!1),[te,J]=le.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=le.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=le.useRef(null),U=le.useRef(!1),Y=le.useCallback(N=>{M(L=>{var ne;return(ne=L.find(ie=>ie.id===N.id))!=null&&ne.delete||Cr.dismiss(N.id),L.filter(({id:ie})=>ie!==N.id)})},[]);return le.useEffect(()=>Cr.subscribe(N=>{if(N.dismiss){requestAnimationFrame(()=>{M(L=>L.map(ne=>ne.id===N.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{jT.flushSync(()=>{M(L=>{const ne=L.findIndex(ie=>ie.id===N.id);return ne!==-1?[...L.slice(0,ne),{...L[ne],...N},...L.slice(ne+1)]:[N,...L]})})})}),[k]),le.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:L})=>{J(L?"dark":"light")})}catch{N.addListener(({matches:ne})=>{try{J(ne?"dark":"light")}catch(ie){console.error(ie)}})}},[f]),le.useEffect(()=>{k.length<=1&&V(!1)},[k]),le.useEffect(()=>{const N=L=>{var ne;if(s.every(ge=>L[ge]||L.code===ge)){var ce;V(!0),(ce=$.current)==null||ce.focus()}L.code==="Escape"&&(document.activeElement===$.current||(ne=$.current)!=null&&ne.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),le.useEffect(()=>{if($.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,U.current=!1)}},[$.current]),le.createElement("section",{ref:n,"aria-label":`${P} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((N,L)=>{var ne;const[ie,ce]=N.split("-");return k.length?le.createElement("ol",{key:N,dir:b==="auto"?lT():b,tabIndex:-1,ref:$,className:u,"data-sonner-toaster":!0,"data-sonner-theme":te,"data-y-position":ie,"data-x-position":ce,style:{"--front-toast-height":`${((ne=I[0])==null?void 0:ne.height)||0}px`,"--width":`${yq}px`,"--gap":`${R}px`,...v,...Cq(d,h)},onBlur:ge=>{U.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(U.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||U.current||(U.current=!0,j.current=ge.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{X||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},k.filter(ge=>!ge.position&&L===0||ge.position===N).map((ge,ae)=>{var pe,we;return le.createElement(Sq,{key:ge.id,icons:T,index:ae,toast:ge,defaultRichColors:p,duration:(pe=S==null?void 0:S.duration)!=null?pe:y,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:r,visibleToasts:w,closeButton:(we=S==null?void 0:S.closeButton)!=null?we:l,interacting:X,position:N,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:Y,toasts:k.filter(be=>be.position==ge.position),heights:I.filter(be=>be.position==ge.position),setHeights:z,expandByDefault:o,gap:R,expanded:W,swipeDirections:e.swipeDirections})})):null}))});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Eq(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Co(t,e){return typeof t=="function"?t(e):t}function Wr(t,e){return n=>{e.setState(r=>({...r,[t]:Co(n,r[t])}))}}function Eg(t){return t instanceof Function}function Rq(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Tq(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function Ue(t,e,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(s);if(!(l.length!==r.length||l.some((h,f)=>r[f]!==h)))return i;r=l;let d;if(n.key&&n.debug&&(d=Date.now()),i=e(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-d)*100)/100,p=f/16,y=(v,w)=>{for(v=String(v);v.length<w;)v=" "+v;return v};console.info(`%c ${y(f,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function We(t,e,n,r){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function Pq(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Ue(()=>[t,n,e,s],(o,l,u,d)=>({table:o,column:l,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),We(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function kq(t,e,n,r){var i,s;const l={...t._getDefaultColumnDef(),...e},u=l.accessorKey;let d=(i=(s=l.id)!=null?s:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:u&&(u.includes(".")?h=p=>{let y=p;for(const w of u.split(".")){var v;y=(v=y)==null?void 0:v[w]}return y}:h=p=>p[l.accessorKey]),!d)throw new Error;let f={id:`${String(d)}`,accessorFn:h,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Ue(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(y=>y.getFlatColumns())]},We(t.options,"debugColumns")),getLeafColumns:Ue(()=>[t._getOrderColumnsFn()],p=>{var y;if((y=f.columns)!=null&&y.length){let v=f.columns.flatMap(w=>w.getLeafColumns());return p(v)}return[f]},We(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(f,t);return f}const qn="debugHeaders";function cT(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),o.push(u)};return l(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const Aq={createTable:t=>{t.getHeaderGroups=Ue(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const l=(s=r==null?void 0:r.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?s:[],u=(o=i==null?void 0:i.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?o:[],d=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return _f(e,[...l,...d,...u],t)},We(t.options,qn)),t.getCenterHeaderGroups=Ue(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),_f(e,n,t,"center")),We(t.options,qn)),t.getLeftHeaderGroups=Ue(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return _f(e,s,t,"left")},We(t.options,qn)),t.getRightHeaderGroups=Ue(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return _f(e,s,t,"right")},We(t.options,qn)),t.getFooterGroups=Ue(()=>[t.getHeaderGroups()],e=>[...e].reverse(),We(t.options,qn)),t.getLeftFooterGroups=Ue(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),We(t.options,qn)),t.getCenterFooterGroups=Ue(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),We(t.options,qn)),t.getRightFooterGroups=Ue(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),We(t.options,qn)),t.getFlatHeaders=Ue(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),We(t.options,qn)),t.getLeftFlatHeaders=Ue(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),We(t.options,qn)),t.getCenterFlatHeaders=Ue(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),We(t.options,qn)),t.getRightFlatHeaders=Ue(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),We(t.options,qn)),t.getCenterLeafHeaders=Ue(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),We(t.options,qn)),t.getLeftLeafHeaders=Ue(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),We(t.options,qn)),t.getRightLeafHeaders=Ue(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),We(t.options,qn)),t.getLeafHeaders=Ue(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,l,u,d;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(u=(d=r[0])==null?void 0:d.headers)!=null?u:[]].map(h=>h.getLeafHeaders()).flat()},We(t.options,qn))}};function _f(t,e,n,r){var i,s;let o=0;const l=function(p,y){y===void 0&&(y=1),o=Math.max(o,y),p.filter(v=>v.getIsVisible()).forEach(v=>{var w;(w=v.columns)!=null&&w.length&&l(v.columns,y+1)},0)};l(t);let u=[];const d=(p,y)=>{const v={depth:y,id:[r,`${y}`].filter(Boolean).join("_"),headers:[]},w=[];p.forEach(S=>{const b=[...w].reverse()[0],R=S.column.depth===v.depth;let T,P=!1;if(R&&S.column.parent?T=S.column.parent:(T=S.column,P=!0),b&&(b==null?void 0:b.column)===T)b.subHeaders.push(S);else{const k=cT(n,T,{id:[r,y,T.id,S==null?void 0:S.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${w.filter(M=>M.column===T).length}`:void 0,depth:y,index:w.length});k.subHeaders.push(S),w.push(k)}v.headers.push(S),S.headerGroup=v}),u.push(v),y>0&&d(w,y-1)},h=e.map((p,y)=>cT(n,p,{depth:o,index:y}));d(h,o-1),u.reverse();const f=p=>p.filter(v=>v.column.getIsVisible()).map(v=>{let w=0,S=0,b=[0];v.subHeaders&&v.subHeaders.length?(b=[],f(v.subHeaders).forEach(T=>{let{colSpan:P,rowSpan:k}=T;w+=P,b.push(k)})):w=1;const R=Math.min(...b);return S=S+R,v.colSpan=w,v.rowSpan=S,{colSpan:w,rowSpan:S}});return f((i=(s=u[0])==null?void 0:s.headers)!=null?i:[]),u}const mw=(t,e,n,r,i,s,o)=>{let l={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return l._valuesCache[u]=d.accessorFn(l.original,r),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const d=t.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=l.getValue(u))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Tq(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;u.push(h),d=h}return u.reverse()},getAllCells:Ue(()=>[t.getAllLeafColumns()],u=>u.map(d=>Pq(t,l,d,d.id)),We(t.options,"debugRows")),_getAllCellsByColumnId:Ue(()=>[l.getAllCells()],u=>u.reduce((d,h)=>(d[h.column.id]=h,d),{}),We(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const d=t._features[u];d==null||d.createRow==null||d.createRow(l,t)}return l},Mq={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},iN=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};iN.autoRemove=t=>ki(t);const sN=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};sN.autoRemove=t=>ki(t);const oN=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};oN.autoRemove=t=>ki(t);const aN=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};aN.autoRemove=t=>ki(t);const lN=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});lN.autoRemove=t=>ki(t)||!(t!=null&&t.length);const cN=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});cN.autoRemove=t=>ki(t)||!(t!=null&&t.length);const uN=(t,e,n)=>t.getValue(e)===n;uN.autoRemove=t=>ki(t);const dN=(t,e,n)=>t.getValue(e)==n;dN.autoRemove=t=>ki(t);const gw=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};gw.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const l=s;s=o,o=l}return[s,o]};gw.autoRemove=t=>ki(t)||ki(t[0])&&ki(t[1]);const ks={includesString:iN,includesStringSensitive:sN,equalsString:oN,arrIncludes:aN,arrIncludesAll:lN,arrIncludesSome:cN,equals:uN,weakEquals:dN,inNumberRange:gw};function ki(t){return t==null||t===""}const Iq={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Wr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?ks.includesString:typeof r=="number"?ks.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ks.equals:Array.isArray(r)?ks.arrIncludes:ks.weakEquals},t.getFilterFn=()=>{var n,r;return Eg(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:ks[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r==null?void 0:r.find(h=>h.id===t.id),o=Co(n,s?s.value:void 0);if(uT(i,o,t)){var l;return(l=r==null?void 0:r.filter(h=>h.id!==t.id))!=null?l:[]}const u={id:t.id,value:o};if(s){var d;return(d=r==null?void 0:r.map(h=>h.id===t.id?u:h))!=null?d:[]}return r!=null&&r.length?[...r,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Co(e,i))==null?void 0:s.filter(o=>{const l=n.find(u=>u.id===o.id);if(l){const u=l.getFilterFn();if(uT(u,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function uT(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Nq=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),Fq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},jq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Lq=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},Dq=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},Oq=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!Rq(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},Vq=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),zq=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,$q=(t,e)=>e.length,m0={sum:Nq,min:Fq,max:jq,extent:Lq,mean:Dq,median:Oq,unique:Vq,uniqueCount:zq,count:$q},Bq={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Wr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return m0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return m0.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Eg(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:m0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Gq(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const Uq={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Wr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Ue(n=>[Lu(e,n)],n=>n.findIndex(r=>r.id===t.id),We(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Lu(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=Lu(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Ue(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],l=[...i];for(;l.length&&o.length;){const u=o.shift(),d=l.findIndex(h=>h.id===u);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return Gq(s,n,r)},We(t.options,"debugTable"))}},g0=()=>({left:[],right:[]}),Wq={getInitialState:t=>({columnPinning:g0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Wr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var l,u;return{left:((l=i==null?void 0:i.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((u=i==null?void 0:i.right)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var d,h;return{left:[...((d=i==null?void 0:i.left)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Ue(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},We(e.options,"debugRows")),t.getLeftVisibleCells=Ue(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),We(e.options,"debugRows")),t.getRightVisibleCells=Ue(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),We(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?g0():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:g0())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Ue(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),We(t.options,"debugColumns")),t.getRightLeafColumns=Ue(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),We(t.options,"debugColumns")),t.getCenterLeafColumns=Ue(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},We(t.options,"debugColumns"))}};function Hq(t){return t||(typeof document<"u"?document:null)}const wf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},p0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Xq={getDefaultColumnDef:()=>wf,getInitialState:t=>({columnSizing:{},columnSizingInfo:p0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Wr("columnSizing",t),onColumnSizingInfoChange:Wr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:wf.minSize,(r=s??t.columnDef.size)!=null?r:wf.size),(i=t.columnDef.maxSize)!=null?i:wf.maxSize)},t.getStart=Ue(n=>[n,Lu(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),We(e.options,"debugColumns")),t.getAfter=Ue(n=>[n,Lu(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),We(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),y0(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],u=y0(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(b,R)=>{typeof R=="number"&&(e.setColumnSizingInfo(T=>{var P,k;const M=e.options.columnResizeDirection==="rtl"?-1:1,F=(R-((P=T==null?void 0:T.startOffset)!=null?P:0))*M,I=Math.max(F/((k=T==null?void 0:T.startSize)!=null?k:0),-.999999);return T.columnSizingStart.forEach(z=>{let[W,V]=z;d[W]=Math.round(Math.max(V+V*I,0)*100)/100}),{...T,deltaOffset:F,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||b==="end")&&e.setColumnSizing(T=>({...T,...d})))},f=b=>h("move",b),p=b=>{h("end",b),e.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=Hq(n),v={moveHandler:b=>f(b.clientX),upHandler:b=>{y==null||y.removeEventListener("mousemove",v.moveHandler),y==null||y.removeEventListener("mouseup",v.upHandler),p(b.clientX)}},w={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),f(b.touches[0].clientX),!1),upHandler:b=>{var R;y==null||y.removeEventListener("touchmove",w.moveHandler),y==null||y.removeEventListener("touchend",w.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),p((R=b.touches[0])==null?void 0:R.clientX)}},S=Kq()?{passive:!1}:!1;y0(s)?(y==null||y.addEventListener("touchmove",w.moveHandler,S),y==null||y.addEventListener("touchend",w.upHandler,S)):(y==null||y.addEventListener("mousemove",v.moveHandler,S),y==null||y.addEventListener("mouseup",v.upHandler,S)),e.setColumnSizingInfo(b=>({...b,startOffset:u,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?p0():(n=t.initialState.columnSizingInfo)!=null?n:p0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let Sf=null;function Kq(){if(typeof Sf=="boolean")return Sf;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Sf=t,Sf}function y0(t){return t.type==="touchstart"}const Yq={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Wr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Ue(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),We(e.options,"debugRows")),t.getVisibleCells=Ue(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],We(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Ue(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),We(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Lu(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Zq={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},qq={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Wr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>ks.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Eg(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:ks[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},Jq={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Wr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:l,...u}=o;return u}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Ux=0,Wx=10,x0=()=>({pageIndex:Ux,pageSize:Wx}),Qq={getInitialState:t=>({...t,pagination:{...x0(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Wr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>Co(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?x0():(i=t.initialState.pagination)!=null?i:x0())},t.setPageIndex=r=>{t.setPagination(i=>{let s=Co(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?Ux:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:Ux)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?Wx:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:Wx)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,Co(r,i.pageSize)),o=i.pageSize*i.pageIndex,l=Math.floor(o/s);return{...i,pageIndex:l,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let o=Co(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=Ue(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},We(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},v0=()=>({top:[],bottom:[]}),eJ={getInitialState:t=>({rowPinning:v0(),...t}),getDefaultOptions:t=>({onRowPinningChange:Wr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(u=>{let{id:d}=u;return d}):[],o=i?t.getParentRows().map(u=>{let{id:d}=u;return d}):[],l=new Set([...o,t.id,...s]);e.setRowPinning(u=>{var d,h;if(n==="bottom"){var f,p;return{top:((f=u==null?void 0:u.top)!=null?f:[]).filter(w=>!(l!=null&&l.has(w))),bottom:[...((p=u==null?void 0:u.bottom)!=null?p:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)]}}if(n==="top"){var y,v;return{top:[...((y=u==null?void 0:u.top)!=null?y:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)],bottom:((v=u==null?void 0:u.bottom)!=null?v:[]).filter(w=>!(l!=null&&l.has(w)))}}return{top:((d=u==null?void 0:u.top)!=null?d:[]).filter(w=>!(l!=null&&l.has(w))),bottom:((h=u==null?void 0:u.bottom)!=null?h:[]).filter(w=>!(l!=null&&l.has(w)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=s==null?void 0:s.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?v0():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:v0())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=Ue(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),We(t.options,"debugRows")),t.getBottomRows=Ue(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),We(t.options,"debugRows")),t.getCenterRows=Ue(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},We(t.options,"debugRows"))}},tJ={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Wr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{Hx(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Ue(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},We(t.options,"debugTable")),t.getFilteredSelectedRowModel=Ue(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},We(t.options,"debugTable")),t.getGroupedSelectedRowModel=Ue(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},We(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const l={...s};return Hx(l,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return pw(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Xx(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Xx(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Hx=(t,e,n,r,i)=>{var s;const o=i.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>Hx(t,l.id,n,r,i))};function _0(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,l){return o.map(u=>{var d;const h=pw(u,n);if(h&&(r.push(u),i[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:s(u.subRows)}),h)return u}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function pw(t,e){var n;return(n=e[t.id])!=null?n:!1}function Xx(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(pw(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const l=Xx(o,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const Kx=/([0-9]+)/gm,nJ=(t,e,n)=>hN(Oo(t.getValue(n)).toLowerCase(),Oo(e.getValue(n)).toLowerCase()),rJ=(t,e,n)=>hN(Oo(t.getValue(n)),Oo(e.getValue(n))),iJ=(t,e,n)=>yw(Oo(t.getValue(n)).toLowerCase(),Oo(e.getValue(n)).toLowerCase()),sJ=(t,e,n)=>yw(Oo(t.getValue(n)),Oo(e.getValue(n))),oJ=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},aJ=(t,e,n)=>yw(t.getValue(n),e.getValue(n));function yw(t,e){return t===e?0:t>e?1:-1}function Oo(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function hN(t,e){const n=t.split(Kx).filter(Boolean),r=e.split(Kx).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),l=parseInt(s,10),u=[o,l].sort();if(isNaN(u[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const gu={alphanumeric:nJ,alphanumericCaseSensitive:rJ,text:iJ,textCaseSensitive:sJ,datetime:oJ,basic:aJ},lJ={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Wr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return gu.datetime;if(typeof s=="string"&&(r=!0,s.split(Kx).length>1))return gu.alphanumeric}return r?gu.text:gu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Eg(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:gu[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(y=>y.id===t.id),u=o==null?void 0:o.findIndex(y=>y.id===t.id);let d=[],h,f=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?l?h="toggle":h="add":o!=null&&o.length&&u!==o.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||i||(h="remove")),h==="add"){var p;d=[...o,{id:t.id,desc:f}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=o.map(y=>y.id===t.id?{...y,desc:f}:y):h==="remove"?d=o.filter(y=>y.id!==t.id):d=[{id:t.id,desc:f}];return d})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},cJ=[Aq,Yq,Uq,Wq,Mq,Iq,Zq,qq,lJ,Bq,Jq,Qq,eJ,tJ,Xq];function uJ(t){var e,n;const r=[...cJ,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((p,y)=>Object.assign(p,y.getDefaultOptions==null?void 0:y.getDefaultOptions(i)),{}),o=p=>i.options.mergeOptions?i.options.mergeOptions(s,p):{...s,...p};let u={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(p=>{var y;u=(y=p.getInitialState==null?void 0:p.getInitialState(u))!=null?y:u});const d=[];let h=!1;const f={_features:r,options:{...s,...t},initialState:u,_queue:p=>{d.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const y=Co(p,i.options);i.options=o(y)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,y,v)=>{var w;return(w=i.options.getRowId==null?void 0:i.options.getRowId(p,y,v))!=null?w:`${v?[v.id,y].join("."):y}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,y)=>{let v=(y?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!v&&(v=i.getCoreRowModel().rowsById[p],!v))throw new Error;return v},_getDefaultColumnDef:Ue(()=>[i.options.defaultColumn],p=>{var y;return p=(y=p)!=null?y:{},{header:v=>{const w=v.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:v=>{var w,S;return(w=(S=v.renderValue())==null||S.toString==null?void 0:S.toString())!=null?w:null},...i._features.reduce((v,w)=>Object.assign(v,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...p}},We(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Ue(()=>[i._getColumnDefs()],p=>{const y=function(v,w,S){return S===void 0&&(S=0),v.map(b=>{const R=kq(i,b,S,w),T=b;return R.columns=T.columns?y(T.columns,R,S+1):[],R})};return y(p)},We(t,"debugColumns")),getAllFlatColumns:Ue(()=>[i.getAllColumns()],p=>p.flatMap(y=>y.getFlatColumns()),We(t,"debugColumns")),_getAllFlatColumnsById:Ue(()=>[i.getAllFlatColumns()],p=>p.reduce((y,v)=>(y[v.id]=v,y),{}),We(t,"debugColumns")),getAllLeafColumns:Ue(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,y)=>{let v=p.flatMap(w=>w.getLeafColumns());return y(v)},We(t,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,f);for(let p=0;p<i._features.length;p++){const y=i._features[p];y==null||y.createTable==null||y.createTable(i)}return i}function fN(){return t=>Ue(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const l=[];for(let d=0;d<i.length;d++){const h=mw(t,t._getRowId(i[d],d,o),i[d],d,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var u;h.originalSubRows=t.options.getSubRows(i[d],d),(u=h.originalSubRows)!=null&&u.length&&(h.subRows=r(h.originalSubRows,s+1,h))}}return l};return n.rows=r(e),n},We(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function dJ(){return t=>Ue(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,n,r)=>!n.rows.length||e!==!0&&!Object.keys(e??{}).length||!r?n:mN(n),We(t.options,"debugTable"))}function mN(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function gN(t,e,n){return n.options.filterFromLeafRows?hJ(t,e,n):fJ(t,e,n)}function hJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(u,d){d===void 0&&(d=0);const h=[];for(let p=0;p<u.length;p++){var f;let y=u[p];const v=mw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);if(v.columnFilters=y.columnFilters,(f=y.subRows)!=null&&f.length&&d<o){if(v.subRows=l(y.subRows,d+1),y=v,e(y)&&!v.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}if(e(y)||v.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}}else y=v,e(y)&&(h.push(y),s[y.id]=y,i.push(y))}return h};return{rows:l(t),flatRows:i,rowsById:s}}function fJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(u,d){d===void 0&&(d=0);const h=[];for(let p=0;p<u.length;p++){let y=u[p];if(e(y)){var f;if((f=y.subRows)!=null&&f.length&&d<o){const w=mw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);w.subRows=l(y.subRows,d+1),y=w}h.push(y),i.push(y),s[y.id]=y}}return h};return{rows:l(t),flatRows:i,rowsById:s}}function mJ(){return(t,e)=>Ue(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter,t.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(l=>l.id).filter(l=>l!==e),i?"__global__":void 0].filter(Boolean),o=l=>{for(let u=0;u<s.length;u++)if(l.columnFilters[s[u]]===!1)return!1;return!0};return gN(n.rows,o,t)},We(t.options,"debugTable"))}function gJ(){return(t,e)=>Ue(()=>{var n;return[(n=t.getColumn(e))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const o=n.flatRows[s].getUniqueValues(e);for(let l=0;l<o.length;l++){const u=o[l];if(r.has(u)){var i;r.set(u,((i=r.get(u))!=null?i:0)+1)}else r.set(u,1)}}return r},We(t.options,"debugTable"))}function pN(){return t=>Ue(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<e.flatRows.length;p++)e.flatRows[p].columnFilters={},e.flatRows[p].columnFiltersMeta={};return e}const i=[],s=[];(n??[]).forEach(p=>{var y;const v=t.getColumn(p.id);if(!v)return;const w=v.getFilterFn();w&&i.push({id:p.id,filterFn:w,resolvedValue:(y=w.resolveFilterValue==null?void 0:w.resolveFilterValue(p.value))!=null?y:p.value})});const o=(n??[]).map(p=>p.id),l=t.getGlobalFilterFn(),u=t.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&l&&u.length&&(o.push("__global__"),u.forEach(p=>{var y;s.push({id:p.id,filterFn:l,resolvedValue:(y=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?y:r})}));let d,h;for(let p=0;p<e.flatRows.length;p++){const y=e.flatRows[p];if(y.columnFilters={},i.length)for(let v=0;v<i.length;v++){d=i[v];const w=d.id;y.columnFilters[w]=d.filterFn(y,w,d.resolvedValue,S=>{y.columnFiltersMeta[w]=S})}if(s.length){for(let v=0;v<s.length;v++){h=s[v];const w=h.id;if(h.filterFn(y,w,h.resolvedValue,S=>{y.columnFiltersMeta[w]=S})){y.columnFilters.__global__=!0;break}}y.columnFilters.__global__!==!0&&(y.columnFilters.__global__=!1)}}const f=p=>{for(let y=0;y<o.length;y++)if(p.columnFilters[o[y]]===!1)return!1;return!0};return gN(e.rows,f,t)},We(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function yN(t){return e=>Ue(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:l,rowsById:u}=r;const d=i*s,h=d+i;o=o.slice(d,h);let f;e.options.paginateExpandedRows?f={rows:o,flatRows:l,rowsById:u}:f=mN({rows:o,flatRows:l,rowsById:u}),f.flatRows=[];const p=y=>{f.flatRows.push(y),y.subRows.length&&y.subRows.forEach(p)};return f.rows.forEach(p),f},We(e.options,"debugTable"))}function xN(){return t=>Ue(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(u=>{var d;return(d=t.getColumn(u.id))==null?void 0:d.getCanSort()}),o={};s.forEach(u=>{const d=t.getColumn(u.id);d&&(o[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=u=>{const d=u.map(h=>({...h}));return d.sort((h,f)=>{for(let y=0;y<s.length;y+=1){var p;const v=s[y],w=o[v.id],S=w.sortUndefined,b=(p=v==null?void 0:v.desc)!=null?p:!1;let R=0;if(S){const T=h.getValue(v.id),P=f.getValue(v.id),k=T===void 0,M=P===void 0;if(k||M){if(S==="first")return k?-1:1;if(S==="last")return k?1:-1;R=k&&M?0:k?S:-S}}if(R===0&&(R=w.sortingFn(h,f,v.id)),R!==0)return b&&(R*=-1),w.invertSorting&&(R*=-1),R}return h.index-f.index}),d.forEach(h=>{var f;i.push(h),(f=h.subRows)!=null&&f.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:i,rowsById:n.rowsById}},We(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function pJ(t,e){return t?yJ(t)?_.createElement(t,e):t:null}function yJ(t){return xJ(t)||typeof t=="function"||vJ(t)}function xJ(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function vJ(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function vN(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=_.useState(()=>({current:uJ(e)})),[r,i]=_.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}function _N({globalFilter:t,setGlobalFilter:e}){return g.jsx(Kt,{placeholder:"Buscar...",value:t||"",onChange:n=>e(n.target.value),className:"w-full max-w-sm"})}function wN({column:t}){var r;if(!t.getCanFilter())return null;const e=t.columnDef.header||t.id;if(["tipo","especie","sexo","raza","parcela"].includes(t.id)){const i=Array.from((((r=t.getFacetedUniqueValues)==null?void 0:r.call(t))??new Map).keys()).filter(s=>s!=null&&s!=="").map(s=>String(s).trim()).sort((s,o)=>s.localeCompare(o));return g.jsxs(Si,{value:t.getFilterValue()||"",onValueChange:s=>t.setFilterValue(s==="all"?"":s),children:[g.jsx(ni,{className:"w-full h-8 text-xs text-center",children:g.jsx(Ci,{placeholder:`${e}`})}),g.jsxs(ri,{children:[g.jsx(Rn,{value:"all",children:"Todas"}),i.map(s=>g.jsx(Rn,{value:s,children:s},s))]})]})}return g.jsx(Kt,{value:t.getFilterValue()||"",onChange:i=>t.setFilterValue(i.target.value),placeholder:`${e}`,className:"w-full h-8 text-xs text-center"})}function SN({table:t}){return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs(at,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la primera pgina"}),g.jsx(cV,{className:"h-4 w-4"})]}),g.jsxs(at,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la pgina anterior"}),g.jsx(sV,{className:"h-4 w-4"})]}),g.jsxs("div",{className:"flex-center text-sm font-medium whitespace-nowrap",children:[t.getState().pagination.pageIndex+1," de ",t.getPageCount()]}),g.jsxs(at,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la pgina siguiente"}),g.jsx(OT,{className:"h-4 w-4"})]}),g.jsxs(at,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la ltima pgina"}),g.jsx(dV,{className:"h-4 w-4"})]})]})}function CN({table:t}){return g.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:g.jsxs(Si,{value:String(t.getState().pagination.pageSize),onValueChange:e=>t.setPageSize(Number(e)),children:[g.jsx(ni,{className:"h-8 w-[70px]",children:g.jsx(Ci,{placeholder:t.getState().pagination.pageSize})}),g.jsx(ri,{children:[10,20,50,100].map(e=>g.jsx(Rn,{value:String(e),children:e},e))})]})})}function bN({animal:t,columnVisibility:e={}}){if(!t)return g.jsx("div",{className:"text-center text-gray-500 py-4",children:"No hay datos detallados para mostrar."});const n=(r,i,s,o="")=>e[r]?null:g.jsxs("div",{children:[g.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",s!=null?`${s}${o}`:"-"]});return g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-1 gap-x-2 text-sm text-gray-700",children:[n("tipo","Tipo",t.tipo),n("raza","Raza",t.raza),n("sexo","Sexo",t.sexo),n("especie","Especie",t.especie),n("parcela","Parcela",t.parcela),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fecha Nacimiento:"})," ",t.fecha_nacimiento||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Peso:"})," ",t.peso!==void 0&&t.peso!==null?`${t.peso} kg`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Altura Cruz:"})," ",t.altura_cruz!==void 0&&t.altura_cruz!==null?`${t.altura_cruz} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Tronco:"})," ",t.longitud_tronco!==void 0&&t.longitud_tronco!==null?`${t.longitud_tronco} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Permetro Torcico:"})," ",t.perimetro_toracico!==void 0&&t.perimetro_toracico!==null?`${t.perimetro_toracico} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ancho Grupa:"})," ",t.ancho_grupa!==void 0&&t.ancho_grupa!==null?`${t.ancho_grupa} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Grupa:"})," ",t.longitud_grupa!==void 0&&t.longitud_grupa!==null?`${t.longitud_grupa} cm`:"-"]}),n("estado_reproductivo","Estado Reproductivo",t.estado_reproductivo_nombre),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Nmero Partos:"})," ",t.numero_partos!==void 0&&t.numero_partos!==null?t.numero_partos:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Intervalo Partos:"})," ",t.intervalo_partos!==void 0&&t.intervalo_partos!==null?`${t.intervalo_partos} das`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fertilidad:"})," ",t.fertilidad!==void 0&&t.fertilidad!==null?`${t.fertilidad}%`:"-"]}),t.collar_id&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Collar ID:"})," ",t.collar_id||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ubicacin Sensor:"})," ",t.ubicacion_sensor||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"ltima Latitud:"})," ",t.ultima_latitud!==void 0&&t.ultima_latitud!==null?t.ultima_latitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"ltima Longitud:"})," ",t.ultima_longitud!==void 0&&t.ultima_longitud!==null?t.ultima_longitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Temperatura Corporal:"})," ",t.temperatura_corporal!==void 0&&t.temperatura_corporal!==null?`${t.temperatura_corporal}C`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Hora Temperatura:"})," ",t.hora_temperatura||"-"]}),t.campo_id&&g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Campo ID:"})," ",t.campo_id]})]})]})}function _J({row:t,onEdit:e,onDelete:n,isSelected:r,onToggleSelection:i,columnVisibility:s}){const[o,l]=_.useState(!1),u=h=>{h.stopPropagation(),l(f=>!f)},d=()=>{i&&i(t)};return g.jsxs("div",{className:`border-b ${r?"bg-blue-100":"bg-white"} transition-colors duration-100 ease-in-out`,children:[g.jsxs("div",{onClick:d,className:"p-3 flex justify-between items-center cursor-pointer",children:[g.jsxs("div",{className:"flex-grow min-w-0 mr-2",children:[g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"ID:"})," ",t.original.numero_identificacion||"-"]}),g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"Nombre:"})," ",t.original.nombre||"-"]})]}),g.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 ml-auto",children:[g.jsx(at,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),e(t.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-blue-50","aria-label":"Editar animal",children:g.jsx(hv,{className:"h-4 w-4"})}),g.jsx(at,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),n(t.original)},className:"text-red-700 hover:text-red-800 hover:bg-red-50","aria-label":"Eliminar animal",children:g.jsx(ua,{className:"h-4 w-4"})}),g.jsx(at,{size:"icon",variant:"ghost",onClick:u,"aria-label":o?"Colapsar detalles":"Expandir detalles",className:"text-gray-500 hover:bg-gray-100",children:o?g.jsx(cv,{className:"h-5 w-5"}):g.jsx(lc,{className:"h-5 w-5"})})]})]}),o&&g.jsx("div",{className:"p-3 pt-0 bg-gray-50 border-t border-gray-100",children:g.jsx(bN,{animal:t.original,columnVisibility:s})})]})}var Rg="Dialog",[EN,tte]=Vi(Rg),[wJ,zi]=EN(Rg),RN=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=_.useRef(null),u=_.useRef(null),[d,h]=jo({prop:r,defaultProp:i??!1,onChange:s,caller:Rg});return g.jsx(wJ,{scope:e,triggerRef:l,contentRef:u,contentId:Pi(),titleId:Pi(),descriptionId:Pi(),open:d,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};RN.displayName=Rg;var TN="DialogTrigger",PN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(TN,n),s=ft(e,i.triggerRef);return g.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_w(i.open),...r,ref:s,onClick:Ce(t.onClick,i.onOpenToggle)})});PN.displayName=TN;var xw="DialogPortal",[SJ,kN]=EN(xw,{forceMount:void 0}),AN=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=zi(xw,e);return g.jsx(SJ,{scope:e,forceMount:n,children:_.Children.map(r,o=>g.jsx(fr,{present:n||s.open,children:g.jsx(jd,{asChild:!0,container:i,children:o})}))})};AN.displayName=xw;var Sm="DialogOverlay",MN=_.forwardRef((t,e)=>{const n=kN(Sm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=zi(Sm,t.__scopeDialog);return s.modal?g.jsx(fr,{present:r||s.open,children:g.jsx(bJ,{...i,ref:e})}):null});MN.displayName=Sm;var CJ=ka("DialogOverlay.RemoveScroll"),bJ=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(Sm,n);return g.jsx(pg,{as:CJ,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Ze.div,{"data-state":_w(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),za="DialogContent",IN=_.forwardRef((t,e)=>{const n=kN(za,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=zi(za,t.__scopeDialog);return g.jsx(fr,{present:r||s.open,children:s.modal?g.jsx(EJ,{...i,ref:e}):g.jsx(RJ,{...i,ref:e})})});IN.displayName=za;var EJ=_.forwardRef((t,e)=>{const n=zi(za,t.__scopeDialog),r=_.useRef(null),i=ft(e,n.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return aw(s)},[]),g.jsx(NN,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,s=>s.preventDefault())})}),RJ=_.forwardRef((t,e)=>{const n=zi(za,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return g.jsx(NN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,d;(u=t.onInteractOutside)==null||u.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),NN=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=zi(za,n),u=_.useRef(null),d=ft(e,u);return X_(),g.jsxs(g.Fragment,{children:[g.jsx(dg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Nd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_w(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(TJ,{titleId:l.titleId}),g.jsx(kJ,{contentRef:u,descriptionId:l.descriptionId})]})]})}),vw="DialogTitle",FN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(vw,n);return g.jsx(Ze.h2,{id:i.titleId,...r,ref:e})});FN.displayName=vw;var jN="DialogDescription",LN=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(jN,n);return g.jsx(Ze.p,{id:i.descriptionId,...r,ref:e})});LN.displayName=jN;var DN="DialogClose",ON=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zi(DN,n);return g.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});ON.displayName=DN;function _w(t){return t?"open":"closed"}var VN="DialogTitleWarning",[nte,zN]=H7(VN,{contentName:za,titleName:vw,docsSlug:"dialog"}),TJ=({titleId:t})=>{const e=zN(VN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},PJ="DialogDescriptionWarning",kJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zN(PJ).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},AJ=RN,MJ=PN,IJ=AN,$N=MN,BN=IN,GN=FN,UN=LN,NJ=ON;const WN=AJ,HN=MJ,FJ=IJ,XN=_.forwardRef(({className:t,...e},n)=>g.jsx($N,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));XN.displayName=$N.displayName;const ww=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(FJ,{children:[g.jsx(XN,{}),g.jsxs(BN,{ref:r,className:Oe("rounded-xl fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",t),...n,children:[e,g.jsxs(NJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx($s,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ww.displayName=BN.displayName;const Sw=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Sw.displayName="DialogHeader";const KN=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});KN.displayName="DialogFooter";const Cw=_.forwardRef(({className:t,...e},n)=>g.jsx(GN,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Cw.displayName=GN.displayName;const YN=_.forwardRef(({className:t,...e},n)=>g.jsx(UN,{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));YN.displayName=UN.displayName;function jJ(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var bw="ScrollArea",[ZN,rte]=Vi(bw),[LJ,ai]=ZN(bw),qN=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,u]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(null),[y,v]=_.useState(null),[w,S]=_.useState(null),[b,R]=_.useState(0),[T,P]=_.useState(0),[k,M]=_.useState(!1),[F,I]=_.useState(!1),z=ft(e,V=>u(V)),W=Md(i);return g.jsx(LJ,{scope:n,type:r,dir:W,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:k,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:S,scrollbarYEnabled:F,onScrollbarYEnabledChange:I,onCornerWidthChange:R,onCornerHeightChange:P,children:g.jsx(Ze.div,{dir:W,...o,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});qN.displayName=bw;var JN="ScrollAreaViewport",QN=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=ai(JN,n),l=_.useRef(null),u=ft(e,l,o.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(Ze.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QN.displayName=JN;var hs="ScrollAreaScrollbar",Ew=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(hs,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return _.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?g.jsx(DJ,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(OJ,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(eF,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(Rw,{...r,ref:e}):null});Ew.displayName=hs;var DJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(hs,t.__scopeScrollArea),[s,o]=_.useState(!1);return _.useEffect(()=>{const l=i.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),o(!0)},h=()=>{u=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(fr,{present:n||s,children:g.jsx(eF,{"data-state":s?"visible":"hidden",...r,ref:e})})}),OJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(hs,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Pg(()=>u("SCROLL_END"),100),[l,u]=jJ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,u]),_.useEffect(()=>{const d=i.viewport,h=s?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const y=d[h];f!==y&&(u("SCROLL"),o()),f=y};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,s,u,o]),g.jsx(fr,{present:n||l!=="hidden",children:g.jsx(Rw,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ce(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),eF=_.forwardRef((t,e)=>{const n=ai(hs,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=_.useState(!1),l=t.orientation==="horizontal",u=Pg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return ic(n.viewport,u),ic(n.content,u),g.jsx(fr,{present:r||s,children:g.jsx(Rw,{"data-state":s?"visible":"hidden",...i,ref:e})})}),Rw=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ai(hs,t.__scopeScrollArea),s=_.useRef(null),o=_.useRef(0),[l,u]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=sF(l.viewport,l.content),h={...r,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,y){return UJ(p,o.current,l,y)}return n==="horizontal"?g.jsx(VJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,y=dT(p,l,i.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):n==="vertical"?g.jsx(zJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,y=dT(p,l);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),VJ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ai(hs,t.__scopeScrollArea),[o,l]=_.useState(),u=_.useRef(null),d=ft(e,u,s.onScrollbarXChange);return _.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),g.jsx(nF,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),aF(p,f)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:bm(o.paddingLeft),paddingEnd:bm(o.paddingRight)}})}})}),zJ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ai(hs,t.__scopeScrollArea),[o,l]=_.useState(),u=_.useRef(null),d=ft(e,u,s.onScrollbarYChange);return _.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),g.jsx(nF,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),aF(p,f)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:bm(o.paddingTop),paddingEnd:bm(o.paddingBottom)}})}})}),[$J,tF]=ZN(hs),nF=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=t,y=ai(hs,n),[v,w]=_.useState(null),S=ft(e,z=>w(z)),b=_.useRef(null),R=_.useRef(""),T=y.viewport,P=r.content-r.viewport,k=Gn(h),M=Gn(u),F=Pg(f,10);function I(z){if(b.current){const W=z.clientX-b.current.left,V=z.clientY-b.current.top;d({x:W,y:V})}}return _.useEffect(()=>{const z=W=>{const V=W.target;(v==null?void 0:v.contains(V))&&k(W,P)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[T,v,P,k]),_.useEffect(M,[r,M]),ic(v,F),ic(y.content,F),g.jsx($J,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Gn(s),onThumbPointerUp:Gn(o),onThumbPositionChange:M,onThumbPointerDown:Gn(l),children:g.jsx(Ze.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:Ce(t.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),b.current=v.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),I(z))}),onPointerMove:Ce(t.onPointerMove,I),onPointerUp:Ce(t.onPointerUp,z=>{const W=z.target;W.hasPointerCapture(z.pointerId)&&W.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=R.current,y.viewport&&(y.viewport.style.scrollBehavior=""),b.current=null})})})}),Cm="ScrollAreaThumb",rF=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=tF(Cm,t.__scopeScrollArea);return g.jsx(fr,{present:n||i.hasThumb,children:g.jsx(BJ,{ref:e,...r})})}),BJ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=ai(Cm,n),o=tF(Cm,n),{onThumbPositionChange:l}=o,u=ft(e,f=>o.onThumbChange(f)),d=_.useRef(void 0),h=Pg(()=>{d.current&&(d.current(),d.current=void 0)},100);return _.useEffect(()=>{const f=s.viewport;if(f){const p=()=>{if(h(),!d.current){const y=WJ(f,l);d.current=y,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,h,l]),g.jsx(Ze.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ce(t.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),v=f.clientX-y.left,w=f.clientY-y.top;o.onThumbPointerDown({x:v,y:w})}),onPointerUp:Ce(t.onPointerUp,o.onThumbPointerUp)})});rF.displayName=Cm;var Tw="ScrollAreaCorner",iF=_.forwardRef((t,e)=>{const n=ai(Tw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(GJ,{...t,ref:e}):null});iF.displayName=Tw;var GJ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ai(Tw,n),[s,o]=_.useState(0),[l,u]=_.useState(0),d=!!(s&&l);return ic(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),u(h)}),ic(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?g.jsx(Ze.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bm(t){return t?parseInt(t,10):0}function sF(t,e){const n=t/e;return isNaN(n)?0:n}function Tg(t){const e=sF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function UJ(t,e,n,r="ltr"){const i=Tg(n),s=i/2,o=e||s,l=i-o,u=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return oF([u,d],f)(t)}function dT(t,e,n="ltr"){const r=Tg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,u=n==="ltr"?[0,o]:[o*-1,0],d=Px(t,u);return oF([0,o],[0,l])(d)}function oF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function aF(t,e){return t>0&&t<e}var WJ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Pg(t,e){const n=Gn(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ic(t,e){const n=Gn(e);Un(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var lF=qN,HJ=QN,XJ=iF;const kg=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(lF,{ref:r,className:Oe("relative",t),...n,children:[g.jsx(HJ,{className:"h-full rounded-[inherit]",children:e}),g.jsx(cF,{}),g.jsx(XJ,{})]}));kg.displayName=lF.displayName;const cF=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>g.jsx(Ew,{ref:r,orientation:e,className:Oe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:g.jsx(rF,{className:"relative flex-1 rounded-full bg-border"})}));cF.displayName=Ew.displayName;function KJ({table:t,columnVisibility:e={}}){const n=t.getAllColumns().filter(o=>o.getCanFilter()&&o.id!=="acciones"),r=n.filter(o=>!e[o.id]&&o.id!=="numero_identificacion"&&o.id!=="nombre"),i=()=>{n.forEach(o=>{o.getIsFiltered()&&o.setFilterValue(void 0)}),t.setGlobalFilter("")},s=n.some(o=>o.getIsFiltered())||t.getState().globalFilter;return g.jsxs(WN,{children:[g.jsx(HN,{asChild:!0,children:g.jsxs(at,{variant:"outline",className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[g.jsx(BT,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Filtros"}),s&&g.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:"Activo"})]})}),g.jsxs(ww,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(Sw,{className:"text-center",children:[g.jsx(Cw,{className:"text-lg font-semibold",children:"Filtros Avanzados"}),s&&g.jsx("div",{className:"w-full flex justify-center",children:g.jsxs(at,{variant:"ghost",size:"sm",onClick:i,className:"text-red-500 hover:bg-red-50 gap-1",children:[g.jsx(Dn,{className:"h-4 w-4"})," Limpiar todo"]})})]}),g.jsx(kg,{className:"max-h-[70vh] py-2",children:g.jsx("div",{className:"flex flex-col items-center gap-4",children:r.length>0?r.map(o=>g.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm w-full",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 capitalize",children:o.id.replace(/_/g," ")}),o.getIsFiltered()&&g.jsx(at,{variant:"ghost",size:"icon",onClick:()=>o.setFilterValue(void 0),className:"text-red-500 hover:bg-red-50",children:g.jsx(Dn,{className:"h-4 w-4"})})]}),g.jsx(wN,{column:o}),o.getIsFiltered()&&g.jsxs("p",{className:"text-xs text-blue-800 mt-1",children:["Filtro activo: ",g.jsx("code",{children:String(o.getFilterValue())})]})]},o.id)):g.jsx("p",{className:"text-center text-gray-500",children:"No hay filtros ocultos disponibles para esta vista."})})})]})]})}const YJ=Tl.xs;function ZJ({data:t=[],columns:e=[],exportFilename:n="export.csv",onRowClick:r,onEditRow:i,onDeleteRow:s,globalFilter:o,setGlobalFilter:l,rowSelection:u,setRowSelection:d,sorting:h,setSorting:f,pagination:p,setPagination:y,columnFilters:v,setColumnFilters:w,columnVisibility:S,setColumnVisibility:b}){const[R,T]=_.useState(null),P=hz(),k=P<YJ,M=["sexo","tipo","raza","especie","parcela"];_.useEffect(()=>{const $={numero_identificacion:!0,nombre:!0,acciones:!0};$.sexo=P>=Tl.xxl,$.tipo=P>=Tl.xl,$.raza=P>=Tl.lg,$.especie=P>=Tl.md,$.parcela=P>=Tl.sm,k&&M.forEach(D=>{$[D]=!1}),b($)},[P,k]);const F=_.useMemo(()=>M.some($=>S[$]===!1),[S,M]),I=vN({data:t,columns:e,state:{globalFilter:o,rowSelection:u,sorting:h,pagination:p,columnFilters:v,columnVisibility:S},onGlobalFilterChange:$=>{y(D=>({...D,pageIndex:0})),l($)},onRowSelectionChange:d,onSortingChange:f,onPaginationChange:y,onColumnVisibilityChange:b,onColumnFiltersChange:$=>{y(D=>({...D,pageIndex:0})),w($)},getCoreRowModel:fN(),getFilteredRowModel:pN(),getSortedRowModel:xN(),getPaginationRowModel:yN(),getExpandedRowModel:dJ(),getFacetedRowModel:mJ(),getFacetedUniqueValues:gJ(),enableRowSelection:!0,autoResetPageIndex:!1,meta:{showExpandableRows:k,columnVisibility:S}}),z=_.useCallback(()=>{d({}),T(null)},[]);_.useEffect(()=>{const $=D=>{D.key==="Escape"&&z()};return window.addEventListener("keydown",$),()=>{window.removeEventListener("keydown",$)}},[z]);const W=($,D,j)=>{if(!k){let U={...u};if(j.shiftKey&&R!==null){const Y=I.getRowModel().rows.map(ne=>ne.id),[N,L]=[R,D].sort((ne,ie)=>ne-ie);for(let ne=N;ne<=L;ne++)U[Y[ne]]=!0}else j.ctrlKey||j.metaKey?(U[$.id]=!U[$.id],T(D)):(U[$.id]&&Object.keys(U).length===1?delete U[$.id]:U={[$.id]:!0},T(D));d(U)}r&&r($.original)},V=_.useCallback($=>{d(D=>({...D,[$.id]:!D[$.id]}))},[]),X=()=>{I.getIsAllPageRowsSelected()?I.toggleAllPageRowsSelected(!1):I.toggleAllPageRowsSelected(!0)},G=()=>I.getIsAllPageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx($s,{className:"h-4 w-4"}),variant:"outline"}:I.getIsSomePageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx(GT,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Pgina",icon:g.jsx(gd,{className:"h-4 w-4"}),variant:"outline"},te=I.getState().globalFilter||I.getAllColumns().some($=>$.getIsFiltered()),J=G();return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(Ro,{className:"h-5 w-5 text-blue-600"}),"Animales Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(_N,{globalFilter:o,setGlobalFilter:l}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[I.getFilteredRowModel().rows.length>0&&g.jsxs(at,{onClick:X,variant:J.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[J.icon," ",g.jsx("span",{className:"hidden lg:inline",children:J.text})]}),!k&&te&&g.jsxs(at,{onClick:()=>{I.resetGlobalFilter(),I.getAllColumns().forEach($=>$.setFilterValue(void 0)),d({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(Dn,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),(k||F)&&g.jsx(KJ,{table:I,columnVisibility:S})]})]}),g.jsx("div",{className:"overflow-hidden",children:k?g.jsx("div",{className:"space-y-2",children:I.getRowModel().rows.map($=>g.jsx(_J,{row:$,onEdit:()=>i($.original.animal_id),onDelete:()=>s($.original),isSelected:$.getIsSelected(),onToggleSelection:V,columnVisibility:I.options.meta.columnVisibility},$.id))}):g.jsxs("table",{className:"min-w-full table-fixed text-center",children:[g.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:I.getHeaderGroups().map($=>g.jsx("tr",{children:$.headers.map(D=>g.jsx("th",{className:"border-b p-2",children:D.isPlaceholder?null:g.jsx("div",{className:"p-1 flex flex-col items-center justify-center space-y-1",children:g.jsxs("div",{className:"flex items-center justify-center w-full",children:[D.column.getCanSort()&&g.jsx(at,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-gray-200 flex-shrink-0",onClick:j=>{var U;j.stopPropagation(),(U=D.column.getToggleSortingHandler())==null||U(j)},children:{asc:g.jsx(HO,{className:"h-4 w-4"}),desc:g.jsx(UO,{className:"h-4 w-4"})}[D.column.getIsSorted()??null]||g.jsx(BT,{className:"h-4 w-4"})}),D.column.getCanFilter()&&g.jsx("div",{children:g.jsx(wN,{column:D.column})})]})})},D.id))},$.id))}),g.jsx("tbody",{children:I.getRowModel().rows.map($=>g.jsxs(_.Fragment,{children:[g.jsx("tr",{onClick:D=>W($,$.index,D),className:`transition-colors duration-100 ease-in-out
                                            ${$.getIsSelected()?"bg-blue-100 hover:bg-blue-200":"even:bg-gray-50 odd:bg-white hover:bg-gray-100"}`,children:$.getVisibleCells().map(D=>g.jsx("td",{className:"border-b p-2",children:pJ(D.column.columnDef.cell,D.getContext())},D.id))}),$.getIsExpanded()&&g.jsx("tr",{children:g.jsx("td",{colSpan:$.getVisibleCells().length,className:"p-3 bg-gray-100 border-b border-gray-200 text-left",children:g.jsx(bN,{animal:$.original,columnVisibility:I.options.meta.columnVisibility})})})]},$.id))})]})}),g.jsxs("div",{className:"flex justify-between mt-2 flex-wrap gap-2",children:[g.jsx(SN,{table:I}),Object.keys(u).length>0&&g.jsxs(at,{onClick:z,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(b0,{className:"h-4 w-4"})," Deseleccionar Todo"]}),g.jsx(CN,{table:I})]})]})}var qJ="Separator",hT="horizontal",JJ=["horizontal","vertical"],uF=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=hT,...i}=t,s=QJ(r)?r:hT,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(Ze.div,{"data-orientation":s,...l,...i,ref:e})});uF.displayName=qJ;function QJ(t){return JJ.includes(t)}var dF=uF;const hF=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>g.jsx(dF,{ref:i,decorative:n,orientation:e,className:Oe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));hF.displayName=dF.displayName;var Yx=["Enter"," "],eQ=["ArrowDown","PageUp","Home"],fF=["ArrowUp","PageDown","End"],tQ=[...eQ,...fF],nQ={ltr:[...Yx,"ArrowRight"],rtl:[...Yx,"ArrowLeft"]},rQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dd="Menu",[ud,iQ,sQ]=W_(Dd),[Wa,mF]=Vi(Dd,[sQ,Sc,cg]),Ag=Sc(),gF=cg(),[oQ,Ha]=Wa(Dd),[aQ,Od]=Wa(Dd),pF=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=Ag(e),[u,d]=_.useState(null),h=_.useRef(!1),f=Gn(s),p=Md(i);return _.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),g.jsx(rw,{...l,children:g.jsx(oQ,{scope:e,open:n,onOpenChange:f,content:u,onContentChange:d,children:g.jsx(aQ,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};pF.displayName=Dd;var lQ="MenuAnchor",Pw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ag(n);return g.jsx(iw,{...i,...r,ref:e})});Pw.displayName=lQ;var kw="MenuPortal",[cQ,yF]=Wa(kw,{forceMount:void 0}),xF=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Ha(kw,e);return g.jsx(cQ,{scope:e,forceMount:n,children:g.jsx(fr,{present:n||s.open,children:g.jsx(jd,{asChild:!0,container:i,children:r})})})};xF.displayName=kw;var si="MenuContent",[uQ,Aw]=Wa(si),vF=_.forwardRef((t,e)=>{const n=yF(si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ha(si,t.__scopeMenu),o=Od(si,t.__scopeMenu);return g.jsx(ud.Provider,{scope:t.__scopeMenu,children:g.jsx(fr,{present:r||s.open,children:g.jsx(ud.Slot,{scope:t.__scopeMenu,children:o.modal?g.jsx(dQ,{...i,ref:e}):g.jsx(hQ,{...i,ref:e})})})})}),dQ=_.forwardRef((t,e)=>{const n=Ha(si,t.__scopeMenu),r=_.useRef(null),i=ft(e,r);return _.useEffect(()=>{const s=r.current;if(s)return aw(s)},[]),g.jsx(Mw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),hQ=_.forwardRef((t,e)=>{const n=Ha(si,t.__scopeMenu);return g.jsx(Mw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),fQ=ka("MenuContent.ScrollLock"),Mw=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:v,...w}=t,S=Ha(si,n),b=Od(si,n),R=Ag(n),T=gF(n),P=iQ(n),[k,M]=_.useState(null),F=_.useRef(null),I=ft(e,F,S.onContentChange),z=_.useRef(0),W=_.useRef(""),V=_.useRef(0),X=_.useRef(null),G=_.useRef("right"),te=_.useRef(0),J=v?pg:_.Fragment,$=v?{as:fQ,allowPinchZoom:!0}:void 0,D=U=>{var ae,pe;const Y=W.current+U,N=P().filter(we=>!we.disabled),L=document.activeElement,ne=(ae=N.find(we=>we.ref.current===L))==null?void 0:ae.textValue,ie=N.map(we=>we.textValue),ce=EQ(ie,Y,ne),ge=(pe=N.find(we=>we.textValue===ce))==null?void 0:pe.ref.current;(function we(be){W.current=be,window.clearTimeout(z.current),be!==""&&(z.current=window.setTimeout(()=>we(""),1e3))})(Y),ge&&setTimeout(()=>ge.focus())};_.useEffect(()=>()=>window.clearTimeout(z.current),[]),X_();const j=_.useCallback(U=>{var N,L;return G.current===((N=X.current)==null?void 0:N.side)&&TQ(U,(L=X.current)==null?void 0:L.area)},[]);return g.jsx(uQ,{scope:n,searchRef:W,onItemEnter:_.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:_.useCallback(U=>{var Y;j(U)||((Y=F.current)==null||Y.focus(),M(null))},[j]),onTriggerLeave:_.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:V,onPointerGraceIntentChange:_.useCallback(U=>{X.current=U},[]),children:g.jsx(J,{...$,children:g.jsx(dg,{asChild:!0,trapped:i,onMountAutoFocus:Ce(s,U=>{var Y;U.preventDefault(),(Y=F.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:g.jsx(oI,{asChild:!0,...T,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:Ce(u,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(sw,{role:"menu","aria-orientation":"vertical","data-state":jF(S.open),"data-radix-menu-content":"",dir:b.dir,...R,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:Ce(w.onKeyDown,U=>{const N=U.target.closest("[data-radix-menu-content]")===U.currentTarget,L=U.ctrlKey||U.altKey||U.metaKey,ne=U.key.length===1;N&&(U.key==="Tab"&&U.preventDefault(),!L&&ne&&D(U.key));const ie=F.current;if(U.target!==ie||!tQ.includes(U.key))return;U.preventDefault();const ge=P().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);fF.includes(U.key)&&ge.reverse(),CQ(ge)}),onBlur:Ce(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(z.current),W.current="")}),onPointerMove:Ce(t.onPointerMove,dd(U=>{const Y=U.target,N=te.current!==U.clientX;if(U.currentTarget.contains(Y)&&N){const L=U.clientX>te.current?"right":"left";G.current=L,te.current=U.clientX}}))})})})})})})});vF.displayName=si;var mQ="MenuGroup",Iw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Ze.div,{role:"group",...r,ref:e})});Iw.displayName=mQ;var gQ="MenuLabel",_F=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Ze.div,{...r,ref:e})});_F.displayName=gQ;var Em="MenuItem",fT="menu.itemSelect",Mg=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=_.useRef(null),o=Od(Em,t.__scopeMenu),l=Aw(Em,t.__scopeMenu),u=ft(e,s),d=_.useRef(!1),h=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(fT,{bubbles:!0,cancelable:!0});f.addEventListener(fT,y=>r==null?void 0:r(y),{once:!0}),eI(f,p),p.defaultPrevented?d.current=!1:o.onClose()}};return g.jsx(wF,{...i,ref:u,disabled:n,onClick:Ce(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),d.current=!0},onPointerUp:Ce(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Ce(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Yx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Mg.displayName=Em;var wF=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Aw(Em,n),l=gF(n),u=_.useRef(null),d=ft(e,u),[h,f]=_.useState(!1),[p,y]=_.useState("");return _.useEffect(()=>{const v=u.current;v&&y((v.textContent??"").trim())},[s.children]),g.jsx(ud.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:g.jsx(aI,{asChild:!0,...l,focusable:!r,children:g.jsx(Ze.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:Ce(t.onPointerMove,dd(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,dd(v=>o.onItemLeave(v))),onFocus:Ce(t.onFocus,()=>f(!0)),onBlur:Ce(t.onBlur,()=>f(!1))})})})}),pQ="MenuCheckboxItem",SF=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return g.jsx(TF,{scope:t.__scopeMenu,checked:n,children:g.jsx(Mg,{role:"menuitemcheckbox","aria-checked":Rm(n)?"mixed":n,...i,ref:e,"data-state":Fw(n),onSelect:Ce(i.onSelect,()=>r==null?void 0:r(Rm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});SF.displayName=pQ;var CF="MenuRadioGroup",[yQ,xQ]=Wa(CF,{value:void 0,onValueChange:()=>{}}),bF=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Gn(r);return g.jsx(yQ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:g.jsx(Iw,{...i,ref:e})})});bF.displayName=CF;var EF="MenuRadioItem",RF=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=xQ(EF,t.__scopeMenu),s=n===i.value;return g.jsx(TF,{scope:t.__scopeMenu,checked:s,children:g.jsx(Mg,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Fw(s),onSelect:Ce(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});RF.displayName=EF;var Nw="MenuItemIndicator",[TF,vQ]=Wa(Nw,{checked:!1}),PF=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=vQ(Nw,n);return g.jsx(fr,{present:r||Rm(s.checked)||s.checked===!0,children:g.jsx(Ze.span,{...i,ref:e,"data-state":Fw(s.checked)})})});PF.displayName=Nw;var _Q="MenuSeparator",kF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(Ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});kF.displayName=_Q;var wQ="MenuArrow",AF=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ag(n);return g.jsx(ow,{...i,...r,ref:e})});AF.displayName=wQ;var SQ="MenuSub",[ite,MF]=Wa(SQ),Su="MenuSubTrigger",IF=_.forwardRef((t,e)=>{const n=Ha(Su,t.__scopeMenu),r=Od(Su,t.__scopeMenu),i=MF(Su,t.__scopeMenu),s=Aw(Su,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},h=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>h,[h]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),u(null)}},[l,u]),g.jsx(Pw,{asChild:!0,...d,children:g.jsx(wF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":jF(n.open),...t,ref:Om(e,i.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,dd(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Ce(t.onPointerLeave,dd(f=>{var y,v;h();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const w=(v=n.content)==null?void 0:v.dataset.side,S=w==="right",b=S?-5:5,R=p[S?"left":"right"],T=p[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:R,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:R,y:p.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,f=>{var y;const p=s.searchRef.current!=="";t.disabled||p&&f.key===" "||nQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});IF.displayName=Su;var NF="MenuSubContent",FF=_.forwardRef((t,e)=>{const n=yF(si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ha(si,t.__scopeMenu),o=Od(si,t.__scopeMenu),l=MF(NF,t.__scopeMenu),u=_.useRef(null),d=ft(e,u);return g.jsx(ud.Provider,{scope:t.__scopeMenu,children:g.jsx(fr,{present:r||s.open,children:g.jsx(ud.Slot,{scope:t.__scopeMenu,children:g.jsx(Mw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=u.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Ce(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),p=rQ[o.dir].includes(h.key);f&&p&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});FF.displayName=NF;function jF(t){return t?"open":"closed"}function Rm(t){return t==="indeterminate"}function Fw(t){return Rm(t)?"indeterminate":t?"checked":"unchecked"}function CQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function bQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function EQ(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=bQ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function RQ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],u=e[o],d=l.x,h=l.y,f=u.x,p=u.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function TQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return RQ(n,e)}function dd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var PQ=pF,kQ=Pw,AQ=xF,MQ=vF,IQ=Iw,NQ=_F,FQ=Mg,jQ=SF,LQ=bF,DQ=RF,OQ=PF,VQ=kF,zQ=AF,$Q=IF,BQ=FF,Ig="DropdownMenu",[GQ,ste]=Vi(Ig,[mF]),mr=mF(),[UQ,LF]=GQ(Ig),DF=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,u=mr(e),d=_.useRef(null),[h,f]=jo({prop:i,defaultProp:s??!1,onChange:o,caller:Ig});return g.jsx(UQ,{scope:e,triggerId:Pi(),triggerRef:d,contentId:Pi(),open:h,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),modal:l,children:g.jsx(PQ,{...u,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};DF.displayName=Ig;var OF="DropdownMenuTrigger",VF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=LF(OF,n),o=mr(n);return g.jsx(kQ,{asChild:!0,...o,children:g.jsx(Ze.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Om(e,s.triggerRef),onPointerDown:Ce(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ce(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});VF.displayName=OF;var WQ="DropdownMenuPortal",zF=t=>{const{__scopeDropdownMenu:e,...n}=t,r=mr(e);return g.jsx(AQ,{...r,...n})};zF.displayName=WQ;var $F="DropdownMenuContent",BF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=LF($F,n),s=mr(n),o=_.useRef(!1);return g.jsx(MQ,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ce(t.onCloseAutoFocus,l=>{var u;o.current||(u=i.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BF.displayName=$F;var HQ="DropdownMenuGroup",XQ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(IQ,{...i,...r,ref:e})});XQ.displayName=HQ;var KQ="DropdownMenuLabel",GF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(NQ,{...i,...r,ref:e})});GF.displayName=KQ;var YQ="DropdownMenuItem",UF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(FQ,{...i,...r,ref:e})});UF.displayName=YQ;var ZQ="DropdownMenuCheckboxItem",WF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(jQ,{...i,...r,ref:e})});WF.displayName=ZQ;var qQ="DropdownMenuRadioGroup",JQ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(LQ,{...i,...r,ref:e})});JQ.displayName=qQ;var QQ="DropdownMenuRadioItem",HF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(DQ,{...i,...r,ref:e})});HF.displayName=QQ;var eee="DropdownMenuItemIndicator",XF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(OQ,{...i,...r,ref:e})});XF.displayName=eee;var tee="DropdownMenuSeparator",KF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(VQ,{...i,...r,ref:e})});KF.displayName=tee;var nee="DropdownMenuArrow",ree=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(zQ,{...i,...r,ref:e})});ree.displayName=nee;var iee="DropdownMenuSubTrigger",YF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx($Q,{...i,...r,ref:e})});YF.displayName=iee;var see="DropdownMenuSubContent",ZF=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(BQ,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZF.displayName=see;var oee=DF,aee=VF,lee=zF,qF=BF,JF=GF,QF=UF,ej=WF,tj=HF,nj=XF,rj=KF,ij=YF,sj=ZF;const cee=oee,uee=aee,dee=_.forwardRef(({className:t,inset:e,children:n,...r},i)=>g.jsxs(ij,{ref:i,className:Oe("flex cursor-default select-none items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,g.jsx(OT,{className:"ml-auto"})]}));dee.displayName=ij.displayName;const hee=_.forwardRef(({className:t,...e},n)=>g.jsx(sj,{ref:n,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));hee.displayName=sj.displayName;const oj=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(lee,{children:g.jsx(qF,{ref:r,sideOffset:e,className:Oe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));oj.displayName=qF.displayName;const Nl=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(QF,{ref:r,className:Oe("relative flex cursor-default select-none items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Nl.displayName=QF.displayName;const fee=_.forwardRef(({className:t,children:e,checked:n,...r},i)=>g.jsxs(ej,{ref:i,className:Oe("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(nj,{children:g.jsx(gd,{className:"h-4 w-4"})})}),e]}));fee.displayName=ej.displayName;const mee=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(tj,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(nj,{children:g.jsx(SV,{className:"h-2 w-2 fill-current"})})}),e]}));mee.displayName=tj.displayName;const gee=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(JF,{ref:r,className:Oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));gee.displayName=JF.displayName;const Zx=_.forwardRef(({className:t,...e},n)=>g.jsx(rj,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));Zx.displayName=rj.displayName;function pee({table:t=null,filename:e="data",entityType:n}){const r=(l,u)=>{const d=window.URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download=u,document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(d),Rt.success("Archivo exportado correctamente.")},i=async l=>{let u=[];if(l==="selected"&&t&&(u=t.getSelectedRowModel().rows.map(h=>h.original.id||h.original.animal_id),u.length===0)){Rt.warning("No hay filas seleccionadas para exportar.",{description:"Por favor, selecciona al menos una fila.",icon:g.jsx(ca,{className:"h-4 w-4 text-orange-500"})});return}const d={globalFilter:t?t.getState().globalFilter:null,ids:u};try{let h;if(n==="animals")h=await S6(l,d);else if(n==="collares")h=await W9(l,d);else throw new Error("Tipo de entidad no soportado para exportacin.");r(h,`${e}_${l}.csv`)}catch(h){console.error(`Error al exportar ${n} (${l}):`,h),Rt.error(`Error al exportar ${n}.`,{description:h.message,icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}},s=async()=>{try{let l;if(n==="animals")l=await nA();else if(n==="collares")l=await FM();else throw new Error("Tipo de entidad no soportado para plantilla.");r(l,`plantilla_${n}.csv`)}catch(l){console.error(`Error al descargar plantilla de ${n}:`,l),Rt.error("Error al descargar la plantilla.",{description:l.message,icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}},o=t&&typeof t=="object"&&t.getFilteredRowModel&&t.getRowModel&&t.getSelectedRowModel;return g.jsxs(cee,{children:[g.jsx(uee,{asChild:!0,children:g.jsxs(at,{className:"gap-2 bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(bV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Exportar"})]})}),g.jsxs(oj,{align:"end",className:"w-[180px] bg-white",children:[g.jsx(Nl,{onClick:()=>i("all"),children:"Exportar Todo"}),o&&g.jsxs(g.Fragment,{children:[g.jsx(Nl,{onClick:()=>i("filtered"),children:"Exportar Filtrado"}),g.jsx(Nl,{onClick:()=>i("page"),children:"Exportar Pgina"}),t.getIsSomeRowsSelected()||t.getIsAllRowsSelected()?g.jsxs(g.Fragment,{children:[g.jsx(Zx,{}),g.jsxs(Nl,{onClick:()=>i("selected"),children:["Exportar Seleccionado (",t.getSelectedRowModel().rows.length,")"]})]}):null]}),g.jsx(Zx,{}),g.jsxs(Nl,{onClick:s,className:"flex items-center gap-2",children:[g.jsx($T,{className:"h-4 w-4 text-blue-800"})," Descargar Plantilla"]})]})]})}function yee({entityType:t,onImportSuccess:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(null),[o,l]=_.useState(!1),[u,d]=_.useState(null),h=y=>{const v=y.target.files?y.target.files[0]:null;s(v),d(null)},f=async()=>{if(!i){Rt.error("Por favor, selecciona un archivo CSV para importar.");return}l(!0),d(null);try{let y;if(t==="animals")y=await C6(i);else if(t==="collares")y=await H9(i);else throw new Error("Tipo de entidad no soportado para importacin.");d(y),y.status==="success"?(Rt.success("Importacin completada con xito.",{description:y.message,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})}),r(!1),s(null),e&&e()):y.status==="partial_success"?Rt.warning("Importacin completada con algunos errores.",{description:y.message,icon:g.jsx(ca,{className:"h-4 w-4 text-orange-500"}),duration:5e3}):Rt.error("La importacin fall.",{description:y.message||"Ocurri un error inesperado en el servidor.",icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}catch(y){console.error(`Error al importar ${t}:`,y),Rt.error("Error al iniciar la importacin.",{description:y.message,icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})}),d({summary:{total_processed:0,created:0,updated:0,errors_count:1},errors:[{row:"N/A",errors:[{field:"Archivo",value:i==null?void 0:i.name,message:y.message}]}]})}finally{l(!1)}},p=async()=>{l(!0);try{let y;if(t==="animals")y=await nA();else if(t==="collares")y=await FM();else throw new Error("Tipo de entidad no soportado para plantilla.");const v=window.URL.createObjectURL(y),w=document.createElement("a");w.href=v,w.download=`plantilla_${t}.csv`,document.body.appendChild(w),w.click(),w.remove(),window.URL.revokeObjectURL(v),Rt.success(`Plantilla de ${t} descargada correctamente.`)}catch(y){console.error(`Error al descargar plantilla de ${t}:`,y),Rt.error("Error al descargar la plantilla.",{description:y.message,icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}finally{l(!1)}};return g.jsxs(WN,{open:n,onOpenChange:r,children:[g.jsx(HN,{asChild:!0,children:g.jsxs(at,{className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(MC,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Importar"})]})}),g.jsxs(ww,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(Sw,{children:[g.jsxs(Cw,{className:"flex items-center gap-2",children:[g.jsx(MC,{className:"h-6 w-6 text-yellow-700"})," Importar ",t==="animals"?"Animales":"Collares"]}),g.jsxs(YN,{children:["Sube un archivo CSV para importar o actualizar ",t==="animals"?"animales":"collares",".",g.jsxs(at,{variant:"link",onClick:p,className:"p-0 h-auto text-blue-800 hover:text-blue-800 flex items-center justify-start",disabled:o,children:[g.jsx($T,{className:"h-4 w-4 mr-1"})," Descargar Plantilla"]})]})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[g.jsx(Cg,{htmlFor:"file",className:"text-right",children:"Archivo CSV"}),g.jsx(Kt,{id:"file",type:"file",accept:".csv",onChange:h,className:"col-span-3",disabled:o})]}),i&&g.jsx("p",{className:"text-sm text-muted-foreground text-center",children:g.jsx("span",{className:"font-semibold",children:i.name})}),u&&g.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-gray-50",children:[g.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Resumen de Importacin"}),g.jsxs("p",{className:"text-sm",children:["Total procesados: ",u.summary.total_processed]}),g.jsxs("p",{className:"text-sm",children:["Creados: ",u.summary.created]}),g.jsxs("p",{className:"text-sm",children:["Actualizados: ",u.summary.updated]}),g.jsxs("p",{className:"text-sm font-semibold",children:["Errores: ",u.summary.errors_count]}),u.errors_count>0&&g.jsxs("div",{className:"mt-4",children:[g.jsxs("h5",{className:"font-semibold text-sm text-red-600 mb-2 flex items-center gap-1",children:[g.jsx($V,{className:"h-4 w-4"})," Detalles de Errores:"]}),g.jsx(kg,{className:"h-40 border rounded-xl p-2 bg-white",children:u.errors.map((y,v)=>g.jsxs("div",{className:"mb-2 text-xs text-red-700 border-b pb-1 last:border-b-0",children:[g.jsxs("p",{className:"font-bold",children:["Fila ",y.row,":"]}),g.jsx("ul",{className:"list-disc pl-4",children:y.errors.map((w,S)=>g.jsxs("li",{children:[g.jsxs("span",{className:"font-medium",children:[w.field,":"]})," ",w.message,' (Valor: "',w.value,'")']},S))})]},v))})]})]})]}),g.jsxs(KN,{className:"flex flex-col sm:flex-row justify-between sm:space-x-2",children:[g.jsx(at,{variant:"outline",onClick:()=>{r(!1),s(null),d(null)},className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:"Cerrar"}),g.jsxs(at,{onClick:f,disabled:!i||o,variant:"default",className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[o&&g.jsx(GV,{className:"mr-2 h-4 w-4 animate-spin"}),"Importar Archivo"]})]})]})]})}const xee=U_({identificadorBase:qi().min(1,"El identificador base es obligatorio.").max(4,"El identificador no puede exceder 4 caracteres."),cantidad:Jn.number().int().min(1,"La cantidad debe ser al menos 1.").max(500,"Mximo 500 collares por lote.")}),vee=(t,e)=>{const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(wi,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(av,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(Ou,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(uv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(Ou,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batera";break;case"defectuoso":i=g.jsx(Dn,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 py-1 rounded-xl text-xs font-medium whitespace-nowrap max-w-[70%] truncate",o),children:[i,s]})};function _ee({collares:t=[],onCreateBatch:e,onDelete:n,onEditCollar:r,fullCollarDataForExport:i=[],onImportSuccess:s,globalFilter:o,setGlobalFilter:l,rowSelection:u,setRowSelection:d,sorting:h,setSorting:f,pagination:p,setPagination:y,columnVisibility:v,setColumnVisibility:w}){const S=$_({resolver:B_(xee),defaultValues:{identificadorBase:"",cantidad:1}}),b=_.useCallback(W=>{e(W.identificadorBase,W.cantidad),S.reset({identificadorBase:"",cantidad:1})},[e,S]),R=_.useMemo(()=>[{accessorKey:"id"},{accessorKey:"codigo"},{accessorKey:"prefijo"},{accessorKey:"estado"},{accessorKey:"bateria"},{accessorKey:"animal_id"},{accessorKey:"animal_nombre"}],[]),T=vN({data:t,columns:R,state:{globalFilter:o,rowSelection:u,sorting:h,pagination:p,columnVisibility:v},onGlobalFilterChange:W=>{y(V=>({...V,pageIndex:0})),l(W)},onRowSelectionChange:d,onSortingChange:f,onPaginationChange:y,onColumnVisibilityChange:w,getCoreRowModel:fN(),getFilteredRowModel:pN(),getPaginationRowModel:yN(),getSortedRowModel:xN(),enableRowSelection:!0,autoResetPageIndex:!1,globalFilterFn:(W,V,X)=>{var D,j,U;const G=String(X).toLowerCase(),te=((D=W.original.codigo)==null?void 0:D.toLowerCase())||"",J=((j=W.original.estado)==null?void 0:j.toLowerCase())||"",$=((U=W.original.animal_nombre)==null?void 0:U.toLowerCase())||"";return te.includes(G)||J.includes(G)||$.includes(G)}}),P=T.getRowModel().rows,k=_.useCallback(()=>{d({})},[]),M=_.useCallback(()=>{T.getIsAllPageRowsSelected()?T.toggleAllPageRowsSelected(!1):T.toggleAllPageRowsSelected(!0)},[T]),F=_.useCallback(()=>T.getIsAllPageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx($s,{className:"h-4 w-4"}),variant:"outline"}:T.getIsSomePageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx(GT,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Pgina",icon:g.jsx(gd,{className:"h-4 w-4"}),variant:"outline"},[T]),I=T.getState().globalFilter||T.getAllColumns().some(W=>W.getIsFiltered()),z=F();return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(yV,{className:"h-5 w-5 text-purple-600"}),"Registrar Nuevos Collares"]}),g.jsx(fw,{...S,children:g.jsxs("form",{onSubmit:S.handleSubmit(b),className:"flex flex-col md:flex-row md:items-end gap-4 flex-wrap",children:[g.jsx(Ot,{control:S.control,name:"identificadorBase",render:({field:W})=>g.jsxs(Nt,{className:"flex-grow min-w-[160px]",children:[g.jsx(Ut,{children:"Identificador Base"}),g.jsx(Ft,{children:g.jsx(Kt,{placeholder:"Ej. AFGH",...W,className:S.formState.errors.identificadorBase?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(gn,{})]})}),g.jsx(Ot,{control:S.control,name:"cantidad",render:({field:W})=>g.jsxs(Nt,{className:"w-full sm:w-40",children:[g.jsx(Ut,{children:"Cantidad"}),g.jsx(Ft,{children:g.jsx(Kt,{type:"number",placeholder:"Ej. 100",...W,onChange:V=>W.onChange(V.target.value===""?"":Number(V.target.value)),className:S.formState.errors.cantidad?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(gn,{})]})}),g.jsxs(at,{type:"submit",className:"flex-shrink-0 gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-sm h-10 px-4",children:[g.jsx(AV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Crear Collares"})]})]})})]}),g.jsx(hF,{}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(w4,{className:"h-5 w-5 text-purple-600"}),"Collares Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(_N,{globalFilter:o,setGlobalFilter:l}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[T.getFilteredRowModel().rows.length>0&&g.jsxs(at,{onClick:M,variant:z.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[z.icon," ",g.jsx("span",{className:"hidden lg:inline",children:z.text})]}),I&&g.jsxs(at,{onClick:()=>{T.resetGlobalFilter(),T.getAllColumns().forEach(W=>W.setFilterValue(void 0)),d({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(Dn,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),g.jsx(pee,{table:T,filename:"collares",entityType:"collares"}),g.jsx(yee,{entityType:"collares",onImportSuccess:s})]})]}),g.jsx(kg,{className:"max-h-[80vh] w-full overflow-y-auto rounded-xl p-3 bg-gray-50",children:P.length===0?g.jsxs("div",{className:"text-center text-gray-500 py-12",children:[g.jsx(b0,{className:"h-10 w-10 mx-auto mb-3 text-gray-400"}),g.jsx("p",{className:"text-lg font-medium",children:t.length>0&&T.getState().globalFilter?"No se encontraron collares con los filtros aplicados.":t.length>0?"No hay collares en esta pgina con la paginacin actual.":"No hay collares registrados."}),g.jsx("p",{className:"text-sm",children:t.length>0&&T.getState().globalFilter?"Intenta ajustar tu bsqueda.":t.length>0?"Ajusta las filas por pgina o navega a otra pgina.":"Utiliza el formulario de arriba para aadir uno."})]}):g.jsx("ul",{className:"grid w-full p-1 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:P.map(W=>{const V=W.original,X=W.getIsSelected();return g.jsxs("li",{className:Oe("flex flex-col justify-center p-4 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-150 min-h-[120px] cursor-pointer relative",X?"border-blue-500 ring-2 ring-blue-500 bg-blue-50":"border-gray-200"),onClick:W.getToggleSelectedHandler(),children:[g.jsxs("div",{className:"space-y-1 mb-2",children:[g.jsx("div",{className:"font-semibold text-gray-900 text-base flex items-center gap-2",children:g.jsxs("span",{children:["Cdigo: ",V.codigo]})}),g.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:V.animal_nombre?g.jsxs("span",{className:"flex items-center gap-1",children:["Asignado a: ",g.jsx("b",{className:"text-blue-700",children:V.animal_nombre})]}):g.jsx("span",{className:"text-muted-foreground italic",children:"No asignado"})})]}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 mt-2",children:[vee(V.estado,V.bateria),g.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[g.jsx(at,{size:"icon",variant:"ghost",onClick:G=>{G.stopPropagation(),r(V.id)},title:"Editar collar",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:g.jsx(hv,{className:"h-4 w-4"})}),g.jsx(at,{size:"icon",variant:"ghost",onClick:G=>{G.stopPropagation(),n(V)},title:"Eliminar collar",className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:g.jsx(ua,{className:"h-4 w-4"})})]})]})]},V.id)})})}),g.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mt-4",children:[g.jsx(SN,{table:T}),Object.keys(u).length>0&&g.jsxs(at,{onClick:k,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(b0,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Deseleccionar Todo"})]}),g.jsx(CN,{table:T})]})]})]})}const Es=Eq(),aj="animalTableState";function pu(){try{const t=JSON.parse(sessionStorage.getItem(aj));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnFilters:(t==null?void 0:t.columnFilters)||[],columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnFilters:[],columnVisibility:{},rowSelection:{}}}}const lj="collarTableState";function Cf(){try{const t=JSON.parse(sessionStorage.getItem(lj));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnVisibility:{},rowSelection:{}}}}function wee(){var kr,Xr,or;const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState({tipos:[],razas:[],sexos:[],parcelas:[],especies:[],estados_reproductivos:[],acronimos:[]}),[u,d]=_.useState([]),[h,f]=_.useState({}),[p,y]=_.useState({}),[v,w]=_.useState(!1),[S,b]=_.useState(!1),[R,T]=_.useState(!1),[P,k]=_.useState({abierto:!1,animalId:null}),[M,F]=_.useState([]),[I,z]=_.useState(null),[W,V]=_.useState({abierto:!1,animal:null}),[X,G]=_.useState({abierto:!1,collar:null}),te=_.useRef(null),J=_.useRef(null),$=_.useRef({animals:0,collares:0}),[D,j]=_.useState(pu().globalFilter),[U,Y]=_.useState(pu().sorting),[N,L]=_.useState(pu().pagination),[ne,ie]=_.useState(pu().columnFilters),[ce,ge]=_.useState(pu().columnVisibility),[ae,pe]=_.useState({}),[we,be]=_.useState(Cf().globalFilter),[$e,Be]=_.useState(Cf().sorting),[_t,pt]=_.useState(Cf().pagination),[Dt,Vt]=_.useState(Cf().columnVisibility),[zt,On]=_.useState({}),Tt=Pe=>{L(xe=>({...xe,pageIndex:0})),j(Pe)},B=Pe=>{pt(xe=>({...xe,pageIndex:0})),be(Pe)},Z=_.useCallback(async()=>{te.current&&($.current.animals=te.current.scrollTop),J.current&&($.current.collares=J.current.scrollTop);try{const[Pe,xe,ut,Pt,Zt,jt]=await Promise.all([m6(),O9(),Na(),y6(),p6(),V9()]),An=new Map;xe.forEach(qe=>{qe.animal_id&&An.set(qe.animal_id,{id:qe.id,codigo:qe.codigo,estado:qe.estado,bateria:qe.bateria,ultima_actividad:qe.ultima_actividad})});const ze=Pe.map(qe=>{const xt=An.get(qe.animal_id);return{...qe,collar_asignado:xt||null,sexo_nombre:qe.sexo,especie_nombre:qe.especie,tipo_nombre:qe.tipo,raza_nombre:qe.raza,estado_reproductivo_nombre:qe.estado_reproductivo_nombre,parcela_nombre:qe.parcela_nombre,fecha_nacimiento:qe.fecha_nacimiento}});e(ze),r(xe);const st=Object.values(ut.parcelas||{}).flat();s(st),l({...Pt,acronimos:Zt.acronimos}),d(jt)}catch(Pe){console.error("Error al cargar datos iniciales:",Pe),Rt.error("Error al cargar los datos.",{description:"Por favor, intente recargar la pgina.",icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})})}finally{te.current&&(te.current.scrollTop=$.current.animals),J.current&&(J.current.scrollTop=$.current.collares)}},[]);_.useEffect(()=>{const Pe=localStorage.getItem("token");console.log(Pe),Pe&&Z()},[Z]);const ee=()=>{f({}),w(!1),b(!0)},he=_.useCallback(async Pe=>{var xe,ut,Pt,Zt,jt,An,ze,st,qe,xt;try{const et=await x6(Pe),gt={...et,parcela_id:((xe=et.parcela_id)==null?void 0:xe.toString())||"",raza_id:et.raza_id!=null?et.raza_id.toString():"",sexo_id:et.sexo_id!=null?et.sexo_id:1,tipo_id:et.tipo_id!=null?et.tipo_id.toString():"",especie_id:et.especie_id!=null?et.especie_id.toString():"",estado_reproductivo_id:et.estado_reproductivo_id!=null?et.estado_reproductivo_id.toString():"",peso:((ut=et.peso)==null?void 0:ut.toString())||"",altura_cruz:((Pt=et.altura_cruz)==null?void 0:Pt.toString())||"",longitud_tronco:((Zt=et.longitud_tronco)==null?void 0:Zt.toString())||"",perimetro_toracico:((jt=et.perimetro_toracico)==null?void 0:jt.toString())||"",ancho_grupa:((An=et.ancho_grupa)==null?void 0:An.toString())||"",longitud_grupa:((ze=et.longitud_grupa)==null?void 0:ze.toString())||"",numero_partos:((st=et.numero_partos)==null?void 0:st.toString())||"",intervalo_partos:((qe=et.intervalo_partos)==null?void 0:qe.toString())||"",fertilidad:((xt=et.fertilidad)==null?void 0:xt.toString())||"50",fecha_nacimiento:et.fecha_nacimiento?new Date(et.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:et.ubicacion_sensor||""};f(gt),w(!0),b(!0)}catch(et){console.error("Error al cargar ficha de animal:",et),Rt.error("No se pudo cargar la ficha del animal.",{description:"Por favor, intente de nuevo.",icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})})}},[]),fe=async Pe=>{try{v?(await _6(Pe.animal_id,Pe),Rt.success("Animal actualizado.",{description:`Los datos de ${Pe.nombre} han sido guardados.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})})):(await v6(Pe),Rt.success("Animal creado.",{description:`El animal ${Pe.nombre} ha sido aadido.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})})),b(!1),f({}),await Z()}catch(xe){console.error("Error al guardar animal:",xe),Rt.error("Error al guardar el animal.",{description:xe.message||"Hubo un problema al procesar la solicitud.",icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}},se=async()=>{if(W.animal)try{await w6(W.animal.animal_id),Rt.success("Animal eliminado.",{description:`${W.animal.nombre} ha sido eliminado correctamente.`,icon:g.jsx(ua,{className:"h-4 w-4 text-red-500"})}),V({abierto:!1,animal:null}),await Z()}catch(Pe){console.error("Error al eliminar animal:",Pe),Rt.error("Error al eliminar el animal.",{description:Pe.message||"No se pudo completar la eliminacin. Si est asignado a un collar, se desvincular automticamente.",icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}},ye=async(Pe,xe)=>{try{await B9({identificador:Pe,cantidad:xe}),Rt.success("Collares creados.",{description:`Se han registrado ${xe} collares con identificador ${Pe}.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})}),await Z()}catch(ut){console.error("Error al crear collares en lote:",ut),Rt.error("Error al crear collares.",{description:ut.message||"Hubo un problema al procesar la solicitud de creacin masiva.",icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}},De=Pe=>{G({abierto:!0,collar:Pe})},Ve=async()=>{if(X.collar)try{await $9(X.collar.id),Rt.success("Collar eliminado.",{description:`El collar con cdigo ${X.collar.codigo} ha sido eliminado.`,icon:g.jsx(ua,{className:"h-4 w-4 text-red-500"})}),G({abierto:!1,collar:null}),await Z()}catch(Pe){console.error("Error al eliminar collar:",Pe),Rt.error("Error al eliminar el collar.",{description:Pe.message||"No se pudo completar la eliminacin. Si est asignado, se desvincular automticamente.",icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}},yt=_.useCallback(async Pe=>{try{const xe=await U9(Pe);y({collar_id:xe.id,codigo:xe.codigo,estado:xe.estado,bateria:xe.bateria,animal_id:xe.animal_id!=null?xe.animal_id.toString():"UNASSIGNED",original_animal_id:xe.animal_id!=null?xe.animal_id.toString():"UNASSIGNED",original_estado:xe.estado}),T(!0)}catch(xe){console.error("Error al cargar detalles del collar:",xe),Rt.error("No se pudo cargar la ficha del collar.",{description:"Verifique la conexin o intente de nuevo.",icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})})}},[]),$t=async Pe=>{try{const{collar_id:xe,animal_id:ut,original_animal_id:Pt,original_estado:Zt,...jt}=Pe;let An=!1;const ze=jt.estado!==Zt,st=jt.bateria!==p.bateria;(ze||st)&&(await G9(xe,{estado:jt.estado,bateria:jt.bateria}),An=!0,Rt.success("Collar actualizado.",{description:`Los datos del collar ${Pe.codigo} han sido guardados.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})})),ut!==Pt?(await hR(xe,ut==="UNASSIGNED"?null:ut),An=!0,Rt.success("Asignacin de collar actualizada.",{description:`La asignacin del collar ${Pe.codigo} ha sido modificada.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})})):!ze&&!st&&Rt.info("No se detectaron cambios en el collar.",{description:"No se realiz ninguna actualizacin.",icon:g.jsx(wi,{className:"h-4 w-4 text-blue-500"})}),An&&await Z(),T(!1),y({})}catch(xe){console.error("Error al guardar collar:",xe);const ut=xe.message||"Hubo un problema al procesar la solicitud.";Rt.error("Error al guardar el collar.",{description:ut,icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}},mt=_.useCallback(async Pe=>{try{const xe=await z9();F(xe),z(null),k({abierto:!0,animalId:Pe})}catch(xe){console.error("Error al cargar collares disponibles:",xe),Rt.error("No se pudieron cargar collares disponibles para asignar.",{description:"Por favor, intente de nuevo.",icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})})}},[]),Wn=async()=>{if(!I||!P.animalId){Rt.error("Debe seleccionar un collar para asignar.",{icon:g.jsx(ca,{className:"h-4 w-4 text-red-500"})});return}try{await hR(parseInt(I),P.animalId),Rt.success("Collar asignado.",{description:`Collar ${I} asignado al animal.`,icon:g.jsx(sa,{className:"h-4 w-4 text-green-500"})}),k({abierto:!1,animalId:null}),z(null),await Z()}catch(Pe){console.error("Error al asignar collar:",Pe),Rt.error("Error al asignar el collar.",{description:Pe.message||"Hubo un problema al procesar la asignacin.",icon:g.jsx(Dn,{className:"h-4 w-4 text-red-500"})})}},Hr=_.useMemo(()=>{var Pe;return[Es.accessor("numero_identificacion",{header:"ID"}),Es.accessor("nombre",{header:"Nombre"}),Es.accessor(xe=>xe.collar_asignado?xe.collar_asignado.codigo:null,{id:"collar_info",header:"Collar",cell:({row:xe})=>{const ut=xe.original;return ut.collar_asignado?g.jsx(at,{onClick:Pt=>{Pt.stopPropagation(),yt(ut.collar_asignado.id)},className:"gap-2 h-auto bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto hover:underline",children:ut.collar_asignado.codigo}):g.jsxs(at,{onClick:Pt=>{Pt.stopPropagation(),mt(ut.animal_id)},className:"gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(kC,{className:"h-3 w-3"})," ",g.jsx("span",{className:"hidden md:inline",children:"Asignar"})]})},filterFn:(xe,ut,Pt)=>{var jt;const Zt=(jt=xe.original.collar_asignado)==null?void 0:jt.codigo;return Zt?Zt.toLowerCase().startsWith(Pt.toLowerCase()):!1}}),Es.accessor(xe=>xe.parcela?xe.parcela:"-",{id:"parcela",header:"Parcela",enableColumnFilter:!0,meta:{filterOptions:o.parcelas.map(xe=>xe.nombre)}}),Es.accessor(xe=>xe.especie?xe.especie:"-",{id:"especie",header:"Especie",enableColumnFilter:!0,meta:{filterOptions:o.especies.map(xe=>xe.nombre)}}),Es.accessor(xe=>xe.raza?xe.raza:"-",{id:"raza",header:"Raza",enableColumnFilter:!0,meta:{filterOptions:o.razas.map(xe=>xe.nombre)}}),Es.accessor(xe=>xe.tipo?xe.tipo:"-",{id:"tipo",header:"Tipo",enableColumnFilter:!0,meta:{filterOptions:o.tipos.map(xe=>xe.nombre)}}),Es.accessor(xe=>xe.sexo?xe.sexo:"-",{id:"sexo",header:"Sexo",enableColumnFilter:!0,meta:{filterOptions:(Pe=o.sexos)==null?void 0:Pe.map(xe=>xe.nombre)}}),Es.display({id:"acciones",header:"Funciones",enableColumnFilter:!1,cell:({row:xe,table:ut})=>g.jsxs("div",{className:"flex gap-2 justify-center",children:[g.jsxs(at,{size:"icon",variant:"ghost",onClick:Pt=>{Pt.stopPropagation(),he(xe.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:[g.jsx(hv,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Editar animal"})]}),g.jsxs(at,{size:"icon",variant:"ghost",onClick:Pt=>{Pt.stopPropagation(),V({abierto:!0,animal:xe.original})},className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:[g.jsx(ua,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Eliminar animal"})]}),!ut.options.meta.showExpandableRows&&g.jsx(at,{size:"icon",variant:"ghost",onClick:Pt=>{Pt.stopPropagation(),xe.toggleExpanded()},className:"text-gray-500 hover:bg-gray-100","aria-label":xe.getIsExpanded()?"Colapsar detalles":"Expandir detalles",children:xe.getIsExpanded()?g.jsx(cv,{className:"h-5 w-5"}):g.jsx(lc,{className:"h-5 w-5"})})]})})]},[o,he,yt,mt]);return _.useEffect(()=>{sessionStorage.setItem(aj,JSON.stringify({globalFilter:D,sorting:U,pagination:N,columnFilters:ne,columnVisibility:ce}))},[D,U,N,ne,ce]),_.useEffect(()=>{sessionStorage.setItem(lj,JSON.stringify({globalFilter:we,sorting:$e,pagination:_t,columnVisibility:Dt}))},[we,$e,_t,Dt]),g.jsxs("div",{className:"px-6 py-20 sm:px-8 md:px-10 lg:px-12 xl:px-16 bg-white min-h-screen",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:[g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(DT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-blue-800 mr-2 sm:mr-3 align-middle"}),"Gestin de Animales"]}),g.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:g.jsxs(at,{onClick:ee,className:"gap-2 bg-blue-800 hover:bg-blue-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(kC,{className:"h-4 w-4"})," Nuevo Animal"]})})]}),g.jsx("div",{className:"gap-4 sm:gap-6 lg:gap-8",children:g.jsx($x,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(Bx,{className:"p-4",ref:te,children:g.jsx(ZJ,{data:t,columns:Hr,exportFilename:"animales",fullData:t,onRowClick:Pe=>console.log("Seleccionado:",Pe.numero_identificacion),onEditRow:he,onDeleteRow:Pe=>V({abierto:!0,animal:Pe}),globalFilter:D,setGlobalFilter:Tt,rowSelection:ae,setRowSelection:pe,sorting:U,setSorting:Y,pagination:N,setPagination:L,columnFilters:ne,setColumnFilters:ie,columnVisibility:ce,setColumnVisibility:ge})})})}),g.jsx("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(WT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-purple-600 mr-2 sm:mr-3 align-middle"}),"Gestin de Collares"]})}),g.jsx("div",{className:"mb-4 gap-4 sm:gap-6 lg:gap-8",children:g.jsx($x,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(Bx,{ref:J,children:g.jsx(_ee,{collares:n,onCreateBatch:ye,onDelete:De,onEditCollar:yt,fullCollarDataForExport:n,collarStatesOptions:u,onImportSuccess:Z,globalFilter:we,setGlobalFilter:B,rowSelection:zt,setRowSelection:On,sorting:$e,setSorting:Be,pagination:_t,setPagination:pt,columnVisibility:Dt,setColumnVisibility:Vt})})})}),g.jsx(da,{isOpen:S,size:"xxxxl",children:g.jsx(WZ,{animal:h,modoEdicion:v,parcelas:i,animalOptions:o,onCancel:()=>b(!1),onSave:fe})}),g.jsx(da,{isOpen:R,size:"xl",children:g.jsx(XZ,{collar:p,animals:t,collarStatesOptions:u,onCancel:()=>T(!1),onSave:$t})}),g.jsx(da,{isOpen:P.abierto,title:`Asignar Collar a ${P.animalId?(kr=t.find(Pe=>Pe.animal_id===P.animalId))==null?void 0:kr.nombre:"animal desconocido"}`,description:"Selecciona un collar disponible para asignar a este animal.",onCancel:()=>{k({abierto:!1,animalId:null}),z(null)},onConfirm:Wn,confirmText:"Asignar Collar",confirmColor:"bg-purple-600 hover:bg-purple-700",cancelText:"Cancelar",icon:g.jsx(OV,{className:"h-6 w-6 text-purple-500"}),size:"sm",message:g.jsx("div",{className:"p-4 space-y-4",children:g.jsxs("div",{children:[g.jsx(Cg,{htmlFor:"collar-select",className:"mb-2 block text-sm font-medium text-gray-700",children:"Seleccionar Collar"}),g.jsxs(Si,{onValueChange:z,value:I||"",disabled:M.length===0,children:[g.jsx(ni,{className:"w-full",children:g.jsx(Ci,{placeholder:M.length===0?"No hay collares disponibles":"Seleccionar collar"})}),g.jsx(ri,{children:M.length===0?g.jsx(Rn,{value:"no-available",disabled:!0,children:"No hay collares disponibles"}):M.map(Pe=>g.jsxs(Rn,{value:Pe.id.toString(),children:[Pe.codigo," (Batera: ",Pe.bateria,"%, Estado: ",Pe.estado,")"]},Pe.id))})]}),M.length===0&&g.jsx("p",{className:"text-sm text-red-500 mt-2",children:"No hay collares con estado 'disponible' para asignar."})]})})}),g.jsx(da,{isOpen:X.abierto,title:"Confirmar Eliminacin de Collar",onConfirm:Ve,onCancel:()=>G({abierto:!1,collar:null}),confirmText:"Eliminar Collar",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(ua,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["Ests seguro de que quieres eliminar el collar ",g.jsx("span",{className:"font-bold text-red-600",children:(Xr=X.collar)==null?void 0:Xr.codigo}),"?",g.jsx("br",{}),"Si este collar est asignado a un animal, se desvincular automticamente."]})}),g.jsx(da,{isOpen:W.abierto,title:"Confirmar Eliminacin de Animal",onConfirm:se,onCancel:()=>V({abierto:!1,animal:null}),confirmText:"Eliminar Animal",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(ua,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["Ests seguro de que quieres eliminar a ",g.jsx("span",{className:"font-bold text-red-600",children:(or=W.animal)==null?void 0:or.nombre}),"?",g.jsx("br",{}),"Esta accin es irreversible y tambin desvincular cualquier collar asociado."]})})]})}function See({mapRef:t}){const e=_.useRef(null),n=_.useRef(!1),r=_.useRef({x:0,y:0}),i=_.useRef(0),s=_.useRef(0),o=.4;_.useEffect(()=>{if(!(t!=null&&t.current))return;const p=t.current.getView(),y=()=>{const v=p.getRotation();e.current&&(e.current.style.transform=`rotate(${-v}rad)`)};return y(),p.on("change:rotation",y),()=>p.un("change:rotation",y)},[t]);const l=(p,y)=>{const v=p-r.current.x,w=r.current.y-y;return Math.atan2(v,w)},u=p=>{if(!t.current)return;n.current=!0;const y=p.currentTarget.getBoundingClientRect();r.current={x:y.left+y.width/2,y:y.top+y.height/2},i.current=t.current.getView().getRotation(),s.current=l(p.clientX,p.clientY),window.addEventListener("mousemove",d),window.addEventListener("mouseup",h)},d=p=>{if(!n.current||!t.current)return;const v=l(p.clientX,p.clientY)-s.current,w=i.current+v*o;t.current.getView().setRotation(w)},h=()=>{n.current=!1,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)},f=()=>{!n.current&&t.current&&t.current.getView().setRotation(0)};return g.jsx("button",{title:"Brjula",className:"bg-white rounded-full p-3 shadow-md transition-transform select-none",onMouseDown:u,onClick:f,children:g.jsx("img",{ref:e,src:"/dist/compass.svg",alt:"Compass",className:"w-6 h-6 transition-transform pointer-events-none"})})}function Cee({mapRef:t,onToggleLayer:e=()=>{},onLocate:n=()=>{},onCenterCampo:r=()=>{}}){const i=_.useRef(null);return _.useEffect(()=>{if(!(t!=null&&t.current))return;const s=t.current.getView(),o=()=>{const l=s.getRotation();i.current&&(i.current.style.transform=`rotate(${-l}rad)`)};return s.on("change:rotation",o),()=>s.un("change:rotation",o)},[t]),g.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-col gap-2",children:[g.jsx("button",{onClick:e,title:"Cambiar capa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(LV,{className:"w-6 h-6 text-gray-800"})}),g.jsx("button",{onClick:r,title:"Centrar en campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(o4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:n,title:"Centrar mapa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(WV,{className:"w-6 h-6 text-gray-800"})}),g.jsx(See,{mapRef:t})]})}function bee({campos:t={},campoId:e="",parcelaId:n="",parcelaNombre:r="",areaParcela:i=0,areaCampo:s=0,selectorOpen:o=!1,setSelectorOpen:l=()=>{},onSelectCampo:u=()=>{},mapRef:d=null}){const h=f=>{const p=t[f];p&&(d!=null&&d.current)&&d.current.getView().animate({center:Ao([p.lon,p.lat]),duration:800,easing:Pr}),u(f),l(!1),window.dispatchEvent(new Event("cerrarPopupResumen"))};return _.useEffect(()=>{const f=()=>l(!1);return window.addEventListener("closeCampoSelector",f),()=>window.removeEventListener("closeCampoSelector",f)},[]),g.jsxs("div",{className:"relative","data-testid":"campo-selector",children:[g.jsxs("button",{onClick:()=>{l(f=>{const p=!f;return p&&window.dispatchEvent(new Event("closeForm")),p})},className:"flex items-center px-4 py-2 bg-black/60 backdrop-blur-md rounded-full shadow-lg text-white text-sm hover:bg-black/70 transition-all max-w-full",children:[g.jsxs("div",{className:"flex flex-col items-center min-w-[120px] max-w-[150px]",children:[g.jsx("span",{className:"text-xs text-gray-300 truncate",children:e&&t[e]?t[e].nombre:"Creando nuevo campo"}),n&&e?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-center gap-1 flex-wrap",children:[g.jsx(dv,{size:14,className:"text-blue-400"}),g.jsx("span",{className:"text-sm truncate",children:r})]}),g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(i/1e4).toFixed(2)," ha"]})]}):e&&t[e]?g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(s/1e4).toFixed(2)," ha"]}):g.jsx("span",{className:"text-xs text-green-400 mt-0.5",children:"0.00 ha"})]}),g.jsx(lc,{size:16,className:"text-white"})]}),o&&g.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-md text-sm overflow-hidden z-20 w-full",children:Object.entries(t).map(([f,p])=>g.jsx("button",{onClick:()=>h(f),disabled:f===e,className:"w-full px-4 py-2 text-left hover:bg-gray-100 disabled:text-gray-400 disabled:italic disabled:cursor-not-allowed",children:p.nombre},f))})]})}function Eee(){const{mapRef:t,ready:e}=_.useContext(bd),{campoSeleccionado:n,setCampoSeleccionado:r,lastCampoId:i}=_.useContext(Ed),[s,o]=_.useState({}),[l,u]=_.useState({}),[d,h]=_.useState({campo_id:"",parcela_id:"",nombre:"",descripcion:""}),[f,p]=_.useState(0),[y,v]=_.useState(0),[w,S]=_.useState(!1);return _.useEffect(()=>{async function b(){const R=await Na();o(R.campos),u(R.parcelas);const T=R.campo_preferido_id||Object.keys(R.campos)[0],P=n??i??T;if(P){r(P),h(F=>({...F,campo_id:P}));const k=R.campos[P],M=I6("map",[k.lat,k.lon]);t.current=M}}b()},[]),_.useEffect(()=>{const b=()=>S(!1);return window.addEventListener("closeCampoSelector",b),()=>window.removeEventListener("closeCampoSelector",b)},[]),g.jsxs(g.Fragment,{children:[t.current&&g.jsx(Cee,{mapRef:t,onToggleLayer:()=>{const b=window.osm,R=window.esriSat;b&&R&&(b.setVisible(!b.getVisible()),R.setVisible(!R.getVisible()))},onCenterCampo:()=>{if(!t.current||!n||!s[n])return;const b=s[n];t.current.getView().animate({center:Ao([b.lon,b.lat]),duration:800,easing:Pr})},onLocate:()=>{navigator.geolocation&&t.current&&navigator.geolocation.getCurrentPosition(b=>{const R=[b.coords.longitude,b.coords.latitude];t.current.getView().animate({center:Ao(R),duration:800,easing:Pr})})}}),g.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:g.jsx(bee,{campos:s,campoId:n,parcelaId:d.parcela_id,parcelaNombre:d.nombre,areaParcela:y,areaCampo:f,selectorOpen:w,setSelectorOpen:S,onSelectCampo:b=>{r(b),h(R=>({...R,campo_id:b,parcela_id:"",nombre:"",descripcion:""}))},mapRef:t})}),g.jsx(eO,{context:{campos:s,parcelas:l,formData:d,setFormData:h,setCampos:o,setParcelas:u,setAreaParcela:v,setAreaCampo:p}})]})}function mT(){const t=ji(),{menuOpen:e,setMenuOpen:n}=b3(),r=t.pathname==="/login";return g.jsxs(g.Fragment,{children:[!r&&g.jsx(C3,{menuOpen:e,setMenuOpen:n}),g.jsxs(nO,{children:[g.jsx(Rs,{path:"/login",element:g.jsx(R3,{})}),g.jsx(Rs,{path:"/animales",element:g.jsxs(w0,{children:[" ",g.jsx(wee,{})," "]})}),g.jsxs(Rs,{element:g.jsx(w0,{children:g.jsx(sG,{children:g.jsx(Eee,{})})}),children:[g.jsx(Rs,{path:"/mapa",element:g.jsx(F6,{})}),g.jsx(Rs,{path:"/parcelas",element:g.jsx(M9,{})}),g.jsx(Rs,{path:"/campos",element:g.jsx(D9,{})})]}),g.jsx(Rs,{path:"/alertas",element:g.jsx(w0,{children:g.jsx(Ree,{label:"Alertas"})})}),g.jsx(Rs,{path:"*",element:g.jsx(PT,{to:"/login",replace:!0})})]}),!r&&g.jsx(E3,{setMenuOpen:n})]})}function Ree({label:t}){return g.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-100",children:g.jsx("h1",{className:"text-3xl font-bold",children:t})})}function w0({children:t}){const{isAuthenticated:e,loading:n}=Dm();return n?g.jsx("div",{className:"text-center text-blue-800 mt-10",children:"Verificando sesin..."}):e?t:g.jsx(PT,{to:"/login",replace:!0})}function Tee(){const{isAuthenticated:t,loading:e}=Dm();return e?g.jsx("div",{className:"p-4 text-green-950",children:"Verificando sesin..."}):t?g.jsxs(oG,{children:[g.jsx(bq,{richColors:!0,position:"top-right"}),g.jsx(mT,{})]}):g.jsx(mT,{})}yT.createRoot(document.getElementById("root")).render(g.jsx(le.StrictMode,{children:g.jsx(RO,{children:g.jsx(S3,{children:g.jsx(Tee,{})})})}));
