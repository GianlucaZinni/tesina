function rD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function qx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my={exports:{}},su={},gy={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function iD(){if(hC)return dt;hC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=f&&j[f]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function C(j,D,re){this.props=j,this.context=D,this.refs=w,this.updater=re||y}C.prototype.isReactComponent={},C.prototype.setState=function(j,D){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,D,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=C.prototype;function R(j,D,re){this.props=j,this.context=D,this.refs=w,this.updater=re||y}var T=R.prototype=new b;T.constructor=R,v(T,C.prototype),T.isPureReactComponent=!0;var P=Array.isArray,k=Object.prototype.hasOwnProperty,M={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function I(j,D,re){var ie,ce={},ge=null,ae=null;if(D!=null)for(ie in D.ref!==void 0&&(ae=D.ref),D.key!==void 0&&(ge=""+D.key),D)k.call(D,ie)&&!L.hasOwnProperty(ie)&&(ce[ie]=D[ie]);var xe=arguments.length-2;if(xe===1)ce.children=re;else if(1<xe){for(var Se=Array(xe),Ee=0;Ee<xe;Ee++)Se[Ee]=arguments[Ee+2];ce.children=Se}if(j&&j.defaultProps)for(ie in xe=j.defaultProps,xe)ce[ie]===void 0&&(ce[ie]=xe[ie]);return{$$typeof:t,type:j,key:ge,ref:ae,props:ce,_owner:M.current}}function O(j,D){return{$$typeof:t,type:j.type,key:D,ref:j.ref,props:j.props,_owner:j._owner}}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function z(j){var D={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(re){return D[re]})}var X=/\/+/g;function G(j,D){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):D.toString(36)}function Z(j,D,re,ie,ce){var ge=typeof j;(ge==="undefined"||ge==="boolean")&&(j=null);var ae=!1;if(j===null)ae=!0;else switch(ge){case"string":case"number":ae=!0;break;case"object":switch(j.$$typeof){case t:case e:ae=!0}}if(ae)return ae=j,ce=ce(ae),j=ie===""?"."+G(ae,0):ie,P(ce)?(re="",j!=null&&(re=j.replace(X,"$&/")+"/"),Z(ce,D,re,"",function(Ee){return Ee})):ce!=null&&(W(ce)&&(ce=O(ce,re+(!ce.key||ae&&ae.key===ce.key?"":(""+ce.key).replace(X,"$&/")+"/")+j)),D.push(ce)),1;if(ae=0,ie=ie===""?".":ie+":",P(j))for(var xe=0;xe<j.length;xe++){ge=j[xe];var Se=ie+G(ge,xe);ae+=Z(ge,D,re,Se,ce)}else if(Se=p(j),typeof Se=="function")for(j=Se.call(j),xe=0;!(ge=j.next()).done;)ge=ge.value,Se=ie+G(ge,xe++),ae+=Z(ge,D,re,Se,ce);else if(ge==="object")throw D=String(j),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return ae}function q(j,D,re){if(j==null)return j;var ie=[],ce=0;return Z(j,ie,"","",function(ge){return D.call(re,ge,ce++)}),ie}function H(j){if(j._status===-1){var D=j._result;D=D(),D.then(function(re){(j._status===0||j._status===-1)&&(j._status=1,j._result=re)},function(re){(j._status===0||j._status===-1)&&(j._status=2,j._result=re)}),j._status===-1&&(j._status=0,j._result=D)}if(j._status===1)return j._result.default;throw j._result}var F={current:null},N={transition:null},B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:N,ReactCurrentOwner:M};function Y(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:q,forEach:function(j,D,re){q(j,function(){D.apply(this,arguments)},re)},count:function(j){var D=0;return q(j,function(){D++}),D},toArray:function(j){return q(j,function(D){return D})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},dt.Component=C,dt.Fragment=n,dt.Profiler=i,dt.PureComponent=R,dt.StrictMode=r,dt.Suspense=c,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,dt.act=Y,dt.cloneElement=function(j,D,re){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ie=v({},j.props),ce=j.key,ge=j.ref,ae=j._owner;if(D!=null){if(D.ref!==void 0&&(ge=D.ref,ae=M.current),D.key!==void 0&&(ce=""+D.key),j.type&&j.type.defaultProps)var xe=j.type.defaultProps;for(Se in D)k.call(D,Se)&&!L.hasOwnProperty(Se)&&(ie[Se]=D[Se]===void 0&&xe!==void 0?xe[Se]:D[Se])}var Se=arguments.length-2;if(Se===1)ie.children=re;else if(1<Se){xe=Array(Se);for(var Ee=0;Ee<Se;Ee++)xe[Ee]=arguments[Ee+2];ie.children=xe}return{$$typeof:t,type:j.type,key:ce,ref:ge,props:ie,_owner:ae}},dt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},dt.createElement=I,dt.createFactory=function(j){var D=I.bind(null,j);return D.type=j,D},dt.createRef=function(){return{current:null}},dt.forwardRef=function(j){return{$$typeof:l,render:j}},dt.isValidElement=W,dt.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:H}},dt.memo=function(j,D){return{$$typeof:d,type:j,compare:D===void 0?null:D}},dt.startTransition=function(j){var D=N.transition;N.transition={};try{j()}finally{N.transition=D}},dt.unstable_act=Y,dt.useCallback=function(j,D){return F.current.useCallback(j,D)},dt.useContext=function(j){return F.current.useContext(j)},dt.useDebugValue=function(){},dt.useDeferredValue=function(j){return F.current.useDeferredValue(j)},dt.useEffect=function(j,D){return F.current.useEffect(j,D)},dt.useId=function(){return F.current.useId()},dt.useImperativeHandle=function(j,D,re){return F.current.useImperativeHandle(j,D,re)},dt.useInsertionEffect=function(j,D){return F.current.useInsertionEffect(j,D)},dt.useLayoutEffect=function(j,D){return F.current.useLayoutEffect(j,D)},dt.useMemo=function(j,D){return F.current.useMemo(j,D)},dt.useReducer=function(j,D,re){return F.current.useReducer(j,D,re)},dt.useRef=function(j){return F.current.useRef(j)},dt.useState=function(j){return F.current.useState(j)},dt.useSyncExternalStore=function(j,D,re){return F.current.useSyncExternalStore(j,D,re)},dt.useTransition=function(){return F.current.useTransition()},dt.version="18.3.1",dt}var fC;function Jx(){return fC||(fC=1,gy.exports=iD()),gy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function sD(){if(mC)return su;mC=1;var t=Jx(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,f={},p=null,y=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:p,ref:y,props:f,_owner:i.current}}return su.Fragment=n,su.jsx=o,su.jsxs=o,su}var gC;function oD(){return gC||(gC=1,my.exports=sD()),my.exports}var g=oD(),_=Jx();const le=qx(_),pT=rD({__proto__:null,default:le},[_]);var Hh={},py={exports:{}},wr={},yy={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function aD(){return pC||(pC=1,function(t){function e(N,B){var Y=N.length;N.push(B);e:for(;0<Y;){var j=Y-1>>>1,D=N[j];if(0<i(D,B))N[j]=B,N[Y]=D,Y=j;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],Y=N.pop();if(Y!==B){N[0]=Y;e:for(var j=0,D=N.length,re=D>>>1;j<re;){var ie=2*(j+1)-1,ce=N[ie],ge=ie+1,ae=N[ge];if(0>i(ce,Y))ge<D&&0>i(ae,ce)?(N[j]=ae,N[ge]=Y,j=ge):(N[j]=ce,N[ie]=Y,j=ie);else if(ge<D&&0>i(ae,Y))N[j]=ae,N[ge]=Y,j=ge;else break e}}return B}function i(N,B){var Y=N.sortIndex-B.sortIndex;return Y!==0?Y:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,y=!1,v=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(N){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=N)r(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(d)}}function P(N){if(w=!1,T(N),!v)if(n(c)!==null)v=!0,H(k);else{var B=n(d);B!==null&&F(P,B.startTime-N)}}function k(N,B){v=!1,w&&(w=!1,b(I),I=-1),y=!0;var Y=p;try{for(T(B),f=n(c);f!==null&&(!(f.expirationTime>B)||N&&!z());){var j=f.callback;if(typeof j=="function"){f.callback=null,p=f.priorityLevel;var D=j(f.expirationTime<=B);B=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(c)&&r(c),T(B)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var ie=n(d);ie!==null&&F(P,ie.startTime-B),re=!1}return re}finally{f=null,p=Y,y=!1}}var M=!1,L=null,I=-1,O=5,W=-1;function z(){return!(t.unstable_now()-W<O)}function X(){if(L!==null){var N=t.unstable_now();W=N;var B=!0;try{B=L(!0,N)}finally{B?G():(M=!1,L=null)}}else M=!1}var G;if(typeof R=="function")G=function(){R(X)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,q=Z.port2;Z.port1.onmessage=X,G=function(){q.postMessage(null)}}else G=function(){C(X,0)};function H(N){L=N,M||(M=!0,G())}function F(N,B){I=C(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,H(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(N){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var Y=p;p=B;try{return N()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=p;p=N;try{return B()}finally{p=Y}},t.unstable_scheduleCallback=function(N,B,Y){var j=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?j+Y:j):Y=j,N){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,N={id:h++,callback:B,priorityLevel:N,startTime:Y,expirationTime:D,sortIndex:-1},Y>j?(N.sortIndex=Y,e(d,N),n(c)===null&&N===n(d)&&(w?(b(I),I=-1):w=!0,F(P,Y-j))):(N.sortIndex=D,e(c,N),v||y||(v=!0,H(k))),N},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(N){var B=p;return function(){var Y=p;p=B;try{return N.apply(this,arguments)}finally{p=Y}}}}(xy)),xy}var yC;function lD(){return yC||(yC=1,yy.exports=aD()),yy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC;function cD(){if(xC)return wr;xC=1;var t=Jx(),e=lD();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(a){return c.call(f,a)?!0:c.call(h,a)?!1:d.test(a)?f[a]=!0:(h[a]=!0,!1)}function y(a,u,m,x){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function v(a,u,m,x){if(u===null||typeof u>"u"||y(a,u,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(a,u,m,x,S,E,A){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=x,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=a,this.type=u,this.sanitizeURL=E,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];C[u]=new w(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function R(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(b,R);C[u]=new w(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,u,m,x){var S=C.hasOwnProperty(u)?C[u]:null;(S!==null?S.type!==0:x||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(v(u,m,S,x)&&(m=null),x||S===null?p(u)&&(m===null?a.removeAttribute(u):a.setAttribute(u,""+m)):S.mustUseProperty?a[S.propertyName]=m===null?S.type===3?!1:"":m:(u=S.attributeName,x=S.attributeNamespace,m===null?a.removeAttribute(u):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,x?a.setAttributeNS(x,u,m):a.setAttribute(u,m))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),N=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=N&&a[N]||a["@@iterator"],typeof a=="function"?a:null)}var Y=Object.assign,j;function D(a){if(j===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);j=u&&u[1]||""}return`
`+j+a}var re=!1;function ie(a,u){if(!a||re)return"";re=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(se){var x=se}Reflect.construct(a,[],u)}else{try{u.call()}catch(se){x=se}a.call(u.prototype)}else{try{throw Error()}catch(se){x=se}a()}}catch(se){if(se&&x&&typeof se.stack=="string"){for(var S=se.stack.split(`
`),E=x.stack.split(`
`),A=S.length-1,V=E.length-1;1<=A&&0<=V&&S[A]!==E[V];)V--;for(;1<=A&&0<=V;A--,V--)if(S[A]!==E[V]){if(A!==1||V!==1)do if(A--,V--,0>V||S[A]!==E[V]){var U=`
`+S[A].replace(" at new "," at ");return a.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",a.displayName)),U}while(1<=A&&0<=V);break}}}finally{re=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?D(a):""}function ce(a){switch(a.tag){case 5:return D(a.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return a=ie(a.type,!1),a;case 11:return a=ie(a.type.render,!1),a;case 1:return a=ie(a.type,!0),a;default:return""}}function ge(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case L:return"Fragment";case M:return"Portal";case O:return"Profiler";case I:return"StrictMode";case G:return"Suspense";case Z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case z:return(a.displayName||"Context")+".Consumer";case W:return(a._context.displayName||"Context")+".Provider";case X:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case q:return u=a.displayName||null,u!==null?u:ge(a.type)||"Memo";case H:u=a._payload,a=a._init;try{return ge(a(u))}catch{}}return null}function ae(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function xe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Se(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ee(a){var u=Se(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),x=""+a[u];if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,E=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return S.call(this)},set:function(A){x=""+A,E.call(this,A)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Xe(a){a._valueTracker||(a._valueTracker=Ee(a))}function Ve(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var m=u.getValue(),x="";return a&&(x=Se(a)?a.checked?"true":"false":a.value),a=x,a!==m?(u.setValue(a),!0):!1}function wt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function xt(a,u){var m=u.checked;return Y({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Dt(a,u){var m=u.defaultValue==null?"":u.defaultValue,x=u.checked!=null?u.checked:u.defaultChecked;m=xe(u.value!=null?u.value:m),a._wrapperState={initialChecked:x,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Vt(a,u){u=u.checked,u!=null&&T(a,"checked",u,!1)}function Ft(a,u){Vt(a,u);var m=xe(u.value),x=u.type;if(m!=null)x==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(x==="submit"||x==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?bt(a,u.type,m):u.hasOwnProperty("defaultValue")&&bt(a,u.type,xe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function An(a,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var x=u.type;if(!(x!=="submit"&&x!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,m||u===a.value||(a.value=u),a.defaultValue=u}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function bt(a,u,m){(u!=="number"||wt(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var $=Array.isArray;function J(a,u,m,x){if(a=a.options,u){u={};for(var S=0;S<m.length;S++)u["$"+m[S]]=!0;for(m=0;m<a.length;m++)S=u.hasOwnProperty("$"+a[m].value),a[m].selected!==S&&(a[m].selected=S),S&&x&&(a[m].defaultSelected=!0)}else{for(m=""+xe(m),u=null,S=0;S<a.length;S++){if(a[S].value===m){a[S].selected=!0,x&&(a[S].defaultSelected=!0);return}u!==null||a[S].disabled||(u=a[S])}u!==null&&(u.selected=!0)}}function ee(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function pe(a,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if($(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}a._wrapperState={initialValue:xe(m)}}function me(a,u){var m=xe(u.value),x=xe(u.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),u.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),x!=null&&(a.defaultValue=""+x)}function ne(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function ve(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?ve(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ze,Et=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,x,S){MSApp.execUnsafeLocalFunction(function(){return a(u,m,x,S)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=ze.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function zt(a,u){if(u){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=u;return}}a.textContent=u}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gn=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(a){Gn.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),pt[u]=pt[a]})});function Hr(a,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||pt.hasOwnProperty(a)&&pt[a]?(""+u).trim():u+"px"}function Xr(a,u){a=a.style;for(var m in u)if(u.hasOwnProperty(m)){var x=m.indexOf("--")===0,S=Hr(m,u[m],x);m==="float"&&(m="cssFloat"),x?a.setProperty(m,S):a[m]=S}}var li=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(a,u){if(u){if(li[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function sr(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var or=null;function _n(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var kr=null,Un=null,Mn=null;function ci(a){if(a=Uc(a)){if(typeof kr!="function")throw Error(n(280));var u=a.stateNode;u&&(u=ah(u),kr(a.stateNode,a.type,u))}}function Ye(a){Un?Mn?Mn.push(a):Mn=[a]:Un=a}function he(){if(Un){var a=Un,u=Mn;if(Mn=Un=null,ci(a),u)for(a=0;a<u.length;a++)ci(u[a])}}function de(a,u){return a(u)}function Ke(){}var ft=!1;function nt(a,u,m){if(ft)return a(u,m);ft=!0;try{return de(a,u,m)}finally{ft=!1,(Un!==null||Mn!==null)&&(Ke(),he())}}function gt(a,u){var m=a.stateNode;if(m===null)return null;var x=ah(m);if(x===null)return null;m=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var Zt=!1;if(l)try{var at={};Object.defineProperty(at,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Zt=!1}function vt(a,u,m,x,S,E,A,V,U){var se=Array.prototype.slice.call(arguments,3);try{u.apply(m,se)}catch(fe){this.onError(fe)}}var lt=!1,wn=null,Rt=!1,Ec=null,uF={onError:function(a){lt=!0,wn=a}};function dF(a,u,m,x,S,E,A,V,U){lt=!1,wn=null,vt.apply(uF,arguments)}function hF(a,u,m,x,S,E,A,V,U){if(dF.apply(this,arguments),lt){if(lt){var se=wn;lt=!1,wn=null}else throw Error(n(198));Rt||(Rt=!0,Ec=se)}}function Wo(a){var u=a,m=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(m=u.return),a=u.return;while(a)}return u.tag===3?m:null}function Fw(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Lw(a){if(Wo(a)!==a)throw Error(n(188))}function fF(a){var u=a.alternate;if(!u){if(u=Wo(a),u===null)throw Error(n(188));return u!==a?null:a}for(var m=a,x=u;;){var S=m.return;if(S===null)break;var E=S.alternate;if(E===null){if(x=S.return,x!==null){m=x;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===m)return Lw(S),a;if(E===x)return Lw(S),u;E=E.sibling}throw Error(n(188))}if(m.return!==x.return)m=S,x=E;else{for(var A=!1,V=S.child;V;){if(V===m){A=!0,m=S,x=E;break}if(V===x){A=!0,x=S,m=E;break}V=V.sibling}if(!A){for(V=E.child;V;){if(V===m){A=!0,m=E,x=S;break}if(V===x){A=!0,x=E,m=S;break}V=V.sibling}if(!A)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:u}function Dw(a){return a=fF(a),a!==null?Ow(a):null}function Ow(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Ow(a);if(u!==null)return u;a=a.sibling}return null}var Vw=e.unstable_scheduleCallback,zw=e.unstable_cancelCallback,mF=e.unstable_shouldYield,gF=e.unstable_requestPaint,sn=e.unstable_now,pF=e.unstable_getCurrentPriorityLevel,jg=e.unstable_ImmediatePriority,$w=e.unstable_UserBlockingPriority,$d=e.unstable_NormalPriority,yF=e.unstable_LowPriority,Bw=e.unstable_IdlePriority,Bd=null,Gi=null;function xF(a){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Bd,a,void 0,(a.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:wF,vF=Math.log,_F=Math.LN2;function wF(a){return a>>>=0,a===0?32:31-(vF(a)/_F|0)|0}var Gd=64,Ud=4194304;function Rc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Wd(a,u){var m=a.pendingLanes;if(m===0)return 0;var x=0,S=a.suspendedLanes,E=a.pingedLanes,A=m&268435455;if(A!==0){var V=A&~S;V!==0?x=Rc(V):(E&=A,E!==0&&(x=Rc(E)))}else A=m&~S,A!==0?x=Rc(A):E!==0&&(x=Rc(E));if(x===0)return 0;if(u!==0&&u!==x&&(u&S)===0&&(S=x&-x,E=u&-u,S>=E||S===16&&(E&4194240)!==0))return u;if((x&4)!==0&&(x|=m&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=x;0<u;)m=31-ui(u),S=1<<m,x|=a[m],u&=~S;return x}function SF(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CF(a,u){for(var m=a.suspendedLanes,x=a.pingedLanes,S=a.expirationTimes,E=a.pendingLanes;0<E;){var A=31-ui(E),V=1<<A,U=S[A];U===-1?((V&m)===0||(V&x)!==0)&&(S[A]=SF(V,u)):U<=u&&(a.expiredLanes|=V),E&=~V}}function Fg(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Gw(){var a=Gd;return Gd<<=1,(Gd&4194240)===0&&(Gd=64),a}function Lg(a){for(var u=[],m=0;31>m;m++)u.push(a);return u}function Tc(a,u,m){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-ui(u),a[u]=m}function bF(a,u){var m=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var x=a.eventTimes;for(a=a.expirationTimes;0<m;){var S=31-ui(m),E=1<<S;u[S]=0,x[S]=-1,a[S]=-1,m&=~E}}function Dg(a,u){var m=a.entangledLanes|=u;for(a=a.entanglements;m;){var x=31-ui(m),S=1<<x;S&u|a[x]&u&&(a[x]|=u),m&=~S}}var Mt=0;function Uw(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Ww,Og,Hw,Xw,Kw,Vg=!1,Hd=[],Hs=null,Xs=null,Ks=null,Pc=new Map,kc=new Map,Ys=[],EF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(a,u){switch(a){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Pc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(u.pointerId)}}function Ac(a,u,m,x,S,E){return a===null||a.nativeEvent!==E?(a={blockedOn:u,domEventName:m,eventSystemFlags:x,nativeEvent:E,targetContainers:[S]},u!==null&&(u=Uc(u),u!==null&&Og(u)),a):(a.eventSystemFlags|=x,u=a.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),a)}function RF(a,u,m,x,S){switch(u){case"focusin":return Hs=Ac(Hs,a,u,m,x,S),!0;case"dragenter":return Xs=Ac(Xs,a,u,m,x,S),!0;case"mouseover":return Ks=Ac(Ks,a,u,m,x,S),!0;case"pointerover":var E=S.pointerId;return Pc.set(E,Ac(Pc.get(E)||null,a,u,m,x,S)),!0;case"gotpointercapture":return E=S.pointerId,kc.set(E,Ac(kc.get(E)||null,a,u,m,x,S)),!0}return!1}function Zw(a){var u=Ho(a.target);if(u!==null){var m=Wo(u);if(m!==null){if(u=m.tag,u===13){if(u=Fw(m),u!==null){a.blockedOn=u,Kw(a.priority,function(){Hw(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xd(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var m=$g(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var x=new m.constructor(m.type,m);or=x,m.target.dispatchEvent(x),or=null}else return u=Uc(m),u!==null&&Og(u),a.blockedOn=m,!1;u.shift()}return!0}function qw(a,u,m){Xd(a)&&m.delete(u)}function TF(){Vg=!1,Hs!==null&&Xd(Hs)&&(Hs=null),Xs!==null&&Xd(Xs)&&(Xs=null),Ks!==null&&Xd(Ks)&&(Ks=null),Pc.forEach(qw),kc.forEach(qw)}function Mc(a,u){a.blockedOn===u&&(a.blockedOn=null,Vg||(Vg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TF)))}function Ic(a){function u(S){return Mc(S,a)}if(0<Hd.length){Mc(Hd[0],a);for(var m=1;m<Hd.length;m++){var x=Hd[m];x.blockedOn===a&&(x.blockedOn=null)}}for(Hs!==null&&Mc(Hs,a),Xs!==null&&Mc(Xs,a),Ks!==null&&Mc(Ks,a),Pc.forEach(u),kc.forEach(u),m=0;m<Ys.length;m++)x=Ys[m],x.blockedOn===a&&(x.blockedOn=null);for(;0<Ys.length&&(m=Ys[0],m.blockedOn===null);)Zw(m),m.blockedOn===null&&Ys.shift()}var Ka=P.ReactCurrentBatchConfig,Kd=!0;function PF(a,u,m,x){var S=Mt,E=Ka.transition;Ka.transition=null;try{Mt=1,zg(a,u,m,x)}finally{Mt=S,Ka.transition=E}}function kF(a,u,m,x){var S=Mt,E=Ka.transition;Ka.transition=null;try{Mt=4,zg(a,u,m,x)}finally{Mt=S,Ka.transition=E}}function zg(a,u,m,x){if(Kd){var S=$g(a,u,m,x);if(S===null)ip(a,u,x,Yd,m),Yw(a,x);else if(RF(S,a,u,m,x))x.stopPropagation();else if(Yw(a,x),u&4&&-1<EF.indexOf(a)){for(;S!==null;){var E=Uc(S);if(E!==null&&Ww(E),E=$g(a,u,m,x),E===null&&ip(a,u,x,Yd,m),E===S)break;S=E}S!==null&&x.stopPropagation()}else ip(a,u,x,null,m)}}var Yd=null;function $g(a,u,m,x){if(Yd=null,a=_n(x),a=Ho(a),a!==null)if(u=Wo(a),u===null)a=null;else if(m=u.tag,m===13){if(a=Fw(u),a!==null)return a;a=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Yd=a,null}function Jw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pF()){case jg:return 1;case $w:return 4;case $d:case yF:return 16;case Bw:return 536870912;default:return 16}default:return 16}}var Zs=null,Bg=null,Zd=null;function Qw(){if(Zd)return Zd;var a,u=Bg,m=u.length,x,S="value"in Zs?Zs.value:Zs.textContent,E=S.length;for(a=0;a<m&&u[a]===S[a];a++);var A=m-a;for(x=1;x<=A&&u[m-x]===S[E-x];x++);return Zd=S.slice(a,1<x?1-x:void 0)}function qd(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Jd(){return!0}function e1(){return!1}function Ar(a){function u(m,x,S,E,A){this._reactName=m,this._targetInst=S,this.type=x,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(m=a[V],this[V]=m?m(E):E[V]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Jd:e1,this.isPropagationStopped=e1,this}return Y(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Jd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Jd)},persist:function(){},isPersistent:Jd}),u}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gg=Ar(Ya),Nc=Y({},Ya,{view:0,detail:0}),AF=Ar(Nc),Ug,Wg,jc,Qd=Y({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jc&&(jc&&a.type==="mousemove"?(Ug=a.screenX-jc.screenX,Wg=a.screenY-jc.screenY):Wg=Ug=0,jc=a),Ug)},movementY:function(a){return"movementY"in a?a.movementY:Wg}}),t1=Ar(Qd),MF=Y({},Qd,{dataTransfer:0}),IF=Ar(MF),NF=Y({},Nc,{relatedTarget:0}),Hg=Ar(NF),jF=Y({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),FF=Ar(jF),LF=Y({},Ya,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),DF=Ar(LF),OF=Y({},Ya,{data:0}),n1=Ar(OF),VF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$F={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BF(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=$F[a])?!!u[a]:!1}function Xg(){return BF}var GF=Y({},Nc,{key:function(a){if(a.key){var u=VF[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=qd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zF[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(a){return a.type==="keypress"?qd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?qd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),UF=Ar(GF),WF=Y({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r1=Ar(WF),HF=Y({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),XF=Ar(HF),KF=Y({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),YF=Ar(KF),ZF=Y({},Qd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qF=Ar(ZF),JF=[9,13,27,32],Kg=l&&"CompositionEvent"in window,Fc=null;l&&"documentMode"in document&&(Fc=document.documentMode);var QF=l&&"TextEvent"in window&&!Fc,i1=l&&(!Kg||Fc&&8<Fc&&11>=Fc),s1=" ",o1=!1;function a1(a,u){switch(a){case"keyup":return JF.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Za=!1;function eL(a,u){switch(a){case"compositionend":return l1(u);case"keypress":return u.which!==32?null:(o1=!0,s1);case"textInput":return a=u.data,a===s1&&o1?null:a;default:return null}}function tL(a,u){if(Za)return a==="compositionend"||!Kg&&a1(a,u)?(a=Qw(),Zd=Bg=Zs=null,Za=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return i1&&u.locale!=="ko"?null:u.data;default:return null}}var nL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!nL[a.type]:u==="textarea"}function u1(a,u,m,x){Ye(x),u=ih(u,"onChange"),0<u.length&&(m=new Gg("onChange","change",null,m,x),a.push({event:m,listeners:u}))}var Lc=null,Dc=null;function rL(a){P1(a,0)}function eh(a){var u=tl(a);if(Ve(u))return a}function iL(a,u){if(a==="change")return u}var d1=!1;if(l){var Yg;if(l){var Zg="oninput"in document;if(!Zg){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Zg=typeof h1.oninput=="function"}Yg=Zg}else Yg=!1;d1=Yg&&(!document.documentMode||9<document.documentMode)}function f1(){Lc&&(Lc.detachEvent("onpropertychange",m1),Dc=Lc=null)}function m1(a){if(a.propertyName==="value"&&eh(Dc)){var u=[];u1(u,Dc,a,_n(a)),nt(rL,u)}}function sL(a,u,m){a==="focusin"?(f1(),Lc=u,Dc=m,Lc.attachEvent("onpropertychange",m1)):a==="focusout"&&f1()}function oL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return eh(Dc)}function aL(a,u){if(a==="click")return eh(u)}function lL(a,u){if(a==="input"||a==="change")return eh(u)}function cL(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var di=typeof Object.is=="function"?Object.is:cL;function Oc(a,u){if(di(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var m=Object.keys(a),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var S=m[x];if(!c.call(u,S)||!di(a[S],u[S]))return!1}return!0}function g1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function p1(a,u){var m=g1(a);a=0;for(var x;m;){if(m.nodeType===3){if(x=a+m.textContent.length,a<=u&&x>=u)return{node:m,offset:u-a};a=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=g1(m)}}function y1(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?y1(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function x1(){for(var a=window,u=wt();u instanceof a.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)a=u.contentWindow;else break;u=wt(a.document)}return u}function qg(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function uL(a){var u=x1(),m=a.focusedElem,x=a.selectionRange;if(u!==m&&m&&m.ownerDocument&&y1(m.ownerDocument.documentElement,m)){if(x!==null&&qg(m)){if(u=x.start,a=x.end,a===void 0&&(a=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(a,m.value.length);else if(a=(u=m.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var S=m.textContent.length,E=Math.min(x.start,S);x=x.end===void 0?E:Math.min(x.end,S),!a.extend&&E>x&&(S=x,x=E,E=S),S=p1(m,E);var A=p1(m,x);S&&A&&(a.rangeCount!==1||a.anchorNode!==S.node||a.anchorOffset!==S.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),a.removeAllRanges(),E>x?(a.addRange(u),a.extend(A.node,A.offset)):(u.setEnd(A.node,A.offset),a.addRange(u)))}}for(u=[],a=m;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)a=u[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var dL=l&&"documentMode"in document&&11>=document.documentMode,qa=null,Jg=null,Vc=null,Qg=!1;function v1(a,u,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Qg||qa==null||qa!==wt(x)||(x=qa,"selectionStart"in x&&qg(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Vc&&Oc(Vc,x)||(Vc=x,x=ih(Jg,"onSelect"),0<x.length&&(u=new Gg("onSelect","select",null,u,m),a.push({event:u,listeners:x}),u.target=qa)))}function th(a,u){var m={};return m[a.toLowerCase()]=u.toLowerCase(),m["Webkit"+a]="webkit"+u,m["Moz"+a]="moz"+u,m}var Ja={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},ep={},_1={};l&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function nh(a){if(ep[a])return ep[a];if(!Ja[a])return a;var u=Ja[a],m;for(m in u)if(u.hasOwnProperty(m)&&m in _1)return ep[a]=u[m];return a}var w1=nh("animationend"),S1=nh("animationiteration"),C1=nh("animationstart"),b1=nh("transitionend"),E1=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(a,u){E1.set(a,u),s(u,[a])}for(var tp=0;tp<R1.length;tp++){var np=R1[tp],hL=np.toLowerCase(),fL=np[0].toUpperCase()+np.slice(1);qs(hL,"on"+fL)}qs(w1,"onAnimationEnd"),qs(S1,"onAnimationIteration"),qs(C1,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(b1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mL=new Set("cancel close invalid load scroll toggle".split(" ").concat(zc));function T1(a,u,m){var x=a.type||"unknown-event";a.currentTarget=m,hF(x,u,void 0,a),a.currentTarget=null}function P1(a,u){u=(u&4)!==0;for(var m=0;m<a.length;m++){var x=a[m],S=x.event;x=x.listeners;e:{var E=void 0;if(u)for(var A=x.length-1;0<=A;A--){var V=x[A],U=V.instance,se=V.currentTarget;if(V=V.listener,U!==E&&S.isPropagationStopped())break e;T1(S,V,se),E=U}else for(A=0;A<x.length;A++){if(V=x[A],U=V.instance,se=V.currentTarget,V=V.listener,U!==E&&S.isPropagationStopped())break e;T1(S,V,se),E=U}}}if(Rt)throw a=Ec,Rt=!1,Ec=null,a}function Ut(a,u){var m=u[up];m===void 0&&(m=u[up]=new Set);var x=a+"__bubble";m.has(x)||(k1(u,a,2,!1),m.add(x))}function rp(a,u,m){var x=0;u&&(x|=4),k1(m,a,x,u)}var rh="_reactListening"+Math.random().toString(36).slice(2);function $c(a){if(!a[rh]){a[rh]=!0,r.forEach(function(m){m!=="selectionchange"&&(mL.has(m)||rp(m,!1,a),rp(m,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[rh]||(u[rh]=!0,rp("selectionchange",!1,u))}}function k1(a,u,m,x){switch(Jw(u)){case 1:var S=PF;break;case 4:S=kF;break;default:S=zg}m=S.bind(null,u,m,a),S=void 0,!Zt||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),x?S!==void 0?a.addEventListener(u,m,{capture:!0,passive:S}):a.addEventListener(u,m,!0):S!==void 0?a.addEventListener(u,m,{passive:S}):a.addEventListener(u,m,!1)}function ip(a,u,m,x,S){var E=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var V=x.stateNode.containerInfo;if(V===S||V.nodeType===8&&V.parentNode===S)break;if(A===4)for(A=x.return;A!==null;){var U=A.tag;if((U===3||U===4)&&(U=A.stateNode.containerInfo,U===S||U.nodeType===8&&U.parentNode===S))return;A=A.return}for(;V!==null;){if(A=Ho(V),A===null)return;if(U=A.tag,U===5||U===6){x=E=A;continue e}V=V.parentNode}}x=x.return}nt(function(){var se=E,fe=_n(m),ye=[];e:{var ue=E1.get(a);if(ue!==void 0){var Re=Gg,Ae=a;switch(a){case"keypress":if(qd(m)===0)break e;case"keydown":case"keyup":Re=UF;break;case"focusin":Ae="focus",Re=Hg;break;case"focusout":Ae="blur",Re=Hg;break;case"beforeblur":case"afterblur":Re=Hg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=t1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=IF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=XF;break;case w1:case S1:case C1:Re=FF;break;case b1:Re=YF;break;case"scroll":Re=AF;break;case"wheel":Re=qF;break;case"copy":case"cut":case"paste":Re=DF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=r1}var Ne=(u&4)!==0,on=!Ne&&a==="scroll",Q=Ne?ue!==null?ue+"Capture":null:ue;Ne=[];for(var K=se,te;K!==null;){te=K;var _e=te.stateNode;if(te.tag===5&&_e!==null&&(te=_e,Q!==null&&(_e=gt(K,Q),_e!=null&&Ne.push(Bc(K,_e,te)))),on)break;K=K.return}0<Ne.length&&(ue=new Re(ue,Ae,null,m,fe),ye.push({event:ue,listeners:Ne}))}}if((u&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",Re=a==="mouseout"||a==="pointerout",ue&&m!==or&&(Ae=m.relatedTarget||m.fromElement)&&(Ho(Ae)||Ae[gs]))break e;if((Re||ue)&&(ue=fe.window===fe?fe:(ue=fe.ownerDocument)?ue.defaultView||ue.parentWindow:window,Re?(Ae=m.relatedTarget||m.toElement,Re=se,Ae=Ae?Ho(Ae):null,Ae!==null&&(on=Wo(Ae),Ae!==on||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Re=null,Ae=se),Re!==Ae)){if(Ne=t1,_e="onMouseLeave",Q="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=r1,_e="onPointerLeave",Q="onPointerEnter",K="pointer"),on=Re==null?ue:tl(Re),te=Ae==null?ue:tl(Ae),ue=new Ne(_e,K+"leave",Re,m,fe),ue.target=on,ue.relatedTarget=te,_e=null,Ho(fe)===se&&(Ne=new Ne(Q,K+"enter",Ae,m,fe),Ne.target=te,Ne.relatedTarget=on,_e=Ne),on=_e,Re&&Ae)t:{for(Ne=Re,Q=Ae,K=0,te=Ne;te;te=Qa(te))K++;for(te=0,_e=Q;_e;_e=Qa(_e))te++;for(;0<K-te;)Ne=Qa(Ne),K--;for(;0<te-K;)Q=Qa(Q),te--;for(;K--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=Qa(Ne),Q=Qa(Q)}Ne=null}else Ne=null;Re!==null&&A1(ye,ue,Re,Ne,!1),Ae!==null&&on!==null&&A1(ye,on,Ae,Ne,!0)}}e:{if(ue=se?tl(se):window,Re=ue.nodeName&&ue.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ue.type==="file")var Le=iL;else if(c1(ue))if(d1)Le=lL;else{Le=oL;var Ue=sL}else(Re=ue.nodeName)&&Re.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Le=aL);if(Le&&(Le=Le(a,se))){u1(ye,Le,m,fe);break e}Ue&&Ue(a,ue,se),a==="focusout"&&(Ue=ue._wrapperState)&&Ue.controlled&&ue.type==="number"&&bt(ue,"number",ue.value)}switch(Ue=se?tl(se):window,a){case"focusin":(c1(Ue)||Ue.contentEditable==="true")&&(qa=Ue,Jg=se,Vc=null);break;case"focusout":Vc=Jg=qa=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,v1(ye,m,fe);break;case"selectionchange":if(dL)break;case"keydown":case"keyup":v1(ye,m,fe)}var We;if(Kg)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Za?a1(a,m)&&(Je="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(Je="onCompositionStart");Je&&(i1&&m.locale!=="ko"&&(Za||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Za&&(We=Qw()):(Zs=fe,Bg="value"in Zs?Zs.value:Zs.textContent,Za=!0)),Ue=ih(se,Je),0<Ue.length&&(Je=new n1(Je,a,null,m,fe),ye.push({event:Je,listeners:Ue}),We?Je.data=We:(We=l1(m),We!==null&&(Je.data=We)))),(We=QF?eL(a,m):tL(a,m))&&(se=ih(se,"onBeforeInput"),0<se.length&&(fe=new n1("onBeforeInput","beforeinput",null,m,fe),ye.push({event:fe,listeners:se}),fe.data=We))}P1(ye,u)})}function Bc(a,u,m){return{instance:a,listener:u,currentTarget:m}}function ih(a,u){for(var m=u+"Capture",x=[];a!==null;){var S=a,E=S.stateNode;S.tag===5&&E!==null&&(S=E,E=gt(a,m),E!=null&&x.unshift(Bc(a,E,S)),E=gt(a,u),E!=null&&x.push(Bc(a,E,S))),a=a.return}return x}function Qa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function A1(a,u,m,x,S){for(var E=u._reactName,A=[];m!==null&&m!==x;){var V=m,U=V.alternate,se=V.stateNode;if(U!==null&&U===x)break;V.tag===5&&se!==null&&(V=se,S?(U=gt(m,E),U!=null&&A.unshift(Bc(m,U,V))):S||(U=gt(m,E),U!=null&&A.push(Bc(m,U,V)))),m=m.return}A.length!==0&&a.push({event:u,listeners:A})}var gL=/\r\n?/g,pL=/\u0000|\uFFFD/g;function M1(a){return(typeof a=="string"?a:""+a).replace(gL,`
`).replace(pL,"")}function sh(a,u,m){if(u=M1(u),M1(a)!==u&&m)throw Error(n(425))}function oh(){}var sp=null,op=null;function ap(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,yL=typeof clearTimeout=="function"?clearTimeout:void 0,I1=typeof Promise=="function"?Promise:void 0,xL=typeof queueMicrotask=="function"?queueMicrotask:typeof I1<"u"?function(a){return I1.resolve(null).then(a).catch(vL)}:lp;function vL(a){setTimeout(function(){throw a})}function cp(a,u){var m=u,x=0;do{var S=m.nextSibling;if(a.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(x===0){a.removeChild(S),Ic(u);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=S}while(m);Ic(u)}function Js(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function N1(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return a;u--}else m==="/$"&&u++}a=a.previousSibling}return null}var el=Math.random().toString(36).slice(2),Ui="__reactFiber$"+el,Gc="__reactProps$"+el,gs="__reactContainer$"+el,up="__reactEvents$"+el,_L="__reactListeners$"+el,wL="__reactHandles$"+el;function Ho(a){var u=a[Ui];if(u)return u;for(var m=a.parentNode;m;){if(u=m[gs]||m[Ui]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(a=N1(a);a!==null;){if(m=a[Ui])return m;a=N1(a)}return u}a=m,m=a.parentNode}return null}function Uc(a){return a=a[Ui]||a[gs],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function tl(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function ah(a){return a[Gc]||null}var dp=[],nl=-1;function Qs(a){return{current:a}}function Wt(a){0>nl||(a.current=dp[nl],dp[nl]=null,nl--)}function $t(a,u){nl++,dp[nl]=a.current,a.current=u}var eo={},Wn=Qs(eo),pr=Qs(!1),Xo=eo;function rl(a,u){var m=a.type.contextTypes;if(!m)return eo;var x=a.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var S={},E;for(E in m)S[E]=u[E];return x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=S),S}function yr(a){return a=a.childContextTypes,a!=null}function lh(){Wt(pr),Wt(Wn)}function j1(a,u,m){if(Wn.current!==eo)throw Error(n(168));$t(Wn,u),$t(pr,m)}function F1(a,u,m){var x=a.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var S in x)if(!(S in u))throw Error(n(108,ae(a)||"Unknown",S));return Y({},m,x)}function ch(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||eo,Xo=Wn.current,$t(Wn,a),$t(pr,pr.current),!0}function L1(a,u,m){var x=a.stateNode;if(!x)throw Error(n(169));m?(a=F1(a,u,Xo),x.__reactInternalMemoizedMergedChildContext=a,Wt(pr),Wt(Wn),$t(Wn,a)):Wt(pr),$t(pr,m)}var ps=null,uh=!1,hp=!1;function D1(a){ps===null?ps=[a]:ps.push(a)}function SL(a){uh=!0,D1(a)}function to(){if(!hp&&ps!==null){hp=!0;var a=0,u=Mt;try{var m=ps;for(Mt=1;a<m.length;a++){var x=m[a];do x=x(!0);while(x!==null)}ps=null,uh=!1}catch(S){throw ps!==null&&(ps=ps.slice(a+1)),Vw(jg,to),S}finally{Mt=u,hp=!1}}return null}var il=[],sl=0,dh=null,hh=0,Kr=[],Yr=0,Ko=null,ys=1,xs="";function Yo(a,u){il[sl++]=hh,il[sl++]=dh,dh=a,hh=u}function O1(a,u,m){Kr[Yr++]=ys,Kr[Yr++]=xs,Kr[Yr++]=Ko,Ko=a;var x=ys;a=xs;var S=32-ui(x)-1;x&=~(1<<S),m+=1;var E=32-ui(u)+S;if(30<E){var A=S-S%5;E=(x&(1<<A)-1).toString(32),x>>=A,S-=A,ys=1<<32-ui(u)+S|m<<S|x,xs=E+a}else ys=1<<E|m<<S|x,xs=a}function fp(a){a.return!==null&&(Yo(a,1),O1(a,1,0))}function mp(a){for(;a===dh;)dh=il[--sl],il[sl]=null,hh=il[--sl],il[sl]=null;for(;a===Ko;)Ko=Kr[--Yr],Kr[Yr]=null,xs=Kr[--Yr],Kr[Yr]=null,ys=Kr[--Yr],Kr[Yr]=null}var Mr=null,Ir=null,Kt=!1,hi=null;function V1(a,u){var m=Qr(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=a,u=a.deletions,u===null?(a.deletions=[m],a.flags|=16):u.push(m)}function z1(a,u){switch(a.tag){case 5:var m=a.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Mr=a,Ir=Js(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Mr=a,Ir=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Ko!==null?{id:ys,overflow:xs}:null,a.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Qr(18,null,null,0),m.stateNode=u,m.return=a,a.child=m,Mr=a,Ir=null,!0):!1;default:return!1}}function gp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function pp(a){if(Kt){var u=Ir;if(u){var m=u;if(!z1(a,u)){if(gp(a))throw Error(n(418));u=Js(m.nextSibling);var x=Mr;u&&z1(a,u)?V1(x,m):(a.flags=a.flags&-4097|2,Kt=!1,Mr=a)}}else{if(gp(a))throw Error(n(418));a.flags=a.flags&-4097|2,Kt=!1,Mr=a}}}function $1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Mr=a}function fh(a){if(a!==Mr)return!1;if(!Kt)return $1(a),Kt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!ap(a.type,a.memoizedProps)),u&&(u=Ir)){if(gp(a))throw B1(),Error(n(418));for(;u;)V1(a,u),u=Js(u.nextSibling)}if($1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(u===0){Ir=Js(a.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}a=a.nextSibling}Ir=null}}else Ir=Mr?Js(a.stateNode.nextSibling):null;return!0}function B1(){for(var a=Ir;a;)a=Js(a.nextSibling)}function ol(){Ir=Mr=null,Kt=!1}function yp(a){hi===null?hi=[a]:hi.push(a)}var CL=P.ReactCurrentBatchConfig;function Wc(a,u,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,a));var S=x,E=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(A){var V=S.refs;A===null?delete V[E]:V[E]=A},u._stringRef=E,u)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function mh(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function G1(a){var u=a._init;return u(a._payload)}function U1(a){function u(Q,K){if(a){var te=Q.deletions;te===null?(Q.deletions=[K],Q.flags|=16):te.push(K)}}function m(Q,K){if(!a)return null;for(;K!==null;)u(Q,K),K=K.sibling;return null}function x(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function S(Q,K){return Q=co(Q,K),Q.index=0,Q.sibling=null,Q}function E(Q,K,te){return Q.index=te,a?(te=Q.alternate,te!==null?(te=te.index,te<K?(Q.flags|=2,K):te):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function A(Q){return a&&Q.alternate===null&&(Q.flags|=2),Q}function V(Q,K,te,_e){return K===null||K.tag!==6?(K=ly(te,Q.mode,_e),K.return=Q,K):(K=S(K,te),K.return=Q,K)}function U(Q,K,te,_e){var Le=te.type;return Le===L?fe(Q,K,te.props.children,_e,te.key):K!==null&&(K.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===H&&G1(Le)===K.type)?(_e=S(K,te.props),_e.ref=Wc(Q,K,te),_e.return=Q,_e):(_e=Oh(te.type,te.key,te.props,null,Q.mode,_e),_e.ref=Wc(Q,K,te),_e.return=Q,_e)}function se(Q,K,te,_e){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=cy(te,Q.mode,_e),K.return=Q,K):(K=S(K,te.children||[]),K.return=Q,K)}function fe(Q,K,te,_e,Le){return K===null||K.tag!==7?(K=ra(te,Q.mode,_e,Le),K.return=Q,K):(K=S(K,te),K.return=Q,K)}function ye(Q,K,te){if(typeof K=="string"&&K!==""||typeof K=="number")return K=ly(""+K,Q.mode,te),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return te=Oh(K.type,K.key,K.props,null,Q.mode,te),te.ref=Wc(Q,null,K),te.return=Q,te;case M:return K=cy(K,Q.mode,te),K.return=Q,K;case H:var _e=K._init;return ye(Q,_e(K._payload),te)}if($(K)||B(K))return K=ra(K,Q.mode,te,null),K.return=Q,K;mh(Q,K)}return null}function ue(Q,K,te,_e){var Le=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Le!==null?null:V(Q,K,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case k:return te.key===Le?U(Q,K,te,_e):null;case M:return te.key===Le?se(Q,K,te,_e):null;case H:return Le=te._init,ue(Q,K,Le(te._payload),_e)}if($(te)||B(te))return Le!==null?null:fe(Q,K,te,_e,null);mh(Q,te)}return null}function Re(Q,K,te,_e,Le){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Q=Q.get(te)||null,V(K,Q,""+_e,Le);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case k:return Q=Q.get(_e.key===null?te:_e.key)||null,U(K,Q,_e,Le);case M:return Q=Q.get(_e.key===null?te:_e.key)||null,se(K,Q,_e,Le);case H:var Ue=_e._init;return Re(Q,K,te,Ue(_e._payload),Le)}if($(_e)||B(_e))return Q=Q.get(te)||null,fe(K,Q,_e,Le,null);mh(K,_e)}return null}function Ae(Q,K,te,_e){for(var Le=null,Ue=null,We=K,Je=K=0,jn=null;We!==null&&Je<te.length;Je++){We.index>Je?(jn=We,We=null):jn=We.sibling;var Tt=ue(Q,We,te[Je],_e);if(Tt===null){We===null&&(We=jn);break}a&&We&&Tt.alternate===null&&u(Q,We),K=E(Tt,K,Je),Ue===null?Le=Tt:Ue.sibling=Tt,Ue=Tt,We=jn}if(Je===te.length)return m(Q,We),Kt&&Yo(Q,Je),Le;if(We===null){for(;Je<te.length;Je++)We=ye(Q,te[Je],_e),We!==null&&(K=E(We,K,Je),Ue===null?Le=We:Ue.sibling=We,Ue=We);return Kt&&Yo(Q,Je),Le}for(We=x(Q,We);Je<te.length;Je++)jn=Re(We,Q,Je,te[Je],_e),jn!==null&&(a&&jn.alternate!==null&&We.delete(jn.key===null?Je:jn.key),K=E(jn,K,Je),Ue===null?Le=jn:Ue.sibling=jn,Ue=jn);return a&&We.forEach(function(uo){return u(Q,uo)}),Kt&&Yo(Q,Je),Le}function Ne(Q,K,te,_e){var Le=B(te);if(typeof Le!="function")throw Error(n(150));if(te=Le.call(te),te==null)throw Error(n(151));for(var Ue=Le=null,We=K,Je=K=0,jn=null,Tt=te.next();We!==null&&!Tt.done;Je++,Tt=te.next()){We.index>Je?(jn=We,We=null):jn=We.sibling;var uo=ue(Q,We,Tt.value,_e);if(uo===null){We===null&&(We=jn);break}a&&We&&uo.alternate===null&&u(Q,We),K=E(uo,K,Je),Ue===null?Le=uo:Ue.sibling=uo,Ue=uo,We=jn}if(Tt.done)return m(Q,We),Kt&&Yo(Q,Je),Le;if(We===null){for(;!Tt.done;Je++,Tt=te.next())Tt=ye(Q,Tt.value,_e),Tt!==null&&(K=E(Tt,K,Je),Ue===null?Le=Tt:Ue.sibling=Tt,Ue=Tt);return Kt&&Yo(Q,Je),Le}for(We=x(Q,We);!Tt.done;Je++,Tt=te.next())Tt=Re(We,Q,Je,Tt.value,_e),Tt!==null&&(a&&Tt.alternate!==null&&We.delete(Tt.key===null?Je:Tt.key),K=E(Tt,K,Je),Ue===null?Le=Tt:Ue.sibling=Tt,Ue=Tt);return a&&We.forEach(function(nD){return u(Q,nD)}),Kt&&Yo(Q,Je),Le}function on(Q,K,te,_e){if(typeof te=="object"&&te!==null&&te.type===L&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case k:e:{for(var Le=te.key,Ue=K;Ue!==null;){if(Ue.key===Le){if(Le=te.type,Le===L){if(Ue.tag===7){m(Q,Ue.sibling),K=S(Ue,te.props.children),K.return=Q,Q=K;break e}}else if(Ue.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===H&&G1(Le)===Ue.type){m(Q,Ue.sibling),K=S(Ue,te.props),K.ref=Wc(Q,Ue,te),K.return=Q,Q=K;break e}m(Q,Ue);break}else u(Q,Ue);Ue=Ue.sibling}te.type===L?(K=ra(te.props.children,Q.mode,_e,te.key),K.return=Q,Q=K):(_e=Oh(te.type,te.key,te.props,null,Q.mode,_e),_e.ref=Wc(Q,K,te),_e.return=Q,Q=_e)}return A(Q);case M:e:{for(Ue=te.key;K!==null;){if(K.key===Ue)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){m(Q,K.sibling),K=S(K,te.children||[]),K.return=Q,Q=K;break e}else{m(Q,K);break}else u(Q,K);K=K.sibling}K=cy(te,Q.mode,_e),K.return=Q,Q=K}return A(Q);case H:return Ue=te._init,on(Q,K,Ue(te._payload),_e)}if($(te))return Ae(Q,K,te,_e);if(B(te))return Ne(Q,K,te,_e);mh(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,K!==null&&K.tag===6?(m(Q,K.sibling),K=S(K,te),K.return=Q,Q=K):(m(Q,K),K=ly(te,Q.mode,_e),K.return=Q,Q=K),A(Q)):m(Q,K)}return on}var al=U1(!0),W1=U1(!1),gh=Qs(null),ph=null,ll=null,xp=null;function vp(){xp=ll=ph=null}function _p(a){var u=gh.current;Wt(gh),a._currentValue=u}function wp(a,u,m){for(;a!==null;){var x=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),a===m)break;a=a.return}}function cl(a,u){ph=a,xp=ll=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(xr=!0),a.firstContext=null)}function Zr(a){var u=a._currentValue;if(xp!==a)if(a={context:a,memoizedValue:u,next:null},ll===null){if(ph===null)throw Error(n(308));ll=a,ph.dependencies={lanes:0,firstContext:a}}else ll=ll.next=a;return u}var Zo=null;function Sp(a){Zo===null?Zo=[a]:Zo.push(a)}function H1(a,u,m,x){var S=u.interleaved;return S===null?(m.next=m,Sp(u)):(m.next=S.next,S.next=m),u.interleaved=m,vs(a,x)}function vs(a,u){a.lanes|=u;var m=a.alternate;for(m!==null&&(m.lanes|=u),m=a,a=a.return;a!==null;)a.childLanes|=u,m=a.alternate,m!==null&&(m.childLanes|=u),m=a,a=a.return;return m.tag===3?m.stateNode:null}var no=!1;function Cp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X1(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function _s(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function ro(a,u,m){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(St&2)!==0){var S=x.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),x.pending=u,vs(a,m)}return S=x.interleaved,S===null?(u.next=u,Sp(x)):(u.next=S.next,S.next=u),x.interleaved=u,vs(a,m)}function yh(a,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var x=u.lanes;x&=a.pendingLanes,m|=x,u.lanes=m,Dg(a,m)}}function K1(a,u){var m=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var S=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};E===null?S=E=A:E=E.next=A,m=m.next}while(m!==null);E===null?S=E=u:E=E.next=u}else S=E=u;m={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:x.shared,effects:x.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=u}function xh(a,u,m,x){var S=a.updateQueue;no=!1;var E=S.firstBaseUpdate,A=S.lastBaseUpdate,V=S.shared.pending;if(V!==null){S.shared.pending=null;var U=V,se=U.next;U.next=null,A===null?E=se:A.next=se,A=U;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,V=fe.lastBaseUpdate,V!==A&&(V===null?fe.firstBaseUpdate=se:V.next=se,fe.lastBaseUpdate=U))}if(E!==null){var ye=S.baseState;A=0,fe=se=U=null,V=E;do{var ue=V.lane,Re=V.eventTime;if((x&ue)===ue){fe!==null&&(fe=fe.next={eventTime:Re,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ae=a,Ne=V;switch(ue=u,Re=m,Ne.tag){case 1:if(Ae=Ne.payload,typeof Ae=="function"){ye=Ae.call(Re,ye,ue);break e}ye=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ne.payload,ue=typeof Ae=="function"?Ae.call(Re,ye,ue):Ae,ue==null)break e;ye=Y({},ye,ue);break e;case 2:no=!0}}V.callback!==null&&V.lane!==0&&(a.flags|=64,ue=S.effects,ue===null?S.effects=[V]:ue.push(V))}else Re={eventTime:Re,lane:ue,tag:V.tag,payload:V.payload,callback:V.callback,next:null},fe===null?(se=fe=Re,U=ye):fe=fe.next=Re,A|=ue;if(V=V.next,V===null){if(V=S.shared.pending,V===null)break;ue=V,V=ue.next,ue.next=null,S.lastBaseUpdate=ue,S.shared.pending=null}}while(!0);if(fe===null&&(U=ye),S.baseState=U,S.firstBaseUpdate=se,S.lastBaseUpdate=fe,u=S.shared.interleaved,u!==null){S=u;do A|=S.lane,S=S.next;while(S!==u)}else E===null&&(S.shared.lanes=0);Qo|=A,a.lanes=A,a.memoizedState=ye}}function Y1(a,u,m){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var x=a[u],S=x.callback;if(S!==null){if(x.callback=null,x=m,typeof S!="function")throw Error(n(191,S));S.call(x)}}}var Hc={},Wi=Qs(Hc),Xc=Qs(Hc),Kc=Qs(Hc);function qo(a){if(a===Hc)throw Error(n(174));return a}function bp(a,u){switch($t(Kc,u),$t(Xc,a),$t(Wi,Hc),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Fe(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Fe(u,a)}Wt(Wi),$t(Wi,u)}function ul(){Wt(Wi),Wt(Xc),Wt(Kc)}function Z1(a){qo(Kc.current);var u=qo(Wi.current),m=Fe(u,a.type);u!==m&&($t(Xc,a),$t(Wi,m))}function Ep(a){Xc.current===a&&(Wt(Wi),Wt(Xc))}var qt=Qs(0);function vh(a){for(var u=a;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Rp=[];function Tp(){for(var a=0;a<Rp.length;a++)Rp[a]._workInProgressVersionPrimary=null;Rp.length=0}var _h=P.ReactCurrentDispatcher,Pp=P.ReactCurrentBatchConfig,Jo=0,Jt=null,Sn=null,In=null,wh=!1,Yc=!1,Zc=0,bL=0;function Hn(){throw Error(n(321))}function kp(a,u){if(u===null)return!1;for(var m=0;m<u.length&&m<a.length;m++)if(!di(a[m],u[m]))return!1;return!0}function Ap(a,u,m,x,S,E){if(Jo=E,Jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,_h.current=a===null||a.memoizedState===null?PL:kL,a=m(x,S),Yc){E=0;do{if(Yc=!1,Zc=0,25<=E)throw Error(n(301));E+=1,In=Sn=null,u.updateQueue=null,_h.current=AL,a=m(x,S)}while(Yc)}if(_h.current=bh,u=Sn!==null&&Sn.next!==null,Jo=0,In=Sn=Jt=null,wh=!1,u)throw Error(n(300));return a}function Mp(){var a=Zc!==0;return Zc=0,a}function Hi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Jt.memoizedState=In=a:In=In.next=a,In}function qr(){if(Sn===null){var a=Jt.alternate;a=a!==null?a.memoizedState:null}else a=Sn.next;var u=In===null?Jt.memoizedState:In.next;if(u!==null)In=u,Sn=a;else{if(a===null)throw Error(n(310));Sn=a,a={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},In===null?Jt.memoizedState=In=a:In=In.next=a}return In}function qc(a,u){return typeof u=="function"?u(a):u}function Ip(a){var u=qr(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var x=Sn,S=x.baseQueue,E=m.pending;if(E!==null){if(S!==null){var A=S.next;S.next=E.next,E.next=A}x.baseQueue=S=E,m.pending=null}if(S!==null){E=S.next,x=x.baseState;var V=A=null,U=null,se=E;do{var fe=se.lane;if((Jo&fe)===fe)U!==null&&(U=U.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),x=se.hasEagerState?se.eagerState:a(x,se.action);else{var ye={lane:fe,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};U===null?(V=U=ye,A=x):U=U.next=ye,Jt.lanes|=fe,Qo|=fe}se=se.next}while(se!==null&&se!==E);U===null?A=x:U.next=V,di(x,u.memoizedState)||(xr=!0),u.memoizedState=x,u.baseState=A,u.baseQueue=U,m.lastRenderedState=x}if(a=m.interleaved,a!==null){S=a;do E=S.lane,Jt.lanes|=E,Qo|=E,S=S.next;while(S!==a)}else S===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Np(a){var u=qr(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var x=m.dispatch,S=m.pending,E=u.memoizedState;if(S!==null){m.pending=null;var A=S=S.next;do E=a(E,A.action),A=A.next;while(A!==S);di(E,u.memoizedState)||(xr=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),m.lastRenderedState=E}return[E,x]}function q1(){}function J1(a,u){var m=Jt,x=qr(),S=u(),E=!di(x.memoizedState,S);if(E&&(x.memoizedState=S,xr=!0),x=x.queue,jp(tS.bind(null,m,x,a),[a]),x.getSnapshot!==u||E||In!==null&&In.memoizedState.tag&1){if(m.flags|=2048,Jc(9,eS.bind(null,m,x,S,u),void 0,null),Nn===null)throw Error(n(349));(Jo&30)!==0||Q1(m,u,S)}return S}function Q1(a,u,m){a.flags|=16384,a={getSnapshot:u,value:m},u=Jt.updateQueue,u===null?(u={lastEffect:null,stores:null},Jt.updateQueue=u,u.stores=[a]):(m=u.stores,m===null?u.stores=[a]:m.push(a))}function eS(a,u,m,x){u.value=m,u.getSnapshot=x,nS(u)&&rS(a)}function tS(a,u,m){return m(function(){nS(u)&&rS(a)})}function nS(a){var u=a.getSnapshot;a=a.value;try{var m=u();return!di(a,m)}catch{return!0}}function rS(a){var u=vs(a,1);u!==null&&pi(u,a,1,-1)}function iS(a){var u=Hi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:a},u.queue=a,a=a.dispatch=TL.bind(null,Jt,a),[u.memoizedState,a]}function Jc(a,u,m,x){return a={tag:a,create:u,destroy:m,deps:x,next:null},u=Jt.updateQueue,u===null?(u={lastEffect:null,stores:null},Jt.updateQueue=u,u.lastEffect=a.next=a):(m=u.lastEffect,m===null?u.lastEffect=a.next=a:(x=m.next,m.next=a,a.next=x,u.lastEffect=a)),a}function sS(){return qr().memoizedState}function Sh(a,u,m,x){var S=Hi();Jt.flags|=a,S.memoizedState=Jc(1|u,m,void 0,x===void 0?null:x)}function Ch(a,u,m,x){var S=qr();x=x===void 0?null:x;var E=void 0;if(Sn!==null){var A=Sn.memoizedState;if(E=A.destroy,x!==null&&kp(x,A.deps)){S.memoizedState=Jc(u,m,E,x);return}}Jt.flags|=a,S.memoizedState=Jc(1|u,m,E,x)}function oS(a,u){return Sh(8390656,8,a,u)}function jp(a,u){return Ch(2048,8,a,u)}function aS(a,u){return Ch(4,2,a,u)}function lS(a,u){return Ch(4,4,a,u)}function cS(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function uS(a,u,m){return m=m!=null?m.concat([a]):null,Ch(4,4,cS.bind(null,u,a),m)}function Fp(){}function dS(a,u){var m=qr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&kp(u,x[1])?x[0]:(m.memoizedState=[a,u],a)}function hS(a,u){var m=qr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&kp(u,x[1])?x[0]:(a=a(),m.memoizedState=[a,u],a)}function fS(a,u,m){return(Jo&21)===0?(a.baseState&&(a.baseState=!1,xr=!0),a.memoizedState=m):(di(m,u)||(m=Gw(),Jt.lanes|=m,Qo|=m,a.baseState=!0),u)}function EL(a,u){var m=Mt;Mt=m!==0&&4>m?m:4,a(!0);var x=Pp.transition;Pp.transition={};try{a(!1),u()}finally{Mt=m,Pp.transition=x}}function mS(){return qr().memoizedState}function RL(a,u,m){var x=ao(a);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},gS(a))pS(u,m);else if(m=H1(a,u,m,x),m!==null){var S=lr();pi(m,a,x,S),yS(m,u,x)}}function TL(a,u,m){var x=ao(a),S={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(gS(a))pS(u,S);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var A=u.lastRenderedState,V=E(A,m);if(S.hasEagerState=!0,S.eagerState=V,di(V,A)){var U=u.interleaved;U===null?(S.next=S,Sp(u)):(S.next=U.next,U.next=S),u.interleaved=S;return}}catch{}finally{}m=H1(a,u,S,x),m!==null&&(S=lr(),pi(m,a,x,S),yS(m,u,x))}}function gS(a){var u=a.alternate;return a===Jt||u!==null&&u===Jt}function pS(a,u){Yc=wh=!0;var m=a.pending;m===null?u.next=u:(u.next=m.next,m.next=u),a.pending=u}function yS(a,u,m){if((m&4194240)!==0){var x=u.lanes;x&=a.pendingLanes,m|=x,u.lanes=m,Dg(a,m)}}var bh={readContext:Zr,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},PL={readContext:Zr,useCallback:function(a,u){return Hi().memoizedState=[a,u===void 0?null:u],a},useContext:Zr,useEffect:oS,useImperativeHandle:function(a,u,m){return m=m!=null?m.concat([a]):null,Sh(4194308,4,cS.bind(null,u,a),m)},useLayoutEffect:function(a,u){return Sh(4194308,4,a,u)},useInsertionEffect:function(a,u){return Sh(4,2,a,u)},useMemo:function(a,u){var m=Hi();return u=u===void 0?null:u,a=a(),m.memoizedState=[a,u],a},useReducer:function(a,u,m){var x=Hi();return u=m!==void 0?m(u):u,x.memoizedState=x.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},x.queue=a,a=a.dispatch=RL.bind(null,Jt,a),[x.memoizedState,a]},useRef:function(a){var u=Hi();return a={current:a},u.memoizedState=a},useState:iS,useDebugValue:Fp,useDeferredValue:function(a){return Hi().memoizedState=a},useTransition:function(){var a=iS(!1),u=a[0];return a=EL.bind(null,a[1]),Hi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,m){var x=Jt,S=Hi();if(Kt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),Nn===null)throw Error(n(349));(Jo&30)!==0||Q1(x,u,m)}S.memoizedState=m;var E={value:m,getSnapshot:u};return S.queue=E,oS(tS.bind(null,x,E,a),[a]),x.flags|=2048,Jc(9,eS.bind(null,x,E,m,u),void 0,null),m},useId:function(){var a=Hi(),u=Nn.identifierPrefix;if(Kt){var m=xs,x=ys;m=(x&~(1<<32-ui(x)-1)).toString(32)+m,u=":"+u+"R"+m,m=Zc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=bL++,u=":"+u+"r"+m.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},kL={readContext:Zr,useCallback:dS,useContext:Zr,useEffect:jp,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:hS,useReducer:Ip,useRef:sS,useState:function(){return Ip(qc)},useDebugValue:Fp,useDeferredValue:function(a){var u=qr();return fS(u,Sn.memoizedState,a)},useTransition:function(){var a=Ip(qc)[0],u=qr().memoizedState;return[a,u]},useMutableSource:q1,useSyncExternalStore:J1,useId:mS,unstable_isNewReconciler:!1},AL={readContext:Zr,useCallback:dS,useContext:Zr,useEffect:jp,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:hS,useReducer:Np,useRef:sS,useState:function(){return Np(qc)},useDebugValue:Fp,useDeferredValue:function(a){var u=qr();return Sn===null?u.memoizedState=a:fS(u,Sn.memoizedState,a)},useTransition:function(){var a=Np(qc)[0],u=qr().memoizedState;return[a,u]},useMutableSource:q1,useSyncExternalStore:J1,useId:mS,unstable_isNewReconciler:!1};function fi(a,u){if(a&&a.defaultProps){u=Y({},u),a=a.defaultProps;for(var m in a)u[m]===void 0&&(u[m]=a[m]);return u}return u}function Lp(a,u,m,x){u=a.memoizedState,m=m(x,u),m=m==null?u:Y({},u,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var Eh={isMounted:function(a){return(a=a._reactInternals)?Wo(a)===a:!1},enqueueSetState:function(a,u,m){a=a._reactInternals;var x=lr(),S=ao(a),E=_s(x,S);E.payload=u,m!=null&&(E.callback=m),u=ro(a,E,S),u!==null&&(pi(u,a,S,x),yh(u,a,S))},enqueueReplaceState:function(a,u,m){a=a._reactInternals;var x=lr(),S=ao(a),E=_s(x,S);E.tag=1,E.payload=u,m!=null&&(E.callback=m),u=ro(a,E,S),u!==null&&(pi(u,a,S,x),yh(u,a,S))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var m=lr(),x=ao(a),S=_s(m,x);S.tag=2,u!=null&&(S.callback=u),u=ro(a,S,x),u!==null&&(pi(u,a,x,m),yh(u,a,x))}};function xS(a,u,m,x,S,E,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,E,A):u.prototype&&u.prototype.isPureReactComponent?!Oc(m,x)||!Oc(S,E):!0}function vS(a,u,m){var x=!1,S=eo,E=u.contextType;return typeof E=="object"&&E!==null?E=Zr(E):(S=yr(u)?Xo:Wn.current,x=u.contextTypes,E=(x=x!=null)?rl(a,S):eo),u=new u(m,E),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Eh,a.stateNode=u,u._reactInternals=a,x&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=S,a.__reactInternalMemoizedMaskedChildContext=E),u}function _S(a,u,m,x){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==a&&Eh.enqueueReplaceState(u,u.state,null)}function Dp(a,u,m,x){var S=a.stateNode;S.props=m,S.state=a.memoizedState,S.refs={},Cp(a);var E=u.contextType;typeof E=="object"&&E!==null?S.context=Zr(E):(E=yr(u)?Xo:Wn.current,S.context=rl(a,E)),S.state=a.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Lp(a,u,E,m),S.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Eh.enqueueReplaceState(S,S.state,null),xh(a,m,S,x),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308)}function dl(a,u){try{var m="",x=u;do m+=ce(x),x=x.return;while(x);var S=m}catch(E){S=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:u,stack:S,digest:null}}function Op(a,u,m){return{value:a,source:null,stack:m??null,digest:u??null}}function Vp(a,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var ML=typeof WeakMap=="function"?WeakMap:Map;function wS(a,u,m){m=_s(-1,m),m.tag=3,m.payload={element:null};var x=u.value;return m.callback=function(){Ih||(Ih=!0,ey=x),Vp(a,u)},m}function SS(a,u,m){m=_s(-1,m),m.tag=3;var x=a.type.getDerivedStateFromError;if(typeof x=="function"){var S=u.value;m.payload=function(){return x(S)},m.callback=function(){Vp(a,u)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(m.callback=function(){Vp(a,u),typeof x!="function"&&(so===null?so=new Set([this]):so.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})}),m}function CS(a,u,m){var x=a.pingCache;if(x===null){x=a.pingCache=new ML;var S=new Set;x.set(u,S)}else S=x.get(u),S===void 0&&(S=new Set,x.set(u,S));S.has(m)||(S.add(m),a=WL.bind(null,a,u,m),u.then(a,a))}function bS(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function ES(a,u,m,x,S){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=_s(-1,1),u.tag=2,ro(m,u,1))),m.lanes|=1),a):(a.flags|=65536,a.lanes=S,a)}var IL=P.ReactCurrentOwner,xr=!1;function ar(a,u,m,x){u.child=a===null?W1(u,null,m,x):al(u,a.child,m,x)}function RS(a,u,m,x,S){m=m.render;var E=u.ref;return cl(u,S),x=Ap(a,u,m,x,E,S),m=Mp(),a!==null&&!xr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,ws(a,u,S)):(Kt&&m&&fp(u),u.flags|=1,ar(a,u,x,S),u.child)}function TS(a,u,m,x,S){if(a===null){var E=m.type;return typeof E=="function"&&!ay(E)&&E.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=E,PS(a,u,E,x,S)):(a=Oh(m.type,null,x,u,u.mode,S),a.ref=u.ref,a.return=u,u.child=a)}if(E=a.child,(a.lanes&S)===0){var A=E.memoizedProps;if(m=m.compare,m=m!==null?m:Oc,m(A,x)&&a.ref===u.ref)return ws(a,u,S)}return u.flags|=1,a=co(E,x),a.ref=u.ref,a.return=u,u.child=a}function PS(a,u,m,x,S){if(a!==null){var E=a.memoizedProps;if(Oc(E,x)&&a.ref===u.ref)if(xr=!1,u.pendingProps=x=E,(a.lanes&S)!==0)(a.flags&131072)!==0&&(xr=!0);else return u.lanes=a.lanes,ws(a,u,S)}return zp(a,u,m,x,S)}function kS(a,u,m){var x=u.pendingProps,S=x.children,E=a!==null?a.memoizedState:null;if(x.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(fl,Nr),Nr|=m;else{if((m&1073741824)===0)return a=E!==null?E.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,$t(fl,Nr),Nr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=E!==null?E.baseLanes:m,$t(fl,Nr),Nr|=x}else E!==null?(x=E.baseLanes|m,u.memoizedState=null):x=m,$t(fl,Nr),Nr|=x;return ar(a,u,S,m),u.child}function AS(a,u){var m=u.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function zp(a,u,m,x,S){var E=yr(m)?Xo:Wn.current;return E=rl(u,E),cl(u,S),m=Ap(a,u,m,x,E,S),x=Mp(),a!==null&&!xr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~S,ws(a,u,S)):(Kt&&x&&fp(u),u.flags|=1,ar(a,u,m,S),u.child)}function MS(a,u,m,x,S){if(yr(m)){var E=!0;ch(u)}else E=!1;if(cl(u,S),u.stateNode===null)Th(a,u),vS(u,m,x),Dp(u,m,x,S),x=!0;else if(a===null){var A=u.stateNode,V=u.memoizedProps;A.props=V;var U=A.context,se=m.contextType;typeof se=="object"&&se!==null?se=Zr(se):(se=yr(m)?Xo:Wn.current,se=rl(u,se));var fe=m.getDerivedStateFromProps,ye=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function";ye||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==x||U!==se)&&_S(u,A,x,se),no=!1;var ue=u.memoizedState;A.state=ue,xh(u,x,A,S),U=u.memoizedState,V!==x||ue!==U||pr.current||no?(typeof fe=="function"&&(Lp(u,m,fe,x),U=u.memoizedState),(V=no||xS(u,m,V,x,ue,U,se))?(ye||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=U),A.props=x,A.state=U,A.context=se,x=V):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{A=u.stateNode,X1(a,u),V=u.memoizedProps,se=u.type===u.elementType?V:fi(u.type,V),A.props=se,ye=u.pendingProps,ue=A.context,U=m.contextType,typeof U=="object"&&U!==null?U=Zr(U):(U=yr(m)?Xo:Wn.current,U=rl(u,U));var Re=m.getDerivedStateFromProps;(fe=typeof Re=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==ye||ue!==U)&&_S(u,A,x,U),no=!1,ue=u.memoizedState,A.state=ue,xh(u,x,A,S);var Ae=u.memoizedState;V!==ye||ue!==Ae||pr.current||no?(typeof Re=="function"&&(Lp(u,m,Re,x),Ae=u.memoizedState),(se=no||xS(u,m,se,x,ue,Ae,U)||!1)?(fe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,Ae,U),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,Ae,U)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||V===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Ae),A.props=x,A.state=Ae,A.context=U,x=se):(typeof A.componentDidUpdate!="function"||V===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),x=!1)}return $p(a,u,m,x,E,S)}function $p(a,u,m,x,S,E){AS(a,u);var A=(u.flags&128)!==0;if(!x&&!A)return S&&L1(u,m,!1),ws(a,u,E);x=u.stateNode,IL.current=u;var V=A&&typeof m.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,a!==null&&A?(u.child=al(u,a.child,null,E),u.child=al(u,null,V,E)):ar(a,u,V,E),u.memoizedState=x.state,S&&L1(u,m,!0),u.child}function IS(a){var u=a.stateNode;u.pendingContext?j1(a,u.pendingContext,u.pendingContext!==u.context):u.context&&j1(a,u.context,!1),bp(a,u.containerInfo)}function NS(a,u,m,x,S){return ol(),yp(S),u.flags|=256,ar(a,u,m,x),u.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Gp(a){return{baseLanes:a,cachePool:null,transitions:null}}function jS(a,u,m){var x=u.pendingProps,S=qt.current,E=!1,A=(u.flags&128)!==0,V;if((V=A)||(V=a!==null&&a.memoizedState===null?!1:(S&2)!==0),V?(E=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(S|=1),$t(qt,S&1),a===null)return pp(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(A=x.children,a=x.fallback,E?(x=u.mode,E=u.child,A={mode:"hidden",children:A},(x&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=A):E=Vh(A,x,0,null),a=ra(a,x,m,null),E.return=u,a.return=u,E.sibling=a,u.child=E,u.child.memoizedState=Gp(m),u.memoizedState=Bp,a):Up(u,A));if(S=a.memoizedState,S!==null&&(V=S.dehydrated,V!==null))return NL(a,u,A,x,V,S,m);if(E){E=x.fallback,A=u.mode,S=a.child,V=S.sibling;var U={mode:"hidden",children:x.children};return(A&1)===0&&u.child!==S?(x=u.child,x.childLanes=0,x.pendingProps=U,u.deletions=null):(x=co(S,U),x.subtreeFlags=S.subtreeFlags&14680064),V!==null?E=co(V,E):(E=ra(E,A,m,null),E.flags|=2),E.return=u,x.return=u,x.sibling=E,u.child=x,x=E,E=u.child,A=a.child.memoizedState,A=A===null?Gp(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=a.childLanes&~m,u.memoizedState=Bp,x}return E=a.child,a=E.sibling,x=co(E,{mode:"visible",children:x.children}),(u.mode&1)===0&&(x.lanes=m),x.return=u,x.sibling=null,a!==null&&(m=u.deletions,m===null?(u.deletions=[a],u.flags|=16):m.push(a)),u.child=x,u.memoizedState=null,x}function Up(a,u){return u=Vh({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Rh(a,u,m,x){return x!==null&&yp(x),al(u,a.child,null,m),a=Up(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function NL(a,u,m,x,S,E,A){if(m)return u.flags&256?(u.flags&=-257,x=Op(Error(n(422))),Rh(a,u,A,x)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(E=x.fallback,S=u.mode,x=Vh({mode:"visible",children:x.children},S,0,null),E=ra(E,S,A,null),E.flags|=2,x.return=u,E.return=u,x.sibling=E,u.child=x,(u.mode&1)!==0&&al(u,a.child,null,A),u.child.memoizedState=Gp(A),u.memoizedState=Bp,E);if((u.mode&1)===0)return Rh(a,u,A,null);if(S.data==="$!"){if(x=S.nextSibling&&S.nextSibling.dataset,x)var V=x.dgst;return x=V,E=Error(n(419)),x=Op(E,x,void 0),Rh(a,u,A,x)}if(V=(A&a.childLanes)!==0,xr||V){if(x=Nn,x!==null){switch(A&-A){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(x.suspendedLanes|A))!==0?0:S,S!==0&&S!==E.retryLane&&(E.retryLane=S,vs(a,S),pi(x,a,S,-1))}return oy(),x=Op(Error(n(421))),Rh(a,u,A,x)}return S.data==="$?"?(u.flags|=128,u.child=a.child,u=HL.bind(null,a),S._reactRetry=u,null):(a=E.treeContext,Ir=Js(S.nextSibling),Mr=u,Kt=!0,hi=null,a!==null&&(Kr[Yr++]=ys,Kr[Yr++]=xs,Kr[Yr++]=Ko,ys=a.id,xs=a.overflow,Ko=u),u=Up(u,x.children),u.flags|=4096,u)}function FS(a,u,m){a.lanes|=u;var x=a.alternate;x!==null&&(x.lanes|=u),wp(a.return,u,m)}function Wp(a,u,m,x,S){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:S}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=x,E.tail=m,E.tailMode=S)}function LS(a,u,m){var x=u.pendingProps,S=x.revealOrder,E=x.tail;if(ar(a,u,x.children,m),x=qt.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FS(a,m,u);else if(a.tag===19)FS(a,m,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}x&=1}if($t(qt,x),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(m=u.child,S=null;m!==null;)a=m.alternate,a!==null&&vh(a)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),Wp(u,!1,S,m,E);break;case"backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(a=S.alternate,a!==null&&vh(a)===null){u.child=S;break}a=S.sibling,S.sibling=m,m=S,S=a}Wp(u,!0,m,null,E);break;case"together":Wp(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Th(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ws(a,u,m){if(a!==null&&(u.dependencies=a.dependencies),Qo|=u.lanes,(m&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,m=co(a,a.pendingProps),u.child=m,m.return=u;a.sibling!==null;)a=a.sibling,m=m.sibling=co(a,a.pendingProps),m.return=u;m.sibling=null}return u.child}function jL(a,u,m){switch(u.tag){case 3:IS(u),ol();break;case 5:Z1(u);break;case 1:yr(u.type)&&ch(u);break;case 4:bp(u,u.stateNode.containerInfo);break;case 10:var x=u.type._context,S=u.memoizedProps.value;$t(gh,x._currentValue),x._currentValue=S;break;case 13:if(x=u.memoizedState,x!==null)return x.dehydrated!==null?($t(qt,qt.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?jS(a,u,m):($t(qt,qt.current&1),a=ws(a,u,m),a!==null?a.sibling:null);$t(qt,qt.current&1);break;case 19:if(x=(m&u.childLanes)!==0,(a.flags&128)!==0){if(x)return LS(a,u,m);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),$t(qt,qt.current),x)break;return null;case 22:case 23:return u.lanes=0,kS(a,u,m)}return ws(a,u,m)}var DS,Hp,OS,VS;DS=function(a,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Hp=function(){},OS=function(a,u,m,x){var S=a.memoizedProps;if(S!==x){a=u.stateNode,qo(Wi.current);var E=null;switch(m){case"input":S=xt(a,S),x=xt(a,x),E=[];break;case"select":S=Y({},S,{value:void 0}),x=Y({},x,{value:void 0}),E=[];break;case"textarea":S=ee(a,S),x=ee(a,x),E=[];break;default:typeof S.onClick!="function"&&typeof x.onClick=="function"&&(a.onclick=oh)}gr(m,x);var A;m=null;for(se in S)if(!x.hasOwnProperty(se)&&S.hasOwnProperty(se)&&S[se]!=null)if(se==="style"){var V=S[se];for(A in V)V.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?E||(E=[]):(E=E||[]).push(se,null));for(se in x){var U=x[se];if(V=S!=null?S[se]:void 0,x.hasOwnProperty(se)&&U!==V&&(U!=null||V!=null))if(se==="style")if(V){for(A in V)!V.hasOwnProperty(A)||U&&U.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in U)U.hasOwnProperty(A)&&V[A]!==U[A]&&(m||(m={}),m[A]=U[A])}else m||(E||(E=[]),E.push(se,m)),m=U;else se==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,V=V?V.__html:void 0,U!=null&&V!==U&&(E=E||[]).push(se,U)):se==="children"?typeof U!="string"&&typeof U!="number"||(E=E||[]).push(se,""+U):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(U!=null&&se==="onScroll"&&Ut("scroll",a),E||V===U||(E=[])):(E=E||[]).push(se,U))}m&&(E=E||[]).push("style",m);var se=E;(u.updateQueue=se)&&(u.flags|=4)}},VS=function(a,u,m,x){m!==x&&(u.flags|=4)};function Qc(a,u){if(!Kt)switch(a.tailMode){case"hidden":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function Xn(a){var u=a.alternate!==null&&a.alternate.child===a.child,m=0,x=0;if(u)for(var S=a.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags&14680064,x|=S.flags&14680064,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)m|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=x,a.childLanes=m,u}function FL(a,u,m){var x=u.pendingProps;switch(mp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(u),null;case 1:return yr(u.type)&&lh(),Xn(u),null;case 3:return x=u.stateNode,ul(),Wt(pr),Wt(Wn),Tp(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(a===null||a.child===null)&&(fh(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,hi!==null&&(ry(hi),hi=null))),Hp(a,u),Xn(u),null;case 5:Ep(u);var S=qo(Kc.current);if(m=u.type,a!==null&&u.stateNode!=null)OS(a,u,m,x,S),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Xn(u),null}if(a=qo(Wi.current),fh(u)){x=u.stateNode,m=u.type;var E=u.memoizedProps;switch(x[Ui]=u,x[Gc]=E,a=(u.mode&1)!==0,m){case"dialog":Ut("cancel",x),Ut("close",x);break;case"iframe":case"object":case"embed":Ut("load",x);break;case"video":case"audio":for(S=0;S<zc.length;S++)Ut(zc[S],x);break;case"source":Ut("error",x);break;case"img":case"image":case"link":Ut("error",x),Ut("load",x);break;case"details":Ut("toggle",x);break;case"input":Dt(x,E),Ut("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!E.multiple},Ut("invalid",x);break;case"textarea":pe(x,E),Ut("invalid",x)}gr(m,E),S=null;for(var A in E)if(E.hasOwnProperty(A)){var V=E[A];A==="children"?typeof V=="string"?x.textContent!==V&&(E.suppressHydrationWarning!==!0&&sh(x.textContent,V,a),S=["children",V]):typeof V=="number"&&x.textContent!==""+V&&(E.suppressHydrationWarning!==!0&&sh(x.textContent,V,a),S=["children",""+V]):i.hasOwnProperty(A)&&V!=null&&A==="onScroll"&&Ut("scroll",x)}switch(m){case"input":Xe(x),An(x,E,!0);break;case"textarea":Xe(x),ne(x);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(x.onclick=oh)}x=S,u.updateQueue=x,x!==null&&(u.flags|=4)}else{A=S.nodeType===9?S:S.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ve(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof x.is=="string"?a=A.createElement(m,{is:x.is}):(a=A.createElement(m),m==="select"&&(A=a,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):a=A.createElementNS(a,m),a[Ui]=u,a[Gc]=x,DS(a,u,!1,!1),u.stateNode=a;e:{switch(A=sr(m,x),m){case"dialog":Ut("cancel",a),Ut("close",a),S=x;break;case"iframe":case"object":case"embed":Ut("load",a),S=x;break;case"video":case"audio":for(S=0;S<zc.length;S++)Ut(zc[S],a);S=x;break;case"source":Ut("error",a),S=x;break;case"img":case"image":case"link":Ut("error",a),Ut("load",a),S=x;break;case"details":Ut("toggle",a),S=x;break;case"input":Dt(a,x),S=xt(a,x),Ut("invalid",a);break;case"option":S=x;break;case"select":a._wrapperState={wasMultiple:!!x.multiple},S=Y({},x,{value:void 0}),Ut("invalid",a);break;case"textarea":pe(a,x),S=ee(a,x),Ut("invalid",a);break;default:S=x}gr(m,S),V=S;for(E in V)if(V.hasOwnProperty(E)){var U=V[E];E==="style"?Xr(a,U):E==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Et(a,U)):E==="children"?typeof U=="string"?(m!=="textarea"||U!=="")&&zt(a,U):typeof U=="number"&&zt(a,""+U):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?U!=null&&E==="onScroll"&&Ut("scroll",a):U!=null&&T(a,E,U,A))}switch(m){case"input":Xe(a),An(a,x,!1);break;case"textarea":Xe(a),ne(a);break;case"option":x.value!=null&&a.setAttribute("value",""+xe(x.value));break;case"select":a.multiple=!!x.multiple,E=x.value,E!=null?J(a,!!x.multiple,E,!1):x.defaultValue!=null&&J(a,!!x.multiple,x.defaultValue,!0);break;default:typeof S.onClick=="function"&&(a.onclick=oh)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Xn(u),null;case 6:if(a&&u.stateNode!=null)VS(a,u,a.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(m=qo(Kc.current),qo(Wi.current),fh(u)){if(x=u.stateNode,m=u.memoizedProps,x[Ui]=u,(E=x.nodeValue!==m)&&(a=Mr,a!==null))switch(a.tag){case 3:sh(x.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&sh(x.nodeValue,m,(a.mode&1)!==0)}E&&(u.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[Ui]=u,u.stateNode=x}return Xn(u),null;case 13:if(Wt(qt),x=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Kt&&Ir!==null&&(u.mode&1)!==0&&(u.flags&128)===0)B1(),ol(),u.flags|=98560,E=!1;else if(E=fh(u),x!==null&&x.dehydrated!==null){if(a===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Ui]=u}else ol(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Xn(u),E=!1}else hi!==null&&(ry(hi),hi=null),E=!0;if(!E)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(x=x!==null,x!==(a!==null&&a.memoizedState!==null)&&x&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(qt.current&1)!==0?Cn===0&&(Cn=3):oy())),u.updateQueue!==null&&(u.flags|=4),Xn(u),null);case 4:return ul(),Hp(a,u),a===null&&$c(u.stateNode.containerInfo),Xn(u),null;case 10:return _p(u.type._context),Xn(u),null;case 17:return yr(u.type)&&lh(),Xn(u),null;case 19:if(Wt(qt),E=u.memoizedState,E===null)return Xn(u),null;if(x=(u.flags&128)!==0,A=E.rendering,A===null)if(x)Qc(E,!1);else{if(Cn!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(A=vh(a),A!==null){for(u.flags|=128,Qc(E,!1),x=A.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),u.subtreeFlags=0,x=m,m=u.child;m!==null;)E=m,a=x,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,a=A.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return $t(qt,qt.current&1|2),u.child}a=a.sibling}E.tail!==null&&sn()>ml&&(u.flags|=128,x=!0,Qc(E,!1),u.lanes=4194304)}else{if(!x)if(a=vh(A),a!==null){if(u.flags|=128,x=!0,m=a.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Qc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!Kt)return Xn(u),null}else 2*sn()-E.renderingStartTime>ml&&m!==1073741824&&(u.flags|=128,x=!0,Qc(E,!1),u.lanes=4194304);E.isBackwards?(A.sibling=u.child,u.child=A):(m=E.last,m!==null?m.sibling=A:u.child=A,E.last=A)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=sn(),u.sibling=null,m=qt.current,$t(qt,x?m&1|2:m&1),u):(Xn(u),null);case 22:case 23:return sy(),x=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==x&&(u.flags|=8192),x&&(u.mode&1)!==0?(Nr&1073741824)!==0&&(Xn(u),u.subtreeFlags&6&&(u.flags|=8192)):Xn(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function LL(a,u){switch(mp(u),u.tag){case 1:return yr(u.type)&&lh(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return ul(),Wt(pr),Wt(Wn),Tp(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Ep(u),null;case 13:if(Wt(qt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));ol()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Wt(qt),null;case 4:return ul(),null;case 10:return _p(u.type._context),null;case 22:case 23:return sy(),null;case 24:return null;default:return null}}var Ph=!1,Kn=!1,DL=typeof WeakSet=="function"?WeakSet:Set,ke=null;function hl(a,u){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){tn(a,u,x)}else m.current=null}function Xp(a,u,m){try{m()}catch(x){tn(a,u,x)}}var zS=!1;function OL(a,u){if(sp=Kd,a=x1(),qg(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var S=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var A=0,V=-1,U=-1,se=0,fe=0,ye=a,ue=null;t:for(;;){for(var Re;ye!==m||S!==0&&ye.nodeType!==3||(V=A+S),ye!==E||x!==0&&ye.nodeType!==3||(U=A+x),ye.nodeType===3&&(A+=ye.nodeValue.length),(Re=ye.firstChild)!==null;)ue=ye,ye=Re;for(;;){if(ye===a)break t;if(ue===m&&++se===S&&(V=A),ue===E&&++fe===x&&(U=A),(Re=ye.nextSibling)!==null)break;ye=ue,ue=ye.parentNode}ye=Re}m=V===-1||U===-1?null:{start:V,end:U}}else m=null}m=m||{start:0,end:0}}else m=null;for(op={focusedElem:a,selectionRange:m},Kd=!1,ke=u;ke!==null;)if(u=ke,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,ke=a;else for(;ke!==null;){u=ke;try{var Ae=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Ne=Ae.memoizedProps,on=Ae.memoizedState,Q=u.stateNode,K=Q.getSnapshotBeforeUpdate(u.elementType===u.type?Ne:fi(u.type,Ne),on);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var te=u.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(_e){tn(u,u.return,_e)}if(a=u.sibling,a!==null){a.return=u.return,ke=a;break}ke=u.return}return Ae=zS,zS=!1,Ae}function eu(a,u,m){var x=u.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&a)===a){var E=S.destroy;S.destroy=void 0,E!==void 0&&Xp(u,m,E)}S=S.next}while(S!==x)}}function kh(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&a)===a){var x=m.create;m.destroy=x()}m=m.next}while(m!==u)}}function Kp(a){var u=a.ref;if(u!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof u=="function"?u(a):u.current=a}}function $S(a){var u=a.alternate;u!==null&&(a.alternate=null,$S(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Ui],delete u[Gc],delete u[up],delete u[_L],delete u[wL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function BS(a){return a.tag===5||a.tag===3||a.tag===4}function GS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||BS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Yp(a,u,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(a,u):m.insertBefore(a,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(a,m)):(u=m,u.appendChild(a)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=oh));else if(x!==4&&(a=a.child,a!==null))for(Yp(a,u,m),a=a.sibling;a!==null;)Yp(a,u,m),a=a.sibling}function Zp(a,u,m){var x=a.tag;if(x===5||x===6)a=a.stateNode,u?m.insertBefore(a,u):m.appendChild(a);else if(x!==4&&(a=a.child,a!==null))for(Zp(a,u,m),a=a.sibling;a!==null;)Zp(a,u,m),a=a.sibling}var Dn=null,mi=!1;function io(a,u,m){for(m=m.child;m!==null;)US(a,u,m),m=m.sibling}function US(a,u,m){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Bd,m)}catch{}switch(m.tag){case 5:Kn||hl(m,u);case 6:var x=Dn,S=mi;Dn=null,io(a,u,m),Dn=x,mi=S,Dn!==null&&(mi?(a=Dn,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):Dn.removeChild(m.stateNode));break;case 18:Dn!==null&&(mi?(a=Dn,m=m.stateNode,a.nodeType===8?cp(a.parentNode,m):a.nodeType===1&&cp(a,m),Ic(a)):cp(Dn,m.stateNode));break;case 4:x=Dn,S=mi,Dn=m.stateNode.containerInfo,mi=!0,io(a,u,m),Dn=x,mi=S;break;case 0:case 11:case 14:case 15:if(!Kn&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){S=x=x.next;do{var E=S,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&Xp(m,u,A),S=S.next}while(S!==x)}io(a,u,m);break;case 1:if(!Kn&&(hl(m,u),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(V){tn(m,u,V)}io(a,u,m);break;case 21:io(a,u,m);break;case 22:m.mode&1?(Kn=(x=Kn)||m.memoizedState!==null,io(a,u,m),Kn=x):io(a,u,m);break;default:io(a,u,m)}}function WS(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new DL),u.forEach(function(x){var S=XL.bind(null,a,x);m.has(x)||(m.add(x),x.then(S,S))})}}function gi(a,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var S=m[x];try{var E=a,A=u,V=A;e:for(;V!==null;){switch(V.tag){case 5:Dn=V.stateNode,mi=!1;break e;case 3:Dn=V.stateNode.containerInfo,mi=!0;break e;case 4:Dn=V.stateNode.containerInfo,mi=!0;break e}V=V.return}if(Dn===null)throw Error(n(160));US(E,A,S),Dn=null,mi=!1;var U=S.alternate;U!==null&&(U.return=null),S.return=null}catch(se){tn(S,u,se)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)HS(u,a),u=u.sibling}function HS(a,u){var m=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(gi(u,a),Xi(a),x&4){try{eu(3,a,a.return),kh(3,a)}catch(Ne){tn(a,a.return,Ne)}try{eu(5,a,a.return)}catch(Ne){tn(a,a.return,Ne)}}break;case 1:gi(u,a),Xi(a),x&512&&m!==null&&hl(m,m.return);break;case 5:if(gi(u,a),Xi(a),x&512&&m!==null&&hl(m,m.return),a.flags&32){var S=a.stateNode;try{zt(S,"")}catch(Ne){tn(a,a.return,Ne)}}if(x&4&&(S=a.stateNode,S!=null)){var E=a.memoizedProps,A=m!==null?m.memoizedProps:E,V=a.type,U=a.updateQueue;if(a.updateQueue=null,U!==null)try{V==="input"&&E.type==="radio"&&E.name!=null&&Vt(S,E),sr(V,A);var se=sr(V,E);for(A=0;A<U.length;A+=2){var fe=U[A],ye=U[A+1];fe==="style"?Xr(S,ye):fe==="dangerouslySetInnerHTML"?Et(S,ye):fe==="children"?zt(S,ye):T(S,fe,ye,se)}switch(V){case"input":Ft(S,E);break;case"textarea":me(S,E);break;case"select":var ue=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!E.multiple;var Re=E.value;Re!=null?J(S,!!E.multiple,Re,!1):ue!==!!E.multiple&&(E.defaultValue!=null?J(S,!!E.multiple,E.defaultValue,!0):J(S,!!E.multiple,E.multiple?[]:"",!1))}S[Gc]=E}catch(Ne){tn(a,a.return,Ne)}}break;case 6:if(gi(u,a),Xi(a),x&4){if(a.stateNode===null)throw Error(n(162));S=a.stateNode,E=a.memoizedProps;try{S.nodeValue=E}catch(Ne){tn(a,a.return,Ne)}}break;case 3:if(gi(u,a),Xi(a),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Ic(u.containerInfo)}catch(Ne){tn(a,a.return,Ne)}break;case 4:gi(u,a),Xi(a);break;case 13:gi(u,a),Xi(a),S=a.child,S.flags&8192&&(E=S.memoizedState!==null,S.stateNode.isHidden=E,!E||S.alternate!==null&&S.alternate.memoizedState!==null||(Qp=sn())),x&4&&WS(a);break;case 22:if(fe=m!==null&&m.memoizedState!==null,a.mode&1?(Kn=(se=Kn)||fe,gi(u,a),Kn=se):gi(u,a),Xi(a),x&8192){if(se=a.memoizedState!==null,(a.stateNode.isHidden=se)&&!fe&&(a.mode&1)!==0)for(ke=a,fe=a.child;fe!==null;){for(ye=ke=fe;ke!==null;){switch(ue=ke,Re=ue.child,ue.tag){case 0:case 11:case 14:case 15:eu(4,ue,ue.return);break;case 1:hl(ue,ue.return);var Ae=ue.stateNode;if(typeof Ae.componentWillUnmount=="function"){x=ue,m=ue.return;try{u=x,Ae.props=u.memoizedProps,Ae.state=u.memoizedState,Ae.componentWillUnmount()}catch(Ne){tn(x,m,Ne)}}break;case 5:hl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){YS(ye);continue}}Re!==null?(Re.return=ue,ke=Re):YS(ye)}fe=fe.sibling}e:for(fe=null,ye=a;;){if(ye.tag===5){if(fe===null){fe=ye;try{S=ye.stateNode,se?(E=S.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(V=ye.stateNode,U=ye.memoizedProps.style,A=U!=null&&U.hasOwnProperty("display")?U.display:null,V.style.display=Hr("display",A))}catch(Ne){tn(a,a.return,Ne)}}}else if(ye.tag===6){if(fe===null)try{ye.stateNode.nodeValue=se?"":ye.memoizedProps}catch(Ne){tn(a,a.return,Ne)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===a)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===a)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===a)break e;fe===ye&&(fe=null),ye=ye.return}fe===ye&&(fe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:gi(u,a),Xi(a),x&4&&WS(a);break;case 21:break;default:gi(u,a),Xi(a)}}function Xi(a){var u=a.flags;if(u&2){try{e:{for(var m=a.return;m!==null;){if(BS(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var S=x.stateNode;x.flags&32&&(zt(S,""),x.flags&=-33);var E=GS(a);Zp(a,E,S);break;case 3:case 4:var A=x.stateNode.containerInfo,V=GS(a);Yp(a,V,A);break;default:throw Error(n(161))}}catch(U){tn(a,a.return,U)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function VL(a,u,m){ke=a,XS(a)}function XS(a,u,m){for(var x=(a.mode&1)!==0;ke!==null;){var S=ke,E=S.child;if(S.tag===22&&x){var A=S.memoizedState!==null||Ph;if(!A){var V=S.alternate,U=V!==null&&V.memoizedState!==null||Kn;V=Ph;var se=Kn;if(Ph=A,(Kn=U)&&!se)for(ke=S;ke!==null;)A=ke,U=A.child,A.tag===22&&A.memoizedState!==null?ZS(S):U!==null?(U.return=A,ke=U):ZS(S);for(;E!==null;)ke=E,XS(E),E=E.sibling;ke=S,Ph=V,Kn=se}KS(a)}else(S.subtreeFlags&8772)!==0&&E!==null?(E.return=S,ke=E):KS(a)}}function KS(a){for(;ke!==null;){var u=ke;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Kn||kh(5,u);break;case 1:var x=u.stateNode;if(u.flags&4&&!Kn)if(m===null)x.componentDidMount();else{var S=u.elementType===u.type?m.memoizedProps:fi(u.type,m.memoizedProps);x.componentDidUpdate(S,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&Y1(u,E,x);break;case 3:var A=u.updateQueue;if(A!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Y1(u,A,m)}break;case 5:var V=u.stateNode;if(m===null&&u.flags&4){m=V;var U=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&m.focus();break;case"img":U.src&&(m.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var se=u.alternate;if(se!==null){var fe=se.memoizedState;if(fe!==null){var ye=fe.dehydrated;ye!==null&&Ic(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kn||u.flags&512&&Kp(u)}catch(ue){tn(u,u.return,ue)}}if(u===a){ke=null;break}if(m=u.sibling,m!==null){m.return=u.return,ke=m;break}ke=u.return}}function YS(a){for(;ke!==null;){var u=ke;if(u===a){ke=null;break}var m=u.sibling;if(m!==null){m.return=u.return,ke=m;break}ke=u.return}}function ZS(a){for(;ke!==null;){var u=ke;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{kh(4,u)}catch(U){tn(u,m,U)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var S=u.return;try{x.componentDidMount()}catch(U){tn(u,S,U)}}var E=u.return;try{Kp(u)}catch(U){tn(u,E,U)}break;case 5:var A=u.return;try{Kp(u)}catch(U){tn(u,A,U)}}}catch(U){tn(u,u.return,U)}if(u===a){ke=null;break}var V=u.sibling;if(V!==null){V.return=u.return,ke=V;break}ke=u.return}}var zL=Math.ceil,Ah=P.ReactCurrentDispatcher,qp=P.ReactCurrentOwner,Jr=P.ReactCurrentBatchConfig,St=0,Nn=null,dn=null,On=0,Nr=0,fl=Qs(0),Cn=0,tu=null,Qo=0,Mh=0,Jp=0,nu=null,vr=null,Qp=0,ml=1/0,Ss=null,Ih=!1,ey=null,so=null,Nh=!1,oo=null,jh=0,ru=0,ty=null,Fh=-1,Lh=0;function lr(){return(St&6)!==0?sn():Fh!==-1?Fh:Fh=sn()}function ao(a){return(a.mode&1)===0?1:(St&2)!==0&&On!==0?On&-On:CL.transition!==null?(Lh===0&&(Lh=Gw()),Lh):(a=Mt,a!==0||(a=window.event,a=a===void 0?16:Jw(a.type)),a)}function pi(a,u,m,x){if(50<ru)throw ru=0,ty=null,Error(n(185));Tc(a,m,x),((St&2)===0||a!==Nn)&&(a===Nn&&((St&2)===0&&(Mh|=m),Cn===4&&lo(a,On)),_r(a,x),m===1&&St===0&&(u.mode&1)===0&&(ml=sn()+500,uh&&to()))}function _r(a,u){var m=a.callbackNode;CF(a,u);var x=Wd(a,a===Nn?On:0);if(x===0)m!==null&&zw(m),a.callbackNode=null,a.callbackPriority=0;else if(u=x&-x,a.callbackPriority!==u){if(m!=null&&zw(m),u===1)a.tag===0?SL(JS.bind(null,a)):D1(JS.bind(null,a)),xL(function(){(St&6)===0&&to()}),m=null;else{switch(Uw(x)){case 1:m=jg;break;case 4:m=$w;break;case 16:m=$d;break;case 536870912:m=Bw;break;default:m=$d}m=oC(m,qS.bind(null,a))}a.callbackPriority=u,a.callbackNode=m}}function qS(a,u){if(Fh=-1,Lh=0,(St&6)!==0)throw Error(n(327));var m=a.callbackNode;if(gl()&&a.callbackNode!==m)return null;var x=Wd(a,a===Nn?On:0);if(x===0)return null;if((x&30)!==0||(x&a.expiredLanes)!==0||u)u=Dh(a,x);else{u=x;var S=St;St|=2;var E=eC();(Nn!==a||On!==u)&&(Ss=null,ml=sn()+500,ta(a,u));do try{GL();break}catch(V){QS(a,V)}while(!0);vp(),Ah.current=E,St=S,dn!==null?u=0:(Nn=null,On=0,u=Cn)}if(u!==0){if(u===2&&(S=Fg(a),S!==0&&(x=S,u=ny(a,S))),u===1)throw m=tu,ta(a,0),lo(a,x),_r(a,sn()),m;if(u===6)lo(a,x);else{if(S=a.current.alternate,(x&30)===0&&!$L(S)&&(u=Dh(a,x),u===2&&(E=Fg(a),E!==0&&(x=E,u=ny(a,E))),u===1))throw m=tu,ta(a,0),lo(a,x),_r(a,sn()),m;switch(a.finishedWork=S,a.finishedLanes=x,u){case 0:case 1:throw Error(n(345));case 2:na(a,vr,Ss);break;case 3:if(lo(a,x),(x&130023424)===x&&(u=Qp+500-sn(),10<u)){if(Wd(a,0)!==0)break;if(S=a.suspendedLanes,(S&x)!==x){lr(),a.pingedLanes|=a.suspendedLanes&S;break}a.timeoutHandle=lp(na.bind(null,a,vr,Ss),u);break}na(a,vr,Ss);break;case 4:if(lo(a,x),(x&4194240)===x)break;for(u=a.eventTimes,S=-1;0<x;){var A=31-ui(x);E=1<<A,A=u[A],A>S&&(S=A),x&=~E}if(x=S,x=sn()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*zL(x/1960))-x,10<x){a.timeoutHandle=lp(na.bind(null,a,vr,Ss),x);break}na(a,vr,Ss);break;case 5:na(a,vr,Ss);break;default:throw Error(n(329))}}}return _r(a,sn()),a.callbackNode===m?qS.bind(null,a):null}function ny(a,u){var m=nu;return a.current.memoizedState.isDehydrated&&(ta(a,u).flags|=256),a=Dh(a,u),a!==2&&(u=vr,vr=m,u!==null&&ry(u)),a}function ry(a){vr===null?vr=a:vr.push.apply(vr,a)}function $L(a){for(var u=a;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var S=m[x],E=S.getSnapshot;S=S.value;try{if(!di(E(),S))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function lo(a,u){for(u&=~Jp,u&=~Mh,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var m=31-ui(u),x=1<<m;a[m]=-1,u&=~x}}function JS(a){if((St&6)!==0)throw Error(n(327));gl();var u=Wd(a,0);if((u&1)===0)return _r(a,sn()),null;var m=Dh(a,u);if(a.tag!==0&&m===2){var x=Fg(a);x!==0&&(u=x,m=ny(a,x))}if(m===1)throw m=tu,ta(a,0),lo(a,u),_r(a,sn()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,na(a,vr,Ss),_r(a,sn()),null}function iy(a,u){var m=St;St|=1;try{return a(u)}finally{St=m,St===0&&(ml=sn()+500,uh&&to())}}function ea(a){oo!==null&&oo.tag===0&&(St&6)===0&&gl();var u=St;St|=1;var m=Jr.transition,x=Mt;try{if(Jr.transition=null,Mt=1,a)return a()}finally{Mt=x,Jr.transition=m,St=u,(St&6)===0&&to()}}function sy(){Nr=fl.current,Wt(fl)}function ta(a,u){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,yL(m)),dn!==null)for(m=dn.return;m!==null;){var x=m;switch(mp(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&lh();break;case 3:ul(),Wt(pr),Wt(Wn),Tp();break;case 5:Ep(x);break;case 4:ul();break;case 13:Wt(qt);break;case 19:Wt(qt);break;case 10:_p(x.type._context);break;case 22:case 23:sy()}m=m.return}if(Nn=a,dn=a=co(a.current,null),On=Nr=u,Cn=0,tu=null,Jp=Mh=Qo=0,vr=nu=null,Zo!==null){for(u=0;u<Zo.length;u++)if(m=Zo[u],x=m.interleaved,x!==null){m.interleaved=null;var S=x.next,E=m.pending;if(E!==null){var A=E.next;E.next=S,x.next=A}m.pending=x}Zo=null}return a}function QS(a,u){do{var m=dn;try{if(vp(),_h.current=bh,wh){for(var x=Jt.memoizedState;x!==null;){var S=x.queue;S!==null&&(S.pending=null),x=x.next}wh=!1}if(Jo=0,In=Sn=Jt=null,Yc=!1,Zc=0,qp.current=null,m===null||m.return===null){Cn=1,tu=u,dn=null;break}e:{var E=a,A=m.return,V=m,U=u;if(u=On,V.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var se=U,fe=V,ye=fe.tag;if((fe.mode&1)===0&&(ye===0||ye===11||ye===15)){var ue=fe.alternate;ue?(fe.updateQueue=ue.updateQueue,fe.memoizedState=ue.memoizedState,fe.lanes=ue.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Re=bS(A);if(Re!==null){Re.flags&=-257,ES(Re,A,V,E,u),Re.mode&1&&CS(E,se,u),u=Re,U=se;var Ae=u.updateQueue;if(Ae===null){var Ne=new Set;Ne.add(U),u.updateQueue=Ne}else Ae.add(U);break e}else{if((u&1)===0){CS(E,se,u),oy();break e}U=Error(n(426))}}else if(Kt&&V.mode&1){var on=bS(A);if(on!==null){(on.flags&65536)===0&&(on.flags|=256),ES(on,A,V,E,u),yp(dl(U,V));break e}}E=U=dl(U,V),Cn!==4&&(Cn=2),nu===null?nu=[E]:nu.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var Q=wS(E,U,u);K1(E,Q);break e;case 1:V=U;var K=E.type,te=E.stateNode;if((E.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(so===null||!so.has(te)))){E.flags|=65536,u&=-u,E.lanes|=u;var _e=SS(E,V,u);K1(E,_e);break e}}E=E.return}while(E!==null)}nC(m)}catch(Le){u=Le,dn===m&&m!==null&&(dn=m=m.return);continue}break}while(!0)}function eC(){var a=Ah.current;return Ah.current=bh,a===null?bh:a}function oy(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Nn===null||(Qo&268435455)===0&&(Mh&268435455)===0||lo(Nn,On)}function Dh(a,u){var m=St;St|=2;var x=eC();(Nn!==a||On!==u)&&(Ss=null,ta(a,u));do try{BL();break}catch(S){QS(a,S)}while(!0);if(vp(),St=m,Ah.current=x,dn!==null)throw Error(n(261));return Nn=null,On=0,Cn}function BL(){for(;dn!==null;)tC(dn)}function GL(){for(;dn!==null&&!mF();)tC(dn)}function tC(a){var u=sC(a.alternate,a,Nr);a.memoizedProps=a.pendingProps,u===null?nC(a):dn=u,qp.current=null}function nC(a){var u=a;do{var m=u.alternate;if(a=u.return,(u.flags&32768)===0){if(m=FL(m,u,Nr),m!==null){dn=m;return}}else{if(m=LL(m,u),m!==null){m.flags&=32767,dn=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Cn=6,dn=null;return}}if(u=u.sibling,u!==null){dn=u;return}dn=u=a}while(u!==null);Cn===0&&(Cn=5)}function na(a,u,m){var x=Mt,S=Jr.transition;try{Jr.transition=null,Mt=1,UL(a,u,m,x)}finally{Jr.transition=S,Mt=x}return null}function UL(a,u,m,x){do gl();while(oo!==null);if((St&6)!==0)throw Error(n(327));m=a.finishedWork;var S=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var E=m.lanes|m.childLanes;if(bF(a,E),a===Nn&&(dn=Nn=null,On=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Nh||(Nh=!0,oC($d,function(){return gl(),null})),E=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||E){E=Jr.transition,Jr.transition=null;var A=Mt;Mt=1;var V=St;St|=4,qp.current=null,OL(a,m),HS(m,a),uL(op),Kd=!!sp,op=sp=null,a.current=m,VL(m),gF(),St=V,Mt=A,Jr.transition=E}else a.current=m;if(Nh&&(Nh=!1,oo=a,jh=S),E=a.pendingLanes,E===0&&(so=null),xF(m.stateNode),_r(a,sn()),u!==null)for(x=a.onRecoverableError,m=0;m<u.length;m++)S=u[m],x(S.value,{componentStack:S.stack,digest:S.digest});if(Ih)throw Ih=!1,a=ey,ey=null,a;return(jh&1)!==0&&a.tag!==0&&gl(),E=a.pendingLanes,(E&1)!==0?a===ty?ru++:(ru=0,ty=a):ru=0,to(),null}function gl(){if(oo!==null){var a=Uw(jh),u=Jr.transition,m=Mt;try{if(Jr.transition=null,Mt=16>a?16:a,oo===null)var x=!1;else{if(a=oo,oo=null,jh=0,(St&6)!==0)throw Error(n(331));var S=St;for(St|=4,ke=a.current;ke!==null;){var E=ke,A=E.child;if((ke.flags&16)!==0){var V=E.deletions;if(V!==null){for(var U=0;U<V.length;U++){var se=V[U];for(ke=se;ke!==null;){var fe=ke;switch(fe.tag){case 0:case 11:case 15:eu(8,fe,E)}var ye=fe.child;if(ye!==null)ye.return=fe,ke=ye;else for(;ke!==null;){fe=ke;var ue=fe.sibling,Re=fe.return;if($S(fe),fe===se){ke=null;break}if(ue!==null){ue.return=Re,ke=ue;break}ke=Re}}}var Ae=E.alternate;if(Ae!==null){var Ne=Ae.child;if(Ne!==null){Ae.child=null;do{var on=Ne.sibling;Ne.sibling=null,Ne=on}while(Ne!==null)}}ke=E}}if((E.subtreeFlags&2064)!==0&&A!==null)A.return=E,ke=A;else e:for(;ke!==null;){if(E=ke,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:eu(9,E,E.return)}var Q=E.sibling;if(Q!==null){Q.return=E.return,ke=Q;break e}ke=E.return}}var K=a.current;for(ke=K;ke!==null;){A=ke;var te=A.child;if((A.subtreeFlags&2064)!==0&&te!==null)te.return=A,ke=te;else e:for(A=K;ke!==null;){if(V=ke,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:kh(9,V)}}catch(Le){tn(V,V.return,Le)}if(V===A){ke=null;break e}var _e=V.sibling;if(_e!==null){_e.return=V.return,ke=_e;break e}ke=V.return}}if(St=S,to(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Bd,a)}catch{}x=!0}return x}finally{Mt=m,Jr.transition=u}}return!1}function rC(a,u,m){u=dl(m,u),u=wS(a,u,1),a=ro(a,u,1),u=lr(),a!==null&&(Tc(a,1,u),_r(a,u))}function tn(a,u,m){if(a.tag===3)rC(a,a,m);else for(;u!==null;){if(u.tag===3){rC(u,a,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(so===null||!so.has(x))){a=dl(m,a),a=SS(u,a,1),u=ro(u,a,1),a=lr(),u!==null&&(Tc(u,1,a),_r(u,a));break}}u=u.return}}function WL(a,u,m){var x=a.pingCache;x!==null&&x.delete(u),u=lr(),a.pingedLanes|=a.suspendedLanes&m,Nn===a&&(On&m)===m&&(Cn===4||Cn===3&&(On&130023424)===On&&500>sn()-Qp?ta(a,0):Jp|=m),_r(a,u)}function iC(a,u){u===0&&((a.mode&1)===0?u=1:(u=Ud,Ud<<=1,(Ud&130023424)===0&&(Ud=4194304)));var m=lr();a=vs(a,u),a!==null&&(Tc(a,u,m),_r(a,m))}function HL(a){var u=a.memoizedState,m=0;u!==null&&(m=u.retryLane),iC(a,m)}function XL(a,u){var m=0;switch(a.tag){case 13:var x=a.stateNode,S=a.memoizedState;S!==null&&(m=S.retryLane);break;case 19:x=a.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(u),iC(a,m)}var sC;sC=function(a,u,m){if(a!==null)if(a.memoizedProps!==u.pendingProps||pr.current)xr=!0;else{if((a.lanes&m)===0&&(u.flags&128)===0)return xr=!1,jL(a,u,m);xr=(a.flags&131072)!==0}else xr=!1,Kt&&(u.flags&1048576)!==0&&O1(u,hh,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;Th(a,u),a=u.pendingProps;var S=rl(u,Wn.current);cl(u,m),S=Ap(null,u,x,a,S,m);var E=Mp();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,yr(x)?(E=!0,ch(u)):E=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Cp(u),S.updater=Eh,u.stateNode=S,S._reactInternals=u,Dp(u,x,a,m),u=$p(null,u,x,!0,E,m)):(u.tag=0,Kt&&E&&fp(u),ar(null,u,S,m),u=u.child),u;case 16:x=u.elementType;e:{switch(Th(a,u),a=u.pendingProps,S=x._init,x=S(x._payload),u.type=x,S=u.tag=YL(x),a=fi(x,a),S){case 0:u=zp(null,u,x,a,m);break e;case 1:u=MS(null,u,x,a,m);break e;case 11:u=RS(null,u,x,a,m);break e;case 14:u=TS(null,u,x,fi(x.type,a),m);break e}throw Error(n(306,x,""))}return u;case 0:return x=u.type,S=u.pendingProps,S=u.elementType===x?S:fi(x,S),zp(a,u,x,S,m);case 1:return x=u.type,S=u.pendingProps,S=u.elementType===x?S:fi(x,S),MS(a,u,x,S,m);case 3:e:{if(IS(u),a===null)throw Error(n(387));x=u.pendingProps,E=u.memoizedState,S=E.element,X1(a,u),xh(u,x,null,m);var A=u.memoizedState;if(x=A.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){S=dl(Error(n(423)),u),u=NS(a,u,x,m,S);break e}else if(x!==S){S=dl(Error(n(424)),u),u=NS(a,u,x,m,S);break e}else for(Ir=Js(u.stateNode.containerInfo.firstChild),Mr=u,Kt=!0,hi=null,m=W1(u,null,x,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ol(),x===S){u=ws(a,u,m);break e}ar(a,u,x,m)}u=u.child}return u;case 5:return Z1(u),a===null&&pp(u),x=u.type,S=u.pendingProps,E=a!==null?a.memoizedProps:null,A=S.children,ap(x,S)?A=null:E!==null&&ap(x,E)&&(u.flags|=32),AS(a,u),ar(a,u,A,m),u.child;case 6:return a===null&&pp(u),null;case 13:return jS(a,u,m);case 4:return bp(u,u.stateNode.containerInfo),x=u.pendingProps,a===null?u.child=al(u,null,x,m):ar(a,u,x,m),u.child;case 11:return x=u.type,S=u.pendingProps,S=u.elementType===x?S:fi(x,S),RS(a,u,x,S,m);case 7:return ar(a,u,u.pendingProps,m),u.child;case 8:return ar(a,u,u.pendingProps.children,m),u.child;case 12:return ar(a,u,u.pendingProps.children,m),u.child;case 10:e:{if(x=u.type._context,S=u.pendingProps,E=u.memoizedProps,A=S.value,$t(gh,x._currentValue),x._currentValue=A,E!==null)if(di(E.value,A)){if(E.children===S.children&&!pr.current){u=ws(a,u,m);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var V=E.dependencies;if(V!==null){A=E.child;for(var U=V.firstContext;U!==null;){if(U.context===x){if(E.tag===1){U=_s(-1,m&-m),U.tag=2;var se=E.updateQueue;if(se!==null){se=se.shared;var fe=se.pending;fe===null?U.next=U:(U.next=fe.next,fe.next=U),se.pending=U}}E.lanes|=m,U=E.alternate,U!==null&&(U.lanes|=m),wp(E.return,m,u),V.lanes|=m;break}U=U.next}}else if(E.tag===10)A=E.type===u.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(n(341));A.lanes|=m,V=A.alternate,V!==null&&(V.lanes|=m),wp(A,m,u),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===u){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}ar(a,u,S.children,m),u=u.child}return u;case 9:return S=u.type,x=u.pendingProps.children,cl(u,m),S=Zr(S),x=x(S),u.flags|=1,ar(a,u,x,m),u.child;case 14:return x=u.type,S=fi(x,u.pendingProps),S=fi(x.type,S),TS(a,u,x,S,m);case 15:return PS(a,u,u.type,u.pendingProps,m);case 17:return x=u.type,S=u.pendingProps,S=u.elementType===x?S:fi(x,S),Th(a,u),u.tag=1,yr(x)?(a=!0,ch(u)):a=!1,cl(u,m),vS(u,x,S),Dp(u,x,S,m),$p(null,u,x,!0,a,m);case 19:return LS(a,u,m);case 22:return kS(a,u,m)}throw Error(n(156,u.tag))};function oC(a,u){return Vw(a,u)}function KL(a,u,m,x){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(a,u,m,x){return new KL(a,u,m,x)}function ay(a){return a=a.prototype,!(!a||!a.isReactComponent)}function YL(a){if(typeof a=="function")return ay(a)?1:0;if(a!=null){if(a=a.$$typeof,a===X)return 11;if(a===q)return 14}return 2}function co(a,u){var m=a.alternate;return m===null?(m=Qr(a.tag,u,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=u,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,u=a.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function Oh(a,u,m,x,S,E){var A=2;if(x=a,typeof a=="function")ay(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case L:return ra(m.children,S,E,u);case I:A=8,S|=8;break;case O:return a=Qr(12,m,u,S|2),a.elementType=O,a.lanes=E,a;case G:return a=Qr(13,m,u,S),a.elementType=G,a.lanes=E,a;case Z:return a=Qr(19,m,u,S),a.elementType=Z,a.lanes=E,a;case F:return Vh(m,S,E,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case W:A=10;break e;case z:A=9;break e;case X:A=11;break e;case q:A=14;break e;case H:A=16,x=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Qr(A,m,u,S),u.elementType=a,u.type=x,u.lanes=E,u}function ra(a,u,m,x){return a=Qr(7,a,x,u),a.lanes=m,a}function Vh(a,u,m,x){return a=Qr(22,a,x,u),a.elementType=F,a.lanes=m,a.stateNode={isHidden:!1},a}function ly(a,u,m){return a=Qr(6,a,null,u),a.lanes=m,a}function cy(a,u,m){return u=Qr(4,a.children!==null?a.children:[],a.key,u),u.lanes=m,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function ZL(a,u,m,x,S){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lg(0),this.expirationTimes=Lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lg(0),this.identifierPrefix=x,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function uy(a,u,m,x,S,E,A,V,U){return a=new ZL(a,u,m,V,U),u===1?(u=1,E===!0&&(u|=8)):u=0,E=Qr(3,null,null,u),a.current=E,E.stateNode=a,E.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(E),a}function qL(a,u,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:x==null?null:""+x,children:a,containerInfo:u,implementation:m}}function aC(a){if(!a)return eo;a=a._reactInternals;e:{if(Wo(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(yr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(yr(m))return F1(a,m,u)}return u}function lC(a,u,m,x,S,E,A,V,U){return a=uy(m,x,!0,a,S,E,A,V,U),a.context=aC(null),m=a.current,x=lr(),S=ao(m),E=_s(x,S),E.callback=u??null,ro(m,E,S),a.current.lanes=S,Tc(a,S,x),_r(a,x),a}function zh(a,u,m,x){var S=u.current,E=lr(),A=ao(S);return m=aC(m),u.context===null?u.context=m:u.pendingContext=m,u=_s(E,A),u.payload={element:a},x=x===void 0?null:x,x!==null&&(u.callback=x),a=ro(S,u,A),a!==null&&(pi(a,S,A,E),yh(a,S,A)),A}function $h(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function cC(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<u?m:u}}function dy(a,u){cC(a,u),(a=a.alternate)&&cC(a,u)}function JL(){return null}var uC=typeof reportError=="function"?reportError:function(a){console.error(a)};function hy(a){this._internalRoot=a}Bh.prototype.render=hy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));zh(a,u,null,null)},Bh.prototype.unmount=hy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;ea(function(){zh(null,a,null,null)}),u[gs]=null}};function Bh(a){this._internalRoot=a}Bh.prototype.unstable_scheduleHydration=function(a){if(a){var u=Xw();a={blockedOn:null,target:a,priority:u};for(var m=0;m<Ys.length&&u!==0&&u<Ys[m].priority;m++);Ys.splice(m,0,a),m===0&&Zw(a)}};function fy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Gh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function dC(){}function QL(a,u,m,x,S){if(S){if(typeof x=="function"){var E=x;x=function(){var se=$h(A);E.call(se)}}var A=lC(u,x,a,0,null,!1,!1,"",dC);return a._reactRootContainer=A,a[gs]=A.current,$c(a.nodeType===8?a.parentNode:a),ea(),A}for(;S=a.lastChild;)a.removeChild(S);if(typeof x=="function"){var V=x;x=function(){var se=$h(U);V.call(se)}}var U=uy(a,0,!1,null,null,!1,!1,"",dC);return a._reactRootContainer=U,a[gs]=U.current,$c(a.nodeType===8?a.parentNode:a),ea(function(){zh(u,U,m,x)}),U}function Uh(a,u,m,x,S){var E=m._reactRootContainer;if(E){var A=E;if(typeof S=="function"){var V=S;S=function(){var U=$h(A);V.call(U)}}zh(u,A,a,S)}else A=QL(m,u,a,S,x);return $h(A)}Ww=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var m=Rc(u.pendingLanes);m!==0&&(Dg(u,m|1),_r(u,sn()),(St&6)===0&&(ml=sn()+500,to()))}break;case 13:ea(function(){var x=vs(a,1);if(x!==null){var S=lr();pi(x,a,1,S)}}),dy(a,1)}},Og=function(a){if(a.tag===13){var u=vs(a,134217728);if(u!==null){var m=lr();pi(u,a,134217728,m)}dy(a,134217728)}},Hw=function(a){if(a.tag===13){var u=ao(a),m=vs(a,u);if(m!==null){var x=lr();pi(m,a,u,x)}dy(a,u)}},Xw=function(){return Mt},Kw=function(a,u){var m=Mt;try{return Mt=a,u()}finally{Mt=m}},kr=function(a,u,m){switch(u){case"input":if(Ft(a,m),u=m.name,m.type==="radio"&&u!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var x=m[u];if(x!==a&&x.form===a.form){var S=ah(x);if(!S)throw Error(n(90));Ve(x),Ft(x,S)}}}break;case"textarea":me(a,m);break;case"select":u=m.value,u!=null&&J(a,!!m.multiple,u,!1)}},de=iy,Ke=ea;var eD={usingClientEntryPoint:!1,Events:[Uc,tl,ah,Ye,he,iy]},iu={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tD={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Dw(a),a===null?null:a.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||JL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{Bd=Wh.inject(tD),Gi=Wh}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eD,wr.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(u))throw Error(n(200));return qL(a,u,null,m)},wr.createRoot=function(a,u){if(!fy(a))throw Error(n(299));var m=!1,x="",S=uC;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=uy(a,1,!1,null,null,m,!1,x,S),a[gs]=u.current,$c(a.nodeType===8?a.parentNode:a),new hy(u)},wr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Dw(u),a=a===null?null:a.stateNode,a},wr.flushSync=function(a){return ea(a)},wr.hydrate=function(a,u,m){if(!Gh(u))throw Error(n(200));return Uh(null,a,u,!0,m)},wr.hydrateRoot=function(a,u,m){if(!fy(a))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,S=!1,E="",A=uC;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),u=lC(u,null,a,1,m??null,S,!1,E,A),a[gs]=u.current,$c(a),x)for(a=0;a<x.length;a++)m=x[a],S=m._getVersion,S=S(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,S]:u.mutableSourceEagerHydrationData.push(m,S);return new Bh(u)},wr.render=function(a,u,m){if(!Gh(u))throw Error(n(200));return Uh(null,a,u,!1,m)},wr.unmountComponentAtNode=function(a){if(!Gh(a))throw Error(n(40));return a._reactRootContainer?(ea(function(){Uh(null,null,a,!1,function(){a._reactRootContainer=null,a[gs]=null})}),!0):!1},wr.unstable_batchedUpdates=iy,wr.unstable_renderSubtreeIntoContainer=function(a,u,m,x){if(!Gh(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Uh(a,u,m,!1,x)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var vC;function yT(){if(vC)return py.exports;vC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),py.exports=cD(),py.exports}var _C;function uD(){if(_C)return Hh;_C=1;var t=yT();return Hh.createRoot=t.createRoot,Hh.hydrateRoot=t.hydrateRoot,Hh}var dD=uD();const xT=qx(dD);var ou={},wC;function hD(){if(wC)return ou;wC=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.parse=o,ou.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,y){const v=new s,w=p.length;if(w<2)return v;const C=(y==null?void 0:y.decode)||h;let b=0;do{const R=p.indexOf("=",b);if(R===-1)break;const T=p.indexOf(";",b),P=T===-1?w:T;if(R>P){b=p.lastIndexOf(";",R-1)+1;continue}const k=l(p,b,R),M=c(p,R,k),L=p.slice(k,M);if(v[L]===void 0){let I=l(p,R+1,P),O=c(p,P,I);const W=C(p.slice(I,O));v[L]=W}b=P+1}while(b<w);return v}function l(p,y,v){do{const w=p.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function c(p,y,v){for(;y>v;){const w=p.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function d(p,y,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=w(y);if(!e.test(C))throw new TypeError(`argument val is invalid: ${y}`);let b=p+"="+C;if(!v)return b;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);b+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);b+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);b+="; Path="+v.path}if(v.expires){if(!f(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);b+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(b+="; HttpOnly"),v.secure&&(b+="; Secure"),v.partitioned&&(b+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return b}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function f(p){return i.call(p)==="[object Date]"}return ou}hD();var SC="popstate";function fD(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return S0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ou(i)}return gD(e,n,null,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ii(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mD(){return Math.random().toString(36).substring(2,10)}function CC(t,e){return{usr:t.state,key:t.key,idx:e}}function S0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oc(e):e,state:n,key:e&&e.key||r||mD()}}function Ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function f(){l="POP";let C=h(),b=C==null?null:C-d;d=C,c&&c({action:l,location:w.location,delta:b})}function p(C,b){l="PUSH";let R=S0(w.location,C,b);d=h()+1;let T=CC(R,d),P=w.createHref(R);try{o.pushState(T,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(P)}s&&c&&c({action:l,location:w.location,delta:1})}function y(C,b){l="REPLACE";let R=S0(w.location,C,b);d=h();let T=CC(R,d),P=w.createHref(R);o.replaceState(T,"",P),s&&c&&c({action:l,location:w.location,delta:0})}function v(C){let b=i.location.origin!=="null"?i.location.origin:i.location.href,R=typeof C=="string"?C:Ou(C);return R=R.replace(/ $/,"%20"),Yt(b,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,b)}let w={get action(){return l},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(SC,f),c=C,()=>{i.removeEventListener(SC,f),c=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let b=v(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:y,go(C){return o.go(C)}};return w}function vT(t,e,n="/"){return pD(t,e,n,!1)}function pD(t,e,n,r){let i=typeof e=="string"?oc(e):e,s=Ls(i.pathname||"/",n);if(s==null)return null;let o=_T(t);yD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=PD(s);l=RD(o[c],d,r)}return l}function _T(t,e=[],n=[],r=""){let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Yt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=js([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Yt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),_T(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:bD(d,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of wT(s.path))i(s,o,c)}),e}function wT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=wT(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function yD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ED(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xD=/^:[\w-]+$/,vD=3,_D=2,wD=1,SD=10,CD=-2,bC=t=>t==="*";function bD(t,e){let n=t.split("/"),r=n.length;return n.some(bC)&&(r+=CD),e&&(r+=_D),n.filter(i=>!bC(i)).reduce((i,s)=>i+(xD.test(s)?vD:s===""?wD:SD),r)}function ED(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function RD(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Bf({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Bf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:js([s,f.pathname]),pathnameBase:ID(js([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=js([s,f.pathnameBase]))}return o}function Bf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let v=l[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[p];return f&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function TD(t,e=!1,n=!0){Ii(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ii(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oc(t):t;return{pathname:n?n.startsWith("/")?n:AD(n,e):e,search:ND(r),hash:jD(i)}}function AD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qx(t){let e=MD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ev(t,e,n,r=!1){let i;typeof t=="string"?i=oc(t):(i={...t},Yt(!i.pathname||!i.pathname.includes("?"),vy("?","pathname","search",i)),Yt(!i.pathname||!i.pathname.includes("#"),vy("#","pathname","hash",i)),Yt(!i.search||!i.search.includes("#"),vy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=kD(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var js=t=>t.join("/").replace(/\/\/+/g,"/"),ID=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ND=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ST=["POST","PUT","PATCH","DELETE"];new Set(ST);var LD=["GET",...ST];new Set(LD);var ac=_.createContext(null);ac.displayName="DataRouter";var km=_.createContext(null);km.displayName="DataRouterState";var CT=_.createContext({isTransitioning:!1});CT.displayName="ViewTransition";var DD=_.createContext(new Map);DD.displayName="Fetchers";var OD=_.createContext(null);OD.displayName="Await";var Fi=_.createContext(null);Fi.displayName="Navigation";var md=_.createContext(null);md.displayName="Location";var Li=_.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var tv=_.createContext(null);tv.displayName="RouteError";function VD(t,{relative:e}={}){Yt(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Fi),{hash:i,pathname:s,search:o}=pd(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:js([n,s])),r.createHref({pathname:l,search:o,hash:i})}function lc(){return _.useContext(md)!=null}function Di(){return Yt(lc(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(md).location}var bT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ET(t){_.useContext(Fi).static||_.useLayoutEffect(t)}function gd(){let{isDataRoute:t}=_.useContext(Li);return t?QD():zD()}function zD(){Yt(lc(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(ac),{basename:e,navigator:n}=_.useContext(Fi),{matches:r}=_.useContext(Li),{pathname:i}=Di(),s=JSON.stringify(Qx(r)),o=_.useRef(!1);return ET(()=>{o.current=!0}),_.useCallback((c,d={})=>{if(Ii(o.current,bT),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=ev(c,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:js([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,s,i,t])}var RT=_.createContext(null);function nv(){return _.useContext(RT)}function $D(t){let e=_.useContext(Li).outlet;return e&&_.createElement(RT.Provider,{value:t},e)}function pd(t,{relative:e}={}){let{matches:n}=_.useContext(Li),{pathname:r}=Di(),i=JSON.stringify(Qx(n));return _.useMemo(()=>ev(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function BD(t,e){return TT(t,e)}function TT(t,e,n,r){var R;Yt(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=_.useContext(Fi),{matches:o}=_.useContext(Li),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let T=f&&f.path||"";PT(d,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=Di(),y;if(e){let T=typeof e=="string"?oc(e):e;Yt(h==="/"||((R=T.pathname)==null?void 0:R.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=p;let v=y.pathname||"/",w=v;if(h!=="/"){let T=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=!s&&n&&n.matches&&n.matches.length>0?n.matches:vT(t,{pathname:w});Ii(f||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ii(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=XD(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:js([h,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:js([h,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&b?_.createElement(md.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function GD(){let t=JD(),e=FD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,o)}var UD=_.createElement(GD,null),WD=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(Li.Provider,{value:this.props.routeContext},_.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HD({routeContext:t,match:e,children:n}){let r=_.useContext(ac);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Li.Provider,{value:t},n)}function XD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Yt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let f,p=!1,y=null,v=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||UD,o&&(l<0&&h===0?(PT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),C=()=>{let b;return f?b=y:p?b=v:d.route.Component?b=_.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,_.createElement(HD,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(WD,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function rv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KD(t){let e=_.useContext(ac);return Yt(e,rv(t)),e}function YD(t){let e=_.useContext(km);return Yt(e,rv(t)),e}function ZD(t){let e=_.useContext(Li);return Yt(e,rv(t)),e}function iv(t){let e=ZD(t),n=e.matches[e.matches.length-1];return Yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qD(){return iv("useRouteId")}function JD(){var r;let t=_.useContext(tv),e=YD("useRouteError"),n=iv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function QD(){let{router:t}=KD("useNavigate"),e=iv("useNavigate"),n=_.useRef(!1);return ET(()=>{n.current=!0}),_.useCallback(async(i,s={})=>{Ii(n.current,bT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var EC={};function PT(t,e,n){!e&&!EC[t]&&(EC[t]=!0,Ii(!1,n))}_.memo(eO);function eO({routes:t,future:e,state:n}){return TT(t,void 0,n,e)}function kT({to:t,replace:e,state:n,relative:r}){Yt(lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Fi);Ii(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Li),{pathname:o}=Di(),l=gd(),c=ev(t,Qx(s),o,r==="path"),d=JSON.stringify(c);return _.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function tO(t){return $D(t.context)}function Ps(t){Yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Yt(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=oc(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,y=_.useMemo(()=>{let v=Ls(c,o);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:r}},[o,c,d,h,f,p,r]);return Ii(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(Fi.Provider,{value:l},_.createElement(md.Provider,{children:e,value:y}))}function rO({children:t,location:e}){return BD(C0(t),e)}function C0(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,C0(r.props.children,s));return}Yt(r.type===Ps,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=C0(r.props.children,s)),n.push(o)}),n}var Rf="get",Tf="application/x-www-form-urlencoded";function Am(t){return t!=null&&typeof t.tagName=="string"}function iO(t){return Am(t)&&t.tagName.toLowerCase()==="button"}function sO(t){return Am(t)&&t.tagName.toLowerCase()==="form"}function oO(t){return Am(t)&&t.tagName.toLowerCase()==="input"}function aO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lO(t,e){return t.button===0&&(!e||e==="_self")&&!aO(t)}var Xh=null;function cO(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var uO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _y(t){return t!=null&&!uO.has(t)?(Ii(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):t}function dO(t,e){let n,r,i,s,o;if(sO(t)){let l=t.getAttribute("action");r=l?Ls(l,e):null,n=t.getAttribute("method")||Rf,i=_y(t.getAttribute("enctype"))||Tf,s=new FormData(t)}else if(iO(t)||oO(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?Ls(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Rf,i=_y(t.getAttribute("formenctype"))||_y(l.getAttribute("enctype"))||Tf,s=new FormData(l,t),!cO()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,f)}}else{if(Am(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rf,r=null,i=Tf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function sv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function hO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mO(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await hO(s,n);return o.links?o.links():[]}return[]}));return xO(r.flat(1).filter(fO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function RC(t,e,n,r,i,s){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var h;return n[d].pathname!==c.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var f;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function gO(t,e,{includeHydrateFallback:n}={}){return pO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function pO(t){return[...new Set(t)]}function yO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function xO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(yO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}var vO=new Set([100,101,204,205]);function _O(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ls(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function AT(){let t=_.useContext(ac);return sv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wO(){let t=_.useContext(km);return sv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ov=_.createContext(void 0);ov.displayName="FrameworkContext";function MT(){let t=_.useContext(ov);return sv(t,"You must render this element inside a <HydratedRouter> element"),t}function SO(t,e){let n=_.useContext(ov),[r,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=b=>{b.forEach(R=>{o(R.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[t]),_.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:au(l,y),onBlur:au(c,v),onMouseEnter:au(d,y),onMouseLeave:au(h,v),onTouchStart:au(f,y)}]:[!1,p,{}]}function au(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function CO({page:t,...e}){let{router:n}=AT(),r=_.useMemo(()=>vT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(EO,{page:t,matches:r,...e}):null}function bO(t){let{manifest:e,routeModules:n}=MT(),[r,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return mO(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function EO({page:t,matches:e,...n}){let r=Di(),{manifest:i,routeModules:s}=MT(),{basename:o}=AT(),{loaderData:l,matches:c}=wO(),d=_.useMemo(()=>RC(t,e,c,i,r,"data"),[t,e,c,i,r]),h=_.useMemo(()=>RC(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(b=>{var T;let R=i.routes[b.route.id];!R||!R.hasLoader||(!d.some(P=>P.route.id===b.route.id)&&b.route.id in l&&((T=s[b.route.id])!=null&&T.shouldRevalidate)||R.hasClientLoader?w=!0:v.add(b.route.id))}),v.size===0)return[];let C=_O(t,o);return w&&v.size>0&&C.searchParams.set("_routes",e.filter(b=>v.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[o,l,r,i,d,e,t,s]),p=_.useMemo(()=>gO(h,i),[h,i]),y=bO(h);return _.createElement(_.Fragment,null,f.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:w})=>_.createElement("link",{key:v,...w})))}function RO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IT&&(window.__reactRouterVersion="7.5.2")}catch{}function TO({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=fD({window:n,v5Compat:!0}));let i=r.current,[s,o]=_.useState({action:i.action,location:i.location}),l=_.useCallback(c=>{_.startTransition(()=>o(c))},[o]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(nO,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jT=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f,...p},y){let{basename:v}=_.useContext(Fi),w=typeof d=="string"&&NT.test(d),C,b=!1;if(typeof d=="string"&&w&&(C=d,IT))try{let O=new URL(window.location.href),W=d.startsWith("//")?new URL(O.protocol+d):new URL(d),z=Ls(W.pathname,v);W.origin===O.origin&&z!=null?d=z+W.search+W.hash:b=!0}catch{Ii(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=VD(d,{relative:i}),[T,P,k]=SO(r,p),M=MO(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function L(O){e&&e(O),O.defaultPrevented||M(O)}let I=_.createElement("a",{...p,...k,href:C||R,onClick:b||s?e:L,ref:RO(y,P),target:c,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?_.createElement(_.Fragment,null,I,_.createElement(CO,{page:R})):I});jT.displayName="Link";var PO=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},h){let f=pd(o,{relative:d.relative}),p=Di(),y=_.useContext(km),{navigator:v,basename:w}=_.useContext(Fi),C=y!=null&&LO(f)&&l===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,R=p.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(R=R.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&w&&(T=Ls(T,w)||T);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let k=R===b||!i&&R.startsWith(b)&&R.charAt(P)==="/",M=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),L={isActive:k,isPending:M,isTransitioning:C},I=k?e:void 0,O;typeof r=="function"?O=r(L):O=[r,k?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(L):s;return _.createElement(jT,{...d,"aria-current":I,className:O,ref:h,style:W,to:o,viewTransition:l},typeof c=="function"?c(L):c)});PO.displayName="NavLink";var kO=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Rf,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:f,...p},y)=>{let v=jO(),w=FO(l,{relative:d}),C=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&NT.test(l),R=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,k=(P==null?void 0:P.getAttribute("formmethod"))||o;v(P||T.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:f})};return _.createElement("form",{ref:y,method:C,action:w,onSubmit:r?c:R,...p,"data-discover":!b&&t==="render"?"true":void 0})});kO.displayName="Form";function AO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(t){let e=_.useContext(ac);return Yt(e,AO(t)),e}function MO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=gd(),c=Di(),d=pd(t,{relative:s});return _.useCallback(h=>{if(lO(h,e)){h.preventDefault();let f=n!==void 0?n:Ou(c)===Ou(d);l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,n,r,e,t,i,s,o])}var IO=0,NO=()=>`__${String(++IO)}__`;function jO(){let{router:t}=FT("useSubmit"),{basename:e}=_.useContext(Fi),n=qD();return _.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=dO(r,e);if(i.navigate===!1){let h=i.fetcherKey||NO();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function FO(t,{relative:e}={}){let{basename:n}=_.useContext(Fi),r=_.useContext(Li);Yt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...pd(t||".",{relative:e})},o=Di();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:js([n,s.pathname])),Ou(s)}function LO(t,e={}){let n=_.useContext(CT);Yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FT("useViewTransitionState"),i=pd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bf(i.pathname,o)!=null||Bf(i.pathname,s)!=null}new TextEncoder;[...vO];var Ba=yT();const LT=qx(Ba);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TC=t=>{const e=OO(t);return e.charAt(0).toUpperCase()+e.slice(1)},DT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),VO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...zO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DT("lucide",i),...!s&&!VO(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement($O,{ref:s,iconNode:e,className:DT(`lucide-${DO(TC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=TC(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],GO=Pe("activity",BO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],WO=Pe("arrow-down-wide-narrow",UO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],XO=Pe("arrow-up-narrow-wide",HO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],b0=Pe("ban",KO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"13",key:"c6fn6x"}]],av=Pe("battery-full",YO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}]],Vu=Pe("battery-low",ZO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}],["line",{x1:"6",x2:"6",y1:"11",y2:"13",key:"1wd6dw"}],["line",{x1:"10",x2:"10",y1:"11",y2:"13",key:"haxvl5"}]],lv=Pe("battery-medium",qO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],QO=Pe("bell",JO);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M17 10c.7-.7 1.69 0 2.5 0a2.5 2.5 0 1 0 0-5 .5.5 0 0 1-.5-.5 2.5 2.5 0 1 0-5 0c0 .81.7 1.8 0 2.5l-7 7c-.7.7-1.69 0-2.5 0a2.5 2.5 0 0 0 0 5c.28 0 .5.22.5.5a2.5 2.5 0 1 0 5 0c0-.81-.7-1.8 0-2.5Z",key:"w610uw"}]],OT=Pe("bone",eV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nV=Pe("calendar",tV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yd=Pe("check",rV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cc=Pe("chevron-down",iV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oV=Pe("chevron-left",sV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],VT=Pe("chevron-right",aV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cv=Pe("chevron-up",lV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],uV=Pe("chevrons-left",cV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],hV=Pe("chevrons-right",dV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ha=Pe("circle-alert",fV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],la=Pe("circle-check-big",mV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]],zT=Pe("circle-dashed",gV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M10.1 2.18a9.93 9.93 0 0 1 3.8 0",key:"1qdqn0"}],["path",{d:"M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7",key:"1bq7p6"}],["path",{d:"M21.82 10.1a9.93 9.93 0 0 1 0 3.8",key:"1rlaqf"}],["path",{d:"M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69",key:"1xk03u"}],["path",{d:"M13.9 21.82a9.94 9.94 0 0 1-3.8 0",key:"l7re25"}],["path",{d:"M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7",key:"1v18p6"}],["path",{d:"M2.18 13.9a9.93 9.93 0 0 1 0-3.8",key:"xdo6bj"}],["path",{d:"M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69",key:"1jjmaz"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],uv=Pe("circle-dot-dashed",pV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xV=Pe("circle-plus",yV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_V=Pe("circle-user-round",vV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pn=Pe("circle-x",wV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],CV=Pe("circle",SV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],EV=Pe("download",bV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],TV=Pe("dumbbell",RV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"1n2rgs"}],["path",{d:"M6 8h4",key:"utf9t1"}],["path",{d:"M6 18h4",key:"12yh4b"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"3ha7mj"}],["path",{d:"M14 8h4",key:"1r8wg2"}],["path",{d:"M14 18h4",key:"1t3kbu"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"dfd4e2"}]],$T=Pe("fence",PV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],BT=Pe("file-text",kV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],MV=Pe("hash",AV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M13.5 19.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5A5.5 5.5 0 0 1 7.5 3c1.76 0 3 .5 4.5 2 1.5-1.5 2.74-2 4.5-2a5.5 5.5 0 0 1 5.402 6.5",key:"vd0vy5"}],["path",{d:"M15 15h6",key:"1u4692"}],["path",{d:"M18 12v6",key:"1houu1"}]],NV=Pe("heart-plus",IV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],PC=Pe("heart",jV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ci=Pe("info",FV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],DV=Pe("layers",LV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],VV=Pe("link",OV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],GT=Pe("list-filter",zV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],kC=Pe("list",$V);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GV=Pe("loader-circle",BV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WV=Pe("locate-fixed",UV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],XV=Pe("lock-keyhole",HV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],YV=Pe("log-out",KV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],qV=Pe("map-pin-minus-inside",ZV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],QV=Pe("map-pin-plus-inside",JV);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],t4=Pe("map-pin-plus",e4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077",key:"y0ewhp"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m21.5 15.5-5 5",key:"11iqnx"}],["path",{d:"m21.5 20.5-5-5",key:"1bylgx"}]],r4=Pe("map-pin-x",n4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dv=Pe("map-pin",i4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],o4=Pe("map-pinned",s4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],l4=Pe("map",a4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],u4=Pe("mars",c4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],h4=Pe("menu",d4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M5 12h14",key:"1ays0h"}]],UT=Pe("minus",f4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12 12V4a1 1 0 0 1 1-1h6.297a1 1 0 0 1 .651 1.759l-4.696 4.025",key:"1bx4vc"}],["path",{d:"m12 21-7.414-7.414A2 2 0 0 1 4 12.172V6.415a1.002 1.002 0 0 1 1.707-.707L20 20.009",key:"1h3km6"}],["path",{d:"m12.214 3.381 8.414 14.966a1 1 0 0 1-.167 1.199l-1.168 1.163a1 1 0 0 1-.706.291H6.351a1 1 0 0 1-.625-.219L3.25 18.8a1 1 0 0 1 .631-1.781l4.165.027",key:"1hj4wg"}]],g4=Pe("origami",m4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],ko=Pe("paw-print",p4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AC=Pe("plus",y4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],MC=Pe("ruler",x4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WT=Pe("save",v4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w4=Pe("settings",_4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M14 11a2 2 0 1 1-4 0 4 4 0 0 1 8 0 6 6 0 0 1-12 0 8 8 0 0 1 16 0 10 10 0 1 1-20 0 11.93 11.93 0 0 1 2.42-7.22 2 2 0 1 1 3.16 2.44",key:"1cn552"}]],C4=Pe("shell",S4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],E4=Pe("slash",b4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}]],T4=Pe("spline-pointer",R4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hv=Pe("square-pen",P4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],HT=Pe("tag",k4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],M4=Pe("thermometer",A4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Fr=Pe("trash-2",I4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],j4=Pe("undo",N4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],IC=Pe("upload",F4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M10 20h4",key:"ni2waw"}],["path",{d:"M12 16v6",key:"c8a4gj"}],["path",{d:"M17 2h4v4",key:"vhe59"}],["path",{d:"m21 2-5.46 5.46",key:"19kypf"}],["circle",{cx:"12",cy:"11",r:"5",key:"16gxyc"}]],D4=Pe("venus-and-mars",L4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],V4=Pe("venus",O4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Us=Pe("x",z4);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],B4=Pe("zap",$4);function XT(t,e){return function(){return t.apply(e,arguments)}}const{toString:G4}=Object.prototype,{getPrototypeOf:fv}=Object,{iterator:Mm,toStringTag:KT}=Symbol,Im=(t=>e=>{const n=G4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Oi=t=>(t=t.toLowerCase(),e=>Im(e)===t),Nm=t=>e=>typeof e===t,{isArray:uc}=Array,zu=Nm("undefined");function U4(t){return t!==null&&!zu(t)&&t.constructor!==null&&!zu(t.constructor)&&Er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const YT=Oi("ArrayBuffer");function W4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&YT(t.buffer),e}const H4=Nm("string"),Er=Nm("function"),ZT=Nm("number"),jm=t=>t!==null&&typeof t=="object",X4=t=>t===!0||t===!1,Pf=t=>{if(Im(t)!=="object")return!1;const e=fv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KT in t)&&!(Mm in t)},K4=Oi("Date"),Y4=Oi("File"),Z4=Oi("Blob"),q4=Oi("FileList"),J4=t=>jm(t)&&Er(t.pipe),Q4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Er(t.append)&&((e=Im(t))==="formdata"||e==="object"&&Er(t.toString)&&t.toString()==="[object FormData]"))},e5=Oi("URLSearchParams"),[t5,n5,r5,i5]=["ReadableStream","Request","Response","Headers"].map(Oi),s5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),uc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function qT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ma=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,JT=t=>!zu(t)&&t!==ma;function E0(){const{caseless:t}=JT(this)&&this||{},e={},n=(r,i)=>{const s=t&&qT(e,i)||i;Pf(e[s])&&Pf(r)?e[s]=E0(e[s],r):Pf(r)?e[s]=E0({},r):uc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&xd(arguments[r],n);return e}const o5=(t,e,n,{allOwnKeys:r}={})=>(xd(e,(i,s)=>{n&&Er(i)?t[s]=XT(i,n):t[s]=i},{allOwnKeys:r}),t),a5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},c5=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&fv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},u5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},d5=t=>{if(!t)return null;if(uc(t))return t;let e=t.length;if(!ZT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},h5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fv(Uint8Array)),f5=(t,e)=>{const r=(t&&t[Mm]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},m5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},g5=Oi("HTMLFormElement"),p5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),NC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),y5=Oi("RegExp"),QT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};xd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},x5=t=>{QT(t,(e,n)=>{if(Er(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Er(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},v5=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return uc(t)?r(t):r(String(t).split(e)),n},_5=()=>{},w5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function S5(t){return!!(t&&Er(t.append)&&t[KT]==="FormData"&&t[Mm])}const C5=t=>{const e=new Array(10),n=(r,i)=>{if(jm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=uc(r)?[]:{};return xd(r,(o,l)=>{const c=n(o,i+1);!zu(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},b5=Oi("AsyncFunction"),E5=t=>t&&(jm(t)||Er(t))&&Er(t.then)&&Er(t.catch),eP=((t,e)=>t?setImmediate:e?((n,r)=>(ma.addEventListener("message",({source:i,data:s})=>{i===ma&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ma.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Er(ma.postMessage)),R5=typeof queueMicrotask<"u"?queueMicrotask.bind(ma):typeof process<"u"&&process.nextTick||eP,T5=t=>t!=null&&Er(t[Mm]),oe={isArray:uc,isArrayBuffer:YT,isBuffer:U4,isFormData:Q4,isArrayBufferView:W4,isString:H4,isNumber:ZT,isBoolean:X4,isObject:jm,isPlainObject:Pf,isReadableStream:t5,isRequest:n5,isResponse:r5,isHeaders:i5,isUndefined:zu,isDate:K4,isFile:Y4,isBlob:Z4,isRegExp:y5,isFunction:Er,isStream:J4,isURLSearchParams:e5,isTypedArray:h5,isFileList:q4,forEach:xd,merge:E0,extend:o5,trim:s5,stripBOM:a5,inherits:l5,toFlatObject:c5,kindOf:Im,kindOfTest:Oi,endsWith:u5,toArray:d5,forEachEntry:f5,matchAll:m5,isHTMLForm:g5,hasOwnProperty:NC,hasOwnProp:NC,reduceDescriptors:QT,freezeMethods:x5,toObjectSet:v5,toCamelCase:p5,noop:_5,toFiniteNumber:w5,findKey:qT,global:ma,isContextDefined:JT,isSpecCompliantForm:S5,toJSONObject:C5,isAsyncFn:b5,isThenable:E5,setImmediate:eP,asap:R5,isIterable:T5};function ot(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const tP=ot.prototype,nP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nP[t]={value:t}});Object.defineProperties(ot,nP);Object.defineProperty(tP,"isAxiosError",{value:!0});ot.from=(t,e,n,r,i,s)=>{const o=Object.create(tP);return oe.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),ot.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const P5=null;function R0(t){return oe.isPlainObject(t)||oe.isArray(t)}function rP(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function jC(t,e,n){return t?t.concat(e).map(function(i,s){return i=rP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function k5(t){return oe.isArray(t)&&!t.some(R0)}const A5=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Fm(t,e,n){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,C){return!oe.isUndefined(C[w])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(oe.isDate(v))return v.toISOString();if(!c&&oe.isBlob(v))throw new ot("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(v)||oe.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,w,C){let b=v;if(v&&!C&&typeof v=="object"){if(oe.endsWith(w,"{}"))w=r?w:w.slice(0,-2),v=JSON.stringify(v);else if(oe.isArray(v)&&k5(v)||(oe.isFileList(v)||oe.endsWith(w,"[]"))&&(b=oe.toArray(v)))return w=rP(w),b.forEach(function(T,P){!(oe.isUndefined(T)||T===null)&&e.append(o===!0?jC([w],P,s):o===null?w:w+"[]",d(T))}),!1}return R0(v)?!0:(e.append(jC(C,w,s),d(v)),!1)}const f=[],p=Object.assign(A5,{defaultVisitor:h,convertValue:d,isVisitable:R0});function y(v,w){if(!oe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),oe.forEach(v,function(b,R){(!(oe.isUndefined(b)||b===null)&&i.call(e,b,oe.isString(R)?R.trim():R,w,p))===!0&&y(b,w?w.concat(R):[R])}),f.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function FC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function mv(t,e){this._pairs=[],t&&Fm(t,this,e)}const iP=mv.prototype;iP.append=function(e,n){this._pairs.push([e,n])};iP.toString=function(e){const n=e?function(r){return e.call(this,r,FC)}:FC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function M5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sP(t,e,n){if(!e)return t;const r=n&&n.encode||M5;oe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=oe.isURLSearchParams(e)?e.toString():new mv(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class LC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const oP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I5=typeof URLSearchParams<"u"?URLSearchParams:mv,N5=typeof FormData<"u"?FormData:null,j5=typeof Blob<"u"?Blob:null,F5={isBrowser:!0,classes:{URLSearchParams:I5,FormData:N5,Blob:j5},protocols:["http","https","file","blob","url","data"]},gv=typeof window<"u"&&typeof document<"u",T0=typeof navigator=="object"&&navigator||void 0,L5=gv&&(!T0||["ReactNative","NativeScript","NS"].indexOf(T0.product)<0),D5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O5=gv&&window.location.href||"http://localhost",V5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gv,hasStandardBrowserEnv:L5,hasStandardBrowserWebWorkerEnv:D5,navigator:T0,origin:O5},Symbol.toStringTag,{value:"Module"})),rr={...V5,...F5};function z5(t,e){return Fm(t,new rr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return rr.isNode&&oe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function $5(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function B5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function aP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&oe.isArray(i)?i.length:o,c?(oe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!oe.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&oe.isArray(i[o])&&(i[o]=B5(i[o])),!l)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const n={};return oe.forEachEntry(t,(r,i)=>{e($5(r),i,n,0)}),n}return null}function G5(t,e,n){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const vd={transitional:oP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(aP(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return z5(e,this.formSerializer).toString();if((l=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Fm(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),G5(e)):e}],transformResponse:[function(e){const n=this.transitional||vd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?ot.from(l,ot.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rr.classes.FormData,Blob:rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{vd.headers[t]={}});const U5=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&U5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},DC=Symbol("internals");function lu(t){return t&&String(t).trim().toLowerCase()}function kf(t){return t===!1||t==null?t:oe.isArray(t)?t.map(kf):String(t)}function H5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const X5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wy(t,e,n,r,i){if(oe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function K5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Y5(t,e){const n=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Rr=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,d){const h=lu(c);if(!h)throw new Error("header name must be a non-empty string");const f=oe.findKey(i,h);(!f||i[f]===void 0||d===!0||d===void 0&&i[f]!==!1)&&(i[f||c]=kf(l))}const o=(l,c)=>oe.forEach(l,(d,h)=>s(d,h,c));if(oe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(oe.isString(e)&&(e=e.trim())&&!X5(e))o(W5(e),n);else if(oe.isObject(e)&&oe.isIterable(e)){let l={},c,d;for(const h of e){if(!oe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?oe.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=lu(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return H5(i);if(oe.isFunction(n))return n.call(this,i,r);if(oe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=lu(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||wy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=lu(o),o){const l=oe.findKey(r,o);l&&(!n||wy(r,r[l],l,n))&&(delete r[l],i=!0)}}return oe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||wy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return oe.forEach(this,(i,s)=>{const o=oe.findKey(r,s);if(o){n[o]=kf(i),delete n[s];return}const l=e?K5(s):String(s).trim();l!==s&&delete n[s],n[l]=kf(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&oe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[DC]=this[DC]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=lu(o);r[l]||(Y5(i,o),r[l]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}};Rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Rr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});oe.freezeMethods(Rr);function Sy(t,e){const n=this||vd,r=e||n,i=Rr.from(r.headers);let s=r.data;return oe.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function lP(t){return!!(t&&t.__CANCEL__)}function dc(t,e,n){ot.call(this,t??"canceled",ot.ERR_CANCELED,e,n),this.name="CanceledError"}oe.inherits(dc,ot,{__CANCEL__:!0});function cP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ot("Request failed with status code "+n.status,[ot.ERR_BAD_REQUEST,ot.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Z5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function q5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[s];o||(o=d),n[i]=c,r[i]=d;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const y=h&&d-h;return y?Math.round(p*1e3/y):void 0}}function J5(t,e){let n=0,r=1e3/e,i,s;const o=(d,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=r?o(d,h):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Gf=(t,e,n=3)=>{let r=0;const i=q5(50,250);return J5(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),h=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},OC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},VC=t=>(...e)=>oe.asap(()=>t(...e)),Q5=rr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,rr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(rr.origin),rr.navigator&&/(msie|trident)/i.test(rr.navigator.userAgent)):()=>!0,e3=rr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];oe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oe.isString(r)&&o.push("path="+r),oe.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function n3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uP(t,e,n){let r=!t3(e);return t&&(r||n==!1)?n3(t,e):e}const zC=t=>t instanceof Rr?{...t}:t;function ka(t,e){e=e||{};const n={};function r(d,h,f,p){return oe.isPlainObject(d)&&oe.isPlainObject(h)?oe.merge.call({caseless:p},d,h):oe.isPlainObject(h)?oe.merge({},h):oe.isArray(h)?h.slice():h}function i(d,h,f,p){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d,f,p)}else return r(d,h,f,p)}function s(d,h){if(!oe.isUndefined(h))return r(void 0,h)}function o(d,h){if(oe.isUndefined(h)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,f){if(f in e)return r(d,h);if(f in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,f)=>i(zC(d),zC(h),f,!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=c[h]||i,p=f(t[h],e[h],h);oe.isUndefined(p)&&f!==l||(n[h]=p)}),n}const dP=t=>{const e=ka({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Rr.from(o),e.url=sP(uP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(oe.isFormData(n)){if(rr.hasStandardBrowserEnv||rr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(rr.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&Q5(e.url))){const d=i&&s&&e3.read(s);d&&o.set(i,d)}return e},r3=typeof XMLHttpRequest<"u",i3=r3&&function(t){return new Promise(function(n,r){const i=dP(t);let s=i.data;const o=Rr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,f,p,y,v;function w(){y&&y(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function b(){if(!C)return;const T=Rr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:T,config:t,request:C};cP(function(L){n(L),w()},function(L){r(L),w()},k),C=null}"onloadend"in C?C.onloadend=b:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(b)},C.onabort=function(){C&&(r(new ot("Request aborted",ot.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new ot("Network Error",ot.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||oP;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new ot(P,k.clarifyTimeoutError?ot.ETIMEDOUT:ot.ECONNABORTED,t,C)),C=null},s===void 0&&o.setContentType(null),"setRequestHeader"in C&&oe.forEach(o.toJSON(),function(P,k){C.setRequestHeader(k,P)}),oe.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),l&&l!=="json"&&(C.responseType=i.responseType),d&&([p,v]=Gf(d,!0),C.addEventListener("progress",p)),c&&C.upload&&([f,y]=Gf(c),C.upload.addEventListener("progress",f),C.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=T=>{C&&(r(!T||T.type?new dc(null,t,C):T),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const R=Z5(i.url);if(R&&rr.protocols.indexOf(R)===-1){r(new ot("Unsupported protocol "+R+":",ot.ERR_BAD_REQUEST,t));return}C.send(s||null)})},s3=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof ot?h:new dc(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new ot(`timeout ${e} of ms exceeded`,ot.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>oe.asap(l),c}},o3=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},a3=async function*(t,e){for await(const n of l3(t))yield*o3(n,e)},l3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},$C=(t,e,n,r)=>{const i=a3(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let f=h.byteLength;if(n){let p=s+=f;n(p)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Lm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hP=Lm&&typeof ReadableStream=="function",c3=Lm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),fP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},u3=hP&&fP(()=>{let t=!1;const e=new Request(rr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),BC=64*1024,P0=hP&&fP(()=>oe.isReadableStream(new Response("").body)),Uf={stream:P0&&(t=>t.body)};Lm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Uf[e]&&(Uf[e]=oe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ot(`Response type '${e}' is not supported`,ot.ERR_NOT_SUPPORT,r)})})})(new Response);const d3=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(rr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await c3(t)).byteLength},h3=async(t,e)=>{const n=oe.toFiniteNumber(t.getContentLength());return n??d3(e)},f3=Lm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:f="same-origin",fetchOptions:p}=dP(t);d=d?(d+"").toLowerCase():"text";let y=s3([i,s&&s.toAbortSignal()],o),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(c&&u3&&n!=="get"&&n!=="head"&&(C=await h3(h,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(oe.isFormData(r)&&(M=k.headers.get("content-type"))&&h.setContentType(M),k.body){const[L,I]=OC(C,Gf(VC(c)));r=$C(k.body,BC,L,I)}}oe.isString(f)||(f=f?"include":"omit");const b="credentials"in Request.prototype;v=new Request(e,{...p,signal:y,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:b?f:void 0});let R=await fetch(v);const T=P0&&(d==="stream"||d==="response");if(P0&&(l||T&&w)){const k={};["status","statusText","headers"].forEach(O=>{k[O]=R[O]});const M=oe.toFiniteNumber(R.headers.get("content-length")),[L,I]=l&&OC(M,Gf(VC(l),!0))||[];R=new Response($C(R.body,BC,L,()=>{I&&I(),w&&w()}),k)}d=d||"text";let P=await Uf[oe.findKey(Uf,d)||"text"](R,t);return!T&&w&&w(),await new Promise((k,M)=>{cP(k,M,{data:P,headers:Rr.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:v})})}catch(b){throw w&&w(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new ot("Network Error",ot.ERR_NETWORK,t,v),{cause:b.cause||b}):ot.from(b,b&&b.code,t,v)}}),k0={http:P5,xhr:i3,fetch:f3};oe.forEach(k0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const GC=t=>`- ${t}`,m3=t=>oe.isFunction(t)||t===null||t===!1,mP={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!m3(n)&&(r=k0[(o=String(n)).toLowerCase()],r===void 0))throw new ot(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(GC).join(`
`):" "+GC(s[0]):"as no adapter specified";throw new ot("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:k0};function Cy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new dc(null,t)}function UC(t){return Cy(t),t.headers=Rr.from(t.headers),t.data=Sy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mP.getAdapter(t.adapter||vd.adapter)(t).then(function(r){return Cy(t),r.data=Sy.call(t,t.transformResponse,r),r.headers=Rr.from(r.headers),r},function(r){return lP(r)||(Cy(t),r&&r.response&&(r.response.data=Sy.call(t,t.transformResponse,r.response),r.response.headers=Rr.from(r.response.headers))),Promise.reject(r)})}const gP="1.9.0",Dm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Dm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const WC={};Dm.transitional=function(e,n,r){function i(s,o){return"[Axios v"+gP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new ot(i(o," has been removed"+(n?" in "+n:"")),ot.ERR_DEPRECATED);return n&&!WC[o]&&(WC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Dm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function g3(t,e,n){if(typeof t!="object")throw new ot("options must be an object",ot.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new ot("option "+s+" must be "+c,ot.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ot("Unknown option "+s,ot.ERR_BAD_OPTION)}}const Af={assertOptions:g3,validators:Dm},Ki=Af.validators;let Sa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new LC,response:new LC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ka(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Af.assertOptions(r,{silentJSONParsing:Ki.transitional(Ki.boolean),forcedJSONParsing:Ki.transitional(Ki.boolean),clarifyTimeoutError:Ki.transitional(Ki.boolean)},!1),i!=null&&(oe.isFunction(i)?n.paramsSerializer={serialize:i}:Af.assertOptions(i,{encode:Ki.function,serialize:Ki.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Af.assertOptions(n,{baseUrl:Ki.spelling("baseURL"),withXsrfToken:Ki.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[n.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Rr.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,f=0,p;if(!c){const v=[UC.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,d),p=v.length,h=Promise.resolve(n);f<p;)h=h.then(v[f++],v[f++]);return h}p=l.length;let y=n;for(f=0;f<p;){const v=l[f++],w=l[f++];try{y=v(y)}catch(C){w.call(this,C);break}}try{h=UC.call(this,y)}catch(v){return Promise.reject(v)}for(f=0,p=d.length;f<p;)h=h.then(d[f++],d[f++]);return h}getUri(e){e=ka(this.defaults,e);const n=uP(e.baseURL,e.url,e.allowAbsoluteUrls);return sP(n,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){Sa.prototype[e]=function(n,r){return this.request(ka(r||{},{method:e,url:n,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(ka(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Sa.prototype[e]=n(),Sa.prototype[e+"Form"]=n(!0)});let p3=class pP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new dc(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new pP(function(i){e=i}),cancel:e}}};function y3(t){return function(n){return t.apply(null,n)}}function x3(t){return oe.isObject(t)&&t.isAxiosError===!0}const A0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(A0).forEach(([t,e])=>{A0[e]=t});function yP(t){const e=new Sa(t),n=XT(Sa.prototype.request,e);return oe.extend(n,Sa.prototype,e,{allOwnKeys:!0}),oe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return yP(ka(t,i))},n}const un=yP(vd);un.Axios=Sa;un.CanceledError=dc;un.CancelToken=p3;un.isCancel=lP;un.VERSION=gP;un.toFormData=Fm;un.AxiosError=ot;un.Cancel=un.CanceledError;un.all=function(e){return Promise.all(e)};un.spread=y3;un.isAxiosError=x3;un.mergeConfig=ka;un.AxiosHeaders=Rr;un.formToJSON=t=>aP(oe.isHTMLForm(t)?new FormData(t):t);un.getAdapter=mP.getAdapter;un.HttpStatusCode=A0;un.default=un;const{Axios:Iee,AxiosError:Nee,CanceledError:jee,isCancel:Fee,CancelToken:Lee,VERSION:Dee,all:Oee,Cancel:Vee,isAxiosError:zee,spread:$ee,toFormData:Bee,AxiosHeaders:Gee,HttpStatusCode:Uee,formToJSON:Wee,getAdapter:Hee,mergeConfig:Xee}=un,xP="http://192.168.1.35:5000",Om=un.create({baseURL:xP,withCredentials:!0,headers:{"Content-Type":"application/json"}});Om.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});async function kt(t,e={}){const n=localStorage.getItem("token"),r=e.headers?{...e.headers}:{};n&&(r.Authorization=`Bearer ${n}`);const i=`${xP}${t}`;return await fetch(i,{credentials:"include",...e,headers:r})}const v3=async t=>{try{return(await Om.post("/api/user/login",t,{withCredentials:!0})).data}catch(e){throw e.response?new Error(e.response.data.message||"Error de autenticacin."):new Error("No se pudo conectar con el servidor.")}},_3=async()=>{try{return(await Om.post("/api/user/logout",{},{withCredentials:!0})).data}catch{throw new Error("Error al cerrar sesin.")}},w3=async()=>{try{return(await Om.get("/api/user/session",{withCredentials:!0})).data}catch(t){if(t.response&&t.response.status===401)return{authenticated:!1};throw new Error("Error al verificar sesin.")}},vP=_.createContext(null),Vm=()=>_.useContext(vP);function S3({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{(async()=>{try{const c=await w3();c.authenticated?n(c.user):n(null)}catch(c){console.log(" No autenticado:",c.message),n(null)}finally{i(!1)}})()},[]);const s=async l=>{const c=await v3(l);return c.status==="ok"&&(n(c.user),c.access_token&&localStorage.setItem("token",c.access_token)),c},o=async()=>{await _3(),localStorage.removeItem("token"),n(null)};return g.jsx(vP.Provider,{value:{user:e,login:s,logout:o,isAuthenticated:!!e,loading:r},children:t})}function C3({menuOpen:t,setMenuOpen:e}){Di();const n=gd(),{logout:r}=Vm(),[i,s]=_.useState({width:window.innerWidth,height:window.innerHeight}),o=d=>{e(!1),setTimeout(()=>{n(d,{replace:!0})},100)},l=d=>{d.stopPropagation()},c=async()=>{await r(),n("/login",{replace:!0})};return _.useEffect(()=>{const d=()=>{s({width:window.innerWidth,height:window.innerHeight})},h=f=>{f.key==="Escape"&&e(!1)};return window.addEventListener("resize",d),document.addEventListener("keydown",h),()=>{window.removeEventListener("resize",d),document.removeEventListener("keydown",h)}},[e]),g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:g.jsx("button",{onClick:()=>e(!0),className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(h4,{className:"w-6 h-6 text-gray-800"})})}),t&&g.jsxs("div",{className:"fixed inset-0 bg-white/60 backdrop-blur-md z-50 transition-all duration-300 ease-in-out animate-slide-in-left",onClick:()=>e(!1),children:[g.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-6 text-lg text-gray-700 hover:text-red-600",children:""}),g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center px-4 text-center",onClick:l,children:[[["Mapa","/mapa"],["Parcelas","/parcelas"],["Campos","/campos"],["Alertas","/alertas"],["Animales","/animales"]].map(([d,h])=>g.jsx("button",{onClick:()=>o(h),className:`w-full text-gray-800 font-semibold hover:text-green-600 transition-all\r
                                    text-xl sm:text-2xl md:text-3xl lg:text-4xl menu-button`,children:d},h)),g.jsxs("button",{onClick:c,className:"mt-10 text-red-600 hover:text-red-800 flex items-center gap-2 text-lg",children:[g.jsx(YV,{className:"w-5 h-5"}),"Cerrar sesin"]})]})]},i.width)]})}function b3(){const[t,e]=_.useState(!1);return{menuOpen:t,setMenuOpen:e}}function cu({label:t,icon:e,path:n,current:r,navigate:i,full:s=!1,onClick:o}){const l=()=>{i(n),o&&o()};return g.jsxs("button",{onClick:l,className:`h-full w-full flex flex-col items-center justify-center flex-1 py-1
                        ${r===n?"text-green-600 font-semibold":"text-gray-700"}
                        transition-all`,children:[g.jsx("span",{className:"text-lg",children:e}),g.jsx("span",{className:"text-[10px] min-[400px]:block hidden leading-none",children:t})]})}function E3({setMenuOpen:t}){const e=Di(),n=gd(),r=i=>{t(!1),setTimeout(()=>{n(i,{replace:!0})},100)};return g.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-16 z-50 bg-white border-t flex justify-around items-center",children:[g.jsx(cu,{label:"Campos",icon:g.jsx(dv,{}),path:"/campos",current:e.pathname,navigate:r}),g.jsx(cu,{label:"Parcelas",icon:g.jsx($T,{}),path:"/parcelas",current:e.pathname,navigate:r}),g.jsx(cu,{label:"Mapa",icon:g.jsx(l4,{}),path:"/mapa",current:e.pathname,navigate:r}),g.jsx(cu,{label:"Alertas",icon:g.jsx(QO,{}),path:"/alertas",current:e.pathname,navigate:r}),g.jsx(cu,{label:"Animales",icon:g.jsx(ko,{}),path:"/animales",current:e.pathname,navigate:r})]})}function R3(){const{login:t,isAuthenticated:e,loading:n}=Vm(),r=gd(),[i,s]=_.useState({username:"",password:""}),[o,l]=_.useState(null),[c,d]=_.useState(!1);_.useEffect(()=>{!n&&e&&r("/mapa",{replace:!0})},[n,e,r]);const h=p=>{s({...i,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault(),d(!0),l(null);try{await t(i),r("/mapa")}catch(y){l(y.message||"Error de autenticacin"),d(!1)}};return n?g.jsx("div",{className:"text-center text-red-600 mt-10",children:"Verificando sesin..."}):g.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-green-50 bg-gray-400",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white shadow-xl rounded-xl overflow-hidden max-w-4xl w-full",children:[g.jsx("div",{className:"hidden md:block w-1/2 min-h-[500px] bg-cover bg-center",style:{backgroundImage:"url('https://i.pinimg.com/736x/4f/ec/ee/4fecee3b0ba71316c5ffe25a78265c9e.jpg')"}}),g.jsxs("form",{onSubmit:f,className:"p-8 w-full md:w-1/2",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 text-center",children:"Bienvenido"}),g.jsx("p",{className:"text-sm text-gray-500 mb-6 text-center",children:"Acced a tu sistema de gestin ganadera"}),o&&g.jsx("p",{className:"text-red-600 text-sm mb-4 text-center",children:o}),g.jsxs("div",{className:"mb-4 relative",children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario"}),g.jsxs("div",{className:"flex items-center border rounded-xl shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(_V,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:i.username,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsxs("div",{className:"mb-6 relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),g.jsxs("div",{className:"flex items-center border rounded-xl shadow-sm px-3 py-2 bg-gray-50 focus-within:ring-2 focus:ring-gray-500",children:[g.jsx(XV,{className:"text-gray-400 mr-2"}),g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:i.password,onChange:h,required:!0,className:"bg-transparent w-full focus:outline-none"})]})]}),g.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-black text-white font-semibold rounded-xl hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition",children:c?"Ingresando...":"Ingresar"})]})]})})}function HC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zm(...t){return e=>{let n=!1;const r=t.map(i=>{const s=HC(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():HC(t[i],null)}}}}function mt(...t){return _.useCallback(zm(...t),t)}function Aa(t){const e=T3(t),n=_.forwardRef((r,i)=>{const{children:s,...o}=r,l=_.Children.toArray(s),c=l.find(k3);if(c){const d=c.props.children,h=l.map(f=>f===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:f);return g.jsx(e,{...o,ref:i,children:_.isValidElement(d)?_.cloneElement(d,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var _P=Aa("Slot");function T3(t){const e=_.forwardRef((n,r)=>{const{children:i,...s}=n;if(_.isValidElement(i)){const o=M3(i),l=A3(s,i.props);return i.type!==_.Fragment&&(l.ref=r?zm(r,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wP=Symbol("radix.slottable");function P3(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=wP,e}function k3(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wP}function A3(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function M3(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function SP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SP(t))&&(r&&(r+=" "),r+=e);return r}const XC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KC=CP,pv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return KC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],f=s==null?void 0:s[d];if(h===null)return null;const p=XC(h)||XC(f);return i[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(v=>{let[w,C]=v;return Array.isArray(C)?C.includes({...s,...l}[w]):{...s,...l}[w]===C})?[...d,f,p]:d},[]);return KC(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},yv="-",I3=t=>{const e=j3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(yv);return l[0]===""&&l.length!==1&&l.shift(),bP(l,e)||N3(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},bP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?bP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(yv);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},YC=/^\[(.+)\]$/,N3=t=>{if(YC.test(t)){const e=YC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},j3=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)M0(n[i],r,i,e);return r},M0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:ZC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(F3(i)){M0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{M0(o,ZC(e,s),n,r)})})},ZC=(t,e)=>{let n=t;return e.split(yv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},F3=t=>t.isThemeGetter,L3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},I0="!",N0=":",D3=N0.length,O3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,c=0,d;for(let v=0;v<i.length;v++){let w=i[v];if(o===0&&l===0){if(w===N0){s.push(i.slice(c,v)),c=v+D3;continue}if(w==="/"){d=v;continue}}w==="["?o++:w==="]"?o--:w==="("?l++:w===")"&&l--}const h=s.length===0?i:i.substring(c),f=V3(h),p=f!==h,y=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:y}};if(e){const i=e+N0,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},V3=t=>t.endsWith(I0)?t.substring(0,t.length-1):t.startsWith(I0)?t.substring(1):t,z3=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},$3=t=>({cache:L3(t.cacheSize),parseClassName:O3(t),sortModifiers:z3(t),...I3(t)}),B3=/\s+/,G3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(B3);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:f,modifiers:p,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let C=!!w,b=r(C?v.substring(0,w):v);if(!b){if(!C){c=h+(c.length>0?" "+c:c);continue}if(b=r(v),!b){c=h+(c.length>0?" "+c:c);continue}C=!1}const R=s(p).join(":"),T=y?R+I0:R,P=T+b;if(o.includes(P))continue;o.push(P);const k=i(b,C);for(let M=0;M<k.length;++M){const L=k[M];o.push(T+L)}c=h+(c.length>0?" "+c:c)}return c};function U3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=EP(e))&&(r&&(r+=" "),r+=n);return r}const EP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=EP(t[r]))&&(n&&(n+=" "),n+=e);return n};function W3(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=$3(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=G3(c,n);return i(c,h),h}return function(){return s(U3.apply(null,arguments))}}const bn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H3=/^\d+\/\d+$/,X3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Z3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pl=t=>H3.test(t),ct=t=>!!t&&!Number.isNaN(Number(t)),ho=t=>!!t&&Number.isInteger(Number(t)),by=t=>t.endsWith("%")&&ct(t.slice(0,-1)),Cs=t=>X3.test(t),J3=()=>!0,Q3=t=>K3.test(t)&&!Y3.test(t),PP=()=>!1,ez=t=>Z3.test(t),tz=t=>q3.test(t),nz=t=>!Me(t)&&!Ie(t),rz=t=>hc(t,MP,PP),Me=t=>RP.test(t),ia=t=>hc(t,IP,Q3),Ey=t=>hc(t,lz,ct),qC=t=>hc(t,kP,PP),iz=t=>hc(t,AP,tz),Kh=t=>hc(t,NP,ez),Ie=t=>TP.test(t),uu=t=>fc(t,IP),sz=t=>fc(t,cz),JC=t=>fc(t,kP),oz=t=>fc(t,MP),az=t=>fc(t,AP),Yh=t=>fc(t,NP,!0),hc=(t,e,n)=>{const r=RP.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},fc=(t,e,n=!1)=>{const r=TP.exec(t);return r?r[1]?e(r[1]):n:!1},kP=t=>t==="position"||t==="percentage",AP=t=>t==="image"||t==="url",MP=t=>t==="length"||t==="size"||t==="bg-size",IP=t=>t==="length",lz=t=>t==="number",cz=t=>t==="family-name",NP=t=>t==="shadow",uz=()=>{const t=bn("color"),e=bn("font"),n=bn("text"),r=bn("font-weight"),i=bn("tracking"),s=bn("leading"),o=bn("breakpoint"),l=bn("container"),c=bn("spacing"),d=bn("radius"),h=bn("shadow"),f=bn("inset-shadow"),p=bn("text-shadow"),y=bn("drop-shadow"),v=bn("blur"),w=bn("perspective"),C=bn("aspect"),b=bn("ease"),R=bn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...P(),Ie,Me],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],I=()=>[Ie,Me,c],O=()=>[pl,"full","auto",...I()],W=()=>[ho,"none","subgrid",Ie,Me],z=()=>["auto",{span:["full",ho,Ie,Me]},ho,Ie,Me],X=()=>[ho,"auto",Ie,Me],G=()=>["auto","min","max","fr",Ie,Me],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...I()],F=()=>[pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],N=()=>[t,Ie,Me],B=()=>[...P(),JC,qC,{position:[Ie,Me]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",oz,rz,{size:[Ie,Me]}],D=()=>[by,uu,ia],re=()=>["","none","full",d,Ie,Me],ie=()=>["",ct,uu,ia],ce=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[ct,by,JC,qC],xe=()=>["","none",v,Ie,Me],Se=()=>["none",ct,Ie,Me],Ee=()=>["none",ct,Ie,Me],Xe=()=>[ct,Ie,Me],Ve=()=>[pl,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Cs],breakpoint:[Cs],color:[J3],container:[Cs],"drop-shadow":[Cs],ease:["in","out","in-out"],font:[nz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Cs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Cs],shadow:[Cs],spacing:["px",ct],text:[Cs],"text-shadow":[Cs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pl,Me,Ie,C]}],container:["container"],columns:[{columns:[ct,Me,Ie,l]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[ho,"auto",Ie,Me]}],basis:[{basis:[pl,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ct,pl,"auto","initial","none",Me]}],grow:[{grow:["",ct,Ie,Me]}],shrink:[{shrink:["",ct,Ie,Me]}],order:[{order:[ho,"first","last","none",Ie,Me]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[l,"screen",...F()]}],"min-w":[{"min-w":[l,"screen","none",...F()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,uu,ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ie,Ey]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",by,Me]}],"font-family":[{font:[sz,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ie,Me]}],"line-clamp":[{"line-clamp":[ct,"none",Ie,Ey]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",Ie,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[ct,"from-font","auto",Ie,ia]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[ct,"auto",Ie,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ho,Ie,Me],radial:["",Ie,Me],conic:[ho,Ie,Me]},az,iz]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:D()}],"gradient-via-pos":[{via:D()}],"gradient-to-pos":[{to:D()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ct,Ie,Me]}],"outline-w":[{outline:["",ct,uu,ia]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",h,Yh,Kh]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",f,Yh,Kh]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[ct,ia]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",p,Yh,Kh]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[ct,Ie,Me]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[Ie,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Me]}],filter:[{filter:["","none",Ie,Me]}],blur:[{blur:xe()}],brightness:[{brightness:[ct,Ie,Me]}],contrast:[{contrast:[ct,Ie,Me]}],"drop-shadow":[{"drop-shadow":["","none",y,Yh,Kh]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",ct,Ie,Me]}],"hue-rotate":[{"hue-rotate":[ct,Ie,Me]}],invert:[{invert:["",ct,Ie,Me]}],saturate:[{saturate:[ct,Ie,Me]}],sepia:[{sepia:["",ct,Ie,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Me]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[ct,Ie,Me]}],"backdrop-contrast":[{"backdrop-contrast":[ct,Ie,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ct,Ie,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ct,Ie,Me]}],"backdrop-invert":[{"backdrop-invert":["",ct,Ie,Me]}],"backdrop-opacity":[{"backdrop-opacity":[ct,Ie,Me]}],"backdrop-saturate":[{"backdrop-saturate":[ct,Ie,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",ct,Ie,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ct,"initial",Ie,Me]}],ease:[{ease:["linear","initial",b,Ie,Me]}],delay:[{delay:[ct,Ie,Me]}],animate:[{animate:["none",R,Ie,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ie,Me]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Xe()}],"skew-x":[{"skew-x":Xe()}],"skew-y":[{"skew-y":Xe()}],transform:[{transform:[Ie,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Me]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[ct,uu,ia,Ey]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dz=W3(uz);function Oe(...t){return dz(CP(t))}function hz(){const[t,e]=_.useState(0);return _.useEffect(()=>{const n=()=>e(window.innerWidth);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}const Pl={xs:640,sm:850,md:1040,lg:1200,xl:1390,xxl:1540},fz=pv("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-8",xs:"h-4 px-2 py-2",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),st=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?_P:"button";return g.jsx(o,{className:Oe(fz({variant:e,size:n,className:t})),ref:s,...i})});st.displayName="Button";function As({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i,confirmText:s="Aceptar",cancelText:o="Cancelar",children:l=null,confirmVariant:c="default",confirmColor:d="bg-black hover:bg-gray-700",cancelVariant:h="outline",icon:f=null,size:p="md"}){if(_.useEffect(()=>{if(t){const v=setTimeout(()=>{if(!l){const w=document.querySelector(".modal-footer-confirm-button");w&&w.focus()}},50);return()=>clearTimeout(v)}},[t,l]),!t)return null;const y={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",xxxxl:"max-w-4xl",full:"max-w-full"};return Ba.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onKeyDown:v=>{v.key==="Escape"&&(i==null||i())},tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",children:g.jsx("div",{className:`bg-white p-4 rounded-xl shadow-xl w-full relative ${y[p]||y.md}`,children:l||g.jsxs(g.Fragment,{children:[g.jsxs("h2",{id:"modal-title",className:"text-lg font-bold mb-2 flex items-center gap-2",children:[f&&g.jsx("span",{className:"mr-1",children:f}),e]}),n&&g.jsx("p",{id:"modal-description",className:"text-sm text-gray-700 mb-4",children:n}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(st,{variant:h,onClick:i,className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:o}),g.jsx(st,{variant:c,onClick:r,className:`gap-2 ${d} text-white shadow-md w-full sm:w-auto modal-footer-confirm-button`,children:s})]})]})})}),document.body)}function xv({isOpen:t,message:e,onClose:n}){return _.useEffect(()=>{if(t){const r=setTimeout(()=>{const i=document.querySelector(".modal-info-confirm-button");i&&i.focus()},50);return()=>clearTimeout(r)}},[t]),t?Ba.createPortal(g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4",children:g.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg w-full max-w-sm text-center",role:"dialog","aria-modal":"true","aria-labelledby":"info-modal-title","aria-describedby":"info-modal-description",children:[g.jsx("h2",{id:"info-modal-title",className:"sr-only",children:"Informacin"}),g.jsx("p",{id:"info-modal-description",className:"text-sm text-gray-700 mb-4",children:e}),g.jsx(st,{onClick:n,className:"modal-info-confirm-button w-full sm:w-auto",children:"OK"})]})}),document.body):null}class Vi{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Hl={PROPERTYCHANGE:"propertychange"};class vv{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function mz(t,e,n){let r,i;n=n||Ma;let s=0,o=t.length,l=!1;for(;s<o;)r=s+(o-s>>1),i=+n(t[r],e),i<0?s=r+1:(o=r,l=!i);return l?s:~s}function Ma(t,e){return t>e?1:t<e?-1:0}function _v(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return typeof n=="function"?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function gz(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function ki(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function Ws(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function pz(t,e,n){const r=e||Ma;return t.every(function(i,s){if(s===0)return!0;const o=r(t[s-1],i);return!(o>0||o===0)})}function Ia(){return!0}function _d(){return!1}function Xl(){}function yz(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!Ws(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function mc(t){for(const e in t)delete t[e]}function Kl(t){let e;for(e in t)return!1;return!e}class $m extends vv{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Vi(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in o||(o[r]=0,l[r]=0),++o[r];let c;for(let d=0,h=i.length;d<h;++d)if("handleEvent"in i[d]?c=i[d].handleEvent(s):c=i[d].call(this,s),c===!1||s.propagationStopped){c=!1;break}if(--o[r]===0){let d=l[r];for(delete l[r];d--;)this.removeEventListener(r,Xl);delete o[r]}return c}disposeInternal(){this.listeners_&&mc(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=Xl,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}}const et={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function _t(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function Wf(t,e,n,r){return _t(t,e,n,r,!0)}function Gt(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),mc(t))}class wd extends $m{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(et.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=_t(this,e[s],n);return i}return _t(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=Wf(this,e[s],n)}else r=Wf(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)xz(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}wd.prototype.on;wd.prototype.once;wd.prototype.un;function xz(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Gt(t[e]);else Gt(t)}function Qe(){throw new Error("Unimplemented abstract method.")}let vz=0;function tt(t){return t.ol_uid||(t.ol_uid=String(++vz))}class QC extends Vi{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class zi extends wd{constructor(e){super(),this.on,this.once,this.un,tt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new QC(r,e,n)),r=Hl.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new QC(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],Kl(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}const _z={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class jP extends Error{constructor(e){const n=_z[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}function ut(t,e){if(!t)throw new jP(e)}let nr=class FP extends zi{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new FP(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Gt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=_t(e,et.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?wz(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function wz(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(ut(typeof t.getZIndex=="function",41),e=[t]),function(){return e}}const Ao=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Sz=Ao.includes("firefox"),Cz=Ao.includes("safari")&&!Ao.includes("chrom");Cz&&(Ao.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ao));const bz=Ao.includes("webkit")&&!Ao.includes("edge"),Ez=Ao.includes("macintosh"),LP=typeof devicePixelRatio<"u"?devicePixelRatio:1,wv=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Rz=typeof Image<"u"&&Image.prototype.decode,DP=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();new Array(6);function is(){return[1,0,0,1,0,0]}function Tz(t,e,n,r,i,s,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t}function Pz(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ln(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function kz(t,e,n){return Tz(t,e,0,0,n,0,0)}function Mo(t,e,n,r,i,s,o,l){const c=Math.sin(s),d=Math.cos(s);return t[0]=r*d,t[1]=i*c,t[2]=-r*c,t[3]=i*d,t[4]=o*r*d-l*r*c+e,t[5]=o*i*c+l*i*d+n,t}function Sv(t,e){const n=Az(e);ut(n!==0,32);const r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],c=e[5];return t[0]=o/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*c-o*l)/n,t[5]=-(r*c-i*l)/n,t}function Az(t){return t[0]*t[3]-t[1]*t[2]}let eb;function OP(t){const e="matrix("+t.join(", ")+")";if(wv)return e;const n=eb||(eb=document.createElement("div"));return n.style.transform=e,n.style.transform}const Fn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function xi(t){const e=Gr();for(let n=0,r=t.length;n<r;++n)Eu(e,t[n]);return e}function Sd(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function VP(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Ga(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function Bm(t,e){return Cv(t,e[0],e[1])}function ga(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Cv(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function j0(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],o=e[0],l=e[1];let c=Fn.UNKNOWN;return o<n?c=c|Fn.LEFT:o>i&&(c=c|Fn.RIGHT),l<r?c=c|Fn.BELOW:l>s&&(c=c|Fn.ABOVE),c===Fn.UNKNOWN&&(c=Fn.INTERSECTING),c}function Gr(){return[1/0,1/0,-1/0,-1/0]}function Ds(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function Cd(t){return Ds(1/0,1/0,-1/0,-1/0,t)}function bu(t,e){const n=t[0],r=t[1];return Ds(n,r,n,r,e)}function zP(t,e,n,r,i){const s=Cd(i);return BP(s,t,e,n,r)}function $u(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function $P(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Eu(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function BP(t,e,n,r,i){for(;n<r;n+=i)Mz(t,e[n],e[n+1]);return t}function Mz(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function GP(t,e){let n;return n=e(Gm(t)),n||(n=e(Um(t)),n)||(n=e(Wm(t)),n)||(n=e(Ua(t)),n)?n:!1}function F0(t){let e=0;return bv(t)||(e=Xt(t)*us(t)),e}function Gm(t){return[t[0],t[1]]}function Um(t){return[t[2],t[1]]}function Io(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Iz(t,e){let n;return e==="bottom-left"?n=Gm(t):e==="bottom-right"?n=Um(t):e==="top-left"?n=Ua(t):e==="top-right"?n=Wm(t):ut(!1,13),n}function L0(t,e,n,r,i){const[s,o,l,c,d,h,f,p]=D0(t,e,n,r);return Ds(Math.min(s,l,d,f),Math.min(o,c,h,p),Math.max(s,l,d,f),Math.max(o,c,h,p),i)}function D0(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,o=Math.cos(n),l=Math.sin(n),c=i*o,d=i*l,h=s*o,f=s*l,p=t[0],y=t[1];return[p-c+f,y-d-h,p-c-f,y-d+h,p+c-f,y+d+h,p+c+f,y+d-h,p-c+f,y-d-h]}function us(t){return t[3]-t[1]}function Ru(t,e,n){const r=n||Gr();return ur(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):Cd(r),r}function Ua(t){return[t[0],t[3]]}function Wm(t){return[t[2],t[3]]}function Xt(t){return t[2]-t[0]}function ur(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function bv(t){return t[2]<t[0]||t[3]<t[1]}function Nz(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function jz(t,e,n){let r=!1;const i=j0(t,e),s=j0(t,n);if(i===Fn.INTERSECTING||s===Fn.INTERSECTING)r=!0;else{const o=t[0],l=t[1],c=t[2],d=t[3],h=e[0],f=e[1],p=n[0],y=n[1],v=(y-f)/(p-h);let w,C;s&Fn.ABOVE&&!(i&Fn.ABOVE)&&(w=p-(y-d)/v,r=w>=o&&w<=c),!r&&s&Fn.RIGHT&&!(i&Fn.RIGHT)&&(C=y-(p-c)*v,r=C>=l&&C<=d),!r&&s&Fn.BELOW&&!(i&Fn.BELOW)&&(w=p-(y-l)/v,r=w>=o&&w<=c),!r&&s&Fn.LEFT&&!(i&Fn.LEFT)&&(C=y-(p-o)*v,r=C>=l&&C<=d)}return r}function UP(t,e){const n=e.getExtent(),r=Io(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=Xt(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}function Fz(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];UP(t,e);const r=Xt(n);if(Xt(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}const Ev={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class WP{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Ev[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const bd=6378137,Fl=Math.PI*bd,Lz=[-Fl,-Fl,Fl,Fl],Dz=[-180,-85,180,85],Zh=bd*Math.log(Math.tan(Math.PI/2));class yl extends WP{constructor(e){super({code:e,units:"m",extent:Lz,global:!0,worldExtent:Dz,getPointResolution:function(n,r){return n/Math.cosh(r[1]/bd)}})}}const tb=[new yl("EPSG:3857"),new yl("EPSG:102100"),new yl("EPSG:102113"),new yl("EPSG:900913"),new yl("http://www.opengis.net/def/crs/EPSG/0/3857"),new yl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Oz(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=Fl*t[i]/180;let s=bd*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>Zh?s=Zh:s<-Zh&&(s=-Zh),e[i+1]=s}return e}function Vz(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Fl,e[i+1]=360*Math.atan(Math.exp(t[i+1]/bd))/Math.PI-90;return e}const zz=6378137,nb=[-180,-90,180,90],$z=Math.PI*zz/180;class sa extends WP{constructor(e,n){super({code:e,units:"degrees",extent:nb,axisOrientation:n,global:!0,metersPerUnit:$z,worldExtent:nb})}}const rb=[new sa("CRS:84"),new sa("EPSG:4326","neu"),new sa("urn:ogc:def:crs:OGC:1.3:CRS84"),new sa("urn:ogc:def:crs:OGC:2:84"),new sa("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new sa("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new sa("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let O0={};function Bz(t){return O0[t]||O0[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Gz(t,e){O0[t]=e}let $l={};function Hf(t,e,n){const r=t.getCode(),i=e.getCode();r in $l||($l[r]={}),$l[r][i]=n}function Uz(t,e){let n;return t in $l&&e in $l[t]&&(n=$l[t][e]),n}function xn(t,e,n){return Math.min(Math.max(t,e),n)}function Wz(t,e,n,r,i,s){const o=i-n,l=s-r;if(o!==0||l!==0){const c=((t-n)*o+(e-r)*l)/(o*o+l*l);c>1?(n=i,r=s):c>0&&(n+=o*c,r+=l*c)}return Ca(t,e,n,r)}function Ca(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function Hz(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let l=r+1;l<e;l++){const c=Math.abs(t[l][r]);c>s&&(s=c,i=l)}if(s===0)return null;const o=t[i];t[i]=t[r],t[r]=o;for(let l=r+1;l<e;l++){const c=-t[l][r]/t[r][r];for(let d=r;d<e+1;d++)r==d?t[l][d]=0:t[l][d]+=c*t[r][d]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function ba(t){return t*Math.PI/180}function Ea(t,e){const n=t%e;return n*e<0?n+e:n}function Dr(t,e,n){return t+n*(e-t)}function Rv(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function qh(t,e){return Math.floor(Rv(t,e))}function Jh(t,e){return Math.ceil(Rv(t,e))}function HP(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function XP(t,e){const n=t[0],r=t[1],i=e[0],s=e[1],o=i[0],l=i[1],c=s[0],d=s[1],h=c-o,f=d-l,p=h===0&&f===0?0:(h*(n-o)+f*(r-l))/(h*h+f*f||0);let y,v;return p<=0?(y=o,v=l):p>=1?(y=c,v=d):(y=o+p*h,v=l+p*f),[y,v]}function Si(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Tv(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function KP(t,e){return t[0]*=e,t[1]*=e,t}function Bu(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function ib(t,e){return Math.sqrt(Bu(t,e))}function Xz(t,e){return Bu(t,XP(t,e))}function YP(t,e){if(e.canWrapX()){const n=Xt(e.getExtent()),r=Kz(t,e,n);r&&(t[0]-=r*n)}return t}function Kz(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||Xt(r),i=Math.floor((t[0]-r[0])/n)),i}const ZP=63710088e-1;function sb(t,e,n){n=n||ZP;const r=ba(t[1]),i=ba(e[1]),s=(i-r)/2,o=ba(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Qh(t,e){let n=0;const r=t.length;let i=t[r-1][0],s=t[r-1][1];for(let o=0;o<r;o++){const l=t[o][0],c=t[o][1];n+=ba(l-i)*(2+Math.sin(ba(s))+Math.sin(ba(c))),i=l,s=c}return n*e*e/2}function Hm(t,e){e=e||{};const n=e.radius||ZP,r=e.projection||"EPSG:3857",i=t.getType();i!=="GeometryCollection"&&(t=t.clone().transform(r,"EPSG:4326"));let s=0,o,l,c,d,h,f;switch(i){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":{for(o=t.getCoordinates(),s=Math.abs(Qh(o[0],n)),c=1,d=o.length;c<d;++c)s-=Math.abs(Qh(o[c],n));break}case"MultiPolygon":{for(o=t.getCoordinates(),c=0,d=o.length;c<d;++c)for(l=o[c],s+=Math.abs(Qh(l[0],n)),h=1,f=l.length;h<f;++h)s-=Math.abs(Qh(l[h],n));break}case"GeometryCollection":{const p=t.getGeometries();for(c=0,d=p.length;c<d;++c)s+=Hm(p[c],e);break}default:throw new Error("Unsupported geometry type: "+i)}return s}function qP(...t){console.warn(...t)}let V0=!0;function JP(t){V0=!1}function Pv(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function QP(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function Yz(t){Gz(t.getCode(),t),Hf(t,t,Pv)}function Zz(t){t.forEach(Yz)}function vn(t){return typeof t=="string"?Bz(t):t||null}function ob(t,e,n,r){t=vn(t);let i;const s=t.getPointResolutionFunc();if(s)i=s(e,n);else{const o=t.getUnits();if(o=="degrees"||r=="degrees")i=e;else{const l=Av(t,vn("EPSG:4326"));if(l===QP&&o!=="degrees")i=e*t.getMetersPerUnit();else{let d=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];d=l(d,d,2);const h=sb(d.slice(0,2),d.slice(2,4)),f=sb(d.slice(4,6),d.slice(6,8));i=(h+f)/2}const c=t.getMetersPerUnit();c!==void 0&&(i/=c)}}return i}function ab(t){Zz(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Hf(e,n,Pv)})})}function qz(t,e,n,r){t.forEach(function(i){e.forEach(function(s){Hf(i,s,n),Hf(s,i,r)})})}function kv(t,e){if(t){if(typeof t=="string")return vn(t)}else return vn(e);return t}function Xm(t,e){return JP(),Mv(t,"EPSG:4326","EPSG:3857")}function ek(t,e){const n=Mv(t,"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=Ea(r+180,360)-180),n}function fa(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Av(t,e)===Pv)&&n}function Av(t,e){const n=t.getCode(),r=e.getCode();let i=Uz(n,r);return i||(i=QP),i}function Xf(t,e){const n=vn(t),r=vn(e);return Av(n,r)}function Mv(t,e,n){return Xf(e,n)(t,void 0,t.length)}function Gu(t,e){return t}function Pn(t,e){return V0&&!Si(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(V0=!1,qP("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function Iv(t,e){return t}function Co(t,e){return t}function Jz(){ab(tb),ab(rb),qz(rb,tb,Oz,Vz)}Jz();function Ra(t,e,n,r,i,s){s=s||[];let o=0;for(let l=e;l<n;l+=r){const c=t[l],d=t[l+1];s[o++]=i[0]*c+i[2]*d+i[4],s[o++]=i[1]*c+i[3]*d+i[5]}return s&&s.length!=o&&(s.length=o),s}function tk(t,e,n,r,i,s,o){o=o||[];const l=Math.cos(i),c=Math.sin(i),d=s[0],h=s[1];let f=0;for(let p=e;p<n;p+=r){const y=t[p]-d,v=t[p+1]-h;o[f++]=d+y*l-v*c,o[f++]=h+y*c+v*l;for(let w=p+2;w<p+r;++w)o[f++]=t[w]}return o&&o.length!=f&&(o.length=f),o}function Qz(t,e,n,r,i,s,o,l){l=l||[];const c=o[0],d=o[1];let h=0;for(let f=e;f<n;f+=r){const p=t[f]-c,y=t[f+1]-d;l[h++]=c+i*p,l[h++]=d+s*y;for(let v=f+2;v<f+r;++v)l[h++]=t[v]}return l&&l.length!=h&&(l.length=h),l}function e$(t,e,n,r,i,s,o){o=o||[];let l=0;for(let c=e;c<n;c+=r){o[l++]=t[c]+i,o[l++]=t[c+1]+s;for(let d=c+2;d<c+r;++d)o[l++]=t[d]}return o&&o.length!=l&&(o.length=l),o}const lb=is();class nk extends zi{constructor(){super(),this.extent_=Gr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=yz(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return Qe()}closestPointXY(e,n,r,i){return Qe()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Qe()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Cd(n),this.extentRevision_=this.getRevision()}return Nz(this.extent_,e)}rotate(e,n){Qe()}scale(e,n,r){Qe()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Qe()}getType(){return Qe()}applyTransform(e){Qe()}intersectsExtent(e){return Qe()}translate(e,n){Qe()}transform(e,n){const r=vn(e),i=r.getUnits()=="tile-pixels"?function(s,o,l){const c=r.getExtent(),d=r.getWorldExtent(),h=us(d)/us(c);return Mo(lb,d[0],d[3],h,-h,0,0,0),Ra(s,0,s.length,l,lb,o),Xf(r,n)(s,o,l)}:Xf(r,n);return this.applyTransform(i),this}}class Kf extends nk{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Gt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,n=this.geometries_.length;e<n;++e)this.changeEventsKeys_.push(_t(this.geometries_[e],et.CHANGE,this.changed,this))}clone(){const e=new Kf(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<Ga(this.getExtent(),e,n))return i;const s=this.geometries_;for(let o=0,l=s.length;o<l;++o)i=s[o].closestPointXY(e,n,r,i);return i}containsXY(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){Cd(e);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)$P(e,n[r].getExtent());return e}getGeometries(){return cb(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let s=0,o=r.length;s<o;++s){const l=r[s],c=l.getSimplifiedGeometry(e);n.push(c),c!==l&&(i=!0)}if(i){const s=new Kf(null);return s.setGeometriesArray(n),s}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=Io(this.getExtent()));const i=this.geometries_;for(let s=0,o=i.length;s<o;++s)i[s].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(cb(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function cb(t){const e=[];for(let n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}class t${constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?vn(n.dataProjection):this.readProjection(e);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=vn(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)}getType(){return Qe()}readFeature(e,n){return Qe()}readFeatures(e,n){return Qe()}readGeometry(e,n){return Qe()}readProjection(e){return Qe()}writeFeature(e,n){return Qe()}writeFeatures(e,n){return Qe()}writeGeometry(e,n){return Qe()}}function rk(t,e,n){const r=n?vn(n.featureProjection):null,i=n?vn(n.dataProjection):null;let s;if(r&&i&&!fa(r,i)?s=(e?t.clone():t).transform(e?r:i,e?i:r):s=t,e&&n&&n.decimals!==void 0){const o=Math.pow(10,n.decimals),l=function(c){for(let d=0,h=c.length;d<h;++d)c[d]=Math.round(c[d]*o)/o;return c};s===t&&(s=t.clone()),s.applyTransform(l)}return s}class n$ extends t${constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(ef(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(ef(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return Qe()}readFeaturesFromObject(e,n){return Qe()}readGeometry(e,n){return this.readGeometryFromObject(ef(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return Qe()}readProjection(e){return this.readProjectionFromObject(ef(e))}readProjectionFromObject(e){return Qe()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return Qe()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return Qe()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return Qe()}}function ef(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}else if(t!==null)return t;return null}class Wa extends nk{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return zP(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Qe()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=ub(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){Qe()}setLayout(e,n,r){let i;if(e)i=ub(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=r$(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();tk(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=Io(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();Qz(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();e$(r,0,r.length,i,e,n,r),this.changed()}}}function r$(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function ub(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function i$(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return Ra(r,0,r.length,i,e,n)}function db(t,e,n,r,i,s,o){const l=t[e],c=t[e+1],d=t[n]-l,h=t[n+1]-c;let f;if(d===0&&h===0)f=e;else{const p=((i-l)*d+(s-c)*h)/(d*d+h*h);if(p>1)f=n;else if(p>0){for(let y=0;y<r;++y)o[y]=Dr(t[e+y],t[n+y],p);o.length=r;return}else f=e}for(let p=0;p<r;++p)o[p]=t[f+p];o.length=r}function Nv(t,e,n,r,i){let s=t[e],o=t[e+1];for(e+=r;e<n;e+=r){const l=t[e],c=t[e+1],d=Ca(s,o,l,c);d>i&&(i=d),s=l,o=c}return i}function jv(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=Nv(t,e,l,r,i),e=l}return i}function s$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=jv(t,e,l,r,i),e=l[l.length-1]}return i}function Fv(t,e,n,r,i,s,o,l,c,d,h){if(e==n)return d;let f,p;if(i===0){if(p=Ca(o,l,t[e],t[e+1]),p<d){for(f=0;f<r;++f)c[f]=t[e+f];return c.length=r,p}return d}h=h||[NaN,NaN];let y=e+r;for(;y<n;)if(db(t,y-r,y,r,o,l,h),p=Ca(o,l,h[0],h[1]),p<d){for(d=p,f=0;f<r;++f)c[f]=h[f];c.length=r,y+=r}else y+=r*Math.max((Math.sqrt(p)-Math.sqrt(d))/i|0,1);if(s&&(db(t,n-r,e,r,o,l,h),p=Ca(o,l,h[0],h[1]),p<d)){for(d=p,f=0;f<r;++f)c[f]=h[f];c.length=r}return d}function Lv(t,e,n,r,i,s,o,l,c,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=Fv(t,e,y,r,i,s,o,l,c,d,h),e=y}return d}function o$(t,e,n,r,i,s,o,l,c,d,h){h=h||[NaN,NaN];for(let f=0,p=n.length;f<p;++f){const y=n[f];d=Lv(t,e,y,r,i,s,o,l,c,d,h),e=y[y.length-1]}return d}function a$(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function Km(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0;l<r;++l)t[e++]=o[l]}return e}function Dv(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=Km(t,e,n[o],r);i[s++]=c,e=c}return i.length=s,i}function l$(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=Dv(t,e,n[o],r,i[s]);c.length===0&&(c[0]=e),i[s++]=c,e=c[c.length-1]}return i.length=s,i}function Ov(t,e,n,r,i,s,o){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[o++]=t[e],s[o++]=t[e+1];return o}const c=new Array(l);c[0]=1,c[l-1]=1;const d=[e,n-r];let h=0;for(;d.length>0;){const f=d.pop(),p=d.pop();let y=0;const v=t[p],w=t[p+1],C=t[f],b=t[f+1];for(let R=p+r;R<f;R+=r){const T=t[R],P=t[R+1],k=Wz(T,P,v,w,C,b);k>y&&(h=R,y=k)}y>i&&(c[(h-e)/r]=1,p+r<h&&d.push(p,h),h+r<f&&d.push(h,f))}for(let f=0;f<l;++f)c[f]&&(s[o++]=t[e+f*r],s[o++]=t[e+f*r+1]);return o}function c$(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c];o=Ov(t,e,h,r,i,s,o),l.push(o),e=h}return o}function ca(t,e){return e*Math.round(t/e)}function u$(t,e,n,r,i,s,o){if(e==n)return o;let l=ca(t[e],i),c=ca(t[e+1],i);e+=r,s[o++]=l,s[o++]=c;let d,h;do if(d=ca(t[e],i),h=ca(t[e+1],i),e+=r,e==n)return s[o++]=d,s[o++]=h,o;while(d==l&&h==c);for(;e<n;){const f=ca(t[e],i),p=ca(t[e+1],i);if(e+=r,f==d&&p==h)continue;const y=d-l,v=h-c,w=f-l,C=p-c;if(y*C==v*w&&(y<0&&w<y||y==w||y>0&&w>y)&&(v<0&&C<v||v==C||v>0&&C>v)){d=f,h=p;continue}s[o++]=d,s[o++]=h,l=d,c=h,d=f,h=p}return s[o++]=d,s[o++]=h,o}function ik(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c];o=u$(t,e,h,r,i,s,o),l.push(o),e=h}return o}function d$(t,e,n,r,i,s,o,l){for(let c=0,d=n.length;c<d;++c){const h=n[c],f=[];o=ik(t,e,h,r,i,s,o,f),l.push(f),e=h[h.length-1]}return o}function sk(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function bo(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=e;o<n;o+=r)i[s++]=t.slice(o,o+r);return i.length=s,i}function Uu(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o];i[s++]=bo(t,e,c,r,i[s]),e=c}return i.length=s,i}function z0(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o];i[s++]=c.length===1&&c[0]===e?[]:Uu(t,e,c,r,i[s]),e=c[c.length-1]}return i.length=s,i}function ok(t,e,n,r,i,s,o){let l,c;const d=(n-e)/r;if(d===1)l=e;else if(d===2)l=e,c=i;else if(d!==0){let h=t[e],f=t[e+1],p=0;const y=[0];for(let C=e+r;C<n;C+=r){const b=t[C],R=t[C+1];p+=Math.sqrt((b-h)*(b-h)+(R-f)*(R-f)),y.push(p),h=b,f=R}const v=i*p,w=mz(y,v);w<0?(c=(v-y[-w-2])/(y[-w-1]-y[-w-2]),l=e+(-w-2)*r):l=e+w*r}o=o>1?o:2,s=s||new Array(o);for(let h=0;h<o;++h)s[h]=l===void 0?NaN:c===void 0?t[l+h]:Dr(t[l+h],t[l+r+h],c);return s}function $0(t,e,n,r,i,s){if(n==e)return null;let o;if(i<t[e+r-1])return s?(o=t.slice(e,e+r),o[r-1]=i,o):null;if(t[n-1]<i)return s?(o=t.slice(n-r,n),o[r-1]=i,o):null;if(i==t[e+r-1])return t.slice(e,e+r);let l=e/r,c=n/r;for(;l<c;){const p=l+c>>1;i<t[(p+1)*r-1]?c=p:l=p+1}const d=t[l*r-1];if(i==d)return t.slice((l-1)*r,(l-1)*r+r);const h=t[(l+1)*r-1],f=(i-d)/(h-d);o=[];for(let p=0;p<r-1;++p)o.push(Dr(t[(l-1)*r+p],t[l*r+p],f));return o.push(i),o}function h$(t,e,n,r,i,s,o){if(o)return $0(t,e,n[n.length-1],r,i,s);let l;if(i<t[r-1])return s?(l=t.slice(0,r),l[r-1]=i,l):null;if(t[t.length-1]<i)return s?(l=t.slice(t.length-r),l[r-1]=i,l):null;for(let c=0,d=n.length;c<d;++c){const h=n[c];if(e!=h){if(i<t[e+r-1])return null;if(i<=t[h-1])return $0(t,e,h,r,i,!1);e=h}}return null}function f$(t,e,n,r,i){return!GP(i,function(o){return!pa(t,e,n,r,o[0],o[1])})}function pa(t,e,n,r,i,s){let o=0,l=t[n-r],c=t[n-r+1];for(;e<n;e+=r){const d=t[e],h=t[e+1];c<=s?h>s&&(d-l)*(s-c)-(i-l)*(h-c)>0&&o++:h<=s&&(d-l)*(s-c)-(i-l)*(h-c)<0&&o--,l=d,c=h}return o!==0}function Vv(t,e,n,r,i,s){if(n.length===0||!pa(t,e,n[0],r,i,s))return!1;for(let o=1,l=n.length;o<l;++o)if(pa(t,n[o-1],n[o],r,i,s))return!1;return!0}function m$(t,e,n,r,i,s){if(n.length===0)return!1;for(let o=0,l=n.length;o<l;++o){const c=n[o];if(Vv(t,e,c,r,i,s))return!0;e=c[c.length-1]}return!1}function Ym(t,e,n,r,i){const s=BP(Gr(),t,e,n,r);return ur(i,s)?ga(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:sk(t,e,n,r,function(o,l){return jz(i,o,l)}):!1}function g$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){if(Ym(t,e,n[s],r,i))return!0;e=n[s]}return!1}function ak(t,e,n,r,i){return!!(Ym(t,e,n,r,i)||pa(t,e,n,r,i[0],i[1])||pa(t,e,n,r,i[0],i[3])||pa(t,e,n,r,i[2],i[1])||pa(t,e,n,r,i[2],i[3]))}function lk(t,e,n,r,i){if(!ak(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(f$(t,n[s-1],n[s],r,i)&&!Ym(t,n[s-1],n[s],r,i))return!1;return!0}function p$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(lk(t,e,l,r,i))return!0;e=l[l.length-1]}return!1}function ck(t,e,n,r){let i=t[e],s=t[e+1],o=0;for(let l=e+r;l<n;l+=r){const c=t[l],d=t[l+1];o+=Math.sqrt((c-i)*(c-i)+(d-s)*(d-s)),i=c,s=d}return o}class Na extends Wa{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){this.flatCoordinates?ki(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()}clone(){const e=new Na(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ga(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return sk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,$0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return bo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return ok(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return ck(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Ov(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Na(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Ym(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Km(this.flatCoordinates,0,e,this.stride),this.changed()}}class Yf extends Wa{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{let i=this.getLayout();const s=e,o=[],l=[];for(let c=0,d=s.length;c<d;++c){const h=s[c];c===0&&(i=h.getLayout()),ki(o,h.getFlatCoordinates()),l.push(o.length)}this.setFlatCoordinates(i,o),this.ends_=l}}appendLineString(e){this.flatCoordinates?ki(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Yf(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ga(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,h$(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return Uu(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Na(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let o=0,l=n.length;o<l;++o){const c=n[o],d=new Na(e.slice(s,c),r);i.push(d),s=c}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let o=0,l=i.length;o<l;++o){const c=i[o],d=ok(n,r,c,s,.5);ki(e,d),r=c}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=c$(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new Yf(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return g$(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Dv(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class Tr extends Wa{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Tr(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,o=Ca(e,n,s[0],s[1]);if(o<i){const l=this.stride;for(let c=0;c<l;++c)r[c]=s[c];return r.length=l,o}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return bu(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Cv(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=a$(this.flatCoordinates,0,e,this.stride),this.changed()}}class Zm extends Wa{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){this.flatCoordinates?ki(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()}clone(){const e=new Zm(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<Ga(this.getExtent(),e,n))return i;const s=this.flatCoordinates,o=this.stride;for(let l=0,c=s.length;l<c;l+=o){const d=Ca(e,n,s[l],s[l+1]);if(d<i){i=d;for(let h=0;h<o;++h)r[h]=s[l+h];r.length=o}}return i}getCoordinates(){return bo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||n<=e?null:new Tr(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,o=e.length;s<o;s+=r){const l=new Tr(e.slice(s,s+r),n);i.push(l)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const o=n[i],l=n[i+1];if(Cv(e,o,l))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Km(this.flatCoordinates,0,e,this.stride),this.changed()}}function uk(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],c=t[e+1];i+=o*l-s*c,s=l,o=c}return i/2}function dk(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=uk(t,e,l,r),e=l}return i}function y$(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=dk(t,e,l,r),e=l[l.length-1]}return i}class Wu extends Wa{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Wu(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<Ga(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return uk(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return bo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Ov(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Wu(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Km(this.flatCoordinates,0,e,this.stride),this.changed()}}function hk(t,e,n,r,i,s,o){let l,c,d,h,f,p,y;const v=i[s+1],w=[];for(let R=0,T=n.length;R<T;++R){const P=n[R];for(h=t[P-r],p=t[P-r+1],l=e;l<P;l+=r)f=t[l],y=t[l+1],(v<=p&&y<=v||p<=v&&v<=y)&&(d=(v-p)/(y-p)*(f-h)+h,w.push(d)),h=f,p=y}let C=NaN,b=-1/0;for(w.sort(Ma),h=w[0],l=1,c=w.length;l<c;++l){f=w[l];const R=Math.abs(f-h);R>b&&(d=(h+f)/2,Vv(t,e,n,r,d,v)&&(C=d,b=R)),h=f}return isNaN(C)&&(C=i[s]),o?(o.push(C,v,b),o):[C,v,b]}function x$(t,e,n,r,i){let s=[];for(let o=0,l=n.length;o<l;++o){const c=n[o];s=hk(t,e,c,r,i,2*o,s),e=c[c.length-1]}return s}function v$(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function fk(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],c=t[e+1];i+=(l-s)*(c+o),s=l,o=c}return i===0?void 0:i>0}function mk(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=fk(t,e,l,r);if(s===0){if(i&&c||!i&&!c)return!1}else if(i&&!c||!i&&c)return!1;e=l}return!0}function _$(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];if(!mk(t,e,l,r,i))return!1;l.length&&(e=l[l.length-1])}return!0}function B0(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=fk(t,e,l,r);(s===0?i&&c||!i&&!c:i&&!c||!i&&c)&&v$(t,e,l,r),e=l}return e}function hb(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s)e=B0(t,e,n[s],r,i);return e}class er extends Wa{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?ki(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new er(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Ga(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Lv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Vv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return dk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),B0(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Uu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Io(this.getExtent());this.flatInteriorPoint_=hk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Tr(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Wu(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const c=r[o],d=new Wu(n.slice(s,c),e);i.push(d),s=c}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;mk(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=B0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=ik(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new er(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return lk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=Dv(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function fb(t){const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new er(s,"XY",[s.length])}function w$(t,e,n,r){const i=[];let s=Gr();for(let o=0,l=n.length;o<l;++o){const c=n[o];s=zP(t,e,c[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=c[c.length-1]}return i}class Zf extends Wa{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=this.getLayout();const s=e,o=[],l=[];for(let c=0,d=s.length;c<d;++c){const h=s[c];c===0&&(i=h.getLayout());const f=o.length,p=h.getEnds();for(let y=0,v=p.length;y<v;++y)p[y]+=f;ki(o,h.getFlatCoordinates()),l.push(p)}n=i,e=o,r=l}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;ki(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new Zf(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<Ga(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(s$(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),o$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return m$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return y$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),hb(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,z0(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=w$(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=x$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Zm(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;_$(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=hb(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=d$(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new Zf(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,o=r.length;s<o;++s)r[s]-=n;return new er(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const c=r[o].slice(),d=c[c.length-1];if(s!==0)for(let f=0,p=c.length;f<p;++f)c[f]-=s;const h=new er(n.slice(s,d),e,c);i.push(h),s=d}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return p$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=l$(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}class gk extends n${constructor(e){e=e||{},super(),this.dataProjection=vn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=vn(e.featureProjection)),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};const i=G0(r.geometry,n),s=new nr;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&s.setGeometryName(r.geometry_name),s.setGeometry(i),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,n){const r=e;let i=null;if(r.type==="FeatureCollection"){const s=e;i=[];const o=s.features;for(let l=0,c=o.length;l<c;++l)i.push(this.readFeatureFromObject(o[l],n))}else i=[this.readFeatureFromObject(e,n)];return i}readGeometryFromObject(e,n){return G0(e,n)}readProjectionFromObject(e){const n=e.crs;let r;return n?n.type=="name"?r=vn(n.properties.name):n.type==="EPSG"?r=vn("EPSG:"+n.properties.code):ut(!1,36):r=this.dataProjection,r}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;const s=e.getProperties(),o=e.getGeometry();return o&&(r.geometry=U0(o,n),delete s[e.getGeometryName()]),Kl(s)||(r.properties=s),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,s=e.length;i<s;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return U0(e,this.adaptOptions(n))}}function G0(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=C$(t);break}case"LineString":{n=b$(t);break}case"Polygon":{n=P$(t);break}case"MultiPoint":{n=R$(t);break}case"MultiLineString":{n=E$(t);break}case"MultiPolygon":{n=T$(t);break}case"GeometryCollection":{n=S$(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return rk(n,!1,e)}function S$(t,e){const n=t.geometries.map(function(r){return G0(r,e)});return new Kf(n)}function C$(t){return new Tr(t.coordinates)}function b$(t){return new Na(t.coordinates)}function E$(t){return new Yf(t.coordinates)}function R$(t){return new Zm(t.coordinates)}function T$(t){return new Zf(t.coordinates)}function P$(t){return new er(t.coordinates)}function U0(t,e){t=rk(t,!0,e);const n=t.getType();let r;switch(n){case"Point":{r=j$(t);break}case"LineString":{r=A$(t);break}case"Polygon":{r=F$(t,e);break}case"MultiPoint":{r=I$(t);break}case"MultiLineString":{r=M$(t);break}case"MultiPolygon":{r=N$(t,e);break}case"GeometryCollection":{r=k$(t,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function k$(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return U0(r,e)})}}function A$(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function M$(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function I$(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function N$(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function j$(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function F$(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}const yn={ADD:"add",REMOVE:"remove"},mb={LENGTH:"length"};class tf extends Vi{constructor(e,n,r){super(e),this.element=n,this.index=r}}let $r=class extends zi{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(mb.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new tf(yn.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new tf(yn.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new tf(yn.REMOVE,i,e)),this.dispatchEvent(new tf(yn.ADD,n,e))}updateLength_(){this.set(mb.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new jP(58)}};function L$(t,e,n,r,i){pk(t,e,n||0,r||t.length-1,i||D$)}function pk(t,e,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,o=e-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*(o-s/2<0?-1:1),h=Math.max(n,Math.floor(e-o*c/s+d)),f=Math.min(r,Math.floor(e+(s-o)*c/s+d));pk(t,e,h,f,i)}var p=t[e],y=n,v=r;for(du(t,n,e),i(t[r],p)>0&&du(t,n,r);y<v;){for(du(t,y,v),y++,v--;i(t[y],p)<0;)y++;for(;i(t[v],p)>0;)v--}i(t[n],p)===0?du(t,n,v):(v++,du(t,v,r)),v<=e&&(n=v+1),e<=v&&(r=v-1)}}function du(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function D$(t,e){return t<e?-1:t>e?1:0}let yk=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!rf(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const l=n.children[o],c=n.leaf?i(l):l;rf(e,c)&&(n.leaf?r.push(l):Ty(e,c)?this._all(l,r):s.push(l))}n=s.pop()}return r}collides(e){let n=this.data;if(!rf(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],o=n.leaf?this.toBBox(s):s;if(rf(e,o)){if(n.leaf||Ty(e,o))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=kl([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],o=[];let l,c,d;for(;r||s.length;){if(r||(r=s.pop(),c=s[s.length-1],l=o.pop(),d=!0),r.leaf){const h=O$(e,r.children,n);if(h!==-1)return r.children.splice(h,1),s.push(r),this._condense(s),this}!d&&!r.leaf&&Ty(r,i)?(s.push(r),o.push(l),l=0,c=r,r=r.children[0]):c?(l++,r=c.children[l],d=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let o=this._maxEntries,l;if(s<=o)return l=kl(e.slice(n,r+1)),xl(l,this.toBBox),l;i||(i=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,i-1))),l=kl([]),l.leaf=!1,l.height=i;const c=Math.ceil(s/o),d=c*Math.ceil(Math.sqrt(o));gb(e,n,r,d,this.compareMinX);for(let h=n;h<=r;h+=d){const f=Math.min(h+d-1,r);gb(e,h,f,c,this.compareMinY);for(let p=h;p<=f;p+=c){const y=Math.min(p+c-1,f);l.children.push(this._build(e,p,y,i-1))}}return xl(l,this.toBBox),l}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,o=1/0,l;for(let c=0;c<n.children.length;c++){const d=n.children[c],h=Ry(d),f=$$(e,d)-h;f<o?(o=f,s=h<s?h:s,l=d):f===o&&h<s&&(s=h,l=d)}n=l||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],o=this._chooseSubtree(i,this.data,n,s);for(o.children.push(e),vu(o,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const o=this._chooseSplitIndex(r,s,i),l=kl(r.children.splice(o,r.children.length-o));l.height=r.height,l.leaf=r.leaf,xl(r,this.toBBox),xl(l,this.toBBox),n?e[n-1].children.push(l):this._splitRoot(r,l)}_splitRoot(e,n){this.data=kl([e,n]),this.data.height=e.height+1,this.data.leaf=!1,xl(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,o=1/0;for(let l=n;l<=r-n;l++){const c=xu(e,0,l,this.toBBox),d=xu(e,l,r,this.toBBox),h=B$(c,d),f=Ry(c)+Ry(d);h<s?(s=h,i=l,o=f<o?f:o):h===s&&f<o&&(o=f,i=l)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:V$,s=e.leaf?this.compareMinY:z$,o=this._allDistMargin(e,n,r,i),l=this._allDistMargin(e,n,r,s);o<l&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,o=xu(e,0,n,s),l=xu(e,r-n,r,s);let c=nf(o)+nf(l);for(let d=n;d<r-n;d++){const h=e.children[d];vu(o,e.leaf?s(h):h),c+=nf(o)}for(let d=r-n-1;d>=n;d--){const h=e.children[d];vu(l,e.leaf?s(h):h),c+=nf(l)}return c}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)vu(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():xl(e[n],this.toBBox)}};function O$(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function xl(t,e){xu(t,0,t.children.length,e,t)}function xu(t,e,n,r,i){i||(i=kl(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const o=t.children[s];vu(i,t.leaf?r(o):o)}return i}function vu(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function V$(t,e){return t.minX-e.minX}function z$(t,e){return t.minY-e.minY}function Ry(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function nf(t){return t.maxX-t.minX+(t.maxY-t.minY)}function $$(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function B$(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function Ty(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function rf(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function kl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gb(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const o=e+Math.ceil((n-e)/r/2)*r;L$(t,o,e,n,i),s.push(e,o,o,n)}}class W0{constructor(e){this.rbush_=new yk(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[tt(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const o=e[i],l=n[i],c={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};r[i]=c,this.items_[tt(l)]=c}this.rbush_.load(r)}remove(e){const n=tt(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[tt(n)],i=[r.minX,r.minY,r.maxX,r.maxY];$u(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return Kl(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Ds(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class xk extends zi{constructor(e){super(),this.projection=vn(e.projection),this.attributions_=pb(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=pb(e),this.changed()}setState(e){this.state_=e,this.changed()}}function pb(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const jr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function G$(t,e){return[[-1/0,-1/0,1/0,1/0]]}let U$=!1;function W$(t,e,n,r,i,s,o){const l=new XMLHttpRequest;l.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(l.responseType="arraybuffer"),l.withCredentials=U$,l.onload=function(c){if(!l.status||l.status>=200&&l.status<300){const d=e.getType();let h;d=="json"||d=="text"?h=l.responseText:d=="xml"?(h=l.responseXML,h||(h=new DOMParser().parseFromString(l.responseText,"application/xml"))):d=="arraybuffer"&&(h=l.response),h?s(e.readFeatures(h,{extent:n,featureProjection:i}),e.readProjection(h)):o()}else o()},l.onerror=o,l.send()}function yb(t,e){return function(n,r,i,s,o){const l=this;W$(t,e,n,r,i,function(c,d){l.addFeatures(c),s!==void 0&&s(c)},o||Xl)}}class fo extends Vi{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class Os extends xk{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Xl,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(ut(this.format_,7),this.loader_=yb(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:G$;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new W0:null,this.loadedExtentsRtree_=new W0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new $r(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=tt(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new fo(jr.ADDFEATURE,e))}setupChangeEvents_(e,n){this.featureChangeKeys_[e]=[_t(n,et.CHANGE,this.handleFeatureChange_,this),_t(n,Hl.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(e,n){let r=!0;const i=n.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=n),r&&(ut(!(e in this.uidIndex_),30),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,o=e.length;s<o;s++){const l=e[s],c=tt(l);this.addToIndex_(c,l)&&r.push(l)}for(let s=0,o=r.length;s<o;s++){const l=r[s],c=tt(l);this.setupChangeEvents_(c,l);const d=l.getGeometry();if(d){const h=d.getExtent();n.push(h),i.push(l)}else this.nullGeometryFeatures_[c]=l}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(jr.ADDFEATURE))for(let s=0,o=r.length;s<o;s++)this.dispatchEvent(new fo(jr.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(jr.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(jr.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(yn.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(yn.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(Gt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new fo(jr.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){if(i.getGeometry().intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Kl(this.nullGeometryFeatures_)||ki(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=Fz(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}else if(this.featuresCollection_)return this.featuresCollection_.getArray().slice(0);return[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const o=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0];return n=n||Ia,this.featuresRtree_.forEachInExtent(c,function(d){if(n(d)){const h=d.getGeometry(),f=l;if(l=h.closestPointXY(r,i,o,l),l<f){s=d;const p=Math.sqrt(l);c[0]=r-p,c[1]=i-p,c[2]=r+p,c[3]=i+p}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=tt(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const o=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const s=n.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new fo(jr.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:tt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Kl(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let o=0,l=s.length;o<l;++o){const c=s[o];i.forEachInExtent(c,function(h){return ga(h.extent,c)})||(++this.loadingExtentsCount_,this.dispatchEvent(new fo(jr.FEATURESLOADSTART)),this.loader_.call(this,c,n,r,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new fo(jr.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new fo(jr.FEATURESLOADERROR))}),i.insert(c,{extent:c.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if($u(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeature(e){if(!e)return;const n=tt(e);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=tt(e),r=this.featureChangeKeys_[n];if(!r)return;r.forEach(Gt),delete this.featureChangeKeys_[n];const i=e.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new fo(jr.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}return n}setLoader(e){this.loader_=e}setUrl(e){ut(this.format_,7),this.url_=e,this.setLoader(yb(e,this.format_))}}const It={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class vk extends zi{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[It.OPACITY]=e.opacity!==void 0?e.opacity:1,ut(typeof n[It.OPACITY]=="number",64),n[It.VISIBLE]=e.visible!==void 0?e.visible:!0,n[It.Z_INDEX]=e.zIndex,n[It.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[It.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[It.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[It.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=xn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return Qe()}getLayerStatesArray(e){return Qe()}getExtent(){return this.get(It.EXTENT)}getMaxResolution(){return this.get(It.MAX_RESOLUTION)}getMinResolution(){return this.get(It.MIN_RESOLUTION)}getMinZoom(){return this.get(It.MIN_ZOOM)}getMaxZoom(){return this.get(It.MAX_ZOOM)}getOpacity(){return this.get(It.OPACITY)}getSourceState(){return Qe()}getVisible(){return this.get(It.VISIBLE)}getZIndex(){return this.get(It.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(It.EXTENT,e)}setMaxResolution(e){this.set(It.MAX_RESOLUTION,e)}setMinResolution(e){this.set(It.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(It.MAX_ZOOM,e)}setMinZoom(e){this.set(It.MIN_ZOOM,e)}setOpacity(e){ut(typeof e=="number",64),this.set(It.OPACITY,e)}setVisible(e){this.set(It.VISIBLE,e)}setZIndex(e){this.set(It.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const To={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Qn={ANIMATING:0,INTERACTING:1},yi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},H$=42,zv=256;function xb(t,e,n){return function(r,i,s,o,l){if(!r)return;if(!i&&!e)return r;const c=e?0:s[0]*i,d=e?0:s[1]*i,h=l?l[0]:0,f=l?l[1]:0;let p=t[0]+c/2+h,y=t[2]-c/2+h,v=t[1]+d/2+f,w=t[3]-d/2+f;p>y&&(p=(y+p)/2,y=p),v>w&&(v=(w+v)/2,w=v);let C=xn(r[0],p,y),b=xn(r[1],v,w);if(o&&n&&i){const R=30*i;C+=-R*Math.log(1+Math.max(0,p-r[0])/R)+R*Math.log(1+Math.max(0,r[0]-y)/R),b+=-R*Math.log(1+Math.max(0,v-r[1])/R)+R*Math.log(1+Math.max(0,r[1]-w)/R)}return[C,b]}}function X$(t){return t}function $v(t,e,n,r){const i=Xt(e)/n[0],s=us(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function Bv(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),xn(r,n/2,e*2)}function K$(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,o,l){if(i!==void 0){const c=t[0],d=t[t.length-1],h=n?$v(c,n,o,r):c;if(l)return e?Bv(i,h,d):xn(i,d,h);const f=Math.min(h,i),p=Math.floor(_v(t,f,s));return t[p]>h&&p<t.length-1?t[p+1]:t[p]}}}function Y$(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(o,l,c,d){if(o!==void 0){const h=i?$v(e,i,c,s):e;if(d)return r?Bv(o,h,n):xn(o,n,h);const f=1e-9,p=Math.ceil(Math.log(e/h)/Math.log(t)-f),y=-l*(.5-f)+.5,v=Math.min(h,o),w=Math.floor(Math.log(e/v)/Math.log(t)+y),C=Math.max(p,w),b=e/Math.pow(t,C);return xn(b,n,h)}}}function vb(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,o,l,c){if(s!==void 0){const d=r?$v(t,r,l,i):t;return!n||!c?xn(s,e,d):Bv(s,d,e)}}}function Gv(t){if(t!==void 0)return 0}function _b(t){if(t!==void 0)return t}function Z$(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function q$(t){return t=t||ba(5),function(e,n){if(n)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}function _k(t){return Math.pow(t,3)}function Pr(t){return 1-_k(1-t)}function J$(t){return 3*t*t-2*t*t*t}function Q$(t){return t}const Py=0;class qi extends zi{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=kv(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&JP(),e.center&&(e.center=Pn(e.center,this.projection_)),e.extent&&(e.extent=Co(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const l in yi)delete n[l];this.setProperties(n,!0);const r=tB(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=eB(e),s=r.constraint,o=nB(e);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(i[3]-n[3]+n[1]-i[1]),l=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+o,r[1]-l])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Pn(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Pn(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const h=arguments[i];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(i===n){r&&sf(r,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,c=this.targetRotation_;const d=[];for(;i<n;++i){const h=arguments[i],f={start:s,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||J$,callback:r};if(h.center&&(f.sourceCenter=o,f.targetCenter=h.center.slice(),o=f.targetCenter),h.zoom!==void 0?(f.sourceResolution=l,f.targetResolution=this.getResolutionForZoom(h.zoom),l=f.targetResolution):h.resolution&&(f.sourceResolution=l,f.targetResolution=h.resolution,l=f.targetResolution),h.rotation!==void 0){f.sourceRotation=c;const p=Ea(h.rotation-c+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=c+p,c=f.targetRotation}rB(f)?f.complete=!0:s+=f.duration,d.push(f)}this.animations_.push(d),this.setHint(Qn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Qn.ANIMATING]>0}getInteracting(){return this.hints_[Qn.INTERACTING]>0}cancelAnimations(){this.setHint(Qn.ANIMATING,-this.hints_[Qn.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&sf(i[0].callback,!1),!e)for(let s=0,o=i.length;s<o;++s){const l=i[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,l=i.length;o<l;++o){const c=i[o];if(c.complete)continue;const d=e-c.start;let h=c.duration>0?d/c.duration:1;h>=1?(c.complete=!0,h=1):s=!1;const f=c.easing(h);if(c.sourceCenter){const p=c.sourceCenter[0],y=c.sourceCenter[1],v=c.targetCenter[0],w=c.targetCenter[1];this.nextCenter_=c.targetCenter;const C=p+f*(v-p),b=y+f*(w-y);this.targetCenter_=[C,b]}if(c.sourceResolution&&c.targetResolution){const p=f===1?c.targetResolution:c.sourceResolution+f*(c.targetResolution-c.sourceResolution);if(c.anchor){const y=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(p,0,y,!0);this.targetCenter_=this.calculateCenterZoom(v,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const p=f===1?Ea(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+f*(c.targetRotation-c.sourceRotation);if(c.anchor){const y=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(y,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),n=!0,!c.complete)break}if(s){this.animations_[r]=null,this.setHint(Qn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&sf(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],Tv(r,e-this.getRotation()),HP(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-i[0])/s,l=n[1]-e*(n[1]-i[1])/s;r=[o,l]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Gu(e,this.getProjection())}getCenterInternal(){return this.get(yi.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return Iv(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ut(n,1);const r=this.getResolution();ut(r!==void 0,2);const i=this.getRotation();return ut(i!==void 0,3),L0(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(yi.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Co(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=Xt(e)/n[0],i=us(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(yi.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(o){return Math.log(r/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=ky(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=_v(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=xn(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,xn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(ut(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){ut(!bv(e),25);const i=Co(e,this.getProjection());r=fb(i)}else if(e.getType()==="Circle"){const i=Co(e.getExtent(),this.getProjection());r=fb(i),r.rotate(this.getRotation(),Io(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let l=1/0,c=1/0,d=-1/0,h=-1/0;for(let f=0,p=s.length;f<p;f+=o){const y=s[f]*r-s[f+1]*i,v=s[f]*i+s[f+1]*r;l=Math.min(l,y),c=Math.min(c,v),d=Math.max(d,y),h=Math.max(h,v)}return[l,c,d,h]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const l=this.rotatedExtentForGeometry(e);let c=this.getResolutionForExtentInternal(l,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);c=isNaN(c)?o:Math.max(c,o),c=this.getConstrainedResolution(c,s?0:1);const d=this.getRotation(),h=Math.sin(d),f=Math.cos(d),p=Io(l);p[0]+=(i[1]-i[3])/2*c,p[1]+=(i[0]-i[2])/2*c;const y=p[0]*f-p[1]*h,v=p[1]*f+p[0]*h,w=this.getConstrainedCenter([y,v],c),C=n.callback?n.callback:Xl;n.duration!==void 0?this.animateInternal({resolution:c,center:w,duration:n.duration,easing:n.easing},C):(this.targetResolution_=c,this.targetCenter_=w,this.applyTargetState_(!1,!0),sf(C,!0))}centerOn(e,n,r){this.centerOnInternal(Pn(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(ky(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const o=this.padding_;if(o&&e){const l=this.getViewportSizeMinusPadding_(-r),c=ky(e,i,[l[0]/2+o[3],l[1]/2+o[0]],n,r);s=[e[0]-c[0],e[1]-c[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Gu(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Pn(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Pn(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Pn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),l=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(yi.ROTATION)!==i&&this.set(yi.ROTATION,i),this.get(yi.RESOLUTION)!==o&&(this.set(yi.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(yi.CENTER)||!Si(this.get(yi.CENTER),l))&&this.set(yi.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,i,o),c=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=c,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!Si(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:l,duration:e,easing:Pr,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Qn.INTERACTING,1)}endInteraction(e,n,r){r=r&&Pn(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(Qn.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function sf(t,e){setTimeout(function(){t(e)},0)}function eB(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return xb(t.extent,t.constrainOnlyCenter,n)}const e=kv(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,xb(n,!1,!1)}return X$}function tB(t){let e,n,r,o=t.minZoom!==void 0?t.minZoom:Py,l=t.maxZoom!==void 0?t.maxZoom:28;const c=t.zoomFactor!==void 0?t.zoomFactor:2,d=t.multiWorld!==void 0?t.multiWorld:!1,h=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,f=t.showFullExtent!==void 0?t.showFullExtent:!1,p=kv(t.projection,"EPSG:3857"),y=p.getExtent();let v=t.constrainOnlyCenter,w=t.extent;if(!d&&!w&&p.isGlobal()&&(v=!1,w=y),t.resolutions!==void 0){const C=t.resolutions;n=C[o],r=C[l]!==void 0?C[l]:C[C.length-1],t.constrainResolution?e=K$(C,h,!v&&w,f):e=vb(n,r,h,!v&&w,f)}else{const b=(y?Math.max(Xt(y),us(y)):360*Ev.degrees/p.getMetersPerUnit())/zv/Math.pow(2,Py),R=b/Math.pow(2,28-Py);n=t.maxResolution,n!==void 0?o=0:n=b/Math.pow(c,o),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(c,l):r=b/Math.pow(c,l):r=R),l=o+Math.floor(Math.log(n/r)/Math.log(c)),r=n/Math.pow(c,l-o),t.constrainResolution?e=Y$(c,n,r,h,!v&&w,f):e=vb(n,r,h,!v&&w,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:c}}function nB(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?q$():n===!1?_b:typeof n=="number"?Z$(n):_b}return Gv}function rB(t){return!(t.sourceCenter&&t.targetCenter&&!Si(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function ky(t,e,n,r,i){const s=Math.cos(-i);let o=Math.sin(-i),l=t[0]*s-t[1]*o,c=t[1]*s+t[0]*o;l+=(e[0]/2-n[0])*r,c+=(n[1]-e[1]/2)*r,o=-o;const d=l*s-c*o,h=c*s+l*o;return[d,h]}class qm extends vk{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(It.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(It.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Gt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=_t(e,et.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;e instanceof qi?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e;const r=this.getExtent();return this.getVisible()&&Uv(this.getLayerState(),n.viewState)&&(!r||ur(r,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof qi?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();if(r.prepareFrame(e))return this.rendered=!0,r.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(It.MAP,e)}getMapInternal(){return this.get(It.MAP)}setMap(e){this.mapPrecomposeKey_&&(Gt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Gt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=_t(e,To.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);ut(!i.some(function(o){return o.layer===s.layer}),67),i.push(s)},this),this.mapRenderKey_=_t(this,et.CHANGE,e.render,e),this.changed())}setSource(e){this.set(It.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Uv(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const kn={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function wb(t){return t[0]>0&&t[1]>0}function iB(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function zr(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Jm{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=zr(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Jm({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Qe()}getImage(e){return Qe()}getHitDetectionImage(){return Qe()}getPixelRatio(e){return 1}getImageState(){return Qe()}getImageSize(){return Qe()}getOrigin(){return Qe()}getSize(){return Qe()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=zr(e)}listenImageChange(e){Qe()}load(){Qe()}unlistenImageChange(e){Qe()}}const sB=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,oB=/^([a-z]*)$|^hsla?\(.*\)$/i;function wk(t){return typeof t=="string"?t:Sk(t)}function aB(t){const e=document.createElement("div");if(e.style.color=t,e.style.color!==""){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}const lB=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let s=0;for(const o in e)(s++&3)===0&&(delete e[o],--n)}i=cB(r),e[r]=i,++n}return i}}();function qf(t){return Array.isArray(t)?t:lB(t)}function cB(t){let e,n,r,i,s;if(oB.exec(t)&&(t=aB(t)),sB.exec(t)){const o=t.length-1;let l;o<=4?l=1:l=2;const c=o===4||o===8;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),r=parseInt(t.substr(1+2*l,l),16),c?i=parseInt(t.substr(1+3*l,l),16):i=255,l==1&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,c&&(i=(i<<4)+i)),s=[e,n,r,i/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),Sb(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),Sb(s)):ut(!1,14);return s}function Sb(t){return t[0]=xn(t[0]+.5|0,0,255),t[1]=xn(t[1]+.5|0,0,255),t[2]=xn(t[2]+.5|0,0,255),t[3]=xn(t[3],0,1),t}function Sk(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*100)/100;return"rgba("+e+","+n+","+r+","+i+")"}function ts(t){return Array.isArray(t)?Sk(t):t}function hr(t,e,n,r){let i;return n&&n.length?i=n.shift():wv?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function Qm(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function uB(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function dB(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function Cb(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Jf(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Ck(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function hB(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}const of="ol-hidden",fB="ol-selectable",eg="ol-unselectable",Wv="ol-control",bb="ol-collapsed",mB=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Eb=["style","variant","weight","size","lineHeight","family"],bk=function(t){const e=t.match(mB);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=Eb.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[Eb[r]]=s)}return n.families=n.family.split(/,\s?/),n},Ek="10px sans-serif",Fs="#000",Qf="round",Hu=[],Xu=0,Yl="round",Ku=10,Yu="#000",Zu="center",em="middle",ya=[0,0,0,0],qu=1,ks=new zi;let Al=null,H0;const X0={},gB=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,o;function l(d,h,f){let p=!0;for(let y=0;y<r;++y){const v=n[y];if(o=tm(d+" "+h+" "+e+v,i),f!=v){const w=tm(d+" "+h+" "+e+f+","+v,i);p=p&&w!=o}}return!!p}function c(){let d=!0;const h=ks.getKeys();for(let f=0,p=h.length;f<p;++f){const y=h[f];ks.get(y)<100&&(l.apply(this,y.split(`
`))?(mc(X0),Al=null,H0=void 0,ks.set(y,100)):(ks.set(y,ks.get(y)+1,!0),d=!1))}d&&(clearInterval(s),s=void 0)}return function(d){const h=bk(d);if(!h)return;const f=h.families;for(let p=0,y=f.length;p<y;++p){const v=f[p],w=h.style+`
`+h.weight+`
`+v;ks.get(w)===void 0&&(ks.set(w,100,!0),l(h.style,h.weight,v)||(ks.set(w,0,!0),s===void 0&&(s=setInterval(c,32))))}}}(),pB=function(){let t;return function(e){let n=X0[e];if(n==null){if(wv){const r=bk(e),i=Rk(e,"g");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);X0[e]=n}return n}}();function Rk(t,e){return Al||(Al=hr(1,1)),t!=H0&&(Al.font=t,H0=Al.font),Al.measureText(e)}function tm(t,e){return Rk(t,e).width}function Rb(t,e,n){if(e in n)return n[e];const r=e.split(`
`).reduce((i,s)=>Math.max(i,tm(t,s)),0);return n[e]=r,r}function yB(t,e){const n=[],r=[],i=[];let s=0,o=0,l=0,c=0;for(let d=0,h=e.length;d<=h;d+=2){const f=e[d];if(f===`
`||d===h){s=Math.max(s,o),i.push(o),o=0,l+=c;continue}const p=e[d+1]||t.font,y=tm(p,f);n.push(y),o+=y;const v=pB(p);r.push(v),c=Math.max(c,v)}return{width:s,height:l,widths:n,heights:r,lineWidths:i}}function xB(t,e,n,r,i,s,o,l,c,d,h){t.save(),n!==1&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(c,d),t.scale(h[0],h[1]),vB(r,t)):h[0]<0||h[1]<0?(t.translate(c,d),t.scale(h[0],h[1]),t.drawImage(r,i,s,o,l,0,0,o,l)):t.drawImage(r,i,s,o,l,c,d,o*h[0],l*h[1]),t.restore()}function vB(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class tg extends Jm{constructor(e){const n=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:1,rotateWithView:n,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius!==void 0?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const e=this.getScale(),n=new tg({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_;if(!e)return null;const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(e){let n=this.canvas_[e];if(!n){const r=this.renderOptions_,i=hr(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvas_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return kn.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const M=i;i=s,s=M}const o=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/o,c=s*Math.sin(l),d=Math.sqrt(s*s-c*c),h=i-d,f=Math.sqrt(c*c+h*h),p=f/c;if(e==="miter"&&p<=r)return p*n;const y=n/2/p,v=n/2*(h/f),C=Math.sqrt((i+y)*(i+y)+v*v)-i;if(this.radius2_===void 0||e==="bevel")return C*2;const b=i*Math.sin(l),R=Math.sqrt(i*i-b*b),T=s-R,k=Math.sqrt(b*b+T*T)/b;if(k<=r){const M=k*n/2-s-i;return 2*Math.max(C,M)}return C*2}createRenderOptions(){let e=Yl,n=0,r=null,i=0,s,o=0;this.stroke_&&(s=this.stroke_.getColor(),s===null&&(s=Yu),s=ts(s),o=this.stroke_.getWidth(),o===void 0&&(o=qu),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=Yl),n=this.stroke_.getMiterLimit(),n===void 0&&(n=Ku));const l=this.calculateLineJoinSize_(e,o,n),c=Math.max(this.radius_,this.radius2_||0),d=Math.ceil(2*c+l);return{strokeStyle:s,strokeWidth:o,size:d,lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Fs),n.fillStyle=ts(i),n.fill()}this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){if(this.fill_){let n=this.fill_.getColor(),r=0;if(typeof n=="string"&&(n=qf(n)),n===null?r=1:Array.isArray(n)&&(r=n.length===4?n[3]:1),r===0){const i=hr(e.size,e.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(e,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let l=0;l<n;l++){const c=s+l*o,d=l%2===0?r:i;e.lineTo(d*Math.cos(c),d*Math.sin(c))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Fs,n.fill(),this.stroke_&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}}class Or extends tg{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Or({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}class Tn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null}clone(){const e=this.getColor();return new Tn({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}class fn{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new fn({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}let nn=class Tk{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Tb,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Tk({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Tb,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function _B(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(ut(typeof t.getZIndex=="function",41),n=[t]),e=function(){return n}}return e}let Ay=null;function wB(t,e){if(!Ay){const n=new Tn({color:"rgba(255,255,255,0.4)"}),r=new fn({color:"#3399CC",width:1.25});Ay=[new nn({image:new Or({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Ay}function Pk(){const t={},e=[255,255,255,1],n=[0,153,255,1],r=3;return t.Polygon=[new nn({fill:new Tn({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new nn({stroke:new fn({color:e,width:r+2})}),new nn({stroke:new fn({color:n,width:r})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new nn({image:new Or({radius:r*2,fill:new Tn({color:n}),stroke:new fn({color:e,width:r/2})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Tb(t){return t.getGeometry()}class SB{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];(e++&3)===0&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(e,n,r){const i=Pb(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const s=Pb(e,n,r);this.cache_[s]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Pb(t,e,n){const r=n?wk(n):"null";return e+":"+t+":"+r}const nm=new SB;function kk(t,e,n){const r=t;let i=!0,s=!1,o=!1;const l=[Wf(r,et.LOAD,function(){o=!0,s||e()})];return r.src&&Rz?(s=!0,r.decode().then(function(){i&&e()}).catch(function(c){i&&(o?e():n())})):l.push(Wf(r,et.ERROR,n)),function(){i=!1,l.forEach(Gt)}}let hu=null;class CB extends $m{constructor(e,n,r,i,s,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=s,this.size_=r,this.src_=n,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===kn.LOADED){hu||(hu=hr(1,1,void 0,{willReadFrequently:!0})),hu.drawImage(this.image_,0,0);try{hu.getImageData(0,0,1,1),this.tainted_=!1}catch{hu=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(et.CHANGE)}handleImageError_(){this.imageState_=kn.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=kn.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=hr(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===kn.IDLE){this.image_||this.initializeImage_(),this.imageState_=kn.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=kk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==kn.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=wk(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function bB(t,e,n,r,i,s){let o=nm.get(e,r,s);return o||(o=new CB(t,e,n,r,i,s),nm.set(e,r,s,o)),o}let ng=class Ak extends Jm{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;this.imgSize_=e.imgSize;let l=e.src;ut(!(l!==void 0&&o),4),ut(!o||o&&this.imgSize_,5),(l===void 0||l.length===0)&&o&&(l=o.src||tt(o)),ut(l!==void 0&&l.length>0,6),ut(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),69);const c=e.src!==void 0?kn.IDLE:kn.LOADED;if(this.color_=e.color!==void 0?qf(e.color):null,this.iconImage_=bB(o,l,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,c,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.width_=e.width,this.height_=e.height,this.width_!==void 0||this.height_!==void 0){const d=this.getImage(1),h=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};d.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):d.addEventListener("load",h)}}clone(){let e=this.getScale();return e=Array.isArray(e)?e.slice():e,(this.width_!==void 0||this.height_!==void 0)&&(e=void 0),new Ak({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(e,n){const r=this.getImage(1);e!==void 0&&n!==void 0?super.setScale([e/r.width,n/r.height]):e!==void 0?super.setScale([e/r.width,e/r.width]):n!==void 0?super.setScale([n/r.height,n/r.height]):super.setScale([1,1])}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(e){this.width_=e,this.updateScaleFromWidthAndHeight(e,this.height_)}setHeight(e){this.height_=e,this.updateScaleFromWidthAndHeight(this.width_,e)}setScale(e){super.setScale(e);const n=this.getImage(1);if(n){const r=Array.isArray(e)?e[0]:e;r!==void 0&&(this.width_=r*n.width);const i=Array.isArray(e)?e[1]:e;i!==void 0&&(this.height_=i*n.height)}}listenImageChange(e){this.iconImage_.addEventListener(et.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(et.CHANGE,e)}};const EB="#333";class rg{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=zr(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Tn({color:EB}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding}clone(){const e=this.getScale();return new rg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=zr(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function kb(t){return new nn({fill:Ju(t,""),stroke:Qu(t,""),text:RB(t),image:TB(t)})}function Ju(t,e){const n=t[e+"fill-color"];if(n)return new Tn({color:n})}function Qu(t,e){const n=t[e+"stroke-width"],r=t[e+"stroke-color"];if(!(!n&&!r))return new fn({width:n,color:r,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function RB(t){const e=t["text-value"];return e?new rg({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],repeat:t["text-repeat"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:Ju(t,"text-"),backgroundFill:Ju(t,"text-background-"),stroke:Qu(t,"text-"),backgroundStroke:Qu(t,"text-background-")}):void 0}function TB(t){const e=t["icon-src"],n=t["icon-img"];if(e||n)return new ng({src:e,img:n,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]});const r=t["shape-points"];if(r){const s="shape-";return new tg({points:r,fill:Ju(t,s),stroke:Qu(t,s),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const i=t["circle-radius"];if(i){const s="circle-";return new Or({radius:i,fill:Ju(t,s),stroke:Qu(t,s),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const Ab={RENDER_ORDER:"renderOrder"};class PB extends qm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter!==void 0?e.declutter:!1,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Ab.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e){e.declutterTree||(e.declutterTree=new yk(9)),this.getRenderer().renderDeclutter(e)}setRenderOrder(e){this.set(Ab.RENDER_ORDER,e)}setStyle(e){let n;if(e===void 0)n=wB;else if(e===null)n=null;else if(typeof e=="function")n=e;else if(e instanceof nn)n=e;else if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s){const o=e[s];o instanceof nn?i[s]=o:i[s]=kb(o)}n=i}else n=kb(e);this.style_=n,this.styleFunction_=e===null?void 0:_B(this.style_),this.changed()}}const $e={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},af=[$e.FILL],Eo=[$e.STROKE],xa=[$e.BEGIN_PATH],Mb=[$e.CLOSE_PATH];class Mk{drawCustom(e,n,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,n){}drawFeature(e,n){}drawGeometryCollection(e,n){}drawLineString(e,n){}drawMultiLineString(e,n){}drawMultiPoint(e,n){}drawMultiPolygon(e,n){}drawPoint(e,n){}drawPolygon(e,n){}drawText(e,n){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class Ed extends Mk{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let l=0,c=e.length;l<c;l+=n)i[0]=e[l],i[1]=e[l+1],Bm(r,i)&&(s[o++]=i[0],s[o++]=i[1]);return o}appendFlatLineCoordinates(e,n,r,i,s,o){const l=this.coordinates;let c=l.length;const d=this.getBufferedMaxExtent();o&&(n+=i);let h=e[n],f=e[n+1];const p=this.tmpCoordinate_;let y=!0,v,w,C;for(v=n+i;v<r;v+=i)p[0]=e[v],p[1]=e[v+1],C=j0(d,p),C!==w?(y&&(l[c++]=h,l[c++]=f,y=!1),l[c++]=p[0],l[c++]=p[1]):C===Fn.INTERSECTING?(l[c++]=p[0],l[c++]=p[1],y=!1):y=!0,h=p[0],f=p[1],w=C;return(s&&y||v===n+i)&&(l[c++]=h,l[c++]=f),c}drawCustomCoordinates_(e,n,r,i,s){for(let o=0,l=r.length;o<l;++o){const c=r[o],d=this.appendFlatLineCoordinates(e,n,c,i,!1,!1);s.push(d),n=c}return n}drawCustom(e,n,r,i){this.beginGeometry(e,n);const s=e.getType(),o=e.getStride(),l=this.coordinates.length;let c,d,h,f,p;switch(s){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),f=[];const y=e.getEndss();p=0;for(let v=0,w=y.length;v<w;++v){const C=[];p=this.drawCustomCoordinates_(c,p,y[v],o,C),f.push(C)}this.instructions.push([$e.CUSTOM,l,f,e,r,z0]),this.hitDetectionInstructions.push([$e.CUSTOM,l,f,e,i||r,z0]);break;case"Polygon":case"MultiLineString":h=[],c=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),p=this.drawCustomCoordinates_(c,0,e.getEnds(),o,h),this.instructions.push([$e.CUSTOM,l,h,e,r,Uu]),this.hitDetectionInstructions.push([$e.CUSTOM,l,h,e,i||r,Uu]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),d=this.appendFlatLineCoordinates(c,0,c.length,o,!1,!1),this.instructions.push([$e.CUSTOM,l,d,e,r,bo]),this.hitDetectionInstructions.push([$e.CUSTOM,l,d,e,i||r,bo]);break;case"MultiPoint":c=e.getFlatCoordinates(),d=this.appendFlatPointCoordinates(c,o),d>l&&(this.instructions.push([$e.CUSTOM,l,d,e,r,bo]),this.hitDetectionInstructions.push([$e.CUSTOM,l,d,e,i||r,bo]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),d=this.coordinates.length,this.instructions.push([$e.CUSTOM,l,d,e,r]),this.hitDetectionInstructions.push([$e.CUSTOM,l,d,e,i||r]);break}this.endGeometry(n)}beginGeometry(e,n){this.beginGeometryInstruction1_=[$e.BEGIN_GEOMETRY,n,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[$e.BEGIN_GEOMETRY,n,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,o=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==$e.END_GEOMETRY?o=n:s==$e.BEGIN_GEOMETRY&&(i[2]=n,gz(this.hitDetectionInstructions,o,n),o=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillStyle=ts(i||Fs)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=ts(i||Yu);const s=n.getLineCap();r.lineCap=s!==void 0?s:Qf;const o=n.getLineDash();r.lineDash=o?o.slice():Hu;const l=n.getLineDashOffset();r.lineDashOffset=l||Xu;const c=n.getLineJoin();r.lineJoin=c!==void 0?c:Yl;const d=n.getWidth();r.lineWidth=d!==void 0?d:qu;const h=n.getMiterLimit();r.miterLimit=h!==void 0?h:Ku,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[$e.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(!0),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[$e.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,o=e.lineDashOffset,l=e.lineJoin,c=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!Ws(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=l||e.currentLineWidth!=c||e.currentMiterLimit!=d)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=l,e.currentLineWidth=c,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[$e.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=VP(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Sd(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class kB extends Ed{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([$e.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([$e.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n){if(!this.image_)return;this.beginGeometry(e,n);const r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,o=this.appendFlatPointCoordinates(r,i);this.instructions.push([$e.DRAW_IMAGE,s,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([$e.DRAW_IMAGE,s,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class AB extends Ed{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),l=[$e.MOVE_TO_LINE_TO,s,o];return this.instructions.push(l),this.hitDetectionInstructions.push(l),r}drawLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Hu,Xu],xa);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(Eo),this.endGeometry(n)}drawMultiLineString(e,n){const r=this.state,i=r.strokeStyle,s=r.lineWidth;if(i===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n),this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],xa);const o=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinates_(l,d,o[h],c);this.hitDetectionInstructions.push(Eo),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Eo),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Eo),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(xa)}}class Ib extends Ed{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,o=s.fillStyle!==void 0,l=s.strokeStyle!==void 0,c=r.length;this.instructions.push(xa),this.hitDetectionInstructions.push(xa);for(let d=0;d<c;++d){const h=r[d],f=this.coordinates.length,p=this.appendFlatLineCoordinates(e,n,h,i,!0,!l),y=[$e.MOVE_TO_LINE_TO,f,p];this.instructions.push(y),this.hitDetectionInstructions.push(y),l&&(this.instructions.push(Mb),this.hitDetectionInstructions.push(Mb)),n=h}return o&&(this.instructions.push(af),this.hitDetectionInstructions.push(af)),l&&(this.instructions.push(Eo),this.hitDetectionInstructions.push(Eo)),n}drawCircle(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,Fs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const d=[$e.CIRCLE,c];this.instructions.push(xa,d),this.hitDetectionInstructions.push(xa,d),r.fillStyle!==void 0&&(this.instructions.push(af),this.hitDetectionInstructions.push(af)),r.strokeStyle!==void 0&&(this.instructions.push(Eo),this.hitDetectionInstructions.push(Eo)),this.endGeometry(n)}drawPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,Fs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,o,c),this.endGeometry(n)}drawMultiPolygon(e,n){const r=this.state,i=r.fillStyle,s=r.strokeStyle;if(i===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,Fs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let d=0;for(let h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinatess_(l,d,o[h],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=ca(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function MB(t,e,n,r,i){const s=[];let o=n,l=0,c=e.slice(n,2);for(;l<t&&o+i<r;){const[d,h]=c.slice(-2),f=e[o+i],p=e[o+i+1],y=Math.sqrt((f-d)*(f-d)+(p-h)*(p-h));if(l+=y,l>=t){const v=(t-l+y)/y,w=Dr(d,f,v),C=Dr(h,p,v);c.push(w,C),s.push(c),c=[w,C],l==t&&(o+=i),l=0}else if(l<t)c.push(e[o+i],e[o+i+1]),o+=i;else{const v=y-l,w=Dr(d,f,v/y),C=Dr(h,p,v/y);c.push(w,C),s.push(c),c=[w,C],l=0,o+=i}}return l>0&&s.push(c),s}function IB(t,e,n,r,i){let s=n,o=n,l=0,c=0,d=n,h,f,p,y,v,w,C,b,R,T;for(f=n;f<r;f+=i){const P=e[f],k=e[f+1];v!==void 0&&(R=P-v,T=k-w,y=Math.sqrt(R*R+T*T),C!==void 0&&(c+=p,h=Math.acos((C*R+b*T)/(p*y)),h>t&&(c>l&&(l=c,s=d,o=f),c=0,d=f-i)),p=y,C=R,b=T),v=P,w=k}return c+=y,c>l?[d,f]:[s,o]}const Tu={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class NB extends Ed{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n){const r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!i)return;const o=this.coordinates;let l=o.length;const c=e.getType();let d=null,h=e.getStride();if(s.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!ur(this.getBufferedMaxExtent(),e.getExtent()))return;let f;if(d=e.getFlatCoordinates(),c=="LineString")f=[d.length];else if(c=="MultiLineString")f=e.getEnds();else if(c=="Polygon")f=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const w=e.getEndss();f=[];for(let C=0,b=w.length;C<b;++C)f.push(w[C][0])}this.beginGeometry(e,n);const p=s.repeat,y=p?void 0:s.textAlign;let v=0;for(let w=0,C=f.length;w<C;++w){let b;p?b=MB(p*this.resolution,d,v,f[w],h):b=[d.slice(v,f[w])];for(let R=0,T=b.length;R<T;++R){const P=b[R];let k=0,M=P.length;if(y==null){const I=IB(s.maxAngle,P,0,P.length,2);k=I[0],M=I[1]}for(let I=k;I<M;I+=h)o.push(P[I],P[I+1]);const L=o.length;v=f[w],this.drawChars_(l,L),l=L}}this.endGeometry(n)}else{let f=s.overflow?null:[];switch(c){case"Point":case"MultiPoint":d=e.getFlatCoordinates();break;case"LineString":d=e.getFlatMidpoint();break;case"Circle":d=e.getCenter();break;case"MultiLineString":d=e.getFlatMidpoints(),h=2;break;case"Polygon":d=e.getFlatInteriorPoint(),s.overflow||f.push(d[2]/this.resolution),h=3;break;case"MultiPolygon":const C=e.getFlatInteriorPoints();d=[];for(let b=0,R=C.length;b<R;b+=3)s.overflow||f.push(C[b+2]/this.resolution),d.push(C[b],C[b+1]);if(d.length===0)return;h=2;break}const p=this.appendFlatPointCoordinates(d,h);if(p===l)return;if(f&&(p-l)/2!==d.length/h){let C=l/2;f=f.filter((b,R)=>{const T=o[(C+R)*2]===d[R*h]&&o[(C+R)*2+1]===d[R*h+1];return T||--C,T})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n);let y=s.padding;if(y!=ya&&(s.scale[0]<0||s.scale[1]<0)){let C=s.padding[0],b=s.padding[1],R=s.padding[2],T=s.padding[3];s.scale[0]<0&&(b=-b,T=-T),s.scale[1]<0&&(C=-C,R=-R),y=[C,b,R,T]}const v=this.pixelRatio;this.instructions.push([$e.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,y==ya?ya:y.map(function(C){return C*v}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const w=1/v;this.hitDetectionInstructions.push([$e.DRAW_IMAGE,l,p,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,void 0,this.declutterImageWithText_,y,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||Zu,justify:n.justify,textBaseline:n.textBaseline||em,scale:n.scale});const o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,o=this.textKey_,l=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,d=Tu[i.textBaseline],h=this.textOffsetY_*c,f=this.text_,p=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([$e.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,c,h,s,p*c,f,o,1]),this.hitDetectionInstructions.push([$e.DRAW_CHARS,e,n,d,i.overflow,l,i.maxAngle,1,h,s,p,f,o,1/c])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const o=e.getFill();o?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=ts(o.getColor()||Fs)):(i=null,this.textFillState_=i);const l=e.getStroke();if(!l)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const v=l.getLineDash(),w=l.getLineDashOffset(),C=l.getWidth(),b=l.getMiterLimit();s.lineCap=l.getLineCap()||Qf,s.lineDash=v?v.slice():Hu,s.lineDashOffset=w===void 0?Xu:w,s.lineJoin=l.getLineJoin()||Yl,s.lineWidth=C===void 0?qu:C,s.miterLimit=b===void 0?Ku:b,s.strokeStyle=ts(l.getColor()||Yu)}r=this.textState_;const c=e.getFont()||Ek;gB(c);const d=e.getScaleArray();r.overflow=e.getOverflow(),r.font=c,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||em,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||ya,r.scale=d===void 0?[1,1]:d;const h=e.getOffsetX(),f=e.getOffsetY(),p=e.getRotateWithView(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=f===void 0?0:f,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:tt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+tt(i.fillStyle):""}this.declutterImageWithText_=n}}const jB={Circle:Ib,Default:Ed,Image:kB,LineString:AB,Polygon:Ib,Text:NB};class Nb{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const o=jB[n];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}class FB extends wd{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return Qe()}getData(e){return null}prepareFrame(e){return Qe()}renderFrame(e,n){return Qe()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,o)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){e.target.getState()===kn.LOADED&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=kn.LOADED&&n!=kn.ERROR&&e.addEventListener(et.CHANGE,this.boundHandleImageChange_),n==kn.IDLE&&(e.load(),n=e.getState()),n==kn.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}class Ik extends Vi{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}const jb=[];let Ml=null;function LB(){Ml=hr(1,1,void 0,{willReadFrequently:!0})}class Nk extends FB{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=is(),this.pixelTransform=is(),this.inversePixelTransform=is(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){Ml||LB(),Ml.clearRect(0,0,1,1);let i;try{Ml.drawImage(e,n,r,1,1,0,0,1,1),i=Ml.getImageData(0,0,1,1).data}catch{return Ml=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,o;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&Ws(qf(e.style.backgroundColor),qf(r)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=i;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",o=hr();const c=o.canvas;s.appendChild(c),l=c.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=Ua(r),s=Wm(r),o=Um(r),l=Gm(r);Ln(n.coordinateToPixelTransform,i),Ln(n.coordinateToPixelTransform,s),Ln(n.coordinateToPixelTransform,o),Ln(n.coordinateToPixelTransform,l);const c=this.inversePixelTransform;Ln(c,i),Ln(c,s),Ln(c,o),Ln(c,l),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new Ik(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_(To.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(To.POSTRENDER,e,n)}getRenderTransform(e,n,r,i,s,o,l){const c=s/2,d=o/2,h=i/n,f=-h,p=-e[0]+l,y=-e[1];return Mo(this.tempTransform,c,d,h,f,-r,p,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function DB(t,e,n,r,i,s,o,l,c,d,h,f){let p=t[e],y=t[e+1],v=0,w=0,C=0,b=0;function R(){v=p,w=y,e+=r,p=t[e],y=t[e+1],b+=C,C=Math.sqrt((p-v)*(p-v)+(y-w)*(y-w))}do R();while(e<n-r&&b+C<s);let T=C===0?0:(s-b)/C;const P=Dr(v,p,T),k=Dr(w,y,T),M=e-r,L=b,I=s+l*c(d,i,h);for(;e<n-r&&b+C<I;)R();T=C===0?0:(I-b)/C;const O=Dr(v,p,T),W=Dr(w,y,T);let z;if(f){const H=[P,k,O,W];tk(H,0,4,2,f,H,H),z=H[0]>H[2]}else z=P>O;const X=Math.PI,G=[],Z=M+r===e;e=M,C=0,b=L,p=t[e],y=t[e+1];let q;if(Z){R(),q=Math.atan2(y-w,p-v),z&&(q+=q>0?-X:X);const H=(O+P)/2,F=(W+k)/2;return G[0]=[H,F,(I-s)/2,q,i],G}i=i.replace(/\n/g," ");for(let H=0,F=i.length;H<F;){R();let N=Math.atan2(y-w,p-v);if(z&&(N+=N>0?-X:X),q!==void 0){let ie=N-q;if(ie+=ie>X?-2*X:ie<-X?2*X:0,Math.abs(ie)>o)return null}q=N;const B=H;let Y=0;for(;H<F;++H){const ie=z?F-H-1:H,ce=l*c(d,i[ie],h);if(e+r<n&&b+C<s+Y+ce/2)break;Y+=ce}if(H===B)continue;const j=z?i.substring(F-B,F-H):i.substring(B,H);T=C===0?0:(s+Y/2-b)/C;const D=Dr(v,p,T),re=Dr(w,y,T);G.push([D,re,Y/2,N,j]),s+=Y}return G}const vl=Gr(),mo=[],bs=[],Es=[],go=[];function Fb(t){return t[3].declutterBox}const OB=new RegExp("[-----]");function Lb(t,e){return(e==="start"||e==="end")&&!OB.test(t)&&(e=e==="start"?"left":"right"),Tu[e]}function VB(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class zB{constructor(e,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=is(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const o=i?this.strokeStates[i]:null,l=r?this.fillStates[r]:null,c=this.textStates[n],d=this.pixelRatio,h=[c.scale[0]*d,c.scale[1]*d],f=Array.isArray(e),p=c.justify?Tu[c.justify]:Lb(Array.isArray(e)?e[0]:e,c.textAlign||Zu),y=i&&o.lineWidth?o.lineWidth:0,v=f?e:e.split(`
`).reduce(VB,[]),{width:w,height:C,widths:b,heights:R,lineWidths:T}=yB(c,v),P=w+y,k=[],M=(P+2)*h[0],L=(C+y)*h[1],I={width:M<0?Math.floor(M):Math.ceil(M),height:L<0?Math.floor(L):Math.ceil(L),contextInstructions:k};(h[0]!=1||h[1]!=1)&&k.push("scale",h),i&&(k.push("strokeStyle",o.strokeStyle),k.push("lineWidth",y),k.push("lineCap",o.lineCap),k.push("lineJoin",o.lineJoin),k.push("miterLimit",o.miterLimit),k.push("setLineDash",[o.lineDash]),k.push("lineDashOffset",o.lineDashOffset)),r&&k.push("fillStyle",l.fillStyle),k.push("textBaseline","middle"),k.push("textAlign","center");const O=.5-p;let W=p*P+O*y;const z=[],X=[];let G=0,Z=0,q=0,H=0,F;for(let N=0,B=v.length;N<B;N+=2){const Y=v[N];if(Y===`
`){Z+=G,G=0,W=p*P+O*y,++H;continue}const j=v[N+1]||c.font;j!==F&&(i&&z.push("font",j),r&&X.push("font",j),F=j),G=Math.max(G,R[q]);const D=[Y,W+O*b[q]+p*(b[q]-T[H]),.5*(y+G)+Z];W+=b[q],i&&z.push("strokeText",D),r&&X.push("fillText",D),++q}return Array.prototype.push.apply(k,z),Array.prototype.push.apply(k,X),this.labels_[s]=I,I}replayTextBackground_(e,n,r,i,s,o,l){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),o&&(this.alignFill_=o[2],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,o,l,c,d,h,f,p,y,v,w,C){l*=p[0],c*=p[1];let b=r-l,R=i-c;const T=s+d>e?e-d:s,P=o+h>n?n-h:o,k=v[3]+T*p[0]+v[1],M=v[0]+P*p[1]+v[2],L=b-v[3],I=R-v[0];(w||f!==0)&&(mo[0]=L,go[0]=L,mo[1]=I,bs[1]=I,bs[0]=L+k,Es[0]=bs[0],Es[1]=I+M,go[1]=Es[1]);let O;return f!==0?(O=Mo(is(),r,i,1,1,f,-r,-i),Ln(O,mo),Ln(O,bs),Ln(O,Es),Ln(O,go),Ds(Math.min(mo[0],bs[0],Es[0],go[0]),Math.min(mo[1],bs[1],Es[1],go[1]),Math.max(mo[0],bs[0],Es[0],go[0]),Math.max(mo[1],bs[1],Es[1],go[1]),vl)):Ds(Math.min(L,L+k),Math.min(I,I+M),Math.max(L,L+k),Math.max(I,I+M),vl),y&&(b=Math.round(b),R=Math.round(R)),{drawImageX:b,drawImageY:R,drawImageW:T,drawImageH:P,originX:d,originY:h,declutterBox:{minX:vl[0],minY:vl[1],maxX:vl[2],maxY:vl[3],value:C},canvasTransform:O,scale:p}}replayImageOrLabel_(e,n,r,i,s,o,l){const c=!!(o||l),d=i.declutterBox,h=e.canvas,f=l?l[2]*i.scale[0]/2:0;return d.minX-f<=h.width/n&&d.maxX+f>=0&&d.minY-f<=h.height/n&&d.maxY+f>=0&&(c&&this.replayTextBackground_(e,mo,bs,Es,go,o,l),xB(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){if(this.alignFill_){const n=Ln(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(n[0]%r,n[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],o=this.createLabel(e,n,i,r),l=this.strokeStates[r],c=this.pixelRatio,d=Lb(Array.isArray(e)?e[0]:e,s.textAlign||Zu),h=Tu[s.textBaseline||em],f=l&&l.lineWidth?l.lineWidth:0,p=o.width/c-2*s.scale[0],y=d*p+2*(.5-d)*f,v=h*o.height/c+2*(.5-h)*f;return{label:o,anchorX:y,anchorY:v}}execute_(e,n,r,i,s,o,l,c){let d;this.pixelCoordinates_&&Ws(r,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=Ra(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),Pz(this.renderedTransform_,r));let h=0;const f=i.length;let p=0,y,v,w,C,b,R,T,P,k,M,L,I,O=0,W=0,z=null,X=null;const G=this.coordinateCache_,Z=this.viewRotation_,q=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,H={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Z},F=this.instructions!=i||this.overlaps?0:200;let N,B,Y,j;for(;h<f;){const D=i[h];switch(D[0]){case $e.BEGIN_GEOMETRY:N=D[1],j=D[3],N.getGeometry()?l!==void 0&&!ur(l,j.getExtent())?h=D[2]+1:++h:h=D[2];break;case $e.BEGIN_PATH:O>F&&(this.fill_(e),O=0),W>F&&(e.stroke(),W=0),!O&&!W&&(e.beginPath(),C=NaN,b=NaN),++h;break;case $e.CIRCLE:p=D[1];const ie=d[p],ce=d[p+1],ge=d[p+2],ae=d[p+3],xe=ge-ie,Se=ae-ce,Ee=Math.sqrt(xe*xe+Se*Se);e.moveTo(ie+Ee,ce),e.arc(ie,ce,Ee,0,2*Math.PI,!0),++h;break;case $e.CLOSE_PATH:e.closePath(),++h;break;case $e.CUSTOM:p=D[1],y=D[2];const Xe=D[3],Ve=D[4],wt=D.length==6?D[5]:void 0;H.geometry=Xe,H.feature=N,h in G||(G[h]=[]);const xt=G[h];wt?wt(d,p,y,2,xt):(xt[0]=d[p],xt[1]=d[p+1],xt.length=2),Ve(xt,H),++h;break;case $e.DRAW_IMAGE:p=D[1],y=D[2],P=D[3],v=D[4],w=D[5];let Dt=D[6];const Vt=D[7],Ft=D[8],An=D[9],bt=D[10];let $=D[11];const J=D[12];let ee=D[13];const pe=D[14],me=D[15];if(!P&&D.length>=20){k=D[19],M=D[20],L=D[21],I=D[22];const he=this.drawLabelWithPointPlacement_(k,M,L,I);P=he.label,D[3]=P;const de=D[23];v=(he.anchorX-de)*this.pixelRatio,D[4]=v;const Ke=D[24];w=(he.anchorY-Ke)*this.pixelRatio,D[5]=w,Dt=P.height,D[6]=Dt,ee=P.width,D[13]=ee}let ne;D.length>25&&(ne=D[25]);let ve,Fe,ze;D.length>17?(ve=D[16],Fe=D[17],ze=D[18]):(ve=ya,Fe=!1,ze=!1),bt&&q?$+=Z:!bt&&!q&&($-=Z);let Et=0;for(;p<y;p+=2){if(ne&&ne[Et++]<ee/this.pixelRatio)continue;const he=this.calculateImageOrLabelDimensions_(P.width,P.height,d[p],d[p+1],ee,Dt,v,w,Ft,An,$,J,s,ve,Fe||ze,N),de=[e,n,P,he,Vt,Fe?z:null,ze?X:null];if(c){if(pe==="none")continue;if(pe==="obstacle"){c.insert(he.declutterBox);continue}else{let Ke,ft;if(me){const nt=y-p;if(!me[nt]){me[nt]=de;continue}if(Ke=me[nt],delete me[nt],ft=Fb(Ke),c.collides(ft))continue}if(c.collides(he.declutterBox))continue;Ke&&(c.insert(ft),this.replayImageOrLabel_.apply(this,Ke)),c.insert(he.declutterBox)}}this.replayImageOrLabel_.apply(this,de)}++h;break;case $e.DRAW_CHARS:const zt=D[1],pt=D[2],Gn=D[3],Hr=D[4];I=D[5];const Xr=D[6],li=D[7],gr=D[8];L=D[9];const sr=D[10];k=D[11],M=D[12];const or=[D[13],D[13]],_n=this.textStates[M],kr=_n.font,Un=[_n.scale[0]*li,_n.scale[1]*li];let Mn;kr in this.widths_?Mn=this.widths_[kr]:(Mn={},this.widths_[kr]=Mn);const ci=ck(d,zt,pt,2),Ye=Math.abs(Un[0])*Rb(kr,k,Mn);if(Hr||Ye<=ci){const he=this.textStates[M].textAlign,de=(ci-Ye)*Tu[he],Ke=DB(d,zt,pt,2,k,de,Xr,Math.abs(Un[0]),Rb,kr,Mn,q?0:this.viewRotation_);e:if(Ke){const ft=[];let nt,gt,Zt,at,vt;if(L)for(nt=0,gt=Ke.length;nt<gt;++nt){vt=Ke[nt],Zt=vt[4],at=this.createLabel(Zt,M,"",L),v=vt[2]+(Un[0]<0?-sr:sr),w=Gn*at.height+(.5-Gn)*2*sr*Un[1]/Un[0]-gr;const lt=this.calculateImageOrLabelDimensions_(at.width,at.height,vt[0],vt[1],at.width,at.height,v,w,0,0,vt[3],or,!1,ya,!1,N);if(c&&c.collides(lt.declutterBox))break e;ft.push([e,n,at,lt,1,null,null])}if(I)for(nt=0,gt=Ke.length;nt<gt;++nt){vt=Ke[nt],Zt=vt[4],at=this.createLabel(Zt,M,I,""),v=vt[2],w=Gn*at.height-gr;const lt=this.calculateImageOrLabelDimensions_(at.width,at.height,vt[0],vt[1],at.width,at.height,v,w,0,0,vt[3],or,!1,ya,!1,N);if(c&&c.collides(lt.declutterBox))break e;ft.push([e,n,at,lt,1,null,null])}c&&c.load(ft.map(Fb));for(let lt=0,wn=ft.length;lt<wn;++lt)this.replayImageOrLabel_.apply(this,ft[lt])}}++h;break;case $e.END_GEOMETRY:if(o!==void 0){N=D[1];const he=o(N,j);if(he)return he}++h;break;case $e.FILL:F?O++:this.fill_(e),++h;break;case $e.MOVE_TO_LINE_TO:for(p=D[1],y=D[2],B=d[p],Y=d[p+1],R=B+.5|0,T=Y+.5|0,(R!==C||T!==b)&&(e.moveTo(B,Y),C=R,b=T),p+=2;p<y;p+=2)B=d[p],Y=d[p+1],R=B+.5|0,T=Y+.5|0,(p==y-2||R!==C||T!==b)&&(e.lineTo(B,Y),C=R,b=T);++h;break;case $e.SET_FILL_STYLE:z=D,this.alignFill_=D[2],O&&(this.fill_(e),O=0,W&&(e.stroke(),W=0)),e.fillStyle=D[1],++h;break;case $e.SET_STROKE_STYLE:X=D,W&&(e.stroke(),W=0),this.setStrokeStyle_(e,D),++h;break;case $e.STROKE:F?W++:e.stroke(),++h;break;default:++h;break}}O&&this.fill_(e),W&&e.stroke()}execute(e,n,r,i,s,o){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,1,n,this.hitDetectionInstructions,!0,i,s)}}const My=["Polygon","Circle","LineString","Image","Text","Default"];class Db{constructor(e,n,r,i,s,o){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=is(),this.createExecutors_(s)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e){for(const n in e){let r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);const i=e[n];for(const s in i){const o=i[s];r[s]=new zB(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,o){i=Math.round(i);const l=i*2+1,c=Mo(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=hr(l,l,void 0,{willReadFrequently:!0}));const h=this.hitDetectionContext_;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):d||h.clearRect(0,0,l,l);let f;this.renderBuffer_!==void 0&&(f=Gr(),Eu(f,e),Sd(f,n*(this.renderBuffer_+i),f));const p=$B(i);let y;function v(k,M){const L=h.getImageData(0,0,l,l).data;for(let I=0,O=p.length;I<O;I++)if(L[p[I]]>0){if(!o||y!=="Image"&&y!=="Text"||o.includes(k)){const W=(p[I]-3)/4,z=i-W%l,X=i-(W/l|0),G=s(k,M,z*z+X*X);if(G)return G}h.clearRect(0,0,l,l);break}}const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Ma);let C,b,R,T,P;for(C=w.length-1;C>=0;--C){const k=w[C].toString();for(R=this.executorsByZIndex_[k],b=My.length-1;b>=0;--b)if(y=My[b],T=R[y],T!==void 0&&(P=T.executeHitDetection(h,c,r,v,f),P))return P}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],o=n[3],l=[r,i,r,o,s,o,s,i];return Ra(l,0,8,2,e,l),l}isEmpty(){return Kl(this.executorsByZIndex_)}execute(e,n,r,i,s,o,l){const c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(Ma),this.maxExtent_&&(e.save(),this.clip(e,r)),o=o||My;let d,h,f,p,y,v;for(l&&c.reverse(),d=0,h=c.length;d<h;++d){const w=c[d].toString();for(y=this.executorsByZIndex_[w],f=0,p=o.length;f<p;++f){const C=o[f];v=y[C],v!==void 0&&v.execute(e,n,r,i,s,l)}}this.maxExtent_&&e.restore()}}const Iy={};function $B(t){if(Iy[t]!==void 0)return Iy[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let o=0;o<=t;++o){const l=s*s+o*o;if(l>n)break;let c=r[l];c||(c=[],r[l]=c),c.push(((t+s)*e+(t+o))*4+3),s>0&&c.push(((t-s)*e+(t+o))*4+3),o>0&&(c.push(((t+s)*e+(t-o))*4+3),s>0&&c.push(((t-s)*e+(t-o))*4+3))}const i=[];for(let s=0,o=r.length;s<o;++s)r[s]&&i.push(...r[s]);return Iy[t]=i,i}class BB extends Mk{constructor(e,n,r,i,s,o,l){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?Rv(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=is()}drawImages_(e,n,r,i){if(!this.image_)return;const s=Ra(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_,l=this.tmpLocalTransform_,c=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=c*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let h=0,f=s.length;h<f;h+=2){const p=s[h]-this.imageAnchorX_,y=s[h+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const v=p+this.imageAnchorX_,w=y+this.imageAnchorY_;Mo(l,v,w,1,1,d,-v,-w),o.setTransform.apply(o,l),o.translate(v,w),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,y,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=c)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Ra(e,n,r,i,this.transform_,this.pixelCoordinates_),o=this.context_;let l=this.textRotation_;for(this.transformRotation_===0&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);n<r;n+=i){const c=s[n]+this.textOffsetX_,d=s[n+1]+this.textOffsetY_;l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.translate(c-this.textOffsetX_,d-this.textOffsetY_),o.rotate(l),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,c,d),this.textFillState_&&o.fillText(this.text_,c,d))}}moveToLineTo_(e,n,r,i,s){const o=this.context_,l=Ra(e,n,r,i,this.transform_,this.pixelCoordinates_);o.moveTo(l[0],l[1]);let c=l.length;s&&(c-=2);for(let d=2;d<c;d+=2)o.lineTo(l[d],l[d+1]);return s&&o.closePath(),r}drawRings_(e,n,r,i){for(let s=0,o=r.length;s<o;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(ur(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=i$(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),o=this.context_;o.beginPath(),o.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);!r||!ur(this.extent_,r.getExtent())||(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(ur(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const o=e.getEnds(),l=e.getStride();r.beginPath();for(let c=0,d=o.length;c<d;++c)s=this.moveToLineTo_(i,s,o[c],l,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ur(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),o=e.getStride();n.beginPath();for(let l=0,c=s.length;l<c;++l){const d=s[l];i=this.drawRings_(r,i,d,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),Ws(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:Zu;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:ts(r||Fs)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),o=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),d=n.getMiterLimit(),h=s||Hu;this.strokeState_={lineCap:i!==void 0?i:Qf,lineDash:this.pixelRatio_===1?h:h.map(f=>f*this.pixelRatio_),lineDashOffset:(o||Xu)*this.pixelRatio_,lineJoin:l!==void 0?l:Yl,lineWidth:(c!==void 0?c:qu)*this.pixelRatio_,miterLimit:d!==void 0?d:Ku,strokeStyle:ts(r||Yu)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/r,o[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const y=n.getColor();this.textFillState_={fillStyle:ts(y||Fs)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const y=r.getColor(),v=r.getLineCap(),w=r.getLineDash(),C=r.getLineDashOffset(),b=r.getLineJoin(),R=r.getWidth(),T=r.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:Qf,lineDash:w||Hu,lineDashOffset:C||Xu,lineJoin:b!==void 0?b:Yl,lineWidth:R!==void 0?R:qu,miterLimit:T!==void 0?T:Ku,strokeStyle:ts(y||Yu)}}const i=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),l=e.getRotateWithView(),c=e.getRotation(),d=e.getScaleArray(),h=e.getText(),f=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:i!==void 0?i:Ek,textAlign:f!==void 0?f:Zu,textBaseline:p!==void 0?p:em},this.text_=h!==void 0?Array.isArray(h)?h.reduce((y,v,w)=>y+=w%2?" ":v,""):h:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=l!==void 0?l:!1,this.textRotation_=c!==void 0?c:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}}const Ji=.5;function GB(t,e,n,r,i,s,o){const l=t[0]*Ji,c=t[1]*Ji,d=hr(l,c);d.imageSmoothingEnabled=!1;const h=d.canvas,f=new BB(d,Ji,i,null,o),p=n.length,y=Math.floor((256*256*256-1)/p),v={};for(let C=1;C<=p;++C){const b=n[C-1],R=b.getStyleFunction()||r;if(!r)continue;let T=R(b,s);if(!T)continue;Array.isArray(T)||(T=[T]);const k=(C*y).toString(16).padStart(7,"#00000");for(let M=0,L=T.length;M<L;++M){const I=T[M],O=I.getGeometryFunction()(b);if(!O||!ur(i,O.getExtent()))continue;const W=I.clone(),z=W.getFill();z&&z.setColor(k);const X=W.getStroke();X&&(X.setColor(k),X.setLineDash(null)),W.setText(void 0);const G=I.getImage();if(G&&G.getOpacity()!==0){const F=G.getImageSize();if(!F)continue;const N=hr(F[0],F[1],void 0,{alpha:!1}),B=N.canvas;N.fillStyle=k,N.fillRect(0,0,B.width,B.height),W.setImage(new ng({img:B,imgSize:F,anchor:G.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:G.getOrigin(),opacity:1,size:G.getSize(),scale:G.getScale(),rotation:G.getRotation(),rotateWithView:G.getRotateWithView()}))}const Z=W.getZIndex()||0;let q=v[Z];q||(q={},v[Z]=q,q.Polygon=[],q.Circle=[],q.LineString=[],q.Point=[]);const H=O.getType();if(H==="GeometryCollection"){const F=O.getGeometriesArrayRecursive();for(let N=0,B=F.length;N<B;++N){const Y=F[N];q[Y.getType().replace("Multi","")].push(Y,W)}}else q[H.replace("Multi","")].push(O,W)}}const w=Object.keys(v).map(Number).sort(Ma);for(let C=0,b=w.length;C<b;++C){const R=v[w[C]];for(const T in R){const P=R[T];for(let k=0,M=P.length;k<M;k+=2){f.setStyle(P[k+1]);for(let L=0,I=e.length;L<I;++L)f.setTransform(e[L]),f.drawGeometry(P[k])}}}return d.getImageData(0,0,h.width,h.height)}function UB(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*Ji),s=Math.floor(Math.round(t[1])*Ji),o=(xn(i,0,n.width-1)+xn(s,0,n.height-1)*n.width)*4,l=n.data[o],c=n.data[o+1],h=n.data[o+2]+256*(c+256*l),f=Math.floor((256*256*256-1)/e.length);h&&h%f===0&&r.push(e[h/f-1])}return r}const WB=.5,jk={Point:eG,LineString:qB,Polygon:nG,MultiPoint:tG,MultiLineString:JB,MultiPolygon:QB,GeometryCollection:ZB,Circle:KB};function HB(t,e){return parseInt(tt(t),10)-parseInt(tt(e),10)}function XB(t,e){const n=K0(t,e);return n*n}function K0(t,e){return WB*t/e}function KB(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const c=t.getBuilder(n.getZIndex(),"Circle");c.setFillStrokeStyle(s,o),c.drawCircle(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}function Ob(t,e,n,r,i,s,o){let l=!1;const c=n.getImage();if(c){const d=c.getImageState();d==kn.LOADED||d==kn.ERROR?c.unlistenImageChange(i):(d==kn.IDLE&&c.load(),c.listenImageChange(i),l=!0)}return YB(t,e,n,r,s,o),l}function YB(t,e,n,r,i,s){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(r,i);if(n.getRenderer())Fk(t,l,n,e);else{const d=jk[l.getType()];d(t,l,n,e,s)}}function Fk(t,e,n,r){if(e.getType()=="GeometryCollection"){const s=e.getGeometries();for(let o=0,l=s.length;o<l;++o)Fk(t,s[o],n,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer())}function ZB(t,e,n,r,i){const s=e.getGeometriesArray();let o,l;for(o=0,l=s.length;o<l;++o){const c=jk[s[o].getType()];c(t,s[o],n,r,i)}}function qB(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function JB(t,e,n,r,i){const s=n.getStroke();if(s){const l=t.getBuilder(n.getZIndex(),"LineString");l.setFillStrokeStyle(null,s),l.drawMultiLineString(e,r)}const o=n.getText();if(o&&o.getText()){const l=(i||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function QB(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(o||s){const c=t.getBuilder(n.getZIndex(),"Polygon");c.setFillStrokeStyle(s,o),c.drawMultiPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}function eG(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=kn.LOADED)return;let c=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(c=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawPoint(e,r)}else o&&o.getText()&&(l={})}const d=c.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawPoint(e,r)}if(o&&o.getText()){let c=t;i&&(c=i);const d=c.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function tG(t,e,n,r,i){const s=n.getImage(),o=n.getText();let l;if(s){if(s.getImageState()!=kn.LOADED)return;let c=t;if(i){const h=s.getDeclutterMode();if(h!=="none")if(c=i,h==="obstacle"){const f=t.getBuilder(n.getZIndex(),"Image");f.setImageStyle(s,l),f.drawMultiPoint(e,r)}else o&&o.getText()&&(l={})}const d=c.getBuilder(n.getZIndex(),"Image");d.setImageStyle(s,l),d.drawMultiPoint(e,r)}if(o&&o.getText()){let c=t;i&&(c=i);const d=c.getBuilder(n.getZIndex(),"Text");d.setTextStyle(o,l),d.drawText(e,r)}}function nG(t,e,n,r,i){const s=n.getFill(),o=n.getStroke();if(s||o){const c=t.getBuilder(n.getZIndex(),"Polygon");c.setFillStrokeStyle(s,o),c.drawPolygon(e,r)}const l=n.getText();if(l&&l.getText()){const c=(i||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}class rG extends Nk{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Gr(),this.wrappedRenderedExtent_=Gr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,o=s.center,l=s.resolution,c=s.projection,d=s.rotation,h=c.getExtent(),f=this.getLayer().getSource(),p=n.pixelRatio,y=n.viewHints,v=!(y[Qn.ANIMATING]||y[Qn.INTERACTING]),w=this.compositionContext_,C=Math.round(n.size[0]*p),b=Math.round(n.size[1]*p),R=f.getWrapX()&&c.canWrapX(),T=R?Xt(h):null,P=R?Math.ceil((i[2]-h[2])/T)+1:1;let k=R?Math.floor((i[0]-h[0])/T):0;do{const M=this.getRenderTransform(o,l,d,p,C,b,k*T);e.execute(w,1,M,d,v,void 0,r)}while(++k<P)}setupCompositionContext_(){if(this.opacity_!==1){const e=hr(this.context.canvas.width,this.context.canvas.height,jb);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,Qm(this.compositionContext_),jb.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,n){const r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];kz(this.pixelTransform,1/r,1/r),Sv(this.inversePixelTransform,this.pixelTransform);const s=OP(this.pixelTransform);this.useContainer(n,s,this.getBackground(e));const o=this.context,l=o.canvas,c=this.replayGroup_,d=this.declutterExecutorGroup;if((!c||c.isEmpty())&&(!d||d.isEmpty()))return null;const h=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);l.width!=h||l.height!=f?(l.width=h,l.height=f,l.style.transform!==s&&(l.style.transform=s)):this.containerReused||o.clearRect(0,0,h,f),this.preRender(o,e);const p=e.viewState;p.projection,this.opacity_=i.opacity,this.setupCompositionContext_();let y=!1,v=!0;if(i.extent&&this.clipping){const w=Co(i.extent);v=ur(w,e.extent),y=v&&!ga(w,e.extent),y&&this.clipUnrotated(this.compositionContext_,e,w)}return v&&this.renderWorlds(c,e),y&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(o,e),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];Ln(this.pixelTransform,r);const i=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,l=this.renderedProjection_,c=this.wrappedRenderedExtent_,d=this.getLayer(),h=[],f=r[0]*Ji,p=r[1]*Ji;h.push(this.getRenderTransform(i,s,o,Ji,f,p,0).slice());const y=d.getSource(),v=l.getExtent();if(y.getWrapX()&&l.canWrapX()&&!ga(v,c)){let w=c[0];const C=Xt(v);let b=0,R;for(;w<v[0];)--b,R=C*b,h.push(this.getRenderTransform(i,s,o,Ji,f,p,R).slice()),w+=C;for(b=0,w=c[2];w>v[2];)++b,R=C*b,h.push(this.getRenderTransform(i,s,o,Ji,f,p,R).slice()),w-=C}this.hitDetectionImageData_=GB(r,h,this.renderedFeatures_,d.getStyleFunction(),c,s,o)}n(UB(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){if(!this.replayGroup_)return;const o=n.viewState.resolution,l=n.viewState.rotation,c=this.getLayer(),d={},h=function(y,v,w){const C=tt(y),b=d[C];if(b){if(b!==!0&&w<b.distanceSq){if(w===0)return d[C]=!0,s.splice(s.lastIndexOf(b),1),i(y,c,v);b.geometry=v,b.distanceSq=w}}else{if(w===0)return d[C]=!0,i(y,c,v);s.push(d[C]={feature:y,layer:c,geometry:v,distanceSq:w,callback:i})}};let f;const p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some(y=>f=y.forEachFeatureAtCoordinate(e,o,l,r,h,y===this.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(v=>v.value):null)),f}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[Qn.ANIMATING],s=e.viewHints[Qn.INTERACTING],o=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(this.ready&&!o&&i||!l&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const c=e.extent,d=e.viewState,h=d.projection,f=d.resolution,p=e.pixelRatio,y=n.getRevision(),v=n.getRenderBuffer();let w=n.getRenderOrder();w===void 0&&(w=HB);const C=d.center.slice(),b=Sd(c,v*f),R=b.slice(),T=[b.slice()],P=h.getExtent();if(r.getWrapX()&&h.canWrapX()&&!ga(P,e.extent)){const q=Xt(P),H=Math.max(Xt(b)/2,q);b[0]=P[0]-H,b[2]=P[2]+H,YP(C,h);const F=UP(T[0],h);F[0]<P[0]&&F[2]<P[2]?T.push([F[0]+q,F[1],F[2]+q,F[3]]):F[0]>P[0]&&F[2]>P[2]&&T.push([F[0]-q,F[1],F[2]-q,F[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==y&&this.renderedRenderOrder_==w&&ga(this.wrappedRenderedExtent_,b))return Ws(this.renderedExtent_,R)||(this.hitDetectionImageData_=null,this.renderedExtent_=R),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const k=new Nb(K0(f,p),b,f,p);let M;this.getLayer().getDeclutter()&&(M=new Nb(K0(f,p),b,f,p));let L;for(let q=0,H=T.length;q<H;++q)r.loadFeatures(T[q],f,h);const I=XB(f,p);let O=!0;const W=q=>{let H;const F=q.getStyleFunction()||n.getStyleFunction();if(F&&(H=F(q,f)),H){const N=this.renderFeature(q,I,H,k,L,M);O=O&&!N}},z=Iv(b),X=r.getFeaturesInExtent(z);w&&X.sort(w);for(let q=0,H=X.length;q<H;++q)W(X[q]);this.renderedFeatures_=X,this.ready=O;const G=k.finish(),Z=new Db(b,f,p,r.getOverlaps(),G,n.getRenderBuffer());return M&&(this.declutterExecutorGroup=new Db(b,f,p,r.getOverlaps(),M.finish(),n.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=y,this.renderedRenderOrder_=w,this.renderedExtent_=R,this.wrappedRenderedExtent_=b,this.renderedCenter_=C,this.renderedProjection_=h,this.replayGroup_=Z,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,o){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let c=0,d=r.length;c<d;++c)l=Ob(i,e,r[c],n,this.boundHandleStyleImageChange_,s,o)||l;else l=Ob(i,e,r,n,this.boundHandleStyleImageChange_,s,o);return l}}class ds extends PB{constructor(e){super(e)}createRenderer(){return new rG(this)}}const Ri={modeRef:{current:null},onFinishCallback:{current:null}};function iG(){const[t,e]=_.useState(null),[n,r]=_.useState(0),[i,s]=_.useState("Click para colocar el primer vrtice");return{polygonMode:t,setMode:c=>{Ri.modeRef.current=c,e(c)},resetPolygonState:()=>{Ri.modeRef.current=null,Ri.onFinishCallback.current=null,e(null),r(0),s("Click para colocar el primer vrtice")},area:n,setArea:r,tooltipText:i,setTooltipText:s}}function Pu(t){if(!t)return 0;try{return Hm(t,{projection:"EPSG:3857"})}catch{return 0}}const tr={base:new nn({stroke:new fn({color:"#FFFFFF",width:5}),fill:new Tn({color:"rgba(255, 255, 255, 0.05)"})}),draw:new nn({stroke:new fn({color:"#FF4D00",width:4,lineDash:[0,0,10,10]}),fill:new Tn({color:"rgba(255, 77, 0, 0.2)"})}),edit:new nn({stroke:new fn({color:"#00FFFF",width:4,lineDash:[0,0,10,10]}),fill:new Tn({color:"rgba(0, 255, 255, 0.15)"})}),vertexEdit:new nn({image:new Or({radius:6,fill:new Tn({color:"#00FFFF"}),stroke:new fn({color:"#FFFFFF",width:3})})}),vertexIntermediate:new nn({image:new Or({radius:4.5,fill:new Tn({color:"#777777"}),stroke:new fn({color:"#FFFFFF",width:2.5})})}),vertexDelete:new nn({image:new Or({radius:6,fill:new Tn({color:"#860000"}),stroke:new fn({color:"#FF0000",width:4})})}),vertexDraw:new nn({image:new Or({radius:6,fill:new Tn({color:"#FF4D00"}),stroke:new fn({color:"#FFFFFF",width:3})})}),previewVertex:new nn({image:new Or({radius:6,fill:new Tn({color:"#777777"}),stroke:new fn({color:"#FFFFFF",width:3})})}),previewVertexSnap:new nn({image:new Or({radius:6,fill:new Tn({color:"#FFFFFF"}),stroke:new fn({color:"#FF4D00",width:3})})}),previewLine:new nn({stroke:new fn({color:"#FF8300",width:4,lineDash:[0,0,10,10]})})};function Hv({mapRef:t,parcelas:e,formData:n,clearEdit:r,activateEditMode:i,getCreatedFeature:s,setFormData:o,setAreaCampo:l,setAreaParcela:c,enabled:d=!0,modoVisualizacionCampo:h=!1,onSelectFeature:f=null}){const p=_.useRef(null),y=_.useRef([]),v=()=>{const b=t.current;b&&(y.current.forEach(R=>b.removeLayer(R)),y.current=[],b.getLayers().getArray().forEach(R=>{var P;((P=R.getStyle)==null?void 0:P.call(R))===tr.edit&&b.removeLayer(R)}))},w=b=>{var P;if(["draw","draw-edit"].includes(Ri.modeRef.current))return;const R=t.current;if(!R)return;const T=s();if((P=T==null?void 0:T.getGeometry())!=null&&P.intersectsCoordinate(b.coordinate)){r(),i(T);return}R.forEachFeatureAtPixel(b.pixel,k=>{if(!k||!k.getGeometry())return;const M=k.getGeometry().getType();if(M!=="Polygon"&&M!=="MultiPolygon")return;const L=k.getId()||k.get("parcela_id"),I=n.campo_id,O=(e[I]||[]).find(W=>W.id==L);if(O){o(h?W=>({...W,parcela_id:O.id}):{campo_id:I,parcela_id:O.id,nombre:O.nombre||"",descripcion:O.descripcion||""});try{const W=k.clone();W.setId(O.id),i(W);try{const z=k.clone();z.setId(O.id),i(z),typeof f=="function"&&f(z,O)}catch(z){console.error("Error al clonar feature:",z)}}catch(W){console.error("Error al clonar feature:",W)}}})},C=()=>{const b=t.current;if(!b||!n.campo_id)return;r(),v(),p.current&&(b.un("click",p.current),p.current=null),h||(b.on("click",w),p.current=w);const R=e[n.campo_id]||[],T=new gk;let P=0;if(h){R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const L=new Os({features:[M]}),I=new ds({source:L,style:tr.base});b.addLayer(I),y.current.push(I),P+=Pu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),c(0);return}if(n.parcela_id===""||n.parcela_id==="temporal")R.forEach(k=>{try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id);const L=new Os({features:[M]}),I=new ds({source:L,style:tr.base});b.addLayer(I),y.current.push(I),P+=Pu(M.getGeometry())}catch(M){console.error("Error leyendo feature:",M)}}),l(P),c(0);else{const k=R.find(M=>M.id==n.parcela_id);if(k)try{const M=T.readFeature(k,{featureProjection:"EPSG:3857"});if(!M.getGeometry())return;M.setId(k.id),i(M);const L=Pu(M.getGeometry());c(L),typeof f=="function"&&f(M,k)}catch(M){console.error("Error leyendo feature seleccionada:",M)}}};return _.useEffect(()=>{if(d)return C(),()=>{v(),p.current&&t.current&&(t.current.un("click",p.current),p.current=null)}},[n.campo_id,n.parcela_id,e]),{setFeaturesOnMap:C,clearParcelas:v}}function Xv(t){_.useEffect(()=>()=>{typeof t=="function"&&t()},[])}const Rd=_.createContext(null);function sG({children:t}){const e=_.useRef(null),[n,r]=_.useState(!1),i=_.useCallback(()=>{const s=document.getElementById("map");s&&e.current&&(e.current.setTarget(null),e.current=null,s.innerHTML="",r(!1))},[]);return _.useEffect(()=>{const s=new ResizeObserver(()=>{const l=document.getElementById("map");(l==null?void 0:l.offsetWidth)>0&&(l==null?void 0:l.offsetHeight)>0&&!e.current&&r(!0)}),o=document.getElementById("map");return o&&s.observe(o),()=>s.disconnect()},[]),g.jsx(Rd.Provider,{value:{mapRef:e,ready:n,resetMap:i},children:g.jsxs("div",{className:"relative w-full h-full flex-grow overflow-hidden",children:[g.jsx("div",{id:"map",className:"absolute inset-0 z-0",children:g.jsx("div",{id:"popup-cluster-container",className:"min-w-[250px]"})}),n&&t]})})}const Td=_.createContext();function oG({children:t}){const[e,n]=_.useState(null),[r,i]=_.useState(null);return g.jsx(Td.Provider,{value:{campoSeleccionado:e,setCampoSeleccionado:n,lastCampoId:r,setLastCampoId:i},children:t})}class _o extends Vi{constructor(e,n){super(e),this.layer=n}}const Ny={LAYERS:"layers"};class gc extends vk{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Ny.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new $r(r.slice(),{unique:!0}):ut(typeof r.getArray=="function",43):r=new $r(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Gt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(_t(e,yn.ADD,this.handleLayersAdd_,this),_t(e,yn.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(Gt);mc(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new _o("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[_t(e,Hl.PROPERTYCHANGE,this.handleLayerChange_,this),_t(e,et.CHANGE,this.handleLayerChange_,this)];e instanceof gc&&n.push(_t(e,"addlayer",this.handleLayerGroupAdd_,this),_t(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[tt(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new _o("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new _o("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new _o("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=tt(n);this.listenerKeys_[r].forEach(Gt),delete this.listenerKeys_[r],this.dispatchEvent(new _o("removelayer",n)),this.changed()}getLayers(){return this.get(Ny.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new _o("removelayer",r[i]))}this.set(Ny.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let o=r,l=n.length;o<l;o++){const c=n[o];c.opacity*=i.opacity,c.visible=c.visible&&i.visible,c.maxResolution=Math.min(c.maxResolution,i.maxResolution),c.minResolution=Math.max(c.minResolution,i.minResolution),c.minZoom=Math.max(c.minZoom,i.minZoom),c.maxZoom=Math.min(c.maxZoom,i.maxZoom),i.extent!==void 0&&(c.extent!==void 0?c.extent=Ru(c.extent,i.extent):c.extent=i.extent),c.zIndex===void 0&&(c.zIndex=s)}return n}getSourceState(){return"ready"}}const He={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Lk extends $m{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(et.CHANGE)}release(){this.state===He.ERROR&&this.setState(He.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(e.getState()==He.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(e.getState()==He.LOADED){e.interimTile=null;break}else e.getState()==He.LOADING?n=e:e.getState()==He.IDLE?n.interimTile=e.interimTile:n=e;e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==He.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){Qe()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:_k(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}class Dk extends Lk{constructor(e,n,r,i,s,o){super(e,n,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=He.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=He.ERROR,this.unlistenImage_(),this.image_=aG(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=He.LOADED:this.state=He.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==He.ERROR&&(this.state=He.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==He.IDLE&&(this.state=He.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=kk(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function aG(){const t=hr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const lG=.5,cG=10,Vb=.25;class uG{constructor(e,n,r,i,s,o){this.sourceProj_=e,this.targetProj_=n;let l={};const c=Xf(this.targetProj_,this.sourceProj_);this.transformInv_=function(R){const T=R[0]+"/"+R[1];return l[T]||(l[T]=c(R)),l[T]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Xt(i)==Xt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Xt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Xt(this.targetProj_.getExtent()):null;const d=Ua(r),h=Wm(r),f=Um(r),p=Gm(r),y=this.transformInv_(d),v=this.transformInv_(h),w=this.transformInv_(f),C=this.transformInv_(p),b=cG+(o?Math.max(0,Math.ceil(Math.log2(F0(r)/(o*o*256*256)))):0);if(this.addQuad_(d,h,f,p,y,v,w,C,b),this.wrapsXInSource_){let R=1/0;this.triangles_.forEach(function(T,P,k){R=Math.min(R,T.source[0][0],T.source[1][0],T.source[2][0])}),this.triangles_.forEach(T=>{if(Math.max(T.source[0][0],T.source[1][0],T.source[2][0])-R>this.sourceWorldWidth_/2){const P=[[T.source[0][0],T.source[0][1]],[T.source[1][0],T.source[1][1]],[T.source[2][0],T.source[2][1]]];P[0][0]-R>this.sourceWorldWidth_/2&&(P[0][0]-=this.sourceWorldWidth_),P[1][0]-R>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_),P[2][0]-R>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);const k=Math.min(P[0][0],P[1][0],P[2][0]);Math.max(P[0][0],P[1][0],P[2][0])-k<this.sourceWorldWidth_/2&&(T.source=P)}})}l={}}addTriangle_(e,n,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[e,n,r]})}addQuad_(e,n,r,i,s,o,l,c,d){const h=xi([s,o,l,c]),f=this.sourceWorldWidth_?Xt(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,y=this.sourceProj_.canWrapX()&&f>.5&&f<1;let v=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=xi([e,n,r,i]);v=Xt(C)/this.targetWorldWidth_>Vb||v}!y&&this.sourceProj_.isGlobal()&&f&&(v=f>Vb||v)}if(!v&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!ur(h,this.maxSourceExtent_))return;let w=0;if(!v&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(c[0])||!isFinite(c[1]))){if(d>0)v=!0;else if(w=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(d>0){if(!v){const C=[(e[0]+r[0])/2,(e[1]+r[1])/2],b=this.transformInv_(C);let R;y?R=(Ea(s[0],p)+Ea(l[0],p))/2-Ea(b[0],p):R=(s[0]+l[0])/2-b[0];const T=(s[1]+l[1])/2-b[1];v=R*R+T*T>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const C=[(n[0]+r[0])/2,(n[1]+r[1])/2],b=this.transformInv_(C),R=[(i[0]+e[0])/2,(i[1]+e[1])/2],T=this.transformInv_(R);this.addQuad_(e,n,C,R,s,o,b,T,d-1),this.addQuad_(R,C,r,i,T,b,l,c,d-1)}else{const C=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(C),R=[(r[0]+i[0])/2,(r[1]+i[1])/2],T=this.transformInv_(R);this.addQuad_(e,C,R,i,s,b,T,c,d-1),this.addQuad_(C,n,r,R,b,o,l,T,d-1)}return}}if(y){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(e,r,i,s,l,c),(w&14)==0&&this.addTriangle_(e,r,n,s,l,o),w&&((w&13)==0&&this.addTriangle_(n,i,e,o,c,s),(w&7)==0&&this.addTriangle_(n,i,r,o,c,l))}calculateSourceExtent(){const e=Gr();return this.triangles_.forEach(function(n,r,i){const s=n.source;Eu(e,s[0]),Eu(e,s[1]),Eu(e,s[2])}),e}getTriangles(){return this.triangles_}}let jy;const Bl=[];function zb(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Fy(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function dG(){if(jy===void 0){const t=hr(6,6,Bl);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",zb(t,4,5,4,0),zb(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;jy=Fy(e,0)||Fy(e,4)||Fy(e,8),Qm(t),Bl.push(t.canvas)}return jy}function $b(t,e,n,r){const i=Mv(n,e,t);let s=ob(e,r,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const l=t.getMetersPerUnit();l!==void 0&&(s/=l);const c=t.getExtent();if(!c||Bm(c,i)){const d=ob(t,s,i)/s;isFinite(d)&&d>0&&(s/=d)}return s}function hG(t,e,n,r){const i=Io(n);let s=$b(t,e,i,r);return(!isFinite(s)||s<=0)&&GP(n,function(o){return s=$b(t,e,o,r),isFinite(s)&&s>0}),s}function fG(t,e,n,r,i,s,o,l,c,d,h,f){const p=hr(Math.round(n*t),Math.round(n*e),Bl);if(f||(p.imageSmoothingEnabled=!1),c.length===0)return p.canvas;p.scale(n,n);function y(P){return Math.round(P*n)/n}p.globalCompositeOperation="lighter";const v=Gr();c.forEach(function(P,k,M){$P(v,P.extent)});const w=Xt(v),C=us(v),b=hr(Math.round(n*w/r),Math.round(n*C/r),Bl);f||(b.imageSmoothingEnabled=!1);const R=n/r;c.forEach(function(P,k,M){const L=P.extent[0]-v[0],I=-(P.extent[3]-v[3]),O=Xt(P.extent),W=us(P.extent);P.image.width>0&&P.image.height>0&&b.drawImage(P.image,d,d,P.image.width-2*d,P.image.height-2*d,L*R,I*R,O*R,W*R)});const T=Ua(o);return l.getTriangles().forEach(function(P,k,M){const L=P.source,I=P.target;let O=L[0][0],W=L[0][1],z=L[1][0],X=L[1][1],G=L[2][0],Z=L[2][1];const q=y((I[0][0]-T[0])/s),H=y(-(I[0][1]-T[1])/s),F=y((I[1][0]-T[0])/s),N=y(-(I[1][1]-T[1])/s),B=y((I[2][0]-T[0])/s),Y=y(-(I[2][1]-T[1])/s),j=O,D=W;O=0,W=0,z-=j,X-=D,G-=j,Z-=D;const re=[[z,X,0,0,F-q],[G,Z,0,0,B-q],[0,0,z,X,N-H],[0,0,G,Z,Y-H]],ie=Hz(re);if(ie){if(p.save(),p.beginPath(),dG()||!f){p.moveTo(F,N);const ce=4,ge=q-F,ae=H-N;for(let xe=0;xe<ce;xe++)p.lineTo(F+y((xe+1)*ge/ce),N+y(xe*ae/(ce-1))),xe!=ce-1&&p.lineTo(F+y((xe+1)*ge/ce),N+y((xe+1)*ae/(ce-1)));p.lineTo(B,Y)}else p.moveTo(F,N),p.lineTo(q,H),p.lineTo(B,Y);p.clip(),p.transform(ie[0],ie[2],ie[1],ie[3],q,H),p.translate(v[0]-j,v[3]-D),p.scale(r/n,-r/n),p.drawImage(b.canvas,0,0),p.restore()}}),Qm(b),Bl.push(b.canvas),h&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,l.getTriangles().forEach(function(P,k,M){const L=P.target,I=(L[0][0]-T[0])/s,O=-(L[0][1]-T[1])/s,W=(L[1][0]-T[0])/s,z=-(L[1][1]-T[1])/s,X=(L[2][0]-T[0])/s,G=-(L[2][1]-T[1])/s;p.beginPath(),p.moveTo(W,z),p.lineTo(I,O),p.lineTo(X,G),p.closePath(),p.stroke()}),p.restore()),p.canvas}class Y0 extends Lk{constructor(e,n,r,i,s,o,l,c,d,h,f,p){super(s,He.IDLE,{interpolate:!!p}),this.renderEdges_=f!==void 0?f:!1,this.pixelRatio_=l,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const y=i.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const C=v?Ru(y,v):y;if(F0(C)===0){this.state=He.EMPTY;return}const b=e.getExtent();b&&(w?w=Ru(w,b):w=b);const R=i.getResolution(this.wrappedTileCoord_[0]),T=hG(e,r,C,R);if(!isFinite(T)||T<=0){this.state=He.EMPTY;return}const P=h!==void 0?h:lG;if(this.triangulation_=new uG(e,r,C,w,T*P,R),this.triangulation_.getTriangles().length===0){this.state=He.EMPTY;return}this.sourceZ_=n.getZForResolution(T);let k=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(k[1]=xn(k[1],w[1],w[3]),k[3]=xn(k[3],w[1],w[3])):k=Ru(k,w)),!F0(k))this.state=He.EMPTY;else{const M=n.getTileRangeForExtentAndZ(k,this.sourceZ_);for(let L=M.minX;L<=M.maxX;L++)for(let I=M.minY;I<=M.maxY;I++){const O=d(this.sourceZ_,L,I,l);O&&this.sourceTiles_.push(O)}this.sourceTiles_.length===0&&(this.state=He.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==He.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=He.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],o=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=fG(i,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,c,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=He.LOADED}this.changed()}load(){if(this.state==He.IDLE){this.state=He.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==He.IDLE||r==He.LOADING){e++;const i=_t(n,et.CHANGE,function(s){const o=n.getState();(o==He.LOADED||o==He.ERROR||o==He.EMPTY)&&(Gt(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==He.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Gt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Qm(this.canvas_.getContext("2d")),Bl.push(this.canvas_),this.canvas_=null),super.release()}}class Kv{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function _l(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new Kv(t,e,n,r)}class mG extends Nk{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Gr(),this.tmpTileRange_=new Kv(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==He.LOADED||r==He.EMPTY||r==He.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,o=i.viewState.projection,l=this.getLayer();let d=l.getSource().getTile(e,n,r,s,o);return d.getState()==He.ERROR&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(d)||(d=d.getInterimTile()),d}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Ln(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!Bm(s,i))return null;const o=n.pixelRatio,l=n.viewState.projection,c=n.viewState,d=r.getRenderSource(),h=d.getTileGridForProjection(c.projection),f=d.getTilePixelRatio(n.pixelRatio);for(let p=h.getZForResolution(c.resolution);p>=h.getMinZoom();--p){const y=h.getTileCoordForCoordAndZ(i,p),v=d.getTile(p,y[1],y[2],o,l);if(!(v instanceof Dk||v instanceof Y0)||v instanceof Y0&&v.getState()===He.EMPTY)return null;if(v.getState()!==He.LOADED)continue;const w=h.getOrigin(p),C=zr(h.getTileSize(p)),b=h.getResolution(p),R=Math.floor(f*((i[0]-w[0])/b-y[1]*C[0])),T=Math.floor(f*((w[1]-i[1])/b-y[2]*C[1])),P=Math.round(f*d.getGutterForProjection(c.projection));return this.getImageData(v.getImage(),R+P,T+P)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,o=i.resolution,l=i.center,c=i.rotation,d=e.pixelRatio,h=this.getLayer(),f=h.getSource(),p=f.getRevision(),y=f.getTileGridForProjection(s),v=y.getZForResolution(o,f.zDirection),w=y.getResolution(v);let C=e.extent;const b=e.viewState.resolution,R=f.getTilePixelRatio(d),T=Math.round(Xt(C)/b*d),P=Math.round(us(C)/b*d),k=r.extent&&Co(r.extent);k&&(C=Ru(C,Co(r.extent)));const M=w*T/2/R,L=w*P/2/R,I=[l[0]-M,l[1]-L,l[0]+M,l[1]+L],O=y.getTileRangeForExtentAndZ(C,v),W={};W[v]={};const z=this.createLoadedTileFinder(f,s,W),X=this.tmpExtent,G=this.tmpTileRange_;this.newTiles_=!1;const Z=c?D0(i.center,b,c,e.size):void 0;for(let re=O.minX;re<=O.maxX;++re)for(let ie=O.minY;ie<=O.maxY;++ie){if(c&&!y.tileCoordIntersectsViewport([v,re,ie],Z))continue;const ce=this.getTile(v,re,ie,e);if(this.isDrawableTile(ce)){const xe=tt(this);if(ce.getState()==He.LOADED){W[v][ce.tileCoord.toString()]=ce;let Se=ce.inTransition(xe);Se&&r.opacity!==1&&(ce.endTransition(xe),Se=!1),!this.newTiles_&&(Se||!this.renderedTiles.includes(ce))&&(this.newTiles_=!0)}if(ce.getAlpha(xe,e.time)===1)continue}const ge=y.getTileCoordChildTileRange(ce.tileCoord,G,X);let ae=!1;ge&&(ae=z(v+1,ge)),ae||y.forEachTileCoordParentTileRange(ce.tileCoord,z,G,X)}const q=w/o*d/R;Mo(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,c,-T/2,-P/2);const H=OP(this.pixelTransform);this.useContainer(n,H,this.getBackground(e));const F=this.context,N=F.canvas;Sv(this.inversePixelTransform,this.pixelTransform),Mo(this.tempTransform,T/2,P/2,q,q,0,-T/2,-P/2),N.width!=T||N.height!=P?(N.width=T,N.height=P):this.containerReused||F.clearRect(0,0,T,P),k&&this.clipUnrotated(F,e,k),f.getInterpolate()||(F.imageSmoothingEnabled=!1),this.preRender(F,e),this.renderedTiles.length=0;let B=Object.keys(W).map(Number);B.sort(Ma);let Y,j,D;r.opacity===1&&(!this.containerReused||f.getOpaque(e.viewState.projection))?B=B.reverse():(Y=[],j=[]);for(let re=B.length-1;re>=0;--re){const ie=B[re],ce=f.getTilePixelSize(ie,d,s),ae=y.getResolution(ie)/w,xe=ce[0]*ae*q,Se=ce[1]*ae*q,Ee=y.getTileCoordForCoordAndZ(Ua(I),ie),Xe=y.getTileCoordExtent(Ee),Ve=Ln(this.tempTransform,[R*(Xe[0]-I[0])/w,R*(I[3]-Xe[3])/w]),wt=R*f.getGutterForProjection(s),xt=W[ie];for(const Dt in xt){const Vt=xt[Dt],Ft=Vt.tileCoord,An=Ee[1]-Ft[1],bt=Math.round(Ve[0]-(An-1)*xe),$=Ee[2]-Ft[2],J=Math.round(Ve[1]-($-1)*Se),ee=Math.round(Ve[0]-An*xe),pe=Math.round(Ve[1]-$*Se),me=bt-ee,ne=J-pe,ve=v===ie,Fe=ve&&Vt.getAlpha(tt(this),e.time)!==1;let ze=!1;if(!Fe)if(Y){D=[ee,pe,ee+me,pe,ee+me,pe+ne,ee,pe+ne];for(let Et=0,zt=Y.length;Et<zt;++Et)if(v!==ie&&ie<j[Et]){const pt=Y[Et];ur([ee,pe,ee+me,pe+ne],[pt[0],pt[3],pt[4],pt[7]])&&(ze||(F.save(),ze=!0),F.beginPath(),F.moveTo(D[0],D[1]),F.lineTo(D[2],D[3]),F.lineTo(D[4],D[5]),F.lineTo(D[6],D[7]),F.moveTo(pt[6],pt[7]),F.lineTo(pt[4],pt[5]),F.lineTo(pt[2],pt[3]),F.lineTo(pt[0],pt[1]),F.clip())}Y.push(D),j.push(ie)}else F.clearRect(ee,pe,me,ne);this.drawTileImage(Vt,e,ee,pe,me,ne,wt,ve),Y&&!Fe?(ze&&F.restore(),this.renderedTiles.unshift(Vt)):this.renderedTiles.push(Vt),this.updateUsedTiles(e.usedTiles,f,Vt)}}return this.renderedRevision=p,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!$u(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=d,this.renderedProjection=s,this.manageTilePyramid(e,f,y,d,s,C,v,h.getPreload()),this.scheduleExpireCache(e,f),this.postRender(F,e),r.extent&&F.restore(),F.imageSmoothingEnabled=!0,H!==N.style.transform&&(N.style.transform=H),this.container}drawTileImage(e,n,r,i,s,o,l,c){const d=this.getTileImage(e);if(!d)return;const h=tt(this),f=n.layerStatesArray[n.layerIndex],p=f.opacity*(c?e.getAlpha(h,n.time):1),y=p!==this.context.globalAlpha;y&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(d,l,l,d.width-2*l,d.height-2*l,r,i,s,o),y&&this.context.restore(),p!==f.opacity?n.animate=!0:c&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=(function(i,s,o){const l=tt(i);l in o.usedTiles&&i.expireCache(o.viewState.projection,o.usedTiles[l])}).bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=tt(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,o,l,c,d){const h=tt(n);h in e.wantedTiles||(e.wantedTiles[h]={});const f=e.wantedTiles[h],p=e.tileQueue,y=r.getMinZoom(),v=e.viewState.rotation,w=v?D0(e.viewState.center,e.viewState.resolution,v,e.size):void 0;let C=0,b,R,T,P,k,M;for(M=y;M<=l;++M)for(R=r.getTileRangeForExtentAndZ(o,M,R),T=r.getResolution(M),P=R.minX;P<=R.maxX;++P)for(k=R.minY;k<=R.maxY;++k)v&&!r.tileCoordIntersectsViewport([M,P,k],w)||(l-M<=c?(++C,b=n.getTile(M,P,k,i,s),b.getState()==He.IDLE&&(f[b.getKey()]=!0,p.isKeyQueued(b.getKey())||p.enqueue([b,h,r.getTileCoordCenter(b.tileCoord),T])),d!==void 0&&d(b)):n.useTile(M,P,k,s));n.updateCacheSize(C,s)}}const lf={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class gG{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return ut(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return ut(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){ut(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}function Bb(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function ig(t,e,n){return t+"/"+e+"/"+n}function Ok(t){return ig(t[0],t[1],t[2])}function pG(t){return t.split("/").map(Number)}function yG(t){return(t[1]<<t[0])+t[2]}function xG(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}class Vk extends gG{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=pG(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(Ok(i.tileCoord)),i.release())})}}const wl=[0,0,0],po=5;class zk{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ut(pz(this.resolutions_,function(i,s){return s-i}),17);let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ut(this.origins_.length==this.resolutions_.length,20));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Ua(r)),ut(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ut(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:zv,ut(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map(function(i,s){const o=new Kv(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const l=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,o=i.maxX;s<=o;++s)for(let l=i.minY,c=i.maxY;l<=c;++l)r([n,s,l])}forEachTileCoordParentTileRange(e,n,r,i){let s,o,l,c=null,d=e[0]-1;for(this.zoomFactor_===2?(o=e[1],l=e[2]):c=this.getTileCoordExtent(e,i);d>=this.minZoom;){if(this.zoomFactor_===2?(o=Math.floor(o/2),l=Math.floor(l/2),s=_l(o,o,l,l,r)):s=this.getTileRangeForExtentAndZ(c,d,r),n(d,s))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return _l(s,s+1,o,o+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],o=e[2];if(n===i)return _l(s,o,s,o,r);if(this.zoomFactor_){const c=Math.pow(this.zoomFactor_,n-i),d=Math.floor(s*c),h=Math.floor(o*c);if(n<i)return _l(d,d,h,h,r);const f=Math.floor(c*(s+1))-1,p=Math.floor(c*(o+1))-1;return _l(d,f,h,p,r)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,n,r)}getTileRangeExtent(e,n,r){const i=this.getOrigin(e),s=this.getResolution(e),o=zr(this.getTileSize(e),this.tmpSize_),l=i[0]+n.minX*o[0]*s,c=i[0]+(n.maxX+1)*o[0]*s,d=i[1]+n.minY*o[1]*s,h=i[1]+(n.maxY+1)*o[1]*s;return Ds(l,d,c,h,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,wl);const i=wl[1],s=wl[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,wl);const o=wl[1],l=wl[2];return _l(i,o,s,l,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=zr(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=zr(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*i,l=r[1]-(e[2]+1)*s[1]*i,c=o+s[0]*i,d=l+s[1]*i;return Ds(o,l,c,d,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const o=this.getZForResolution(r),l=r/this.getResolution(o),c=this.getOrigin(o),d=zr(this.getTileSize(o),this.tmpSize_);let h=l*(e-c[0])/r/d[0],f=l*(c[1]-n)/r/d[1];return i?(h=Jh(h,po)-1,f=Jh(f,po)-1):(h=qh(h,po),f=qh(f,po)),Bb(o,h,f,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const o=this.getOrigin(r),l=this.getResolution(r),c=zr(this.getTileSize(r),this.tmpSize_);let d=(e-o[0])/l/c[0],h=(o[1]-n)/l/c[1];return i?(d=Jh(d,po)-1,h=Jh(h,po)-1):(d=qh(d,po),h=qh(h,po)),Bb(r,d,h,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=_v(this.resolutions_,e,n||0);return xn(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return ak(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}const Ly={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};function $k(t){let e=t.getDefaultTileGrid();return e||(e=wG(t),t.setDefaultTileGrid(e)),e}function vG(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=Yv(n);if(!Bm(s,i)){const o=Xt(s),l=Math.ceil((s[0]-i[0])/o);return i[0]+=o*l,t.getTileCoordForCoordAndZ(i,r)}return e}function _G(t,e,n,r){r=r!==void 0?r:"top-left";const i=Gk(t,e,n);return new zk({extent:t,origin:Iz(t,r),resolutions:i,tileSize:n})}function Bk(t){const e=t||{},n=e.extent||vn("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Gk(n,e.maxZoom,e.tileSize,e.maxResolution)};return new zk(r)}function Gk(t,e,n,r){e=e!==void 0?e:H$,n=zr(n!==void 0?n:zv);const i=us(t),s=Xt(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const o=e+1,l=new Array(o);for(let c=0;c<o;++c)l[c]=r/Math.pow(2,c);return l}function wG(t,e,n,r){const i=Yv(t);return _G(i,e,n,r)}function Yv(t){t=vn(t);let e=t.getExtent();if(!e){const n=180*Ev.degrees/t.getMetersPerUnit();e=Ds(-n,-n,n,n)}return e}class SG extends xk{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&zr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new Vk(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let o=!0,l,c,d;for(let h=r.minX;h<=r.maxX;++h)for(let f=r.minY;f<=r.maxY;++f)c=ig(n,h,f),d=!1,s.containsKey(c)&&(l=s.get(c),d=l.getState()===He.LOADED,d&&(d=i(l)!==!1)),d||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return Qe()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:$k(e)}getTileCacheForProjection(e){const n=this.getProjection();return ut(n===null||fa(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),o=zr(i.getTileSize(e),this.tmpSize);return s==1?o:iB(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=vG(r,e,n)),xG(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class CG extends Vi{constructor(e,n){super(e),this.tile=n}}function bG(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,l,c){if(o)return t.replace(n,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const d=o[0],h=e.getFullTileRange(d);return ut(h,55),(h.getHeight()-o[2]-1).toString()})}}function EG(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=bG(t[i],e);return RG(r)}function RG(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=yG(e),s=Ea(i,t.length);return t[s](e,n,r)}}function TG(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class Zv extends SG{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Zv.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=tt(n),i=n.getState();let s;i==He.LOADING?(this.tileLoadingKeys_[r]=!0,s=Ly.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==He.ERROR?Ly.TILELOADERROR:i==He.LOADED?Ly.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new CG(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=TG(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(EG(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=ig(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class PG extends vv{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){Qe()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Mo(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Sv(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,o,l,c){let d;const h=n.viewState;function f(P,k,M,L){return s.call(o,k,P?M:null,L)}const p=h.projection,y=YP(e.slice(),p),v=[[0,0]];if(p.canWrapX()&&i){const P=p.getExtent(),k=Xt(P);v.push([-k,0],[k,0])}const w=n.layerStatesArray,C=w.length,b=[],R=[];for(let P=0;P<v.length;P++)for(let k=C-1;k>=0;--k){const M=w[k],L=M.layer;if(L.hasRenderer()&&Uv(M,h)&&l.call(c,L)){const I=L.getRenderer(),O=L.getSource();if(I&&O){const W=O.getWrapX()?y:e,z=f.bind(null,M.managed);R[0]=W[0]+v[P][0],R[1]=W[1]+v[P][1],d=I.forEachFeatureAtCoordinate(R,n,r,z,b)}if(d)return d}}if(b.length===0)return;const T=1/b.length;return b.forEach((P,k)=>P.distanceSq+=k*T),b.sort((P,k)=>P.distanceSq-k.distanceSq),b.some(P=>d=P.callback(P.feature,P.layer,P.geometry)),d}hasFeatureAtCoordinate(e,n,r,i,s,o){return this.forEachFeatureAtCoordinate(e,n,r,i,Ia,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Qe()}scheduleExpireIconCache(e){nm.canExpireCache()&&e.postRenderFunctions.push(kG)}}function kG(t,e){nm.expire()}class AG extends PG{constructor(e){super(e),this.fontChangeListenerKey_=_t(ks,Hl.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=eg+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new Ik(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){Gt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(To.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let s=null;for(let o=0,l=n.length;o<l;++o){const c=n[o];e.layerIndex=o;const d=c.layer,h=d.getSourceState();if(!Uv(c,r)||h!="ready"&&h!="undefined"){d.unrender();continue}const f=d.render(e,s);f&&(f!==s&&(this.children_.push(f),s=f),"getDeclutter"in d&&i.push(d))}for(let o=i.length-1;o>=0;--o)i[o].renderDeclutter(e);hB(this.element_,this.children_),this.dispatchRenderEvent(To.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}}class Il extends Vi{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class yo extends Il{constructor(e,n,r,i,s,o){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Lt={SINGLECLICK:"singleclick",CLICK:et.CLICK,DBLCLICK:et.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Z0={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class MG extends $m{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=_t(r,Z0.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=_t(r,Z0.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(et.TOUCHMOVE,this.boundHandleTouchMove_,DP?{passive:!1}:!1)}emulateClick_(e){let n=new yo(Lt.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new yo(Lt.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new yo(Lt.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==Lt.POINTERUP||n.type==Lt.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==Lt.POINTERDOWN||n.type==Lt.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new yo(Lt.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Gt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new yo(Lt.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(_t(r,Lt.POINTERMOVE,this.handlePointerMove_,this),_t(r,Lt.POINTERUP,this.handlePointerUp_,this),_t(this.element_,Lt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(_t(this.element_.getRootNode(),Lt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new yo(Lt.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new yo(Lt.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Gt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(et.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Gt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Gt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ms={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Jn={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},rm=1/0;class IG{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,mc(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){ut(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=rm?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],o=r[e],l=e;for(;e<i>>1;){const c=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<i&&r[d]<r[c]?d:c;n[e]=n[h],r[e]=r[h],e=h}n[e]=s,r[e]=o,this.siftDown_(l,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],o=i[n];for(;n>e;){const l=this.getParentIndex_(n);if(i[l]>o)r[n]=r[l],i[n]=i[l],n=l;else break}r[n]=s,i[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let o,l,c;for(l=0;l<s;++l)o=n[l],c=e(o),c==rm?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=c,n[i++]=o);n.length=i,r.length=i,this.heapify_()}}class NG extends IG{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(et.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===He.LOADED||r===He.ERROR||r===He.EMPTY){r!==He.ERROR&&n.removeEventListener(et.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,o;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),i=s.getState(),i===He.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,s.load())}}function jG(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return rm;const s=t.viewState.center,o=r[0]-s[0],l=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(o*o+l*l)/i}class qv extends zi{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Jf(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Jf(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)Gt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Xl&&this.listenerKeys.push(_t(e,Ms.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class FG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const l=e.label!==void 0?e.label:"i";typeof l=="string"?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=i):this.label_=l;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener(et.CLICK,this.handleClick_.bind(this),!1);const d=n+" "+eg+" "+Wv+(this.collapsed_&&this.collapsible_?" "+bb:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=d,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Ws(n,this.renderedAttributions_)){Ck(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const o=document.createElement("li");o.innerHTML=n[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(bb),this.collapsed_?Cb(this.collapseLabel_,this.label_):Cb(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class LG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(et.CLICK,this.handleClick_.bind(this),!1);const l=n+" "+eg+" "+Wv,c=this.element;c.className=l,c.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(of)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Pr}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(of);!s&&r===0?this.element.classList.add(of):s&&r!==0&&this.element.classList.remove(of)}this.label_.style.transform=i}this.rotation_=r}}class DG extends qv{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",l=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",c=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i,h.setAttribute("type","button"),h.title=c,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(et.CLICK,this.handleClick_.bind(this,r),!1);const f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=d,f.appendChild(typeof l=="string"?document.createTextNode(l):l),f.addEventListener(et.CLICK,this.handleClick_.bind(this,-r),!1);const p=n+" "+eg+" "+Wv,y=this.element;y.className=p,y.appendChild(h),y.appendChild(f),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:Pr})):r.setZoom(s)}}}function OG(t){t=t||{};const e=new $r;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new DG(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new LG(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new FG(t.attributionOptions)),e}const Gb={ACTIVE:"active"};class pc extends zi{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Gb.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Gb.ACTIVE,e)}setMap(e){this.map_=e}}function VG(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:Q$,center:t.getConstrainedCenter(i)})}}function Jv(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:r!==void 0?r:250,easing:Pr})}class zG extends pc{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Lt.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_,l=i.getView();Jv(l,o,s,this.duration_),r.preventDefault(),n=!0}return!n}}class yc extends pc{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Lt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Lt.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==Lt.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==Lt.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Qv(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function q0(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const $G=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},BG=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},GG=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},Uk=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?GG(t):!0},Wk=Ia,UG=function(t){return t.type==Lt.CLICK},Hk=function(t){const e=t.originalEvent;return e.button==0&&!(bz&&Ez&&e.ctrlKey)},Ub=_d,Xk=function(t){return t.type==Lt.SINGLECLICK},Kk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Yk=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Zk=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Mf=function(t){const e=t.originalEvent;return ut(e!==void 0,56),e.pointerType=="mouse"},qk=function(t){const e=t.originalEvent;return ut(e!==void 0,56),e.isPrimary&&e.button===0};class WG extends yc{constructor(e){super({stopDown:_d}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:q0(Kk,qk);this.condition_=e.onFocusOnly?q0(Uk,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(Qv(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],l=e.map.getView();KP(s,l.getResolution()),Tv(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),l=n.getPixelFromCoordinateInternal(o),c=n.getCoordinateFromPixelInternal([l[0]-i*Math.cos(s),l[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(c),duration:500,easing:Pr})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Jk extends yc{constructor(e){e=e||{},super({stopDown:_d}),this.condition_=e.condition?e.condition:BG,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Mf(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===Gv)return;const i=n.getSize(),s=e.pixel,o=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=o}handleUpEvent(e){return Mf(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Mf(e)&&Hk(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class HG extends vv{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new er([i])}getGeometry(){return this.geometry_}}const cf={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Dy extends Vi{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class XG extends yc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new HG(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:Hk,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Dy(cf.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Dy(n?cf.BOXEND:cf.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Dy(cf.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class KG extends XG{constructor(e){e=e||{};const n=e.condition?e.condition:Yk;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),o=r.getResolutionForExtentInternal(s),l=r.getResolution()/o;i=i.clone(),i.scale(l*l)}r.fitInternal(i,{duration:this.duration_,easing:Pr})}}const oa={LEFT:37,UP:38,RIGHT:39,DOWN:40};class YG extends pc{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return Kk(n)&&Zk(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==et.KEYDOWN){const r=e.originalEvent,i=r.keyCode;if(this.condition_(e)&&(i==oa.DOWN||i==oa.LEFT||i==oa.RIGHT||i==oa.UP)){const o=e.map.getView(),l=o.getResolution()*this.pixelDelta_;let c=0,d=0;i==oa.DOWN?d=-l:i==oa.LEFT?c=-l:i==oa.RIGHT?c=l:d=l;const h=[c,d];Tv(h,o.getRotation()),VG(o,h,this.duration_),r.preventDefault(),n=!0}}return!n}}class ZG extends pc{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:Zk,this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==et.KEYDOWN||e.type==et.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,o=i==="+"?this.delta_:-this.delta_,l=s.getView();Jv(l,o,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class qG{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],o=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class JG extends pc{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:Wk;this.condition_=e.onFocusOnly?q0(Uk,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==et.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==et.WHEEL&&(s=i.deltaY,Sz&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=LP),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const l=r.getView();if(this.mode_==="trackpad"&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const c=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),c),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-xn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),Jv(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class QG extends yc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=_d),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=s;const o=e.map,l=o.getView();l.getConstraints().rotation!==Gv&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Qv(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class e6 extends yc{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=_d),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,o=r.clientY-i.clientY,l=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/l),this.lastDistance_=l;const c=e.map,d=c.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Qv(this.targetPointers))),c.render(),d.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Qk(t){t=t||{};const e=new $r,n=new qG(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new Jk),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new zG({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new WG({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new QG),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new e6({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new YG),e.push(new ZG({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new JG({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new KG({duration:t.zoomDuration})),e}function eA(t){if(t instanceof qm){t.setMapInternal(null);return}t instanceof gc&&t.getLayers().forEach(eA)}function tA(t,e){if(t instanceof qm){t.setMapInternal(e);return}if(t instanceof gc){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)tA(n[r],e)}}let t6=class extends zi{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=n6(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:LP,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=is(),this.pixelToCoordinateTransform_=is(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||OG(),this.interactions=n.interactions||Qk({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new NG(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Jn.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Jn.VIEW,this.handleViewChanged_),this.addChangeListener(Jn.SIZE,this.handleSizeChanged_),this.addChangeListener(Jn.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof qi)&&e.view.then(function(i){r.setView(new qi(i))}),this.controls.addEventListener(yn.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(yn.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(yn.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(yn.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(yn.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(yn.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){tA(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,o=r.layerFilter!==void 0?r.layerFilter:Ia,l=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,l,n,null,o,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof gc?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:Ia,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,o,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],o=r.height/i[1],l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-r.left)/s,(l.clientY-r.top)/o]}getTarget(){return this.get(Jn.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Gu(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Ln(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Jn.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof $r){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Pn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Ln(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Jn.SIZE)}getView(){return this.get(Jn.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return jG(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new yo(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===Z0.POINTERDOWN||r===et.WHEEL||r===et.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===i?i.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const o=e.viewHints;if(o[Qn.ANIMATING]||o[Qn.INTERACTING]){const l=Date.now()-e.time>8;i=l?0:8,s=l?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(To.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(To.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Il(Ms.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Il(Ms.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)Gt(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(et.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(et.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Jf(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new AG(this)),this.mapBrowserEventHandler_=new MG(this,this.moveTolerance_);for(const s in Lt)this.mapBrowserEventHandler_.addEventListener(Lt[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(et.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(et.WHEEL,this.boundHandleBrowserEvent_,DP?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[_t(r,et.KEYDOWN,this.handleBrowserEvent,this),_t(r,et.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Gt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Gt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=_t(e,Hl.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=_t(e,et.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Gt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new _o("addlayer",e)),this.layerGroupPropertyListenerKeys_=[_t(e,Hl.PROPERTYCHANGE,this.render,this),_t(e,et.CHANGE,this.render,this),_t(e,"addlayer",this.handleLayerAdd_,this),_t(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){eA(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&wb(n)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:L0(l.center,l.resolution,l.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:tt(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=L0(l.nextCenter,l.nextResolution,c,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!bv(this.previousExtent_)&&!$u(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Il(Ms.MOVESTART,this,i)),this.previousExtent_=Cd(this.previousExtent_)),this.previousExtent_&&!s.viewHints[Qn.ANIMATING]&&!s.viewHints[Qn.INTERACTING]&&!$u(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Il(Ms.MOVEEND,this,s)),VP(s.extent,this.previousExtent_))),this.dispatchEvent(new Il(Ms.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ms.LOADSTART)||this.hasListener(Ms.LOADEND)||this.hasListener(To.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new _o("removelayer",n)),this.set(Jn.LAYERGROUP,e)}setSize(e){this.set(Jn.SIZE,e)}setTarget(e){this.set(Jn.TARGET,e)}setView(e){if(!e||e instanceof qi){this.set(Jn.VIEW,e);return}this.set(Jn.VIEW,new qi);const n=this;e.then(function(r){n.setView(new qi(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[s,o],!wb(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&qP("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!Ws(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}};function n6(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new gc({layers:t.layers});n[Jn.LAYERGROUP]=r,n[Jn.TARGET]=t.target,n[Jn.VIEW]=t.view instanceof qi?t.view:new qi;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new $r(t.controls.slice()):(ut(typeof t.controls.getArray=="function",47),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new $r(t.interactions.slice()):(ut(typeof t.interactions.getArray=="function",48),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new $r(t.overlays.slice()):(ut(typeof t.overlays.getArray=="function",49),o=t.overlays):o=new $r,{controls:i,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}class r6 extends qm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(lf.PRELOAD)}setPreload(e){this.set(lf.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(lf.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(lf.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class Wb extends r6{constructor(e){super(e)}createRenderer(){return new mG(this)}}class i6 extends Zv{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:s6,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Dk,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!fa(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!fa(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||fa(n,e)))return this.tileGrid;const r=tt(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=$k(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||fa(n,e))return this.tileCache;const r=tt(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new Vk(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,o){const l=[e,n,r],c=this.getTileCoordForTileUrlFunction(l,s),d=c?this.tileUrlFunction(c,i,s):void 0,h=new this.tileClass(l,d!==void 0?He.IDLE:He.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(et.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,n,r,i,s){const o=this.getProjection();if(!o||!s||fa(o,s))return this.getTileInternal(e,n,r,i,o||s);const l=this.getTileCacheForProjection(s),c=[e,n,r];let d;const h=Ok(c);l.containsKey(h)&&(d=l.get(h));const f=this.getKey();if(d&&d.key==f)return d;const p=this.getTileGridForProjection(o),y=this.getTileGridForProjection(s),v=this.getTileCoordForTileUrlFunction(c,s),w=new Y0(o,p,s,y,c,v,this.getTilePixelRatio(i),this.getGutter(),(C,b,R,T)=>this.getTileInternal(C,b,R,T,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return w.key=f,d?(w.interimTile=d,w.refreshInterimChain(),l.replace(h,w)):l.set(h,w),w}getTileInternal(e,n,r,i,s){let o=null;const l=ig(e,n,r),c=this.getKey();if(!this.tileCache.containsKey(l))o=this.createTile_(e,n,r,i,s,c),this.tileCache.set(l,o);else if(o=this.tileCache.get(l),o.key!=c){const d=o;o=this.createTile_(e,n,r,i,s,c),d.getState()==He.IDLE?o.interimTile=d.interimTile:o.interimTile=d,o.refreshInterimChain(),this.tileCache.replace(l,o)}return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=vn(e);if(r){const i=tt(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function s6(t,e){t.getImage().src=e}const Yn={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};let im=class extends zi{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+fB,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Yn.ELEMENT,this.handleElementChanged),this.addChangeListener(Yn.MAP,this.handleMapChanged),this.addChangeListener(Yn.OFFSET,this.handleOffsetChanged),this.addChangeListener(Yn.POSITION,this.handlePositionChanged),this.addChangeListener(Yn.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Yn.ELEMENT)}getId(){return this.id}getMap(){return this.get(Yn.MAP)||null}getOffset(){return this.get(Yn.OFFSET)}getPosition(){return this.get(Yn.POSITION)}getPositioning(){return this.get(Yn.POSITIONING)}handleElementChanged(){Ck(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Jf(this.element),Gt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=_t(e,Ms.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Yn.ELEMENT,e)}setMap(e){this.set(Yn.MAP,e)}setOffset(e){this.set(Yn.OFFSET,e)}setPosition(e){this.set(Yn.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Yn.POSITION))return;const r=this.getRect(n.getTargetElement(),n.getSize()),i=this.getElement(),s=this.getRect(i,[uB(i),dB(i)]);e=e||{};const o=e.margin===void 0?20:e.margin;if(!ga(r,s)){const l=s[0]-r[0],c=r[2]-s[2],d=s[1]-r[1],h=r[3]-s[3],f=[0,0];if(l<0?f[0]=l-o:c<0&&(f[0]=Math.abs(c)+o),d<0?f[1]=d-o:h<0&&(f[1]=Math.abs(h)+o),f[0]!==0||f[1]!==0){const p=n.getView().getCenterInternal(),y=n.getPixelFromCoordinateInternal(p);if(!y)return;const v=[y[0]+f[0],y[1]+f[1]],w=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(v),duration:w.duration,easing:w.easing})}}}getRect(e,n){const r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[i,s,i+n[0],s+n[1]]}setPositioning(e){this.set(Yn.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const r=e.getPixelFromCoordinate(n),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,n){const r=this.element.style,i=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const o=Math.round(e[0]+i[0])+"px",l=Math.round(e[1]+i[1])+"px";let c="0%",d="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?c="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(c="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?d="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(d="-50%");const h=`translate(${c}, ${d}) translate(${o}, ${l})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,r.transform=h)}getOptions(){return this.options}};const o6=pv("inline-flex items-center rounded-xl border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function e_({className:t,variant:e,...n}){return g.jsx("div",{className:Oe(o6({variant:e}),t),...n})}function Oy({metadata:t,onClose:e}){var C;if(!t)return null;const{nombre:n,raza:r,sexo:i,peso:s,tipo:o,estado_reproductivo:l,especie:c,campo:d,parcela:h,numero_identificacion:f,ubicacion_sensor:p,fecha_nacimiento:y,temperatura_corporal_actual:v,collar_asignado:w}=t;return g.jsxs("div",{className:"space-y-1 p-4 rounded-xl bg-white max-h-[355px] overflow-y-auto",role:"dialog","aria-label":`Informacin de ${n??"animal"}`,tabIndex:0,onClick:b=>b.stopPropagation(),children:[g.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(Us,{size:20})}),g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-blue-700 break-words",children:[g.jsx(ko,{size:20})," ",n||"Animal"," (",f,")"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsx(Yi,{icon:dv,label:"Campo",value:d,color:"text-blue-800"}),g.jsx(Yi,{icon:$T,label:"Parcela",value:h,color:"text-blue-400"}),g.jsx(Yi,{icon:OT,label:"Especie",value:c,color:"text-pink-600"}),g.jsx(Yi,{icon:C4,label:"Tipo",value:o,color:"text-yellow-600"}),g.jsx(Yi,{icon:g4,label:"Raza",value:r,color:"text-orange-600"}),g.jsx(Yi,{icon:TV,label:"Peso",value:`${s} kg`,color:"text-emerald-600"}),g.jsx(Yi,{icon:nV,label:"Nacimiento",value:y,color:"text-blue-800"}),g.jsx(Yi,{icon:B4,label:"Sensor",value:p,color:"text-rose-600"}),g.jsx(Yi,{icon:D4,label:"Sexo",value:i,color:"text-indigo-600"}),g.jsx(Yi,{icon:M4,label:"Temperatura",value:v??"N/A",color:"text-red-600"})]}),g.jsx("div",{className:"grid grid-cols-1 gap-y-2 gap-x-4 mb-3",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(NV,{size:16,className:Oe("mt-0.5","text-violet-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Estado Reproductivo: "}),l]})}),w&&g.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[g.jsx("h4",{className:"text-gray-700 text-center font-semibold mb-2",children:" Collar asignado"}),g.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 mb-3",children:[g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(HT,{size:16,className:Oe("mt-0.5","text-purple-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"Cdigo: "}),w.codigo]}),g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsx(uv,{size:16,className:Oe("mt-0.5","text-green-600")}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("p",{className:"font-medium leading-tight",children:"Batera y estado: "}),a6(w.estado,w.bateria)]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(GO,{size:16,className:Oe("mt-0.5","text-red-600")}),g.jsx("p",{className:"font-medium leading-tight",children:"ltima actividad: "}),(C=w.ultima_actividad)==null?void 0:C.split(".")[0]]})]})]})}function Yi({icon:t,label:e,value:n,color:r="text-gray-700"}){return g.jsxs("div",{className:"flex items-start gap-2 break-words",children:[g.jsx(t,{size:16,className:Oe("mt-0.5",r)}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:"font-medium leading-tight",children:[e,":"]}),g.jsx("span",{className:"text-gray-800 leading-tight break-words whitespace-pre-wrap",children:n})]})]})}function a6(t,e){const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(Ci,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(av,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(Vu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(uv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(Vu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batera";break;case"defectuoso":i=g.jsx(pn,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 mt-0.5 py-1 rounded-xl text-xs font-medium whitespace-nowrap",o),children:[i,s]})}const Ht=_.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Oe("flex h-9 w-full rounded-xl border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ht.displayName="Input";function l6({features:t=[],onClose:e=()=>{},onSelectAnimal:n=()=>{}}){const[r,i]=_.useState(""),s=_.useMemo(()=>t.map(o=>o.get("metadata")).filter(Boolean).filter(o=>{var c,d,h,f,p;const l=r.toLowerCase();return((c=o.nombre)==null?void 0:c.toLowerCase().includes(l))||((d=o.numero_identificacion)==null?void 0:d.toLowerCase().includes(l))||((h=o.especie)==null?void 0:h.toLowerCase().includes(l))||((f=o.raza)==null?void 0:f.toLowerCase().includes(l))||((p=o.estado_reproductivo)==null?void 0:p.toLowerCase().includes(l))}),[t,r]);return _.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e]),g.jsxs("div",{className:"absolute top-0 bg-white rounded-xl shadow-xl border border-gray-200 px-3 w-[280px] max-h-[360px] overflow-auto z-50",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx("button",{onClick:e,className:"absolute z-30 top-2 -right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(Us,{size:18})}),g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Animales en esta zona"})}),g.jsx(Ht,{value:r,onChange:o=>i(o.target.value),placeholder:"Buscar por nombre, ID, especie...",className:"mb-2 text-sm mt-4 px-4"})]}),s.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1",children:s.map(o=>g.jsx("li",{children:g.jsxs(st,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>{const l=t.find(c=>{var d;return((d=c.get("metadata"))==null?void 0:d.animal_id)===o.animal_id});l&&n(l)},children:[g.jsx(ko,{size:16,className:"text-blue-800"})," ",o.nombre," (",o.numero_identificacion,") - ",o.especie]})},o.animal_id))})]})}function Hb(t={}){const{baseColor:e="#f97316",iconUrl:n=null}=t,r={};return i=>{const s=i.get("features");if((s==null?void 0:s.length)>1){const d=s.length;return r[d]||(r[d]=new nn({image:new Or({radius:10+Math.min(d,30)*.4,fill:new Tn({color:e}),stroke:new fn({color:"#ffffff",width:2})}),text:new rg({text:d.toString(),font:"bold 12px sans-serif",fill:new Tn({color:"#ffffff"}),stroke:new fn({color:"#000000",width:2})})})),r[d]}const c=(i.get("metadata")||{}).is_outside===!0?"#e60000":e;return n?new nn({image:new ng({src:n,scale:.5,anchor:[.5,1]})}):new nn({image:new Or({radius:6,fill:new Tn({color:c}),stroke:new fn({color:"#ffffff",width:1.5})})})}}class nA extends i6{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:Bk({extent:Yv(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}class c6 extends Os{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=e.distance!==void 0?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(n){const r=n.getGeometry();return ut(r.getType()=="Point",10),r},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,n,r){this.source.loadFeatures(e,n,r),n!==this.resolution&&(this.resolution=n,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(et.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(et.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,n){const r=e===0?0:Math.min(n,e)/e,i=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=n,this.interpolationRatio=r,i&&this.refresh()}cluster(){if(this.resolution===void 0||!this.source)return;const e=Gr(),n=this.distance*this.resolution,r=this.source.getFeatures(),i={};for(let s=0,o=r.length;s<o;s++){const l=r[s];if(!(tt(l)in i)){const c=this.geometryFunction(l);if(c){const d=c.getCoordinates();bu(d,e),Sd(e,n,e);const h=this.source.getFeaturesInExtent(e).filter(function(f){const p=tt(f);return p in i?!1:(i[p]=!0,!0)});this.features.push(this.createCluster(h,e))}}}}createCluster(e,n){const r=[0,0];for(let l=e.length-1;l>=0;--l){const c=this.geometryFunction(e[l]);c?HP(r,c.getCoordinates()):e.splice(l,1)}KP(r,1/e.length);const i=Io(n),s=this.interpolationRatio,o=new Tr([r[0]*(1-s)+i[0]*s,r[1]*(1-s)+i[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new nr({geometry:o,features:e})}}const u6='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class d6 extends nA{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[u6];const r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}}function h6(t=[]){const e=[],n=new Map;return t.forEach(r=>{if((r==null?void 0:r.lon)==null||(r==null?void 0:r.lat)==null)return;const i=new nr({geometry:new Tr(Xm([r.lon,r.lat])),metadata:r});r.__feature=i,i.setId(`a-${r.animal_id}`),n.set(r.animal_id,i),e.push(i)}),{features:e,featureMap:n}}function Xb({map:t,settings:e,inside:n=[]}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef(new Map);return _.useEffect(()=>{if(!t)return;const o=new Os,l=new c6({distance:e.distance||50,source:o});return r.current=o,i.current=l,()=>{o.clear(),l.setSource(null)}},[t,e.distance]),_.useEffect(()=>{const o=r.current;if(!o)return;const{features:l,featureMap:c}=h6(n);s.current=c,o.clear(),o.addFeatures(l)},[n]),{vectorSource:r.current,clusterSource:i.current,featuresMapRef:s}}function f6({map:t,inside:e=[],outside:n=[],insideRef:r,outsideRef:i,settings:s={distance:50,baseColor:"orange"},setExplodedFeatures:o}){const l=_.useRef(),c=_.useRef(),d="popup-cluster-container",h=Xb({map:t,settings:s,inside:e}),f=Xb({map:t,settings:s,inside:n});return r&&(r.current=h.featuresMapRef),i&&(i.current=f.featuresMapRef),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=new ds({source:h.clusterSource,style:Hb({...s,baseColor:"#f97316",iconUrl:s.iconUrl}),zIndex:10}),y=new ds({source:f.clusterSource,style:Hb({...s,baseColor:"#e60000"}),zIndex:9});return t.addLayer(p),t.addLayer(y),()=>{t.removeLayer(p),t.removeLayer(y)}},[t,h.clusterSource,f.clusterSource]),_.useEffect(()=>{if(!t)return;let p=document.getElementById(d);p||(p=document.createElement("div"),p.id=d,p.className="relative z-5",document.body.appendChild(p));const y=new im({element:p,positioning:"top-center",offset:[0,12],autoPan:{animation:{duration:200}}});return t.addOverlay(y),l.current=y,c.current||(c.current=xT.createRoot(p)),()=>{var v;t.removeOverlay(y),(v=c.current)==null||v.unmount(),c.current=null,p==null||p.remove()}},[t]),_.useEffect(()=>{if(!t||!l.current||!c.current)return;const p=y=>{const v=t.forEachFeatureAtPixel(y.pixel,b=>b);if(!v)return;const w=v.get("features"),C=t.getView().getZoom();if((w==null?void 0:w.length)>1){const b=v.getGeometry().getCoordinates();t.getView().animate({center:b,duration:500}),l.current.setPosition(b),c.current.render(g.jsx(l6,{features:w,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:b,duration:500})},onSelectAnimal:R=>{const T=R.getGeometry().getCoordinates();l.current.setPosition(T),c.current.render(g.jsx(Oy,{metadata:R.get("metadata"),onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:[T[0],T[1]-60],duration:500})}})),o&&o(w),t.getView().animate({center:[T[0],T[1]-60],zoom:C<17?18:C,duration:500})}}))}else if((w==null?void 0:w.length)===1){const b=w[0],R=b.getGeometry().getCoordinates(),T=b.get("metadata");t.getView().animate({center:[R[0],R[1]-60],zoom:C<17?18:C,duration:500}),l.current.setPosition(R),c.current.render(g.jsx(Oy,{metadata:T,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:R,zoom:C>17?16:C,duration:500})}}))}};return t.on("singleclick",p),()=>t.un("singleclick",p)},[t,o]),_.useEffect(()=>{if(!t||!h.clusterSource||!f.clusterSource)return;const p=()=>{const v=t.getView().getZoom()>=15.5?0:s.distance||50;h.clusterSource.setDistance(v),f.clusterSource.setDistance(v)};return p(),t.getView().on("change:resolution",p),()=>t.getView().un("change:resolution",p)},[t,h.clusterSource,f.clusterSource,s.distance]),_.useEffect(()=>{if(!t||!l.current||!c.current)return;const p=y=>{if(!y)return;const v=y.getGeometry().getCoordinates(),w=y.get("metadata"),C=t.getView().getZoom();t.getView().animate({center:[v[0],v[1]-60],zoom:C<17?18:C,duration:500}),l.current.setPosition(v),c.current.render(g.jsx(Oy,{metadata:w,onClose:()=>{l.current.setPosition(void 0),c.current.render(null),t.getView().animate({center:v,zoom:C>17?16:C,duration:500})}}))};return window.ClusterPopup={open:p,close:()=>{l.current&&c.current&&(l.current.setPosition(void 0),c.current.render(null))}},()=>{var y;((y=window.ClusterPopup)==null?void 0:y.open)===p&&delete window.ClusterPopup}},[t]),null}async function m6(){const t=await kt("/api/animals/");if(!t.ok)throw new Error("Error al cargar animales");return await t.json()}async function g6(t){const e=await kt(`/api/animals/${t}/entities`);if(!e.ok)throw new Error("Error al cargar clusters de animales");return await e.json()}async function p6(){const t=await kt("/api/animals/acronimos");if(!t.ok)throw new Error("Error al cargar los acrnimos");return await t.json()}async function y6(){const t=await kt("/api/animals/options");if(!t.ok)throw new Error("Error al cargar las opciones");return await t.json()}async function x6(t){const e=await kt(`/api/animals/${t}/complete_sheet`);if(!e.ok)throw new Error("Error al cargar ficha completa");return await e.json()}async function v6(t){const e=await kt("/api/animals/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear animal")}return await e.json()}async function _6(t,e){const n=await kt(`/api/animals/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar animal")}return await n.json()}async function w6(t){const e=await kt(`/api/animals/${t}`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar animal");return await e.json()}async function S6(t){const e=await kt("/api/animals/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:t})});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al eliminar animales")}return await e.json()}async function rA(){const t=await kt("/api/animals/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de animales.")}return t.blob()}async function C6(t,e){const n=await kt("/api/animals/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,...e})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al exportar animals.")}return n.blob()}async function b6(t){const e=new FormData;e.append("file",t);const n=await kt("/api/animals/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar animales.")}return n.json()}function E6(t=1e4,e){const[n,r]=_.useState([]),[i,s]=_.useState([]);return _.useEffect(()=>{if(!e)return;const o=async()=>{try{const c=await g6(e);r(c.inside||[]),s(c.outside||[])}catch(c){console.error("Error al obtener animales:",c)}};o();const l=setInterval(o,t);return()=>clearInterval(l)},[e,t]),{inside:n,outside:i}}const Kb=0,ku=1,Yb=[0,0,0,0],Gl=[],Vy={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class zy extends Vi{constructor(e,n,r){super(e),this.features=n,this.mapBrowserEvent=r}}class R6 extends yc{constructor(e){super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:qk,this.defaultDeleteCondition_=function(r){return $G(r)&&Xk(r)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:Wk,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new W0,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new ds({source:new Os({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:P6(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null;let n;if(e.features?n=e.features:e.source&&(this.source_=e.source,n=new $r(this.source_.getFeatures()),this.source_.addEventListener(jr.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(jr.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!n)throw new Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(yn.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(yn.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=e.snapToPointer===void 0?!this.hitDetection_:e.snapToPointer}addFeature_(e){const n=e.getGeometry();if(n){const i=this.SEGMENT_WRITERS_[n.getType()];i&&i(e,n)}const r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),e.addEventListener(et.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,n){if(!this.featuresBeingModified_){this.featuresBeingModified_=new $r;const r=this.featuresBeingModified_.getArray();for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0,c=o.length;l<c;++l){const d=o[l].feature;d&&!r.includes(d)&&this.featuresBeingModified_.push(d)}}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new zy(Vy.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(et.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){const n=this.rBush_,r=[];n.forEach(function(i){e===i.feature&&r.push(i)});for(let i=r.length-1;i>=0;--i){const s=r[i];for(let o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===s&&this.dragSegments_.splice(o,1);n.remove(s)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){const n=e.target;this.removeFeature_(n),this.addFeature_(n)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,n){const r=n.getCoordinates(),i={feature:e,geometry:n,segment:[r,r]};this.rBush_.insert(n.getExtent(),i)}writeMultiPointGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i],l={feature:e,geometry:n,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(n.getExtent(),l)}}writeLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length-1;i<s;++i){const o=r.slice(i,i+2),l={feature:e,geometry:n,index:i,segment:o};this.rBush_.insert(xi(o),l)}}writeMultiLineStringGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length-1;l<c;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(xi(d),h)}}}writePolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length-1;l<c;++l){const d=o.slice(l,l+2),h={feature:e,geometry:n,depth:[i],index:l,segment:d};this.rBush_.insert(xi(d),h)}}}writeMultiPolygonGeometry_(e,n){const r=n.getCoordinates();for(let i=0,s=r.length;i<s;++i){const o=r[i];for(let l=0,c=o.length;l<c;++l){const d=o[l];for(let h=0,f=d.length-1;h<f;++h){const p=d.slice(h,h+2),y={feature:e,geometry:n,depth:[l,i],index:h,segment:p};this.rBush_.insert(xi(p),y)}}}}writeCircleGeometry_(e,n){const r=n.getCenter(),i={feature:e,geometry:n,index:Kb,segment:[r,r]},s={feature:e,geometry:n,index:ku,segment:[r,r]},o=[i,s];i.featureSegments=o,s.featureSegments=o,this.rBush_.insert(bu(r),i);let l=n;this.rBush_.insert(l.getExtent(),s)}writeGeometryCollectionGeometry_(e,n){const r=n.getGeometriesArray();for(let i=0;i<r.length;++i){const s=r[i],o=this.SEGMENT_WRITERS_[s.getType()];o(e,s)}}createOrUpdateVertexFeature_(e,n,r){let i=this.vertexFeature_;return i?i.getGeometry().setCoordinates(e):(i=new nr(new Tr(e)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i)),i.set("features",n),i.set("geometries",r),i}handleEvent(e){if(!e.originalEvent)return!0;this.lastPointerEvent_=e;let n;return!e.map.getView().getInteracting()&&e.type==Lt.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(e.type!=Lt.SINGLECLICK||!this.ignoreNextSingleClick_?n=this.removePoint():n=!0),e.type==Lt.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!n}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);const n=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],r=[],i=[];for(let s=0,o=this.dragSegments_.length;s<o;++s){const l=this.dragSegments_[s],c=l[0],d=c.feature;r.includes(d)||r.push(d);const h=c.geometry;i.includes(h)||i.push(h);const f=c.depth;let p;const y=c.segment,v=l[1];for(;n.length<h.getStride();)n.push(y[v][n.length]);switch(h.getType()){case"Point":p=n,y[0]=n,y[1]=n;break;case"MultiPoint":p=h.getCoordinates(),p[c.index]=n,y[0]=n,y[1]=n;break;case"LineString":p=h.getCoordinates(),p[c.index+v]=n,y[v]=n;break;case"MultiLineString":p=h.getCoordinates(),p[f[0]][c.index+v]=n,y[v]=n;break;case"Polygon":p=h.getCoordinates(),p[f[0]][c.index+v]=n,y[v]=n;break;case"MultiPolygon":p=h.getCoordinates(),p[f[1]][f[0]][c.index+v]=n,y[v]=n;break;case"Circle":if(y[0]=n,y[1]=n,c.index===Kb)this.changingFeature_=!0,h.setCenter(n),this.changingFeature_=!1;else{this.changingFeature_=!0,e.map.getView().getProjection();let w=ib(Pn(h.getCenter()),Pn(n));h.setRadius(w),this.changingFeature_=!1}break}p&&this.setGeometryCoordinates_(h,p)}this.createOrUpdateVertexFeature_(n,r,i)}handleDownEvent(e){if(!this.condition_(e))return!1;const n=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,n),this.dragSegments_.length=0,this.featuresBeingModified_=null;const r=this.vertexFeature_;if(r){e.map.getView().getProjection();const i=[],s=r.getGeometry().getCoordinates(),o=xi([s]),l=this.rBush_.getInExtent(o),c={};l.sort(T6);for(let d=0,h=l.length;d<h;++d){const f=l[d],p=f.segment;let y=tt(f.geometry);const v=f.depth;if(v&&(y+="-"+v.join("-")),c[y]||(c[y]=new Array(2)),f.geometry.getType()==="Circle"&&f.index===ku){const w=qb(n,f);Si(w,s)&&!c[y][0]&&(this.dragSegments_.push([f,0]),c[y][0]=f);continue}if(Si(p[0],s)&&!c[y][0]){this.dragSegments_.push([f,0]),c[y][0]=f;continue}if(Si(p[1],s)&&!c[y][1]){if(c[y][0]&&c[y][0].index===0){let w=f.geometry.getCoordinates();switch(f.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":w=w[v[1]];case"Polygon":if(f.index!==w[v[0]].length-2)continue;break}}this.dragSegments_.push([f,1]),c[y][1]=f;continue}tt(p)in this.vertexSegments_&&!c[y][0]&&!c[y][1]&&this.insertVertexCondition_(e)&&i.push(f)}i.length&&this.willModifyFeatures_(e,[i]);for(let d=i.length-1;d>=0;--d)this.insertVertex_(i[d],s)}return!!this.vertexFeature_}handleUpEvent(e){for(let n=this.dragSegments_.length-1;n>=0;--n){const r=this.dragSegments_[n][0],i=r.geometry;if(i.getType()==="Circle"){const s=i.getCenter(),o=r.featureSegments[0],l=r.featureSegments[1];o.segment[0]=s,o.segment[1]=s,l.segment[0]=s,l.segment[1]=s,this.rBush_.update(bu(s),o);let c=i;this.rBush_.update(c.getExtent(),l)}else this.rBush_.update(xi(r.segment),r)}return this.featuresBeingModified_&&(this.dispatchEvent(new zy(Vy.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,n,r){const i=r||n.getCoordinateFromPixel(e);n.getView().getProjection();const s=function(c,d){return Zb(i,c)-Zb(i,d)};let o,l;if(this.hitDetection_){const c=typeof this.hitDetection_=="object"?d=>d===this.hitDetection_:void 0;n.forEachFeatureAtPixel(e,(d,h,f)=>{const p=f||d.getGeometry();if(p.getType()==="Point"&&d instanceof nr&&this.features_.getArray().includes(d)){l=p;const y=l.getFlatCoordinates().slice(0,2);o=[{feature:d,geometry:l,segment:[y,y]}]}return!0},{layerFilter:c})}if(!o){const c=Co(bu(i,Yb)),d=n.getView().getResolution()*this.pixelTolerance_,h=Iv(Sd(c,d,Yb));o=this.rBush_.getInExtent(h)}if(o&&o.length>0){const c=o.sort(s)[0],d=c.segment;let h=qb(i,c);const f=n.getPixelFromCoordinate(h);let p=ib(e,f);if(l||p<=this.pixelTolerance_){const y={};if(y[tt(d)]=!0,this.snapToPointer_||(this.delta_[0]=h[0]-i[0],this.delta_[1]=h[1]-i[1]),c.geometry.getType()==="Circle"&&c.index===ku)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);else{const v=n.getPixelFromCoordinate(d[0]),w=n.getPixelFromCoordinate(d[1]),C=Bu(f,v),b=Bu(f,w);p=Math.sqrt(Math.min(C,b)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(h=C>b?d[1]:d[0]),this.createOrUpdateVertexFeature_(h,[c.feature],[c.geometry]);const R={};R[tt(c.geometry)]=!0;for(let T=1,P=o.length;T<P;++T){const k=o[T].segment;if(Si(d[0],k[0])&&Si(d[1],k[1])||Si(d[0],k[1])&&Si(d[1],k[0])){const M=tt(o[T].geometry);M in R||(R[M]=!0,y[tt(k)]=!0)}else break}}this.vertexSegments_=y;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,n){const r=e.segment,i=e.feature,s=e.geometry,o=e.depth,l=e.index;let c;for(;n.length<s.getStride();)n.push(0);switch(s.getType()){case"MultiLineString":c=s.getCoordinates(),c[o[0]].splice(l+1,0,n);break;case"Polygon":c=s.getCoordinates(),c[o[0]].splice(l+1,0,n);break;case"MultiPolygon":c=s.getCoordinates(),c[o[1]][o[0]].splice(l+1,0,n);break;case"LineString":c=s.getCoordinates(),c.splice(l+1,0,n);break;default:return}this.setGeometryCoordinates_(s,c);const d=this.rBush_;d.remove(e),this.updateSegmentIndices_(s,l,o,1);const h={segment:[r[0],n],feature:i,geometry:s,depth:o,index:l};d.insert(xi(h.segment),h),this.dragSegments_.push([h,1]);const f={segment:[n,r[1]],feature:i,geometry:s,depth:o,index:l+1};d.insert(xi(f.segment),f),this.dragSegments_.push([f,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Lt.POINTERDRAG){const e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);const n=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new zy(Vy.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,n}return!1}removeVertex_(){const e=this.dragSegments_,n={};let r=!1,i,s,o,l,c,d,h,f,p,y,v;for(c=e.length-1;c>=0;--c)o=e[c],y=o[0],v=tt(y.feature),y.depth&&(v+="-"+y.depth.join("-")),v in n||(n[v]={}),o[1]===0?(n[v].right=y,n[v].index=y.index):o[1]==1&&(n[v].left=y,n[v].index=y.index+1);for(v in n){switch(p=n[v].right,h=n[v].left,d=n[v].index,f=d-1,h!==void 0?y=h:y=p,f<0&&(f=0),l=y.geometry,s=l.getCoordinates(),i=s,r=!1,l.getType()){case"MultiLineString":s[y.depth[0]].length>2&&(s[y.depth[0]].splice(d,1),r=!0);break;case"LineString":s.length>2&&(s.splice(d,1),r=!0);break;case"MultiPolygon":i=i[y.depth[1]];case"Polygon":i=i[y.depth[0]],i.length>4&&(d==i.length-1&&(d=0),i.splice(d,1),r=!0,d===0&&(i.pop(),i.push(i[0]),f=i.length-1));break}if(r){this.setGeometryCoordinates_(l,s);const w=[];if(h!==void 0&&(this.rBush_.remove(h),w.push(h.segment[0])),p!==void 0&&(this.rBush_.remove(p),w.push(p.segment[1])),h!==void 0&&p!==void 0){const C={depth:y.depth,feature:y.feature,geometry:y.geometry,index:f,segment:w};this.rBush_.insert(xi(C.segment),C)}this.updateSegmentIndices_(l,d,y.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return r}setGeometryCoordinates_(e,n){this.changingFeature_=!0,e.setCoordinates(n),this.changingFeature_=!1}updateSegmentIndices_(e,n,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(s){s.geometry===e&&(r===void 0||s.depth===void 0||Ws(s.depth,r))&&s.index>n&&(s.index+=i)})}}function T6(t,e){return t.index-e.index}function Zb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"){let s=r;if(e.index===ku){const o=Bu(s.getCenter(),Pn(t)),l=Math.sqrt(o)-s.getRadius();return l*l}}const i=Pn(t);return Gl[0]=Pn(e.segment[0]),Gl[1]=Pn(e.segment[1]),Xz(i,Gl)}function qb(t,e,n){const r=e.geometry;if(r.getType()==="Circle"&&e.index===ku)return Gu(r.getClosestPoint(Pn(t)));const i=Pn(t);return Gl[0]=Pn(e.segment[0]),Gl[1]=Pn(e.segment[1]),Gu(XP(i,Gl))}function P6(){const t=Pk();return function(e,n){return t.Point}}const k6={SELECT:"select"};class A6 extends Vi{constructor(e,n,r,i){super(e),this.selected=n,this.deselected=r,this.mapBrowserEvent=i}}const uf={};let M6=class iA extends pc{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:Xk,this.addCondition_=e.addCondition?e.addCondition:Ub,this.removeCondition_=e.removeCondition?e.removeCondition:Ub,this.toggleCondition_=e.toggleCondition?e.toggleCondition:Yk,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:Ia,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:I6(),this.features_=e.features||new $r;let n;if(e.layers)if(typeof e.layers=="function")n=e.layers;else{const r=e.layers;n=function(i){return r.includes(i)}}else n=Ia;this.layerFilter_=n,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,n){this.featureLayerAssociation_[tt(e)]=n}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[tt(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(yn.ADD,this.boundAddFeature_),this.features_.addEventListener(yn.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(yn.ADD,this.boundAddFeature_),this.features_.removeEventListener(yn.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const n=e.element;if(this.style_&&this.applySelectedStyle_(n),!this.getLayer(n)){const r=this.getMap().getAllLayers().find(function(i){if(i instanceof ds&&i.getSource()&&i.getSource().hasFeature(n))return i});r&&this.addFeatureLayerAssociation_(n,r)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const n=tt(e);n in uf||(uf[n]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const n=this.getMap().getInteractions().getArray();for(let i=n.length-1;i>=0;--i){const s=n[i];if(s!==this&&s instanceof iA&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const r=tt(e);e.setStyle(uf[r]),delete uf[r]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[tt(e)]}handleEvent(e){if(!this.condition_(e))return!0;const n=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),s=!n&&!r&&!i,o=e.map,l=this.getFeatures(),c=[],d=[];if(s){mc(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof nr)||!this.filter_(h,f)))return this.addFeatureLayerAssociation_(h,f),d.push(h),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=l.getLength()-1;h>=0;--h){const f=l.item(h),p=d.indexOf(f);p>-1?d.splice(p,1):(l.remove(f),c.push(f))}d.length!==0&&l.extend(d)}else{o.forEachFeatureAtPixel(e.pixel,(h,f)=>{if(!(!(h instanceof nr)||!this.filter_(h,f)))return(n||i)&&!l.getArray().includes(h)?(this.addFeatureLayerAssociation_(h,f),d.push(h)):(r||i)&&l.getArray().includes(h)&&(c.push(h),this.removeFeatureLayerAssociation_(h)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let h=c.length-1;h>=0;--h)l.remove(c[h]);l.extend(d)}return(d.length>0||c.length>0)&&this.dispatchEvent(new A6(k6.SELECT,d,c,e)),!0}};function I6(){const t=Pk();return ki(t.Polygon,t.LineString),ki(t.GeometryCollection,t.LineString),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}async function ja(){const t=await kt("/api/map/");if(!t.ok)throw new Error("Error al cargar datos");return await t.json()}let $y=null,By=null;function N6(t,[e,n]){$y=new Wb({source:new d6,visible:!1,title:"OSM Base",preload:1/0}),By=new Wb({source:new nA({url:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}",attributions:"UB  Satlite",tileGrid:Bk({extent:vn("EPSG:3857").getExtent(),tileSize:256}),maxZoom:21}),visible:!0,title:"MapTiler Satellite",preload:1/0});const r=new t6({target:t,layers:[By,$y],view:new qi({center:Xm([n,e]),zoom:14,maxZoom:21,minZoom:4,rotation:0,constrainRotation:!1}),controls:[],interactions:Qk().extend([new Jk({condition:i=>Mf(i)&&i.originalEvent.button===1})])});return window._ol_map_instance=r,window.osm=$y,window.esriSat=By,r}function No([t,e]){return Xm([t,e])}function j6({inside:t=[],outside:e=[],featuresMapRef:n}){const[r,i]=_.useState(!1),[s,o]=_.useState(""),l=_.useMemo(()=>[...t,...e].filter(Boolean).map(d=>({label:`${d.nombre||"Animal"} (${d.numero_identificacion||"sin ID"})`,value:String(d.animal_id),full:d})).filter(d=>{var p,y,v,w,C;const h=s.toLowerCase(),f=d.full;return((p=f.nombre)==null?void 0:p.toLowerCase().includes(h))||((y=f.numero_identificacion)==null?void 0:y.toLowerCase().includes(h))||((v=f.especie)==null?void 0:v.toLowerCase().includes(h))||((w=f.raza)==null?void 0:w.toLowerCase().includes(h))||((C=f.estado_reproductivo)==null?void 0:C.toLowerCase().includes(h))}),[t,e,s]),c=d=>{var f,p,y;const h=(p=(f=n==null?void 0:n.current)==null?void 0:f.get)==null?void 0:p.call(f,Number(d));h&&((y=window.ClusterPopup)!=null&&y.open)?window.ClusterPopup.open(h):console.warn("No se encontr el animal en featuresMapRef o no est definido ClusterPopup."),i(!1)};return _.useEffect(()=>{const d=h=>{h.key==="Escape"&&i(!1)};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[]),g.jsxs("div",{className:"absolute top-16 mt-2 right-4 z-40 flex items-center gap-2",children:[g.jsx("button",{onClick:()=>{var d;i(!r),(d=window.ClusterPopup)!=null&&d.close&&window.ClusterPopup.close()},className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(ko,{className:"h-6 w-6 text-gray-800"})}),r&&g.jsxs("div",{style:{top:"60px"},className:"absolute right-0 bg-white rounded-xl shadow-xl border border-gray-200 px-3 w-[250px] max-h-[360px] overflow-auto z-50",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx("button",{onClick:()=>i(!1),className:"absolute z-30 top-2 -right-3 text-gray-500 hover:text-black","aria-label":"Cerrar",children:g.jsx(Us,{size:18})}),g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Buscar animal"})}),g.jsx(Ht,{value:s,onChange:d=>o(d.target.value),placeholder:"Nombre, ID, especie...",className:"mb-2 text-sm mt-4 px-4"})]}),l.length===0?g.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"Sin resultados"}):g.jsx("ul",{className:"space-y-1 pr-1",children:l.map(d=>g.jsx("li",{children:g.jsxs(st,{variant:"ghost",className:"w-full justify-start text-xs truncate text-left",onClick:()=>c(d.value),children:[g.jsx(ko,{size:16,className:"text-blue-800 mr-2"}),d.label," - ",d.full.especie]})},d.value))})]})]})}function F6(){const[t,e]=_.useState(!1),[n,r]=_.useState(""),[i,s]=_.useState({}),{mapRef:o,ready:l}=_.useContext(Rd),{campoSeleccionado:c,setCampoSeleccionado:d,lastCampoId:h}=_.useContext(Td),{campos:f,parcelas:p,formData:y,setFormData:v,setAreaCampo:w,setAreaParcela:C}=nv(),b=_.useRef(new Map),R=_.useRef(),T=_.useRef(),{setFeaturesOnMap:P,clearParcelas:k}=Hv({mapRef:o,parcelas:p,formData:y,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:v,setAreaCampo:w,setAreaParcela:C,enabled:!0,modoVisualizacionCampo:!0});Xv(()=>k()),_.useEffect(()=>{ja().then(I=>s(I.parcelas)).catch(I=>console.error("Error al cargar parcelas:",I))},[]);const{inside:M,outside:L}=E6(1e4,y.campo_id);return _.useEffect(()=>{!l||!y.campo_id||P()},[l,y.campo_id,y.parcela_id,p]),_.useEffect(()=>{!y.campo_id&&!c&&h&&f[h]&&(d(h),v(I=>({...I,campo_id:h,parcela_id:"",nombre:"",descripcion:""})),C(0))},[]),_.useEffect(()=>{c||!y.campo_id||!f[y.campo_id]||(d(y.campo_id),o.current.getView().animate({center:No([f[y.campo_id].lon,f[y.campo_id].lat]),duration:800,easing:Pr}))},[y.campo_id,c]),_.useEffect(()=>{var z,X;const I=new Map,O=(z=R.current)==null?void 0:z.current,W=(X=T.current)==null?void 0:X.current;if(O)for(const[G,Z]of O.entries())I.set(G,Z);if(W)for(const[G,Z]of W.entries())I.set(G,Z);b.current=I},[M,L]),g.jsxs(g.Fragment,{children:[g.jsx(xv,{isOpen:t,message:n,onClose:()=>e(!1)}),g.jsx(f6,{map:o.current,inside:M,outside:L,insideRef:R,outsideRef:T,settings:{distance:50,baseColor:"orange"}}),g.jsx(j6,{mapRef:o,inside:M,outside:L,featuresMapRef:b})]})}async function L6(){const t=await kt("/api/parcelas/animales/resumen");if(!t.ok)throw new Error("Error al cargar resumen de parcelas");return await t.json()}async function D6(t){const e=await kt("/api/parcelas/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al guardar")}return await e.json()}async function O6(t,e,n="",r="",i){const s=await kt(`/api/parcelas/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geojson:e,nombre:n,descripcion:r,area:i})});if(!s.ok){const o=await s.json();throw new Error(o.message||"Error al actualizar")}return await s.json()}async function V6(t){const e=await kt(`/api/parcelas/${t}/delete`,{method:"DELETE"});if(!e.ok)throw new Error("Error al eliminar la parcela");return await e.json()}function z6({onFinish:t,onUndo:e,onStart:n,onCancel:r,canFinish:i,closedBySnap:s,firstVertexDraw:o,open:l,setOpen:c,finished:d}){const h=()=>{const f=!l;c(f),f&&(n==null||n())};return g.jsxs(g.Fragment,{children:[!l&&g.jsx("button",{onClick:h,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Dibujar polgono",children:g.jsx(T4,{className:"w-6 h-6 text-gray-800"})}),l&&g.jsxs("div",{className:"flex flex-row-reverse gap-1 items-center",children:[g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar",children:g.jsx(Us,{className:"w-6 h-6"})}),!d&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:e,disabled:!o,className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${o?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Deshacer ltimo punto",children:g.jsx(j4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:t,disabled:!(i||s),className:`p-3 rounded-full shadow-md flex items-center justify-center 
                                    ${i||s?"bg-white text-black":"bg-gray-300 text-gray-400 cursor-not-allowed"}`,title:"Finalizar dibujo",children:g.jsx(yd,{className:"w-6 h-6"})})]})]})]})}function $6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo"}),g.jsx("select",{name:"campo_id",value:e.campo_id,onChange:r=>{n(r),window.dispatchEvent(new Event("cerrarPopupResumen"))},className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del rea"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:14,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripcin de la parcela"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]})]})}function B6({campos:t={},formData:e={},onChange:n=()=>{}}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Seleccionar campo existente"}),g.jsxs("select",{name:"campo_id",value:e.campo_id,onChange:n,className:"form-select w-full border p-1 rounded-full text-xs bg-white/70",children:[g.jsx("option",{value:"",children:"-- Crear nuevo campo --"}),Object.entries(t).map(([r,i])=>g.jsx("option",{value:r,disabled:r===e.campo_id,className:r===e.campo_id?"text-gray-400 italic":"",children:i.nombre},r))]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Nombre del campo"}),g.jsx("input",{name:"nombre",value:e.nombre,onChange:n,maxLength:16,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"block font-medium text-xs",children:"Descripcin del campo"}),g.jsx("input",{name:"descripcion",value:e.descripcion,onChange:n,className:"w-full border p-1 rounded-full text-xs bg-white/70"})]}),g.jsx("input",{type:"hidden",name:"lat",value:e.lat}),g.jsx("input",{type:"hidden",name:"lon",value:e.lon})]})}function G6({mode:t="edit",isDeleteMode:e=!1,onToggleDeleteMode:n=()=>{},onCancel:r=()=>{},onSave:i=()=>{},showDelete:s=!0,showCancel:o=!0,showSave:l=!0}){return["edit","draw-edit"].includes(t)?g.jsxs(g.Fragment,{children:[s&&g.jsx("button",{onClick:n,className:`p-3 rounded-full shadow-md flex items-center justify-center ${e?"bg-red-600":"bg-white"}`,title:"Eliminar vrtices",children:g.jsx(pn,{className:"w-6 h-6"})}),o&&g.jsx("button",{onClick:r,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Cancelar edicin",children:g.jsx(Us,{className:"w-6 h-6"})}),l&&g.jsx("button",{onClick:i,className:"bg-white p-3 rounded-full shadow-md flex items-center justify-center",title:"Guardar cambios",children:g.jsx(WT,{className:"w-6 h-6"})})]}):null}const t_=_.createContext({});function n_(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const r_=typeof window<"u",sA=r_?_.useLayoutEffect:_.useEffect,sg=_.createContext(null);function i_(t,e){t.indexOf(e)===-1&&t.push(e)}function s_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vs=(t,e,n)=>n>e?e:n<t?t:n;let o_=()=>{};const zs={},oA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aA(t){return typeof t=="object"&&t!==null}const lA=t=>/^0[^.\s]+$/u.test(t);function a_(t){let e;return()=>(e===void 0&&(e=t()),e)}const ii=t=>t,U6=(t,e)=>n=>e(t(n)),Pd=(...t)=>t.reduce(U6),ed=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class l_{constructor(){this.subscriptions=[]}add(e){return i_(this.subscriptions,e),()=>s_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ss=t=>t*1e3,os=t=>t/1e3;function cA(t,e){return e?t*(1e3/e):0}const uA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,W6=1e-7,H6=12;function X6(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=uA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>W6&&++l<H6);return o}function kd(t,e,n,r){if(t===e&&n===r)return ii;const i=s=>X6(s,0,1,t,n);return s=>s===0||s===1?s:uA(i(s),e,r)}const dA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hA=t=>e=>1-t(1-e),fA=kd(.33,1.53,.69,.99),c_=hA(fA),mA=dA(c_),gA=t=>(t*=2)<1?.5*c_(t):.5*(2-Math.pow(2,-10*(t-1))),u_=t=>1-Math.sin(Math.acos(t)),pA=hA(u_),yA=dA(u_),K6=kd(.42,0,1,1),Y6=kd(0,0,.58,1),xA=kd(.42,0,.58,1),Z6=t=>Array.isArray(t)&&typeof t[0]!="number",vA=t=>Array.isArray(t)&&typeof t[0]=="number",q6={linear:ii,easeIn:K6,easeInOut:xA,easeOut:Y6,circIn:u_,circInOut:yA,circOut:pA,backIn:c_,backInOut:mA,backOut:fA,anticipate:gA},J6=t=>typeof t=="string",Jb=t=>{if(vA(t)){o_(t.length===4);const[e,n,r,i]=t;return kd(e,n,r,i)}else if(J6(t))return q6[t];return t},df=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Qb={value:null};function Q6(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(f){o.has(f)&&(h.schedule(f),t()),c++,f(l)}const h={schedule:(f,p=!1,y=!1)=>{const w=y&&i?n:r;return p&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),e&&Qb.value&&Qb.value.frameloop[e].push(c),c=0,n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const eU=40;function _A(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=df.reduce((T,P)=>(T[P]=Q6(s,e?P:void 0),T),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:f,preRender:p,render:y,postRender:v}=o,w=()=>{const T=zs.useManualTiming?i.timestamp:performance.now();n=!1,zs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(T-i.timestamp,eU),1)),i.timestamp=T,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),p.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},C=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:df.reduce((T,P)=>{const k=o[P];return T[P]=(M,L=!1,I=!1)=>(n||C(),k.schedule(M,L,I)),T},{}),cancel:T=>{for(let P=0;P<df.length;P++)o[df[P]].cancel(T)},state:i,steps:o}}const{schedule:en,cancel:jo,state:zn,steps:Gy}=_A(typeof requestAnimationFrame<"u"?requestAnimationFrame:ii,!0);let If;function tU(){If=void 0}const br={now:()=>(If===void 0&&br.set(zn.isProcessing||zs.useManualTiming?zn.timestamp:performance.now()),If),set:t=>{If=t,queueMicrotask(tU)}},wA=t=>e=>typeof e=="string"&&e.startsWith(t),d_=wA("--"),nU=wA("var(--"),h_=t=>nU(t)?rU.test(t.split("/*")[0].trim()):!1,rU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},td={...xc,transform:t=>Vs(0,1,t)},hf={...xc,default:1},Au=t=>Math.round(t*1e5)/1e5,f_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iU(t){return t==null}const sU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,m_=(t,e)=>n=>!!(typeof n=="string"&&sU.test(n)&&n.startsWith(t)||e&&!iU(n)&&Object.prototype.hasOwnProperty.call(n,e)),SA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(f_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},oU=t=>Vs(0,255,t),Uy={...xc,transform:t=>Math.round(oU(t))},va={test:m_("rgb","red"),parse:SA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Uy.transform(t)+", "+Uy.transform(e)+", "+Uy.transform(n)+", "+Au(td.transform(r))+")"};function aU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const J0={test:m_("#"),parse:aU,transform:va.transform},Ad=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xo=Ad("deg"),as=Ad("%"),Ze=Ad("px"),lU=Ad("vh"),cU=Ad("vw"),eE={...as,parse:t=>as.parse(t)/100,transform:t=>as.transform(t*100)},Ll={test:m_("hsl","hue"),parse:SA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+as.transform(Au(e))+", "+as.transform(Au(n))+", "+Au(td.transform(r))+")"},mn={test:t=>va.test(t)||J0.test(t)||Ll.test(t),parse:t=>va.test(t)?va.parse(t):Ll.test(t)?Ll.parse(t):J0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?va.transform(t):Ll.transform(t),getAnimatableNone:t=>{const e=mn.parse(t);return e.alpha=0,mn.transform(e)}},uU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(f_))==null?void 0:e.length)||0)+(((n=t.match(uU))==null?void 0:n.length)||0)>0}const CA="number",bA="color",hU="var",fU="var(",tE="${}",mU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(mU,c=>(mn.test(c)?(r.color.push(s),i.push(bA),n.push(mn.parse(c))):c.startsWith(fU)?(r.var.push(s),i.push(hU),n.push(c)):(r.number.push(s),i.push(CA),n.push(parseFloat(c))),++s,tE)).split(tE);return{values:n,split:l,indexes:r,types:i}}function EA(t){return nd(t).values}function RA(t){const{split:e,types:n}=nd(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===CA?s+=Au(i[o]):l===bA?s+=mn.transform(i[o]):s+=i[o]}return s}}const gU=t=>typeof t=="number"?0:mn.test(t)?mn.getAnimatableNone(t):t;function pU(t){const e=EA(t);return RA(t)(e.map(gU))}const Fo={test:dU,parse:EA,createTransformer:RA,getAnimatableNone:pU};function Wy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Wy(c,l,t+1/3),s=Wy(c,l,t),o=Wy(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function sm(t,e){return n=>n>0?e:t}const Qt=(t,e,n)=>t+(e-t)*n,Hy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},xU=[J0,va,Ll],vU=t=>xU.find(e=>e.test(t));function nE(t){const e=vU(t);if(!e)return!1;let n=e.parse(t);return e===Ll&&(n=yU(n)),n}const rE=(t,e)=>{const n=nE(t),r=nE(e);if(!n||!r)return sm(t,e);const i={...n};return s=>(i.red=Hy(n.red,r.red,s),i.green=Hy(n.green,r.green,s),i.blue=Hy(n.blue,r.blue,s),i.alpha=Qt(n.alpha,r.alpha,s),va.transform(i))},Q0=new Set(["none","hidden"]);function _U(t,e){return Q0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function wU(t,e){return n=>Qt(t,e,n)}function g_(t){return typeof t=="number"?wU:typeof t=="string"?h_(t)?sm:mn.test(t)?rE:bU:Array.isArray(t)?TA:typeof t=="object"?mn.test(t)?rE:SU:sm}function TA(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>g_(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function SU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=g_(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function CU(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const bU=(t,e)=>{const n=Fo.createTransformer(e),r=nd(t),i=nd(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Q0.has(t)&&!i.values.length||Q0.has(e)&&!r.values.length?_U(t,e):Pd(TA(CU(r,i),i.values),n):sm(t,e)};function PA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qt(t,e,n):g_(t)(t,e)}const EU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>en.update(e,n),stop:()=>jo(e),now:()=>zn.isProcessing?zn.timestamp:br.now()}},kA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},om=2e4;function p_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<om;)e+=n,r=t.next(e);return e>=om?1/0:e}function RU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(p_(r),om);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:os(i)}}const TU=5;function AA(t,e,n){const r=Math.max(e-TU,0);return cA(n-t(r),e-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iE=.001;function PU({duration:t=rn.duration,bounce:e=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let i,s,o=1-e;o=Vs(rn.minDamping,rn.maxDamping,o),t=Vs(rn.minDuration,rn.maxDuration,os(t)),o<1?(i=d=>{const h=d*o,f=h*t,p=h-n,y=ex(d,o),v=Math.exp(-f);return iE-p/y*v},s=d=>{const f=d*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-f),w=ex(Math.pow(d,2),o);return(-i(d)+iE>0?-1:1)*((p-y)*v)/w}):(i=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-.001+h*f},s=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=AU(i,s,l);if(t=ss(t),isNaN(c))return{stiffness:rn.stiffness,damping:rn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const kU=12;function AU(t,e,n){let r=n;for(let i=1;i<kU;i++)r=r-t(r)/e(r);return r}function ex(t,e){return t*Math.sqrt(1-e*e)}const MU=["duration","bounce"],IU=["stiffness","damping","mass"];function sE(t,e){return e.some(n=>t[n]!==void 0)}function NU(t){let e={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...t};if(!sE(t,IU)&&sE(t,MU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Vs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:rn.mass,stiffness:i,damping:s}}else{const n=PU(t);e={...e,...n,mass:rn.mass},e.isResolvedFromDuration=!0}return e}function am(t=rn.visualDuration,e=rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=NU({...n,velocity:-os(n.velocity||0)}),v=p||0,w=d/(2*Math.sqrt(c*h)),C=o-s,b=os(Math.sqrt(c/h)),R=Math.abs(C)<5;r||(r=R?rn.restSpeed.granular:rn.restSpeed.default),i||(i=R?rn.restDelta.granular:rn.restDelta.default);let T;if(w<1){const k=ex(b,w);T=M=>{const L=Math.exp(-w*b*M);return o-L*((v+w*b*C)/k*Math.sin(k*M)+C*Math.cos(k*M))}}else if(w===1)T=k=>o-Math.exp(-b*k)*(C+(v+b*C)*k);else{const k=b*Math.sqrt(w*w-1);T=M=>{const L=Math.exp(-w*b*M),I=Math.min(k*M,300);return o-L*((v+w*b*C)*Math.sinh(I)+k*C*Math.cosh(I))/k}}const P={calculatedDuration:y&&f||null,next:k=>{const M=T(k);if(y)l.done=k>=f;else{let L=k===0?v:0;w<1&&(L=k===0?ss(v):AA(T,k,M));const I=Math.abs(L)<=r,O=Math.abs(o-M)<=i;l.done=I&&O}return l.value=l.done?o:M,l},toString:()=>{const k=Math.min(p_(P),om),M=kA(L=>P.next(k*L).value,k,30);return k+"ms "+M},toTransition:()=>{}};return P}am.applyToOptions=t=>{const e=RU(t,100,am);return t.ease=e.ease,t.duration=ss(e.duration),t.type="keyframes",t};function tx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=I=>l!==void 0&&I<l||c!==void 0&&I>c,v=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let w=n*e;const C=f+w,b=o===void 0?C:o(C);b!==C&&(w=b-f);const R=I=>-w*Math.exp(-I/r),T=I=>b+R(I),P=I=>{const O=R(I),W=T(I);p.done=Math.abs(O)<=d,p.value=p.done?b:W};let k,M;const L=I=>{y(p.value)&&(k=I,M=am({keyframes:[p.value,v(p.value)],velocity:AA(T,I,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return L(0),{calculatedDuration:null,next:I=>{let O=!1;return!M&&k===void 0&&(O=!0,P(I),L(I)),k!==void 0&&I>=k?M.next(I-k):(!O&&P(I),p)}}}function jU(t,e,n){const r=[],i=n||zs.mix||PA,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ii:e;l=Pd(c,l)}r.push(l)}return r}function FU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(o_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=jU(e,r,i),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=ed(t[f],t[f+1],h);return l[f](p)};return n?h=>d(Vs(t[0],t[s-1],h)):d}function LU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ed(0,e,r);t.push(Qt(n,1,i))}}function DU(t){const e=[0];return LU(e,t.length-1),e}function OU(t,e){return t.map(n=>n*e)}function VU(t,e){return t.map(()=>e||xA).splice(0,t.length-1)}function Mu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Z6(r)?r.map(Jb):Jb(r),s={done:!1,value:e[0]},o=OU(n&&n.length===e.length?n:DU(e),t),l=FU(o,e,{ease:Array.isArray(i)?i:VU(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const zU=t=>t!==null;function y_(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(zU),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const $U={decay:tx,inertia:tx,tween:Mu,keyframes:Mu,spring:am};function MA(t){typeof t.type=="string"&&(t.type=$U[t.type])}class x_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const BU=t=>t/100;class v_ extends x_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==br.now()&&this.tick(br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MA(e);const{type:n=Mu,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=n||Mu;c!==Mu&&typeof l[0]!="number"&&(this.mixKeyframes=Pd(BU,PA(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=p_(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,P=r;if(f){const I=Math.min(this.currentTime,i)/l;let O=Math.floor(I),W=I%1;!W&&I>=1&&(W=1),W===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(p==="reverse"?(W=1-W,y&&(W-=y/l)):p==="mirror"&&(P=o)),T=Vs(0,1,W)*l}const k=R?{done:!1,value:h[0]}:P.next(T);s&&(k.value=s(k.value));let{done:M}=k;!R&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return L&&v!==tx&&(k.value=y_(h,this.options,C,this.speed)),w&&w(k.value),L&&this.finish(),k}then(e,n){return this.finished.then(e,n)}get duration(){return os(this.calculatedDuration)}get time(){return os(this.currentTime)}set time(e){var n;e=ss(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(br.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=os(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=EU,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function GU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _a=t=>t*180/Math.PI,nx=t=>{const e=_a(Math.atan2(t[1],t[0]));return rx(e)},UU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:nx,rotateZ:nx,skewX:t=>_a(Math.atan(t[1])),skewY:t=>_a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rx=t=>(t=t%360,t<0&&(t+=360),t),oE=nx,aE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),WU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aE,scaleY:lE,scale:t=>(aE(t)+lE(t))/2,rotateX:t=>rx(_a(Math.atan2(t[6],t[5]))),rotateY:t=>rx(_a(Math.atan2(-t[2],t[0]))),rotateZ:oE,rotate:oE,skewX:t=>_a(Math.atan(t[4])),skewY:t=>_a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ix(t){return t.includes("scale")?1:0}function sx(t,e){if(!t||t==="none")return ix(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=WU,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=UU,i=l}if(!i)return ix(e);const s=r[e],o=i[1].split(",").map(XU);return typeof s=="function"?s(o):o[s]}const HU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sx(n,e)};function XU(t){return parseFloat(t.trim())}const vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_c=new Set(vc),cE=t=>t===xc||t===Ze,KU=new Set(["x","y","z"]),YU=vc.filter(t=>!KU.has(t));function ZU(t){const e=[];return YU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sx(e,"x"),y:(t,{transform:e})=>sx(e,"y")};Ta.translateX=Ta.x;Ta.translateY=Ta.y;const Pa=new Set;let ox=!1,ax=!1,lx=!1;function IA(){if(ax){const t=Array.from(Pa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=ZU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ax=!1,ox=!1,Pa.forEach(t=>t.complete(lx)),Pa.clear()}function NA(){Pa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ax=!0)})}function qU(){lx=!0,NA(),IA(),lx=!1}class __{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Pa.add(this),ox||(ox=!0,en.read(NA),en.resolveKeyframes(IA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}GU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pa.delete(this)}cancel(){this.state==="scheduled"&&(Pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JU=t=>t.startsWith("--");function QU(t,e,n){JU(e)?t.style.setProperty(e,n):t.style[e]=n}const e8=a_(()=>window.ScrollTimeline!==void 0),t8={};function n8(t,e){const n=a_(t);return()=>t8[e]??n()}const jA=n8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_u=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_u([0,.65,.55,1]),circOut:_u([.55,0,1,.45]),backIn:_u([.31,.01,.66,-.59]),backOut:_u([.33,1.53,.69,.99])};function FA(t,e){if(t)return typeof t=="function"?jA()?kA(t,e):"ease-out":vA(t)?_u(t):Array.isArray(t)?t.map(n=>FA(n,e)||uE.easeOut):uE[t]}function r8(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const f=FA(l,i);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(h,p)}function LA(t){return typeof t=="function"&&"applyToOptions"in t}function i8({type:t,...e}){return LA(t)&&jA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class s8 extends x_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,o_(typeof e.type!="string");const d=i8(e);this.animation=r8(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=y_(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):QU(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return os(Number(e))}get time(){return os(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&e8()?(this.animation.timeline=e,ii):n(this)}}const DA={anticipate:gA,backInOut:mA,circInOut:yA};function o8(t){return t in DA}function a8(t){typeof t.ease=="string"&&o8(t.ease)&&(t.ease=DA[t.ease])}const dE=10;class l8 extends s8{constructor(e){a8(e),MA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new v_({...o,autoplay:!1}),c=ss(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-dE).value,l.sample(c).value,dE),l.stop()}}const hE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fo.test(t)||t==="0")&&!t.startsWith("url("));function c8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function u8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=hE(i,e),l=hE(s,e);return!o||!l?!1:c8(t)||(n==="spring"||LA(n))&&r}function w_(t){return aA(t)&&"offsetHeight"in t}const d8=new Set(["opacity","clipPath","filter","transform"]),h8=a_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function f8(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!w_((d=e==null?void 0:e.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return h8()&&n&&d8.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const m8=40;class g8 extends x_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...f}){var v;super(),this.stop=()=>{var w,C;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=br.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:c,motionValue:d,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||__;this.keyframeResolver=new y(l,(w,C,b)=>this.onKeyframesResolved(w,C,p,!b),c,d,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=br.now(),u8(e,s,o,l)||((zs.instantAnimations||!c)&&(h==null||h(y_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>m8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&f8(p)?new l8({...p,element:p.motionValue.owner.current}):new v_(p);y.finished.then(()=>this.notifyFinished()).catch(ii),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),qU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const p8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function y8(t){const e=p8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function OA(t,e,n=1){const[r,i]=y8(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return oA(o)?parseFloat(o):o}return h_(i)?OA(i,e,n+1):i}function S_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const VA=new Set(["width","height","top","left","right","bottom",...vc]),x8={test:t=>t==="auto",parse:t=>t},zA=t=>e=>e.test(t),$A=[xc,Ze,as,xo,cU,lU,x8],fE=t=>$A.find(zA(t));function v8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lA(t):!0}const _8=new Set(["brightness","contrast","saturate","opacity"]);function w8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(f_)||[];if(!r)return t;const i=n.replace(r,"");let s=_8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const S8=/\b([a-z-]*)\(.*?\)/gu,cx={...Fo,getAnimatableNone:t=>{const e=t.match(S8);return e?e.map(w8).join(" "):t}},mE={...xc,transform:Math.round},C8={rotate:xo,rotateX:xo,rotateY:xo,rotateZ:xo,scale:hf,scaleX:hf,scaleY:hf,scaleZ:hf,skew:xo,skewX:xo,skewY:xo,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:td,originX:eE,originY:eE,originZ:Ze},C_={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...C8,zIndex:mE,fillOpacity:td,strokeOpacity:td,numOctaves:mE},b8={...C_,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:cx,WebkitFilter:cx},BA=t=>b8[t];function GA(t,e){let n=BA(t);return n!==cx&&(n=Fo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const E8=new Set(["auto","none","0"]);function R8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!E8.has(s)&&nd(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=GA(n,i)}class T8 extends __{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),h_(d))){const h=OA(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!VA.has(r)||e.length!==2)return;const[i,s]=e,o=fE(i),l=fE(s);if(o!==l)if(cE(o)&&cE(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Ta[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||v8(e[i]))&&r.push(i);r.length&&R8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ta[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ta[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function P8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const UA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,gE=30,k8=t=>!isNaN(parseFloat(t));class A8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,l;const s=br.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=k8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new l_);const r=this.events[e].add(n);return e==="change"?()=>{r(),en.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gE);return cA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zl(t,e){return new A8(t,e)}const{schedule:b_}=_A(queueMicrotask,!1),vi={x:!1,y:!1};function WA(){return vi.x||vi.y}function M8(t){return t==="x"||t==="y"?vi[t]?null:(vi[t]=!0,()=>{vi[t]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function HA(t,e){const n=P8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function pE(t){return!(t.pointerType==="touch"||WA())}function I8(t,e,n={}){const[r,i,s]=HA(t,n),o=l=>{if(!pE(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=f=>{pE(f)&&(d(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const XA=(t,e)=>e?t===e?!0:XA(t,e.parentElement):!1,E_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,N8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j8(t){return N8.has(t.tagName)||t.tabIndex!==-1}const Nf=new WeakSet;function yE(t){return e=>{e.key==="Enter"&&t(e)}}function Xy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const F8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=yE(()=>{if(Nf.has(n))return;Xy(n,"down");const i=yE(()=>{Xy(n,"up")}),s=()=>Xy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function xE(t){return E_(t)&&!WA()}function L8(t,e,n={}){const[r,i,s]=HA(t,n),o=l=>{const c=l.currentTarget;if(!xE(l))return;Nf.add(c);const d=e(c,l),h=(y,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Nf.has(c)&&Nf.delete(c),xE(y)&&typeof d=="function"&&d(y,{success:v})},f=y=>{h(y,c===window||c===document||n.useGlobalTarget||XA(c,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),w_(l)&&(l.addEventListener("focus",d=>F8(d,i)),!j8(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function KA(t){return aA(t)&&"ownerSVGElement"in t}function D8(t){return KA(t)&&t.tagName==="svg"}const ir=t=>!!(t&&t.getVelocity),O8=[...$A,mn,Fo],V8=t=>O8.find(zA(t)),R_=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class z8 extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=w_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $8({children:t,isPresent:e,anchorX:n}){const r=_.useId(),i=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(R_);return _.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:f}=s.current;if(e||!i.current||!l||!c)return;const p=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),g.jsx(z8,{isPresent:e,childRef:i,sizeRef:s,children:_.cloneElement(t,{ref:i})})}const B8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const c=n_(G8),d=_.useId();let h=!0,f=_.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const y of c.values())if(!y)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return s&&h&&(f={...f}),_.useMemo(()=>{c.forEach((p,y)=>c.set(y,!1))},[n]),_.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx($8,{isPresent:n,anchorX:l,children:t})),g.jsx(sg.Provider,{value:f,children:t})};function G8(){return new Map}function YA(t=!0){const e=_.useContext(sg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const o=_.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const ff=t=>t.key||"";function vE(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const U8=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=YA(o),h=_.useMemo(()=>vE(t),[t]),f=o&&!c?[]:h.map(ff),p=_.useRef(!0),y=_.useRef(h),v=n_(()=>new Map),[w,C]=_.useState(h),[b,R]=_.useState(h);sA(()=>{p.current=!1,y.current=h;for(let k=0;k<b.length;k++){const M=ff(b[k]);f.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[b,f.length,f.join("-")]);const T=[];if(h!==w){let k=[...h];for(let M=0;M<b.length;M++){const L=b[M],I=ff(L);f.includes(I)||(k.splice(M,0,L),T.push(L))}return s==="wait"&&T.length&&(k=T),R(vE(k)),C(h),null}const{forceRender:P}=_.useContext(t_);return g.jsx(g.Fragment,{children:b.map(k=>{const M=ff(k),L=o&&!c?!1:h===b||f.includes(M),I=()=>{if(v.has(M))v.set(M,!0);else return;let O=!0;v.forEach(W=>{W||(O=!1)}),O&&(P==null||P(),R(y.current),o&&(d==null||d()),r&&r())};return g.jsx(B8,{isPresent:L,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:L?void 0:I,anchorX:l,children:k},M)})})},ZA=_.createContext({strict:!1}),_E={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ql={};for(const t in _E)ql[t]={isEnabled:e=>_E[t].some(n=>!!e[n])};function W8(t){for(const e in t)ql[e]={...ql[e],...t[e]}}const H8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||H8.has(t)}let qA=t=>!lm(t);function X8(t){typeof t=="function"&&(qA=e=>e.startsWith("on")?!lm(e):t(e))}try{X8(require("@emotion/is-prop-valid").default)}catch{}function K8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(qA(i)||n===!0&&lm(i)||!e&&!lm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Y8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const og=_.createContext({});function ag(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rd(t){return typeof t=="string"||Array.isArray(t)}const T_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],P_=["initial",...T_];function lg(t){return ag(t.animate)||P_.some(e=>rd(t[e]))}function JA(t){return!!(lg(t)||t.variants)}function Z8(t,e){if(lg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rd(n)?n:void 0,animate:rd(r)?r:void 0}}return t.inherit!==!1?e:{}}function q8(t){const{initial:e,animate:n}=Z8(t,_.useContext(og));return _.useMemo(()=>({initial:e,animate:n}),[wE(e),wE(n)])}function wE(t){return Array.isArray(t)?t.join(" "):t}const J8=Symbol.for("motionComponentSymbol");function Dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Q8(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dl(n)&&(n.current=r))},[e])}const k_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eW="framerAppearId",QA="data-"+k_(eW),eM=_.createContext({});function tW(t,e,n,r,i){var w,C;const{visualElement:s}=_.useContext(og),o=_.useContext(ZA),l=_.useContext(sg),c=_.useContext(R_).reducedMotion,d=_.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,f=_.useContext(eM);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&nW(d.current,n,i,f);const p=_.useRef(!1);_.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const y=n[QA],v=_.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,y)));return sA(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),b_.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),_.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,y)}),v.current=!1))}),h}function nW(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tM(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Dl(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function tM(t){if(t)return t.options.allowProjection!==!1?t.projection:tM(t.parent)}function rW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&W8(t);function s(l,c){let d;const h={..._.useContext(R_),...l,layoutId:iW(l)},{isStatic:f}=h,p=q8(l),y=r(l,f);if(!f&&r_){sW();const v=oW(h);d=v.MeasureLayout,p.visualElement=tW(i,y,h,e,v.ProjectionNode)}return g.jsxs(og.Provider,{value:p,children:[d&&p.visualElement?g.jsx(d,{visualElement:p.visualElement,...h}):null,n(i,l,Q8(y,p.visualElement,c),y,f,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=_.forwardRef(s);return o[J8]=i,o}function iW({layoutId:t}){const e=_.useContext(t_).id;return e&&t!==void 0?e+"-"+t:t}function sW(t,e){_.useContext(ZA).strict}function oW(t){const{drag:e,layout:n}=ql;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const id={};function aW(t){for(const e in t)id[e]=t[e],d_(e)&&(id[e].isCSSVariable=!0)}function nM(t,{layout:e,layoutId:n}){return _c.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!id[t]||t==="opacity")}const lW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cW=vc.length;function uW(t,e,n){let r="",i=!0;for(let s=0;s<cW;s++){const o=vc[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=UA(l,C_[o]);if(!c){i=!1;const h=lW[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function A_(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(_c.has(c)){o=!0;continue}else if(d_(c)){i[c]=d;continue}else{const h=UA(d,C_[c]);c.startsWith("origin")?(l=!0,s[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=uW(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${d} ${h}`}}const M_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rM(t,e,n){for(const r in e)!ir(e[r])&&!nM(r,n)&&(t[r]=e[r])}function dW({transformTemplate:t},e){return _.useMemo(()=>{const n=M_();return A_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hW(t,e){const n=t.style||{},r={};return rM(r,n,t),Object.assign(r,dW(t,e)),r}function fW(t,e){const n={},r=hW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mW={offset:"stroke-dashoffset",array:"stroke-dasharray"},gW={offset:"strokeDashoffset",array:"strokeDasharray"};function pW(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?mW:gW;t[s.offset]=Ze.transform(-r);const o=Ze.transform(e),l=Ze.transform(n);t[s.array]=`${o} ${l}`}function iM(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},c,d,h){if(A_(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&pW(f,i,s,o,!1)}const sM=()=>({...M_(),attrs:{}}),oM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yW(t,e,n,r){const i=_.useMemo(()=>{const s=sM();return iM(s,e,oM(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};rM(s,t.style,t),i.style={...s,...i.style}}return i}const xW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I_(t){return typeof t!="string"||t.includes("-")?!1:!!(xW.indexOf(t)>-1||/[A-Z]/u.test(t))}function vW(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(I_(n)?yW:fW)(r,s,o,n),d=K8(r,typeof n=="string",t),h=n!==_.Fragment?{...d,...c,ref:i}:{},{children:f}=r,p=_.useMemo(()=>ir(f)?f.get():f,[f]);return _.createElement(n,{...h,children:p})}}function SE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function N_(t,e,n,r){if(typeof e=="function"){const[i,s]=SE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=SE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function jf(t){return ir(t)?t.get():t}function _W({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:wW(n,r,i,t),renderState:e()}}const aM=t=>(e,n)=>{const r=_.useContext(og),i=_.useContext(sg),s=()=>_W(t,e,r,i);return n?s():n_(s)};function wW(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=jf(s[p]);let{initial:o,animate:l}=t;const c=lg(t),d=JA(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!ag(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const v=N_(t,p[y]);if(v){const{transitionEnd:w,transition:C,...b}=v;for(const R in b){let T=b[R];if(Array.isArray(T)){const P=h?T.length-1:0;T=T[P]}T!==null&&(i[R]=T)}for(const R in w)i[R]=w[R]}}}return i}function j_(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(ir(r[o])||e.style&&ir(e.style[o])||nM(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const SW={useVisualState:aM({scrapeMotionValuesFromProps:j_,createRenderState:M_})};function lM(t,e,n){const r=j_(t,e,n);for(const i in t)if(ir(t[i])||ir(e[i])){const s=vc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const CW={useVisualState:aM({scrapeMotionValuesFromProps:lM,createRenderState:sM})};function bW(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...I_(r)?CW:SW,preloadedFeatures:t,useRender:vW(i),createVisualElement:e,Component:r};return rW(o)}}function sd(t,e,n){const r=t.getProps();return N_(r,e,n!==void 0?n:r.custom,t)}const ux=t=>Array.isArray(t);function EW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Zl(n))}function RW(t){return ux(t)?t[t.length-1]||0:t}function TW(t,e){const n=sd(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=RW(s[o]);EW(t,o,l)}}function PW(t){return!!(ir(t)&&t.add)}function dx(t,e){const n=t.getValue("willChange");if(PW(n))return n.add(e);if(!n&&zs.WillChange){const r=new zs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cM(t){return t.props[QA]}const kW=t=>t!==null;function AW(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(kW),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const MW={type:"spring",stiffness:500,damping:25,restSpeed:10},IW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NW={type:"keyframes",duration:.8},jW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FW=(t,{keyframes:e})=>e.length>2?NW:_c.has(t)?t.startsWith("scale")?IW(e[1]):MW:jW;function LW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const F_=(t,e,n,r={},i,s)=>o=>{const l=S_(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ss(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};LW(l)||Object.assign(h,FW(t,h)),h.duration&&(h.duration=ss(h.duration)),h.repeatDelay&&(h.repeatDelay=ss(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),(zs.instantAnimations||zs.skipAnimations)&&(f=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!s&&e.get()!==void 0){const p=AW(h.keyframes,l);if(p!==void 0){en.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new v_(h):new g8(h)};function DW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),p=l[h];if(p===void 0||d&&DW(d,h))continue;const y={delay:n,...S_(s||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=cM(t);if(b){const R=window.MotionHandoffAnimation(b,h,en);R!==null&&(y.startTime=R,w=!0)}}dx(t,h),f.start(F_(h,f,p,t.shouldReduceMotion&&VA.has(h)?{type:!1}:y,t,w));const C=f.animation;C&&c.push(C)}return o&&Promise.all(c).then(()=>{en.update(()=>{o&&TW(t,o)})}),c}function hx(t,e,n={}){var c;const r=sd(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(uM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return OW(t,e,h+d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function OW(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(VW).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(hx(d,e,{...s,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function VW(t,e){return t.sortNodePosition(e)}function zW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>hx(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=hx(t,e,n);else{const i=typeof e=="function"?sd(t,e,n.custom):e;r=Promise.all(uM(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function dM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const $W=P_.length;function hM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$W;n++){const r=P_[n],i=t.props[r];(rd(i)||i===!1)&&(e[r]=i)}return e}const BW=[...T_].reverse(),GW=T_.length;function UW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zW(t,n,r)))}function WW(t){let e=UW(t),n=CE(),r=!0;const i=c=>(d,h)=>{var p;const f=sd(t,h,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:v,...w}=f;d={...d,...w,...v}}return d};function s(c){e=c(t)}function o(c){const{props:d}=t,h=hM(t.parent)||{},f=[],p=new Set;let y={},v=1/0;for(let C=0;C<GW;C++){const b=BW[C],R=n[b],T=d[b]!==void 0?d[b]:h[b],P=rd(T),k=b===c?R.isActive:null;k===!1&&(v=C);let M=T===h[b]&&T!==d[b]&&P;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),R.protectedKeys={...y},!R.isActive&&k===null||!T&&!R.prevProp||ag(T)||typeof T=="boolean")continue;const L=HW(R.prevProp,T);let I=L||b===c&&R.isActive&&!M&&P||C>v&&P,O=!1;const W=Array.isArray(T)?T:[T];let z=W.reduce(i(b),{});k===!1&&(z={});const{prevResolvedValues:X={}}=R,G={...X,...z},Z=F=>{I=!0,p.has(F)&&(O=!0,p.delete(F)),R.needsAnimating[F]=!0;const N=t.getValue(F);N&&(N.liveStyle=!1)};for(const F in G){const N=z[F],B=X[F];if(y.hasOwnProperty(F))continue;let Y=!1;ux(N)&&ux(B)?Y=!dM(N,B):Y=N!==B,Y?N!=null?Z(F):p.add(F):N!==void 0&&p.has(F)?Z(F):R.protectedKeys[F]=!0}R.prevProp=T,R.prevResolvedValues=z,R.isActive&&(y={...y,...z}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&L)||O)&&f.push(...W.map(F=>({animation:F,options:{type:b}})))}if(p.size){const C={};if(typeof d.initial!="boolean"){const b=sd(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(C.transition=b.transition)}p.forEach(b=>{const R=t.getBaseTarget(b),T=t.getValue(b);T&&(T.liveStyle=!0),C[b]=R??null}),f.push({animation:C})}let w=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function l(c,d){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=CE(),r=!0}}}function HW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dM(e,t):!1}function aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CE(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}class Bo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XW extends Bo{constructor(e){super(e),e.animationState||(e.animationState=WW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ag(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let KW=0;class YW extends Bo{constructor(){super(...arguments),this.id=KW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ZW={animation:{Feature:XW},exit:{Feature:YW}};function od(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Md(t){return{point:{x:t.pageX,y:t.pageY}}}const qW=t=>e=>E_(e)&&t(e,Md(e));function Iu(t,e,n,r){return od(t,e,qW(n),r)}function fM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function JW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function QW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const mM=1e-4,eH=1-mM,tH=1+mM,gM=.01,nH=0-gM,rH=0+gM;function dr(t){return t.max-t.min}function iH(t,e,n){return Math.abs(t-e)<=n}function bE(t,e,n,r=.5){t.origin=r,t.originPoint=Qt(e.min,e.max,t.origin),t.scale=dr(n)/dr(e),t.translate=Qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eH&&t.scale<=tH||isNaN(t.scale))&&(t.scale=1),(t.translate>=nH&&t.translate<=rH||isNaN(t.translate))&&(t.translate=0)}function Nu(t,e,n,r){bE(t.x,e.x,n.x,r?r.originX:void 0),bE(t.y,e.y,n.y,r?r.originY:void 0)}function EE(t,e,n){t.min=n.min+e.min,t.max=t.min+dr(e)}function sH(t,e,n){EE(t.x,e.x,n.x),EE(t.y,e.y,n.y)}function RE(t,e,n){t.min=e.min-n.min,t.max=t.min+dr(e)}function ju(t,e,n){RE(t.x,e.x,n.x),RE(t.y,e.y,n.y)}const TE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ol=()=>({x:TE(),y:TE()}),PE=()=>({min:0,max:0}),an=()=>({x:PE(),y:PE()});function ti(t){return[t("x"),t("y")]}function Ky(t){return t===void 0||t===1}function fx({scale:t,scaleX:e,scaleY:n}){return!Ky(t)||!Ky(e)||!Ky(n)}function ua(t){return fx(t)||pM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pM(t){return kE(t.x)||kE(t.y)}function kE(t){return t&&t!=="0%"}function cm(t,e,n){const r=t-n,i=e*r;return n+i}function AE(t,e,n,r,i){return i!==void 0&&(t=cm(t,i,r)),cm(t,n,r)+e}function mx(t,e=0,n=1,r,i){t.min=AE(t.min,e,n,r,i),t.max=AE(t.max,e,n,r,i)}function yM(t,{x:e,y:n}){mx(t.x,e.translate,e.scale,e.originPoint),mx(t.y,n.translate,n.scale,n.originPoint)}const ME=.999999999999,IE=1.0000000000001;function oH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yM(t,o)),r&&ua(s.latestValues)&&zl(t,s.latestValues))}e.x<IE&&e.x>ME&&(e.x=1),e.y<IE&&e.y>ME&&(e.y=1)}function Vl(t,e){t.min=t.min+e,t.max=t.max+e}function NE(t,e,n,r,i=.5){const s=Qt(t.min,t.max,i);mx(t,e,n,s,r)}function zl(t,e){NE(t.x,e.x,e.scaleX,e.scale,e.originX),NE(t.y,e.y,e.scaleY,e.scale,e.originY)}function xM(t,e){return fM(QW(t.getBoundingClientRect(),e))}function aH(t,e,n){const r=xM(t,n),{scroll:i}=e;return i&&(Vl(r.x,i.offset.x),Vl(r.y,i.offset.y)),r}const vM=({current:t})=>t?t.ownerDocument.defaultView:null,jE=(t,e)=>Math.abs(t-e);function lH(t,e){const n=jE(t.x,e.x),r=jE(t.y,e.y);return Math.sqrt(n**2+r**2)}class _M{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=lH(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:v}=f,{timestamp:w}=zn;this.history.push({...v,timestamp:w});const{onStart:C,onMove:b}=this.handlers;p||(C&&C(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Yy(p,this.transformPagePoint),en.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Zy(f.type==="pointercancel"?this.lastMoveEventInfo:Yy(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,C),v&&v(f,C)},!E_(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Md(e),l=Yy(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=zn;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Zy(l,this.history)),this.removeListeners=Pd(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),jo(this.updatePoint)}}function Yy(t,e){return e?{point:e(t.point)}:t}function FE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zy({point:t},e){return{point:t,delta:FE(t,wM(e)),offset:FE(t,cH(e)),velocity:uH(e,.1)}}function cH(t){return t[0]}function wM(t){return t[t.length-1]}function uH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=wM(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ss(e)));)n--;if(!r)return{x:0,y:0};const s=os(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qt(n,t,r.max):Math.min(t,n)),t}function LE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hH(t,{top:e,left:n,bottom:r,right:i}){return{x:LE(t.x,n,i),y:LE(t.y,e,r)}}function DE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function fH(t,e){return{x:DE(t.x,e.x),y:DE(t.y,e.y)}}function mH(t,e){let n=.5;const r=dr(t),i=dr(e);return i>r?n=ed(e.min,e.max-r,t.min):r>i&&(n=ed(t.min,t.max-i,e.min)),Vs(0,1,n)}function gH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gx=.35;function pH(t=gx){return t===!1?t=0:t===!0&&(t=gx),{x:OE(t,"left","right"),y:OE(t,"top","bottom")}}function OE(t,e,n){return{min:VE(t,e),max:VE(t,n)}}function VE(t,e){return typeof t=="number"?t:t[e]||0}const yH=new WeakMap;class xH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=an(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Md(h).point)},s=(h,f)=>{const{drag:p,dragPropagation:y,onDragStart:v}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=M8(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(C=>{let b=this.getAxisMotionValue(C).get()||0;if(as.test(b)){const{projection:R}=this.visualElement;if(R&&R.layout){const T=R.layout.layoutBox[C];T&&(b=dr(T)*(parseFloat(b)/100))}}this.originPoint[C]=b}),v&&en.postRender(()=>v(h,f)),dx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:C}=f;if(y&&this.currentDirection===null){this.currentDirection=vH(C),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,C),this.updateAxis("y",f.point,C),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>this.stop(h,f),c=()=>ti(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _M(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:vM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&en.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!mf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=dH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Dl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=hH(r.layoutBox,e):this.constraints=!1,this.elastic=pH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ti(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=aH(r,i.root,this.visualElement.getTransformPagePoint());let o=fH(i.layout.layoutBox,s);if(n){const l=n(JW(o));this.hasMutatedConstraints=!!l,l&&(o=fM(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ti(h=>{if(!mf(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dx(this.visualElement,e),r.start(F_(e,r,0,n,this.visualElement,!1))}stopAnimation(){ti(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ti(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ti(n=>{const{drag:r}=this.getProps();if(!mf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-Qt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ti(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=mH({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ti(o=>{if(!mf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Qt(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;yH.set(this.visualElement,this);const e=this.visualElement.current,n=Iu(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Dl(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),en.read(r);const o=od(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ti(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=gx,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function mf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _H extends Bo{constructor(e){super(e),this.removeGroupControls=ii,this.removeListeners=ii,this.controls=new xH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ii}unmount(){this.removeGroupControls(),this.removeListeners()}}const zE=t=>(e,n)=>{t&&en.postRender(()=>t(e,n))};class wH extends Bo{constructor(){super(...arguments),this.removePointerDownListener=ii}onPointerDown(e){this.session=new _M(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:zE(e),onStart:zE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&en.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $E(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ze.test(t))t=parseFloat(t);else return t;const n=$E(t,e.target.x),r=$E(t,e.target.y);return`${n}% ${r}%`}},SH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Fo.parse(t);if(i.length>5)return r;const s=Fo.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=Qt(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class CH extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;aW(bH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||en.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),b_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SM(t){const[e,n]=YA(),r=_.useContext(t_);return g.jsx(CH,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(eM),isPresent:e,safeToRemove:n})}const bH={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:SH};function EH(t,e,n){const r=ir(t)?t:Zl(t);return r.start(F_("",r,e,n)),r.animation}const RH=(t,e)=>t.depth-e.depth;class TH{constructor(){this.children=[],this.isDirty=!1}add(e){i_(this.children,e),this.isDirty=!0}remove(e){s_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RH),this.isDirty=!1,this.children.forEach(e)}}function PH(t,e){const n=br.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(jo(r),t(s-e))};return en.setup(r,!0),()=>jo(r)}const CM=["TopLeft","TopRight","BottomLeft","BottomRight"],kH=CM.length,BE=t=>typeof t=="string"?parseFloat(t):t,GE=t=>typeof t=="number"||Ze.test(t);function AH(t,e,n,r,i,s){i?(t.opacity=Qt(0,n.opacity??1,MH(r)),t.opacityExit=Qt(e.opacity??1,0,IH(r))):s&&(t.opacity=Qt(e.opacity??1,n.opacity??1,r));for(let o=0;o<kH;o++){const l=`border${CM[o]}Radius`;let c=UE(e,l),d=UE(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||GE(c)===GE(d)?(t[l]=Math.max(Qt(BE(c),BE(d),r),0),(as.test(d)||as.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Qt(e.rotate||0,n.rotate||0,r))}function UE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MH=bM(0,.5,pA),IH=bM(.5,.95,ii);function bM(t,e,n){return r=>r<t?0:r>e?1:n(ed(t,e,r))}function WE(t,e){t.min=e.min,t.max=e.max}function ei(t,e){WE(t.x,e.x),WE(t.y,e.y)}function HE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function XE(t,e,n,r,i){return t-=e,t=cm(t,1/n,r),i!==void 0&&(t=cm(t,1/i,r)),t}function NH(t,e=0,n=1,r=.5,i,s=t,o=t){if(as.test(e)&&(e=parseFloat(e),e=Qt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Qt(s.min,s.max,r);t===s&&(l-=e),t.min=XE(t.min,e,n,l,i),t.max=XE(t.max,e,n,l,i)}function KE(t,e,[n,r,i],s,o){NH(t,e[n],e[r],e[i],e.scale,s,o)}const jH=["x","scaleX","originX"],FH=["y","scaleY","originY"];function YE(t,e,n,r){KE(t.x,e,jH,n?n.x:void 0,r?r.x:void 0),KE(t.y,e,FH,n?n.y:void 0,r?r.y:void 0)}function ZE(t){return t.translate===0&&t.scale===1}function EM(t){return ZE(t.x)&&ZE(t.y)}function qE(t,e){return t.min===e.min&&t.max===e.max}function LH(t,e){return qE(t.x,e.x)&&qE(t.y,e.y)}function JE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RM(t,e){return JE(t.x,e.x)&&JE(t.y,e.y)}function QE(t){return dr(t.x)/dr(t.y)}function eR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DH{constructor(){this.members=[]}add(e){i_(this.members,e),e.scheduleRender()}remove(e){if(s_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:p,skewX:y,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const qy=["","X","Y","Z"],VH={visibility:"hidden"},zH=1e3;let $H=0;function Jy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function TM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",en,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&TM(r)}function PM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=$H++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UH),this.nodes.forEach(KH),this.nodes.forEach(YH),this.nodes.forEach(WH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new TH)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new l_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=KA(o)&&!D8(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=PH(f,250),Ff.hasAnimatedSinceResize&&(Ff.hasAnimatedSinceResize=!1,this.nodes.forEach(rR))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||e9,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=d.getProps(),b=!this.targetLayout||!RM(this.targetLayout,y),R=!f&&p;if(this.options.layoutRoot||this.resumeFrom||R||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...S_(v,"layout"),onPlay:w,onComplete:C};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(h,R)}else f||rR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nR);return}this.isUpdating||this.nodes.forEach(nR),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(XH),this.nodes.forEach(BH),this.nodes.forEach(GH),this.clearAllSnapshots();const l=br.now();zn.delta=Vs(0,1e3/60,l-zn.timestamp),zn.timestamp=l,zn.isProcessing=!0,Gy.update.process(zn),Gy.preRender.process(zn),Gy.render.process(zn),zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,b_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HH),this.sharedNodes.forEach(qH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,en.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){en.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dr(this.snapshot.measuredBox.x)&&!dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=an(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!EM(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ua(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),t9(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return an();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(n9))){const{scroll:h}=this.root;h&&(Vl(l.x,h.offset.x),Vl(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=an();if(ei(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&ei(l,o),Vl(l.x,f.offset.x),Vl(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=an();ei(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&zl(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ua(h.latestValues)&&zl(c,h.latestValues)}return ua(this.latestValues)&&zl(c,this.latestValues),c}removeTransform(o){const l=an();ei(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ua(d.latestValues))continue;fx(d.latestValues)&&d.updateSnapshot();const h=an(),f=d.measurePageBox();ei(h,f),YE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ua(this.latestValues)&&YE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=zn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),ju(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=an(),this.targetWithTransforms=an()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ei(this.target,this.layout.layoutBox),yM(this.target,this.targetDelta)):ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=an(),this.relativeTargetOrigin=an(),ju(this.relativeTargetOrigin,this.target,y.target),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fx(this.parent.latestValues)||pM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===zn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ei(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;oH(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=an());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HE(this.prevProjectionDelta.x,this.projectionDelta.x),HE(this.prevProjectionDelta.y,this.projectionDelta.y)),Nu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!eR(this.projectionDelta.x,this.prevProjectionDelta.x)||!eR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ol(),this.projectionDelta=Ol(),this.projectionDeltaWithTransform=Ol()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=Ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=an(),y=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,C=this.getStack(),b=!C||C.members.length<=1,R=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(QH));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const k=P/1e3;iR(f.x,o.x,k),iR(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JH(this.relativeTarget,this.relativeTargetOrigin,p,k),T&&LH(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=an()),ei(T,this.relativeTarget)),w&&(this.animationValues=h,AH(h,d,this.latestValues,k,R,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(jo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=en.update(()=>{Ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zl(0)),this.currentAnimation=EH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&kM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||an();const f=dr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=dr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}ei(l,c),zl(l,h),Nu(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new DH),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Jy("z",o,d,this.animationValues);for(let h=0;h<qy.length;h++)Jy(`rotate${qy[h]}`,o,d,this.animationValues),Jy(`skew${qy[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return VH;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=jf(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=jf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=OH(this.projectionDeltaWithTransform,this.treeScale,h),c&&(l.transform=c(h,l.transform));const{x:f,y:p}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in id){if(h[y]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:C}=id[y],b=l.transform==="none"?h[y]:v(h[y],d);if(w){const R=w.length;for(let T=0;T<R;T++)l[w[T]]=b}else C?this.options.visualElement.renderState.vars[y]=b:l[y]=b}return this.options.layoutId&&(l.pointerEvents=d===this?jf(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(tR),this.root.sharedNodes.clear()}}}function BH(t){t.updateLayout()}function GH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ti(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=dr(p);p.min=r[f].min,p.max=p.min+y}):kM(s,e.layoutBox,r)&&ti(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=dr(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const l=Ol();Nu(l,r,e.layoutBox);const c=Ol();o?Nu(c,t.applyTransform(i,!0),e.measuredBox):Nu(c,r,e.layoutBox);const d=!EM(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const v=an();ju(v,e.layoutBox,p.layoutBox);const w=an();ju(w,r,y.layoutBox),RM(v,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function UH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function WH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HH(t){t.clearSnapshot()}function tR(t){t.clearMeasurements()}function nR(t){t.isLayoutDirty=!1}function XH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KH(t){t.resolveTargetDelta()}function YH(t){t.calcProjection()}function ZH(t){t.resetSkewAndRotation()}function qH(t){t.removeLeadSnapshot()}function iR(t,e,n){t.translate=Qt(e.translate,0,n),t.scale=Qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sR(t,e,n,r){t.min=Qt(e.min,n.min,r),t.max=Qt(e.max,n.max,r)}function JH(t,e,n,r){sR(t.x,e.x,n.x,r),sR(t.y,e.y,n.y,r)}function QH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const e9={duration:.45,ease:[.4,0,.1,1]},oR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aR=oR("applewebkit/")&&!oR("chrome/")?Math.round:ii;function lR(t){t.min=aR(t.min),t.max=aR(t.max)}function t9(t){lR(t.x),lR(t.y)}function kM(t,e,n){return t==="position"||t==="preserve-aspect"&&!iH(QE(e),QE(n),.2)}function n9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const r9=PM({attachResizeListener:(t,e)=>od(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qy={current:void 0},AM=PM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qy.current){const t=new r9({});t.mount(window),t.setOptions({layoutScroll:!0}),Qy.current=t}return Qy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),i9={pan:{Feature:wH},drag:{Feature:_H,ProjectionNode:AM,MeasureLayout:SM}};function cR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&en.postRender(()=>s(e,Md(e)))}class s9 extends Bo{mount(){const{current:e}=this.node;e&&(this.unmount=I8(e,(n,r)=>(cR(this.node,r,"Start"),i=>cR(this.node,i,"End"))))}unmount(){}}class o9 extends Bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pd(od(this.node.current,"focus",()=>this.onFocus()),od(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uR(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&en.postRender(()=>s(e,Md(e)))}class a9 extends Bo{mount(){const{current:e}=this.node;e&&(this.unmount=L8(e,(n,r)=>(uR(this.node,r,"Start"),(i,{success:s})=>uR(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const px=new WeakMap,e0=new WeakMap,l9=t=>{const e=px.get(t.target);e&&e(t)},c9=t=>{t.forEach(l9)};function u9({root:t,...e}){const n=t||document;e0.has(n)||e0.set(n,{});const r=e0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(c9,{root:t,...e})),r[i]}function d9(t,e,n){const r=u9(e);return px.set(t,n),r.observe(t),()=>{px.delete(t),r.unobserve(t)}}const h9={some:0,all:1};class f9 extends Bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:h9[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return d9(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(m9(e,n))&&this.startObserver()}unmount(){}}function m9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const g9={inView:{Feature:f9},tap:{Feature:a9},focus:{Feature:o9},hover:{Feature:s9}},p9={layout:{ProjectionNode:AM,MeasureLayout:SM}},yx={current:null},MM={current:!1};function y9(){if(MM.current=!0,!!r_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yx.current=t.matches;t.addListener(e),e()}else yx.current=!1}const x9=new WeakMap;function v9(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ir(i))t.addValue(r,i);else if(ir(s))t.addValue(r,Zl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Zl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _9{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=__,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=br.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,en.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=lg(n),this.isVariantNode=JA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&ir(y)&&y.set(c[p],!1)}}mount(e){this.current=e,x9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),MM.current||y9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jo(this.notifyUpdate),jo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_c.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&en.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ql){const n=ql[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):an()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dR.length;r++){const i=dR[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=v9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Zl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(oA(r)||lA(r))?r=parseFloat(r):!V8(r)&&Fo.test(n)&&(r=GA(e,n)),this.setBaseTarget(e,ir(r)?r.get():r)),ir(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=N_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ir(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new l_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IM extends _9{constructor(){super(...arguments),this.KeyframeResolver=T8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ir(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NM(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function w9(t){return window.getComputedStyle(t)}class S9 extends IM{constructor(){super(...arguments),this.type="html",this.renderInstance=NM}readValueFromInstance(e,n){var r;if(_c.has(n))return(r=this.projection)!=null&&r.isProjecting?ix(n):HU(e,n);{const i=w9(e),s=(d_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xM(e,n)}build(e,n,r){A_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return j_(e,n,r)}}const jM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C9(t,e,n,r){NM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(jM.has(i)?i:k_(i),e.attrs[i])}class b9 extends IM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=an}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_c.has(n)){const r=BA(n);return r&&r.default||0}return n=jM.has(n)?n:k_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lM(e,n,r)}build(e,n,r){iM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){C9(e,n,r,i)}mount(e){this.isSVGTag=oM(e.tagName),super.mount(e)}}const E9=(t,e)=>I_(t)?new b9(e):new S9(e,{allowProjection:t!==_.Fragment}),R9=bW({...ZW,...g9,...i9,...p9},E9),T9=Y8(R9);function P9({resumen:t,visible:e,onClose:n}){return t?g.jsx(U8,{children:e&&g.jsx(T9.div,{initial:{y:"100%"},animate:{y:"0%"},exit:{y:"100%"},transition:{duration:.2,ease:"easeOut"},className:`absolute bottom-20 left-20 right-20 md:left-20
                        z-20 flex justify-center px-4 sm:bottom-20`,children:g.jsxs("div",{className:"relative bg-white w-full max-w-[400px] max-h-[45vh] overflow-y-auto rounded-2xl shadow-xl p-4 border border-gray-300 dark:bg-zinc-900 dark:text-white",children:[g.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-1 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700",title:"Cerrar",children:g.jsx(Us,{className:"w-5 h-5"})}),g.jsx("h2",{className:"text-xl font-bold mb-2 break-words",children:t.nombre}),g.jsxs("p",{className:"text-sm",children:["Animales: ",g.jsx("strong",{children:t.total_animales})]}),g.jsxs("p",{className:"text-sm",children:["Collares: ",g.jsx("strong",{children:t.total_collares})]}),t.tipos&&g.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(t.tipos).map(([r,i])=>g.jsxs("div",{className:"break-words",children:[g.jsxs("h3",{className:"font-semibold text-sm mt-2",children:[r," (",i.cantidad,")"]}),g.jsxs("p",{className:"text-xs",children:["Razas: ",Object.entries(i.por_raza).map(([s,o])=>`${s} (${o})`).join(", ")]}),g.jsxs("p",{className:"text-xs",children:["Sexos: ",Object.entries(i.por_sexo).map(([s,o])=>`${s} (${o})`).join(", ")]})]},r))})]})})}):null}function k9(t,{setMode:e,setArea:n,setTooltipText:r}){const i=_.useRef([]),s=_.useRef([]),o=_.useRef(null),l=_.useRef(null),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=_.useRef(null),y=_.useRef(!1),[v,w]=_.useState(!1),[C,b]=_.useState(!1),[R,T]=_.useState(!1),P=15,k=()=>{i.current=[],s.current=[],o.current=null,l.current=null,p.current=null,w(!1),n(0),b(!1),T(!1),r("")},M=_.useRef(j=>{y.current&&Ri.modeRef.current==="draw"&&i.current.length>=3&&(b(!0),H(),j.preventDefault())}).current,L=j=>{if(!h.current||i.current.length===0)return;o.current&&h.current.removeFeature(o.current);const D=i.current[i.current.length-1],re=new Na([D,j]);o.current=new nr(re),o.current.setStyle(tr.previewLine),h.current.addFeature(o.current)},I=(j,D)=>{h.current&&(l.current?l.current.getGeometry().setCoordinates(j):(l.current=new nr(new Tr(j)),h.current.addFeature(l.current)),l.current.setStyle(D?tr.previewVertexSnap:tr.previewVertex))},O=j=>{const D=new nr(new Tr(j));D.setStyle(tr.vertexDraw),s.current.push(D),h.current.addFeature(D)},W=()=>{if(!h.current||i.current.length<2)return;h.current.getFeatures().forEach(D=>{D.getGeometry()instanceof er&&h.current.removeFeature(D)});const j=new nr(new er([i.current]));j.setStyle(tr.draw),h.current.addFeature(j)},z=()=>{const j=t.current;if(!j||i.current.length<3){c.current&&(j.removeOverlay(c.current),c.current=null),n(0);return}const D=new er([i.current]),re=Hm(D,{projection:"EPSG:3857"});n(re);const ie=`${(re/1e4).toFixed(2)} ha`,ce=D.getInteriorPoint().getCoordinates();if(!c.current){const ge=document.createElement("div");ge.className="area-label",ge.textContent=ie,c.current=new im({element:ge,positioning:"center-center",stopEvent:!1}),j.addOverlay(c.current)}c.current.getElement().textContent=ie,c.current.setPosition(ce)},X=(j,D)=>{const re=t.current;if(re){if(!d.current){const ie=document.createElement("div");ie.className="map-tooltip",d.current=new im({element:ie,offset:[0,-15],positioning:"bottom-center",className:"ol-tooltip-text"}),re.addOverlay(d.current)}d.current.getElement().textContent=j,d.current.setPosition(D)}},G=_.useRef(j=>{if(!y.current||Ri.modeRef.current!=="draw")return;const D=t.current,re=j.coordinate,ie=i.current[0];if(ie&&D.getPixelFromCoordinate(re)&&D.getPixelFromCoordinate(ie)&&t0(D.getPixelFromCoordinate(re),D.getPixelFromCoordinate(ie))<P&&i.current.length>=3){i.current.push(ie),b(!0),H();return}i.current.push(re),O(re),W(),z(),i.current.length>0?T(!0):T(!1);const ae=i.current.length===1?"Click para continuar dibujando":"Click para cerrar polgono";r(ae),X(ae,re),w(i.current.length>=3)}).current,Z=_.useRef(j=>{if(!y.current||Ri.modeRef.current!=="draw")return;const D=t.current,re=j.coordinate,ie=i.current[0],ge=(ie?t0(D.getPixelFromCoordinate(re),D.getPixelFromCoordinate(ie)):1/0)<P,ae=ge?"Click sobre el primer punto para cerrar":i.current.length===0?"Click para colocar el primer vrtice":"Click para continuar dibujando";r(ae),X(ae,re),L(re),I(re,ge)}).current,q=()=>{const j=t.current;j&&(F(),f.current&&j.removeLayer(f.current),h.current=new Os,f.current=new ds({source:h.current}),j.addLayer(f.current),j.on("click",G),j.on("pointermove",Z),j.on("dblclick",M),k(),e("draw"),r("Click para colocar el primer vrtice"),document.body.classList.add("draw-mode"),c.current&&(j.removeOverlay(c.current),c.current=null),d.current&&(j.removeOverlay(d.current),d.current=null),y.current=!0)},H=()=>{const j=t.current;if(!j||i.current.length<3)return;const D=i.current[0],re=i.current[i.current.length-1];D&&re&&t0(D,re)>1&&i.current.push(D),h.current&&(s.current.forEach(ce=>h.current.removeFeature(ce)),o.current&&h.current.removeFeature(o.current),l.current&&h.current.removeFeature(l.current),h.current.getFeatures().forEach(ce=>{ce.getGeometry()instanceof er&&h.current.removeFeature(ce)}));const ie=new er([i.current]);p.current=new nr(ie),h.current.addFeature(p.current),d.current&&(j.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),r(""),i.current=[],s.current=[],o.current=null,l.current=null,w(!1),typeof Ri.onFinishCallback.current=="function"&&Ri.onFinishCallback.current(p.current)},F=()=>{const j=t.current;j&&(j.on("click",G),j.on("pointermove",Z),j.on("dblclick",M),k(),d.current&&(j.removeOverlay(d.current),d.current=null),document.body.classList.remove("draw-mode"),e(null),r(""),c.current&&(j.removeOverlay(c.current),c.current=null),f.current&&(j.removeLayer(f.current),f.current=null,h.current=null),document.body.classList.remove("draw-mode"),y.current=!1)},N=()=>F(),B=()=>{if(!i.current.length)return;i.current.pop();const j=s.current.pop();if(j&&h.current&&h.current.removeFeature(j),o.current&&h.current&&(h.current.removeFeature(o.current),o.current=null),h.current&&h.current.getFeatures().forEach(D=>{D.getGeometry()instanceof er&&h.current.removeFeature(D)}),i.current.length>=2){const D=new nr(new er([i.current]));D.setStyle(tr.draw),h.current.addFeature(D)}if(i.current.length>=1&&d.current){const D=d.current.getPosition();D&&L(D)}z(),T(i.current.length>0),w(i.current.length>=3)},Y=()=>p.current||null;return _.useEffect(()=>F,[]),{enableDraw:q,disableDraw:F,cancelDraw:N,endPolygon:H,removeLastPoint:B,getCreatedFeature:Y,canFinish:v,closedBySnap:C,firstVertexDraw:R}}function t0(t,e){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function A9(t,{setMode:e},n=()=>{}){const r=_.useRef(null),i=_.useRef(null),s=_.useRef([]),o=_.useRef([]),l=_.useRef(!1),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(null),p=(M,L="edit")=>{const I=t.current;if(!I||!M)return;C();const O=M.getGeometry();if(!O)return;e(L);let W;if(O.getType()==="Polygon"){const F=O.getCoordinates();W=Array.isArray(F[0])?F[0]:[]}else if(O.getType()==="MultiPolygon"){const F=O.getCoordinates();W=Array.isArray(F[0][0])?F[0][0]:[]}else{console.error("Tipo no soportado:",O.getType());return}if(W.length<3)return;const z=new Os,X=new ds({source:z,style:tr.edit});r.current=X,I.addLayer(X);const G=M.clone();G.setStyle(tr.edit),z.addFeature(G),h.current=G,I.getLayers().forEach(F=>{var B,Y;const N=(B=F.getSource)==null?void 0:B.call(F);N&&((Y=N.hasFeature)!=null&&Y.call(N,M))&&N.removeFeature(M)}),i.current=new ds({source:new Os,style:null}),I.addLayer(i.current);const Z=new R6({source:z});c.current=Z;const q=F=>{I.forEachFeatureAtPixel(F.pixel,N=>{N.get("insertAfter")!==void 0&&(i.current.getSource().removeFeature(N),o.current=o.current.filter(B=>B!==N))})};I.on("pointerdown",q),c.current._pointerDownHandler=q,I.getOverlays().getArray().forEach(F=>{const N=F.getElement();N&&N.className.includes("area-label")&&I.removeOverlay(F)});const H=()=>{var re;const F=G.getGeometry();if(!F||F.getType()!=="Polygon")return;const N=(re=F.getCoordinates())==null?void 0:re[0];if(!N||N.length<3)return;const B=new er([N]),j=`${(Hm(B,{projection:"EPSG:3857"})/1e4).toFixed(2)} ha`,D=B.getInteriorPoint().getCoordinates();if(!f.current){const ie=document.createElement("div");ie.className="area-label",ie.textContent=j,f.current=new im({element:ie,positioning:"center-center",stopEvent:!1}),I.addOverlay(f.current)}f.current.getElement().textContent=j,f.current.setPosition(D)};Z.on("modifyend",F=>{const N=F.features.item(0);if(!N)return;const B=N.getGeometry(),Y=k(B);y(Y),n(P(Y)),H()}),G.getGeometry().on("change",()=>{const F=G.getGeometry(),N=k(F);y(N),n(P(N)),H()}),I.addInteraction(Z),y(W),n(P(W)),H()},y=M=>{var W;const L=t.current,I=(W=i.current)==null?void 0:W.getSource();if(!L||!I||!Array.isArray(M)||M.length<2)return;I.clear(),s.current=[],o.current=[];const O=M.slice(0,-1);O.forEach((z,X)=>{const G=new nr(new Tr(z));G.set("vertexIndex",X),G.setStyle(l.current?tr.vertexDelete:tr.vertexEdit),I.addFeature(G),s.current.push(G)});for(let z=0;z<O.length;z++){const X=O[z],G=O[(z+1)%O.length],Z=[(X[0]+G[0])/2,(X[1]+G[1])/2],q=new nr(new Tr(Z));q.set("insertAfter",z),q.setStyle(tr.vertexIntermediate),I.addFeature(q),o.current.push(q)}},v=()=>{var W;const M=t.current,L=(W=r.current)==null?void 0:W.getSource(),I=R();if(!M||!L||!I)return;l.current=!0;const O=new M6({condition:UG,layers:[i.current],filter:z=>z.getGeometry().getType()==="Point"});s.current.forEach(z=>{z.setStyle(tr.vertexDelete)}),O.on("select",z=>{const X=z.selected[0],G=X==null?void 0:X.get("vertexIndex");if(G===void 0)return;const Z=T();Z.length<=4||(Z.splice(G,1),Z[Z.length-1]=Z[0],I.getGeometry().setCoordinates([Z]),y(Z),n(P(Z)))}),d.current=O,M.addInteraction(O)},w=()=>{const M=t.current;if(!M||!d.current)return;M.removeInteraction(d.current),d.current=null,l.current=!1,s.current.forEach(I=>{I.setStyle(tr.vertexEdit)}),R()&&y(T())},C=()=>{const M=t.current;if(M){if(r.current&&(M.removeLayer(r.current),r.current=null),i.current&&(M.removeLayer(i.current),i.current=null),c.current){M.removeInteraction(c.current);const L=c.current._pointerDownHandler;L&&M.un("pointerdown",L),c.current=null}d.current&&(M.removeInteraction(d.current),d.current=null),f.current&&(M.removeOverlay(f.current),f.current=null),s.current=[],o.current=[],l.current=!1,h.current=null,e(null)}},b=()=>h.current||null,R=()=>{var M,L;return((L=(M=r.current)==null?void 0:M.getSource())==null?void 0:L.getFeatures().find(I=>I.getGeometry().getType()==="Polygon"))||null},T=()=>{const M=R();return k(M==null?void 0:M.getGeometry())},P=M=>M.map(L=>{const[I,O]=ek(L);return{lat:O,lng:I}}),k=M=>{if(!M||typeof M.getCoordinates!="function")return[];const L=M.getCoordinates();return M.getType()==="Polygon"&&Array.isArray(L)&&Array.isArray(L[0])?L[0]:M.getType()==="MultiPolygon"&&Array.isArray(L)&&Array.isArray(L[0])&&Array.isArray(L[0][0])?L[0][0]:[]};return{activateEditMode:p,clearEdit:C,getEditedFeature:b,activateDeleteMode:v,disableDeleteMode:w}}function M9(t,e=()=>{}){const n=iG(),r=k9(t,{setMode:n.setMode,setArea:n.setArea,setTooltipText:n.setTooltipText}),i=A9(t,{setMode:n.setMode},e);return{...n,...r,...i}}function I9(){const[t,e]=_.useState(!1),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[h,f]=_.useState(""),[p,y]=_.useState(!1),[v,w]=_.useState(!1),[C,b]=_.useState(null),[R,T]=_.useState([]),[P,k]=_.useState(!1),{mapRef:M,ready:L}=_.useContext(Rd),{campoSeleccionado:I,setCampoSeleccionado:O,lastCampoId:W}=_.useContext(Td),{campos:z,parcelas:X,formData:G,setFormData:Z,setParcelas:q,setAreaCampo:H,setAreaParcela:F}=nv(),{enableDraw:N,disableDraw:B,cancelDraw:Y,endPolygon:j,removeLastPoint:D,canFinish:re,closedBySnap:ie,firstVertexDraw:ce,activateDeleteMode:ge,disableDeleteMode:ae,activateEditMode:xe,clearEdit:Se,getEditedFeature:Ee,getCreatedFeature:Xe,polygonMode:Ve}=M9(M,()=>{var ve;const ne=(ve=Ee())==null?void 0:ve.getGeometry();ne&&F(Pu(ne))}),{setFeaturesOnMap:wt,clearParcelas:xt}=Hv({mapRef:M,parcelas:X,formData:G,clearEdit:Se,activateEditMode:xe,getCreatedFeature:Xe,setFormData:Z,setAreaCampo:H,setAreaParcela:F,onSelectFeature:(ne,ve)=>{b(R.find(Fe=>Fe.parcela_id===ve.id)||null),w(!1)}});Xv(()=>{Se(),B(),ae(),Z(ne=>({...ne,parcela_id:"",nombre:"",descripcion:""}))});const Dt=()=>{Se(),B(),ae(),xt(),l(!1),r(!1),e(!1)},Vt=()=>["edit","draw-edit"].includes(Ri.modeRef.current)?Ee():Xe(),Ft=ne=>{const{name:ve,value:Fe}=ne.target;if(ve==="campo_id"){if(Fe===G.campo_id)return;Dt();const ze=z[Fe];ze&&M.current&&M.current.getView().animate({center:No([ze.lon,ze.lat]),duration:800,easing:Pr}),O(Fe),Z({campo_id:Fe,parcela_id:"",nombre:"",descripcion:""}),F(0)}else Z(ze=>({...ze,[ve]:Fe}))},An=async()=>{if(!G.campo_id||!G.nombre){f("Todos los campos son obligatorios."),d(!0);return}const ne=Vt();if(!ne){f("Debe crear o seleccionar una parcela."),d(!0);return}const ve=new gk,Fe=ne.clone();Fe.getGeometry().transform("EPSG:3857","EPSG:4326");const ze=ve.writeFeatureObject(Fe,{featureProjection:"EPSG:4326"});try{G.parcela_id?await O6(G.parcela_id,ze,G.nombre,G.descripcion):await D6({campo_id:G.campo_id,nombre:G.nombre,descripcion:G.descripcion,perimetro_geojson:ze});const Et=await ja();q(Et.parcelas),Z(zt=>({...zt,parcela_id:"",nombre:"",descripcion:""})),Dt(),F(0),w(!1),b(null)}catch(Et){console.error("Error al guardar:",Et)}},bt=()=>{G.parcela_id&&y(!0)},$=async()=>{y(!1),w(!1);try{await V6(G.parcela_id);const ne=await ja();q(ne.parcelas),Z(ve=>({...ve,parcela_id:"",nombre:"",descripcion:""})),F(0)}catch(ne){console.error("Error al eliminar parcela:",ne)}},J=()=>{j(),l(!0),r(!0)},ee=()=>{Y(),Se(),l(!1),r(!1)},pe=()=>{Se(),ae(),e(!1),l(!1),r(!1),w(!1),b(null),Z(ne=>({...ne,parcela_id:"",nombre:"",descripcion:""})),F(0)},me=()=>{s(ne=>!ne),i||window.dispatchEvent(new Event("closeCampoSelector"))};return _.useEffect(()=>{Dt(),Ri.onFinishCallback.current=ne=>{if(ne){l(!0),r(!0),xe(ne,"draw-edit"),Z(Fe=>({...Fe,parcela_id:""}));const ve=ne.getGeometry();ve&&F(Pu(ve))}}},[]),_.useEffect(()=>{!L||!G.campo_id||wt()},[L,G.campo_id,G.parcela_id,X]),_.useEffect(()=>{I&&I!==G.campo_id&&z[I]&&(Z(ne=>({...ne,campo_id:I,parcela_id:"",nombre:"",descripcion:""})),F(0))},[I]),_.useEffect(()=>{!G.campo_id&&!I&&W&&z[W]&&(O(W),Z(ne=>({...ne,campo_id:W,parcela_id:"",nombre:"",descripcion:""})),F(0))},[]),_.useEffect(()=>{I||!G.campo_id||!z[G.campo_id]||(O(G.campo_id),M.current.getView().animate({center:No([z[G.campo_id].lon,z[G.campo_id].lat]),duration:800,easing:Pr}))},[G.campo_id,I]),_.useEffect(()=>{const ne=()=>s(!1);return window.addEventListener("closeForm",ne),()=>window.removeEventListener("closeForm",ne)},[]),_.useEffect(()=>{(async()=>{if(k(!1),!!G.campo_id)try{const ve=await L6(G.campo_id);T(ve),k(!0)}catch(ve){console.error("Error al cargar resumen de parcelas:",ve),k(!0)}})()},[G.campo_id]),_.useEffect(()=>{const ne=()=>{w(!1),b(null)};return window.addEventListener("cerrarPopupResumen",ne),()=>{window.removeEventListener("cerrarPopupResumen",ne)}},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[G.parcela_id&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>w(ne=>!ne),className:`bg-white p-3 rounded-full shadow-md transition-colors ${C?"hover:bg-gray-100":"opacity-50 cursor-not-allowed"}`,disabled:!C,title:C?"Ver resumen":"Seleccion una parcela primero",children:g.jsx(Ci,{className:"w-6 h-6"})}),g.jsx("button",{onClick:bt,className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(qV,{className:"w-6 h-6"})})]}),g.jsx("button",{className:"bg-white p-3 rounded-full shadow-md transition-all duration-300",onClick:me,children:g.jsx(QV,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${i?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx($6,{campos:z,formData:G,onChange:Ft})}),g.jsxs("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:[g.jsx(G6,{mode:Ve,isDeleteMode:t,onToggleDeleteMode:()=>{e(ne=>!ne),t?ae():ge()},onCancel:pe,onSave:An,showCancel:G.parcela_id!==""}),G.parcela_id===""&&i&&g.jsx(z6,{open:n,setOpen:r,onStart:N,onFinish:J,onUndo:D,onCancel:ee,canFinish:re,closedBySnap:ie,firstVertexDraw:ce,finished:o})]}),g.jsx(P9,{visible:v,resumen:C,onClose:()=>w(!1)}),g.jsx(xv,{isOpen:c,message:h,onClose:()=>d(!1)}),g.jsx(As,{isOpen:p,title:"Eliminar parcela",message:"Esta accin eliminar la parcela seleccionada. Deses continuar?",onCancel:()=>y(!1),onConfirm:$,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})}async function N9(t){const e=await kt("/api/campos/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear campo")}return await e.json()}async function j9(t,e){const n=await kt(`/api/campos/${t}/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar campo")}return await n.json()}async function F9(t){const e=await kt(`/api/campos/${t}/delete`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.detail||n.message||"Error al eliminar el campo")}return await e.json()}function hR(t){const e=new nr({geometry:new Tr(t)});e.setStyle(new nn({image:new ng({src:"/dist/map_pin.svg",anchor:[.5,1],scale:1})}));const n=new Os({features:[e]}),r=new ds({source:n,zIndex:1e3});return{feature:e,layer:r}}function L9(t){const e=document.createElement("div");e.className="ripple-effect",e.style.left=`${t.clientX}px`,e.style.top=`${t.clientY}px`,document.body.appendChild(e),setTimeout(()=>e.remove(),600)}function D9(t){const e=_.useRef(null);return{colocarMarcadorGps:(s,o)=>{if(!t.current||!(s!=null&&s.coordinate))return;L9(s.originalEvent);const l=s.coordinate,[c,d]=ek(l);o(f=>({...f,lat:d,lon:c})),e.current&&t.current.removeLayer(e.current);const{layer:h}=hR(l);e.current=h,t.current.addLayer(h)},moverMarcadorGps:(s,o)=>{var p,y,v,w;if(!t.current)return;const l=Xm([s,o]),c=(v=(y=(p=e.current)==null?void 0:p.getSource())==null?void 0:y.getFeatures())==null?void 0:v[0],d=(w=c==null?void 0:c.getGeometry())==null?void 0:w.getCoordinates();if(d&&Math.abs(d[0]-l[0])<.001&&Math.abs(d[1]-l[1])<.001)return;e.current&&t.current.removeLayer(e.current);const{layer:f}=hR(l);e.current=f,t.current.addLayer(f)},limpiarMarcadorGps:()=>{e.current&&t.current&&(t.current.removeLayer(e.current),e.current=null)},markerLayerRef:e}}function O9(){const[t,e]=_.useState({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),[n,r]=_.useState(!1),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(""),{mapRef:h,ready:f}=_.useContext(Rd),{campoSeleccionado:p,setCampoSeleccionado:y,setLastCampoId:v}=_.useContext(Td),{campos:w,parcelas:C,setFormData:b,setCampos:R,setParcelas:T,setAreaCampo:P,setAreaParcela:k}=nv(),{colocarMarcadorGps:M,moverMarcadorGps:L,limpiarMarcadorGps:I}=D9(h),{setFeaturesOnMap:O,clearParcelas:W}=Hv({mapRef:h,parcelas:C,formData:t,clearEdit:()=>{},activateEditMode:()=>{},getCreatedFeature:()=>null,setFormData:e,setAreaCampo:P,setAreaParcela:k,enabled:!0,modoVisualizacionCampo:!0});Xv(()=>{I(),W()});const z=F=>{const{name:N,value:B}=F.target;if(N==="campo_id"&&B===""){p&&v(p),I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}if(N==="campo_id"){if(B===""){I(),y(null),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""});return}const Y=w[B];Y&&(y(B),e({campo_id:B,nombre:Y.nombre,descripcion:Y.descripcion||"",lat:Y.lat,lon:Y.lon}),b(j=>({...j,campo_id:B,parcela_id:"",nombre:"",descripcion:""})),r(!0),h.current&&(h.current.getView().animate({center:No([Y.lon,Y.lat]),duration:800,easing:Pr}),L(Y.lon,Y.lat)));return}e(Y=>({...Y,[N]:B}))},X=async()=>{const{campo_id:F,nombre:N,descripcion:B,lat:Y,lon:j}=t;if(!N||!B||!Y||!j){d("Todos los campos son obligatorios."),l(!0);return}try{F?await j9(F,{nombre:N,descripcion:B,lat:Y,lon:j}):await N9({nombre:N,descripcion:B,lat:Y,lon:j});const D=await ja();R(D.campos),T(D.parcelas);const re=Object.entries(D.campos).find(([ie,ce])=>ce.nombre===N&&ce.lat===Y&&ce.lon===j);if(re){const[ie,ce]=re;y(ie),e({campo_id:ie,nombre:ce.nombre,descripcion:ce.descripcion||"",lat:ce.lat,lon:ce.lon}),G(ce)}}catch(D){console.error("Error al guardar campo:",D)}},G=F=>{h.current&&(h.current.getView().animate({center:No([F.lon,F.lat]),duration:800,easing:Pr}),L(F.lon,F.lat))},Z=()=>s(!0),q=async()=>{if(s(!1),!!t.campo_id)try{await F9(t.campo_id);const F=await ja();R(F.campos),T(F.parcelas),e({campo_id:"",nombre:"",descripcion:"",lat:"",lon:""}),I()}catch(F){console.error("Error al eliminar campo:",F),d(F.message||"Error al eliminar campo."),l(!0)}};_.useEffect(()=>{!f||!t.campo_id||O()},[f,t.campo_id,C]),_.useEffect(()=>{t.lat&&t.lon&&f&&h.current&&L(t.lon,t.lat)},[t.lat,t.lon,f]),_.useEffect(()=>{if(!f||!h.current)return;const F=h.current,N=B=>M(B,e);return F.on("click",N),()=>F.un("click",N)},[f,w]),_.useEffect(()=>{if(p&&p!==t.campo_id&&w[p]){const F=w[p];e({campo_id:p,nombre:F.nombre,descripcion:F.descripcion||"",lat:F.lat,lon:F.lon}),f&&h.current&&L(F.lon,F.lat)}},[p,w]);const H=()=>{r(F=>!F),n||window.dispatchEvent(new CustomEvent("closeCampoSelector"))};return _.useEffect(()=>{const F=()=>r(!1);return window.addEventListener("closeForm",F),()=>window.removeEventListener("closeForm",F)},[]),g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute bottom-20 left-4 z-40 flex flex-col items-end space-y-2",children:[t.campo_id&&g.jsx("button",{onClick:Z,title:"Eliminar campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(r4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:H,title:"Mostrar formulario",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(t4,{className:"w-6 h-6"})})]}),g.jsx("div",{className:`
                    absolute top-24 left-20 right-20 md:left-20
                    md:right-20 md:w-[350px] bg-white/60 
                    rounded-2xl shadow-lg p-2 z-10 overflow-y-auto 
                    max-h-[90%] max-w-[70%] flex flex-col gap-2 
                    transform transition-all duration-500 
                    ${n?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:g.jsx(B6,{campos:w,formData:t,onChange:z})}),(n||t.campo_id!=="")&&g.jsx("div",{className:"absolute bottom-20 right-4 z-40 flex flex-col items-end space-y-2",children:g.jsx("button",{onClick:X,className:"bg-white p-3 rounded-full shadow-md",title:"Guardar campo",children:g.jsx(WT,{className:"w-6 h-6"})})}),g.jsx(As,{isOpen:i,title:"Eliminar campo",message:"Esta accin no se puede deshacer. Deses continuar?",onCancel:()=>s(!1),onConfirm:q,confirmLabel:"Eliminar",cancelLabel:"Cancelar"}),g.jsx(xv,{isOpen:o,message:c,onClose:()=>l(!1)})]})}async function V9(){const t=await kt("/api/collares/");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener todos los collares.")}return await t.json()}async function z9(){const t=await kt("/api/collares/states");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los estados de collar.")}return await t.json()}async function $9(){const t=await kt("/api/collares/available");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al obtener los collares disponibles.")}return await t.json()}async function B9(t){const e=await kt(`/api/collares/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al eliminar collar.")}return await e.json()}async function G9(t){const e=await kt("/api/collares/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:t})});if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al eliminar collares.")}return await e.json()}const U9=async t=>{const e=await kt("/api/collares/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log(e),!e.ok){const n=await e.json();throw new Error(n.message||"Error al crear collares en lote.")}return e.json()},W9=async(t,e)=>{const n=await kt(`/api/collares/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al actualizar collar.")}return n.json()},H9=async t=>{const e=await kt(`/api/collares/${t}`);if(!e.ok){const n=await e.json();throw new Error(n.message||"Error al obtener detalles del collar.")}return e.json()},fR=async(t,e)=>{const n=await kt(`/api/collares/${t}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({animal_id:e})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al manejar la asignacin del collar.")}return n.json()};async function FM(){const t=await kt("/api/collares/export/template");if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al descargar la plantilla de collares.")}return t.blob()}async function X9(t,e){const n=await kt("/api/collares/export",{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/csv"},body:JSON.stringify({type:t,...e})});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al exportar collares.")}return n.blob()}async function K9(t){const e=new FormData;e.append("file",t);const n=await kt("/api/collares/import",{method:"POST",body:e});if(!n.ok){const r=await n.json();throw new Error(r.message||"Error al importar collares.")}return n.json()}var Id=t=>t.type==="checkbox",wa=t=>t instanceof Date,cr=t=>t==null;const LM=t=>typeof t=="object";var cn=t=>!cr(t)&&!Array.isArray(t)&&LM(t)&&!wa(t),DM=t=>cn(t)&&t.target?Id(t.target)?t.target.checked:t.target.value:t,Y9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,OM=(t,e)=>t.has(Y9(e)),Z9=t=>{const e=t.constructor&&t.constructor.prototype;return cn(e)&&e.hasOwnProperty("isPrototypeOf")},L_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(L_&&(t instanceof Blob||r))&&(n||cn(t)))if(e=n?[]:{},!n&&!Z9(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Vn(t[i]));else return t;return e}var cg=t=>Array.isArray(t)?t.filter(Boolean):[],ln=t=>t===void 0,Ce=(t,e,n)=>{if(!e||!cn(t))return n;const r=cg(e.split(/[,[\].]+?/)).reduce((i,s)=>cr(i)?i:i[s],t);return ln(r)||r===t?ln(t[e])?n:t[e]:r},Lr=t=>typeof t=="boolean",D_=t=>/^\w*$/.test(t),VM=t=>cg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),At=(t,e,n)=>{let r=-1;const i=D_(e)?[e]:VM(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=cn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const um={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ti={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},zM=le.createContext(null),ug=()=>le.useContext(zM),q9=t=>{const{children:e,...n}=t;return le.createElement(zM.Provider,{value:n},e)};var $M=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ti.all&&(e._proxyFormState[o]=!r||Ti.all),n&&(n[o]=!0),t[o]}});return i};const O_=typeof window<"u"?_.useLayoutEffect:_.useEffect;function J9(t){const e=ug(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,l]=le.useState(n._formState),c=le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return O_(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,s]),le.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),le.useMemo(()=>$M(o,n,c.current,!1),[o,n])}var ns=t=>typeof t=="string",BM=(t,e,n,r,i)=>ns(t)?(r&&e.watch.add(t),Ce(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Ce(n,s))):(r&&(e.watchAll=!0),n);function Q9(t){const e=ug(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},l=le.useRef(i),[c,d]=le.useState(n._getWatch(r,l.current));return O_(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:h=>!s&&d(BM(r,n._names,h.values||n._formValues,!1,l.current))}),[r,n,s,o]),le.useEffect(()=>n._removeUnmounted()),c}function e7(t){const e=ug(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=OM(i._names.array,n),l=Q9({control:i,name:n,defaultValue:Ce(i._formValues,n,Ce(i._defaultValues,n,t.defaultValue)),exact:!0}),c=J9({control:i,name:n,exact:!0}),d=le.useRef(t),h=le.useRef(i.register(n,{...t.rules,value:l,...Lr(t.disabled)?{disabled:t.disabled}:{}})),f=le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ce(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ce(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ce(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ce(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ce(c.errors,n)}}),[c,n]),p=le.useCallback(C=>h.current.onChange({target:{value:DM(C),name:n},type:um.CHANGE}),[n]),y=le.useCallback(()=>h.current.onBlur({target:{value:Ce(i._formValues,n),name:n},type:um.BLUR}),[n,i._formValues]),v=le.useCallback(C=>{const b=Ce(i._fields,n);b&&C&&(b._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:R=>C.setCustomValidity(R),reportValidity:()=>C.reportValidity()})},[i._fields,n]),w=le.useMemo(()=>({name:n,value:l,...Lr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p,onBlur:y,ref:v}),[n,r,c.disabled,p,y,v,l]);return le.useEffect(()=>{const C=i._options.shouldUnregister||s;i.register(n,{...d.current.rules,...Lr(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(R,T)=>{const P=Ce(i._fields,R);P&&P._f&&(P._f.mount=T)};if(b(n,!0),C){const R=Vn(Ce(i._options.defaultValues,n));At(i._defaultValues,n,R),ln(Ce(i._formValues,n))&&At(i._formValues,n,R)}return!o&&i.register(n),()=>{(o?C&&!i._state.action:C)?i.unregister(n):b(n,!1)}},[n,i,o,s]),le.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),le.useMemo(()=>({field:w,formState:c,fieldState:f}),[w,c,f])}const t7=t=>t.render(e7(t));var GM=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Fu=t=>Array.isArray(t)?t:[t],mR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},xx=t=>cr(t)||!LM(t);function So(t,e){if(xx(t)||xx(e))return t===e;if(wa(t)&&wa(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(wa(s)&&wa(o)||cn(s)&&cn(o)||Array.isArray(s)&&Array.isArray(o)?!So(s,o):s!==o)return!1}}return!0}var Sr=t=>cn(t)&&!Object.keys(t).length,V_=t=>t.type==="file",Pi=t=>typeof t=="function",dm=t=>{if(!L_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},UM=t=>t.type==="select-multiple",z_=t=>t.type==="radio",n7=t=>z_(t)||Id(t),n0=t=>dm(t)&&t.isConnected;function r7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ln(t)?r++:t[e[r++]];return t}function i7(t){for(const e in t)if(t.hasOwnProperty(e)&&!ln(t[e]))return!1;return!0}function En(t,e){const n=Array.isArray(e)?e:D_(e)?[e]:VM(e),r=n.length===1?t:r7(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(cn(r)&&Sr(r)||Array.isArray(r)&&i7(r))&&En(t,n.slice(0,-1)),t}var WM=t=>{for(const e in t)if(Pi(t[e]))return!0;return!1};function hm(t,e={}){const n=Array.isArray(t);if(cn(t)||n)for(const r in t)Array.isArray(t[r])||cn(t[r])&&!WM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},hm(t[r],e[r])):cr(t[r])||(e[r]=!0);return e}function HM(t,e,n){const r=Array.isArray(t);if(cn(t)||r)for(const i in t)Array.isArray(t[i])||cn(t[i])&&!WM(t[i])?ln(e)||xx(n[i])?n[i]=Array.isArray(t[i])?hm(t[i],[]):{...hm(t[i])}:HM(t[i],cr(e)?{}:e[i],n[i]):n[i]=!So(t[i],e[i]);return n}var mu=(t,e)=>HM(t,e,hm(e));const gR={value:!1,isValid:!1},pR={value:!0,isValid:!0};var XM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ln(t[0].attributes.value)?ln(t[0].value)||t[0].value===""?pR:{value:t[0].value,isValid:!0}:pR:gR}return gR},KM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ln(t)?t:e?t===""?NaN:t&&+t:n&&ns(t)?new Date(t):r?r(t):t;const yR={isValid:!1,value:null};var YM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,yR):yR;function xR(t){const e=t.ref;return V_(e)?e.files:z_(e)?YM(t.refs).value:UM(e)?[...e.selectedOptions].map(({value:n})=>n):Id(e)?XM(t.refs).value:KM(ln(e.value)?t.ref.value:e.value,t)}var s7=(t,e,n,r)=>{const i={};for(const s of t){const o=Ce(e,s);o&&At(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},fm=t=>t instanceof RegExp,gu=t=>ln(t)?t:fm(t)?t.source:cn(t)?fm(t.value)?t.value.source:t.value:t,vR=t=>({isOnSubmit:!t||t===Ti.onSubmit,isOnBlur:t===Ti.onBlur,isOnChange:t===Ti.onChange,isOnAll:t===Ti.all,isOnTouch:t===Ti.onTouched});const _R="AsyncFunction";var o7=t=>!!t&&!!t.validate&&!!(Pi(t.validate)&&t.validate.constructor.name===_R||cn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===_R)),a7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),wR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Lu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Ce(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Lu(l,e))break}else if(cn(l)&&Lu(l,e))break}}};function SR(t,e,n){const r=Ce(t,n);if(r||D_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Ce(e,s),l=Ce(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var l7=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Sr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Ti.all))},c7=(t,e,n)=>!t||!e||t===e||Fu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),u7=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,d7=(t,e)=>!cg(Ce(t,e)).length&&En(t,e),h7=(t,e,n)=>{const r=Fu(Ce(t,n));return At(r,"root",e[n]),At(t,n,r),t},Lf=t=>ns(t);function CR(t,e,n="validate"){if(Lf(t)||Array.isArray(t)&&t.every(Lf)||Lr(t)&&!t)return{type:n,message:Lf(t)?t:"",ref:e}}var Sl=t=>cn(t)&&!fm(t)?t:{value:t,message:""},bR=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:f,max:p,pattern:y,validate:v,name:w,valueAsNumber:C,mount:b}=t._f,R=Ce(n,w);if(!b||e.has(w))return{};const T=l?l[0]:o,P=X=>{i&&T.reportValidity&&(T.setCustomValidity(Lr(X)?"":X||""),T.reportValidity())},k={},M=z_(o),L=Id(o),I=M||L,O=(C||V_(o))&&ln(o.value)&&ln(R)||dm(o)&&o.value===""||R===""||Array.isArray(R)&&!R.length,W=GM.bind(null,w,r,k),z=(X,G,Z,q=Rs.maxLength,H=Rs.minLength)=>{const F=X?G:Z;k[w]={type:X?q:H,message:F,ref:o,...W(X?q:H,F)}};if(s?!Array.isArray(R)||!R.length:c&&(!I&&(O||cr(R))||Lr(R)&&!R||L&&!XM(l).isValid||M&&!YM(l).isValid)){const{value:X,message:G}=Lf(c)?{value:!!c,message:c}:Sl(c);if(X&&(k[w]={type:Rs.required,message:G,ref:T,...W(Rs.required,G)},!r))return P(G),k}if(!O&&(!cr(f)||!cr(p))){let X,G;const Z=Sl(p),q=Sl(f);if(!cr(R)&&!isNaN(R)){const H=o.valueAsNumber||R&&+R;cr(Z.value)||(X=H>Z.value),cr(q.value)||(G=H<q.value)}else{const H=o.valueAsDate||new Date(R),F=Y=>new Date(new Date().toDateString()+" "+Y),N=o.type=="time",B=o.type=="week";ns(Z.value)&&R&&(X=N?F(R)>F(Z.value):B?R>Z.value:H>new Date(Z.value)),ns(q.value)&&R&&(G=N?F(R)<F(q.value):B?R<q.value:H<new Date(q.value))}if((X||G)&&(z(!!X,Z.message,q.message,Rs.max,Rs.min),!r))return P(k[w].message),k}if((d||h)&&!O&&(ns(R)||s&&Array.isArray(R))){const X=Sl(d),G=Sl(h),Z=!cr(X.value)&&R.length>+X.value,q=!cr(G.value)&&R.length<+G.value;if((Z||q)&&(z(Z,X.message,G.message),!r))return P(k[w].message),k}if(y&&!O&&ns(R)){const{value:X,message:G}=Sl(y);if(fm(X)&&!R.match(X)&&(k[w]={type:Rs.pattern,message:G,ref:o,...W(Rs.pattern,G)},!r))return P(G),k}if(v){if(Pi(v)){const X=await v(R,n),G=CR(X,T);if(G&&(k[w]={...G,...W(Rs.validate,G.message)},!r))return P(G.message),k}else if(cn(v)){let X={};for(const G in v){if(!Sr(X)&&!r)break;const Z=CR(await v[G](R,n),T,G);Z&&(X={...Z,...W(G,Z.message)},P(Z.message),r&&(k[w]=X))}if(!Sr(X)&&(k[w]={ref:T,...X},!r))return k}}return P(!0),k};const f7={mode:Ti.onSubmit,reValidateMode:Ti.onChange,shouldFocusError:!0};function m7(t={}){let e={...f7,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=cn(e.defaultValues)||cn(e.values)?Vn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Vn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const p={array:mR(),state:mR()},y=e.criteriaMode===Ti.all,v=$=>J=>{clearTimeout(d),d=setTimeout($,J)},w=async $=>{if(!e.disabled&&(h.isValid||f.isValid||$)){const J=e.resolver?Sr((await L()).errors):await O(r,!0);J!==n.isValid&&p.state.next({isValid:J})}},C=($,J)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(l.mount)).forEach(ee=>{ee&&(J?At(n.validatingFields,ee,J):En(n.validatingFields,ee))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Sr(n.validatingFields)}))},b=($,J=[],ee,pe,me=!0,ne=!0)=>{if(pe&&ee&&!e.disabled){if(o.action=!0,ne&&Array.isArray(Ce(r,$))){const ve=ee(Ce(r,$),pe.argA,pe.argB);me&&At(r,$,ve)}if(ne&&Array.isArray(Ce(n.errors,$))){const ve=ee(Ce(n.errors,$),pe.argA,pe.argB);me&&At(n.errors,$,ve),d7(n.errors,$)}if((h.touchedFields||f.touchedFields)&&ne&&Array.isArray(Ce(n.touchedFields,$))){const ve=ee(Ce(n.touchedFields,$),pe.argA,pe.argB);me&&At(n.touchedFields,$,ve)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=mu(i,s)),p.state.next({name:$,isDirty:z($,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else At(s,$,J)},R=($,J)=>{At(n.errors,$,J),p.state.next({errors:n.errors})},T=$=>{n.errors=$,p.state.next({errors:n.errors,isValid:!1})},P=($,J,ee,pe)=>{const me=Ce(r,$);if(me){const ne=Ce(s,$,ln(ee)?Ce(i,$):ee);ln(ne)||pe&&pe.defaultChecked||J?At(s,$,J?ne:xR(me._f)):Z($,ne),o.mount&&w()}},k=($,J,ee,pe,me)=>{let ne=!1,ve=!1;const Fe={name:$};if(!e.disabled){if(!ee||pe){(h.isDirty||f.isDirty)&&(ve=n.isDirty,n.isDirty=Fe.isDirty=z(),ne=ve!==Fe.isDirty);const ze=So(Ce(i,$),J);ve=!!Ce(n.dirtyFields,$),ze?En(n.dirtyFields,$):At(n.dirtyFields,$,!0),Fe.dirtyFields=n.dirtyFields,ne=ne||(h.dirtyFields||f.dirtyFields)&&ve!==!ze}if(ee){const ze=Ce(n.touchedFields,$);ze||(At(n.touchedFields,$,ee),Fe.touchedFields=n.touchedFields,ne=ne||(h.touchedFields||f.touchedFields)&&ze!==ee)}ne&&me&&p.state.next(Fe)}return ne?Fe:{}},M=($,J,ee,pe)=>{const me=Ce(n.errors,$),ne=(h.isValid||f.isValid)&&Lr(J)&&n.isValid!==J;if(e.delayError&&ee?(c=v(()=>R($,ee)),c(e.delayError)):(clearTimeout(d),c=null,ee?At(n.errors,$,ee):En(n.errors,$)),(ee?!So(me,ee):me)||!Sr(pe)||ne){const ve={...pe,...ne&&Lr(J)?{isValid:J}:{},errors:n.errors,name:$};n={...n,...ve},p.state.next(ve)}},L=async $=>{C($,!0);const J=await e.resolver(s,e.context,s7($||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C($),J},I=async $=>{const{errors:J}=await L($);if($)for(const ee of $){const pe=Ce(J,ee);pe?At(n.errors,ee,pe):En(n.errors,ee)}else n.errors=J;return J},O=async($,J,ee={valid:!0})=>{for(const pe in $){const me=$[pe];if(me){const{_f:ne,...ve}=me;if(ne){const Fe=l.array.has(ne.name),ze=me._f&&o7(me._f);ze&&h.validatingFields&&C([pe],!0);const Et=await bR(me,l.disabled,s,y,e.shouldUseNativeValidation&&!J,Fe);if(ze&&h.validatingFields&&C([pe]),Et[ne.name]&&(ee.valid=!1,J))break;!J&&(Ce(Et,ne.name)?Fe?h7(n.errors,Et,ne.name):At(n.errors,ne.name,Et[ne.name]):En(n.errors,ne.name))}!Sr(ve)&&await O(ve,J,ee)}}return ee.valid},W=()=>{for(const $ of l.unMount){const J=Ce(r,$);J&&(J._f.refs?J._f.refs.every(ee=>!n0(ee)):!n0(J._f.ref))&&ae($)}l.unMount=new Set},z=($,J)=>!e.disabled&&($&&J&&At(s,$,J),!So(Y(),i)),X=($,J,ee)=>BM($,l,{...o.mount?s:ln(J)?i:ns($)?{[$]:J}:J},ee,J),G=$=>cg(Ce(o.mount?s:i,$,e.shouldUnregister?Ce(i,$,[]):[])),Z=($,J,ee={})=>{const pe=Ce(r,$);let me=J;if(pe){const ne=pe._f;ne&&(!ne.disabled&&At(s,$,KM(J,ne)),me=dm(ne.ref)&&cr(J)?"":J,UM(ne.ref)?[...ne.ref.options].forEach(ve=>ve.selected=me.includes(ve.value)):ne.refs?Id(ne.ref)?ne.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(me)?ve.checked=!!me.find(Fe=>Fe===ve.value):ve.checked=me===ve.value||!!me)}):ne.refs.forEach(ve=>ve.checked=ve.value===me):V_(ne.ref)?ne.ref.value="":(ne.ref.value=me,ne.ref.type||p.state.next({name:$,values:Vn(s)})))}(ee.shouldDirty||ee.shouldTouch)&&k($,me,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&B($)},q=($,J,ee)=>{for(const pe in J){if(!J.hasOwnProperty(pe))return;const me=J[pe],ne=$+"."+pe,ve=Ce(r,ne);(l.array.has($)||cn(me)||ve&&!ve._f)&&!wa(me)?q(ne,me,ee):Z(ne,me,ee)}},H=($,J,ee={})=>{const pe=Ce(r,$),me=l.array.has($),ne=Vn(J);At(s,$,ne),me?(p.array.next({name:$,values:Vn(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&ee.shouldDirty&&p.state.next({name:$,dirtyFields:mu(i,s),isDirty:z($,ne)})):pe&&!pe._f&&!cr(ne)?q($,ne,ee):Z($,ne,ee),wR($,l)&&p.state.next({...n}),p.state.next({name:o.mount?$:void 0,values:Vn(s)})},F=async $=>{o.mount=!0;const J=$.target;let ee=J.name,pe=!0;const me=Ce(r,ee),ne=ze=>{pe=Number.isNaN(ze)||wa(ze)&&isNaN(ze.getTime())||So(ze,Ce(s,ee,ze))},ve=vR(e.mode),Fe=vR(e.reValidateMode);if(me){let ze,Et;const zt=J.type?xR(me._f):DM($),pt=$.type===um.BLUR||$.type===um.FOCUS_OUT,Gn=!a7(me._f)&&!e.resolver&&!Ce(n.errors,ee)&&!me._f.deps||u7(pt,Ce(n.touchedFields,ee),n.isSubmitted,Fe,ve),Hr=wR(ee,l,pt);At(s,ee,zt),pt?(me._f.onBlur&&me._f.onBlur($),c&&c(0)):me._f.onChange&&me._f.onChange($);const Xr=k(ee,zt,pt),li=!Sr(Xr)||Hr;if(!pt&&p.state.next({name:ee,type:$.type,values:Vn(s)}),Gn)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?pt&&w():pt||w()),li&&p.state.next({name:ee,...Hr?{}:Xr});if(!pt&&Hr&&p.state.next({...n}),e.resolver){const{errors:gr}=await L([ee]);if(ne(zt),pe){const sr=SR(n.errors,r,ee),or=SR(gr,r,sr.name||ee);ze=or.error,ee=or.name,Et=Sr(gr)}}else C([ee],!0),ze=(await bR(me,l.disabled,s,y,e.shouldUseNativeValidation))[ee],C([ee]),ne(zt),pe&&(ze?Et=!1:(h.isValid||f.isValid)&&(Et=await O(r,!0)));pe&&(me._f.deps&&B(me._f.deps),M(ee,Et,ze,Xr))}},N=($,J)=>{if(Ce(n.errors,J)&&$.focus)return $.focus(),1},B=async($,J={})=>{let ee,pe;const me=Fu($);if(e.resolver){const ne=await I(ln($)?$:me);ee=Sr(ne),pe=$?!me.some(ve=>Ce(ne,ve)):ee}else $?(pe=(await Promise.all(me.map(async ne=>{const ve=Ce(r,ne);return await O(ve&&ve._f?{[ne]:ve}:ve)}))).every(Boolean),!(!pe&&!n.isValid)&&w()):pe=ee=await O(r);return p.state.next({...!ns($)||(h.isValid||f.isValid)&&ee!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:ee}:{},errors:n.errors}),J.shouldFocus&&!pe&&Lu(r,N,$?me:l.mount),pe},Y=$=>{const J={...o.mount?s:i};return ln($)?J:ns($)?Ce(J,$):$.map(ee=>Ce(J,ee))},j=($,J)=>({invalid:!!Ce((J||n).errors,$),isDirty:!!Ce((J||n).dirtyFields,$),error:Ce((J||n).errors,$),isValidating:!!Ce(n.validatingFields,$),isTouched:!!Ce((J||n).touchedFields,$)}),D=$=>{$&&Fu($).forEach(J=>En(n.errors,J)),p.state.next({errors:$?n.errors:{}})},re=($,J,ee)=>{const pe=(Ce(r,$,{_f:{}})._f||{}).ref,me=Ce(n.errors,$)||{},{ref:ne,message:ve,type:Fe,...ze}=me;At(n.errors,$,{...ze,...J,ref:pe}),p.state.next({name:$,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&pe&&pe.focus&&pe.focus()},ie=($,J)=>Pi($)?p.state.subscribe({next:ee=>$(X(void 0,J),ee)}):X($,J,!0),ce=$=>p.state.subscribe({next:J=>{c7($.name,J.name,$.exact)&&l7(J,$.formState||h,Ft,$.reRenderRoot)&&$.callback({values:{...s},...n,...J})}}).unsubscribe,ge=$=>(o.mount=!0,f={...f,...$.formState},ce({...$,formState:f})),ae=($,J={})=>{for(const ee of $?Fu($):l.mount)l.mount.delete(ee),l.array.delete(ee),J.keepValue||(En(r,ee),En(s,ee)),!J.keepError&&En(n.errors,ee),!J.keepDirty&&En(n.dirtyFields,ee),!J.keepTouched&&En(n.touchedFields,ee),!J.keepIsValidating&&En(n.validatingFields,ee),!e.shouldUnregister&&!J.keepDefaultValue&&En(i,ee);p.state.next({values:Vn(s)}),p.state.next({...n,...J.keepDirty?{isDirty:z()}:{}}),!J.keepIsValid&&w()},xe=({disabled:$,name:J})=>{(Lr($)&&o.mount||$||l.disabled.has(J))&&($?l.disabled.add(J):l.disabled.delete(J))},Se=($,J={})=>{let ee=Ce(r,$);const pe=Lr(J.disabled)||Lr(e.disabled);return At(r,$,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:$}},name:$,mount:!0,...J}}),l.mount.add($),ee?xe({disabled:Lr(J.disabled)?J.disabled:e.disabled,name:$}):P($,!0,J.value),{...pe?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:gu(J.min),max:gu(J.max),minLength:gu(J.minLength),maxLength:gu(J.maxLength),pattern:gu(J.pattern)}:{},name:$,onChange:F,onBlur:F,ref:me=>{if(me){Se($,J),ee=Ce(r,$);const ne=ln(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,ve=n7(ne),Fe=ee._f.refs||[];if(ve?Fe.find(ze=>ze===ne):ne===ee._f.ref)return;At(r,$,{_f:{...ee._f,...ve?{refs:[...Fe.filter(n0),ne,...Array.isArray(Ce(i,$))?[{}]:[]],ref:{type:ne.type,name:$}}:{ref:ne}}}),P($,!1,void 0,ne)}else ee=Ce(r,$,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(OM(l.array,$)&&o.action)&&l.unMount.add($)}}},Ee=()=>e.shouldFocusError&&Lu(r,N,l.mount),Xe=$=>{Lr($)&&(p.state.next({disabled:$}),Lu(r,(J,ee)=>{const pe=Ce(r,ee);pe&&(J.disabled=pe._f.disabled||$,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(me=>{me.disabled=pe._f.disabled||$}))},0,!1))},Ve=($,J)=>async ee=>{let pe;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let me=Vn(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:ve}=await L();n.errors=ne,me=ve}else await O(r);if(l.disabled.size)for(const ne of l.disabled)At(me,ne,void 0);if(En(n.errors,"root"),Sr(n.errors)){p.state.next({errors:{}});try{await $(me,ee)}catch(ne){pe=ne}}else J&&await J({...n.errors},ee),Ee(),setTimeout(Ee);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(n.errors)&&!pe,submitCount:n.submitCount+1,errors:n.errors}),pe)throw pe},wt=($,J={})=>{Ce(r,$)&&(ln(J.defaultValue)?H($,Vn(Ce(i,$))):(H($,J.defaultValue),At(i,$,Vn(J.defaultValue))),J.keepTouched||En(n.touchedFields,$),J.keepDirty||(En(n.dirtyFields,$),n.isDirty=J.defaultValue?z($,Vn(Ce(i,$))):z()),J.keepError||(En(n.errors,$),h.isValid&&w()),p.state.next({...n}))},xt=($,J={})=>{const ee=$?Vn($):i,pe=Vn(ee),me=Sr($),ne=me?i:pe;if(J.keepDefaultValues||(i=ee),!J.keepValues){if(J.keepDirtyValues){const ve=new Set([...l.mount,...Object.keys(mu(i,s))]);for(const Fe of Array.from(ve))Ce(n.dirtyFields,Fe)?At(ne,Fe,Ce(s,Fe)):H(Fe,Ce(ne,Fe))}else{if(L_&&ln($))for(const ve of l.mount){const Fe=Ce(r,ve);if(Fe&&Fe._f){const ze=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(dm(ze)){const Et=ze.closest("form");if(Et){Et.reset();break}}}}for(const ve of l.mount)H(ve,Ce(ne,ve))}s=Vn(ne),p.array.next({values:{...ne}}),p.state.next({values:{...ne}})}l={mount:J.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!J.keepIsValid||!!J.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:me?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!So($,i)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:me?{}:J.keepDirtyValues?J.keepDefaultValues&&s?mu(i,s):n.dirtyFields:J.keepDefaultValues&&$?mu(i,$):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Dt=($,J)=>xt(Pi($)?$(s):$,J),Vt=($,J={})=>{const ee=Ce(r,$),pe=ee&&ee._f;if(pe){const me=pe.refs?pe.refs[0]:pe.ref;me.focus&&(me.focus(),J.shouldSelect&&Pi(me.select)&&me.select())}},Ft=$=>{n={...n,...$}},bt={control:{register:Se,unregister:ae,getFieldState:j,handleSubmit:Ve,setError:re,_subscribe:ce,_runSchema:L,_focusError:Ee,_getWatch:X,_getDirty:z,_setValid:w,_setFieldArray:b,_setDisabledField:xe,_setErrors:T,_getFieldArray:G,_reset:xt,_resetDefaultValues:()=>Pi(e.defaultValues)&&e.defaultValues().then($=>{Dt($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:Xe,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:ge,trigger:B,register:Se,handleSubmit:Ve,watch:ie,setValue:H,getValues:Y,reset:Dt,resetField:wt,clearErrors:D,unregister:ae,setError:re,setFocus:Vt,getFieldState:j};return{...bt,formControl:bt}}function $_(t={}){const e=le.useRef(void 0),n=le.useRef(void 0),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:Pi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Pi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:m7(t),formState:r},t.formControl&&t.defaultValues&&!Pi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,O_(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),le.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),le.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),le.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),le.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),le.useEffect(()=>{t.values&&!So(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),le.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=$M(r,s),e.current}const ER=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ce(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},ZM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?ER(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>ER(i,n,t))}},g7=(t,e)=>{e.shouldUseNativeValidation&&ZM(t,e);const n={};for(const r in t){const i=Ce(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(p7(e.names||Object.keys(t),r)){const o=Object.assign({},Ce(n,r));At(o,"root",s),At(n,r,o)}else At(n,r,s)}return n},p7=(t,e)=>{const n=RR(e);return t.some(r=>RR(r).match(`^${n}\\.\\d+`))};function RR(t){return t.replace(/\]|\[/g,"")}function y7(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=GM(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n}function B_(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&ZM({},s),{errors:{},values:n.raw?Object.assign({},r):d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:g7(y7(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}}var Pt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Pt||(Pt={}));var TR;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(TR||(TR={}));const je=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wo=t=>{switch(typeof t){case"undefined":return je.undefined;case"string":return je.string;case"number":return Number.isNaN(t)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(t)?je.array:t===null?je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?je.promise:typeof Map<"u"&&t instanceof Map?je.map:typeof Set<"u"&&t instanceof Set?je.set:typeof Date<"u"&&t instanceof Date?je.date:je.object;default:return je.unknown}},we=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $s extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof $s))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$s.create=t=>new $s(t);const vx=(t,e)=>{let n;switch(t.code){case we.invalid_type:t.received===je.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case we.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pt.joinValues(t.keys,", ")}`;break;case we.invalid_union:n="Invalid input";break;case we.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pt.joinValues(t.options)}`;break;case we.invalid_enum_value:n=`Invalid enum value. Expected ${Pt.joinValues(t.options)}, received '${t.received}'`;break;case we.invalid_arguments:n="Invalid function arguments";break;case we.invalid_return_type:n="Invalid function return type";break;case we.invalid_date:n="Invalid date";break;case we.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case we.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case we.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case we.custom:n="Invalid input";break;case we.invalid_intersection_types:n="Intersection results could not be merged";break;case we.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case we.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pt.assertNever(t)}return{message:n}};let x7=vx;function v7(){return x7}const _7=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function Te(t,e){const n=v7(),r=_7({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===vx?void 0:vx].filter(i=>!!i)});t.common.issues.push(r)}class Ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return rt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ur.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return rt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const rt=Object.freeze({status:"aborted"}),wu=t=>({status:"dirty",value:t}),oi=t=>({status:"valid",value:t}),PR=t=>t.status==="aborted",kR=t=>t.status==="dirty",Jl=t=>t.status==="valid",mm=t=>typeof Promise<"u"&&t instanceof Promise;var De;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(De||(De={}));class Lo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AR=(t,e)=>{if(Jl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $s(t.common.issues);return this._error=n,this._error}}};function ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class Ct{get description(){return this._def.description}_getType(e){return wo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:wo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ur,ctx:{common:e.parent.common,data:e.data,parsedType:wo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(mm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wo(e)},i=this._parseSync({data:e,path:r.path,parent:r});return AR(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Jl(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Jl(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wo(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(mm(i)?i:Promise.resolve(i));return AR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:we.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new tc({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Po.create(this,this._def)}nullable(){return nc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ls.create(this)}promise(){return xm.create(this,this._def)}or(e){return pm.create([this,e],this._def)}and(e){return ym.create(this,e,this._def)}transform(e){return new tc({...ht(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new bx({...ht(this._def),innerType:this,defaultValue:n,typeName:it.ZodDefault})}brand(){return new G7({typeName:it.ZodBranded,type:this,...ht(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ex({...ht(this._def),innerType:this,catchValue:n,typeName:it.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return G_.create(this,e)}readonly(){return Rx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const w7=/^c[^\s-]{8,}$/i,S7=/^[0-9a-z]+$/,C7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,b7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,E7=/^[a-z0-9_-]{21}$/i,R7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,T7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,P7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,k7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let r0;const A7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,M7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,I7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,N7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,j7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,F7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",L7=new RegExp(`^${qM}$`);function JM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function D7(t){return new RegExp(`^${JM(t)}$`)}function O7(t){let e=`${qM}T${JM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function V7(t,e){return!!((e==="v4"||!e)&&A7.test(t)||(e==="v6"||!e)&&I7.test(t))}function z7(t,e){if(!R7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function $7(t,e){return!!((e==="v4"||!e)&&M7.test(t)||(e==="v6"||!e)&&N7.test(t))}class Ns extends Ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==je.string){const s=this._getOrReturnCtx(e);return Te(s,{code:we.invalid_type,expected:je.string,received:s.parsedType}),rt}const r=new Ur;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:we.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:we.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Te(i,{code:we.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Te(i,{code:we.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")P7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"email",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")r0||(r0=new RegExp(k7,"u")),r0.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"emoji",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")b7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"uuid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")E7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"nanoid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")w7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")S7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid2",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")C7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ulid",code:we.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Te(i,{validation:"url",code:we.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"regex",code:we.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Te(i,{code:we.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:we.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:we.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?O7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:we.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?L7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:we.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?D7(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:we.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?T7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"duration",code:we.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?V7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ip",code:we.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?z7(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"jwt",code:we.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?$7(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cidr",code:we.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?j7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64",code:we.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?F7.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64url",code:we.invalid_string,message:s.message}),r.dirty()):Pt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:we.invalid_string,...De.errToObj(r)})}_addCheck(e){return new Ns({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...De.errToObj(e)})}url(e){return this._addCheck({kind:"url",...De.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...De.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...De.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...De.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...De.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...De.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...De.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...De.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...De.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...De.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...De.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...De.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...De.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...De.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...De.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...De.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...De.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...De.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...De.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...De.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...De.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...De.errToObj(n)})}nonempty(e){return this.min(1,De.errToObj(e))}trim(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ns.create=t=>new Ns({checks:[],typeName:it.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});function B7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Fa extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==je.number){const s=this._getOrReturnCtx(e);return Te(s,{code:we.invalid_type,expected:je.number,received:s.parsedType}),rt}let r;const i=new Ur;for(const s of this._def.checks)s.kind==="int"?Pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:we.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?B7(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:we.not_finite,message:s.message}),i.dirty()):Pt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,i){return new Fa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(i)}]})}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:De.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:De.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Fa.create=t=>new Fa({checks:[],typeName:it.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class La extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==je.bigint)return this._getInvalidInput(e);let r;const i=new Ur;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:we.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Pt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Te(n,{code:we.invalid_type,expected:je.bigint,received:n.parsedType}),rt}gte(e,n){return this.setLimit("min",e,!0,De.toString(n))}gt(e,n){return this.setLimit("min",e,!1,De.toString(n))}lte(e,n){return this.setLimit("max",e,!0,De.toString(n))}lt(e,n){return this.setLimit("max",e,!1,De.toString(n))}setLimit(e,n,r,i){return new La({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:De.toString(i)}]})}_addCheck(e){return new La({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}La.create=t=>new La({checks:[],typeName:it.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});class gm extends Ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==je.boolean){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:je.boolean,received:r.parsedType}),rt}return oi(e.data)}}gm.create=t=>new gm({typeName:it.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class Ql extends Ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==je.date){const s=this._getOrReturnCtx(e);return Te(s,{code:we.invalid_type,expected:je.date,received:s.parsedType}),rt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Te(s,{code:we.invalid_date}),rt}const r=new Ur;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:we.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:we.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Pt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ql({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:De.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:De.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ql.create=t=>new Ql({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:it.ZodDate,...ht(t)});class MR extends Ct{_parse(e){if(this._getType(e)!==je.symbol){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:je.symbol,received:r.parsedType}),rt}return oi(e.data)}}MR.create=t=>new MR({typeName:it.ZodSymbol,...ht(t)});class _x extends Ct{_parse(e){if(this._getType(e)!==je.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:je.undefined,received:r.parsedType}),rt}return oi(e.data)}}_x.create=t=>new _x({typeName:it.ZodUndefined,...ht(t)});class wx extends Ct{_parse(e){if(this._getType(e)!==je.null){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:je.null,received:r.parsedType}),rt}return oi(e.data)}}wx.create=t=>new wx({typeName:it.ZodNull,...ht(t)});class IR extends Ct{constructor(){super(...arguments),this._any=!0}_parse(e){return oi(e.data)}}IR.create=t=>new IR({typeName:it.ZodAny,...ht(t)});class NR extends Ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oi(e.data)}}NR.create=t=>new NR({typeName:it.ZodUnknown,...ht(t)});class Do extends Ct{_parse(e){const n=this._getOrReturnCtx(e);return Te(n,{code:we.invalid_type,expected:je.never,received:n.parsedType}),rt}}Do.create=t=>new Do({typeName:it.ZodNever,...ht(t)});class jR extends Ct{_parse(e){if(this._getType(e)!==je.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:je.void,received:r.parsedType}),rt}return oi(e.data)}}jR.create=t=>new jR({typeName:it.ZodVoid,...ht(t)});class ls extends Ct{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==je.array)return Te(n,{code:we.invalid_type,expected:je.array,received:n.parsedType}),rt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Te(n,{code:o?we.too_big:we.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Te(n,{code:we.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Te(n,{code:we.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Lo(n,o,n.path,l)))).then(o=>Ur.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new Lo(n,o,n.path,l)));return Ur.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new ls({...this._def,minLength:{value:e,message:De.toString(n)}})}max(e,n){return new ls({...this._def,maxLength:{value:e,message:De.toString(n)}})}length(e,n){return new ls({...this._def,exactLength:{value:e,message:De.toString(n)}})}nonempty(e){return this.min(1,e)}}ls.create=(t,e)=>new ls({type:t,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...ht(e)});function Nl(t){if(t instanceof gn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Po.create(Nl(r))}return new gn({...t._def,shape:()=>e})}else return t instanceof ls?new ls({...t._def,type:Nl(t.element)}):t instanceof Po?Po.create(Nl(t.unwrap())):t instanceof nc?nc.create(Nl(t.unwrap())):t instanceof Da?Da.create(t.items.map(e=>Nl(e))):t}class gn extends Ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==je.object){const d=this._getOrReturnCtx(e);return Te(d,{code:we.invalid_type,expected:je.object,received:d.parsedType}),rt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Do&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=s[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Lo(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Do){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Te(i,{code:we.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Lo(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,p=await h.value;d.push({key:f,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Ur.mergeObjectSync(r,d)):Ur.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return De.errToObj,new gn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:De.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new gn({...this._def,unknownKeys:"strip"})}passthrough(){return new gn({...this._def,unknownKeys:"passthrough"})}extend(e){return new gn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:it.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gn({...this._def,catchall:e})}pick(e){const n={};for(const r of Pt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new gn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Pt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new gn({...this._def,shape:()=>n})}deepPartial(){return Nl(this)}partial(e){const n={};for(const r of Pt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new gn({...this._def,shape:()=>n})}required(e){const n={};for(const r of Pt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Po;)s=s._def.innerType;n[r]=s}return new gn({...this._def,shape:()=>n})}keyof(){return QM(Pt.objectKeys(this.shape))}}gn.create=(t,e)=>new gn({shape:()=>t,unknownKeys:"strip",catchall:Do.create(),typeName:it.ZodObject,...ht(e)});gn.strictCreate=(t,e)=>new gn({shape:()=>t,unknownKeys:"strict",catchall:Do.create(),typeName:it.ZodObject,...ht(e)});gn.lazycreate=(t,e)=>new gn({shape:t,unknownKeys:"strip",catchall:Do.create(),typeName:it.ZodObject,...ht(e)});class pm extends Ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new $s(l.ctx.common.issues));return Te(n,{code:we.invalid_union,unionErrors:o}),rt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new $s(c));return Te(n,{code:we.invalid_union,unionErrors:l}),rt}}get options(){return this._def.options}}pm.create=(t,e)=>new pm({options:t,typeName:it.ZodUnion,...ht(e)});function Sx(t,e){const n=wo(t),r=wo(e);if(t===e)return{valid:!0,data:t};if(n===je.object&&r===je.object){const i=Pt.objectKeys(e),s=Pt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=Sx(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===je.array&&r===je.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=Sx(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===je.date&&r===je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ym extends Ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(PR(s)||PR(o))return rt;const l=Sx(s.value,o.value);return l.valid?((kR(s)||kR(o))&&n.dirty(),{status:n.value,value:l.data}):(Te(r,{code:we.invalid_intersection_types}),rt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ym.create=(t,e,n)=>new ym({left:t,right:e,typeName:it.ZodIntersection,...ht(n)});class Da extends Ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.array)return Te(r,{code:we.invalid_type,expected:je.array,received:r.parsedType}),rt;if(r.data.length<this._def.items.length)return Te(r,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Lo(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ur.mergeArray(n,o)):Ur.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Da({...this._def,rest:e})}}Da.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Da({items:t,typeName:it.ZodTuple,rest:null,...ht(e)})};class FR extends Ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.map)return Te(r,{code:we.invalid_type,expected:je.map,received:r.parsedType}),rt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Lo(r,l,r.path,[d,"key"])),value:s._parse(new Lo(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return rt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return rt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}FR.create=(t,e,n)=>new FR({valueType:e,keyType:t,typeName:it.ZodMap,...ht(n)});class ad extends Ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.set)return Te(r,{code:we.invalid_type,expected:je.set,received:r.parsedType}),rt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Te(r,{code:we.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Te(r,{code:we.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return rt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>s._parse(new Lo(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new ad({...this._def,minSize:{value:e,message:De.toString(n)}})}max(e,n){return new ad({...this._def,maxSize:{value:e,message:De.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ad.create=(t,e)=>new ad({valueType:t,minSize:null,maxSize:null,typeName:it.ZodSet,...ht(e)});class LR extends Ct{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}LR.create=(t,e)=>new LR({getter:t,typeName:it.ZodLazy,...ht(e)});class Cx extends Ct{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Te(n,{received:n.data,code:we.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Cx.create=(t,e)=>new Cx({value:t,typeName:it.ZodLiteral,...ht(e)});function QM(t,e){return new ec({values:t,typeName:it.ZodEnum,...ht(e)})}class ec extends Ct{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{expected:Pt.joinValues(r),received:n.parsedType,code:we.invalid_type}),rt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{received:n.data,code:we.invalid_enum_value,options:r}),rt}return oi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ec.create(e,{...this._def,...n})}exclude(e,n=this._def){return ec.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ec.create=QM;class DR extends Ct{_parse(e){const n=Pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==je.string&&r.parsedType!==je.number){const i=Pt.objectValues(n);return Te(r,{expected:Pt.joinValues(i),received:r.parsedType,code:we.invalid_type}),rt}if(this._cache||(this._cache=new Set(Pt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Pt.objectValues(n);return Te(r,{received:r.data,code:we.invalid_enum_value,options:i}),rt}return oi(e.data)}get enum(){return this._def.values}}DR.create=(t,e)=>new DR({values:t,typeName:it.ZodNativeEnum,...ht(e)});class xm extends Ct{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==je.promise&&n.common.async===!1)return Te(n,{code:we.invalid_type,expected:je.promise,received:n.parsedType}),rt;const r=n.parsedType===je.promise?n.data:Promise.resolve(n.data);return oi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xm.create=(t,e)=>new xm({type:t,typeName:it.ZodPromise,...ht(e)});class tc extends Ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Te(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return rt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?rt:c.status==="dirty"||n.value==="dirty"?wu(c.value):c});{if(n.value==="aborted")return rt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?rt:l.status==="dirty"||n.value==="dirty"?wu(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?rt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?rt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Jl(o))return rt;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Jl(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):rt);Pt.assertNever(i)}}tc.create=(t,e,n)=>new tc({schema:t,typeName:it.ZodEffects,effect:e,...ht(n)});tc.createWithPreprocess=(t,e,n)=>new tc({schema:e,effect:{type:"preprocess",transform:t},typeName:it.ZodEffects,...ht(n)});class Po extends Ct{_parse(e){return this._getType(e)===je.undefined?oi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Po.create=(t,e)=>new Po({innerType:t,typeName:it.ZodOptional,...ht(e)});class nc extends Ct{_parse(e){return this._getType(e)===je.null?oi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nc.create=(t,e)=>new nc({innerType:t,typeName:it.ZodNullable,...ht(e)});class bx extends Ct{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===je.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bx.create=(t,e)=>new bx({innerType:t,typeName:it.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ht(e)});class Ex extends Ct{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return mm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $s(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $s(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ex.create=(t,e)=>new Ex({innerType:t,typeName:it.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ht(e)});class OR extends Ct{_parse(e){if(this._getType(e)!==je.nan){const r=this._getOrReturnCtx(e);return Te(r,{code:we.invalid_type,expected:je.nan,received:r.parsedType}),rt}return{status:"valid",value:e.data}}}OR.create=t=>new OR({typeName:it.ZodNaN,...ht(t)});class G7 extends Ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class G_ extends Ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?rt:s.status==="dirty"?(n.dirty(),wu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?rt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new G_({in:e,out:n,typeName:it.ZodPipeline})}}class Rx extends Ct{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Jl(i)&&(i.value=Object.freeze(i.value)),i);return mm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Rx.create=(t,e)=>new Rx({innerType:t,typeName:it.ZodReadonly,...ht(e)});var it;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(it||(it={}));const Qi=Ns.create,eI=Fa.create;La.create;gm.create;Ql.create;const U7=_x.create,W7=wx.create;Do.create;ls.create;const U_=gn.create,H7=pm.create;ym.create;Da.create;const X7=Cx.create;ec.create;xm.create;Po.create;nc.create;const qn={string:t=>Ns.create({...t,coerce:!0}),number:t=>Fa.create({...t,coerce:!0}),boolean:t=>gm.create({...t,coerce:!0}),bigint:t=>La.create({...t,coerce:!0}),date:t=>Ql.create({...t,coerce:!0})};function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function K7(t,e){const n=_.createContext(e),r=s=>{const{children:o,...l}=s,c=_.useMemo(()=>l,Object.values(l));return g.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=_.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function $i(t,e=[]){let n=[];function r(s,o){const l=_.createContext(o),c=n.length;n=[...n,o];const d=f=>{var b;const{scope:p,children:y,...v}=f,w=((b=p==null?void 0:p[t])==null?void 0:b[c])||l,C=_.useMemo(()=>v,Object.values(v));return g.jsx(w.Provider,{value:C,children:y})};d.displayName=s+"Provider";function h(f,p){var w;const y=((w=p==null?void 0:p[t])==null?void 0:w[c])||l,v=_.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Y7(i,...e)]}function Y7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function W_(t){const e=t+"CollectionProvider",[n,r]=$i(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:C,children:b}=w,R=le.useRef(null),T=le.useRef(new Map).current;return g.jsx(i,{scope:C,itemMap:T,collectionRef:R,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=Aa(l),d=le.forwardRef((w,C)=>{const{scope:b,children:R}=w,T=s(l,b),P=mt(C,T.collectionRef);return g.jsx(c,{ref:P,children:R})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Aa(h),y=le.forwardRef((w,C)=>{const{scope:b,children:R,...T}=w,P=le.useRef(null),k=mt(C,P),M=s(h,b);return le.useEffect(()=>(M.itemMap.set(P,{ref:P,...T}),()=>void M.itemMap.delete(P))),g.jsx(p,{[f]:"",ref:k,children:R})});y.displayName=h;function v(w){const C=s(t+"CollectionConsumer",w);return le.useCallback(()=>{const R=C.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${f}]`));return Array.from(C.itemMap.values()).sort((M,L)=>T.indexOf(M.ref.current)-T.indexOf(L.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},v,r]}var Bn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Z7=pT[" useId ".trim().toString()]||(()=>{}),q7=0;function Ai(t){const[e,n]=_.useState(Z7());return Bn(()=>{n(r=>r??String(q7++))},[t]),e?`radix-${e}`:""}var J7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=J7.reduce((t,e)=>{const n=Aa(`Primitive.${e}`),r=_.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function tI(t,e){t&&Ba.flushSync(()=>t.dispatchEvent(e))}function $n(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Q7=pT[" useInsertionEffect ".trim().toString()]||Bn;function Oo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=eX({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=_.useCallback(h=>{var f;if(l){const p=tX(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else s(h)},[l,t,s,o]);return[c,d]}function eX({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),i=_.useRef(n),s=_.useRef(e);return Q7(()=>{s.current=e},[e]),_.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function tX(t){return typeof t=="function"}var nX=_.createContext(void 0);function Nd(t){const e=_.useContext(nX);return t||e||"ltr"}var i0="rovingFocusGroup.onEntryFocus",rX={bubbles:!1,cancelable:!0},jd="RovingFocusGroup",[Tx,nI,iX]=W_(jd),[sX,dg]=$i(jd,[iX]),[oX,aX]=sX(jd),rI=_.forwardRef((t,e)=>g.jsx(Tx.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(Tx.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(lX,{...t,ref:e})})}));rI.displayName=jd;var lX=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=_.useRef(null),y=mt(e,p),v=Nd(s),[w,C]=Oo({prop:o,defaultProp:l??null,onChange:c,caller:jd}),[b,R]=_.useState(!1),T=$n(d),P=nI(n),k=_.useRef(!1),[M,L]=_.useState(0);return _.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(i0,T),()=>I.removeEventListener(i0,T)},[T]),g.jsx(oX,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:w,onItemFocus:_.useCallback(I=>C(I),[C]),onItemShiftTab:_.useCallback(()=>R(!0),[]),onFocusableItemAdd:_.useCallback(()=>L(I=>I+1),[]),onFocusableItemRemove:_.useCallback(()=>L(I=>I-1),[]),children:g.jsx(qe.div,{tabIndex:b||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{k.current=!0}),onFocus:be(t.onFocus,I=>{const O=!k.current;if(I.target===I.currentTarget&&O&&!b){const W=new CustomEvent(i0,rX);if(I.currentTarget.dispatchEvent(W),!W.defaultPrevented){const z=P().filter(H=>H.focusable),X=z.find(H=>H.active),G=z.find(H=>H.id===w),q=[X,G,...z].filter(Boolean).map(H=>H.ref.current);oI(q,h)}}k.current=!1}),onBlur:be(t.onBlur,()=>R(!1))})})}),iI="RovingFocusGroupItem",sI=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=Ai(),d=s||c,h=aX(iI,n),f=h.currentTabStopId===d,p=nI(n),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:w}=h;return _.useEffect(()=>{if(r)return y(),()=>v()},[r,y,v]),g.jsx(Tx.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:g.jsx(qe.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:be(t.onMouseDown,C=>{r?h.onItemFocus(d):C.preventDefault()}),onFocus:be(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:be(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){h.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const b=dX(C,h.orientation,h.dir);if(b!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let T=p().filter(P=>P.focusable).map(P=>P.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const P=T.indexOf(C.currentTarget);T=h.loop?hX(T,P+1):T.slice(P+1)}setTimeout(()=>oI(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});sI.displayName=iI;var cX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dX(t,e,n){const r=uX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cX[r]}function oI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function hX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var aI=rI,lI=sI;function fX(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var fr=t=>{const{present:e,children:n}=t,r=mX(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=mt(r.ref,gX(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};fr.displayName="Presence";function mX(t){const[e,n]=_.useState(),r=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),o=t?"mounted":"unmounted",[l,c]=fX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=gf(r.current);s.current=l==="mounted"?d:"none"},[l]),Bn(()=>{const d=r.current,h=i.current;if(h!==t){const p=s.current,y=gf(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Bn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const w=gf(r.current).includes(y.animationName);if(y.target===e&&w&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},p=y=>{y.target===e&&(s.current=gf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function gf(t){return(t==null?void 0:t.animationName)||"none"}function gX(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hg="Tabs",[pX,Qee]=$i(hg,[dg]),cI=dg(),[yX,H_]=pX(hg),uI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=Nd(l),[f,p]=Oo({prop:r,onChange:i,defaultProp:s??"",caller:hg});return g.jsx(yX,{scope:n,baseId:Ai(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:g.jsx(qe.div,{dir:h,"data-orientation":o,...d,ref:e})})});uI.displayName=hg;var dI="TabsList",hI=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=H_(dI,n),o=cI(n);return g.jsx(aI,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(qe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});hI.displayName=dI;var fI="TabsTrigger",mI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=H_(fI,n),l=cI(n),c=yI(o.baseId,r),d=xI(o.baseId,r),h=r===o.value;return g.jsx(lI,{asChild:!0,...l,focusable:!i,active:h,children:g.jsx(qe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:be(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:be(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:be(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!i&&f&&o.onValueChange(r)})})})});mI.displayName=fI;var gI="TabsContent",pI=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=H_(gI,n),c=yI(l.baseId,r),d=xI(l.baseId,r),h=r===l.value,f=_.useRef(h);return _.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),g.jsx(fr,{present:i||h,children:({present:p})=>g.jsx(qe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});pI.displayName=gI;function yI(t,e){return`${t}-trigger-${e}`}function xI(t,e){return`${t}-content-${e}`}var xX=uI,vI=hI,_I=mI,wI=pI;const vX=xX,SI=_.forwardRef(({className:t,...e},n)=>g.jsx(vI,{ref:n,className:Oe("inline-flex h-9 items-center justify-center rounded-xl bg-muted p-1 text-muted-foreground",t),...e}));SI.displayName=vI.displayName;const Df=_.forwardRef(({className:t,...e},n)=>g.jsx(_I,{ref:n,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-xl px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Df.displayName=_I.displayName;const Of=_.forwardRef(({className:t,...e},n)=>g.jsx(wI,{ref:n,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Of.displayName=wI.displayName;function _X({value:t="",onChange:e,options:n=[]}){const[r,i]=_.useState(!1),s=_.useRef(null),o=n.filter(l=>l.toLowerCase().includes(t.toLowerCase()));return g.jsxs("div",{className:"relative w-full",children:[g.jsx(Ht,{ref:s,value:t,placeholder:"Ej: ABCD (4 letras)",maxLength:4,onChange:l=>{const c=l.target.value.replace(/[^a-zA-Z]/g,"").toUpperCase();c.length<=4&&(e==null||e(c)),i(!0)},onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),100),className:"appearance-none pr-8"}),g.jsx(cc,{className:"pointer-events-none absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),r&&o.length>0&&g.jsx("ul",{className:"absolute z-10 mt-1 max-h-48 w-full overflow-auto rounded-xl border bg-white text-sm shadow-md",children:o.map(l=>g.jsx("li",{onMouseDown:()=>{var c;e==null||e(l),i(!1),(c=s.current)==null||c.blur()},className:"cursor-pointer px-3 py-1.5 hover:bg-accent hover:text-accent-foreground",children:l},l))})]})}function Px(t,[e,n]){return Math.min(n,Math.max(e,t))}function wX(t,e=globalThis==null?void 0:globalThis.document){const n=$n(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var SX="DismissableLayer",kx="dismissableLayer.update",CX="dismissableLayer.pointerDownOutside",bX="dismissableLayer.focusOutside",VR,CI=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fd=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,d=_.useContext(CI),[h,f]=_.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),v=mt(e,L=>f(L)),w=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(C),R=h?w.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,P=R>=b,k=TX(L=>{const I=L.target,O=[...d.branches].some(W=>W.contains(I));!P||O||(i==null||i(L),o==null||o(L),L.defaultPrevented||l==null||l())},p),M=PX(L=>{const I=L.target;[...d.branches].some(W=>W.contains(I))||(s==null||s(L),o==null||o(L),L.defaultPrevented||l==null||l())},p);return wX(L=>{R===d.layers.size-1&&(r==null||r(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},p),_.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(VR=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),zR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=VR)}},[h,p,n,d]),_.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),zR())},[h,d]),_.useEffect(()=>{const L=()=>y({});return document.addEventListener(kx,L),()=>document.removeEventListener(kx,L)},[]),g.jsx(qe.div,{...c,ref:v,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,M.onFocusCapture),onBlurCapture:be(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,k.onPointerDownCapture)})});Fd.displayName=SX;var EX="DismissableLayerBranch",RX=_.forwardRef((t,e)=>{const n=_.useContext(CI),r=_.useRef(null),i=mt(e,r);return _.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(qe.div,{...t,ref:i})});RX.displayName=EX;function TX(t,e=globalThis==null?void 0:globalThis.document){const n=$n(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){bI(CX,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function PX(t,e=globalThis==null?void 0:globalThis.document){const n=$n(t),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&bI(bX,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zR(){const t=new CustomEvent(kx);document.dispatchEvent(t)}function bI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?tI(i,s):i.dispatchEvent(s)}var s0=0;function X_(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$R()),document.body.insertAdjacentElement("beforeend",t[1]??$R()),s0++,()=>{s0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),s0--}},[])}function $R(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var o0="focusScope.autoFocusOnMount",a0="focusScope.autoFocusOnUnmount",BR={bubbles:!1,cancelable:!0},kX="FocusScope",fg=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=_.useState(null),d=$n(i),h=$n(s),f=_.useRef(null),p=mt(e,w=>c(w)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let w=function(T){if(y.paused||!l)return;const P=T.target;l.contains(P)?f.current=P:vo(f.current,{select:!0})},C=function(T){if(y.paused||!l)return;const P=T.relatedTarget;P!==null&&(l.contains(P)||vo(f.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&vo(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const R=new MutationObserver(b);return l&&R.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),R.disconnect()}}},[r,l,y.paused]),_.useEffect(()=>{if(l){UR.add(y);const w=document.activeElement;if(!l.contains(w)){const b=new CustomEvent(o0,BR);l.addEventListener(o0,d),l.dispatchEvent(b),b.defaultPrevented||(AX(FX(EI(l)),{select:!0}),document.activeElement===w&&vo(l))}return()=>{l.removeEventListener(o0,d),setTimeout(()=>{const b=new CustomEvent(a0,BR);l.addEventListener(a0,h),l.dispatchEvent(b),b.defaultPrevented||vo(w??document.body,{select:!0}),l.removeEventListener(a0,h),UR.remove(y)},0)}}},[l,d,h,y]);const v=_.useCallback(w=>{if(!n&&!r||y.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(C&&b){const R=w.currentTarget,[T,P]=MX(R);T&&P?!w.shiftKey&&b===P?(w.preventDefault(),n&&vo(T,{select:!0})):w.shiftKey&&b===T&&(w.preventDefault(),n&&vo(P,{select:!0})):b===R&&w.preventDefault()}},[n,r,y.paused]);return g.jsx(qe.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});fg.displayName=kX;function AX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vo(r,{select:e}),document.activeElement!==n)return}function MX(t){const e=EI(t),n=GR(e,t),r=GR(e.reverse(),t);return[n,r]}function EI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function GR(t,e){for(const n of t)if(!IX(n,{upTo:e}))return n}function IX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function NX(t){return t instanceof HTMLInputElement&&"select"in t}function vo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&NX(t)&&e&&t.select()}}var UR=jX();function jX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=WR(t,e),t.unshift(e)},remove(e){var n;t=WR(t,e),(n=t[0])==null||n.resume()}}}function WR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function FX(t){return t.filter(e=>e.tagName!=="A")}const LX=["top","right","bottom","left"],Vo=Math.min,Vr=Math.max,vm=Math.round,pf=Math.floor,cs=t=>({x:t,y:t}),DX={left:"right",right:"left",bottom:"top",top:"bottom"},OX={start:"end",end:"start"};function Ax(t,e,n){return Vr(t,Vo(e,n))}function Bs(t,e){return typeof t=="function"?t(e):t}function Gs(t){return t.split("-")[0]}function wc(t){return t.split("-")[1]}function K_(t){return t==="x"?"y":"x"}function Y_(t){return t==="y"?"height":"width"}const VX=new Set(["top","bottom"]);function rs(t){return VX.has(Gs(t))?"y":"x"}function Z_(t){return K_(rs(t))}function zX(t,e,n){n===void 0&&(n=!1);const r=wc(t),i=Z_(t),s=Y_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=_m(o)),[o,_m(o)]}function $X(t){const e=_m(t);return[Mx(t),e,Mx(e)]}function Mx(t){return t.replace(/start|end/g,e=>OX[e])}const HR=["left","right"],XR=["right","left"],BX=["top","bottom"],GX=["bottom","top"];function UX(t,e,n){switch(t){case"top":case"bottom":return n?e?XR:HR:e?HR:XR;case"left":case"right":return e?BX:GX;default:return[]}}function WX(t,e,n,r){const i=wc(t);let s=UX(Gs(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Mx)))),s}function _m(t){return t.replace(/left|right|bottom|top/g,e=>DX[e])}function HX(t){return{top:0,right:0,bottom:0,left:0,...t}}function RI(t){return typeof t!="number"?HX(t):{top:t,right:t,bottom:t,left:t}}function wm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function KR(t,e,n){let{reference:r,floating:i}=t;const s=rs(e),o=Z_(e),l=Y_(o),c=Gs(e),d=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(wc(e)){case"start":y[o]-=p*(n&&d?-1:1);break;case"end":y[o]+=p*(n&&d?-1:1);break}return y}const XX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=KR(d,r,c),p=r,y={},v=0;for(let w=0;w<l.length;w++){const{name:C,fn:b}=l[w],{x:R,y:T,data:P,reset:k}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=R??h,f=T??f,y={...y,[C]:{...y[C],...P}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:h,y:f}=KR(d,p,c)),w=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:y}};async function ld(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=Bs(e,t),v=RI(y),C=l[p?f==="floating"?"reference":"floating":f],b=wm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),R=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),P=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},k=wm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:R,offsetParent:T,strategy:c}):R);return{top:(b.top-k.top+v.top)/P.y,bottom:(k.bottom-b.bottom+v.bottom)/P.y,left:(b.left-k.left+v.left)/P.x,right:(k.right-b.right+v.right)/P.x}}const KX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Bs(t,e)||{};if(d==null)return{};const f=RI(h),p={x:n,y:r},y=Z_(i),v=Y_(y),w=await o.getDimensions(d),C=y==="y",b=C?"top":"left",R=C?"bottom":"right",T=C?"clientHeight":"clientWidth",P=s.reference[v]+s.reference[y]-p[y]-s.floating[v],k=p[y]-s.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let L=M?M[T]:0;(!L||!await(o.isElement==null?void 0:o.isElement(M)))&&(L=l.floating[T]||s.floating[v]);const I=P/2-k/2,O=L/2-w[v]/2-1,W=Vo(f[b],O),z=Vo(f[R],O),X=W,G=L-w[v]-z,Z=L/2-w[v]/2+I,q=Ax(X,Z,G),H=!c.arrow&&wc(i)!=null&&Z!==q&&s.reference[v]/2-(Z<X?W:z)-w[v]/2<0,F=H?Z<X?Z-X:Z-G:0;return{[y]:p[y]+F,data:{[y]:q,centerOffset:Z-q-F,...H&&{alignmentOffset:F}},reset:H}}}),YX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...C}=Bs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Gs(i),R=rs(l),T=Gs(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=p||(T||!w?[_m(l)]:$X(l)),M=v!=="none";!p&&M&&k.push(...WX(l,w,v,P));const L=[l,...k],I=await ld(e,C),O=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&O.push(I[b]),f){const Z=zX(i,o,P);O.push(I[Z[0]],I[Z[1]])}if(W=[...W,{placement:i,overflows:O}],!O.every(Z=>Z<=0)){var z,X;const Z=(((z=s.flip)==null?void 0:z.index)||0)+1,q=L[Z];if(q&&(!(f==="alignment"?R!==rs(q):!1)||W.every(N=>N.overflows[0]>0&&rs(N.placement)===R)))return{data:{index:Z,overflows:W},reset:{placement:q}};let H=(X=W.filter(F=>F.overflows[0]<=0).sort((F,N)=>F.overflows[1]-N.overflows[1])[0])==null?void 0:X.placement;if(!H)switch(y){case"bestFit":{var G;const F=(G=W.filter(N=>{if(M){const B=rs(N.placement);return B===R||B==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((N,B)=>N[1]-B[1])[0])==null?void 0:G[0];F&&(H=F);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function YR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ZR(t){return LX.some(e=>t[e]>=0)}const ZX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Bs(t,e);switch(r){case"referenceHidden":{const s=await ld(e,{...i,elementContext:"reference"}),o=YR(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ZR(o)}}}case"escaped":{const s=await ld(e,{...i,altBoundary:!0}),o=YR(s,n.floating);return{data:{escapedOffsets:o,escaped:ZR(o)}}}default:return{}}}}},TI=new Set(["left","top"]);async function qX(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gs(n),l=wc(n),c=rs(n)==="y",d=TI.has(o)?-1:1,h=s&&c?-1:1,f=Bs(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(y=l==="end"?v*-1:v),c?{x:y*h,y:p*d}:{x:p*d,y:y*h}}const JX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await qX(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},QX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:C=>{let{x:b,y:R}=C;return{x:b,y:R}}},...c}=Bs(t,e),d={x:n,y:r},h=await ld(e,c),f=rs(Gs(i)),p=K_(f);let y=d[p],v=d[f];if(s){const C=p==="y"?"top":"left",b=p==="y"?"bottom":"right",R=y+h[C],T=y-h[b];y=Ax(R,y,T)}if(o){const C=f==="y"?"top":"left",b=f==="y"?"bottom":"right",R=v+h[C],T=v-h[b];v=Ax(R,v,T)}const w=l.fn({...e,[p]:y,[f]:v});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:s,[f]:o}}}}}},eK=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Bs(t,e),h={x:n,y:r},f=rs(i),p=K_(f);let y=h[p],v=h[f];const w=Bs(l,e),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const T=p==="y"?"height":"width",P=s.reference[p]-s.floating[T]+C.mainAxis,k=s.reference[p]+s.reference[T]-C.mainAxis;y<P?y=P:y>k&&(y=k)}if(d){var b,R;const T=p==="y"?"width":"height",P=TI.has(Gs(i)),k=s.reference[f]-s.floating[T]+(P&&((b=o.offset)==null?void 0:b[f])||0)+(P?0:C.crossAxis),M=s.reference[f]+s.reference[T]+(P?0:((R=o.offset)==null?void 0:R[f])||0)-(P?C.crossAxis:0);v<k?v=k:v>M&&(v=M)}return{[p]:y,[f]:v}}}},tK=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Bs(t,e),h=await ld(e,d),f=Gs(i),p=wc(i),y=rs(i)==="y",{width:v,height:w}=s.floating;let C,b;f==="top"||f==="bottom"?(C=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,C=p==="end"?"top":"bottom");const R=w-h.top-h.bottom,T=v-h.left-h.right,P=Vo(w-h[C],R),k=Vo(v-h[b],T),M=!e.middlewareData.shift;let L=P,I=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(L=R),M&&!p){const W=Vr(h.left,0),z=Vr(h.right,0),X=Vr(h.top,0),G=Vr(h.bottom,0);y?I=v-2*(W!==0||z!==0?W+z:Vr(h.left,h.right)):L=w-2*(X!==0||G!==0?X+G:Vr(h.top,h.bottom))}await c({...e,availableWidth:I,availableHeight:L});const O=await o.getDimensions(l.floating);return v!==O.width||w!==O.height?{reset:{rects:!0}}:{}}}};function mg(){return typeof window<"u"}function Sc(t){return PI(t)?(t.nodeName||"").toLowerCase():"#document"}function Br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fs(t){var e;return(e=(PI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PI(t){return mg()?t instanceof Node||t instanceof Br(t).Node:!1}function Ni(t){return mg()?t instanceof Element||t instanceof Br(t).Element:!1}function hs(t){return mg()?t instanceof HTMLElement||t instanceof Br(t).HTMLElement:!1}function qR(t){return!mg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Br(t).ShadowRoot}const nK=new Set(["inline","contents"]);function Ld(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ji(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!nK.has(i)}const rK=new Set(["table","td","th"]);function iK(t){return rK.has(Sc(t))}const sK=[":popover-open",":modal"];function gg(t){return sK.some(e=>{try{return t.matches(e)}catch{return!1}})}const oK=["transform","translate","scale","rotate","perspective"],aK=["transform","translate","scale","rotate","perspective","filter"],lK=["paint","layout","strict","content"];function q_(t){const e=J_(),n=Ni(t)?ji(t):t;return oK.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||aK.some(r=>(n.willChange||"").includes(r))||lK.some(r=>(n.contain||"").includes(r))}function cK(t){let e=zo(t);for(;hs(e)&&!rc(e);){if(q_(e))return e;if(gg(e))return null;e=zo(e)}return null}function J_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uK=new Set(["html","body","#document"]);function rc(t){return uK.has(Sc(t))}function ji(t){return Br(t).getComputedStyle(t)}function pg(t){return Ni(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zo(t){if(Sc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qR(t)&&t.host||fs(t);return qR(e)?e.host:e}function kI(t){const e=zo(t);return rc(e)?t.ownerDocument?t.ownerDocument.body:t.body:hs(e)&&Ld(e)?e:kI(e)}function cd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=kI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Br(i);if(s){const l=Ix(o);return e.concat(o,o.visualViewport||[],Ld(i)?i:[],l&&n?cd(l):[])}return e.concat(i,cd(i,[],n))}function Ix(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function AI(t){const e=ji(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=hs(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=vm(n)!==s||vm(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function Q_(t){return Ni(t)?t:t.contextElement}function Ul(t){const e=Q_(t);if(!hs(e))return cs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=AI(e);let o=(s?vm(n.width):n.width)/r,l=(s?vm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dK=cs(0);function MI(t){const e=Br(t);return!J_()||!e.visualViewport?dK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hK(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Br(t)?!1:e}function Oa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Q_(t);let o=cs(1);e&&(r?Ni(r)&&(o=Ul(r)):o=Ul(t));const l=hK(s,n,r)?MI(s):cs(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const p=Br(s),y=r&&Ni(r)?Br(r):r;let v=p,w=Ix(v);for(;w&&r&&y!==v;){const C=Ul(w),b=w.getBoundingClientRect(),R=ji(w),T=b.left+(w.clientLeft+parseFloat(R.paddingLeft))*C.x,P=b.top+(w.clientTop+parseFloat(R.paddingTop))*C.y;c*=C.x,d*=C.y,h*=C.x,f*=C.y,c+=T,d+=P,v=Br(w),w=Ix(v)}}return wm({width:h,height:f,x:c,y:d})}function ew(t,e){const n=pg(t).scrollLeft;return e?e.left+n:Oa(fs(t)).left+n}function II(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:ew(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function fK(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=fs(r),l=e?gg(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=cs(1);const h=cs(0),f=hs(r);if((f||!f&&!s)&&((Sc(r)!=="body"||Ld(o))&&(c=pg(r)),hs(r))){const y=Oa(r);d=Ul(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=o&&!f&&!s?II(o,c,!0):cs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function mK(t){return Array.from(t.getClientRects())}function gK(t){const e=fs(t),n=pg(t),r=t.ownerDocument.body,i=Vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ew(t);const l=-n.scrollTop;return ji(r).direction==="rtl"&&(o+=Vr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function pK(t,e){const n=Br(t),r=fs(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=J_();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}const yK=new Set(["absolute","fixed"]);function xK(t,e){const n=Oa(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=hs(t)?Ul(t):cs(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function JR(t,e,n){let r;if(e==="viewport")r=pK(t,n);else if(e==="document")r=gK(fs(t));else if(Ni(e))r=xK(e,n);else{const i=MI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wm(r)}function NI(t,e){const n=zo(t);return n===e||!Ni(n)||rc(n)?!1:ji(n).position==="fixed"||NI(n,e)}function vK(t,e){const n=e.get(t);if(n)return n;let r=cd(t,[],!1).filter(l=>Ni(l)&&Sc(l)!=="body"),i=null;const s=ji(t).position==="fixed";let o=s?zo(t):t;for(;Ni(o)&&!rc(o);){const l=ji(o),c=q_(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&yK.has(i.position)||Ld(o)&&!c&&NI(t,o))?r=r.filter(h=>h!==o):i=l,o=zo(o)}return e.set(t,r),r}function _K(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?gg(e)?[]:vK(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const f=JR(e,h,i);return d.top=Vr(f.top,d.top),d.right=Vo(f.right,d.right),d.bottom=Vo(f.bottom,d.bottom),d.left=Vr(f.left,d.left),d},JR(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wK(t){const{width:e,height:n}=AI(t);return{width:e,height:n}}function SK(t,e,n){const r=hs(e),i=fs(e),s=n==="fixed",o=Oa(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=cs(0);function d(){c.x=ew(i)}if(r||!r&&!s)if((Sc(e)!=="body"||Ld(i))&&(l=pg(e)),r){const y=Oa(e,!0,s,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else i&&d();s&&!r&&i&&d();const h=i&&!r&&!s?II(i,l):cs(0),f=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function l0(t){return ji(t).position==="static"}function QR(t,e){if(!hs(t)||ji(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fs(t)===n&&(n=n.ownerDocument.body),n}function jI(t,e){const n=Br(t);if(gg(t))return n;if(!hs(t)){let i=zo(t);for(;i&&!rc(i);){if(Ni(i)&&!l0(i))return i;i=zo(i)}return n}let r=QR(t,e);for(;r&&iK(r)&&l0(r);)r=QR(r,e);return r&&rc(r)&&l0(r)&&!q_(r)?n:r||cK(t)||n}const CK=async function(t){const e=this.getOffsetParent||jI,n=this.getDimensions,r=await n(t.floating);return{reference:SK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bK(t){return ji(t).direction==="rtl"}const EK={convertOffsetParentRelativeRectToViewportRelativeRect:fK,getDocumentElement:fs,getClippingRect:_K,getOffsetParent:jI,getElementRects:CK,getClientRects:mK,getDimensions:wK,getScale:Ul,isElement:Ni,isRTL:bK};function FI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function RK(t,e){let n=null,r;const i=fs(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=d;if(l||e(),!p||!y)return;const v=pf(f),w=pf(i.clientWidth-(h+p)),C=pf(i.clientHeight-(f+y)),b=pf(h),T={rootMargin:-v+"px "+-w+"px "+-C+"px "+-b+"px",threshold:Vr(0,Vo(1,c))||1};let P=!0;function k(M){const L=M[0].intersectionRatio;if(L!==c){if(!P)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}L===1&&!FI(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(k,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(t)}return o(!0),s}function TK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Q_(t),h=i||s?[...d?cd(d):[],...cd(e)]:[];h.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=d&&l?RK(d,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(b=>{let[R]=b;R&&R.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let v,w=c?Oa(t):null;c&&C();function C(){const b=Oa(t);w&&!FI(w,b)&&n(),w=b,v=requestAnimationFrame(C)}return n(),()=>{var b;h.forEach(R=>{i&&R.removeEventListener("scroll",n),s&&R.removeEventListener("resize",n)}),f==null||f(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const PK=JX,kK=QX,AK=YX,MK=tK,IK=ZX,eT=KX,NK=eK,jK=(t,e,n)=>{const r=new Map,i={platform:EK,...n},s={...i.platform,_c:r};return XX(t,e,{...i,platform:s})};var FK=typeof document<"u",LK=function(){},Vf=FK?_.useLayoutEffect:LK;function Sm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Sm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function LI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tT(t,e){const n=LI(t);return Math.round(e*n)/n}function c0(t){const e=_.useRef(t);return Vf(()=>{e.current=t}),e}function DK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=_.useState(r);Sm(p,r)||y(r);const[v,w]=_.useState(null),[C,b]=_.useState(null),R=_.useCallback(N=>{N!==M.current&&(M.current=N,w(N))},[]),T=_.useCallback(N=>{N!==L.current&&(L.current=N,b(N))},[]),P=s||v,k=o||C,M=_.useRef(null),L=_.useRef(null),I=_.useRef(h),O=c!=null,W=c0(c),z=c0(i),X=c0(d),G=_.useCallback(()=>{if(!M.current||!L.current)return;const N={placement:e,strategy:n,middleware:p};z.current&&(N.platform=z.current),jK(M.current,L.current,N).then(B=>{const Y={...B,isPositioned:X.current!==!1};Z.current&&!Sm(I.current,Y)&&(I.current=Y,Ba.flushSync(()=>{f(Y)}))})},[p,e,n,z,X]);Vf(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[d]);const Z=_.useRef(!1);Vf(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Vf(()=>{if(P&&(M.current=P),k&&(L.current=k),P&&k){if(W.current)return W.current(P,k,G);G()}},[P,k,G,W,O]);const q=_.useMemo(()=>({reference:M,floating:L,setReference:R,setFloating:T}),[R,T]),H=_.useMemo(()=>({reference:P,floating:k}),[P,k]),F=_.useMemo(()=>{const N={position:n,left:0,top:0};if(!H.floating)return N;const B=tT(H.floating,h.x),Y=tT(H.floating,h.y);return l?{...N,transform:"translate("+B+"px, "+Y+"px)",...LI(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Y}},[n,l,H.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:G,refs:q,elements:H,floatingStyles:F}),[h,G,q,H,F])}const OK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?eT({element:r.current,padding:i}).fn(n):{}:r?eT({element:r,padding:i}).fn(n):{}}}},VK=(t,e)=>({...PK(t),options:[t,e]}),zK=(t,e)=>({...kK(t),options:[t,e]}),$K=(t,e)=>({...NK(t),options:[t,e]}),BK=(t,e)=>({...AK(t),options:[t,e]}),GK=(t,e)=>({...MK(t),options:[t,e]}),UK=(t,e)=>({...IK(t),options:[t,e]}),WK=(t,e)=>({...OK(t),options:[t,e]});var HK="Arrow",DI=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(qe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});DI.displayName=HK;var XK=DI;function OI(t){const[e,n]=_.useState(void 0);return Bn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tw="Popper",[VI,Cc]=$i(tw),[KK,zI]=VI(tw),$I=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return g.jsx(KK,{scope:e,anchor:r,onAnchorChange:i,children:n})};$I.displayName=tw;var BI="PopperAnchor",GI=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=zI(BI,n),o=_.useRef(null),l=mt(e,o);return _.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(qe.div,{...i,ref:l})});GI.displayName=BI;var nw="PopperContent",[YK,ZK]=VI(nw),UI=_.forwardRef((t,e)=>{var ae,xe,Se,Ee,Xe,Ve;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:v,...w}=t,C=zI(nw,n),[b,R]=_.useState(null),T=mt(e,wt=>R(wt)),[P,k]=_.useState(null),M=OI(P),L=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,O=r+(s!=="center"?"-"+s:""),W=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},z=Array.isArray(d)?d:[d],X=z.length>0,G={padding:W,boundary:z.filter(JK),altBoundary:X},{refs:Z,floatingStyles:q,placement:H,isPositioned:F,middlewareData:N}=DK({strategy:"fixed",placement:O,whileElementsMounted:(...wt)=>TK(...wt,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[VK({mainAxis:i+I,alignmentAxis:o}),c&&zK({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?$K():void 0,...G}),c&&BK({...G}),GK({...G,apply:({elements:wt,rects:xt,availableWidth:Dt,availableHeight:Vt})=>{const{width:Ft,height:An}=xt.reference,bt=wt.floating.style;bt.setProperty("--radix-popper-available-width",`${Dt}px`),bt.setProperty("--radix-popper-available-height",`${Vt}px`),bt.setProperty("--radix-popper-anchor-width",`${Ft}px`),bt.setProperty("--radix-popper-anchor-height",`${An}px`)}}),P&&WK({element:P,padding:l}),QK({arrowWidth:L,arrowHeight:I}),p&&UK({strategy:"referenceHidden",...G})]}),[B,Y]=XI(H),j=$n(v);Bn(()=>{F&&(j==null||j())},[F,j]);const D=(ae=N.arrow)==null?void 0:ae.x,re=(xe=N.arrow)==null?void 0:xe.y,ie=((Se=N.arrow)==null?void 0:Se.centerOffset)!==0,[ce,ge]=_.useState();return Bn(()=>{b&&ge(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:F?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Ee=N.transformOrigin)==null?void 0:Ee.x,(Xe=N.transformOrigin)==null?void 0:Xe.y].join(" "),...((Ve=N.hide)==null?void 0:Ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(YK,{scope:n,placedSide:B,onArrowChange:k,arrowX:D,arrowY:re,shouldHideArrow:ie,children:g.jsx(qe.div,{"data-side":B,"data-align":Y,...w,ref:T,style:{...w.style,animation:F?void 0:"none"}})})})});UI.displayName=nw;var WI="PopperArrow",qK={top:"bottom",right:"left",bottom:"top",left:"right"},HI=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=ZK(WI,r),o=qK[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(XK,{...i,ref:n,style:{...i.style,display:"block"}})})});HI.displayName=WI;function JK(t){return t!==null}var QK=t=>({name:"transformOrigin",options:t,fn(e){var C,b,R;const{placement:n,rects:r,middlewareData:i}=e,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=XI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,y=(((R=i.arrow)==null?void 0:R.y)??0)+c/2;let v="",w="";return d==="bottom"?(v=o?f:`${p}px`,w=`${-c}px`):d==="top"?(v=o?f:`${p}px`,w=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,w=o?f:`${y}px`):d==="left"&&(v=`${r.floating.width+c}px`,w=o?f:`${y}px`),{data:{x:v,y:w}}}});function XI(t){const[e,n="center"]=t.split("-");return[e,n]}var rw=$I,iw=GI,sw=UI,ow=HI,eY="Portal",Dd=_.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=_.useState(!1);Bn(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?LT.createPortal(g.jsx(qe.div,{...r,ref:e}),o):null});Dd.displayName=eY;function KI(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var YI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tY="VisuallyHidden",ZI=_.forwardRef((t,e)=>g.jsx(qe.span,{...t,ref:e,style:{...YI,...t.style}}));ZI.displayName=tY;var nY=ZI,rY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cl=new WeakMap,yf=new WeakMap,xf={},u0=0,qI=function(t){return t&&(t.host||qI(t.parentNode))},iY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=qI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},sY=function(t,e,n,r){var i=iY(e,Array.isArray(t)?t:[t]);xf[n]||(xf[n]=new WeakMap);var s=xf[n],o=[],l=new Set,c=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(r),v=y!==null&&y!=="false",w=(Cl.get(p)||0)+1,C=(s.get(p)||0)+1;Cl.set(p,w),s.set(p,C),o.push(p),w===1&&v&&yf.set(p,!0),C===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),l.clear(),u0++,function(){o.forEach(function(f){var p=Cl.get(f)-1,y=s.get(f)-1;Cl.set(f,p),s.set(f,y),p||(yf.has(f)||f.removeAttribute(r),yf.delete(f)),y||f.removeAttribute(n)}),u0--,u0||(Cl=new WeakMap,Cl=new WeakMap,yf=new WeakMap,xf={})}},aw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=rY(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),sY(r,i,n,"aria-hidden")):function(){return null}},es=function(){return es=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},es.apply(this,arguments)};function JI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oY(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var zf="right-scroll-bar-position",$f="width-before-scroll-bar",aY="with-scroll-bars-hidden",lY="--removed-body-scroll-bar-size";function d0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cY(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var uY=typeof window<"u"?_.useLayoutEffect:_.useEffect,nT=new WeakMap;function dY(t,e){var n=cY(null,function(r){return t.forEach(function(i){return d0(i,r)})});return uY(function(){var r=nT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||d0(l,null)}),s.forEach(function(l){i.has(l)||d0(l,o)})}nT.set(n,t)},[t]),n}function hY(t){return t}function fY(t,e){e===void 0&&(e=hY);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var h=o;o=[],h.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function mY(t){t===void 0&&(t={});var e=fY(null);return e.options=es({async:!0,ssr:!1},t),e}var QI=function(t){var e=t.sideCar,n=JI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,es({},n))};QI.isSideCarExport=!0;function gY(t,e){return t.useMedium(e),QI}var eN=mY(),h0=function(){},yg=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:h0,onWheelCapture:h0,onTouchMoveCapture:h0}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,y=t.noRelative,v=t.noIsolation,w=t.inert,C=t.allowPinchZoom,b=t.as,R=b===void 0?"div":b,T=t.gapMode,P=JI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,M=dY([n,e]),L=es(es({},P),i);return _.createElement(_.Fragment,null,h&&_.createElement(k,{sideCar:eN,removeScrollBar:d,shards:f,noRelative:y,noIsolation:v,inert:w,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:T}),o?_.cloneElement(_.Children.only(l),es(es({},L),{ref:M})):_.createElement(R,es({},L,{className:c,ref:M}),l))});yg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yg.classNames={fullWidth:$f,zeroRight:zf};var pY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pY();return e&&t.setAttribute("nonce",e),t}function xY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _Y=function(){var t=0,e=null;return{add:function(n){t==0&&(e=yY())&&(xY(e,n),vY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wY=function(){var t=_Y();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tN=function(){var t=wY(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},SY={left:0,top:0,right:0,gap:0},f0=function(t){return parseInt(t||"",10)||0},CY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[f0(n),f0(r),f0(i)]},bY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return SY;var e=CY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},EY=tN(),Wl="data-scroll-locked",RY=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($f,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(zf," .").concat(zf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($f," .").concat($f,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(lY,": ").concat(l,`px;
  }
`)},rT=function(){var t=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(t)?t:0},TY=function(){_.useEffect(function(){return document.body.setAttribute(Wl,(rT()+1).toString()),function(){var t=rT()-1;t<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,t.toString())}},[])},PY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;TY();var s=_.useMemo(function(){return bY(i)},[i]);return _.createElement(EY,{styles:RY(s,!e,i,n?"":"!important")})},Nx=!1;if(typeof window<"u")try{var vf=Object.defineProperty({},"passive",{get:function(){return Nx=!0,!0}});window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{Nx=!1}var bl=Nx?{passive:!1}:!1,kY=function(t){return t.tagName==="TEXTAREA"},nN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kY(t)&&n[e]==="visible")},AY=function(t){return nN(t,"overflowY")},MY=function(t){return nN(t,"overflowX")},iT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=rN(t,r);if(i){var s=iN(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},IY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},NY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rN=function(t,e){return t==="v"?AY(e):MY(e)},iN=function(t,e){return t==="v"?IY(e):NY(e)},jY=function(t,e){return t==="h"&&e==="rtl"?-1:1},FY=function(t,e,n,r,i){var s=jY(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),d=!1,h=o>0,f=0,p=0;do{if(!l)break;var y=iN(t,l),v=y[0],w=y[1],C=y[2],b=w-C-s*v;(v||b)&&rN(t,l)&&(f+=b,p+=v);var R=l.parentNode;l=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},_f=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sT=function(t){return[t.deltaX,t.deltaY]},oT=function(t){return t&&"current"in t?t.current:t},LY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},DY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OY=0,El=[];function VY(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(OY++)[0],s=_.useState(tN)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=oY([t.lockRef.current],(t.shards||[]).map(oT),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=_f(w),R=n.current,T="deltaX"in w?w.deltaX:R[0]-b[0],P="deltaY"in w?w.deltaY:R[1]-b[1],k,M=w.target,L=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in w&&L==="h"&&M.type==="range")return!1;var I=iT(L,M);if(!I)return!0;if(I?k=L:(k=L==="v"?"h":"v",I=iT(L,M)),!I)return!1;if(!r.current&&"changedTouches"in w&&(T||P)&&(r.current=k),!k)return!0;var O=r.current||k;return FY(O,C,w,O==="h"?T:P)},[]),c=_.useCallback(function(w){var C=w;if(!(!El.length||El[El.length-1]!==s)){var b="deltaY"in C?sT(C):_f(C),R=e.current.filter(function(k){return k.name===C.type&&(k.target===C.target||C.target===k.shadowParent)&&LY(k.delta,b)})[0];if(R&&R.should){C.cancelable&&C.preventDefault();return}if(!R){var T=(o.current.shards||[]).map(oT).filter(Boolean).filter(function(k){return k.contains(C.target)}),P=T.length>0?l(C,T[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),d=_.useCallback(function(w,C,b,R){var T={name:w,delta:C,target:b,should:R,shadowParent:zY(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),h=_.useCallback(function(w){n.current=_f(w),r.current=void 0},[]),f=_.useCallback(function(w){d(w.type,sT(w),w.target,l(w,t.lockRef.current))},[]),p=_.useCallback(function(w){d(w.type,_f(w),w.target,l(w,t.lockRef.current))},[]);_.useEffect(function(){return El.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,bl),document.addEventListener("touchmove",c,bl),document.addEventListener("touchstart",h,bl),function(){El=El.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,bl),document.removeEventListener("touchmove",c,bl),document.removeEventListener("touchstart",h,bl)}},[]);var y=t.removeScrollBar,v=t.inert;return _.createElement(_.Fragment,null,v?_.createElement(s,{styles:DY(i)}):null,y?_.createElement(PY,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $Y=gY(eN,VY);var xg=_.forwardRef(function(t,e){return _.createElement(yg,es({},t,{ref:e,sideCar:$Y}))});xg.classNames=yg.classNames;var BY=[" ","Enter","ArrowUp","ArrowDown"],GY=[" ","Enter"],Va="Select",[vg,_g,UY]=W_(Va),[bc,ete]=$i(Va,[UY,Cc]),wg=Cc(),[WY,Go]=bc(Va),[HY,XY]=bc(Va),sN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:y,form:v}=t,w=wg(e),[C,b]=_.useState(null),[R,T]=_.useState(null),[P,k]=_.useState(!1),M=Nd(d),[L,I]=Oo({prop:r,defaultProp:i??!1,onChange:s,caller:Va}),[O,W]=Oo({prop:o,defaultProp:l,onChange:c,caller:Va}),z=_.useRef(null),X=C?v||!!C.closest("form"):!0,[G,Z]=_.useState(new Set),q=Array.from(G).map(H=>H.props.value).join(";");return g.jsx(rw,{...w,children:g.jsxs(WY,{required:y,scope:e,trigger:C,onTriggerChange:b,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:k,contentId:Ai(),value:O,onValueChange:W,open:L,onOpenChange:I,dir:M,triggerPointerDownPosRef:z,disabled:p,children:[g.jsx(vg.Provider,{scope:e,children:g.jsx(HY,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(H=>{Z(F=>new Set(F).add(H))},[]),onNativeOptionRemove:_.useCallback(H=>{Z(F=>{const N=new Set(F);return N.delete(H),N})},[]),children:n})}),X?g.jsxs(kN,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:O,onChange:H=>W(H.target.value),disabled:p,form:v,children:[O===void 0?g.jsx("option",{value:""}):null,Array.from(G)]},q):null]})})};sN.displayName=Va;var oN="SelectTrigger",aN=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=wg(n),o=Go(oN,n),l=o.disabled||r,c=mt(e,o.onTriggerChange),d=_g(n),h=_.useRef("touch"),[f,p,y]=MN(w=>{const C=d().filter(T=>!T.disabled),b=C.find(T=>T.value===o.value),R=IN(C,w,b);R!==void 0&&o.onValueChange(R.value)}),v=w=>{l||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return g.jsx(iw,{asChild:!0,...s,children:g.jsx(qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":AN(o.value)?"":void 0,...i,ref:c,onClick:be(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&v(w)}),onPointerDown:be(i.onPointerDown,w=>{h.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:be(i.onKeyDown,w=>{const C=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(C&&w.key===" ")&&BY.includes(w.key)&&(v(),w.preventDefault())})})})});aN.displayName=oN;var lN="SelectValue",cN=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=Go(lN,n),{onValueNodeHasChildrenChange:d}=c,h=s!==void 0,f=mt(e,c.onValueNodeChange);return Bn(()=>{d(h)},[d,h]),g.jsx(qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:AN(c.value)?g.jsx(g.Fragment,{children:o}):s})});cN.displayName=lN;var KY="SelectIcon",uN=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(qe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});uN.displayName=KY;var YY="SelectPortal",dN=t=>g.jsx(Dd,{asChild:!0,...t});dN.displayName=YY;var za="SelectContent",hN=_.forwardRef((t,e)=>{const n=Go(za,t.__scopeSelect),[r,i]=_.useState();if(Bn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ba.createPortal(g.jsx(fN,{scope:t.__scopeSelect,children:g.jsx(vg.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(mN,{...t,ref:e})});hN.displayName=za;var _i=10,[fN,Uo]=bc(za),ZY="SelectContentImpl",qY=Aa("SelectContent.RemoveScroll"),mN=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:C,...b}=t,R=Go(za,n),[T,P]=_.useState(null),[k,M]=_.useState(null),L=mt(e,ae=>P(ae)),[I,O]=_.useState(null),[W,z]=_.useState(null),X=_g(n),[G,Z]=_.useState(!1),q=_.useRef(!1);_.useEffect(()=>{if(T)return aw(T)},[T]),X_();const H=_.useCallback(ae=>{const[xe,...Se]=X().map(Ve=>Ve.ref.current),[Ee]=Se.slice(-1),Xe=document.activeElement;for(const Ve of ae)if(Ve===Xe||(Ve==null||Ve.scrollIntoView({block:"nearest"}),Ve===xe&&k&&(k.scrollTop=0),Ve===Ee&&k&&(k.scrollTop=k.scrollHeight),Ve==null||Ve.focus(),document.activeElement!==Xe))return},[X,k]),F=_.useCallback(()=>H([I,T]),[H,I,T]);_.useEffect(()=>{G&&F()},[G,F]);const{onOpenChange:N,triggerPointerDownPosRef:B}=R;_.useEffect(()=>{if(T){let ae={x:0,y:0};const xe=Ee=>{var Xe,Ve;ae={x:Math.abs(Math.round(Ee.pageX)-(((Xe=B.current)==null?void 0:Xe.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Ve=B.current)==null?void 0:Ve.y)??0))}},Se=Ee=>{ae.x<=10&&ae.y<=10?Ee.preventDefault():T.contains(Ee.target)||N(!1),document.removeEventListener("pointermove",xe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Se,{capture:!0})}}},[T,N,B]),_.useEffect(()=>{const ae=()=>N(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[N]);const[Y,j]=MN(ae=>{const xe=X().filter(Xe=>!Xe.disabled),Se=xe.find(Xe=>Xe.ref.current===document.activeElement),Ee=IN(xe,ae,Se);Ee&&setTimeout(()=>Ee.ref.current.focus())}),D=_.useCallback((ae,xe,Se)=>{const Ee=!q.current&&!Se;(R.value!==void 0&&R.value===xe||Ee)&&(O(ae),Ee&&(q.current=!0))},[R.value]),re=_.useCallback(()=>T==null?void 0:T.focus(),[T]),ie=_.useCallback((ae,xe,Se)=>{const Ee=!q.current&&!Se;(R.value!==void 0&&R.value===xe||Ee)&&z(ae)},[R.value]),ce=r==="popper"?jx:gN,ge=ce===jx?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:C}:{};return g.jsx(fN,{scope:n,content:T,viewport:k,onViewportChange:M,itemRefCallback:D,selectedItem:I,onItemLeave:re,itemTextRefCallback:ie,focusSelectedItem:F,selectedItemText:W,position:r,isPositioned:G,searchRef:Y,children:g.jsx(xg,{as:qY,allowPinchZoom:!0,children:g.jsx(fg,{asChild:!0,trapped:R.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:be(i,ae=>{var xe;(xe=R.trigger)==null||xe.focus({preventScroll:!0}),ae.preventDefault()}),children:g.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:g.jsx(ce,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:ae=>ae.preventDefault(),...b,...ge,onPlaced:()=>Z(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:be(b.onKeyDown,ae=>{const xe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!xe&&ae.key.length===1&&j(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ee=X().filter(Xe=>!Xe.disabled).map(Xe=>Xe.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Xe=ae.target,Ve=Ee.indexOf(Xe);Ee=Ee.slice(Ve+1)}setTimeout(()=>H(Ee)),ae.preventDefault()}})})})})})})});mN.displayName=ZY;var JY="SelectItemAlignedPosition",gN=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Go(za,n),o=Uo(za,n),[l,c]=_.useState(null),[d,h]=_.useState(null),f=mt(e,L=>h(L)),p=_g(n),y=_.useRef(!1),v=_.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:b,focusSelectedItem:R}=o,T=_.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&w&&C&&b){const L=s.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),W=b.getBoundingClientRect();if(s.dir!=="rtl"){const Xe=W.left-I.left,Ve=O.left-Xe,wt=L.left-Ve,xt=L.width+wt,Dt=Math.max(xt,I.width),Vt=window.innerWidth-_i,Ft=Px(Ve,[_i,Math.max(_i,Vt-Dt)]);l.style.minWidth=xt+"px",l.style.left=Ft+"px"}else{const Xe=I.right-W.right,Ve=window.innerWidth-O.right-Xe,wt=window.innerWidth-L.right-Ve,xt=L.width+wt,Dt=Math.max(xt,I.width),Vt=window.innerWidth-_i,Ft=Px(Ve,[_i,Math.max(_i,Vt-Dt)]);l.style.minWidth=xt+"px",l.style.right=Ft+"px"}const z=p(),X=window.innerHeight-_i*2,G=w.scrollHeight,Z=window.getComputedStyle(d),q=parseInt(Z.borderTopWidth,10),H=parseInt(Z.paddingTop,10),F=parseInt(Z.borderBottomWidth,10),N=parseInt(Z.paddingBottom,10),B=q+H+G+N+F,Y=Math.min(C.offsetHeight*5,B),j=window.getComputedStyle(w),D=parseInt(j.paddingTop,10),re=parseInt(j.paddingBottom,10),ie=L.top+L.height/2-_i,ce=X-ie,ge=C.offsetHeight/2,ae=C.offsetTop+ge,xe=q+H+ae,Se=B-xe;if(xe<=ie){const Xe=z.length>0&&C===z[z.length-1].ref.current;l.style.bottom="0px";const Ve=d.clientHeight-w.offsetTop-w.offsetHeight,wt=Math.max(ce,ge+(Xe?re:0)+Ve+F),xt=xe+wt;l.style.height=xt+"px"}else{const Xe=z.length>0&&C===z[0].ref.current;l.style.top="0px";const wt=Math.max(ie,q+w.offsetTop+(Xe?D:0)+ge)+Se;l.style.height=wt+"px",w.scrollTop=xe-ie+w.offsetTop}l.style.margin=`${_i}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=X+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,s.trigger,s.valueNode,l,d,w,C,b,s.dir,r]);Bn(()=>T(),[T]);const[P,k]=_.useState();Bn(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const M=_.useCallback(L=>{L&&v.current===!0&&(T(),R==null||R(),v.current=!1)},[T,R]);return g.jsx(eZ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:g.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:g.jsx(qe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});gN.displayName=JY;var QY="SelectPopperPosition",jx=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=_i,...s}=t,o=wg(n);return g.jsx(sw,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jx.displayName=QY;var[eZ,lw]=bc(za,{}),Fx="SelectViewport",pN=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Uo(Fx,n),o=lw(Fx,n),l=mt(e,s.onViewportChange),c=_.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(vg.Slot,{scope:n,children:g.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:be(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const v=window.innerHeight-_i*2,w=parseFloat(f.style.minHeight),C=parseFloat(f.style.height),b=Math.max(w,C);if(b<v){const R=b+y,T=Math.min(v,R),P=R-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});pN.displayName=Fx;var yN="SelectGroup",[tZ,nZ]=bc(yN),rZ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ai();return g.jsx(tZ,{scope:n,id:i,children:g.jsx(qe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});rZ.displayName=yN;var xN="SelectLabel",vN=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=nZ(xN,n);return g.jsx(qe.div,{id:i.id,...r,ref:e})});vN.displayName=xN;var Cm="SelectItem",[iZ,_N]=bc(Cm),wN=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=Go(Cm,n),c=Uo(Cm,n),d=l.value===r,[h,f]=_.useState(s??""),[p,y]=_.useState(!1),v=mt(e,R=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,R,r,i)}),w=Ai(),C=_.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(iZ,{scope:n,value:r,disabled:i,textId:w,isSelected:d,onItemTextChange:_.useCallback(R=>{f(T=>T||((R==null?void 0:R.textContent)??"").trim())},[]),children:g.jsx(vg.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:g.jsx(qe.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:be(o.onFocus,()=>y(!0)),onBlur:be(o.onBlur,()=>y(!1)),onClick:be(o.onClick,()=>{C.current!=="mouse"&&b()}),onPointerUp:be(o.onPointerUp,()=>{C.current==="mouse"&&b()}),onPointerDown:be(o.onPointerDown,R=>{C.current=R.pointerType}),onPointerMove:be(o.onPointerMove,R=>{var T;C.current=R.pointerType,i?(T=c.onItemLeave)==null||T.call(c):C.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,R=>{var T;R.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:be(o.onKeyDown,R=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&R.key===" "||(GY.includes(R.key)&&b(),R.key===" "&&R.preventDefault())})})})})});wN.displayName=Cm;var Su="SelectItemText",SN=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Go(Su,n),l=Uo(Su,n),c=_N(Su,n),d=XY(Su,n),[h,f]=_.useState(null),p=mt(e,b=>f(b),c.onItemTextChange,b=>{var R;return(R=l.itemTextRefCallback)==null?void 0:R.call(l,b,c.value,c.disabled)}),y=h==null?void 0:h.textContent,v=_.useMemo(()=>g.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=d;return Bn(()=>(w(v),()=>C(v)),[w,C,v]),g.jsxs(g.Fragment,{children:[g.jsx(qe.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ba.createPortal(s.children,o.valueNode):null]})});SN.displayName=Su;var CN="SelectItemIndicator",bN=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _N(CN,n).isSelected?g.jsx(qe.span,{"aria-hidden":!0,...r,ref:e}):null});bN.displayName=CN;var Lx="SelectScrollUpButton",EN=_.forwardRef((t,e)=>{const n=Uo(Lx,t.__scopeSelect),r=lw(Lx,t.__scopeSelect),[i,s]=_.useState(!1),o=mt(e,r.onScrollButtonChange);return Bn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(TN,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});EN.displayName=Lx;var Dx="SelectScrollDownButton",RN=_.forwardRef((t,e)=>{const n=Uo(Dx,t.__scopeSelect),r=lw(Dx,t.__scopeSelect),[i,s]=_.useState(!1),o=mt(e,r.onScrollButtonChange);return Bn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;s(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?g.jsx(TN,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});RN.displayName=Dx;var TN=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Uo("SelectScrollButton",n),o=_.useRef(null),l=_g(n),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Bn(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),g.jsx(qe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:be(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:be(i.onPointerLeave,()=>{c()})})}),sZ="SelectSeparator",PN=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(qe.div,{"aria-hidden":!0,...r,ref:e})});PN.displayName=sZ;var Ox="SelectArrow",oZ=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wg(n),s=Go(Ox,n),o=Uo(Ox,n);return s.open&&o.position==="popper"?g.jsx(ow,{...i,...r,ref:e}):null});oZ.displayName=Ox;var aZ="SelectBubbleInput",kN=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=_.useRef(null),s=mt(r,i),o=KI(e);return _.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),g.jsx(qe.select,{...n,style:{...YI,...n.style},ref:s,defaultValue:e})});kN.displayName=aZ;function AN(t){return t===""||t===void 0}function MN(t){const e=$n(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function IN(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=lZ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function lZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cZ=sN,NN=aN,uZ=cN,dZ=uN,hZ=dN,jN=hN,fZ=pN,FN=vN,LN=wN,mZ=SN,gZ=bN,DN=EN,ON=RN,VN=PN;const bi=cZ,Ei=uZ,ni=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(NN,{ref:r,className:Oe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-xl border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(dZ,{asChild:!0,children:g.jsx(cc,{className:"h-4 w-4 opacity-50"})})]}));ni.displayName=NN.displayName;const cw=_.forwardRef(({className:t,...e},n)=>g.jsx(DN,{ref:n,className:Oe("flex cursor-default items-center justify-center",t),...e,children:g.jsx(cv,{className:"h-4 w-4"})}));cw.displayName=DN.displayName;const uw=_.forwardRef(({className:t,...e},n)=>g.jsx(ON,{ref:n,className:Oe("flex cursor-default items-center justify-center",t),...e,children:g.jsx(cc,{className:"h-4 w-4"})}));uw.displayName=ON.displayName;const ri=_.forwardRef(({className:t,children:e,position:n="popper",withScrollButtons:r=!0,...i},s)=>g.jsx(hZ,{children:g.jsxs(jN,{ref:s,className:Oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[r&&g.jsx(cw,{}),g.jsx(fZ,{className:Oe(n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r&&g.jsx(uw,{})]})}));ri.displayName=jN.displayName;const pZ=_.forwardRef(({className:t,...e},n)=>g.jsx(FN,{ref:n,className:Oe("px-2 py-1.5 text-sm font-semibold",t),...e}));pZ.displayName=FN.displayName;const Rn=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(LN,{ref:r,className:Oe("relative flex w-full cursor-default select-none items-center rounded-xl py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(gZ,{children:g.jsx(yd,{className:"h-4 w-4"})})}),g.jsx(mZ,{children:e})]}));Rn.displayName=LN.displayName;const yZ=_.forwardRef(({className:t,...e},n)=>g.jsx(VN,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));yZ.displayName=VN.displayName;var[Sg,tte]=$i("Tooltip",[Cc]),Cg=Cc(),zN="TooltipProvider",xZ=700,Vx="tooltip.open",[vZ,dw]=Sg(zN),$N=t=>{const{__scopeTooltip:e,delayDuration:n=xZ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),g.jsx(vZ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};$N.displayName=zN;var ud="Tooltip",[_Z,Od]=Sg(ud),BN=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=dw(ud,t.__scopeTooltip),d=Cg(e),[h,f]=_.useState(null),p=Ai(),y=_.useRef(0),v=o??c.disableHoverableContent,w=l??c.delayDuration,C=_.useRef(!1),[b,R]=Oo({prop:r,defaultProp:i??!1,onChange:L=>{L?(c.onOpen(),document.dispatchEvent(new CustomEvent(Vx))):c.onClose(),s==null||s(L)},caller:ud}),T=_.useMemo(()=>b?C.current?"delayed-open":"instant-open":"closed",[b]),P=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,C.current=!1,R(!0)},[R]),k=_.useCallback(()=>{window.clearTimeout(y.current),y.current=0,R(!1)},[R]),M=_.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{C.current=!0,R(!0),y.current=0},w)},[w,R]);return _.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),g.jsx(rw,{...d,children:g.jsx(_Z,{scope:e,contentId:p,open:b,stateAttribute:T,trigger:h,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?M():P()},[c.isOpenDelayedRef,M,P]),onTriggerLeave:_.useCallback(()=>{v?k():(window.clearTimeout(y.current),y.current=0)},[k,v]),onOpen:P,onClose:k,disableHoverableContent:v,children:n})})};BN.displayName=ud;var zx="TooltipTrigger",GN=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Od(zx,n),s=dw(zx,n),o=Cg(n),l=_.useRef(null),c=mt(e,l,i.onTriggerChange),d=_.useRef(!1),h=_.useRef(!1),f=_.useCallback(()=>d.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(iw,{asChild:!0,...o,children:g.jsx(qe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:be(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:be(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:be(t.onBlur,i.onClose),onClick:be(t.onClick,i.onClose)})})});GN.displayName=zx;var hw="TooltipPortal",[wZ,SZ]=Sg(hw,{forceMount:void 0}),UN=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=Od(hw,e);return g.jsx(wZ,{scope:e,forceMount:n,children:g.jsx(fr,{present:n||s.open,children:g.jsx(Dd,{asChild:!0,container:i,children:r})})})};UN.displayName=hw;var ic="TooltipContent",WN=_.forwardRef((t,e)=>{const n=SZ(ic,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Od(ic,t.__scopeTooltip);return g.jsx(fr,{present:r||o.open,children:o.disableHoverableContent?g.jsx(HN,{side:i,...s,ref:e}):g.jsx(CZ,{side:i,...s,ref:e})})}),CZ=_.forwardRef((t,e)=>{const n=Od(ic,t.__scopeTooltip),r=dw(ic,t.__scopeTooltip),i=_.useRef(null),s=mt(e,i),[o,l]=_.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:f}=r,p=_.useCallback(()=>{l(null),f(!1)},[f]),y=_.useCallback((v,w)=>{const C=v.currentTarget,b={x:v.clientX,y:v.clientY},R=PZ(b,C.getBoundingClientRect()),T=kZ(b,R),P=AZ(w.getBoundingClientRect()),k=IZ([...T,...P]);l(k),f(!0)},[f]);return _.useEffect(()=>()=>p(),[p]),_.useEffect(()=>{if(c&&h){const v=C=>y(C,h),w=C=>y(C,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",w)}}},[c,h,y,p]),_.useEffect(()=>{if(o){const v=w=>{const C=w.target,b={x:w.clientX,y:w.clientY},R=(c==null?void 0:c.contains(C))||(h==null?void 0:h.contains(C)),T=!MZ(b,o);R?p():T&&(p(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,o,d,p]),g.jsx(HN,{...t,ref:s})}),[bZ,EZ]=Sg(ud,{isInside:!1}),RZ=P3("TooltipContent"),HN=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=Od(ic,n),d=Cg(n),{onClose:h}=c;return _.useEffect(()=>(document.addEventListener(Vx,h),()=>document.removeEventListener(Vx,h)),[h]),_.useEffect(()=>{if(c.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),g.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:g.jsxs(sw,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(RZ,{children:r}),g.jsx(bZ,{scope:n,isInside:!0,children:g.jsx(nY,{id:c.contentId,role:"tooltip",children:i||r})})]})})});WN.displayName=ic;var XN="TooltipArrow",TZ=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Cg(n);return EZ(XN,n).isInside?null:g.jsx(ow,{...i,...r,ref:e})});TZ.displayName=XN;function PZ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kZ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function AZ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function MZ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function IZ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),NZ(e)}function NZ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jZ=$N,FZ=BN,LZ=GN,DZ=UN,KN=WN;const OZ=jZ,Rl=FZ,Tl=LZ,da=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(DZ,{children:g.jsx(KN,{ref:r,sideOffset:e,className:Oe("z-50 overflow-hidden bg-white max-w-[150px] max-h-[250px] rounded-xl px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n})}));da.displayName=KN.displayName;var bg="Switch",[VZ,nte]=$i(bg),[zZ,$Z]=VZ(bg),YN=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[p,y]=_.useState(null),v=mt(e,T=>y(T)),w=_.useRef(!1),C=p?h||!!p.closest("form"):!0,[b,R]=Oo({prop:i,defaultProp:s??!1,onChange:d,caller:bg});return g.jsxs(zZ,{scope:n,checked:b,disabled:l,children:[g.jsx(qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":QN(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:be(t.onClick,T=>{R(P=>!P),C&&(w.current=T.isPropagationStopped(),w.current||T.stopPropagation())})}),C&&g.jsx(JN,{control:p,bubbles:!w.current,name:r,value:c,checked:b,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});YN.displayName=bg;var ZN="SwitchThumb",qN=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=$Z(ZN,n);return g.jsx(qe.span,{"data-state":QN(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});qN.displayName=ZN;var BZ="SwitchBubbleInput",JN=_.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=_.useRef(null),l=mt(o,s),c=KI(n),d=OI(e);return _.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&y){const v=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(v)}},[c,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});JN.displayName=BZ;function QN(t){return t?"checked":"unchecked"}var GZ=YN,UZ=qN;const e2=_.forwardRef(({className:t,icon:e,...n},r)=>g.jsx(GZ,{className:Oe("relative peer inline-flex h-10 w-20 shrink-0 cursor-pointer items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n,ref:r,children:g.jsx(UZ,{className:Oe("pointer-events-none absolute left-1 flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-lg transition-transform duration-200","data-[state=checked]:translate-x-9"),children:e})}));e2.displayName="Switch";var WZ="Label",t2=_.forwardRef((t,e)=>g.jsx(qe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));t2.displayName=WZ;var n2=t2;const HZ=pv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Eg=_.forwardRef(({className:t,...e},n)=>g.jsx(n2,{ref:n,className:Oe(HZ(),t),...e}));Eg.displayName=n2.displayName;const fw=q9,r2=_.createContext({}),Ot=({...t})=>g.jsx(r2.Provider,{value:{name:t.name},children:g.jsx(t7,{...t})}),Rg=()=>{const t=_.useContext(r2),e=_.useContext(i2),{getFieldState:n,formState:r}=ug(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},i2=_.createContext({}),Nt=_.forwardRef(({className:t,...e},n)=>{const r=_.useId();return g.jsx(i2.Provider,{value:{id:r},children:g.jsx("div",{ref:n,className:Oe("space-y-2",t),...e})})});Nt.displayName="FormItem";const Bt=_.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Rg();return g.jsx(Eg,{ref:n,className:Oe(r&&"text-destructive",t),htmlFor:i,...e})});Bt.displayName="FormLabel";const jt=_.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=Rg();return g.jsx(_P,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});jt.displayName="FormControl";const wi=_.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Rg();return g.jsx("p",{ref:n,id:r,className:Oe("text-[0.8rem] text-muted-foreground",t),...e})});wi.displayName="FormDescription";const hn=_.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=Rg(),o=i?String((i==null?void 0:i.message)??""):e;return o?g.jsx("p",{ref:r,id:s,className:Oe("text-[0.8rem] font-medium text-destructive",t),...n,children:o}):null});hn.displayName="FormMessage";const aT=U_({animal_id:eI().optional(),nombre:Qi().min(1,"El nombre es obligatorio."),especie_id:qn.number().optional().nullable(),tipo_id:qn.number().optional().nullable(),raza_id:qn.number().optional().nullable(),sexo_id:qn.number().min(1,"El sexo es obligatorio.").optional(),fecha_nacimiento:Qi().optional(),peso:qn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),altura_cruz:qn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),longitud_tronco:qn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),perimetro_toracico:qn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),ancho_grupa:qn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),longitud_grupa:qn.number().min(0,"Debe ser un nmero positivo").optional().nullable(),estado_reproductivo_id:qn.number().optional().nullable(),numero_partos:qn.number().min(0).optional().nullable(),intervalo_partos:qn.number().min(0).optional().nullable(),ubicacion_sensor:Qi().optional().nullable(),parcela_id:qn.number().optional().nullable()});function XZ({animal:t={},modoEdicion:e,parcelas:n=[],animalOptions:r={},onCancel:i,onSave:s}){var C,b,R,T,P,k,M,L,I,O,W;const o=e?aT:aT.extend({acronimo_identificacion:Qi().regex(/^[A-Za-z]{4}$/,"Debe contener exactamente 4 letras.").transform(z=>z.toUpperCase())}),l=$_({resolver:B_(o),defaultValues:{...t,especie_id:t.especie_id!=null?t.especie_id.toString():"",tipo_id:t.tipo_id!=null?t.tipo_id.toString():"",raza_id:t.raza_id!=null?t.raza_id.toString():"",sexo_id:t.sexo_id!=null?parseInt(t.sexo_id):1,estado_reproductivo_id:t.estado_reproductivo_id!=null?t.estado_reproductivo_id.toString():"",parcela_id:t.parcela_id!=null?t.parcela_id.toString():"",peso:((C=t.peso)==null?void 0:C.toString())||"",altura_cruz:((b=t.altura_cruz)==null?void 0:b.toString())||"",longitud_tronco:((R=t.longitud_tronco)==null?void 0:R.toString())||"",perimetro_toracico:((T=t.perimetro_toracico)==null?void 0:T.toString())||"",ancho_grupa:((P=t.ancho_grupa)==null?void 0:P.toString())||"",longitud_grupa:((k=t.longitud_grupa)==null?void 0:k.toString())||"",numero_partos:((M=t.numero_partos)==null?void 0:M.toString())||"",intervalo_partos:((L=t.intervalo_partos)==null?void 0:L.toString())||"",fecha_nacimiento:t.fecha_nacimiento?new Date(t.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:t.ubicacion_sensor||""}}),c=l.watch("especie_id"),d=l.watch("tipo_id"),h=l.watch("sexo_id"),f=h===2;_.useEffect(()=>{var z;if(c&&h){const X=(z=r.estados_reproductivos)==null?void 0:z.filter(Z=>Z.sexo_id===h&&Z.especie_id===parseInt(c)),G=l.getValues("estado_reproductivo_id");G&&!X.some(Z=>Z.id.toString()===G)&&l.setValue("estado_reproductivo_id","")}},[c,h,r.estados_reproductivos,l]);const p=((I=r.tipos)==null?void 0:I.filter(z=>c?z.especie_id===parseInt(c):!0))||[],y=((O=r.razas)==null?void 0:O.filter(z=>(!c||z.especie_id===parseInt(c))&&(!d||z.tipo_id===parseInt(d))))||[],v=((W=r.estados_reproductivos)==null?void 0:W.filter(z=>z.sexo_id===h&&(!c||z.especie_id===parseInt(c))))||[],w=z=>{const X={...z};["especie_id","tipo_id","raza_id","sexo_id","estado_reproductivo_id","parcela_id"].forEach(G=>{X[G]=X[G]===""?null:parseInt(X[G])}),["peso","altura_cruz","longitud_tronco","perimetro_toracico","ancho_grupa","longitud_grupa","numero_partos","intervalo_partos","fertilidad"].forEach(G=>{X[G]=X[G]!==""?parseFloat(X[G]):null}),s(X)};return g.jsx(OZ,{children:g.jsx(fw,{...l,children:g.jsxs("form",{onSubmit:l.handleSubmit(w),className:"max-h-[85vh] overflow-y-auto bg-white p-4 sm:p-6 lg:p-8 rounded-xl w-full max-w-4xl mx-auto",children:[g.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold text-gray-800 mb-4 sm:mb-6 text-center",children:e?"Editar Registro de Animal":"Nuevo Registro de Animal"}),g.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center mb-6 sm:mb-8",children:"Completa la informacin detallada para el animal."}),g.jsxs(vX,{defaultValue:"general",className:"space-y-8",children:[g.jsxs(SI,{className:"flex flex-wrap gap-2 w-full p-2 rounded-lg",children:[g.jsxs(Df,{value:"general",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(ko,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"General"})]}),g.jsxs(Df,{value:"zoometria",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(MC,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Zoometra"})]}),g.jsxs(Df,{value:"reproduccion",className:"flex items-center gap-2 text-gray-700 data-[state=active]:bg-gray-600 data-[state=active]:text-white transition-colors duration-200 rounded-xl py-2 px-4",children:[g.jsx(PC,{className:"h-5 w-5"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Reproduccin"})]})]}),g.jsxs(Of,{value:"general",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(ko,{className:"h-5 w-5"})," Informacin General"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"nombre",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Nombre"}),g.jsx(jt,{children:g.jsx(Ht,{...z,placeholder:"Ej: Camila"})}),g.jsx(wi,{children:"Nombre comn del animal."}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:e?g.jsx(Ot,{control:l.control,name:"numero_identificacion",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Nmero de Identificacin"}),g.jsx(jt,{children:g.jsx(Ht,{...z,disabled:!0})}),g.jsx(wi,{children:"Identificador nico del animal."}),g.jsx(hn,{})]})}):g.jsx(Ot,{control:l.control,name:"acronimo_identificacion",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Acrnimo de Identificacin"}),g.jsx(jt,{children:g.jsx(_X,{value:z.value,onChange:z.onChange,options:r.acronimos||[]})}),g.jsx(wi,{children:"Acrnimo de agrupacin del animal."}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"parcela_id",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Parcela Actual"}),g.jsxs(bi,{onValueChange:z.onChange,value:z.value,children:[g.jsx(jt,{children:g.jsx(ni,{children:g.jsx(Ei,{placeholder:"Seleccionar parcela"})})}),g.jsx(ri,{children:n.map(X=>g.jsx(Rn,{value:X.id.toString(),children:X.nombre},X.id))})]}),g.jsx(wi,{children:"Ubicacin actual del animal."}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"especie_id",render:({field:z})=>{var X;return g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Especie de Animal"}),g.jsxs(bi,{value:z.value,onValueChange:G=>{z.onChange(G),l.setValue("tipo_id",""),l.setValue("raza_id","")},children:[g.jsx(jt,{children:g.jsx(ni,{children:g.jsx(Ei,{placeholder:"Seleccione la especie"})})}),g.jsx(ri,{children:(X=r.especies)==null?void 0:X.map(G=>g.jsx(Rn,{value:G.id.toString(),children:G.nombre},G.id))})]}),g.jsx(wi,{children:"Clasificacin de la especie."}),g.jsx(hn,{})]})}})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"tipo_id",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Tipo de Animal"}),g.jsxs(bi,{onValueChange:X=>{z.onChange(X),l.setValue("raza_id","")},value:z.value,disabled:!c,children:[g.jsx(jt,{children:g.jsx(ni,{children:g.jsx(Ei,{placeholder:"Seleccione el tipo"})})}),g.jsx(ri,{children:p.map(X=>g.jsx(Rn,{value:X.id.toString(),children:X.nombre},X.id))})]}),g.jsx(wi,{children:"Clasificacin del tipo."}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"raza_id",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Raza de Animal"}),g.jsxs(bi,{onValueChange:z.onChange,value:z.value,disabled:!c||!d,children:[g.jsx(jt,{children:g.jsx(ni,{children:g.jsx(Ei,{placeholder:"Seleccione la raza"})})}),g.jsx(ri,{children:y.map(X=>g.jsx(Rn,{value:X.id.toString(),children:X.nombre},X.id))})]}),g.jsx(wi,{children:"Clasificacin de la raza."}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"fecha_nacimiento",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Fecha de Nacimiento"}),g.jsx(jt,{children:g.jsx(Ht,{type:"date",...z})}),g.jsx(wi,{children:"Fecha en formato AAAA-MM-DD."}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"ubicacion_sensor",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Ubicacin del Sensor"}),g.jsxs(bi,{onValueChange:z.onChange,value:z.value,children:[g.jsx(jt,{children:g.jsx(ni,{children:g.jsx(Ei,{placeholder:"Seleccionar ubicacin"})})}),g.jsxs(ri,{children:[g.jsx(Rn,{value:"cuello",children:"Cuello"}),g.jsx(Rn,{value:"pata",children:"Pata"}),g.jsx(Rn,{value:"cola",children:"Cola"}),g.jsx(Rn,{value:"implante",children:"Implante (interna)"}),g.jsx(Rn,{value:"ninguno",children:"Ninguno"})]})]}),g.jsx(hn,{})]})})})]})]}),g.jsxs(Of,{value:"zoometria",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(MC,{className:"h-5 w-5"})," Medidas Corporales (Zoometra)"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"peso",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Peso (kg)"}),g.jsx(jt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ht,{type:"number",min:0,...z,placeholder:"Ej: 500.5"}),g.jsxs(Rl,{children:[g.jsx(Tl,{asChild:!0,children:g.jsx(Ci,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(da,{children:g.jsx("p",{children:"Indica la masa corporal del animal en kilogramos."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"altura_cruz",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Altura a la Cruz (cm)"}),g.jsx(jt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ht,{type:"number",min:0,...z,placeholder:"Ej: 150"}),g.jsxs(Rl,{children:[g.jsx(Tl,{asChild:!0,children:g.jsx(Ci,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(da,{children:g.jsx("p",{children:"Representa la distancia vertical desde el suelo hasta la protuberancia ms alta de la escpula."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"longitud_tronco",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Longitud del Tronco (cm)"}),g.jsx(jt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ht,{type:"number",min:0,...z,placeholder:"Ej: 90"}),g.jsxs(Rl,{children:[g.jsx(Tl,{asChild:!0,children:g.jsx(Ci,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(da,{children:g.jsx("p",{children:"Medida desde la punta del hombro (articulacin escpulo-humeral) hasta la punta del isquion."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"perimetro_toracico",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Permetro Torcico (cm)"}),g.jsx(jt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ht,{type:"number",min:0,...z,placeholder:"Ej: 212"}),g.jsxs(Rl,{children:[g.jsx(Tl,{asChild:!0,children:g.jsx(Ci,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(da,{children:g.jsx("p",{children:"Medicin de la circunferencia del trax justo detrs de las paletas."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"ancho_grupa",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Ancho de Grupa (cm)"}),g.jsx(jt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ht,{type:"number",min:0,...z,placeholder:"Ej: 112"}),g.jsxs(Rl,{children:[g.jsx(Tl,{asChild:!0,children:g.jsx(Ci,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(da,{children:g.jsx("p",{children:"Distancia transversal entre las tuberosidades coxales (puntas de las caderas). Es un indicador importante de la capacidad plvica, especialmente relevante en hembras para evaluar la facilidad de parto (distocia)."})})]})]})})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-4",children:g.jsx(Ot,{control:l.control,name:"longitud_grupa",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Longitud de Grupa (cm)"}),g.jsx(jt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Ht,{type:"number",min:0,...z,placeholder:"Ej: 98"}),g.jsxs(Rl,{children:[g.jsx(Tl,{asChild:!0,children:g.jsx(Ci,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),g.jsx(da,{children:g.jsx("p",{children:"Medida longitudinal desde las tuberosidades ilacas (puntas de la cadera) hasta las tuberosidades isquiticas (puntas de la nalga)."})})]})]})})]})})})]})]}),g.jsxs(Of,{value:"reproduccion",className:"p-6 bg-gray-50 rounded-lg border border-gray-200 shadow-md min-h-[300px] w-full max-w-4xl",children:[g.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-700 mb-3 sm:mb-4 flex items-center gap-2",children:[g.jsx(PC,{className:"h-8 w-8"})," Datos Reproductivos"]}),g.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"sexo_id",render:({field:z})=>g.jsxs(Nt,{className:"flex flex-col",children:[g.jsx(Bt,{className:"mb-2",children:"Sexo"}),g.jsx(jt,{children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(e2,{id:"sexo-switch",checked:z.value===2,onCheckedChange:X=>{const G=X?2:1;z.onChange(G),G===2&&(l.setValue("numero_partos",null),l.setValue("intervalo_partos",null),l.setValue("fertilidad",null))},className:Oe(z.value===2?"bg-blue-500":"bg-pink-500"),icon:z.value===2?g.jsx(u4,{className:"h-5 w-5 text-blue-800"}):g.jsx(V4,{className:"h-5 w-5 text-pink-600"})}),g.jsx("span",{children:z.value===2?"Macho":"Hembra"})]})}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"estado_reproductivo_id",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Estado Reproductivo"}),g.jsxs(bi,{onValueChange:z.onChange,value:z.value,disabled:!c&&!z.value||v.length===0&&!z.value,children:[g.jsx(jt,{children:g.jsx(ni,{children:g.jsx(Ei,{placeholder:"Seleccionar estado"})})}),g.jsx(ri,{children:v.map(X=>g.jsx(Rn,{value:X.id.toString(),children:X.nombre},X.id))})]}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"numero_partos",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Nmero de Partos"}),g.jsx(jt,{children:g.jsx(Ht,{type:"number",min:0,...z,disabled:f,placeholder:f?"Solo para hembras":"Ej: 1"})}),g.jsx(wi,{children:"Nmero de partos registrados."}),g.jsx(hn,{})]})})}),g.jsx("div",{className:"col-span-12 md:col-span-6",children:g.jsx(Ot,{control:l.control,name:"intervalo_partos",render:({field:z})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Intervalo entre Partos"}),g.jsx(jt,{children:g.jsx(Ht,{type:"number",min:0,...z,disabled:f,placeholder:f?"Solo para hembras":"Ej: 365 (das)"})}),g.jsx(hn,{})]})})})]})]})]}),g.jsxs("div",{className:"pt-8 flex flex-col sm:flex-row justify-end items-stretch sm:items-center gap-4 border-t border-gray-200 mt-8",children:[g.jsx(st,{type:"button",variant:"outline",onClick:i,className:"flex items-center gap-2 px-6 py-3 rounded-xl border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(st,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(zT,{className:"h-5 w-5"}),"Guardar Animal"]})]})]})})})}const KZ=U_({collar_id:eI().optional(),codigo:Qi().min(1,"El cdigo es obligatorio."),estado:Qi().min(1,"El estado es obligatorio."),bateria:qn.number().min(0).max(100).optional().nullable(),animal_id:H7([X7("UNASSIGNED"),Qi().regex(/^\d+$/,"ID de animal invlido. Debe ser un nmero.").transform(Number),W7(),U7()]).optional().nullable(),original_animal_id:Qi().optional().nullable(),original_estado:Qi().optional().nullable()});function YZ({collar:t={},animals:e=[],onCancel:n,onSave:r,collarStatesOptions:i=[]}){const s=$_({resolver:B_(KZ),defaultValues:{codigo:t.codigo||"",...t,estado:t.estado||"disponible",bateria:t.bateria,animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_animal_id:t.animal_id===null||t.animal_id===void 0||t.animal_id===0?"UNASSIGNED":t.animal_id.toString(),original_estado:t.estado||"disponible"}}),{handleSubmit:o,formState:{errors:l},watch:c,setValue:d}=s,[h,f]=_.useState(""),p=c("estado")==="activo",y=c("estado")==="defectuoso",v=_.useMemo(()=>{var k;if(t.estado&&t.estado.toLowerCase()==="activo")return[{id:(k=i.find(M=>M.nombre.toLowerCase()==="activo"))==null?void 0:k.id,nombre:"activo"}];const P=["activo","sin bateria"];return i.filter(M=>!P.includes(M.nombre.toLowerCase()))},[i,t.estado]),w=P=>{let k=g.jsx(Ci,{className:"h-4 w-4"}),M="N/A",L="bg-gray-100 text-gray-700";return typeof P=="number"&&(P>=70?(k=g.jsx(av,{className:"h-4 w-4 text-green-600"}),L="bg-green-100 text-green-800"):P>=30?(k=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),L="bg-yellow-100 text-yellow-800"):(k=g.jsx(Vu,{className:"h-4 w-4 text-red-700"}),L="bg-red-100 text-red-800"),M=`${P}%`),g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 py-1 rounded-xl text-xs font-medium",L),children:[k,M]})};_.useEffect(()=>{y&&d("animal_id","UNASSIGNED",{shouldValidate:!0})},[y,d]),_.useEffect(()=>{Object.keys(l).length>0&&(l.collar_id&&(console.error("Detalle del error de collar_id:",l.collar_id.message),console.error("Valor actual de collar_id en el formulario:",s.getValues("collar_id"))),l.estado&&console.error("Error estado:",l.estado.message),l.bateria&&console.error("Error bateria:",l.bateria.message),l.animal_id&&console.error("Error animal_id:",l.animal_id.message))},[l,s]);const C=c("animal_id"),b=e.find(P=>P.animal_id.toString()===(C==null?void 0:C.toString())),R=_.useMemo(()=>{const P=h.trim().toLowerCase();let k=e;return P&&(k=e.filter(M=>{var L,I,O,W,z;return((L=M.nombre)==null?void 0:L.toLowerCase().includes(P))||((O=(I=M.numero_identificacion)==null?void 0:I.toLowerCase)==null?void 0:O.call(I).includes(P))||((z=(W=M.collar_asignado)==null?void 0:W.codigo)==null?void 0:z.toLowerCase().includes(P))})),b&&!k.some(M=>M.animal_id===b.animal_id)&&(k=[b,...k]),k},[e,h,b]),T=P=>{const k={collar_id:P.collar_id,estado:P.estado,bateria:t.bateria,animal_id:P.animal_id};k.estado==="sin bateria"&&(k.bateria=0),r({...k,original_animal_id:P.original_animal_id,original_estado:P.original_estado,codigo:P.codigo})};return g.jsx(fw,{...s,children:g.jsxs("form",{onSubmit:o(T),className:"space-y-6 p-4",children:[g.jsx(Ot,{control:s.control,name:"collar_id",render:({field:P})=>g.jsxs(Nt,{className:"hidden",children:[g.jsx(jt,{children:g.jsx(Ht,{type:"hidden",...P,value:P.value!==void 0?String(P.value):""})}),g.jsx(hn,{})]})}),g.jsx(Ot,{control:s.control,name:"original_animal_id",render:({field:P})=>g.jsx(Nt,{className:"hidden",children:g.jsx(jt,{children:g.jsx(Ht,{type:"hidden",...P})})})}),g.jsx(Ot,{control:s.control,name:"original_estado",render:({field:P})=>g.jsx(Nt,{className:"hidden",children:g.jsx(jt,{children:g.jsx(Ht,{type:"hidden",...P})})})}),g.jsx(Ot,{control:s.control,name:"codigo",render:({field:P})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Cdigo del Collar"}),g.jsx(jt,{children:g.jsx(Ht,{...P,disabled:!0})}),g.jsx(hn,{})]})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Ot,{control:s.control,name:"estado",render:({field:P})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Estado del Collar"}),g.jsxs(bi,{onValueChange:P.onChange,value:P.value,disabled:p,children:[g.jsx(jt,{children:g.jsx(ni,{children:g.jsx(Ei,{placeholder:"Seleccionar estado"})})}),g.jsx(ri,{children:v.map(k=>g.jsx(Rn,{value:k.nombre,children:k.nombre.charAt(0).toUpperCase()+k.nombre.slice(1)},k.id))})]}),g.jsx(hn,{})]})}),g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Nivel de Batera"}),g.jsx(jt,{children:g.jsx("div",{className:"flex items-center h-10",children:w(t.bateria)})})]})]}),g.jsx(Ot,{control:s.control,name:"animal_id",render:({field:P})=>g.jsxs(Nt,{children:[g.jsx(Bt,{children:"Asignar a Animal"}),g.jsxs(bi,{onValueChange:P.onChange,value:P.value,disabled:y,children:[g.jsx(jt,{children:g.jsx(ni,{children:g.jsx(Ei,{placeholder:"Seleccionar animal (opcional)"})})}),g.jsxs(ri,{withScrollButtons:!1,className:"bg-white max-h-[350px] overflow-auto",children:[g.jsxs("div",{className:"bg-white px-4 pt-4 sticky top-0 z-20",children:[g.jsx(Ht,{value:h,onChange:k=>f(k.target.value),onKeyDown:k=>k.stopPropagation(),placeholder:"Buscar animal o collar",className:"mb-2 text-sm mt-4 px-4"}),g.jsx(Rn,{value:"UNASSIGNED",className:"border-b",children:g.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[g.jsx(E4,{className:"h-4 w-4"})," Desasignar"]})}),g.jsx(cw,{className:"sticky top-[6rem] z-10 bg-white h-max"})]}),R.length===0?g.jsx("div",{className:"text-sm text-gray-400 text-center py-2",children:"Sin resultados"}):R.map(k=>g.jsxs(Rn,{value:k.animal_id.toString(),className:"bg-white",children:[k.nombre," (",k.numero_identificacion,")",k.collar_asignado&&k.collar_asignado.id!==t.collar_id&&g.jsxs("span",{className:"italic ml-2",children:[" - Collar asignado (",k.collar_asignado.codigo,")"]})]},k.animal_id)),g.jsx(uw,{className:"sticky bottom-0 z-10 bg-white h-max"})]})]}),g.jsx(wi,{children:"Asigna este collar a un animal especfico. Un collar solo puede estar asignado a un animal a la vez. Si el animal ya tiene un collar, este ser desasignado automticamente."}),g.jsx(hn,{})]})}),g.jsxs("div",{className:"flex justify-end gap-4 mt-6 border-t pt-4",children:[g.jsx(st,{type:"button",variant:"outline",onClick:n,className:"flex items-center gap-2 px-6 py-3 rounded-xl border-gray-300 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Cancelar"}),g.jsxs(st,{type:"submit",className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-black text-white hover:bg-gray-700 transition-colors duration-200 shadow-lg",children:[g.jsx(zT,{className:"h-5 w-5"}),"Guardar Collar"]})]})]})})}const $x=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("rounded-xl border bg-card text-card-foreground shadow",t),...e}));$x.displayName="Card";const ZZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("flex flex-col space-y-1.5 p-6",t),...e}));ZZ.displayName="CardHeader";const qZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("font-semibold leading-none tracking-tight",t),...e}));qZ.displayName="CardTitle";const JZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));JZ.displayName="CardDescription";const Bx=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("p-6 pt-0",t),...e}));Bx.displayName="CardContent";const QZ=_.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Oe("flex items-center p-6 pt-0",t),...e}));QZ.displayName="CardFooter";function eq(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const tq=t=>{switch(t){case"success":return iq;case"info":return oq;case"warning":return sq;case"error":return aq;default:return null}},nq=Array(12).fill(0),rq=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},nq.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),iq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lq=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),cq=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Gx=1;class uq{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Gx++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],le.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(hq(d)&&!d.ok){s=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(d instanceof Error){s=!1;const f=typeof n.error=="function"?await n.error(d):n.error,p=typeof n.description=="function"?await n.description(d):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){s=!1;const f=typeof n.success=="function"?await n.success(d):n.success,p=typeof n.description=="function"?await n.description(d):n.description,v=typeof f=="object"&&!le.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...v})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,y=typeof h=="object"&&!le.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...y})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Gx++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Cr=new uq,dq=(t,e)=>{const n=(e==null?void 0:e.id)||Gx++;return Cr.addToast({title:t,...e,id:n}),n},hq=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fq=dq,mq=()=>Cr.toasts,gq=()=>Cr.getActiveToasts(),yt=Object.assign(fq,{success:Cr.success,info:Cr.info,warning:Cr.warning,error:Cr.error,custom:Cr.custom,message:Cr.message,promise:Cr.promise,dismiss:Cr.dismiss,loading:Cr.loading},{getHistory:mq,getToasts:gq});eq("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wf(t){return t.label!==void 0}const pq=3,yq="24px",xq="16px",lT=4e3,vq=356,_q=14,wq=45,Sq=200;function Zi(...t){return t.filter(Boolean).join(" ")}function Cq(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const bq=t=>{var e,n,r,i,s,o,l,c,d;const{invert:h,toast:f,unstyled:p,interacting:y,setHeights:v,visibleToasts:w,heights:C,index:b,toasts:R,expanded:T,removeToast:P,defaultRichColors:k,closeButton:M,style:L,cancelButtonStyle:I,actionButtonStyle:O,className:W="",descriptionClassName:z="",duration:X,position:G,gap:Z,expandByDefault:q,classNames:H,icons:F,closeButtonAriaLabel:N="Close toast"}=t,[B,Y]=le.useState(null),[j,D]=le.useState(null),[re,ie]=le.useState(!1),[ce,ge]=le.useState(!1),[ae,xe]=le.useState(!1),[Se,Ee]=le.useState(!1),[Xe,Ve]=le.useState(!1),[wt,xt]=le.useState(0),[Dt,Vt]=le.useState(0),Ft=le.useRef(f.duration||X||lT),An=le.useRef(null),bt=le.useRef(null),$=b===0,J=b+1<=w,ee=f.type,pe=f.dismissible!==!1,me=f.className||"",ne=f.descriptionClassName||"",ve=le.useMemo(()=>C.findIndex(Ye=>Ye.toastId===f.id)||0,[C,f.id]),Fe=le.useMemo(()=>{var Ye;return(Ye=f.closeButton)!=null?Ye:M},[f.closeButton,M]),ze=le.useMemo(()=>f.duration||X||lT,[f.duration,X]),Et=le.useRef(0),zt=le.useRef(0),pt=le.useRef(0),Gn=le.useRef(null),[Hr,Xr]=G.split("-"),li=le.useMemo(()=>C.reduce((Ye,he,de)=>de>=ve?Ye:Ye+he.height,0),[C,ve]),gr=cq(),sr=f.invert||h,or=ee==="loading";zt.current=le.useMemo(()=>ve*Z+li,[ve,li]),le.useEffect(()=>{Ft.current=ze},[ze]),le.useEffect(()=>{ie(!0)},[]),le.useEffect(()=>{const Ye=bt.current;if(Ye){const he=Ye.getBoundingClientRect().height;return Vt(he),v(de=>[{toastId:f.id,height:he,position:f.position},...de]),()=>v(de=>de.filter(Ke=>Ke.toastId!==f.id))}},[v,f.id]),le.useLayoutEffect(()=>{if(!re)return;const Ye=bt.current,he=Ye.style.height;Ye.style.height="auto";const de=Ye.getBoundingClientRect().height;Ye.style.height=he,Vt(de),v(Ke=>Ke.find(nt=>nt.toastId===f.id)?Ke.map(nt=>nt.toastId===f.id?{...nt,height:de}:nt):[{toastId:f.id,height:de,position:f.position},...Ke])},[re,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const _n=le.useCallback(()=>{ge(!0),xt(zt.current),v(Ye=>Ye.filter(he=>he.toastId!==f.id)),setTimeout(()=>{P(f)},Sq)},[f,P,v,zt]);le.useEffect(()=>{if(f.promise&&ee==="loading"||f.duration===1/0||f.type==="loading")return;let Ye;return T||y||gr?(()=>{if(pt.current<Et.current){const Ke=new Date().getTime()-Et.current;Ft.current=Ft.current-Ke}pt.current=new Date().getTime()})():(()=>{Ft.current!==1/0&&(Et.current=new Date().getTime(),Ye=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),_n()},Ft.current))})(),()=>clearTimeout(Ye)},[T,y,f,ee,gr,_n]),le.useEffect(()=>{f.delete&&(_n(),f.onDismiss==null||f.onDismiss.call(f,f))},[_n,f.delete]);function kr(){var Ye;if(F!=null&&F.loading){var he;return le.createElement("div",{className:Zi(H==null?void 0:H.loader,f==null||(he=f.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":ee==="loading"},F.loading)}return le.createElement(rq,{className:Zi(H==null?void 0:H.loader,f==null||(Ye=f.classNames)==null?void 0:Ye.loader),visible:ee==="loading"})}const Un=f.icon||(F==null?void 0:F[ee])||tq(ee);var Mn,ci;return le.createElement("li",{tabIndex:0,ref:bt,className:Zi(W,me,H==null?void 0:H.toast,f==null||(e=f.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[ee],f==null||(n=f.classNames)==null?void 0:n[ee]),"data-sonner-toast":"","data-rich-colors":(Mn=f.richColors)!=null?Mn:k,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":re,"data-promise":!!f.promise,"data-swiped":Xe,"data-removed":ce,"data-visible":J,"data-y-position":Hr,"data-x-position":Xr,"data-index":b,"data-front":$,"data-swiping":ae,"data-dismissible":pe,"data-type":ee,"data-invert":sr,"data-swipe-out":Se,"data-swipe-direction":j,"data-expanded":!!(T||q&&re),style:{"--index":b,"--toasts-before":b,"--z-index":R.length-b,"--offset":`${ce?wt:zt.current}px`,"--initial-height":q?"auto":`${Dt}px`,...L,...f.style},onDragEnd:()=>{xe(!1),Y(null),Gn.current=null},onPointerDown:Ye=>{or||!pe||(An.current=new Date,xt(zt.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(xe(!0),Gn.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,he,de;if(Se||!pe)return;Gn.current=null;const Ke=Number(((Ye=bt.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ft=Number(((he=bt.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nt=new Date().getTime()-((de=An.current)==null?void 0:de.getTime()),gt=B==="x"?Ke:ft,Zt=Math.abs(gt)/nt;if(Math.abs(gt)>=wq||Zt>.11){xt(zt.current),f.onDismiss==null||f.onDismiss.call(f,f),D(B==="x"?Ke>0?"right":"left":ft>0?"down":"up"),_n(),Ee(!0);return}else{var at,vt;(at=bt.current)==null||at.style.setProperty("--swipe-amount-x","0px"),(vt=bt.current)==null||vt.style.setProperty("--swipe-amount-y","0px")}Ve(!1),xe(!1),Y(null)},onPointerMove:Ye=>{var he,de,Ke;if(!Gn.current||!pe||((he=window.getSelection())==null?void 0:he.toString().length)>0)return;const nt=Ye.clientY-Gn.current.y,gt=Ye.clientX-Gn.current.x;var Zt;const at=(Zt=t.swipeDirections)!=null?Zt:Cq(G);!B&&(Math.abs(gt)>1||Math.abs(nt)>1)&&Y(Math.abs(gt)>Math.abs(nt)?"x":"y");let vt={x:0,y:0};const lt=wn=>1/(1.5+Math.abs(wn)/20);if(B==="y"){if(at.includes("top")||at.includes("bottom"))if(at.includes("top")&&nt<0||at.includes("bottom")&&nt>0)vt.y=nt;else{const wn=nt*lt(nt);vt.y=Math.abs(wn)<Math.abs(nt)?wn:nt}}else if(B==="x"&&(at.includes("left")||at.includes("right")))if(at.includes("left")&&gt<0||at.includes("right")&&gt>0)vt.x=gt;else{const wn=gt*lt(gt);vt.x=Math.abs(wn)<Math.abs(gt)?wn:gt}(Math.abs(vt.x)>0||Math.abs(vt.y)>0)&&Ve(!0),(de=bt.current)==null||de.style.setProperty("--swipe-amount-x",`${vt.x}px`),(Ke=bt.current)==null||Ke.style.setProperty("--swipe-amount-y",`${vt.y}px`)}},Fe&&!f.jsx&&ee!=="loading"?le.createElement("button",{"aria-label":N,"data-disabled":or,"data-close-button":!0,onClick:or||!pe?()=>{}:()=>{_n(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Zi(H==null?void 0:H.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(ci=F==null?void 0:F.close)!=null?ci:lq):null,(ee||f.icon||f.promise)&&f.icon!==null&&((F==null?void 0:F[ee])!==null||f.icon)?le.createElement("div",{"data-icon":"",className:Zi(H==null?void 0:H.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||kr():null,f.type!=="loading"?Un:null):null,le.createElement("div",{"data-content":"",className:Zi(H==null?void 0:H.content,f==null||(s=f.classNames)==null?void 0:s.content)},le.createElement("div",{"data-title":"",className:Zi(H==null?void 0:H.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?le.createElement("div",{"data-description":"",className:Zi(z,ne,H==null?void 0:H.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),le.isValidElement(f.cancel)?f.cancel:f.cancel&&wf(f.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:Ye=>{wf(f.cancel)&&pe&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ye),_n())},className:Zi(H==null?void 0:H.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,le.isValidElement(f.action)?f.action:f.action&&wf(f.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||O,onClick:Ye=>{wf(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ye),!Ye.defaultPrevented&&_n())},className:Zi(H==null?void 0:H.actionButton,f==null||(d=f.classNames)==null?void 0:d.actionButton)},f.action.label):null)};function cT(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Eq(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",l=s?xq:yq;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}const Rq=le.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:y,style:v,visibleToasts:w=pq,toastOptions:C,dir:b=cT(),gap:R=_q,icons:T,containerAriaLabel:P="Notifications"}=e,[k,M]=le.useState([]),L=le.useMemo(()=>Array.from(new Set([i].concat(k.filter(j=>j.position).map(j=>j.position)))),[k,i]),[I,O]=le.useState([]),[W,z]=le.useState(!1),[X,G]=le.useState(!1),[Z,q]=le.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=le.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=le.useRef(null),B=le.useRef(!1),Y=le.useCallback(j=>{M(D=>{var re;return(re=D.find(ie=>ie.id===j.id))!=null&&re.delete||Cr.dismiss(j.id),D.filter(({id:ie})=>ie!==j.id)})},[]);return le.useEffect(()=>Cr.subscribe(j=>{if(j.dismiss){requestAnimationFrame(()=>{M(D=>D.map(re=>re.id===j.id?{...re,delete:!0}:re))});return}setTimeout(()=>{LT.flushSync(()=>{M(D=>{const re=D.findIndex(ie=>ie.id===j.id);return re!==-1?[...D.slice(0,re),{...D[re],...j},...D.slice(re+1)]:[j,...D]})})})}),[k]),le.useEffect(()=>{if(f!=="system"){q(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:D})=>{q(D?"dark":"light")})}catch{j.addListener(({matches:re})=>{try{q(re?"dark":"light")}catch(ie){console.error(ie)}})}},[f]),le.useEffect(()=>{k.length<=1&&z(!1)},[k]),le.useEffect(()=>{const j=D=>{var re;if(s.every(ge=>D[ge]||D.code===ge)){var ce;z(!0),(ce=H.current)==null||ce.focus()}D.code==="Escape"&&(document.activeElement===H.current||(re=H.current)!=null&&re.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),le.useEffect(()=>{if(H.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,B.current=!1)}},[H.current]),le.createElement("section",{ref:n,"aria-label":`${P} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((j,D)=>{var re;const[ie,ce]=j.split("-");return k.length?le.createElement("ol",{key:j,dir:b==="auto"?cT():b,tabIndex:-1,ref:H,className:c,"data-sonner-toaster":!0,"data-sonner-theme":Z,"data-y-position":ie,"data-x-position":ce,style:{"--front-toast-height":`${((re=I[0])==null?void 0:re.height)||0}px`,"--width":`${vq}px`,"--gap":`${R}px`,...v,...Eq(d,h)},onBlur:ge=>{B.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(B.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||B.current||(B.current=!0,N.current=ge.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{X||z(!1)},onDragEnd:()=>z(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},k.filter(ge=>!ge.position&&D===0||ge.position===j).map((ge,ae)=>{var xe,Se;return le.createElement(bq,{key:ge.id,icons:T,index:ae,toast:ge,defaultRichColors:p,duration:(xe=C==null?void 0:C.duration)!=null?xe:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Se=C==null?void 0:C.closeButton)!=null?Se:l,interacting:X,position:j,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:Y,toasts:k.filter(Ee=>Ee.position==ge.position),heights:I.filter(Ee=>Ee.position==ge.position),setHeights:O,expandByDefault:o,gap:R,expanded:W,swipeDirections:e.swipeDirections})})):null}))});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Tq(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Ro(t,e){return typeof t=="function"?t(e):t}function Wr(t,e){return n=>{e.setState(r=>({...r,[t]:Ro(n,r[t])}))}}function Tg(t){return t instanceof Function}function Pq(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function kq(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function Be(t,e,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(s);if(!(l.length!==r.length||l.some((h,f)=>r[f]!==h)))return i;r=l;let d;if(n.key&&n.debug&&(d=Date.now()),i=e(...l),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-o)*100)/100,f=Math.round((Date.now()-d)*100)/100,p=f/16,y=(v,w)=>{for(v=String(v);v.length<w;)v=" "+v;return v};console.info(`%c ${y(f,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Ge(t,e,n,r){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function Aq(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Be(()=>[t,n,e,s],(o,l,c,d)=>({table:o,column:l,row:c,cell:d,getValue:d.getValue,renderValue:d.renderValue}),Ge(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function Mq(t,e,n,r){var i,s;const l={...t._getDefaultColumnDef(),...e},c=l.accessorKey;let d=(i=(s=l.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:c&&(c.includes(".")?h=p=>{let y=p;for(const w of c.split(".")){var v;y=(v=y)==null?void 0:v[w]}return y}:h=p=>p[l.accessorKey]),!d)throw new Error;let f={id:`${String(d)}`,accessorFn:h,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Be(()=>[!0],()=>{var p;return[f,...(p=f.columns)==null?void 0:p.flatMap(y=>y.getFlatColumns())]},Ge(t.options,"debugColumns")),getLeafColumns:Be(()=>[t._getOrderColumnsFn()],p=>{var y;if((y=f.columns)!=null&&y.length){let v=f.columns.flatMap(w=>w.getLeafColumns());return p(v)}return[f]},Ge(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(f,t);return f}const Zn="debugHeaders";function uT(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const Iq={createTable:t=>{t.getHeaderGroups=Be(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const l=(s=r==null?void 0:r.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?s:[],c=(o=i==null?void 0:i.map(f=>n.find(p=>p.id===f)).filter(Boolean))!=null?o:[],d=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return Sf(e,[...l,...d,...c],t)},Ge(t.options,Zn)),t.getCenterHeaderGroups=Be(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),Sf(e,n,t,"center")),Ge(t.options,Zn)),t.getLeftHeaderGroups=Be(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return Sf(e,s,t,"left")},Ge(t.options,Zn)),t.getRightHeaderGroups=Be(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return Sf(e,s,t,"right")},Ge(t.options,Zn)),t.getFooterGroups=Be(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ge(t.options,Zn)),t.getLeftFooterGroups=Be(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ge(t.options,Zn)),t.getCenterFooterGroups=Be(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ge(t.options,Zn)),t.getRightFooterGroups=Be(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ge(t.options,Zn)),t.getFlatHeaders=Be(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ge(t.options,Zn)),t.getLeftFlatHeaders=Be(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ge(t.options,Zn)),t.getCenterFlatHeaders=Be(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ge(t.options,Zn)),t.getRightFlatHeaders=Be(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ge(t.options,Zn)),t.getCenterLeafHeaders=Be(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ge(t.options,Zn)),t.getLeftLeafHeaders=Be(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ge(t.options,Zn)),t.getRightLeafHeaders=Be(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ge(t.options,Zn)),t.getLeafHeaders=Be(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,l,c,d;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(d=r[0])==null?void 0:d.headers)!=null?c:[]].map(h=>h.getLeafHeaders()).flat()},Ge(t.options,Zn))}};function Sf(t,e,n,r){var i,s;let o=0;const l=function(p,y){y===void 0&&(y=1),o=Math.max(o,y),p.filter(v=>v.getIsVisible()).forEach(v=>{var w;(w=v.columns)!=null&&w.length&&l(v.columns,y+1)},0)};l(t);let c=[];const d=(p,y)=>{const v={depth:y,id:[r,`${y}`].filter(Boolean).join("_"),headers:[]},w=[];p.forEach(C=>{const b=[...w].reverse()[0],R=C.column.depth===v.depth;let T,P=!1;if(R&&C.column.parent?T=C.column.parent:(T=C.column,P=!0),b&&(b==null?void 0:b.column)===T)b.subHeaders.push(C);else{const k=uT(n,T,{id:[r,y,T.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${w.filter(M=>M.column===T).length}`:void 0,depth:y,index:w.length});k.subHeaders.push(C),w.push(k)}v.headers.push(C),C.headerGroup=v}),c.push(v),y>0&&d(w,y-1)},h=e.map((p,y)=>uT(n,p,{depth:o,index:y}));d(h,o-1),c.reverse();const f=p=>p.filter(v=>v.column.getIsVisible()).map(v=>{let w=0,C=0,b=[0];v.subHeaders&&v.subHeaders.length?(b=[],f(v.subHeaders).forEach(T=>{let{colSpan:P,rowSpan:k}=T;w+=P,b.push(k)})):w=1;const R=Math.min(...b);return C=C+R,v.colSpan=w,v.rowSpan=C,{colSpan:w,rowSpan:C}});return f((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const mw=(t,e,n,r,i,s,o)=>{let l={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return l._valuesCache[c]=d.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const d=t.getColumn(c);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var d;return(d=l.getValue(c))!=null?d:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>kq(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;c.push(h),d=h}return c.reverse()},getAllCells:Be(()=>[t.getAllLeafColumns()],c=>c.map(d=>Aq(t,l,d,d.id)),Ge(t.options,"debugRows")),_getAllCellsByColumnId:Be(()=>[l.getAllCells()],c=>c.reduce((d,h)=>(d[h.column.id]=h,d),{}),Ge(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const d=t._features[c];d==null||d.createRow==null||d.createRow(l,t)}return l},Nq={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},s2=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};s2.autoRemove=t=>Mi(t);const o2=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};o2.autoRemove=t=>Mi(t);const a2=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};a2.autoRemove=t=>Mi(t);const l2=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};l2.autoRemove=t=>Mi(t);const c2=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});c2.autoRemove=t=>Mi(t)||!(t!=null&&t.length);const u2=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});u2.autoRemove=t=>Mi(t)||!(t!=null&&t.length);const d2=(t,e,n)=>t.getValue(e)===n;d2.autoRemove=t=>Mi(t);const h2=(t,e,n)=>t.getValue(e)==n;h2.autoRemove=t=>Mi(t);const gw=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};gw.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const l=s;s=o,o=l}return[s,o]};gw.autoRemove=t=>Mi(t)||Mi(t[0])&&Mi(t[1]);const Is={includesString:s2,includesStringSensitive:o2,equalsString:a2,arrIncludes:l2,arrIncludesAll:c2,arrIncludesSome:u2,equals:d2,weakEquals:h2,inNumberRange:gw};function Mi(t){return t==null||t===""}const jq={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Wr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?Is.includesString:typeof r=="number"?Is.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Is.equals:Array.isArray(r)?Is.arrIncludes:Is.weakEquals},t.getFilterFn=()=>{var n,r;return Tg(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Is[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r==null?void 0:r.find(h=>h.id===t.id),o=Ro(n,s?s.value:void 0);if(dT(i,o,t)){var l;return(l=r==null?void 0:r.filter(h=>h.id!==t.id))!=null?l:[]}const c={id:t.id,value:o};if(s){var d;return(d=r==null?void 0:r.map(h=>h.id===t.id?c:h))!=null?d:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Ro(e,i))==null?void 0:s.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(dT(c,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function dT(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Fq=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),Lq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},Dq=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Oq=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},Vq=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},zq=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!Pq(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},$q=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Bq=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Gq=(t,e)=>e.length,m0={sum:Fq,min:Lq,max:Dq,extent:Oq,mean:Vq,median:zq,unique:$q,uniqueCount:Bq,count:Gq},Uq={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Wr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return m0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return m0.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Tg(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:m0[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Wq(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const Hq={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Wr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Be(n=>[Du(e,n)],n=>n.findIndex(r=>r.id===t.id),Ge(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Du(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=Du(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Be(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],l=[...i];for(;l.length&&o.length;){const c=o.shift(),d=l.findIndex(h=>h.id===c);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return Wq(s,n,r)},Ge(t.options,"debugTable"))}},g0=()=>({left:[],right:[]}),Xq={getInitialState:t=>({columnPinning:g0(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Wr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var l,c;return{left:((l=i==null?void 0:i.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var d,h;return{left:[...((d=i==null?void 0:i.left)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Be(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},Ge(e.options,"debugRows")),t.getLeftVisibleCells=Be(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Ge(e.options,"debugRows")),t.getRightVisibleCells=Be(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Ge(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?g0():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:g0())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Be(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Ge(t.options,"debugColumns")),t.getRightLeafColumns=Be(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Ge(t.options,"debugColumns")),t.getCenterLeafColumns=Be(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},Ge(t.options,"debugColumns"))}};function Kq(t){return t||(typeof document<"u"?document:null)}const Cf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},p0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Yq={getDefaultColumnDef:()=>Cf,getInitialState:t=>({columnSizing:{},columnSizingInfo:p0(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Wr("columnSizing",t),onColumnSizingInfoChange:Wr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Cf.minSize,(r=s??t.columnDef.size)!=null?r:Cf.size),(i=t.columnDef.maxSize)!=null?i:Cf.maxSize)},t.getStart=Be(n=>[n,Du(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),Ge(e.options,"debugColumns")),t.getAfter=Be(n=>[n,Du(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),Ge(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),y0(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],c=y0(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(b,R)=>{typeof R=="number"&&(e.setColumnSizingInfo(T=>{var P,k;const M=e.options.columnResizeDirection==="rtl"?-1:1,L=(R-((P=T==null?void 0:T.startOffset)!=null?P:0))*M,I=Math.max(L/((k=T==null?void 0:T.startSize)!=null?k:0),-.999999);return T.columnSizingStart.forEach(O=>{let[W,z]=O;d[W]=Math.round(Math.max(z+z*I,0)*100)/100}),{...T,deltaOffset:L,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||b==="end")&&e.setColumnSizing(T=>({...T,...d})))},f=b=>h("move",b),p=b=>{h("end",b),e.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=Kq(n),v={moveHandler:b=>f(b.clientX),upHandler:b=>{y==null||y.removeEventListener("mousemove",v.moveHandler),y==null||y.removeEventListener("mouseup",v.upHandler),p(b.clientX)}},w={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),f(b.touches[0].clientX),!1),upHandler:b=>{var R;y==null||y.removeEventListener("touchmove",w.moveHandler),y==null||y.removeEventListener("touchend",w.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),p((R=b.touches[0])==null?void 0:R.clientX)}},C=Zq()?{passive:!1}:!1;y0(s)?(y==null||y.addEventListener("touchmove",w.moveHandler,C),y==null||y.addEventListener("touchend",w.upHandler,C)):(y==null||y.addEventListener("mousemove",v.moveHandler,C),y==null||y.addEventListener("mouseup",v.upHandler,C)),e.setColumnSizingInfo(b=>({...b,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?p0():(n=t.initialState.columnSizingInfo)!=null?n:p0())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let bf=null;function Zq(){if(typeof bf=="boolean")return bf;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return bf=t,bf}function y0(t){return t.type==="touchstart"}const qq={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Wr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Be(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ge(e.options,"debugRows")),t.getVisibleCells=Be(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Ge(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Be(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Ge(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Du(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Jq={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},Qq={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Wr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Is.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Tg(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Is[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},eJ={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Wr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:l,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Ux=0,Wx=10,x0=()=>({pageIndex:Ux,pageSize:Wx}),tJ={getInitialState:t=>({...t,pagination:{...x0(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Wr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>Ro(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?x0():(i=t.initialState.pagination)!=null?i:x0())},t.setPageIndex=r=>{t.setPagination(i=>{let s=Ro(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?Ux:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:Ux)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?Wx:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:Wx)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,Ro(r,i.pageSize)),o=i.pageSize*i.pageIndex,l=Math.floor(o/s);return{...i,pageIndex:l,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let o=Ro(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=Be(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},Ge(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},v0=()=>({top:[],bottom:[]}),nJ={getInitialState:t=>({rowPinning:v0(),...t}),getDefaultOptions:t=>({onRowPinningChange:Wr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(c=>{let{id:d}=c;return d}):[],o=i?t.getParentRows().map(c=>{let{id:d}=c;return d}):[],l=new Set([...o,t.id,...s]);e.setRowPinning(c=>{var d,h;if(n==="bottom"){var f,p;return{top:((f=c==null?void 0:c.top)!=null?f:[]).filter(w=>!(l!=null&&l.has(w))),bottom:[...((p=c==null?void 0:c.bottom)!=null?p:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)]}}if(n==="top"){var y,v;return{top:[...((y=c==null?void 0:c.top)!=null?y:[]).filter(w=>!(l!=null&&l.has(w))),...Array.from(l)],bottom:((v=c==null?void 0:c.bottom)!=null?v:[]).filter(w=>!(l!=null&&l.has(w)))}}return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(w=>!(l!=null&&l.has(w))),bottom:((h=c==null?void 0:c.bottom)!=null?h:[]).filter(w=>!(l!=null&&l.has(w)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>i==null?void 0:i.includes(l));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=s==null?void 0:s.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?v0():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:v0())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=Be(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ge(t.options,"debugRows")),t.getBottomRows=Be(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ge(t.options,"debugRows")),t.getCenterRows=Be(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},Ge(t.options,"debugRows"))}},rJ={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Wr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{Hx(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Be(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},Ge(t.options,"debugTable")),t.getFilteredSelectedRowModel=Be(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},Ge(t.options,"debugTable")),t.getGroupedSelectedRowModel=Be(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?_0(t,n):{rows:[],flatRows:[],rowsById:{}},Ge(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const l={...s};return Hx(l,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return pw(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Xx(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Xx(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Hx=(t,e,n,r,i)=>{var s;const o=i.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>Hx(t,l.id,n,r,i))};function _0(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,l){return o.map(c=>{var d;const h=pw(c,n);if(h&&(r.push(c),i[c.id]=c),(d=c.subRows)!=null&&d.length&&(c={...c,subRows:s(c.subRows)}),h)return c}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function pw(t,e){var n;return(n=e[t.id])!=null?n:!1}function Xx(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(pw(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const l=Xx(o,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const Kx=/([0-9]+)/gm,iJ=(t,e,n)=>f2($o(t.getValue(n)).toLowerCase(),$o(e.getValue(n)).toLowerCase()),sJ=(t,e,n)=>f2($o(t.getValue(n)),$o(e.getValue(n))),oJ=(t,e,n)=>yw($o(t.getValue(n)).toLowerCase(),$o(e.getValue(n)).toLowerCase()),aJ=(t,e,n)=>yw($o(t.getValue(n)),$o(e.getValue(n))),lJ=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},cJ=(t,e,n)=>yw(t.getValue(n),e.getValue(n));function yw(t,e){return t===e?0:t>e?1:-1}function $o(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function f2(t,e){const n=t.split(Kx).filter(Boolean),r=e.split(Kx).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),l=parseInt(s,10),c=[o,l].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const pu={alphanumeric:iJ,alphanumericCaseSensitive:sJ,text:oJ,textCaseSensitive:aJ,datetime:lJ,basic:cJ},uJ={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Wr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return pu.datetime;if(typeof s=="string"&&(r=!0,s.split(Kx).length>1))return pu.alphanumeric}return r?pu.text:pu.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Tg(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:pu[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(y=>y.id===t.id),c=o==null?void 0:o.findIndex(y=>y.id===t.id);let d=[],h,f=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?l?h="toggle":h="add":o!=null&&o.length&&c!==o.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||i||(h="remove")),h==="add"){var p;d=[...o,{id:t.id,desc:f}],d.splice(0,d.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=o.map(y=>y.id===t.id?{...y,desc:f}:y):h==="remove"?d=o.filter(y=>y.id!==t.id):d=[{id:t.id,desc:f}];return d})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},dJ=[Iq,qq,Hq,Xq,Nq,jq,Jq,Qq,uJ,Uq,eJ,tJ,nJ,rJ,Yq];function hJ(t){var e,n;const r=[...dJ,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((p,y)=>Object.assign(p,y.getDefaultOptions==null?void 0:y.getDefaultOptions(i)),{}),o=p=>i.options.mergeOptions?i.options.mergeOptions(s,p):{...s,...p};let c={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(p=>{var y;c=(y=p.getInitialState==null?void 0:p.getInitialState(c))!=null?y:c});const d=[];let h=!1;const f={_features:r,options:{...s,...t},initialState:c,_queue:p=>{d.push(p),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const y=Ro(p,i.options);i.options=o(y)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,y,v)=>{var w;return(w=i.options.getRowId==null?void 0:i.options.getRowId(p,y,v))!=null?w:`${v?[v.id,y].join("."):y}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,y)=>{let v=(y?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!v&&(v=i.getCoreRowModel().rowsById[p],!v))throw new Error;return v},_getDefaultColumnDef:Be(()=>[i.options.defaultColumn],p=>{var y;return p=(y=p)!=null?y:{},{header:v=>{const w=v.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:v=>{var w,C;return(w=(C=v.renderValue())==null||C.toString==null?void 0:C.toString())!=null?w:null},...i._features.reduce((v,w)=>Object.assign(v,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...p}},Ge(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Be(()=>[i._getColumnDefs()],p=>{const y=function(v,w,C){return C===void 0&&(C=0),v.map(b=>{const R=Mq(i,b,C,w),T=b;return R.columns=T.columns?y(T.columns,R,C+1):[],R})};return y(p)},Ge(t,"debugColumns")),getAllFlatColumns:Be(()=>[i.getAllColumns()],p=>p.flatMap(y=>y.getFlatColumns()),Ge(t,"debugColumns")),_getAllFlatColumnsById:Be(()=>[i.getAllFlatColumns()],p=>p.reduce((y,v)=>(y[v.id]=v,y),{}),Ge(t,"debugColumns")),getAllLeafColumns:Be(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,y)=>{let v=p.flatMap(w=>w.getLeafColumns());return y(v)},Ge(t,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,f);for(let p=0;p<i._features.length;p++){const y=i._features[p];y==null||y.createTable==null||y.createTable(i)}return i}function m2(){return t=>Be(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const l=[];for(let d=0;d<i.length;d++){const h=mw(t,t._getRowId(i[d],d,o),i[d],d,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,l.push(h),t.options.getSubRows){var c;h.originalSubRows=t.options.getSubRows(i[d],d),(c=h.originalSubRows)!=null&&c.length&&(h.subRows=r(h.originalSubRows,s+1,h))}}return l};return n.rows=r(e),n},Ge(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function fJ(){return t=>Be(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,n,r)=>!n.rows.length||e!==!0&&!Object.keys(e??{}).length||!r?n:g2(n),Ge(t.options,"debugTable"))}function g2(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function p2(t,e,n){return n.options.filterFromLeafRows?mJ(t,e,n):gJ(t,e,n)}function mJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,d){d===void 0&&(d=0);const h=[];for(let p=0;p<c.length;p++){var f;let y=c[p];const v=mw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);if(v.columnFilters=y.columnFilters,(f=y.subRows)!=null&&f.length&&d<o){if(v.subRows=l(y.subRows,d+1),y=v,e(y)&&!v.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}if(e(y)||v.subRows.length){h.push(y),s[y.id]=y,i.push(y);continue}}else y=v,e(y)&&(h.push(y),s[y.id]=y,i.push(y))}return h};return{rows:l(t),flatRows:i,rowsById:s}}function gJ(t,e,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,d){d===void 0&&(d=0);const h=[];for(let p=0;p<c.length;p++){let y=c[p];if(e(y)){var f;if((f=y.subRows)!=null&&f.length&&d<o){const w=mw(n,y.id,y.original,y.index,y.depth,void 0,y.parentId);w.subRows=l(y.subRows,d+1),y=w}h.push(y),i.push(y),s[y.id]=y}}return h};return{rows:l(t),flatRows:i,rowsById:s}}function pJ(){return(t,e)=>Be(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter,t.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(l=>l.id).filter(l=>l!==e),i?"__global__":void 0].filter(Boolean),o=l=>{for(let c=0;c<s.length;c++)if(l.columnFilters[s[c]]===!1)return!1;return!0};return p2(n.rows,o,t)},Ge(t.options,"debugTable"))}function yJ(){return(t,e)=>Be(()=>{var n;return[(n=t.getColumn(e))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const o=n.flatRows[s].getUniqueValues(e);for(let l=0;l<o.length;l++){const c=o[l];if(r.has(c)){var i;r.set(c,((i=r.get(c))!=null?i:0)+1)}else r.set(c,1)}}return r},Ge(t.options,"debugTable"))}function y2(){return t=>Be(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let p=0;p<e.flatRows.length;p++)e.flatRows[p].columnFilters={},e.flatRows[p].columnFiltersMeta={};return e}const i=[],s=[];(n??[]).forEach(p=>{var y;const v=t.getColumn(p.id);if(!v)return;const w=v.getFilterFn();w&&i.push({id:p.id,filterFn:w,resolvedValue:(y=w.resolveFilterValue==null?void 0:w.resolveFilterValue(p.value))!=null?y:p.value})});const o=(n??[]).map(p=>p.id),l=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(p=>p.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(p=>{var y;s.push({id:p.id,filterFn:l,resolvedValue:(y=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?y:r})}));let d,h;for(let p=0;p<e.flatRows.length;p++){const y=e.flatRows[p];if(y.columnFilters={},i.length)for(let v=0;v<i.length;v++){d=i[v];const w=d.id;y.columnFilters[w]=d.filterFn(y,w,d.resolvedValue,C=>{y.columnFiltersMeta[w]=C})}if(s.length){for(let v=0;v<s.length;v++){h=s[v];const w=h.id;if(h.filterFn(y,w,h.resolvedValue,C=>{y.columnFiltersMeta[w]=C})){y.columnFilters.__global__=!0;break}}y.columnFilters.__global__!==!0&&(y.columnFilters.__global__=!1)}}const f=p=>{for(let y=0;y<o.length;y++)if(p.columnFilters[o[y]]===!1)return!1;return!0};return p2(e.rows,f,t)},Ge(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function x2(t){return e=>Be(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:l,rowsById:c}=r;const d=i*s,h=d+i;o=o.slice(d,h);let f;e.options.paginateExpandedRows?f={rows:o,flatRows:l,rowsById:c}:f=g2({rows:o,flatRows:l,rowsById:c}),f.flatRows=[];const p=y=>{f.flatRows.push(y),y.subRows.length&&y.subRows.forEach(p)};return f.rows.forEach(p),f},Ge(e.options,"debugTable"))}function v2(){return t=>Be(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(c=>{var d;return(d=t.getColumn(c.id))==null?void 0:d.getCanSort()}),o={};s.forEach(c=>{const d=t.getColumn(c.id);d&&(o[c.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=c=>{const d=c.map(h=>({...h}));return d.sort((h,f)=>{for(let y=0;y<s.length;y+=1){var p;const v=s[y],w=o[v.id],C=w.sortUndefined,b=(p=v==null?void 0:v.desc)!=null?p:!1;let R=0;if(C){const T=h.getValue(v.id),P=f.getValue(v.id),k=T===void 0,M=P===void 0;if(k||M){if(C==="first")return k?-1:1;if(C==="last")return k?1:-1;R=k&&M?0:k?C:-C}}if(R===0&&(R=w.sortingFn(h,f,v.id)),R!==0)return b&&(R*=-1),w.invertSorting&&(R*=-1),R}return h.index-f.index}),d.forEach(h=>{var f;i.push(h),(f=h.subRows)!=null&&f.length&&(h.subRows=l(h.subRows))}),d};return{rows:l(n.rows),flatRows:i,rowsById:n.rowsById}},Ge(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function xJ(t,e){return t?vJ(t)?_.createElement(t,e):t:null}function vJ(t){return _J(t)||typeof t=="function"||wJ(t)}function _J(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function wJ(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function _2(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=_.useState(()=>({current:hJ(e)})),[r,i]=_.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}function w2({globalFilter:t,setGlobalFilter:e}){return g.jsx(Ht,{placeholder:"Buscar...",value:t||"",onChange:n=>e(n.target.value),className:"w-full max-w-sm"})}function S2({column:t}){var r;if(!t.getCanFilter())return null;const e=t.columnDef.header||t.id;if(["tipo","especie","sexo","raza","parcela"].includes(t.id)){const i=Array.from((((r=t.getFacetedUniqueValues)==null?void 0:r.call(t))??new Map).keys()).filter(s=>s!=null&&s!=="").map(s=>String(s).trim()).sort((s,o)=>s.localeCompare(o));return g.jsxs(bi,{value:t.getFilterValue()||"",onValueChange:s=>t.setFilterValue(s==="all"?"":s),children:[g.jsx(ni,{className:"w-full h-8 text-xs text-center",children:g.jsx(Ei,{placeholder:`${e}`})}),g.jsxs(ri,{children:[g.jsx(Rn,{value:"all",children:"Todas"}),i.map(s=>g.jsx(Rn,{value:s,children:s},s))]})]})}return g.jsx(Ht,{value:t.getFilterValue()||"",onChange:i=>t.setFilterValue(i.target.value),placeholder:`${e}`,className:"w-full h-8 text-xs text-center"})}function C2({table:t}){return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la primera pgina"}),g.jsx(uV,{className:"h-4 w-4"})]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la pgina anterior"}),g.jsx(oV,{className:"h-4 w-4"})]}),g.jsxs("div",{className:"flex-center text-sm font-medium whitespace-nowrap",children:[t.getState().pagination.pageIndex+1," de ",t.getPageCount()]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la pgina siguiente"}),g.jsx(VT,{className:"h-4 w-4"})]}),g.jsxs(st,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:[g.jsx("span",{className:"sr-only",children:"Ir a la ltima pgina"}),g.jsx(hV,{className:"h-4 w-4"})]})]})}function b2({table:t}){return g.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:g.jsxs(bi,{value:String(t.getState().pagination.pageSize),onValueChange:e=>t.setPageSize(Number(e)),children:[g.jsx(ni,{className:"h-8 w-[70px]",children:g.jsx(Ei,{placeholder:t.getState().pagination.pageSize})}),g.jsx(ri,{children:[10,20,50,100].map(e=>g.jsx(Rn,{value:String(e),children:e},e))})]})})}function E2({animal:t,columnVisibility:e={}}){if(!t)return g.jsx("div",{className:"text-center text-gray-500 py-4",children:"No hay datos detallados para mostrar."});const n=(r,i,s,o="")=>e[r]?null:g.jsxs("div",{children:[g.jsxs("span",{className:"font-semibold",children:[i,":"]})," ",s!=null?`${s}${o}`:"-"]});return g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-y-1 gap-x-2 text-sm text-gray-700",children:[n("tipo","Tipo",t.tipo),n("raza","Raza",t.raza),n("sexo","Sexo",t.sexo),n("especie","Especie",t.especie),n("parcela","Parcela",t.parcela),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fecha Nacimiento:"})," ",t.fecha_nacimiento||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Peso:"})," ",t.peso!==void 0&&t.peso!==null?`${t.peso} kg`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Altura Cruz:"})," ",t.altura_cruz!==void 0&&t.altura_cruz!==null?`${t.altura_cruz} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Tronco:"})," ",t.longitud_tronco!==void 0&&t.longitud_tronco!==null?`${t.longitud_tronco} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Permetro Torcico:"})," ",t.perimetro_toracico!==void 0&&t.perimetro_toracico!==null?`${t.perimetro_toracico} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ancho Grupa:"})," ",t.ancho_grupa!==void 0&&t.ancho_grupa!==null?`${t.ancho_grupa} cm`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Longitud Grupa:"})," ",t.longitud_grupa!==void 0&&t.longitud_grupa!==null?`${t.longitud_grupa} cm`:"-"]}),n("estado_reproductivo","Estado Reproductivo",t.estado_reproductivo_nombre),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Nmero Partos:"})," ",t.numero_partos!==void 0&&t.numero_partos!==null?t.numero_partos:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Intervalo Partos:"})," ",t.intervalo_partos!==void 0&&t.intervalo_partos!==null?`${t.intervalo_partos} das`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Fertilidad:"})," ",t.fertilidad!==void 0&&t.fertilidad!==null?`${t.fertilidad}%`:"-"]}),t.collar_id&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Collar ID:"})," ",t.collar_id||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Ubicacin Sensor:"})," ",t.ubicacion_sensor||"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"ltima Latitud:"})," ",t.ultima_latitud!==void 0&&t.ultima_latitud!==null?t.ultima_latitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"ltima Longitud:"})," ",t.ultima_longitud!==void 0&&t.ultima_longitud!==null?t.ultima_longitud:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Temperatura Corporal:"})," ",t.temperatura_corporal!==void 0&&t.temperatura_corporal!==null?`${t.temperatura_corporal}C`:"-"]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Hora Temperatura:"})," ",t.hora_temperatura||"-"]}),t.campo_id&&g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:"Campo ID:"})," ",t.campo_id]})]})]})}function SJ({row:t,onEdit:e,onDelete:n,isSelected:r,onToggleSelection:i,columnVisibility:s}){const[o,l]=_.useState(!1),c=h=>{h.stopPropagation(),l(f=>!f)},d=()=>{i&&i(t)};return g.jsxs("div",{className:`border-b ${r?"bg-blue-100":"bg-white"} transition-colors duration-100 ease-in-out`,children:[g.jsxs("div",{onClick:d,className:"p-3 flex justify-between items-center cursor-pointer",children:[g.jsxs("div",{className:"flex-grow min-w-0 mr-2",children:[g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"ID:"})," ",t.original.numero_identificacion||"-"]}),g.jsxs("div",{className:"text-sm text-gray-700 truncate",children:[g.jsx("span",{className:"font-semibold",children:"Nombre:"})," ",t.original.nombre||"-"]})]}),g.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 ml-auto",children:[g.jsx(st,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),e(t.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-blue-50","aria-label":"Editar animal",children:g.jsx(hv,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:h=>{h.stopPropagation(),n(t.original)},className:"text-red-700 hover:text-red-800 hover:bg-red-50","aria-label":"Eliminar animal",children:g.jsx(Fr,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:c,"aria-label":o?"Colapsar detalles":"Expandir detalles",className:"text-gray-500 hover:bg-gray-100",children:o?g.jsx(cv,{className:"h-5 w-5"}):g.jsx(cc,{className:"h-5 w-5"})})]})]}),o&&g.jsx("div",{className:"p-3 pt-0 bg-gray-50 border-t border-gray-100",children:g.jsx(E2,{animal:t.original,columnVisibility:s})})]})}var Pg="Dialog",[R2,rte]=$i(Pg),[CJ,Bi]=R2(Pg),T2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=_.useRef(null),c=_.useRef(null),[d,h]=Oo({prop:r,defaultProp:i??!1,onChange:s,caller:Pg});return g.jsx(CJ,{scope:e,triggerRef:l,contentRef:c,contentId:Ai(),titleId:Ai(),descriptionId:Ai(),open:d,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};T2.displayName=Pg;var P2="DialogTrigger",k2=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bi(P2,n),s=mt(e,i.triggerRef);return g.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_w(i.open),...r,ref:s,onClick:be(t.onClick,i.onOpenToggle)})});k2.displayName=P2;var xw="DialogPortal",[bJ,A2]=R2(xw,{forceMount:void 0}),M2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Bi(xw,e);return g.jsx(bJ,{scope:e,forceMount:n,children:_.Children.map(r,o=>g.jsx(fr,{present:n||s.open,children:g.jsx(Dd,{asChild:!0,container:i,children:o})}))})};M2.displayName=xw;var bm="DialogOverlay",I2=_.forwardRef((t,e)=>{const n=A2(bm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Bi(bm,t.__scopeDialog);return s.modal?g.jsx(fr,{present:r||s.open,children:g.jsx(RJ,{...i,ref:e})}):null});I2.displayName=bm;var EJ=Aa("DialogOverlay.RemoveScroll"),RJ=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bi(bm,n);return g.jsx(xg,{as:EJ,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(qe.div,{"data-state":_w(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$a="DialogContent",N2=_.forwardRef((t,e)=>{const n=A2($a,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Bi($a,t.__scopeDialog);return g.jsx(fr,{present:r||s.open,children:s.modal?g.jsx(TJ,{...i,ref:e}):g.jsx(PJ,{...i,ref:e})})});N2.displayName=$a;var TJ=_.forwardRef((t,e)=>{const n=Bi($a,t.__scopeDialog),r=_.useRef(null),i=mt(e,n.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return aw(s)},[]),g.jsx(j2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:be(t.onFocusOutside,s=>s.preventDefault())})}),PJ=_.forwardRef((t,e)=>{const n=Bi($a,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return g.jsx(j2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),j2=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Bi($a,n),c=_.useRef(null),d=mt(e,c);return X_(),g.jsxs(g.Fragment,{children:[g.jsx(fg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Fd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_w(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(kJ,{titleId:l.titleId}),g.jsx(MJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vw="DialogTitle",F2=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bi(vw,n);return g.jsx(qe.h2,{id:i.titleId,...r,ref:e})});F2.displayName=vw;var L2="DialogDescription",D2=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bi(L2,n);return g.jsx(qe.p,{id:i.descriptionId,...r,ref:e})});D2.displayName=L2;var O2="DialogClose",V2=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Bi(O2,n);return g.jsx(qe.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>i.onOpenChange(!1))})});V2.displayName=O2;function _w(t){return t?"open":"closed"}var z2="DialogTitleWarning",[ite,$2]=K7(z2,{contentName:$a,titleName:vw,docsSlug:"dialog"}),kJ=({titleId:t})=>{const e=$2(z2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},AJ="DialogDescriptionWarning",MJ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$2(AJ).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IJ=T2,NJ=k2,jJ=M2,B2=I2,G2=N2,U2=F2,W2=D2,FJ=V2;const H2=IJ,X2=NJ,LJ=jJ,K2=_.forwardRef(({className:t,...e},n)=>g.jsx(B2,{ref:n,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));K2.displayName=B2.displayName;const ww=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(LJ,{children:[g.jsx(K2,{}),g.jsxs(G2,{ref:r,className:Oe("rounded-xl fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",t),...n,children:[e,g.jsxs(FJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(Us,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ww.displayName=G2.displayName;const Sw=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Sw.displayName="DialogHeader";const Y2=({className:t,...e})=>g.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Y2.displayName="DialogFooter";const Cw=_.forwardRef(({className:t,...e},n)=>g.jsx(U2,{ref:n,className:Oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Cw.displayName=U2.displayName;const Z2=_.forwardRef(({className:t,...e},n)=>g.jsx(W2,{ref:n,className:Oe("text-sm text-muted-foreground",t),...e}));Z2.displayName=W2.displayName;function DJ(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var bw="ScrollArea",[q2,ste]=$i(bw),[OJ,ai]=q2(bw),J2=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,c]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(null),[y,v]=_.useState(null),[w,C]=_.useState(null),[b,R]=_.useState(0),[T,P]=_.useState(0),[k,M]=_.useState(!1),[L,I]=_.useState(!1),O=mt(e,z=>c(z)),W=Nd(i);return g.jsx(OJ,{scope:n,type:r,dir:W,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:k,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:C,scrollbarYEnabled:L,onScrollbarYEnabledChange:I,onCornerWidthChange:R,onCornerHeightChange:P,children:g.jsx(qe.div,{dir:W,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});J2.displayName=bw;var Q2="ScrollAreaViewport",ej=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=ai(Q2,n),l=_.useRef(null),c=mt(e,l,o.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(qe.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ej.displayName=Q2;var ms="ScrollAreaScrollbar",Ew=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(ms,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return _.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?g.jsx(VJ,{...r,ref:e,forceMount:n}):i.type==="scroll"?g.jsx(zJ,{...r,ref:e,forceMount:n}):i.type==="auto"?g.jsx(tj,{...r,ref:e,forceMount:n}):i.type==="always"?g.jsx(Rw,{...r,ref:e}):null});Ew.displayName=ms;var VJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(ms,t.__scopeScrollArea),[s,o]=_.useState(!1);return _.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(fr,{present:n||s,children:g.jsx(tj,{"data-state":s?"visible":"hidden",...r,ref:e})})}),zJ=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ai(ms,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Ag(()=>c("SCROLL_END"),100),[l,c]=DJ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),_.useEffect(()=>{const d=i.viewport,h=s?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const y=d[h];f!==y&&(c("SCROLL"),o()),f=y};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,s,c,o]),g.jsx(fr,{present:n||l!=="hidden",children:g.jsx(Rw,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:be(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),tj=_.forwardRef((t,e)=>{const n=ai(ms,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=_.useState(!1),l=t.orientation==="horizontal",c=Ag(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return sc(n.viewport,c),sc(n.content,c),g.jsx(fr,{present:r||s,children:g.jsx(Rw,{"data-state":s?"visible":"hidden",...i,ref:e})})}),Rw=_.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ai(ms,t.__scopeScrollArea),s=_.useRef(null),o=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=oj(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,y){return HJ(p,o.current,l,y)}return n==="horizontal"?g.jsx($J,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,y=hT(p,l,i.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):n==="vertical"?g.jsx(BJ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,y=hT(p,l);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),$J=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ai(ms,t.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),d=mt(e,c,s.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),g.jsx(rj,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),lj(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Rm(o.paddingLeft),paddingEnd:Rm(o.paddingRight)}})}})}),BJ=_.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ai(ms,t.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),d=mt(e,c,s.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),g.jsx(rj,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(s.viewport){const p=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),lj(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Rm(o.paddingTop),paddingEnd:Rm(o.paddingBottom)}})}})}),[GJ,nj]=q2(ms),rj=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=t,y=ai(ms,n),[v,w]=_.useState(null),C=mt(e,O=>w(O)),b=_.useRef(null),R=_.useRef(""),T=y.viewport,P=r.content-r.viewport,k=$n(h),M=$n(c),L=Ag(f,10);function I(O){if(b.current){const W=O.clientX-b.current.left,z=O.clientY-b.current.top;d({x:W,y:z})}}return _.useEffect(()=>{const O=W=>{const z=W.target;(v==null?void 0:v.contains(z))&&k(W,P)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[T,v,P,k]),_.useEffect(M,[r,M]),sc(v,L),sc(y.content,L),g.jsx(GJ,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:$n(s),onThumbPointerUp:$n(o),onThumbPositionChange:M,onThumbPointerDown:$n(l),children:g.jsx(qe.div,{...p,ref:C,style:{position:"absolute",...p.style},onPointerDown:be(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),b.current=v.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),I(O))}),onPointerMove:be(t.onPointerMove,I),onPointerUp:be(t.onPointerUp,O=>{const W=O.target;W.hasPointerCapture(O.pointerId)&&W.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=R.current,y.viewport&&(y.viewport.style.scrollBehavior=""),b.current=null})})})}),Em="ScrollAreaThumb",ij=_.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=nj(Em,t.__scopeScrollArea);return g.jsx(fr,{present:n||i.hasThumb,children:g.jsx(UJ,{ref:e,...r})})}),UJ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=ai(Em,n),o=nj(Em,n),{onThumbPositionChange:l}=o,c=mt(e,f=>o.onThumbChange(f)),d=_.useRef(void 0),h=Ag(()=>{d.current&&(d.current(),d.current=void 0)},100);return _.useEffect(()=>{const f=s.viewport;if(f){const p=()=>{if(h(),!d.current){const y=XJ(f,l);d.current=y,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,h,l]),g.jsx(qe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(t.onPointerDownCapture,f=>{const y=f.target.getBoundingClientRect(),v=f.clientX-y.left,w=f.clientY-y.top;o.onThumbPointerDown({x:v,y:w})}),onPointerUp:be(t.onPointerUp,o.onThumbPointerUp)})});ij.displayName=Em;var Tw="ScrollAreaCorner",sj=_.forwardRef((t,e)=>{const n=ai(Tw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?g.jsx(WJ,{...t,ref:e}):null});sj.displayName=Tw;var WJ=_.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ai(Tw,n),[s,o]=_.useState(0),[l,c]=_.useState(0),d=!!(s&&l);return sc(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),sc(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?g.jsx(qe.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Rm(t){return t?parseInt(t,10):0}function oj(t,e){const n=t/e;return isNaN(n)?0:n}function kg(t){const e=oj(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function HJ(t,e,n,r="ltr"){const i=kg(n),s=i/2,o=e||s,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return aj([c,d],f)(t)}function hT(t,e,n="ltr"){const r=kg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Px(t,c);return aj([0,o],[0,l])(d)}function aj(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function lj(t,e){return t>0&&t<e}var XJ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Ag(t,e){const n=$n(t),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function sc(t,e){const n=$n(e);Bn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var cj=J2,KJ=ej,YJ=sj;const dd=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(cj,{ref:r,className:Oe("relative",t),...n,children:[g.jsx(KJ,{className:"h-full rounded-[inherit]",children:e}),g.jsx(uj,{}),g.jsx(YJ,{})]}));dd.displayName=cj.displayName;const uj=_.forwardRef(({className:t,orientation:e="vertical",...n},r)=>g.jsx(Ew,{ref:r,orientation:e,className:Oe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:g.jsx(ij,{className:"relative flex-1 rounded-full bg-border"})}));uj.displayName=Ew.displayName;function ZJ({table:t,columnVisibility:e={}}){const n=t.getAllColumns().filter(o=>o.getCanFilter()&&o.id!=="acciones"),r=n.filter(o=>!e[o.id]&&o.id!=="numero_identificacion"&&o.id!=="nombre"),i=()=>{n.forEach(o=>{o.getIsFiltered()&&o.setFilterValue(void 0)}),t.setGlobalFilter("")},s=n.some(o=>o.getIsFiltered())||t.getState().globalFilter;return g.jsxs(H2,{children:[g.jsx(X2,{asChild:!0,children:g.jsxs(st,{variant:"outline",className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[g.jsx(GT,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Filtros"}),s&&g.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:"Activo"})]})}),g.jsxs(ww,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(Sw,{className:"text-center",children:[g.jsx(Cw,{className:"text-lg font-semibold",children:"Filtros Avanzados"}),s&&g.jsx("div",{className:"w-full flex justify-center",children:g.jsxs(st,{variant:"ghost",size:"sm",onClick:i,className:"text-red-500 hover:bg-red-50 gap-1",children:[g.jsx(pn,{className:"h-4 w-4"})," Limpiar todo"]})})]}),g.jsx(dd,{className:"max-h-[70vh] py-2",children:g.jsx("div",{className:"flex flex-col items-center gap-4",children:r.length>0?r.map(o=>g.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50 shadow-sm w-full",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 capitalize",children:o.id.replace(/_/g," ")}),o.getIsFiltered()&&g.jsx(st,{variant:"ghost",size:"icon",onClick:()=>o.setFilterValue(void 0),className:"text-red-500 hover:bg-red-50",children:g.jsx(pn,{className:"h-4 w-4"})})]}),g.jsx(S2,{column:o}),o.getIsFiltered()&&g.jsxs("p",{className:"text-xs text-blue-800 mt-1",children:["Filtro activo: ",g.jsx("code",{children:String(o.getFilterValue())})]})]},o.id)):g.jsx("p",{className:"text-center text-gray-500",children:"No hay filtros ocultos disponibles para esta vista."})})})]})]})}const qJ=Pl.xs;function JJ({data:t=[],columns:e=[],exportFilename:n="export.csv",onRowClick:r,onEditRow:i,onDeleteRow:s,onDeleteSelected:o,globalFilter:l,setGlobalFilter:c,rowSelection:d,setRowSelection:h,sorting:f,setSorting:p,pagination:y,setPagination:v,columnFilters:w,setColumnFilters:C,columnVisibility:b,setColumnVisibility:R}){const[T,P]=_.useState(null),k=hz(),M=k<qJ,L=["sexo","tipo","raza","especie","parcela"];_.useEffect(()=>{const F={numero_identificacion:!0,nombre:!0,acciones:!0};F.sexo=k>=Pl.xxl,F.tipo=k>=Pl.xl,F.raza=k>=Pl.lg,F.especie=k>=Pl.md,F.parcela=k>=Pl.sm,M&&L.forEach(N=>{F[N]=!1}),R(F)},[k,M]);const I=_.useMemo(()=>L.some(F=>b[F]===!1),[b,L]),O=_2({data:t,columns:e,state:{globalFilter:l,rowSelection:d,sorting:f,pagination:y,columnFilters:w,columnVisibility:b},onGlobalFilterChange:F=>{v(N=>({...N,pageIndex:0})),c(F)},onRowSelectionChange:h,onSortingChange:p,onPaginationChange:v,onColumnVisibilityChange:R,onColumnFiltersChange:F=>{v(N=>({...N,pageIndex:0})),C(F)},getCoreRowModel:m2(),getFilteredRowModel:y2(),getSortedRowModel:v2(),getPaginationRowModel:x2(),getExpandedRowModel:fJ(),getFacetedRowModel:pJ(),getFacetedUniqueValues:yJ(),enableRowSelection:!0,autoResetPageIndex:!1,meta:{showExpandableRows:M,columnVisibility:b}}),W=_.useCallback(()=>{h({}),P(null)},[]);_.useEffect(()=>{const F=N=>{N.key==="Escape"&&W()};return window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F)}},[W]);const z=(F,N,B)=>{if(!M){B.preventDefault();let Y={...d};if(B.shiftKey&&T!==null){const j=O.getRowModel().rows.map(ie=>ie.id),[D,re]=[T,N].sort((ie,ce)=>ie-ce);for(let ie=D;ie<=re;ie++)Y[j[ie]]=!0}else B.ctrlKey||B.metaKey?(Y[F.id]=!Y[F.id],P(N)):(Y[F.id]&&Object.keys(Y).length===1?delete Y[F.id]:Y={[F.id]:!0},P(N));h(Y)}r&&r(F.original)},X=_.useCallback(F=>{h(N=>({...N,[F.id]:!N[F.id]}))},[]),G=()=>{O.getIsAllPageRowsSelected()?O.toggleAllPageRowsSelected(!1):O.toggleAllPageRowsSelected(!0)},Z=()=>O.getIsAllPageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx(Us,{className:"h-4 w-4"}),variant:"outline"}:O.getIsSomePageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx(UT,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Pgina",icon:g.jsx(yd,{className:"h-4 w-4"}),variant:"outline"},q=O.getState().globalFilter||O.getAllColumns().some(F=>F.getIsFiltered()),H=Z();return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(ko,{className:"h-5 w-5 text-blue-600"}),"Animales Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(w2,{globalFilter:l,setGlobalFilter:c}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[O.getFilteredRowModel().rows.length>0&&g.jsxs(st,{onClick:G,variant:H.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[H.icon," ",g.jsx("span",{className:"hidden lg:inline",children:H.text})]}),!M&&q&&g.jsxs(st,{onClick:()=>{O.resetGlobalFilter(),O.getAllColumns().forEach(F=>F.setFilterValue(void 0)),h({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(pn,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),Object.keys(d).length>0&&g.jsxs(st,{onClick:()=>{const F=O.getSelectedRowModel().rows.map(N=>N.original.animal_id);o(F)},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(Fr,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Eliminar Seleccionado"})]}),(M||I)&&g.jsx(ZJ,{table:O,columnVisibility:b})]})]}),g.jsx("div",{className:"overflow-hidden",children:M?g.jsx("div",{className:"space-y-2",children:O.getRowModel().rows.map(F=>g.jsx(SJ,{row:F,onEdit:()=>i(F.original.animal_id),onDelete:()=>s(F.original),isSelected:F.getIsSelected(),onToggleSelection:X,columnVisibility:O.options.meta.columnVisibility},F.id))}):g.jsxs("table",{className:"min-w-full table-fixed text-center",children:[g.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10",children:O.getHeaderGroups().map(F=>g.jsx("tr",{children:F.headers.map(N=>g.jsx("th",{className:"border-b p-2",children:N.isPlaceholder?null:g.jsx("div",{className:"p-1 flex flex-col items-center justify-center space-y-1",children:g.jsxs("div",{className:"flex items-center justify-center w-full",children:[N.column.getCanSort()&&g.jsx(st,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-gray-200 flex-shrink-0",onClick:B=>{var Y;B.stopPropagation(),(Y=N.column.getToggleSortingHandler())==null||Y(B)},children:{asc:g.jsx(XO,{className:"h-4 w-4"}),desc:g.jsx(WO,{className:"h-4 w-4"})}[N.column.getIsSorted()??null]||g.jsx(GT,{className:"h-4 w-4"})}),N.column.getCanFilter()&&g.jsx("div",{children:g.jsx(S2,{column:N.column})})]})})},N.id))},F.id))}),g.jsx("tbody",{children:O.getRowModel().rows.map(F=>g.jsxs(_.Fragment,{children:[g.jsx("tr",{onClick:N=>z(F,F.index,N),className:`transition-colors duration-100 ease-in-out select-none
                                            ${F.getIsSelected()?"bg-blue-100 hover:bg-blue-200":"even:bg-gray-50 odd:bg-white hover:bg-gray-100"}`,children:F.getVisibleCells().map(N=>g.jsx("td",{className:"border-b p-2",children:xJ(N.column.columnDef.cell,N.getContext())},N.id))}),F.getIsExpanded()&&g.jsx("tr",{children:g.jsx("td",{colSpan:F.getVisibleCells().length,className:"p-3 bg-gray-100 border-b border-gray-200 text-left",children:g.jsx(E2,{animal:F.original,columnVisibility:O.options.meta.columnVisibility})})})]},F.id))})]})}),g.jsxs("div",{className:"flex justify-between mt-2 flex-wrap gap-2",children:[g.jsx(C2,{table:O}),Object.keys(d).length>0&&g.jsxs(st,{onClick:W,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(b0,{className:"h-4 w-4"})," Deseleccionar Todo"]}),g.jsx(b2,{table:O})]})]})}var QJ="Separator",fT="horizontal",eQ=["horizontal","vertical"],dj=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=fT,...i}=t,s=tQ(r)?r:fT,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(qe.div,{"data-orientation":s,...l,...i,ref:e})});dj.displayName=QJ;function tQ(t){return eQ.includes(t)}var hj=dj;const fj=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>g.jsx(hj,{ref:i,decorative:n,orientation:e,className:Oe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));fj.displayName=hj.displayName;var Yx=["Enter"," "],nQ=["ArrowDown","PageUp","Home"],mj=["ArrowUp","PageDown","End"],rQ=[...nQ,...mj],iQ={ltr:[...Yx,"ArrowRight"],rtl:[...Yx,"ArrowLeft"]},sQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vd="Menu",[hd,oQ,aQ]=W_(Vd),[Ha,gj]=$i(Vd,[aQ,Cc,dg]),Mg=Cc(),pj=dg(),[lQ,Xa]=Ha(Vd),[cQ,zd]=Ha(Vd),yj=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=Mg(e),[c,d]=_.useState(null),h=_.useRef(!1),f=$n(s),p=Nd(i);return _.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),g.jsx(rw,{...l,children:g.jsx(lQ,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:g.jsx(cQ,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};yj.displayName=Vd;var uQ="MenuAnchor",Pw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Mg(n);return g.jsx(iw,{...i,...r,ref:e})});Pw.displayName=uQ;var kw="MenuPortal",[dQ,xj]=Ha(kw,{forceMount:void 0}),vj=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Xa(kw,e);return g.jsx(dQ,{scope:e,forceMount:n,children:g.jsx(fr,{present:n||s.open,children:g.jsx(Dd,{asChild:!0,container:i,children:r})})})};vj.displayName=kw;var si="MenuContent",[hQ,Aw]=Ha(si),_j=_.forwardRef((t,e)=>{const n=xj(si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Xa(si,t.__scopeMenu),o=zd(si,t.__scopeMenu);return g.jsx(hd.Provider,{scope:t.__scopeMenu,children:g.jsx(fr,{present:r||s.open,children:g.jsx(hd.Slot,{scope:t.__scopeMenu,children:o.modal?g.jsx(fQ,{...i,ref:e}):g.jsx(mQ,{...i,ref:e})})})})}),fQ=_.forwardRef((t,e)=>{const n=Xa(si,t.__scopeMenu),r=_.useRef(null),i=mt(e,r);return _.useEffect(()=>{const s=r.current;if(s)return aw(s)},[]),g.jsx(Mw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),mQ=_.forwardRef((t,e)=>{const n=Xa(si,t.__scopeMenu);return g.jsx(Mw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),gQ=Aa("MenuContent.ScrollLock"),Mw=_.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,disableOutsideScroll:v,...w}=t,C=Xa(si,n),b=zd(si,n),R=Mg(n),T=pj(n),P=oQ(n),[k,M]=_.useState(null),L=_.useRef(null),I=mt(e,L,C.onContentChange),O=_.useRef(0),W=_.useRef(""),z=_.useRef(0),X=_.useRef(null),G=_.useRef("right"),Z=_.useRef(0),q=v?xg:_.Fragment,H=v?{as:gQ,allowPinchZoom:!0}:void 0,F=B=>{var ae,xe;const Y=W.current+B,j=P().filter(Se=>!Se.disabled),D=document.activeElement,re=(ae=j.find(Se=>Se.ref.current===D))==null?void 0:ae.textValue,ie=j.map(Se=>Se.textValue),ce=TQ(ie,Y,re),ge=(xe=j.find(Se=>Se.textValue===ce))==null?void 0:xe.ref.current;(function Se(Ee){W.current=Ee,window.clearTimeout(O.current),Ee!==""&&(O.current=window.setTimeout(()=>Se(""),1e3))})(Y),ge&&setTimeout(()=>ge.focus())};_.useEffect(()=>()=>window.clearTimeout(O.current),[]),X_();const N=_.useCallback(B=>{var j,D;return G.current===((j=X.current)==null?void 0:j.side)&&kQ(B,(D=X.current)==null?void 0:D.area)},[]);return g.jsx(hQ,{scope:n,searchRef:W,onItemEnter:_.useCallback(B=>{N(B)&&B.preventDefault()},[N]),onItemLeave:_.useCallback(B=>{var Y;N(B)||((Y=L.current)==null||Y.focus(),M(null))},[N]),onTriggerLeave:_.useCallback(B=>{N(B)&&B.preventDefault()},[N]),pointerGraceTimerRef:z,onPointerGraceIntentChange:_.useCallback(B=>{X.current=B},[]),children:g.jsx(q,{...H,children:g.jsx(fg,{asChild:!0,trapped:i,onMountAutoFocus:be(s,B=>{var Y;B.preventDefault(),(Y=L.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Fd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:y,children:g.jsx(aI,{asChild:!0,...T,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:be(c,B=>{b.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(sw,{role:"menu","aria-orientation":"vertical","data-state":Lj(C.open),"data-radix-menu-content":"",dir:b.dir,...R,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:be(w.onKeyDown,B=>{const j=B.target.closest("[data-radix-menu-content]")===B.currentTarget,D=B.ctrlKey||B.altKey||B.metaKey,re=B.key.length===1;j&&(B.key==="Tab"&&B.preventDefault(),!D&&re&&F(B.key));const ie=L.current;if(B.target!==ie||!rQ.includes(B.key))return;B.preventDefault();const ge=P().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);mj.includes(B.key)&&ge.reverse(),EQ(ge)}),onBlur:be(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(O.current),W.current="")}),onPointerMove:be(t.onPointerMove,fd(B=>{const Y=B.target,j=Z.current!==B.clientX;if(B.currentTarget.contains(Y)&&j){const D=B.clientX>Z.current?"right":"left";G.current=D,Z.current=B.clientX}}))})})})})})})});_j.displayName=si;var pQ="MenuGroup",Iw=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{role:"group",...r,ref:e})});Iw.displayName=pQ;var yQ="MenuLabel",wj=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{...r,ref:e})});wj.displayName=yQ;var Tm="MenuItem",mT="menu.itemSelect",Ig=_.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=_.useRef(null),o=zd(Tm,t.__scopeMenu),l=Aw(Tm,t.__scopeMenu),c=mt(e,s),d=_.useRef(!1),h=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(mT,{bubbles:!0,cancelable:!0});f.addEventListener(mT,y=>r==null?void 0:r(y),{once:!0}),tI(f,p),p.defaultPrevented?d.current=!1:o.onClose()}};return g.jsx(Sj,{...i,ref:c,disabled:n,onClick:be(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),d.current=!0},onPointerUp:be(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:be(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Yx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ig.displayName=Tm;var Sj=_.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Aw(Tm,n),l=pj(n),c=_.useRef(null),d=mt(e,c),[h,f]=_.useState(!1),[p,y]=_.useState("");return _.useEffect(()=>{const v=c.current;v&&y((v.textContent??"").trim())},[s.children]),g.jsx(hd.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:g.jsx(lI,{asChild:!0,...l,focusable:!r,children:g.jsx(qe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:be(t.onPointerMove,fd(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,fd(v=>o.onItemLeave(v))),onFocus:be(t.onFocus,()=>f(!0)),onBlur:be(t.onBlur,()=>f(!1))})})})}),xQ="MenuCheckboxItem",Cj=_.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return g.jsx(Pj,{scope:t.__scopeMenu,checked:n,children:g.jsx(Ig,{role:"menuitemcheckbox","aria-checked":Pm(n)?"mixed":n,...i,ref:e,"data-state":jw(n),onSelect:be(i.onSelect,()=>r==null?void 0:r(Pm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Cj.displayName=xQ;var bj="MenuRadioGroup",[vQ,_Q]=Ha(bj,{value:void 0,onValueChange:()=>{}}),Ej=_.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=$n(r);return g.jsx(vQ,{scope:t.__scopeMenu,value:n,onValueChange:s,children:g.jsx(Iw,{...i,ref:e})})});Ej.displayName=bj;var Rj="MenuRadioItem",Tj=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=_Q(Rj,t.__scopeMenu),s=n===i.value;return g.jsx(Pj,{scope:t.__scopeMenu,checked:s,children:g.jsx(Ig,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":jw(s),onSelect:be(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});Tj.displayName=Rj;var Nw="MenuItemIndicator",[Pj,wQ]=Ha(Nw,{checked:!1}),kj=_.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=wQ(Nw,n);return g.jsx(fr,{present:r||Pm(s.checked)||s.checked===!0,children:g.jsx(qe.span,{...i,ref:e,"data-state":jw(s.checked)})})});kj.displayName=Nw;var SQ="MenuSeparator",Aj=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Aj.displayName=SQ;var CQ="MenuArrow",Mj=_.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Mg(n);return g.jsx(ow,{...i,...r,ref:e})});Mj.displayName=CQ;var bQ="MenuSub",[ote,Ij]=Ha(bQ),Cu="MenuSubTrigger",Nj=_.forwardRef((t,e)=>{const n=Xa(Cu,t.__scopeMenu),r=zd(Cu,t.__scopeMenu),i=Ij(Cu,t.__scopeMenu),s=Aw(Cu,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,d={__scopeMenu:t.__scopeMenu},h=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>h,[h]),_.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),g.jsx(Pw,{asChild:!0,...d,children:g.jsx(Sj,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Lj(n.open),...t,ref:zm(e,i.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,fd(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:be(t.onPointerLeave,fd(f=>{var y,v;h();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const w=(v=n.content)==null?void 0:v.dataset.side,C=w==="right",b=C?-5:5,R=p[C?"left":"right"],T=p[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:R,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:R,y:p.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,f=>{var y;const p=s.searchRef.current!=="";t.disabled||p&&f.key===" "||iQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});Nj.displayName=Cu;var jj="MenuSubContent",Fj=_.forwardRef((t,e)=>{const n=xj(si,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Xa(si,t.__scopeMenu),o=zd(si,t.__scopeMenu),l=Ij(jj,t.__scopeMenu),c=_.useRef(null),d=mt(e,c);return g.jsx(hd.Provider,{scope:t.__scopeMenu,children:g.jsx(fr,{present:r||s.open,children:g.jsx(hd.Slot,{scope:t.__scopeMenu,children:g.jsx(Mw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:be(t.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:be(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),p=sQ[o.dir].includes(h.key);f&&p&&(s.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});Fj.displayName=jj;function Lj(t){return t?"open":"closed"}function Pm(t){return t==="indeterminate"}function jw(t){return Pm(t)?"indeterminate":t?"checked":"unchecked"}function EQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function RQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function TQ(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=RQ(t,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function PQ(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],d=l.x,h=l.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function kQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return PQ(n,e)}function fd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var AQ=yj,MQ=Pw,IQ=vj,NQ=_j,jQ=Iw,FQ=wj,LQ=Ig,DQ=Cj,OQ=Ej,VQ=Tj,zQ=kj,$Q=Aj,BQ=Mj,GQ=Nj,UQ=Fj,Ng="DropdownMenu",[WQ,ate]=$i(Ng,[gj]),mr=gj(),[HQ,Dj]=WQ(Ng),Oj=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=mr(e),d=_.useRef(null),[h,f]=Oo({prop:i,defaultProp:s??!1,onChange:o,caller:Ng});return g.jsx(HQ,{scope:e,triggerId:Ai(),triggerRef:d,contentId:Ai(),open:h,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),modal:l,children:g.jsx(AQ,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};Oj.displayName=Ng;var Vj="DropdownMenuTrigger",zj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Dj(Vj,n),o=mr(n);return g.jsx(MQ,{asChild:!0,...o,children:g.jsx(qe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:zm(e,s.triggerRef),onPointerDown:be(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:be(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});zj.displayName=Vj;var XQ="DropdownMenuPortal",$j=t=>{const{__scopeDropdownMenu:e,...n}=t,r=mr(e);return g.jsx(IQ,{...r,...n})};$j.displayName=XQ;var Bj="DropdownMenuContent",Gj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Dj(Bj,n),s=mr(n),o=_.useRef(!1);return g.jsx(NQ,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:be(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:be(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Gj.displayName=Bj;var KQ="DropdownMenuGroup",YQ=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(jQ,{...i,...r,ref:e})});YQ.displayName=KQ;var ZQ="DropdownMenuLabel",Uj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(FQ,{...i,...r,ref:e})});Uj.displayName=ZQ;var qQ="DropdownMenuItem",Wj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(LQ,{...i,...r,ref:e})});Wj.displayName=qQ;var JQ="DropdownMenuCheckboxItem",Hj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(DQ,{...i,...r,ref:e})});Hj.displayName=JQ;var QQ="DropdownMenuRadioGroup",eee=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(OQ,{...i,...r,ref:e})});eee.displayName=QQ;var tee="DropdownMenuRadioItem",Xj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(VQ,{...i,...r,ref:e})});Xj.displayName=tee;var nee="DropdownMenuItemIndicator",Kj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(zQ,{...i,...r,ref:e})});Kj.displayName=nee;var ree="DropdownMenuSeparator",Yj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx($Q,{...i,...r,ref:e})});Yj.displayName=ree;var iee="DropdownMenuArrow",see=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(BQ,{...i,...r,ref:e})});see.displayName=iee;var oee="DropdownMenuSubTrigger",Zj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(GQ,{...i,...r,ref:e})});Zj.displayName=oee;var aee="DropdownMenuSubContent",qj=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mr(n);return g.jsx(UQ,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qj.displayName=aee;var lee=Oj,cee=zj,uee=$j,Jj=Gj,Qj=Uj,eF=Wj,tF=Hj,nF=Xj,rF=Kj,iF=Yj,sF=Zj,oF=qj;const dee=lee,hee=cee,fee=_.forwardRef(({className:t,inset:e,children:n,...r},i)=>g.jsxs(sF,{ref:i,className:Oe("flex cursor-default select-none items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,g.jsx(VT,{className:"ml-auto"})]}));fee.displayName=sF.displayName;const mee=_.forwardRef(({className:t,...e},n)=>g.jsx(oF,{ref:n,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));mee.displayName=oF.displayName;const aF=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(uee,{children:g.jsx(Jj,{ref:r,sideOffset:e,className:Oe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));aF.displayName=Jj.displayName;const jl=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(eF,{ref:r,className:Oe("relative flex cursor-default select-none items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));jl.displayName=eF.displayName;const gee=_.forwardRef(({className:t,children:e,checked:n,...r},i)=>g.jsxs(tF,{ref:i,className:Oe("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(rF,{children:g.jsx(yd,{className:"h-4 w-4"})})}),e]}));gee.displayName=tF.displayName;const pee=_.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(nF,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-xl py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(rF,{children:g.jsx(CV,{className:"h-2 w-2 fill-current"})})}),e]}));pee.displayName=nF.displayName;const yee=_.forwardRef(({className:t,inset:e,...n},r)=>g.jsx(Qj,{ref:r,className:Oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));yee.displayName=Qj.displayName;const Zx=_.forwardRef(({className:t,...e},n)=>g.jsx(iF,{ref:n,className:Oe("-mx-1 my-1 h-px bg-muted",t),...e}));Zx.displayName=iF.displayName;function xee({table:t=null,filename:e="data",entityType:n}){const r=(l,c)=>{const d=window.URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download=c,document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(d),yt.success("Archivo exportado correctamente.")},i=async l=>{let c=[];if(t)if(l==="selected"){if(c=t.getSelectedRowModel().rows.map(h=>h.original.id||h.original.animal_id),c.length===0){yt.warning("No hay filas seleccionadas para exportar.",{description:"Por favor, selecciona al menos una fila.",icon:g.jsx(ha,{className:"h-4 w-4 text-orange-500"})});return}}else l==="page"&&(c=t.getRowModel().rows.map(h=>h.original.id||h.original.animal_id));const d={globalFilter:t?t.getState().globalFilter:null,ids:c};try{let h;if(n==="animals")h=await C6(l,d);else if(n==="collares")h=await X9(l,d);else throw new Error("Tipo de entidad no soportado para exportacin.");r(h,`${e}_${l}.csv`)}catch(h){console.error(`Error al exportar ${n} (${l}):`,h),yt.error(`Error al exportar ${n}.`,{description:h.message,icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},s=async()=>{try{let l;if(n==="animals")l=await rA();else if(n==="collares")l=await FM();else throw new Error("Tipo de entidad no soportado para plantilla.");r(l,`plantilla_${n}.csv`)}catch(l){console.error(`Error al descargar plantilla de ${n}:`,l),yt.error("Error al descargar la plantilla.",{description:l.message,icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},o=t&&typeof t=="object"&&t.getFilteredRowModel&&t.getRowModel&&t.getSelectedRowModel;return g.jsxs(dee,{children:[g.jsx(hee,{asChild:!0,children:g.jsxs(st,{className:"gap-2 bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(EV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Exportar"})]})}),g.jsxs(aF,{align:"end",className:"w-[180px] bg-white",children:[g.jsx(jl,{onClick:()=>i("all"),children:"Exportar Todo"}),o&&g.jsxs(g.Fragment,{children:[g.jsx(jl,{onClick:()=>i("filtered"),children:"Exportar Filtrado"}),g.jsx(jl,{onClick:()=>i("page"),children:"Exportar Pgina"}),t.getIsSomeRowsSelected()||t.getIsAllRowsSelected()?g.jsxs(g.Fragment,{children:[g.jsx(Zx,{}),g.jsxs(jl,{onClick:()=>i("selected"),children:["Exportar Seleccionado (",t.getSelectedRowModel().rows.length,")"]})]}):null]}),g.jsx(Zx,{}),g.jsxs(jl,{onClick:s,className:"flex items-center gap-2",children:[g.jsx(BT,{className:"h-4 w-4 text-blue-800"})," Descargar Plantilla"]})]})]})}function vee({entityType:t,onImportSuccess:e}){const[n,r]=_.useState(!1),[i,s]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(null),h=y=>{const v=y.target.files?y.target.files[0]:null;s(v),d(null)},f=async()=>{if(!i){yt.error("Por favor, selecciona un archivo CSV para importar.");return}l(!0),d(null);try{let y;if(t==="animals")y=await b6(i);else if(t==="collares")y=await K9(i);else throw new Error("Tipo de entidad no soportado para importacin.");d(y),y.status==="success"?(yt.success("Importacin completada con xito.",{description:y.message,icon:g.jsx(la,{className:"h-4 w-4 text-green-500"})}),r(!1),s(null),e&&e()):y.status==="partial_success"?yt.warning("Importacin completada con algunos errores.",{description:y.message,icon:g.jsx(ha,{className:"h-4 w-4 text-orange-500"}),duration:5e3}):yt.error("La importacin fall.",{description:y.message||"Ocurri un error inesperado en el servidor.",icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}catch(y){console.error(`Error al importar ${t}:`,y),yt.error("Error al iniciar la importacin.",{description:y.message,icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})}),d({summary:{total_processed:0,created:0,updated:0,errors_count:1},errors:[{row:"N/A",errors:[{field:"Archivo",value:i==null?void 0:i.name,message:y.message}]}],details:[]})}finally{l(!1)}},p=async()=>{l(!0);try{let y;if(t==="animals")y=await rA();else if(t==="collares")y=await FM();else throw new Error("Tipo de entidad no soportado para plantilla.");const v=window.URL.createObjectURL(y),w=document.createElement("a");w.href=v,w.download=`plantilla_${t}.csv`,document.body.appendChild(w),w.click(),w.remove(),window.URL.revokeObjectURL(v),yt.success(`Plantilla de ${t} descargada correctamente.`)}catch(y){console.error(`Error al descargar plantilla de ${t}:`,y),yt.error("Error al descargar la plantilla.",{description:y.message,icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}finally{l(!1)}};return g.jsxs(H2,{open:n,onOpenChange:r,children:[g.jsx(X2,{asChild:!0,children:g.jsxs(st,{className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(IC,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Importar"})]})}),g.jsxs(ww,{className:"w-full max-w-lg sm:max-w-xl bg-white p-4",children:[g.jsxs(Sw,{children:[g.jsxs(Cw,{className:"flex items-center gap-2",children:[g.jsx(IC,{className:"h-6 w-6 text-yellow-700"})," Importar ",t==="animals"?"Animales":"Collares"]}),g.jsxs(Z2,{children:["Sube un archivo CSV para importar o actualizar ",t==="animals"?"animales":"collares",".",g.jsxs(st,{variant:"link",onClick:p,className:"p-0 h-auto text-blue-800 hover:text-blue-800 flex items-center justify-start",disabled:o,children:[g.jsx(BT,{className:"h-4 w-4 mr-1"})," Descargar Plantilla"]})]})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[g.jsx(Eg,{htmlFor:"file",className:"text-right",children:"Archivo CSV"}),g.jsx(Ht,{id:"file",type:"file",accept:".csv",onChange:h,className:"col-span-3",disabled:o})]}),i&&g.jsx("p",{className:"text-sm text-muted-foreground text-center",children:g.jsx("span",{className:"font-semibold",children:i.name})}),c&&g.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-gray-50",children:[g.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Resumen de Importacin"}),g.jsxs("p",{className:"text-sm font-semibold",children:["Total procesados: ",c.summary.total_processed]}),g.jsxs("p",{className:"text-sm font-semibold",children:["Creados: ",c.summary.created]}),g.jsxs("p",{className:"text-sm font-semibold",children:["Actualizados: ",c.summary.updated]}),g.jsxs("p",{className:"text-sm font-semibold",children:["Errores: ",c.summary.errors_count]}),c.summary.errors_count>0&&g.jsxs("div",{className:"mt-4",children:[g.jsxs("h5",{className:"font-semibold text-sm text-red-600 mb-2 flex items-center gap-1",children:[g.jsx(kC,{className:"h-4 w-4"})," Detalles de Errores:"]}),g.jsx(dd,{className:"h-40 border rounded-xl p-2 bg-white",children:c.errors.map((y,v)=>g.jsxs("div",{className:"mb-2 text-xs text-red-700 border-b pb-1 last:border-b-0",children:[g.jsxs("p",{className:"font-bold",children:["Fila ",y.row,":"]}),g.jsx("ul",{className:"list-disc pl-4",children:y.errors.map((w,C)=>g.jsxs("li",{children:[g.jsxs("span",{className:"font-medium",children:[w.field,":"]})," ",w.message,' (Valor: "',w.value,'")']},C))})]},v))})]}),c.details&&c.details.length>0&&g.jsxs("div",{className:"mt-4",children:[g.jsxs("h5",{className:"font-semibold text-sm text-green-700 mb-2 flex items-center gap-1",children:[g.jsx(kC,{className:"h-4 w-4"})," Detalles:"]}),g.jsx(dd,{className:"h-40 border rounded-xl p-2 bg-white text-xs text-gray-800",children:c.details.map((y,v)=>g.jsx("div",{className:"mb-2 border-b pb-1 last:border-b-0",children:y},v))})]})]})]}),g.jsxs(Y2,{className:"flex flex-col sm:flex-row justify-between sm:space-x-2",children:[g.jsx(st,{variant:"outline",onClick:()=>{r(!1),s(null),d(null)},className:"gap-2 border-gray-300 text-gray-700 hover:bg-gray-100 shadow-md w-full sm:w-auto",children:"Cerrar"}),g.jsxs(st,{onClick:f,disabled:!i||o,variant:"default",className:"gap-2 bg-yellow-700 hover:bg-yellow-800 text-white shadow-md w-full sm:w-auto",children:[o&&g.jsx(GV,{className:"mr-2 h-4 w-4 animate-spin"}),"Importar Archivo"]})]})]})]})}const _ee=U_({identificadorBase:Qi().min(1,"El identificador base es obligatorio.").max(4,"El identificador no puede exceder 4 caracteres."),cantidad:qn.number().int().min(1,"La cantidad debe ser al menos 1.").max(500,"Mximo 500 collares por lote.")}),wee=(t,e)=>{const n=(t||"").toLowerCase(),r=n==="activo";let i=g.jsx(Ci,{className:"h-4 w-4"}),s="Desconocido",o="bg-gray-100 text-gray-700";if(r&&typeof e=="number")e>=70?(i=g.jsx(av,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800"):e>=30?(i=g.jsx(lv,{className:"h-4 w-4 text-yellow-500"}),o="bg-yellow-100 text-yellow-800"):(i=g.jsx(Vu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800"),s=`Activo (${e}%)`;else switch(n){case"disponible":i=g.jsx(uv,{className:"h-4 w-4 text-green-600"}),o="bg-green-100 text-green-800",s="Disponible";break;case"sin bateria":i=g.jsx(Vu,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Sin batera";break;case"defectuoso":i=g.jsx(pn,{className:"h-4 w-4 text-red-700"}),o="bg-red-100 text-red-800",s="Defectuoso";break;default:s=n.charAt(0).toUpperCase()+n.slice(1);break}return g.jsxs(e_,{className:Oe("flex items-center gap-1 px-2.5 py-1 rounded-xl text-xs font-medium whitespace-nowrap max-w-[70%] truncate",o),children:[i,s]})};function See({collares:t=[],onCreateBatch:e,onDelete:n,onDeleteSelected:r,onEditCollar:i,fullCollarDataForExport:s=[],onImportSuccess:o,globalFilter:l,setGlobalFilter:c,rowSelection:d,setRowSelection:h,sorting:f,setSorting:p,pagination:y,setPagination:v,columnVisibility:w,setColumnVisibility:C}){const b=$_({resolver:B_(_ee),defaultValues:{identificadorBase:"",cantidad:1}}),R=_.useCallback(Z=>{e(Z.identificadorBase,Z.cantidad),b.reset({identificadorBase:"",cantidad:1})},[e,b]),T=_.useMemo(()=>[{accessorKey:"id"},{accessorKey:"codigo"},{accessorKey:"prefijo"},{accessorKey:"estado"},{accessorKey:"bateria"},{accessorKey:"animal_id"},{accessorKey:"animal_nombre"}],[]),P=_2({data:t,columns:T,state:{globalFilter:l,rowSelection:d,sorting:f,pagination:y,columnVisibility:w},onGlobalFilterChange:Z=>{v(q=>({...q,pageIndex:0})),c(Z)},onRowSelectionChange:h,onSortingChange:p,onPaginationChange:v,onColumnVisibilityChange:C,getCoreRowModel:m2(),getFilteredRowModel:y2(),getPaginationRowModel:x2(),getSortedRowModel:v2(),enableRowSelection:!0,autoResetPageIndex:!1,globalFilterFn:(Z,q,H)=>{var j,D,re;const F=String(H).toLowerCase(),N=((j=Z.original.codigo)==null?void 0:j.toLowerCase())||"",B=((D=Z.original.estado)==null?void 0:D.toLowerCase())||"",Y=((re=Z.original.animal_nombre)==null?void 0:re.toLowerCase())||"";return N.includes(F)||B.includes(F)||Y.includes(F)}}),k=P.getRowModel().rows,[M,L]=_.useState(null),I=_.useCallback(()=>{h({}),L(null)},[]);_.useEffect(()=>{const Z=q=>{q.key==="Escape"&&I()};return window.addEventListener("keydown",Z),()=>{window.removeEventListener("keydown",Z)}},[I]);const O=_.useCallback(()=>{P.getIsAllPageRowsSelected()?P.toggleAllPageRowsSelected(!1):P.toggleAllPageRowsSelected(!0)},[P]),W=_.useCallback(()=>P.getIsAllPageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx(Us,{className:"h-4 w-4"}),variant:"outline"}:P.getIsSomePageRowsSelected()?{text:"Deseleccionar Pgina",icon:g.jsx(UT,{className:"h-4 w-4"}),variant:"outline"}:{text:"Seleccionar Pgina",icon:g.jsx(yd,{className:"h-4 w-4"}),variant:"outline"},[P]),z=(Z,q,H)=>{H.preventDefault();let F={...d};if(H.shiftKey&&M!==null){const N=k.map(j=>j.id),[B,Y]=[M,q].sort((j,D)=>j-D);for(let j=B;j<=Y;j++)F[N[j]]=!0}else H.ctrlKey||H.metaKey?(F[Z.id]=!F[Z.id],L(q)):(F[Z.id]&&Object.keys(F).length===1?delete F[Z.id]:F={[Z.id]:!0},L(q));h(F)},X=P.getState().globalFilter||P.getAllColumns().some(Z=>Z.getIsFiltered()),G=W();return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(xV,{className:"h-5 w-5 text-purple-600"}),"Registrar Nuevos Collares"]}),g.jsx(fw,{...b,children:g.jsxs("form",{onSubmit:b.handleSubmit(R),className:"flex flex-col md:flex-row md:items-end gap-4 flex-wrap",children:[g.jsx(Ot,{control:b.control,name:"identificadorBase",render:({field:Z})=>g.jsxs(Nt,{className:"flex-grow min-w-[160px]",children:[g.jsx(Bt,{children:"Identificador Base"}),g.jsx(jt,{children:g.jsx(Ht,{placeholder:"Ej. AFGH",...Z,className:b.formState.errors.identificadorBase?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(hn,{})]})}),g.jsx(Ot,{control:b.control,name:"cantidad",render:({field:Z})=>g.jsxs(Nt,{className:"w-full sm:w-40",children:[g.jsx(Bt,{children:"Cantidad"}),g.jsx(jt,{children:g.jsx(Ht,{type:"number",placeholder:"Ej. 100",...Z,onChange:q=>Z.onChange(q.target.value===""?"":Number(q.target.value)),className:b.formState.errors.cantidad?"border-red-500 focus-visible:ring-red-500":""})}),g.jsx(hn,{})]})}),g.jsxs(st,{type:"submit",className:"flex-shrink-0 gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-sm h-10 px-4",children:[g.jsx(MV,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden sm:inline",children:"Crear Collares"})]})]})})]}),g.jsx(fj,{}),g.jsxs("section",{className:"space-y-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(w4,{className:"h-5 w-5 text-purple-600"}),"Collares Registrados"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-2 gap-4 flex-wrap",children:[g.jsx(w2,{globalFilter:l,setGlobalFilter:c}),g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[P.getFilteredRowModel().rows.length>0&&g.jsxs(st,{onClick:O,variant:G.variant,className:"gap-2 text-gray-700 border-gray-300 hover:bg-gray-100 w-full sm:w-auto",children:[G.icon," ",g.jsx("span",{className:"hidden lg:inline",children:G.text})]}),X&&g.jsxs(st,{onClick:()=>{P.resetGlobalFilter(),P.getAllColumns().forEach(Z=>Z.setFilterValue(void 0)),h({})},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(pn,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Limpiar Filtros"})]}),Object.keys(d).length>0&&g.jsxs(st,{onClick:()=>{const Z=P.getSelectedRowModel().rows.map(q=>q.original.id);r(Z)},variant:"ghost",className:"gap-2 bg-red-700 hover:bg-red-800 text-white shadow-md w-full sm:w-auto",children:[g.jsx(Fr,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Eliminar Seleccionado"})]}),g.jsx(xee,{table:P,filename:"collares",entityType:"collares"}),g.jsx(vee,{entityType:"collares",onImportSuccess:o})]})]}),g.jsx(dd,{className:"max-h-[80vh] w-full overflow-y-auto rounded-xl p-3 bg-gray-50",children:k.length===0?g.jsxs("div",{className:"text-center text-gray-500 py-12",children:[g.jsx(b0,{className:"h-10 w-10 mx-auto mb-3 text-gray-400"}),g.jsx("p",{className:"text-lg font-medium",children:t.length>0&&P.getState().globalFilter?"No se encontraron collares con los filtros aplicados.":t.length>0?"No hay collares en esta pgina con la paginacin actual.":"No hay collares registrados."}),g.jsx("p",{className:"text-sm",children:t.length>0&&P.getState().globalFilter?"Intenta ajustar tu bsqueda.":t.length>0?"Ajusta las filas por pgina o navega a otra pgina.":"Utiliza el formulario de arriba para aadir uno."})]}):g.jsx("ul",{className:"grid w-full p-1 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:k.map(Z=>{const q=Z.original,H=Z.getIsSelected();return g.jsxs("li",{className:Oe("flex flex-col justify-center p-4 rounded-xl bg-white shadow-sm hover:shadow-md transition-shadow duration-150 min-h-[120px] cursor-pointer relative select-none",H?"border-blue-500 ring-2 ring-blue-500 bg-blue-50":"border-gray-200"),onClick:F=>z(Z,Z.index,F),children:[g.jsxs("div",{className:"space-y-1 mb-2",children:[g.jsx("div",{className:"font-semibold text-gray-900 text-base flex items-center gap-2",children:g.jsxs("span",{children:["Cdigo: ",q.codigo]})}),g.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:q.animal_nombre?g.jsxs("span",{className:"flex items-center gap-1",children:["Asignado a: ",g.jsx("b",{className:"text-blue-700",children:q.animal_nombre})]}):g.jsx("span",{className:"text-muted-foreground italic",children:"No asignado"})})]}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 mt-2",children:[wee(q.estado,q.bateria),g.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[g.jsx(st,{size:"icon",variant:"ghost",onClick:F=>{F.stopPropagation(),i(q.id)},title:"Editar collar",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:g.jsx(hv,{className:"h-4 w-4"})}),g.jsx(st,{size:"icon",variant:"ghost",onClick:F=>{F.stopPropagation(),n(q)},title:"Eliminar collar",className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:g.jsx(Fr,{className:"h-4 w-4"})})]})]})]},q.id)})})}),g.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mt-4",children:[g.jsx(C2,{table:P}),Object.keys(d).length>0&&g.jsxs(st,{onClick:I,variant:"ghost",className:"gap-2 text-red-600 hover:text-red-700 w-full sm:w-auto",children:[g.jsx(b0,{className:"h-4 w-4"})," ",g.jsx("span",{className:"hidden lg:inline",children:"Deseleccionar Todo"})]}),g.jsx(b2,{table:P})]})]})]})}const Ts=Tq(),lF="animalTableState";function yu(){try{const t=JSON.parse(sessionStorage.getItem(lF));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnFilters:(t==null?void 0:t.columnFilters)||[],columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnFilters:[],columnVisibility:{},rowSelection:{}}}}const cF="collarTableState";function Ef(){try{const t=JSON.parse(sessionStorage.getItem(cF));return{globalFilter:(t==null?void 0:t.globalFilter)||"",sorting:(t==null?void 0:t.sorting)||[],pagination:(t==null?void 0:t.pagination)||{pageIndex:0,pageSize:10},columnVisibility:(t==null?void 0:t.columnVisibility)||{},rowSelection:{}}}catch{return{globalFilter:"",sorting:[],pagination:{pageIndex:0,pageSize:10},columnVisibility:{},rowSelection:{}}}}function Cee(){var Mn,ci,Ye;const[t,e]=_.useState([]),[n,r]=_.useState([]),[i,s]=_.useState([]),[o,l]=_.useState({tipos:[],razas:[],sexos:[],parcelas:[],especies:[],estados_reproductivos:[],acronimos:[]}),[c,d]=_.useState([]),[h,f]=_.useState({}),[p,y]=_.useState({}),[v,w]=_.useState(!1),[C,b]=_.useState(!1),[R,T]=_.useState(!1),[P,k]=_.useState({abierto:!1,animalId:null}),[M,L]=_.useState([]),[I,O]=_.useState(null),[W,z]=_.useState({abierto:!1,animal:null}),[X,G]=_.useState({abierto:!1,collar:null}),[Z,q]=_.useState({abierto:!1,ids:[]}),[H,F]=_.useState({abierto:!1,ids:[]}),N=_.useRef(null),B=_.useRef(null),Y=_.useRef({animals:0,collares:0}),[j,D]=_.useState(yu().globalFilter),[re,ie]=_.useState(yu().sorting),[ce,ge]=_.useState(yu().pagination),[ae,xe]=_.useState(yu().columnFilters),[Se,Ee]=_.useState(yu().columnVisibility),[Xe,Ve]=_.useState({}),[wt,xt]=_.useState(Ef().globalFilter),[Dt,Vt]=_.useState(Ef().sorting),[Ft,An]=_.useState(Ef().pagination),[bt,$]=_.useState(Ef().columnVisibility),[J,ee]=_.useState({}),pe=he=>{ge(de=>({...de,pageIndex:0})),D(he)},me=he=>{An(de=>({...de,pageIndex:0})),xt(he)},ne=_.useCallback(async()=>{N.current&&(Y.current.animals=N.current.scrollTop),B.current&&(Y.current.collares=B.current.scrollTop);try{const[he,de,Ke,ft,nt,gt]=await Promise.all([m6(),V9(),ja(),y6(),p6(),z9()]),Zt=new Map;de.forEach(lt=>{lt.animal_id&&Zt.set(lt.animal_id,{id:lt.id,codigo:lt.codigo,estado:lt.estado,bateria:lt.bateria,ultima_actividad:lt.ultima_actividad})});const at=he.map(lt=>{const wn=Zt.get(lt.animal_id);return{...lt,collar_asignado:wn||null,sexo_nombre:lt.sexo,especie_nombre:lt.especie,tipo_nombre:lt.tipo,raza_nombre:lt.raza,estado_reproductivo_nombre:lt.estado_reproductivo_nombre,parcela_nombre:lt.parcela_nombre,fecha_nacimiento:lt.fecha_nacimiento}});e(at),r(de);const vt=Object.values(Ke.parcelas||{}).flat();s(vt),l({...ft,acronimos:nt.acronimos}),d(gt)}catch(he){console.error("Error al cargar datos iniciales:",he),yt.error("Error al cargar los datos.",{description:"Por favor, intente recargar la pgina.",icon:g.jsx(ha,{className:"h-4 w-4 text-red-500"})})}finally{N.current&&(N.current.scrollTop=Y.current.animals),B.current&&(B.current.scrollTop=Y.current.collares)}},[]);_.useEffect(()=>{const he=localStorage.getItem("token");console.log(he),he&&ne()},[ne]);const ve=()=>{f({}),w(!1),b(!0)},Fe=_.useCallback(async he=>{var de,Ke,ft,nt,gt,Zt,at,vt,lt,wn;try{const Rt=await x6(he),Ec={...Rt,parcela_id:((de=Rt.parcela_id)==null?void 0:de.toString())||"",raza_id:Rt.raza_id!=null?Rt.raza_id.toString():"",sexo_id:Rt.sexo_id!=null?Rt.sexo_id:1,tipo_id:Rt.tipo_id!=null?Rt.tipo_id.toString():"",especie_id:Rt.especie_id!=null?Rt.especie_id.toString():"",estado_reproductivo_id:Rt.estado_reproductivo_id!=null?Rt.estado_reproductivo_id.toString():"",peso:((Ke=Rt.peso)==null?void 0:Ke.toString())||"",altura_cruz:((ft=Rt.altura_cruz)==null?void 0:ft.toString())||"",longitud_tronco:((nt=Rt.longitud_tronco)==null?void 0:nt.toString())||"",perimetro_toracico:((gt=Rt.perimetro_toracico)==null?void 0:gt.toString())||"",ancho_grupa:((Zt=Rt.ancho_grupa)==null?void 0:Zt.toString())||"",longitud_grupa:((at=Rt.longitud_grupa)==null?void 0:at.toString())||"",numero_partos:((vt=Rt.numero_partos)==null?void 0:vt.toString())||"",intervalo_partos:((lt=Rt.intervalo_partos)==null?void 0:lt.toString())||"",fertilidad:((wn=Rt.fertilidad)==null?void 0:wn.toString())||"50",fecha_nacimiento:Rt.fecha_nacimiento?new Date(Rt.fecha_nacimiento).toISOString().split("T")[0]:"",ubicacion_sensor:Rt.ubicacion_sensor||""};f(Ec),w(!0),b(!0)}catch(Rt){console.error("Error al cargar ficha de animal:",Rt),yt.error("No se pudo cargar la ficha del animal.",{description:"Por favor, intente de nuevo.",icon:g.jsx(ha,{className:"h-4 w-4 text-red-500"})})}},[]),ze=async he=>{try{v?(await _6(he.animal_id,he),yt.success("Animal actualizado.",{description:`Los datos de ${he.nombre} han sido guardados.`,icon:g.jsx(la,{className:"h-4 w-4 text-green-500"})})):(await v6(he),yt.success("Animal creado.",{description:`El animal ${he.nombre} ha sido aadido.`,icon:g.jsx(la,{className:"h-4 w-4 text-green-500"})})),b(!1),f({}),await ne()}catch(de){console.error("Error al guardar animal:",de),yt.error("Error al guardar el animal.",{description:de.message||"Hubo un problema al procesar la solicitud.",icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},Et=async()=>{if(W.animal)try{await w6(W.animal.animal_id),yt.success("Animal eliminado.",{description:`${W.animal.nombre} ha sido eliminado correctamente.`,icon:g.jsx(Fr,{className:"h-4 w-4 text-red-500"})}),z({abierto:!1,animal:null}),await ne()}catch(he){console.error("Error al eliminar animal:",he),yt.error("Error al eliminar el animal.",{description:he.message||"No se pudo completar la eliminacin. Si est asignado a un collar, se desvincular automticamente.",icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},zt=async(he,de)=>{try{await U9({identificador:he,cantidad:de}),yt.success("Collares creados.",{description:`Se han registrado ${de} collares con identificador ${he}.`,icon:g.jsx(la,{className:"h-4 w-4 text-green-500"})}),await ne()}catch(Ke){console.error("Error al crear collares en lote:",Ke),yt.error("Error al crear collares.",{description:Ke.message||"Hubo un problema al procesar la solicitud de creacin masiva.",icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},pt=he=>{G({abierto:!0,collar:he})},Gn=async()=>{if(X.collar)try{await B9(X.collar.id),yt.success("Collar eliminado.",{description:`El collar con cdigo ${X.collar.codigo} ha sido eliminado.`,icon:g.jsx(Fr,{className:"h-4 w-4 text-red-500"})}),G({abierto:!1,collar:null}),await ne()}catch(he){console.error("Error al eliminar collar:",he),yt.error("Error al eliminar el collar.",{description:he.message||"No se pudo completar la eliminacin. Si est asignado, se desvincular automticamente.",icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},Hr=async he=>{q({abierto:!0,ids:he})},Xr=async()=>{try{await S6(Z.ids),yt.success("Animales eliminados.",{description:`Se eliminaron ${Z.ids.length} animales correctamente.`,icon:g.jsx(Fr,{className:"h-4 w-4 text-red-500"})}),q({abierto:!1,ids:[]}),Ve({}),await ne()}catch(he){console.error("Error al eliminar animales:",he),yt.error("Error al eliminar animales.",{description:he.message||"Ocurri un problema al eliminar los animales seleccionados.",icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},li=async he=>{F({abierto:!0,ids:he})},gr=async()=>{try{await G9(H.ids),yt.success("Collares eliminados.",{description:`Se eliminaron ${H.ids.length} collares correctamente.`,icon:g.jsx(Fr,{className:"h-4 w-4 text-red-500"})}),F({abierto:!1,ids:[]}),ee({}),await ne()}catch(he){console.error("Error al eliminar collares:",he),yt.error("Error al eliminar collares.",{description:he.message||"Ocurri un problema al eliminar los collares seleccionados.",icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},sr=_.useCallback(async he=>{try{const de=await H9(he);y({collar_id:de.id,codigo:de.codigo,estado:de.estado,bateria:de.bateria,animal_id:de.animal_id!=null?de.animal_id.toString():"UNASSIGNED",original_animal_id:de.animal_id!=null?de.animal_id.toString():"UNASSIGNED",original_estado:de.estado}),T(!0)}catch(de){console.error("Error al cargar detalles del collar:",de),yt.error("No se pudo cargar la ficha del collar.",{description:"Verifique la conexin o intente de nuevo.",icon:g.jsx(ha,{className:"h-4 w-4 text-red-500"})})}},[]),or=async he=>{try{const{collar_id:de,animal_id:Ke,original_animal_id:ft,original_estado:nt,...gt}=he;let Zt=!1;const at=gt.estado!==nt,vt=gt.bateria!==p.bateria;(at||vt)&&(await W9(de,{estado:gt.estado,bateria:gt.bateria}),Zt=!0,yt.success("Collar actualizado.",{description:`Los datos del collar ${he.codigo} han sido guardados.`,icon:g.jsx(la,{className:"h-4 w-4 text-green-500"})})),Ke!==ft?(await fR(de,Ke==="UNASSIGNED"?null:Ke),Zt=!0,yt.success("Asignacin de collar actualizada.",{description:`La asignacin del collar ${he.codigo} ha sido modificada.`,icon:g.jsx(la,{className:"h-4 w-4 text-green-500"})})):!at&&!vt&&yt.info("No se detectaron cambios en el collar.",{description:"No se realiz ninguna actualizacin.",icon:g.jsx(Ci,{className:"h-4 w-4 text-blue-500"})}),Zt&&await ne(),T(!1),y({})}catch(de){console.error("Error al guardar collar:",de);const Ke=de.message||"Hubo un problema al procesar la solicitud.";yt.error("Error al guardar el collar.",{description:Ke,icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},_n=_.useCallback(async he=>{try{const de=await $9();L(de),O(null),k({abierto:!0,animalId:he})}catch(de){console.error("Error al cargar collares disponibles:",de),yt.error("No se pudieron cargar collares disponibles para asignar.",{description:"Por favor, intente de nuevo.",icon:g.jsx(ha,{className:"h-4 w-4 text-red-500"})})}},[]),kr=async()=>{if(!I||!P.animalId){yt.error("Debe seleccionar un collar para asignar.",{icon:g.jsx(ha,{className:"h-4 w-4 text-red-500"})});return}try{await fR(parseInt(I),P.animalId),yt.success("Collar asignado.",{description:`Collar ${I} asignado al animal.`,icon:g.jsx(la,{className:"h-4 w-4 text-green-500"})}),k({abierto:!1,animalId:null}),O(null),await ne()}catch(he){console.error("Error al asignar collar:",he),yt.error("Error al asignar el collar.",{description:he.message||"Hubo un problema al procesar la asignacin.",icon:g.jsx(pn,{className:"h-4 w-4 text-red-500"})})}},Un=_.useMemo(()=>{var he;return[Ts.accessor("numero_identificacion",{header:"ID"}),Ts.accessor("nombre",{header:"Nombre"}),Ts.accessor(de=>de.collar_asignado?de.collar_asignado.codigo:null,{id:"collar_info",header:"Collar",cell:({row:de})=>{const Ke=de.original;return Ke.collar_asignado?g.jsx(st,{onClick:ft=>{ft.stopPropagation(),sr(Ke.collar_asignado.id)},className:"gap-2 h-auto bg-orange-600 hover:bg-orange-700 text-white shadow-md w-full sm:w-auto hover:underline",children:Ke.collar_asignado.codigo}):g.jsxs(st,{onClick:ft=>{ft.stopPropagation(),_n(Ke.animal_id)},className:"gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(AC,{className:"h-3 w-3"})," ",g.jsx("span",{className:"hidden md:inline",children:"Asignar"})]})},filterFn:(de,Ke,ft)=>{var gt;const nt=(gt=de.original.collar_asignado)==null?void 0:gt.codigo;return nt?nt.toLowerCase().startsWith(ft.toLowerCase()):!1}}),Ts.accessor(de=>de.parcela?de.parcela:"-",{id:"parcela",header:"Parcela",enableColumnFilter:!0,meta:{filterOptions:o.parcelas.map(de=>de.nombre)}}),Ts.accessor(de=>de.especie?de.especie:"-",{id:"especie",header:"Especie",enableColumnFilter:!0,meta:{filterOptions:o.especies.map(de=>de.nombre)}}),Ts.accessor(de=>de.raza?de.raza:"-",{id:"raza",header:"Raza",enableColumnFilter:!0,meta:{filterOptions:o.razas.map(de=>de.nombre)}}),Ts.accessor(de=>de.tipo?de.tipo:"-",{id:"tipo",header:"Tipo",enableColumnFilter:!0,meta:{filterOptions:o.tipos.map(de=>de.nombre)}}),Ts.accessor(de=>de.sexo?de.sexo:"-",{id:"sexo",header:"Sexo",enableColumnFilter:!0,meta:{filterOptions:(he=o.sexos)==null?void 0:he.map(de=>de.nombre)}}),Ts.display({id:"acciones",header:"Funciones",enableColumnFilter:!1,cell:({row:de,table:Ke})=>g.jsxs("div",{className:"flex gap-2 justify-center",children:[g.jsxs(st,{size:"icon",variant:"ghost",onClick:ft=>{ft.stopPropagation(),Fe(de.original.animal_id)},className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:[g.jsx(hv,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Editar animal"})]}),g.jsxs(st,{size:"icon",variant:"ghost",onClick:ft=>{ft.stopPropagation(),z({abierto:!0,animal:de.original})},className:"text-red-700 hover:text-red-800 hover:bg-red-50",children:[g.jsx(Fr,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Eliminar animal"})]}),!Ke.options.meta.showExpandableRows&&g.jsx(st,{size:"icon",variant:"ghost",onClick:ft=>{ft.stopPropagation(),de.toggleExpanded()},className:"text-gray-500 hover:bg-gray-100","aria-label":de.getIsExpanded()?"Colapsar detalles":"Expandir detalles",children:de.getIsExpanded()?g.jsx(cv,{className:"h-5 w-5"}):g.jsx(cc,{className:"h-5 w-5"})})]})})]},[o,Fe,sr,_n]);return _.useEffect(()=>{sessionStorage.setItem(lF,JSON.stringify({globalFilter:j,sorting:re,pagination:ce,columnFilters:ae,columnVisibility:Se}))},[j,re,ce,ae,Se]),_.useEffect(()=>{sessionStorage.setItem(cF,JSON.stringify({globalFilter:wt,sorting:Dt,pagination:Ft,columnVisibility:bt}))},[wt,Dt,Ft,bt]),g.jsxs("div",{className:"px-6 py-20 sm:px-8 md:px-10 lg:px-12 xl:px-16 bg-white min-h-screen",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:[g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(OT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-blue-800 mr-2 sm:mr-3 align-middle"}),"Gestin de Animales"]}),g.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto",children:g.jsxs(st,{onClick:ve,className:"gap-2 bg-blue-800 hover:bg-blue-700 text-white shadow-md w-full sm:w-auto",children:[g.jsx(AC,{className:"h-4 w-4"})," Nuevo Animal"]})})]}),g.jsx("div",{className:"gap-4 sm:gap-6 lg:gap-8",children:g.jsx($x,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(Bx,{className:"p-4",ref:N,children:g.jsx(JJ,{data:t,columns:Un,exportFilename:"animales",fullData:t,onRowClick:he=>console.log("Seleccionado:",he.numero_identificacion),onEditRow:Fe,onDeleteRow:he=>z({abierto:!0,animal:he}),onDeleteSelected:Hr,globalFilter:j,setGlobalFilter:pe,rowSelection:Xe,setRowSelection:Ve,sorting:re,setSorting:ie,pagination:ce,setPagination:ge,columnFilters:ae,setColumnFilters:xe,columnVisibility:Se,setColumnVisibility:Ee})})})}),g.jsx("div",{className:"mt-8 flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 gap-4",children:g.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-gray-900 leading-tight",children:[g.jsx(HT,{className:"inline-block h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-purple-600 mr-2 sm:mr-3 align-middle"}),"Gestin de Collares"]})}),g.jsx("div",{className:"mb-4 gap-4 sm:gap-6 lg:gap-8",children:g.jsx($x,{className:"p-4 shadow-lg border border-gray-200 w-full h-fit",children:g.jsx(Bx,{ref:B,children:g.jsx(See,{collares:n,onCreateBatch:zt,onDelete:pt,onDeleteSelected:li,onEditCollar:sr,fullCollarDataForExport:n,collarStatesOptions:c,onImportSuccess:ne,globalFilter:wt,setGlobalFilter:me,rowSelection:J,setRowSelection:ee,sorting:Dt,setSorting:Vt,pagination:Ft,setPagination:An,columnVisibility:bt,setColumnVisibility:$})})})}),g.jsx(As,{isOpen:C,size:"xxxxl",children:g.jsx(XZ,{animal:h,modoEdicion:v,parcelas:i,animalOptions:o,onCancel:()=>b(!1),onSave:ze})}),g.jsx(As,{isOpen:R,size:"xl",children:g.jsx(YZ,{collar:p,animals:t,collarStatesOptions:c,onCancel:()=>T(!1),onSave:or})}),g.jsx(As,{isOpen:P.abierto,title:`Asignar Collar a ${P.animalId?(Mn=t.find(he=>he.animal_id===P.animalId))==null?void 0:Mn.nombre:"animal desconocido"}`,description:"Selecciona un collar disponible para asignar a este animal.",onCancel:()=>{k({abierto:!1,animalId:null}),O(null)},onConfirm:kr,confirmText:"Asignar Collar",confirmColor:"bg-purple-600 hover:bg-purple-700",cancelText:"Cancelar",icon:g.jsx(VV,{className:"h-6 w-6 text-purple-500"}),size:"sm",message:g.jsx("div",{className:"p-4 space-y-4",children:g.jsxs("div",{children:[g.jsx(Eg,{htmlFor:"collar-select",className:"mb-2 block text-sm font-medium text-gray-700",children:"Seleccionar Collar"}),g.jsxs(bi,{onValueChange:O,value:I||"",disabled:M.length===0,children:[g.jsx(ni,{className:"w-full",children:g.jsx(Ei,{placeholder:M.length===0?"No hay collares disponibles":"Seleccionar collar"})}),g.jsx(ri,{children:M.length===0?g.jsx(Rn,{value:"no-available",disabled:!0,children:"No hay collares disponibles"}):M.map(he=>g.jsxs(Rn,{value:he.id.toString(),children:[he.codigo," (Batera: ",he.bateria,"%, Estado: ",he.estado,")"]},he.id))})]}),M.length===0&&g.jsx("p",{className:"text-sm text-red-500 mt-2",children:"No hay collares con estado 'disponible' para asignar."})]})})}),g.jsx(As,{isOpen:W.abierto,title:"Confirmar Eliminacin de Animal",onConfirm:Et,onCancel:()=>z({abierto:!1,animal:null}),confirmText:"Eliminar Animal",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(Fr,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["Ests seguro de que quieres eliminar a ",g.jsx("span",{className:"font-bold text-red-600",children:(ci=W.animal)==null?void 0:ci.nombre}),"?",g.jsx("br",{}),"Esta accin es irreversible y tambin desvincular cualquier collar asociado."]})}),g.jsx(As,{isOpen:Z.abierto,title:"Eliminar Animales Seleccionados",onConfirm:Xr,onCancel:()=>q({abierto:!1,ids:[]}),confirmText:"Eliminar",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(Fr,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["Ests seguro de que quieres eliminar ",Z.ids.length," animales seleccionados? Esta accin es irreversible."]})}),g.jsx(As,{isOpen:X.abierto,title:"Confirmar Eliminacin de Collar",onConfirm:Gn,onCancel:()=>G({abierto:!1,collar:null}),confirmText:"Eliminar Collar",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(Fr,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["Ests seguro de que quieres eliminar el collar ",g.jsx("span",{className:"font-bold text-red-600",children:(Ye=X.collar)==null?void 0:Ye.codigo}),"?",g.jsx("br",{}),"Si este collar est asignado a un animal, se desvincular automticamente."]})}),g.jsx(As,{isOpen:H.abierto,title:"Eliminar Collares Seleccionados",onConfirm:gr,onCancel:()=>F({abierto:!1,ids:[]}),confirmText:"Eliminar",confirmColor:"bg-red-600 hover:bg-red-700",cancelText:"Cancelar",confirmVariant:"destructive",icon:g.jsx(Fr,{className:"h-6 w-6 text-red-500"}),size:"md",message:g.jsxs("span",{className:"text-gray-700",children:["Ests seguro de que quieres eliminar ",H.ids.length," collares seleccionados? Se desvincularn de cualquier animal asignado."]})})]})}function bee({mapRef:t}){const e=_.useRef(null),n=_.useRef(!1),r=_.useRef({x:0,y:0}),i=_.useRef(0),s=_.useRef(0),o=.4;_.useEffect(()=>{if(!(t!=null&&t.current))return;const p=t.current.getView(),y=()=>{const v=p.getRotation();e.current&&(e.current.style.transform=`rotate(${-v}rad)`)};return y(),p.on("change:rotation",y),()=>p.un("change:rotation",y)},[t]);const l=(p,y)=>{const v=p-r.current.x,w=r.current.y-y;return Math.atan2(v,w)},c=p=>{if(!t.current)return;n.current=!0;const y=p.currentTarget.getBoundingClientRect();r.current={x:y.left+y.width/2,y:y.top+y.height/2},i.current=t.current.getView().getRotation(),s.current=l(p.clientX,p.clientY),window.addEventListener("mousemove",d),window.addEventListener("mouseup",h)},d=p=>{if(!n.current||!t.current)return;const v=l(p.clientX,p.clientY)-s.current,w=i.current+v*o;t.current.getView().setRotation(w)},h=()=>{n.current=!1,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)},f=()=>{!n.current&&t.current&&t.current.getView().setRotation(0)};return g.jsx("button",{title:"Brjula",className:"bg-white rounded-full p-3 shadow-md transition-transform select-none",onMouseDown:c,onClick:f,children:g.jsx("img",{ref:e,src:"/dist/compass.svg",alt:"Compass",className:"w-6 h-6 transition-transform pointer-events-none"})})}function Eee({mapRef:t,onToggleLayer:e=()=>{},onLocate:n=()=>{},onCenterCampo:r=()=>{}}){const i=_.useRef(null);return _.useEffect(()=>{if(!(t!=null&&t.current))return;const s=t.current.getView(),o=()=>{const l=s.getRotation();i.current&&(i.current.style.transform=`rotate(${-l}rad)`)};return s.on("change:rotation",o),()=>s.un("change:rotation",o)},[t]),g.jsxs("div",{className:"absolute top-4 left-4 z-40 flex flex-col gap-2",children:[g.jsx("button",{onClick:e,title:"Cambiar capa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(DV,{className:"w-6 h-6 text-gray-800"})}),g.jsx("button",{onClick:r,title:"Centrar en campo",className:"bg-white p-3 rounded-full shadow-md",children:g.jsx(o4,{className:"w-6 h-6"})}),g.jsx("button",{onClick:n,title:"Centrar mapa",className:"bg-white rounded-full p-3 shadow-md",children:g.jsx(WV,{className:"w-6 h-6 text-gray-800"})}),g.jsx(bee,{mapRef:t})]})}function Ree({campos:t={},campoId:e="",parcelaId:n="",parcelaNombre:r="",areaParcela:i=0,areaCampo:s=0,selectorOpen:o=!1,setSelectorOpen:l=()=>{},onSelectCampo:c=()=>{},mapRef:d=null}){const h=f=>{const p=t[f];p&&(d!=null&&d.current)&&d.current.getView().animate({center:No([p.lon,p.lat]),duration:800,easing:Pr}),c(f),l(!1),window.dispatchEvent(new Event("cerrarPopupResumen"))};return _.useEffect(()=>{const f=()=>l(!1);return window.addEventListener("closeCampoSelector",f),()=>window.removeEventListener("closeCampoSelector",f)},[]),g.jsxs("div",{className:"relative","data-testid":"campo-selector",children:[g.jsxs("button",{onClick:()=>{l(f=>{const p=!f;return p&&window.dispatchEvent(new Event("closeForm")),p})},className:"flex items-center px-4 py-2 bg-black/60 backdrop-blur-md rounded-full shadow-lg text-white text-sm hover:bg-black/70 transition-all max-w-full",children:[g.jsxs("div",{className:"flex flex-col items-center min-w-[120px] max-w-[150px]",children:[g.jsx("span",{className:"text-xs text-gray-300 truncate",children:e&&t[e]?t[e].nombre:"Creando nuevo campo"}),n&&e?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-center gap-1 flex-wrap",children:[g.jsx(dv,{size:14,className:"text-blue-400"}),g.jsx("span",{className:"text-sm truncate",children:r})]}),g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(i/1e4).toFixed(2)," ha"]})]}):e&&t[e]?g.jsxs("span",{className:"text-xs text-green-400 mt-0.5",children:[(s/1e4).toFixed(2)," ha"]}):g.jsx("span",{className:"text-xs text-green-400 mt-0.5",children:"0.00 ha"})]}),g.jsx(cc,{size:16,className:"text-white"})]}),o&&g.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-md text-sm overflow-hidden z-20 w-full",children:Object.entries(t).map(([f,p])=>g.jsx("button",{onClick:()=>h(f),disabled:f===e,className:"w-full px-4 py-2 text-left hover:bg-gray-100 disabled:text-gray-400 disabled:italic disabled:cursor-not-allowed",children:p.nombre},f))})]})}function Tee(){const{mapRef:t,ready:e}=_.useContext(Rd),{campoSeleccionado:n,setCampoSeleccionado:r,lastCampoId:i}=_.useContext(Td),[s,o]=_.useState({}),[l,c]=_.useState({}),[d,h]=_.useState({campo_id:"",parcela_id:"",nombre:"",descripcion:""}),[f,p]=_.useState(0),[y,v]=_.useState(0),[w,C]=_.useState(!1);return _.useEffect(()=>{async function b(){const R=await ja(),T=R.campo_preferido_id||Object.keys(R.campos)[0],P=n??i??T;if(P){const k=R.campos[P],M=N6("map",[k.lat,k.lon]);t.current=M,r(P),h(L=>({...L,campo_id:P}))}o(R.campos),c(R.parcelas)}b()},[]),_.useEffect(()=>{const b=()=>C(!1);return window.addEventListener("closeCampoSelector",b),()=>window.removeEventListener("closeCampoSelector",b)},[]),g.jsxs(g.Fragment,{children:[t.current&&g.jsx(Eee,{mapRef:t,onToggleLayer:()=>{const b=window.osm,R=window.esriSat;b&&R&&(b.setVisible(!b.getVisible()),R.setVisible(!R.getVisible()))},onCenterCampo:()=>{if(!t.current||!n||!s[n])return;const b=s[n];t.current.getView().animate({center:No([b.lon,b.lat]),duration:800,easing:Pr})},onLocate:()=>{navigator.geolocation&&t.current&&navigator.geolocation.getCurrentPosition(b=>{const R=[b.coords.longitude,b.coords.latitude];t.current.getView().animate({center:No(R),duration:800,easing:Pr})})}}),g.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-10",children:g.jsx(Ree,{campos:s,campoId:n,parcelaId:d.parcela_id,parcelaNombre:d.nombre,areaParcela:y,areaCampo:f,selectorOpen:w,setSelectorOpen:C,onSelectCampo:b=>{r(b),h(R=>({...R,campo_id:b,parcela_id:"",nombre:"",descripcion:""}))},mapRef:t})}),g.jsx(tO,{context:{campos:s,parcelas:l,formData:d,setFormData:h,setCampos:o,setParcelas:c,setAreaParcela:v,setAreaCampo:p}})]})}function gT(){const t=Di(),{menuOpen:e,setMenuOpen:n}=b3(),r=t.pathname==="/login";return g.jsxs(g.Fragment,{children:[!r&&g.jsx(C3,{menuOpen:e,setMenuOpen:n}),g.jsxs(rO,{children:[g.jsx(Ps,{path:"/login",element:g.jsx(R3,{})}),g.jsx(Ps,{path:"/animales",element:g.jsxs(w0,{children:[" ",g.jsx(Cee,{})," "]})}),g.jsxs(Ps,{element:g.jsx(w0,{children:g.jsx(sG,{children:g.jsx(Tee,{})})}),children:[g.jsx(Ps,{path:"/mapa",element:g.jsx(F6,{})}),g.jsx(Ps,{path:"/parcelas",element:g.jsx(I9,{})}),g.jsx(Ps,{path:"/campos",element:g.jsx(O9,{})})]}),g.jsx(Ps,{path:"/alertas",element:g.jsx(w0,{children:g.jsx(Pee,{label:"Alertas"})})}),g.jsx(Ps,{path:"*",element:g.jsx(kT,{to:"/login",replace:!0})})]}),!r&&g.jsx(E3,{setMenuOpen:n})]})}function Pee({label:t}){return g.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gray-100",children:g.jsx("h1",{className:"text-3xl font-bold",children:t})})}function w0({children:t}){const{isAuthenticated:e,loading:n}=Vm();return n?g.jsx("div",{className:"text-center text-blue-800 mt-10",children:"Verificando sesin..."}):e?t:g.jsx(kT,{to:"/login",replace:!0})}function kee(){const{isAuthenticated:t,loading:e}=Vm();return e?g.jsx("div",{className:"p-4 text-green-950",children:"Verificando sesin..."}):t?g.jsxs(oG,{children:[g.jsx(Rq,{richColors:!0,position:"top-right"}),g.jsx(gT,{})]}):g.jsx(gT,{})}xT.createRoot(document.getElementById("root")).render(g.jsx(le.StrictMode,{children:g.jsx(TO,{children:g.jsx(S3,{children:g.jsx(kee,{})})})}));
